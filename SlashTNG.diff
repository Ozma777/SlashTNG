diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\____readmeFIRST.txt SlashTNG-master\____readmeFIRST.txt
--- slashem-0.0.7E7F3\____readmeFIRST.txt	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\____readmeFIRST.txt	Mon Jan 02 19:51:20 2017
@@ -0,0 +1,9 @@
+Preset for WINNT
+so if your on another system set it for yours
+Also I have replaced slashem and slam32d with SlashTNG (directories and game name)
+
+THIS might have been a mistake since:
+	 I don't know whether other systems' game names should be changed
+ 	or build directories should be changed either
+		If I messed things up....sorry.
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\compu.des SlashTNG-master\dat\compu.des
--- slashem-0.0.7E7F3\dat\compu.des	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\compu.des	Sun Jan 01 20:42:37 2017
@@ -0,0 +1,200 @@
+# The Computer Land
+MAZE: "compu", ' '
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+|--------------------------------------------------------------------------|
+|....|.....................................................................|
+|-+--|.....................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|.....................................................................|--+-|
+|.....................................................................|....|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+DOOR:locked,(02,02)
+STAIR:(01,01),up
+DOOR:locked,(73,17)
+STAIR:(74,18),down
+
+MONSTER:'x',"PDP-9",random
+MONSTER:'x',"PDP-11",random
+MONSTER:'x',"VAX",random
+MONSTER:'x',"Cray",random
+MONSTER:'&',"news daemon",random
+MONSTER:'&',"printer daemon",random
+MONSTER:'&',"UNIX Kernel",random
+
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"heisenbug",random
+MONSTER:'x',"heisenbug",random
+
+OBJECT:'=',"timely backup",random
+OBJECT:'?',"root password detection",random
+OBJECT:'"',"amulet of data storage",random
+OBJECT:'/',"bugging",random
+
+MAZE: "compuE", ' '
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+|--------------------------------------------------------------------------|
+|....|.....................................................................|
+|-+--|.....................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|.....................................................................|--+-|
+|.....................................................................|....|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+DOOR:locked,(02,02)
+STAIR:(01,01),up
+DOOR:locked,(73,17)
+STAIR:(74,18),down
+
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'&',random,random
+MONSTER:'&',random,random
+MONSTER:'&',random,random
+
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+MONSTER:'x',random,random
+
+OBJECT:'=',"timely backup",random
+OBJECT:'?',"root password detection",random
+OBJECT:'"',"amulet of data storage",random
+OBJECT:'/',"bugging",random
+
+MAZE: "compuX", ' '
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+|--------------------------------------------------------------------------|
+|....|.....................................................................|
+|-+--|.....................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|.....................................................................|--+-|
+|.....................................................................|....|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+DOOR:locked,(02,02)
+STAIR:(01,01),up
+DOOR:locked,(73,17)
+STAIR:(74,18),down
+
+MONSTER:'x',"PDP-9",random
+MONSTER:'x',"PDP-11",random
+MONSTER:'x',"VAX",random
+MONSTER:'x',"Cray",random
+MONSTER:'&',"news daemon",random
+MONSTER:'&',"printer daemon",random
+MONSTER:'&',random,random
+
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"heisenbug",random
+MONSTER:'x',"heisenbug",random
+
+OBJECT:'=',"timely backup",random
+OBJECT:'?',"root password detection",random
+OBJECT:'"',"amulet of data storage",random
+OBJECT:'/',"bugging",random
+
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'(',"figurine",random,cursed,0
+
+OBJECT:'?',random,random
+OBJECT:'?',"root password detection",random
+# add later OBJECT:'?',"flood",random
+OBJECT:'?',random,random
+OBJECT:'?',random,random
+OBJECT:'"',"amulet of data storage",random
+OBJECT:'=',"timely backup",random
+MONSTER:';',random,random
+MONSTER:';',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+OBJECT:'%',"corpse",random
+OBJECT:'%',"corpse",random
+OBJECT:'%',"corpse",random
+OBJECT[10%]:'/',random,random
+OBJECT[10%]:'/',"bugging",random
+OBJECT[10%]:'/',random,random
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\data SlashTNG-master\dat\data
--- slashem-0.0.7E7F3\dat\data	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\data	Thu Jan 05 19:05:12 2017
@@ -0,0 +1,5906 @@
+#	This data file is generated by 'makedefs'.  Do not edit. 
+00002701
+abbathor
+0,6
+abbot
+340,11
+aerdrie faenya
+1020,10
+aclys
+aklys
+1646,4
+*leax
+1874,4
+*altar
+2112,14
+amat*rasu *
+2616,6
+amber*
+2915,5
+*amnesia
+maud
+3202,19
+~amulet of yendor
+*amulet
+amulet of *
+3786,14
+amulet of yendor
+4405,6
+angel*
+4740,12
+anhur
+5432,7
+ankh-morpork
+5856,9
+anshar
+6346,5
+ant
+* ant
+6636,4
+anu
+6844,5
+ape
+* ape
+7108,19
+apple
+8121,6
+archeologist
+* archeologist
+8413,5
+archon
+8681,17
+arioch
+9596,5
+*arrow
+9859,16
+arkenstone
+10359,6
+*shikaga *akauji
+10666,24
+asphynx
+11995,5
+athol
+12259,20
+asmodeus
+13272,4
+athame
+13473,5
+athen*
+13725,15
+axolotl
+14634,1
+babelfish
+14667,20
+bag
+bag of *
+sack
+15841,16
+b*lzebub
+16734,7
+balrog
+17130,9
+baluchitherium
+titanothere
+17634,9
+banana
+18143,18
+barbarian
+* barbarian
+18995,34
+barbed devil
+20817,2
+~mongbat
+~vampire bat
+~wombat
+*bat
+20907,9
+*boot*
+21402,10
+boulder
+21973,16
+~*longbow of diana
+bow
+* bow
+22878,14
+bec de corbin
+23607,6
+*bee
+23905,6
+*beetle
+24207,9
+beholder
+24617,11
+bell of opening
+25310,14
+blindfold
+25826,11
+blind io
+26471,9
+* blob
+gelatinous cube
+ooze
+* ooze
+* slime
+26986,17
+*pudding
+27956,23
+bone devil
+28887,2
+book of the dead
+candelabrum*
+*candle
+29003,9
+bottle
+* bottle
+29460,20
+brigit
+30069,11
+~stormbringer
+*broadsword
+30688,5
+bug
+30827,7
+bugbear
+31262,21
+bugle
+32419,9
+byakhee
+32710,5
+*camaxtli
+32998,7
+candy bar
+33402,18
+s*d*g*r* cat
+34478,15
+*cat
+kitten
+35432,11
+cave*man
+human cave*man
+36005,13
+*centaur
+36723,17
+centipede
+37722,11
+*erberus
+kerberos
+38289,7
+chameleon
+38694,11
+*haro*n
+39348,7
+chest
+large box
+39734,19
+chih*sung*tzu
+40830,1
+*hromatic *ragon
+tiamat
+40851,16
+~elven cloak
+~oilskin cloak
+*cloak*
+41822,12
+cloud*
+42538,7
+cobra
+42808,16
+cockatrice
+basilisk
+43688,23
+chickatrice
+44893,4
+pyrolisk
+45078,4
+cornuthaum
+45321,19
+couatl
+46270,10
+coyote
+46873,2
+cram*
+46969,6
+creeping 42
+47312,5
+Cray
+47600,9
+*crocodile
+48097,5
+croesus
+kroisos
+creosote
+48358,8
+crom
+48798,10
+crossbow*
+49279,6
+crystal ball
+49492,5
+ct*ul*u
+kt*ul*u
+cht*ul*u
+kht*ul*u
+49760,18
+curse*
+50660,12
+cwn*n
+51258,8
+cyclops
+51721,31
+~sting
+*dagger
+52976,10
+dark one
+53380,8
+deep* one
+53818,9
+Deep Thought
+54373,110
+demogorgon
+57687,4
+demon
+57908,9
+*deva
+58420,8
+planetar
+58872,3
+solar
+59058,4
+dingo
+59305,4
+disenchanter
+59523,1
+dispater
+59597,2
+djinn*
+59676,8
+~hachi
+~slasher
+~sirius
+*dog
+pup*
+60164,6
+shadow wolf
+60488,4
+mist wolf
+60725,5
+*drum*
+61017,7
+~trap*door
+*door
+doorway
+61387,11
+doppelganger
+61840,27
+Douglas Adams
+63062,7
+~komodo*
+*dragon
+*xoth
+63444,18
+dumathoin
+64451,6
+~dwarf ??m*
+dwarf*
+dwar* cave*man
+64822,21
+earendil
+elwing
+66060,15
+earth
+66966,2
+Eddie
+67041,22
+eel
+giant eel
+67913,9
+egg
+68404,7
+elbereth
+68787,20
+electric eel
+69530,5
+*elemental
+69821,5
+~elf ??m*
+~elf* cl*
+*elf*
+elvenking
+70124,19
+elf* cl*
+elv* cl*
+71186,10
+emerald
+71748,18
+erinys
+erinyes
+72213,2
+ettin
+72340,2
+excalibur
+72465,14
+expensive camera
+73260,11
+eye of the aethiopica
+73892,8
+father dagon
+mother hydra
+74325,8
+fauchard
+74799,6
+eyes of the overworld
+75132,6
+figurine*
+75494,11
+fire vampire
+76114,3
+floating eye
+76270,7
+flesh golem
+*frank*n*st*n*
+76669,21
+*flute
+77817,5
+fog cloud
+78015,8
+Ford Perfect
+Ford Prefect
+78160,20
+fountain
+79108,15
+fox
+79607,22
+*fung*
+80849,21
+*gargoyle
+82025,14
+gas spore*
+82766,7
+*garlic
+83162,20
+geryon
+84302,3
+*ghost
+84454,10
+ghoul*
+85023,16
+*giant
+giant humanoid
+85928,6
+gila*
+86279,8
+komodo*
+86791,22
+glaive
+88238,7
+deep gnome
+88673,14
+~gnome ??m*
+gnome*
+gnomish wizard
+gnom* cave*man
+89567,28
+goblin
+91080,10
+god
+goddess
+91608,13
+gold
+gold piece
+zorkmid
+92394,9
+gold golem
+92858,10
+~gold golem
+~flesh golem
+*golem
+93424,18
+grave
+94440,5
+grayswandir
+94645,6
+*grease
+95003,3
+*green glass
+silver ring
+95142,21
+gremlin
+95788,13
+grid bug
+96445,13
+lightning bug
+arc bug
+spark bug
+97144,2
+gug
+97269,5
+guisarme
+97544,6
+gunyoki
+97913,2
+hachi
+98024,8
+*harp
+98502,22
+halberd
+99714,12
+healer
+* healer
+attendant
+doctor
+physician
+100475,20
+heart of ahriman
+101610,19
+hell hound*
+102731,8
+hermes
+103195,15
+hezrou
+104107,2
+heisenbug
+104223,14
+hippocrates
+104975,11
+hobbit
+105573,10
+hobgoblin
+106165,23
+holy water
+107412,22
+hom*nculus
+108542,13
+*hook
+109201,9
+~unicorn horn
+*horn
+109681,9
+horned devil
+110072,2
+~horsem*
+*horse
+110162,8
+*horsem*
+rider*
+death
+famine
+pestilence
+war
+hunger
+110571,26
+huan*ti
+111961,5
+hu*h*eto*l
+minion of huhetotl
+112263,6
+humanoid
+112596,5
+human
+chieftain
+guard
+ninja
+nurse
+page
+ronin
+shopkeeper
+student
+thug
+warrior
+*watch*
+player
+112858,7
+hunter
+113263,9
+ice devil
+113612,4
+ice mag*
+113815,9
+imp
+114341,13
+incubus
+succubus
+114991,4
+*iron ball
+*iron chain
+115200,11
+ishtar
+115782,7
+issek
+116149,13
+izchak
+116899,19
+jabberwock
+vorpal*
+118089,20
+jackal
+118709,13
+jade*
+119433,10
+jaguar
+120007,4
+jellyfish
+120225,5
+juiblex
+jubilex
+120402,6
+kabuto
+120744,19
+kamadan
+121888,5
+katana
+122173,3
+ki-rin
+122340,4
+king arthur
+*arthur
+122559,23
+knife
+stiletto
+123759,15
+knight
+* knight
+124359,10
+~kobold ??m*
+*kobold*
+124710,5
+*kop*
+124979,28
+kos
+126636,6
+koto
+126951,1
+kraken
+126969,8
+*lady
+offler
+127427,30
+*lamp
+128742,15
+lance
+129434,14
+leash
+130212,9
+lembas*
+130744,18
+lemba*
+131767,17
+lemure
+132794,1
+leocrotta
+leu*otta
+132836,7
+*leprechaun*
+133224,18
+lethe
+sparkling water
+134226,4
+*lich
+134455,18
+lichen
+135581,7
+~* of light
+* light
+135940,3
+gecko
+iguana
+lizard
+136066,9
+loki
+136593,14
+*longbow of diana
+137395,2
+looking glass
+mirror
+137532,13
+lord carnarvon
+137982,8
+lord sato
+138444,3
+lord surt*
+138622,9
+lug
+lugh
+139103,8
+lurker*
+139576,3
+lycanthrope
+were*
+human were*
+*were
+139732,17
+lynx
+140725,6
+magic marker
+141047,2
+magic mirror of merlin
+141125,3
+mail d*emon
+141302,2
+ma*annan*
+141392,7
+manes
+141757,2
+mangler
+141832,8
+marduk
+142162,10
+marilith
+142728,5
+mars
+142980,7
+master assassin
+143377,19
+master key of thievery
+144280,5
+master of thieves
+144563,11
+mastodon
+145187,14
+meat*
+huge chunk of meat
+145912,5
+medusa
+146081,22
+melon
+147274,10
+mercury
+147805,3
+migo*
+mi-go*
+147960,7
+*mimic
+148351,6
+*mind flayer
+148695,6
+mine*
+149029,12
+minotaur
+149745,9
+mit*ra*
+150242,16
+*mithril*
+151090,6
+*mitre of holiness
+151425,4
+mjollnir
+151671,14
+~slime mold
+*mold
+152511,6
+mol?ch
+152844,16
+moradin
+153680,7
+mongbat
+154113,12
+monk
+* monk
+grand master
+master kaen
+154570,37
+monkey
+156340,15
+mumak*
+giant mumak
+157242,8
+*mummy
+157698,14
+mummy wrapping
+158440,15
+*naga*
+*naja*
+159280,4
+naginata
+159521,18
+nalfeshnee
+160468,2
+nalzok
+160586,7
+neanderthal*
+160989,3
+neferet
+neferet the green
+161168,7
+newt
+161578,13
+ninja-to
+162021,1
+*nkia
+*n'kai
+162045,5
+*norn
+162358,14
+nunchaku
+163108,1
+*nymph
+163127,23
+odin
+164417,22
+ogre*
+165636,16
+oilskin cloak
+166535,9
+oilskin sack
+167050,9
+olog-hai
+167541,13
+oracle
+delphi
+p*thia
+168335,9
+orange
+pear
+168814,11
+pyrolisk
+169439,13
+*orb of detection
+170200,4
+orb of fate
+170417,7
+goblin king
+orcrist
+170817,9
+orcus
+171319,3
+~orc ??m*
+~orcish barbarian
+~orcish ranger
+~orcish rogue
+~orcish wizard
+orc*
+* orc
+171496,15
+orion
+sirius
+172338,19
+osaku
+173300,1
+owlbear
+173346,6
+panther
+173659,9
+pelias
+173978,18
+PDP-*
+174982,22
+phase spider
+176279,18
+pick*ax*
+177293,5
+*piercer
+177476,8
+piranha
+177883,8
+pit
+spiked pit
+178308,10
+pit fiend
+178887,4
+pixie*
+fairy
+fairies
+179074,5
+platinum yendorian express card
+179309,7
+pony
+179699,14
+*portal
+180332,6
+poseido*n
+180672,17
+*potion*
+181596,12
+priest*
+* priest*
+acolyte
+182261,16
+prisoner
+183211,15
+Prostetnik Vogon Jeltz
+183570,13
+ptah
+184236,9
+*purple worm
+184713,6
+quadruped
+185044,5
+quantum mechanic
+185335,2
+quasit
+185451,2
+quest
+185571,13
+quetzalcoatl
+186304,13
+quit*
+187093,8
+raijin
+raiden
+187439,1
+ranger
+* ranger
+187460,14
+ranseur
+188287,10
+rat
+* rat
+188923,13
+raven
+189582,7
+*ring
+ring of *
+189988,9
+robe
+190420,11
+rock
+191007,21
+rock mole
+192215,6
+rogue
+* rogue
+192557,11
+rothe
+193184,3
+Ruggo
+?nome king
+193326,8
+*royal jelly
+193782,14
+rust monster
+194353,3
+*saber
+*sabre
+194494,14
+saddle
+194902,9
+sake
+195170,1
+salamander
+195191,7
+samurai
+* samurai
+195542,11
+sandestin
+196205,31
+sasquatch
+197544,18
+*sceptre of might
+198623,6
+scimitar
+198926,5
+scorpio*
+199181,5
+scorpius
+199455,6
+*scroll
+scroll *
+199810,18
+shad*
+200614,4
+shaman karnov
+200807,3
+shan*lai*ching
+200962,5
+shark
+201220,15
+shito
+202000,1
+*shoggoth
+*shuggoth
+202028,16
+shrieker
+202928,7
+silver
+203337,6
+skeleton
+203635,4
+slasher
+203878,17
+slime mold
+204856,10
+smaug
+205416,8
+sling
+205868,11
+*snake
+serpent
+water moccasin
+python
+pit viper
+206405,24
+snickersnee
+207803,6
+sokoban
+208019,5
+*soldier
+sergeant
+lieutenant
+captain
+208236,8
+*spear
+javelin
+208696,18
+*spellbook*
+209727,16
+giant spider
+*spider
+210611,10
+shelob
+211041,8
+spell
+211515,14
+*spore
+*sphere
+212312,4
+~*aesculapius
+*staff
+212492,18
+*staff of aesculapius
+213580,5
+stair*
+213851,20
+star vampire
+214884,5
+~statue trap
+statue*
+215183,17
+sting
+216197,12
+stormbringer
+216817,49
+susano*o
+219371,6
+tanko
+219676,1
+tengu
+219734,7
+thorin
+220126,3
+thoth
+220322,19
+thoth*amon
+221380,5
+*throne
+221632,16
+tiger
+222297,12
+tin
+tin of *
+tinning kit
+222795,8
+tin opener
+223131,20
+titan
+224062,11
+touch*stone
+224656,2
+tourist
+* tourist
+224728,18
+towel
+Ravenous Bugblatter Beast Of Traal
+225691,20
+*tower
+226769,7
+trap*door
+227176,8
+trapper
+227632,5
+tree
+227935,13
+tripe
+tripe ration
+228363,10
+*troll
+228955,15
+*tsurugi of muramasa
+229778,5
+~*muramasa
+tsurugi
+230083,6
+twoflower
+guide
+230392,23
+tyr
+231407,14
+*hulk
+232215,5
+*unicorn
+unicorn horn
+232485,26
+*UNIX*
+233900,16
+uruk*hai
+234912,10
+valkyrie
+* valkyrie
+235432,13
+vampire
+vampire bat
+vampire lord
+236077,6
+VAX
+236350,9
+venus
+236908,11
+vlad*
+237518,9
+vogon
+vogon lord
+238063,22
+*vortex
+vortices
+239300,6
+voulge
+239641,6
+vrock
+240017,4
+wakizashi
+240211,2
+walking disk drive
+240324,15
+wand of *
+*wand
+241288,10
+warg
+241865,17
+~mjollnir
+war*hammer
+242713,13
+water
+243465,11
+web
+243760,3
+*wight
+243864,9
+~gnomish wizard
+wizard
+* wizard
+apprentice
+244358,8
+rodney
+wizard of yendor
+244819,10
+wolf
+*wolf
+*wolf cub
+245399,5
+woodchuck
+245652,13
+worm
+long worm
+long worm tail
+worm tooth
+crysknife
+246283,6
+wraith
+nazgul
+246615,17
+wumpus
+247581,6
+xan
+247895,12
+xorn
+248520,5
+ya
+248785,2
+yeenoghu
+248896,5
+yeti
+249161,15
+*yugake
+250032,3
+yumi
+250217,4
+*zombie
+250426,5
+zruty
+250670,2
+.
+250763,0
+	Abbathor is the sole evil dwarven god, the great master of the
+	greed and avarice that plagues so many of that otherwise noble
+	race. He is a hunched, twisted creature, warped by his own
+	greeds, jealousies, and desires. Like many other deities, his
+	name is often invoked by followers of other gods to keep him away
+	from one's treasure.
+	For it had been long apparent to Count Landulf that nothing
+	could be done with his seventh son Thomas, except to make him
+	an Abbot or something of that kind.  Born in 1226, he had from
+	childhood a mysterious objection to becoming a predatory eagle,
+	or even to taking an ordinary interest in falconry or tilting
+	or any other gentlemanly pursuits.  He was a large and heavy and
+	quiet boy, and phenomenally silent, scarcely opening his mouth
+	except to say suddenly to his schoolmaster in an explosive
+	manner, "What is God?"  The answer is not recorded but it is
+	probable that the asker went on worrying out answers for himself.
+		[ The Runaway Abbot, by G. K. Chesterton ]
+	Aerdrie  Faenya is the elven goddess of air and weather. As a rain-
+	bringer, she is revered as a source of fertility.  She is, however,
+	perceived as a somewhat distant  goddess, and the fact that she  is
+	also revered by some aarakocra slightly diminishes the  strength of
+	elven  devotion to  her (as does  her definite  neutral tendency in
+	alignment). The goddess  herself takes  delight in  the freedom  of
+	the skies, the music  of wind instruments,  and (sometimes)  fairly
+	severe and  violent thunderstorms. She is  friendly to all  avians,
+	aarakocra, ki-rin, and lammasu.
+					 [ Monster Mythology, by TSR inc. ]
+	A short studded or spiked club attached to a cord allowing
+	it to be drawn back to the wielder after having been thrown.
+	It should not be confused with the atlatl, which is a device
+	used to throw spears for longer distances.
+	An Aleax,  according to the  AD&D Fiend Folio,  is a  creature that
+	looks exactly  like the character, and  is sent  by the character's
+	god to  punish alignment violations. Obviously  - and  luckily - in
+	Nethack this is not the case.
+	Altars are of three types:
+	1.  In Temples.  These are for Sacrifices [...].  The stone
+	top will have grooves for blood, and the whole will be covered
+	with _dry brown stains of a troubling kind_ from former
+	Sacrifices.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+
+	To every man upon this earth
+	Death cometh soon or late;
+	And how can man die better
+	Than facing fearful odds
+	For the ashes of his fathers
+	And the temples of his gods?
+		[ Lays of Ancient Rome, by Thomas B. Macaulay ]
+	The Shinto sun goddess, Amaterasu Omikami is the central
+	figure of Shintoism and the ancestral deity of the imperial
+	house.  One of the daughters of the primordial god Izanagi
+	and said to be his favourite offspring, she was born from
+	his left eye.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	"Tree sap," Wu explained, "often flows over insects and traps
+	them.  The insects are then perfectly preserved within the
+	fossil.  One finds all kinds of insects in amber - including
+	biting insects that have sucked blood from larger animals."
+		[ Jurassic Park, by Michael Crichton ]
+	Get thee hence, nor come again,
+	Mix not memory with doubt,
+	Pass, thou deathlike type of pain,
+	Pass and cease to move about!
+	'Tis the blot upon the brain
+	That will show itself without.
+		...
+	For, Maud, so tender and true,
+	As long as my life endures
+	I feel I shall owe you a debt,
+	That I never can hope to pay;
+	And if ever I should forget
+	That I owe this debt to you
+	And for your sweet sake to yours;
+	O then, what then shall I say? -
+	If ever I should forget,
+	May God make me more wretched
+	Than ever I have been yet!
+		[ Maud, And Other Poems by Alfred, Lord Tennyson ]
+	"The complete Amulet can keep off all the things that make
+	people unhappy -- jealousy, bad temper, pride, disagreeableness,
+	greediness, selfishness, laziness.  Evil spirits, people called
+	them when the Amulet was made.  Don't you think it would be nice
+	to have it?"
+	"Very," said the children, quite without enthusiasm.
+	"And it can give you strength and courage."
+	"That's better," said Cyril.
+	"And virtue."
+	"I suppose it's nice to have that," said Jane, but not with much
+	interest.
+	"And it can give you your heart's desire."
+	"Now you're talking," said Robert.
+		[ The Story of the Amulet, by Edith Nesbit ]
+	This mysterious talisman is the object of your quest.  It is
+	said to possess powers which mere mortals can scarcely
+	comprehend, let alone utilize.  The gods will grant the gift of
+	immortality to the adventurer who can deliver it from the
+	depths of Moloch's Sanctum and offer it on the appropriate high
+	altar on the Astral Plane.
+	He answered and said unto them, he that soweth the good seed
+	is the Son of man; the field is the world, and the good seed
+	are the children of the kingdom; but the weeds are the
+	children of the wicked one; the enemy that sowed them is the
+	devil; the harvest is the end of the world; and the reapers
+	are the angels.  As therefore the weeds are gathered and
+	burned in the fire; so shall it be in the end of this world.
+	[...]  So shall it be at the end of the world; the angels
+	shall come forth, and sever the wicked from among the just,
+	and shall cast them into the furnace of fire; there shall be
+	wailing and gnashing of teeth.
+		[ The Gospel According to Matthew, 13:37-42, 49-50 ]
+	An Egyptian god of war and a great hunter, few gods can match
+	his fury.  Unlike many gods of war, he is a force for good.
+	The wrath of Anhur is slow to come, but it is inescapable
+	once earned.  Anhur is a mighty figure with four arms.  He
+	is often seen with a powerful lance that requires both of
+	his right arms to wield and which is tipped with a fragment
+	of the sun.  He is married to Mehut, a lion-headed goddess.
+	The twin city of Ankh-Morpork, foremost of all the cities
+	bounding the Circle Sea, was as a matter of course the home
+	of a large number of gangs, thieves' guilds, syndicates and
+	similar organisations.  This was one of the reasons for its
+	wealth.  Most of the humbler folk on the widdershin side of
+	the river, in Morpork's mazy alleys, supplemented their
+	meagre incomes by filling some small role for one or other
+	of the competing gangs.
+		[ The Colour of Magic by Terry Pratchett ]
+	A primordial Babylonian-Akkadian deity, Anshar is mentioned
+	in the Babylonian creation epic _Enuma Elish_ as one of a
+	pair of offspring (with Kishar) of Lahmu and Lahamu.  Anshar
+	is linked with heaven while Kishar is identified with earth.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	This giant variety of the ordinary ant will fight just as
+	fiercely as its small, distant cousin.  Various varieties
+	exist, and they are known and feared for their relentless
+	persecution of their victims.
+	Anu was the Babylonian god of the heavens, the monarch of
+	the north star.  He was the oldest of the Babylonian gods,
+	the father of all gods, and the ruler of heaven and destiny.
+	Anu features strongly in the _atiku_ festival in
+	Babylon, Uruk and other cities.
+	The most highly evolved of all the primates, as shown by
+	all their anatomical characters and particularly the
+	development of the brain.  Both arboreal and terrestrial,
+	the apes have the forelimbs much better developed than
+	the hind limbs.  Tail entirely absent.  Growth is slow
+	and sexual maturity reached at quite an advanced age.
+	[ A Field Guide to the Larger Mammals of Africa by Dorst ]
+
+	Aldo the gorilla had a plan.  It was a good plan.  It was
+	right.  He knew it.  He smacked his lips in anticipation as
+	he thought of it.  Yes.  Apes should be strong.  Apes should
+	be masters.  Apes should be proud.  Apes should make the
+	Earth shake when they walked.  Apes should _rule_ the Earth.
+		[ Battle for the Planet of the Apes,
+			by David Gerrold ]
+	Four-handed, tailless,  mammal of  the  order of  Primates, of  the
+	sub-order  of _Anthropoidea_,  which of  all  mammals most  closely
+	resembles man (both in appearance and in behaviour).
+			  [ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	NEWTONIAN, adj.  Pertaining to a philosophy of the universe
+	invented by Newton, who discovered that an apple will fall
+	to the ground, but was unable to say why.  His successors
+	and disciples have advanced so far as to be able to say
+	when.
+		[ The Devil's Dictionary, by Ambrose Bierce ]
+	Archeology is the search for fact, not truth. [...] 
+	So forget any ideas you've got about lost cities, exotic travel, 
+	and digging up the world. We do not follow maps to buried 
+	treasure, and X never, ever, marks the spot.
+		[ Indiana Jones and the Last Crusade ]
+	Archons are the predominant inhabitants of the heavens.
+	However unusual their appearance, they are not generally
+	evil.  They are beings at peace with themselves and their
+	surroundings.
+
+	Archons are the primary  inhabitants of the Seven Heavens. The five
+	varieties of archon (Lantern, Hound,  Warden, Sword, and Tome) have
+	wholly different appearances.  The various types look like  spheres
+	of  light,   dog-faced  humanoids,   bear-like  humanoids,   winged
+	humanoids,  and hawk-like humanoids respectively. Although there is
+	a distinct  hierarchy among the varieties,  there is  no rivalry or
+	jealousy  there.  Each  has  his   role  to  fulfil  and   that  is
+	recognition enough for an archon.
+	However strange  and frightening  their  appearance, archons  never
+	seem evil. Rather, they appear  as beings at peace  with themselves
+	and their environment.
+					[ Monstrous Compendium 8, by TSR inc. ]
+	Arioch, the patron demon of Elric's ancestors; one of the most
+	powerful of all the Dukes of Hell, who was called Knight of
+	the Swords, Lord of the Seven Darks, Lord of the Higher Hell
+	and many more names besides.
+		[ Elric of Melnibone, by Michael Moorcock ]
+	I shot an arrow into the air,
+	It fell to earth, I knew not where;
+	For, so swiftly it flew, the sight
+	Could not follow it in its flight.
+
+	I breathed a song into the air,
+	It fell to earth, I knew not where;
+	For who has sight so keen and strong
+	That it can follow the flight of song?
+
+	Long, long afterward, in an oak
+	I found the arrow still unbroke;
+	And the song, from beginning to end,
+	I found again in the heart of a friend.
+		[ The Arrow and the Song,
+		  by Henry Wadsworth Longfellow ]
+	Arkenstone, Heart of the Mountain, property of the King
+	under the Mountain, is the most valued jewel that the
+	dwarves possess. It shines white light that can guide
+	your steps in the darkness, and carrying it is said
+	to increase your carrying capacity. When invoked it
+	will reveal the gold around you.
+	Ashikaga Takauji was a daimyo of the Minamoto clan who
+	joined forces with the Go-Daigo to defeat the Hojo armies.
+	Later when Go-Daigo attempted to reduce the powers of the
+	samurai clans he rebelled against him.  He defeated Go-
+	Daigo and established the emperor Komyo on the throne.
+	Go-Daigo eventually escaped and established another
+	government in the town of Yoshino.  This period of dual
+	governments was known as the Nambokucho.
+	[ Samurai - The Story of a Warrior Tradition, by Cook ]
+	On July 8, 1336,  he and his samurai entered Kyoto, forced Go-Daigo
+	to retire,  after which  he seized  power himself  and installed  a
+	puppet prince on the throne  (the current Japanese  imperial family
+	are  the   descendants  of  this   puppet  emperor  that   Ashikaga
+	installed).
+
+	Go-Daigo escaped,  though, wouldn't  admit to  have been  defeated,
+	and  opened a new "capital"  in Yoshino (south of  Kyoto), where he
+	and few  of his  descendants claimed  to be  running a  government,
+	known as  the "Southern Court". The  period between  1337 and 1392,
+	when Japan was ruled by two courts, is known as the Nambokucho.
+
+	That "government" disappeared, naturally, after a  few generations,
+	and Ashikaga's  Muromachi regime lasted for  a long  time. The last
+	Ashikaga daimyo in power was the 14th descendant of Takauji.
+	This small,  inoffensive-looking snake shares the feared power
+	of petrification with its distant relatives the cockatrice and
+	basilisk. Just one touch from its blunt snout  can render  one
+	motionless for all eternity.
+		[ The New Bestiary, Wizard Endlebrook ]
+	In 1927, zoologist Ernst Bartels was in his home near the 
+	Tjidjenkol River in Java when he heard a strange cry louder than 
+	the other night sounds, a cry like "a-hool."
+	Bartels heard the sound twice more before the origin of the cries 
+	moved off into the night. Bartels soon remembered a local legend 
+	of the ahool or athol, a type of huge bat reputed to live in 
+	the area.
+
+	Locals described the bat as the size of a small child, with 
+	an 11-12 foot wingspan. The athol was supposedly covered in 
+	grayish fur and had a face similar to that of a monkey or a man. 
+	At times, it was seen sitting on the forest floor, with its wings 
+	folded beside it; it was also reputed to have feet which pointed
+	backwards. During the day (like all bats, it was nocturnal), the 
+	athol's refuge was supposedly a cave somewhere near a waterfall, 
+	although at night it would fly over the river's surface in
+	search of fish.
+
+		[ "A Belfry of Crypto-bats." by Shuker, Dr. Karl P.N. 
+		Fortean Studies 1, pp. 235-245. ]
+	It is said that Asmodeus is the overlord over all  of  hell.
+	His  appearance,  unlike  many  other  demons and devils, is
+	human apart from his horns and tail.  He  can  freeze  flesh
+	with a touch.
+	The consecrated ritual knife of a Wiccan initiate (one of
+	four basic tools, together with the wand, chalice and
+	pentacle).  Traditionally, the athame is a double-edged,
+	black-handled, cross-hilted dagger of between six and
+	eighteen inches length.
+	Athene was the offspring of Zeus, and without a mother.  She
+	sprang forth from his head completely armed.  Her favourite
+	bird was the owl, and the plant sacred to her is the olive.
+		[ Bulfinch's Mythology by Thomas Bulfinch ]
+	Athena, the  Greek goddess of war and peace, the peaceful arts, and
+	wisdom.  Patron defender of many Greek cities, Athens in particular
+	(then called Pallas Athena),  she is a major  goddess of the  Greek
+	pantheon  and, according to Hesiod, the daughter  of Metis (Wisdom)
+	and Zeus, born fully  armed from his head. A goddess of  battle and
+	allegedly  a snake  goddess,  she is  a deity  who also  stands for
+	discipline against  the more unruly conduct  of such  as Hermes and
+	Poseidon.
+	Her  symbol is the Aegis,  the skin of  a sacrificial  goat. She is
+	also associated with ship-building and domestic crafts.
+			  [ after the Encyclopedia of Gods, by Michael Jordan ]
+	A mundane salamander, harmless.
+		"The Babel fish," said The Hitch  Hiker's Guide  to  the  Galaxy
+		quietly,  "is  small,  yellow  and  leech-like, and probably the
+		oddest thing in the Universe. It feeds on brainwave  energy  not
+		from  its  carrier  but  from  those around  it.  It absorbs all
+		unconscious mental frequencies  from this  brainwave  energy  to
+		nourish  itself  with.  It then  excretes  into  the mind of its
+		carrier a telepathic matrix formed  by  combining the  conscious
+		thought frequencies with nerve signals picked up from the speech
+		centres of the brain which  has  supplied  them.  The  practical
+		upshot of all this is that if you stick a Babel fish in your ear
+		you can instantly understand anything said to you in any form of
+		language.  The  speech  patterns  you actually  hear  decode the
+		brainwave matrix which has been fed into your mind by your Babel
+		fish.
+		[...] 
+		"Meanwhile, the poor Babel  fish, by  effectively  removing  all
+		barriers  to communication between different races and cultures,
+		has caused more and bloddier wars  than  anything  else  in  the
+		history of creation."
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+	"Now, this third handkerchief," Mein Herr proceeded, "has also
+	four edges, which you can trace continuously round and round:
+	all you need do is to join its four edges to the four edges of
+	the opening.  The Purse is then complete, and its outer
+	surface--"
+	"I see!" Lady Muriel eagerly interrupted.  "Its outer surface
+	will be continuous with its inner surface!  But it will take
+	time. I'll sew it up after tea."  She laid aside the bag, and
+	resumed her cup of tea.  "But why do you call it Fortunatus's
+	Purse, Mein Herr?"
+	The dear old man beamed upon her, with a jolly smile, looking
+	more exactly like the Professor than ever.  "Don't you see,
+	my child--I should say Miladi?  Whatever is inside that Purse,
+	is outside it; and whatever is outside it, is inside it.  So
+	you have all the wealth of the world in that leetle Purse!"
+		[ Sylvie and Bruno Concluded, by Lewis Carroll ]
+	The "lord of the flies" is a translation of the Hebrew
+	Ba'alzevuv (Beelzebub in Greek).  It has been suggested that
+	it was a mistranslation of a mistransliterated word which
+	gave us this pungent and suggestive name of the Devil, a
+	devil whose name suggests that he is devoted to decay,
+	destruction, demoralization, hysteria and panic...
+		[ Notes on _Lord of the Flies_, by E. L. Epstein ]
+	...  It came to the edge of the fire and the light faded as
+	if a cloud had bent over it.  Then with a rush it leaped
+	the fissure.  The flames roared up to greet it, and wreathed
+	about it; and a black smoke swirled in the air.  Its streaming
+	mane kindled, and blazed behind it.  In its right hand
+	was a blade like a stabbing tongue of fire; in its left it
+	held a whip of many thongs.
+	'Ai, ai!' wailed Legolas.  'A Balrog!  A Balrog is come!'
+		   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Extinct rhinos include a variety of forms, the most
+	spectacular being _Baluchitherium_ from the Oligocene of
+	Asia, which is the largest known land mammal.  Its body, 18
+	feet high at the shoulder and carried on massive limbs,
+	allowed the 4-foot-long head to browse on the higher branches
+	of trees.  Though not as enormous, the titanotheres of the
+	early Tertiary were also large perissodactyls, _Brontotherium_
+	of the Oligocene being 8 feet high at the shoulder.
+		[ Prehistoric Animals, by Barry Cox ]
+	He took another step and she cocked her right wrist in
+	viciously.  She heard the spring click.  Weight slapped into
+	her hand.
+	"Here!" she shrieked hysterically, and brought her arm up in
+	a hard sweep, meaning to gut him, leaving him to blunder
+	around the room with his intestines hanging out in steaming
+	loops.  Instead he roared laughter, hands on his hips,
+	flaming face cocked back, squeezing and contorting with great
+	good humor.
+	"Oh, my dear!" he cried, and went off into another gale of
+	laughter.
+	She looked stupidly down at her hand.  It held a firm yellow
+	banana with a blue and white Chiquita sticker on it.  She
+	dropped it, horrified, to the carpet, where it became a
+	sickly yellow grin, miming Flagg's own.
+	"You'll tell," he whispered.  "Oh yes indeed you will."
+	And Dayna knew he was right.
+		[ The Stand, by Stephen King ]
+	They dressed alike -- in buckskin boots, leathern breeks and
+	deerskin shirts, with broad girdles that held axes and short
+	swords; and they were all gaunt and scarred and hard-eyed;
+	sinewy and taciturn.
+	They were wild men, of a sort, yet there was still a wide
+	gulf between them and the Cimmerian.  They were sons of
+	civilization, reverted to a semi-barbarism.  He was a
+	barbarian of a thousand generations of barbarians.  They had
+	acquired stealth and craft, but he had been born to these
+	things.  He excelled them even in lithe economy of motion.
+	They were wolves, but he was a tiger.
+		[ Conan - The Warrior, by Robert E. Howard ]
+	Hrun the  Barbarian crept  soundlessly along  the corridors,  which
+	were lit  with a  light so  violet that  it was  almost black.  his
+	earlier  confusion was  gone. This was obviously  a magical temple,
+	and that explained everything.
+	   ...
+	Observe Hrun,  as he leaps  cat-footed across  a suspicious  tunnel
+	mouth. Even in this violet light his skin gleams  coppery. There is
+	much  gold about his person, in  the form of anklets and wristlets,
+	but otherwise  he is naked except  for a  leopardskin loincloth. He
+	took  that in the  steaming forests  of Howondaland,  after killing
+	its owner with his teeth.
+	In his right hand  he carried the magical black sword  Kring, which
+	was  forged  from a  thunderbolt  and has  a  soul  but suffers  no
+	scabbard. Hrun  had  stolen it  only  three  days before  from  the
+	impregnable  palace  of the  Archmandrite of  B'Ituni,  and  he was
+	already regretting it. It was beginning to get on his nerves.
+	"I tell you  it went down that last  passage on the  right," hissed
+	Kring in a voice like the scrape of a blade over stone.
+	"Be silent!"
+	"All I said was -"
+	"Shut up!"
+				[ The colour of Magic, by Terry Pratchett ]
+	Barbed devils lack any real special abilities, though they
+	are quite difficult to kill.
+	A bat, flitting in the darkness outside, took the wrong turn
+	as it made its nightly rounds and came in through the window
+	which had been left healthfully open.  It then proceeded to
+	circle the room in the aimless fat-headed fashion habitual
+	with bats, who are notoriously among the less intellectually
+	gifted of God's creatures.  Show me a bat, says the old
+	proverb, and I will show you something that ought to be in
+	some kind of a home.
+		[ A Pelican at Blandings, by P. G. Wodehouse ]
+	In Fantasyland these are remarkable in that they seldom or
+	never wear out and are suitable for riding or walking in
+	without the need of Socks.  Boots never pinch, rub, or get
+	stones in them; nor do nails stick upwards into the feet from
+	the soles.  They are customarily mid-calf length or knee-high,
+	slip on and off easily and never smell of feet.  Unfortunately,
+	the formula for making this splendid footwear is a closely
+	guarded secret, possibly derived from nonhumans (see Dwarfs,
+	Elves, and Gnomes).
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	I worked the lever well under, and stretched my back; the end
+	of the stone rose up, and I kicked the fulcrum under.  Then,
+	when I was going to bear down, I remembered there was
+	something to get out from below; when I let go of the lever,
+	the stone would fall again.  I sat down to think, on the root
+	of the oak tree; and, seeing it stand about the ground, I saw
+	my way.  It was lucky I had brought a longer lever.  It would
+	just reach to wedge under the oak root.
+	Bearing it down so far would have been easy for a heavy man,
+	but was a hard fight for me.  But this time I meant to do it
+	if it killed me, because I knew it could be done.  Twice I
+	got it nearly there, and twice the weight bore it up again;
+	but when I flung myself on it the third time, I heard in my
+	ears the sea-sound of Poseidon.  Then I knew this time I
+	would do it; and so I did.
+		[ The King Must Die, by Mary Renault ]
+	"Stand to it, my hearts of gold," said the old bowman as he
+	passed from knot to knot.  "By my hilt! we are in luck this
+	journey.  Bear in mind the old saying of the Company."
+	"What is that, Aylward?" cried several, leaning on their bows
+	and laughing at him.
+	"'Tis the master-bowyer's rede: 'Every bow well bent.  Every
+	shaft well sent.  Every stave well nocked.  Every string well
+	locked.'  There, with that jingle in his head, a bracer on
+	his left hand, a shooting glove on his right, and a
+	farthing's-worth of wax in his girdle, what more doth a
+	bowman need?"
+	"It would not be amiss," said Hordle John, "if under his
+	girdle he had four farthings'-worth of wine."
+		[ The White Company, by Sir Arthur Conan Doyle ]
+	A peasant pole-arm, the bec de corbin's crow-beak blade 
+	was designed to puncture the heavy plate armor common to 
+	upper-class warriors. In this weapon the beak is the major 
+	feature. This is backed by a flat hammer head or clawed head, 
+	with a short and bladelike spike at the opposite end.
+
+	This giant variety of its useful normal cousin normally
+	appears in small groups, looking for raw material to produce
+	the royal jelly needed to feed their queen.  On rare
+	occasions, one may stumble upon a bee-hive, in which the
+	queen bee is being well provided for, and guarded against
+	intruders.
+	[ The Creator ] has an inordinate fondness for beetles.
+		[ attributed to biologist J.B.S. Haldane ]
+
+	The common name for the insects with wings shaped like
+	shields (_Coleoptera_), one of the ten sub-species into
+	which the insects are divided.  They are characterized by
+	the shields (the front pair of wings) under which the back
+	wings are folded.
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	The beholder (A.K.A the eye tyrant, the sphere of many eyes) 
+	is most frequently found deep underground, although infrequently 
+	it will lair in desolate wilderness.  The globular body of this 
+	monster is supported by levitation, and it floats slowly about 
+	as it wills.  Atop the sphere are ten eyestalks, while in its 
+	central area are a great eleventh eye and a large mouth filled 
+	with pointed teeth.  Each of the eyes is said to have a different
+	magical property, all of which are deadly or malicious.  The 
+	beholder is hateful, tricky, and avaricious and is known to have 
+	a fondness for both traps and artifacts.
+		[ Adapted by Ben Lehman from Monstrous Manual, by TSR, Inc. ]
+	"A bell, book and candle job."
+	The Bursar sighed.  "We tried that, Archchancellor."
+	The Archchancellor leaned towards him.
+	"Eh?" he said.
+	"I _said_, we tried that Archchancellor," said the Bursar loudly,
+	directing his voice at the old man's ear.  "After dinner, you
+	remember?  We used Humptemper's _Names of the Ants_ and rang Old
+	Tom."*
+	"Did we, indeed.  Worked, did it?"
+	"_No_, Archchancellor."
+
+	* Old Tom was the single cracked bronze bell in the University
+	bell tower.
+		[ Eric, by Terry Pratchett ]
+	The blindfolding was performed by binding a piece of the
+	yellowish linen whereof those of the Amahagger who condescended
+	to wear anything in particular made their dresses tightly round
+	the eyes.  This linen I afterwards discovered was taken from the
+	tombs, and was not, as I had first supposed, of native
+	manufacture.  The bandage was then knotted at the back of the
+	head, and finally brought down again and the ends bound under
+	the chin to prevent its slipping.  Ustane was, by the way, also
+	blindfolded, I do not know why, unless it was from fear that she
+	should impart the secrets of the route to us.
+		[ She, by H. Rider Haggard ]
+	On this particular day Blind Io, by dint of constant vigilance
+	the chief of the gods, sat with his chin on his hand
+	and looked at the gaming board on the red marble table in
+	front of him.  Blind Io had got his name because, where his
+	eye sockets should have been, there were nothing but two
+	areas of blank skin.  His eyes, of which he had an impressively
+	large number, led a semi-independent life of their
+	own.  Several were currently hovering above the table.
+		[ The Colour of Magic, by Terry Pratchett ]
+	These giant amoeboid creatures look like nothing more than
+	puddles of slime, but they both live and move, feeding on
+	metal or wood as well as the occasional dungeon explorer to
+	supplement their diet.
+
+	But we were not on a station platform.  We were on the track ahead
+	as the nightmare, plastic column of fetid black iridescence oozed
+	tightly onward through its fifteen-foot sinus, gathering unholy
+	speed and driving before it a spiral, re-thickening cloud of the
+	pallid abyss vapor.  It was a terrible, indescribable thing vaster
+	than any subway train -- a shapeless congeries of protoplasmic
+	bubbles, faintly self-luminous, and with myriads of temporary eyes
+	forming and unforming as pustules of greenish light all over the
+	tunnel-filling front that bore down upon us, crushing the frantic
+	penguins and slithering over the glistening floor that it and its
+	kind had swept so evilly free of all litter.
+		[ At the Mountains of Madness, by H.P. Lovecraft ]
+	   " It's all very fine," said the Puddin' gloomily, " singing about
+	the joys of being penguins and pirates, but how'd you like to be a
+	Puddin' and be eaten all day long? "
+	   And in a very gruff voice he sang as follows :--
+	      " O, who would be a puddin',
+		  A puddin' in a pot,
+		A puddin' which is stood on
+		  A fire which is hot ?
+		O sad indeed the lot
+		Of puddin's in a pot.
+	...
+	      " But as I am a puddin',
+		  A puddin' in a pot,
+		I hope you get the stomachache
+		  For eatin' me a lot.
+		I hope you get it hot,
+		  You puddin'-eatin' lot ! "
+	   " Very well sung, Albert," said Bill encouragingly, " though you're
+	a trifle husky in your undertones, which is no doubt due to the gravy
+	in your innards.  However, as a reward for bein' a bright little
+	feller we shall have a slice of you all round before turnin' in for
+	the night."
+	[ The Magic Pudding: The Adventures of Bunyip Bluegum. Norman Lindsay ]
+	Bone devils attack with weapons and with a great hooked tail
+	which causes a loss of strength to those they sting.
+	Faustus: Come on Mephistopheles.  What shall we do?
+	Mephistopheles: Nay, I know not.  We shall be cursed with bell,
+	book, and candle.
+	Faustus: How?  Bell, book, and candle, candle, book, and bell,
+	Forward and backward, to curse Faustus to hell.
+	Anon you shall hear a hog grunt, a calf bleat, and an ass bray,
+	Because it is Saint Peter's holy day.
+	(Enter all the Friars to sing the dirge)
+		[ Doctor Faustus and Other Plays, by Christopher Marlowe ]
+	For half a buck, a vial of luck
+		Or a bottle of nifty breaks
+	Or a flask of joy, or Myrna Loy
+		For luncheon with sirloin steaks.
+	
+	Pour out a mug from this old jug,
+		And you'll never get wet in rains.
+	I've bottles of grins and racetrack wins
+		And lotions to ease your pains.
+	
+	Here's bottles of imps and wet-pack shrimps
+		From a sea unknown to man,
+	And an elixir to banish fear,
+		And the sap from the pipes of Pan.
+	
+	With the powdered horn of the unicorn
+		You can win yourself a mate;
+	With the rish hobnob; or get a job --
+		It's yours at a lowered rate.
+		[ Shottle Bop, by Theodore Sturgeon ]
+	Brigit (Brigid, Bride, Banfile), which means the Exalted One,
+	was the Celtic (continental European and Irish) fertility
+	goddess.  She was originally celebrated on February first in
+	the festival of Imbolc, which coincided with the beginning
+	of lactation in ewes and was regarded in Scotland as the date
+	on which Brigit deposed the blue-faced hag of winter.  The
+	Christian calendar adopted the same date for the Feast of St.
+	Brigit.  There is no record that a Christian saint ever
+	actually existed, but in Irish mythology she became the
+	midwife to the Virgin Mary.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Bring me my broadsword
+	And clear understanding.
+	Bring me my cross of gold,
+	As a talisman.
+		[ "Broadsword" (refrain) by Ian Anderson ]
+	 	n. An unwanted  and  unintended  property of a  program or piece
+	 	of hardware, esp. one that causes it to malfunction.  Antonym of
+	  	{feature}.   Examples: "There's a bug  in the editor:  it writes
+		things out backwards." "The system crashed because of a hardware
+	  	bug."   "Fred is a winner, but he has a few bugs" (i.e., Fred is
+	   	a good guy, but he has a few personality problems).
+		[ The Jargon File, version 3.0.0 ]
+	Bugbears are relatives of goblins, although they tend to be
+	larger and more hairy.  They are aggressive carnivores and
+	sometimes kill just for the treasure their victims may be
+	carrying.
+
+	Bugbears are giant, hairy  cousins of goblins who frequent the same
+	areas  as  their smaller  relatives.  Bugbears are  large and  very
+	muscular, standing 7' tall.  Their hides range from light yellow to
+	yellow brown  and their  thick coarse  hair varies  in colour  from
+	brown  to  brick  red.  Though  vaguely   humanoid  in  appearance,
+	bugbears seem to contain the  blood of some large  carnivore. Their
+	eyes recall  those of  some savage  bestial animal, being  greenish
+	white with  red pupils, while their  ears are  wedge shaped, rising
+	from the  top of  their heads. A  bugbear's mouth  is full of  long
+	sharp fangs.
+	Bugbears have two main goals  in life: survival and  treasure. They
+	are  superb  carnivores,  winnowing  out  the   weak  and  careless
+	adventurer, monster, and animal. Goblins  are always on  their toes
+	when  bugbears are present, for  the weak or  stupid quickly end up
+	in the stewpot.
+		[ Monstrous Manual, by TSR, Inc. ]
+	'I read you by your bugle horn
+	And by your palfrey good,
+	I read you for a Ranger sworn
+	To keep the King's green-wood.'
+	'A Ranger, Lady, winds his horn,
+	And 'tis at peep of light;
+	His blast is heard at merry morn,
+	And mine at dead of night.'
+		[ Brignall Banks, by Sir Walter Scott ]
+	A creature of the stars, this bat like being can be summoned
+	across the vast interstellar gulfs to serve magicians and
+	dark powers.  It is said that they will seize those who 
+	summon them and cannot best them and carry them off to whatever
+	terrible fate awaits them on other worlds.
+	A classical Mesoamerican Aztec god, also known as Mixcoatl-
+	Camaxtli (the Cloud Serpent), Camaxtli is the god of war.  He
+	is also a deity of hunting and fire who received human
+	sacrifice of captured prisoners.  According to tradition, the
+	sun god Tezcatlipoca transformed himself into Mixcoatl-Camaxtli
+	to make fire by twirling the sacred fire sticks.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Only once a year, on his birthday, did Charlie Bucket ever
+	get to taste a bit of chocolate.  The whole family saved up
+	their money for that special occasion, and when the great
+	day arrived, Charlie was always presented with one small
+	chocolate bar to eat all by himself.  And each time he
+	received it, on those marvelous birthday mornings, he would
+	place it carefully in a small wooden box that he owned, and
+	treasure it as though it were a bar of solid gold; and for
+	the next few days, he would allow himself only to look at it,
+	but never to touch it.  Then at last, when he could stand it
+	no longer, he would peel back a tiny bit of the paper
+	wrapping at one corner to expose a tiny bit of chocolate, and
+	then he would take a tiny nibble - just enough to allow the
+	lovely sweet taste to spread out slowly over his tongue.  The
+	next day, he would take another tiny nibble, and so on, and
+	so on.  And in this way, Charlie would make his ten-cent bar
+	of birthday chocolate last him for more than a month.
+		[ Charlie and the Chocolate Factory, by Roald Dahl ]
+	Imagine a sealed container, so perfectly constructed that no
+	physical influence can pass either inwards or outwards across its
+	walls.  Imagine that inside the container is a cat, and also a
+	device that can be triggered by some quantum event.  If that event
+	takes place, then the device smashes a phial containing cyanide and
+	the cat is killed.  If the event does not take place, the cat lives
+	on.  In Schroedinger's original version, the quantum event was the
+	decay of a radioactive atom.  ...  To the outside observer, the cat
+	is indeed in a linear combination of being alive and dead, and only
+	when the container is finally opened would the cat's state vector
+	collapse into one or the other.  On the other hand, to a (suitably
+	protected) observer inside the container, the cat's state-vector
+	would have collapsed much earlier, and the outside observer's
+	linear combination has no relevance.
+		[ The Emperor's New Mind, by Roger Penrose ]
+	Well-known quadruped domestic animal from the family of
+	predatory felines (_Felis ochreata domestica_), with a thick,
+	soft pelt; often kept as a pet.  Various folklores have the
+	cat associated with magic and the gods of ancient Egypt.
+
+	So Ulthar went to sleep in vain anger; and when the people
+	awakened at dawn - behold!  Every cat was back at his
+	accustomed hearth!  Large and small, black, grey, striped,
+	yellow and white, none was missing.  Very sleek and fat did
+	the cats appear, and sonorous with purring content.
+		[ The Cats of Ulthar, by H.P. Lovecraft ]
+	Now it was light enough to leave.  Moon-Watcher picked up
+	the shriveled corpse and dragged it after him as he bent
+	under the low overhang of the cave.  Once outside, he
+	threw the body over his shoulder and stood upright - the
+	only animal in all this world able to do so.
+	Among his kind, Moon-Watcher was almost a giant.  He was
+	nearly five feet high, and though badly undernourished
+	weighed over a hundred pounds.  His hairy, muscular body
+	was halfway between ape and man, but his head was already
+	much nearer to man than ape.  The forehead was low, and
+	there were ridges over the eye sockets, yet he unmistakably
+	held in his genes the promise of humanity.
+		[ 2001: A Space Odyssey, by Arthur C. Clarke ]
+	Of all the monsters put together by the Greek imagination
+	the Centaurs (Kentauroi) constituted a class in themselves.
+	Despite a strong streak of sensuality, in their make-up,
+	their normal behaviour was moral, and they took a kindly
+	thought of man's welfare.  The attempted outrage of Nessos on
+	Deianeira, and that of the whole tribe of Centaurs on the
+	Lapith women, are more than offset by the hospitality of
+	Pholos and by the wisdom of Cheiron, physician, prophet,
+	lyrist, and the instructor of Achilles.  Further, the
+	Centaurs were peculiar in that their nature, which united the
+	body of a horse with the trunk and head of a man, involved
+	an unthinkable duplication of vital organs and important
+	members.  So grotesque a combination seems almost un-Greek.
+	These strange creatures were said to live in the caves and
+	clefts of the mountains, myths associating them especially
+	with the hills of Thessaly and the range of Erymanthos.
+		 [ Mythology of all races, Vol. 1, pp. 270-271 ]
+	I observed here, what I had often seen before, that certain
+	districts abound in centipedes.  Here they have light
+	reddish bodies and blue legs; great myriapedes are seen
+	crawling every where.  Although they do no harm, they excite
+	in man a feeling of loathing.  Perhaps our appearance
+	produces a similar feeling in the elephant and other large
+	animals.  Where they have been much disturbed, they
+	certainly look upon us with great distrust, as the horrid
+	biped that ruins their peace.
+		[ Travels and Researches in South Africa,
+			by Dr. David Livingstone ]
+	Cerberus, (or Kerberos in Greek), was the three-headed dog
+	that guarded the Gates of Hell.  He allowed any dead to enter,
+	and likewise prevented them all from ever leaving.  He was
+	bested only twice:  once when Orpheus put him to sleep by
+	playing bewitching music on his lyre, and the other time when
+	Hercules confronted him and took him to the world of the
+	living (as his twelfth and last labor).
+	Name of a family (_Chameleonidae_) and race (_Chameleo_) of
+	scaly lizards, especially the _Chameleo vulgaris_ species,
+	with a short neck, claws, a grasping tail, a long, extendible
+	tongue and mutually independent moving eyes.  When it is
+	scared or angry, it inflates itself and its transparent skin
+	shows its blood:  the skin first appears greenish, then
+	gradually changes color until it is a spotted red.  The final
+	color depends on the background color as well, hence the
+	(figurative) implication of unreliability.  [Capitalized:]
+	a constellation of the southern hemisphere (Chameleo).
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	When an ancient Greek died, his soul went to the nether world:
+	the Hades.  To reach the nether world, the souls had to cross
+	the river Styx, the river that separated the living from the
+	dead.  The Styx could be crossed by ferry, whose shabby ferry-
+	man, advanced in age, was called Charon.  The deceased's next-
+	of-kin would place a coin under his tongue, to pay the ferry-
+	man.
+	Dantes rapidly cleared away the earth around the chest.  Soon
+	the center lock appeared, then the handles at each end, all
+	delicately wrought in the manner of that period when art made
+	precious even the basest of metals.  He took the chest by the
+	two handles and tried to lift it, but it was impossible.  He
+	tried to open it; it was locked.  He inserted the sharp end
+	of his pickaxe between the chest and the lid and pushed down
+	on the handle.  The lid creaked, then flew open.
+	Dantes was seized with a sort of giddy fever.  He cocked his
+	gun and placed it beside him.  The he closed his eyes like a
+	child, opened them and stood dumbfounded.
+	The chest was divided into three compartments.  In the first
+	were shining gold coins.  In the second, unpolished gold
+	ingots packed in orderly stacks.  From the third compartment,
+	which was half full, Dantes picked up handfuls of diamonds,
+	pearls and rubies.  As they fell through his fingers in a
+	glittering cascade, they gave forth the sound of hail beating
+	against the windowpanes.
+		[ The Count of Monte Cristo, by Alexandre Dumas ]
+	A Chinese rain god.
+	Tiamat is said to be the mother of evil dragonkind.  She is
+	extremely vain.
+	Avaricious,  supremely vain,  and  profoundly Lawful  Evil,  Tiamat
+	proclaims  herself  the   creator  of  all  evil  dragonkind,   and
+	certainly many evil dragons  revere her as their creator and patron
+	deity.  She  infests the  uppermost  of  the  Nine  Hells with  her
+	consorts,  each a  Great Wyrm  of different  colour -  one red, one
+	white, one green, one blue, and one black.
+	Tiamat's Avatar appears  as a gigantic five-headed dragon with  one
+	head of  each of  the chromatic  (evil) dragon  types. Each  head's
+	colour  runs the length  of the  neck and into  the forepart of het
+	body  as stripes,  gradually blending  to  three  stripes of  grey,
+	blue-green,  and  purple  over her  back  and  hind-quarters,  then
+	merging into a muddy dark  brown tail. Her underbelly and  legs are
+	greenish white fading into her upper body colours.
+		 [ Monster Mythology, by TSR inc. ]
+	Cloaks are the universal outer garb of everyone who is not a
+	Barbarian.  It is hard to see why.  They are open in front
+	and require you at most times to use one hand to hold them
+	shut.  On horseback they leave the shirt-sleeved arms and
+	most of the torso exposed to wind and Weather.  The OMTs
+	[ Official Management Terms ] for Cloaks well express their
+	difficulties.  They are constantly _swirling and dripping_
+	and becoming _heavy with water_ in rainy Weather, _entangling
+	with trees_ or _swords_, or needing to be _pulled close
+	around her/his shivering body_.  This seems to suggest they
+	are less than practical for anyone on an arduous Tour.
+		[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	I wandered lonely as a cloud
+	That floats on high o'er vales and hills,
+	When all at once I saw a crowd,
+	A host, of golden daffodils;
+	Beside the lake, beneath the trees,
+	Fluttering and dancing in the breeze.
+		[ I Wandered Lonely as a Cloud, by William Wordsworth ]
+	Darzee and his wife only cowered down in the nest without
+	answering, for from the thick grass at the foot of the bush
+	there came a low hiss -- a horrid cold sound that made
+	Rikki-tikki jump back two clear feet.  Then inch by inch out of
+	the grass rose up the head and spread hood of Nag, the big
+	black cobra, and he was five feet long from tongue to tail.
+	When he had lifted one-third of himself clear of the ground,
+	he stayed balancing to and fro exactly as a dandelion-tuft
+	balances in the wind, and he looked at Rikki-tikki with the
+	wicked snake's eyes that never change their expression,
+	whatever the snake may be thinking of.
+	'Who is Nag?' said he.  '_I_ am Nag.  The great God Brahm put
+	his mark upon all our people, when the first cobra spread his
+	hood to keep the sun off Brahm as he slept.  Look, and be
+	afraid!'
+		[ Rikki-tikki-tavi, by Rudyard Kipling ]
+	Once in a great while, when the positions of the stars are
+	just right, a seven-year-old rooster will lay an egg.  Then,
+	along will come a snake, to coil around the egg, or a toad,
+	to squat upon the egg, keeping it warm and helping it to
+	hatch.  When it hatches, out comes a creature called basilisk,
+	or cockatrice, the most deadly of all creatures.  A single
+	glance from its yellow, piercing toad's eyes will kill both
+	man and beast.  Its power of destruction is said to be so
+	great that sometimes simply to hear its hiss can prove fatal.
+	Its breath is so venomous that it causes all vegetation
+	to wither.
+
+	There is, however, one creature which can withstand the
+	basilisk's deadly gaze, and this is the weasel.  No one knows
+	why this is so, but although the fierce weasel can slay the
+	basilisk, it will itself be killed in the struggle.  Perhaps
+	the weasel knows the basilisk's fatal weakness:  if it ever
+	sees its own reflection in a mirror it will perish instantly.
+	But even a dead basilisk is dangerous, for it is said that
+	merely touching its lifeless body can cause a person to
+	sicken and die.
+		[ Mythical Beasts by Deirdre Headon (The Leprechaun Library)
+			and other sources ]
+	This beastie is the recently-hatched broodling of a cockatrice, a
+	creature feared by adventurers great and small for its petrifying
+	peck.  
+		[ The New Bestiary, Wizard Endlebrook ]
+	A single glance from this red-feathered cockatrice  can cause even
+	the bravest adventurer to burst into flames, their flesh withering
+	and blackening and curling beneath the creature's baleful gaze.
+		[ The New Bestiary, Wizard Endlebrook ]
+	He was dressed in a flowing gown with fur tippets which had
+	the signs of the zodiac embroidered over it, with various
+	cabalistic signs, such as triangles with eyes in them, queer
+	crosses, leaves of trees, bones of birds and animals, and a
+	planetarium whose stars shone like bits of looking-glass with
+	the sun on them.  He had a pointed hat like a dunce's cap, or
+	like the headgear worn by ladies of that time, except that
+	the ladies were accustomed to have a bit of veil floating
+	from the top of it.
+		[ The Once and Future King, by T.H. White ]
+
+		"A wizard!" Dooley exclaimed, astounded.
+		"At your service, sirs," said the wizard.  "How
+	perceptive of you to notice.  I suppose my hat rather gives me
+	away.  Something of a beacon, I don't doubt."  His hat was
+	pretty much that, tall and cone-shaped with stars and crescent
+	moons all over it.  All in all, it couldn't have been more
+	wizardish.
+		[ The Elfin Ship, James P. Blaylock ]
+	A mythical feathered serpent.  The couatl are very rare.
+	The couatl  are feathered serpents of myth and lore. It is believed
+	that  they are  distant relatives  of dragons,  though this remains
+	unproven.  So rare  as to be  considered legendary,  the couatl are
+	some  of the  most beautiful creatures  in existence.  A couatl has
+	the body of  a long serpent and  feathered wings the colour of  the
+	rainbow. Occasionally  sent as  messengers from  the gods to  their
+	erring servants,  a couatl  will always  seek to  punish those  who
+	deserve it.
+		[ 2nd ed. Monstrous Compendium, by TSR, Inc. ]
+	This carnivore is known for its voracious appetite and
+	inflated view of its own intelligence.
+	If you want to know what cram is, I can only say that I don't
+	know the recipe; but it is biscuitish, keeps good indefinitely,
+	is supposed to be sustaining, and is certainly not entertaining,
+	being in fact very uninteresting except as a chewing
+	exercise.  It was made by the Lake-men for long journeys.
+		[ The Hobbit, by J.R.R. Tolkien ]
+		These are the incarnations of The Answer (although nobody
+		knows the question). Eating the dead body of one gives
+		you a short, but insightful glimpse on the answer, thereby
+		greatly increasing your experience in life. However the
+		shock will cause your vision to blur temporarily.
+		:cray: /kray/ n. 1. (properly, capitalized) One of the line of
+		supercomputers designed by Cray Research. 2.Any supercomputer at
+		all.  3. The {canonical} {number-crunching} machine.
+
+		The term is actually the lowercased last name of Seymour Cray, a
+		noted computer architect and co-founder of the company. Numerous
+		vivid legends surround him, some true and some admittedly invented
+		by Cray Research brass to shape their corporate culture and image.
+		[ The Jargon File, version 3.0.0 ]
+	A big animal with the appearance of a lizard, constituting
+	an order of the reptiles (_Loricata_ or _Crocodylia_), the
+	crocodile is a large, dangerous predator native to tropical
+	and subtropical climes.  It spends most of its time in large
+	bodies of water.
+	Croesus (in Greek: Kroisos), the wealthy last king of Lydia;
+	his empire was destroyed when he attacked Cyrus in 549, after
+	the Oracle of Delphi (q.v.) had told him:  "if you attack the
+	Persians, you will destroy a mighty empire".  Herodotus
+	relates of his legendary conversation with Solon of Athens,
+	who impressed upon him that being rich does not imply being
+	happy and that no one should be considered fortunate before
+	his death.
+	Warily Conan scanned his surroundings, all of his senses alert
+	for signs of possible danger.  Off in the distance, he could
+	see the familiar shapes of the Camp of the Duali tribe.
+	Suddenly, the hairs on his neck stand on end as he detects the
+	aura of evil magic in the air.  Without thought, he readies
+	his weapon, and mutters under his breath:
+	"By Crom, there will be blood spilt today."
+
+	[ Conan the Avenger by Robert E. Howard, Bjorn Nyberg, and
+	  L. Sprague de Camp ]
+	"God save thee, ancient Mariner!
+	From the fiends, that plague thee thus! -
+	Why look'st thou so?" - With my cross-bow
+	I shot the Albatross.
+		[ The Rime of the Ancient Mariner, by Samuel Taylor
+		  Coleridge ]
+	You look into one of these and see _vapours swirling like
+	clouds_.  These shortly clear away to show a sort of video
+	without sound of something that is going to happen to you
+	soon.  It is seldom good news.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	"The Thing cannot be described -- there is no language for such
+	abysms of shrieking and immemorial lunacy, such eldritch
+	contradictions of all matter, force, and cosmic order.  A
+	mountain walked or stumbled.  God!... the Thing of the idols,
+	the green, sticky spawn of the stars, had awakened to claim
+	his own.  The stars were right again... great Cthulhu was
+	loose again, and ravening for delight."
+		[ The Call of Cthulhu, by H.P. Lovecraft ]
+	
+	The exact origins of Cthulhu are lost to time, but it is
+	known that in aeons long past a race of space faring
+	beings came to this world and Cthulhu was amongst their
+	number as the high priest who interceded between them
+	and the dark gods they worshipped.  Whether Cthulhu is
+	a long lived individual or a title of office, is not
+	known, but a creature bearing this name lives on,
+	trapped in eternal slumber in the ruins of his great
+	city. 
+	Curses are longstanding ill-wishings which, in Fantasyland,
+	often manifest as semisentient.  They have to be broken or
+	dispelled.  The method varies according to the type and
+	origin of the Curse:
+	[...]
+	4.  Curses on Rings and Swords.  You have problems.  Rings
+	have to be returned whence they came, preferably at over a
+	thousand degrees Fahrenheit, and the Curse means you won't
+	want to do this.  Swords usually resist all attempts to
+	raise their Curses.  Your best source is to hide the Sword
+	or give it to someone you dislike.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	A pack of snow-white, red-eared spectral hounds which
+	sometimes took part in the kidnappings and raids the
+	inhabitants of the underworld sometimes make on this world
+	(the Wild Hunt).  They are associated in Wales with the sounds
+	of migrating wild geese, and are said to be leading the souls
+	of the damned to hell.  The phantom chase is usually heard or
+	seen in midwinter and is accompanied by a howling wind.
+		[ Encyclopedia Mythica, ed. M.F. Lindemans ]
+	And after he had milked his cattle swiftly,
+	he again took hold of two of my men
+	and had them as his supper.
+	Then I went, with a tub of red wine,
+	to stand before the Cyclops, saying:
+	"A drop of wine after all this human meat,
+	so you can taste the delicious wine
+	that is stored in our ship, Cyclops."
+	He took the tub and emptied it.
+	He appreciated the priceless wine that much
+	that he promptly asked me for a second tub.
+	"Give it", he said, "and give me your name as well".
+			...
+	Thrice I filled the tub,
+	and after the wine had clouded his mind,
+	I said to him, in a tone as sweet as honey:
+	"You have asked my name, Cyclops?  Well,
+	my name is very well known.  I'll give it to you,
+	if you give me the gift you promised me as a guest.
+	My name is Nobody.  All call me thus:
+	my father and my mother and my friends."
+	Ruthlessly he answered to this:
+	"Nobody, I will eat you last of all;
+	your host of friends will completely precede you.
+	That will be my present to you, my friend."
+	And after these words he fell down backwards,
+	restrained by the all-restrainer Hupnos.
+	His monstrous neck slid into the dust;
+	the red wine squirted from his throat;
+	the drunk vomited lumps of human flesh.
+		[ The Odyssey, (chapter Epsilon), by Homer ]
+	Is this a dagger which I see before me,
+	The handle toward my hand? Come, let me clutch thee.
+	I have thee not, and yet I see thee still.
+	Art thou not, fatal vision, sensible
+	To feeling as to sight? or art thou but
+	A dagger of the mind, a false creation,
+	Proceeding from the heat-oppressed brain?
+	I see thee yet, in form as palpable
+	As this which now I draw.
+		[ Macbeth, by William Shakespeare ]
+	... But he ruled rather by force and fear, if they might
+	avail; and those who perceived his shadow spreading over the
+	world called him the Dark Lord and named him the Enemy; and
+	he gathered again under his government all the evil things of
+	the days of Morgoth that remained on earth or beneath it,
+	and the Orcs were at his command and multiplied like flies.
+	Thus the Black Years began ...
+		[ The Silmarillion, by J.R.R. Tolkien ]
+	For eighty thousand years Pth'thya-l'yi had lived in Y'ha-nthlei,
+	and thither she had gone back after Obed Marsh was dead. 
+	Y'ha-nthlei was not destroyed when the upper-earth men shot death
+	into the sea.  It was hurt, but not destroyed.  The Deep Ones 
+	could never be destroyed, even though the palaeogean magic of the
+	forgotten Old Ones might sometimes check them.  For the present 
+	they would rest; but some day, if they remembered, they would 
+	rise again for the tribute Great Cthulhu craved.
+		[ The Shadow Over Innsmouth, by H.P. Lovecraft ]
+		"O people waiting in the Shadow of Deep Thought!" he cried  out.
+		"Honoured Descendants of Vroomfondel and Majikthise,the Greatest
+		and Most Truly Interesting Pundits the Universe has  ever  known
+		... The Time of Waiting is over!"
+		[...] 
+		"Seven and a half million years our  race  has waited  for  this
+		Great  and  Hopefully Enlightening Day!" cried the cheer leader.
+		"The Day of the Answer!"
+		[...] 
+		"The time is nearly upon us," said one, and Arthur was surprised
+		to see a word suddenly materialize in thin air just by the man's
+		neck. The word was Loonquawl, and it flashed a couple  of  times
+		and then disappeared again. Before Arthur was able to assimilate
+		this the other man spoke and the word  Phouchg  appeared by  his
+		neck.
+ 
+		"Seventy-five thousand generations ago, our ancestors  set  this
+		program in motion," the second man said,"and in all that time we
+		will be the first to hear the computer speak."
+ 
+		"An awesome prospect, Phouchg," agreed the first man, and Arthur
+		suddenly   realized   that  he  was  watching  a recording  with
+		subtitles.
+ 
+		"We are the ones who will hear," said Phouchg,"the answer to the
+		great question of Life ...!"
+ 
+		"The Universe ...!" said Loonquawl.
+ 
+		"And Everything ...!"
+ 
+		"Shhh," said Loonquawl with  a  slight  gesture, "I  think  Deep
+		Thought is preparing to speak!"
+ 
+		There was a  moment's expectant  pause whilst panels slowly came
+		to life on the front of  the  console. Lights flashed on and off
+		experimentally and settled down into a businesslike  pattern.  A
+		soft low hum came from the communication channel.
+ 
+		"Good morning," said Deep Thought at last.
+ 
+		"Er ... Good morning, O Deep Thought," said Loonquawl nervously,
+		"do you have ... er, that is ..."
+ 
+		"An answer for you?" interrupted Deep Thought majestically."Yes.
+		I have."
+ 
+		The two men shivered with expectancy. Their waiting had not been
+		in vain.
+ 
+		"There really is one?" breathed Phouchg.
+ 
+		"There really is one," confirmed Deep Thought.
+ 
+		"To Everything? To the great Question of Life, the  Universe and
+		Everything?"
+ 
+		"Yes."
+ 
+		Both of the men had been trained for this moment,their lives had
+		been  a  preparation  for it, they had been selected at birth as
+		those who would witness the  answer,  but  even  so  they  found
+		themselves gasping and squirming like excited children.
+ 
+		"And you're ready to give it to us?" urged Loonquawl.
+ 
+		"I am."
+ 
+		"Now?"
+ 
+		"Now," said Deep Thought.
+ 
+		They both licked their dry lips.
+ 
+		"Though I don't think," added Deep Thought,"that you're going to
+		like it."
+ 
+		"Doesn't matter!" said Phouchg. "We must know it! Now!"
+ 
+		"Now?" inquired Deep Thought.
+ 
+		"Yes! Now ..."
+ 
+		"Alright," said the computer and settled into silence again. The
+		two men fidgeted. The tension was unbearable.
+ 
+		"You're really not going to like it," observed Deep Thought.
+ 
+		"Tell us!"
+ 
+		"Alright," said Deep Thought. "The Answer to the  Great Question
+		..."
+ 
+		"Yes ...!"
+ 
+		"Of Life, the Universe and Everything ..." said Deep Thought.
+ 
+		"Yes ...!"
+ 
+		"Is ..." said Deep Thought, and paused.
+ 
+		"Yes ...!"
+ 
+		"Is ..."
+ 
+		"Yes ...!!!...?"
+ 
+		"Forty-two," said Deep Thought, with infinite majesty and calm.
+
+		[ The Hitchhiker's Guide To The Galaxy by Douglas Adams ]
+	Demogorgon, the prince of demons, wallows in filth and can
+	spread a quickly fatal illness to his victims while rending
+	them.  He is a mighty spellcaster, and he can drain the life
+	of mortals with a touch of his tail.
+	It is often very hard to discover what any given Demon looks
+	like, apart from a general impression of large size, huge
+	fangs, staring eyes, many limbs, and an odd color; but all
+	accounts agree that Demons are very powerful, very Magic (in
+	a nonhuman manner), and made of some substance that can squeeze
+	through a keyhole yet not be pierced with a Sword.  This makes
+	them difficult to deal with, even on the rare occasions when
+	they are friendly.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	Devas are the descendants of plane-touched aasimon.  They have
+	feathery wings that may be vestigial or functional.
+	Movanic devas are the most frequently seen by mortals. Their
+	milky skin and slender build distinguishes them from the
+	dark and muscular monadic devas.  The latter are rarely encountered
+	except in the inner planes. It is said they are able to breathe
+	elements other than air.
+		[ adapted from Aasimar, by David Roberts and Brynn ]
+	These Aasimar seldom associate with mortals.  Planetars are
+	hairless and tall, with green-tinted skin and a wild psionic talent.
+		[ adapted from Aasimar, by David Roberts and Brynn ]
+	Solars are near to powers in status, and their children like
+	demipowers.  Their hair and skin is metallic.  Solars stay aloof
+	from mortals, but may command them with an irresistable voice.
+		[ adapted from Aasimar, by David Roberts and Brynn ]
+	A wolflike wild dog, Canis dingo, of Australia, having a
+	reddish- or yellowish-brown coat, believed to have been
+	introduced by the aborigines.
+	[Webster's Encyclopedic Unabridged Dictionary of the English Language]
+	Ask not, what your magic can do to it. Ask what it can do to your magic.
+	Dispater is an arch-devil who rules the city of Dis.  He is
+	a powerful mage.
+	The djinn are genies from the elemental plane of Air.  There,
+	among their kind, they have their own societies.  They are
+	sometimes encountered on earth and may even be summoned here
+	to perform some service for powerful wizards.  The wizards
+	often leave them about for later service, safely tucked away
+	in a flask or lamp.  Once in a while, such a tool is found by
+	a lucky rogue, and some djinn are known to be so grateful
+	when released that they might grant their rescuer a wish.
+	A domestic animal, the _tame dog_ (_Canis familiaris_), of
+	which numerous breeds exist.  The male is called a dog,
+	while the female is called a bitch.  Because of its known
+	loyalty to man and gentleness with children, it is the
+	world's most popular domestic animal.  It can easily be
+	trained to perform various tasks.
+	This evil creature (_canis tenebrous_)  lurks in the darker, more
+	sinister corners of the world. Its bite is known for its chilling
+	effect upon humanoid flesh, and it is not a tameable animal.
+	[ The New Bestiary, Wizard Endlebrook ]
+	This hazy canine  (_canis precipitous_) is  thought to  have a good
+	heart hiding somewhere within its green, silky hide. Unfortunately,
+	the  beast is  usually ravenous,  as its diet  of mist is  not very
+	filling, at least compared to human flesh.
+	[ The New Bestiary, Wizard Endlebrook ]
+	Many travelers have seen the drums of the great apes, and
+	some have heard the sounds of their beating and the noise of
+	the wild, weird revelry of these first lords of the jungle,
+	but Tarzan, Lord Greystoke, is, doubtless, the only human
+	being who ever joined in the fierce, mad, intoxicating revel
+	of the Dum-Dum.
+		[ Tarzan of the Apes, by Edgar Rice Burroughs ]
+	Through me you pass into the city of woe:
+	Through me you pass into eternal pain:
+	Through me among the people lost for aye.
+	Justice the founder of my fabric mov'd:
+	To rear me was the task of power divine,
+	Supremest wisdom, and primeval love.
+	Before me things create were none, save things
+	Eternal, and eternal I endure.
+	All hope abandon ye who enter here.
+		[ The Inferno, from The Divine Comedy of Dante
+			Alighieri, translated by H.F. Cary ]
+	"Then we can only give thanks that this is Antarctica, where
+	there is not one, single, solitary, living thing for it to
+	imitate, except these animals in camp."
+
+	"Us," Blair giggled. "It can imitate us. Dogs can't make four
+	hundred miles to the sea; there's no food. There aren't any
+	skua gulls to imitate at this season. There aren't any
+	penguins this far inland. There's nothing that can reach the
+	sea from this point - except us. We've got brains. We can do
+	it. Don't you see - it's got to imitate us - it's got to be one
+	of us - that's the only way it can fly an airplane - fly a plane
+	for two hours, and rule - be - all Earth's inhabitants. A world
+	for the taking - if it imitates us!
+		[ Who Goes There?, by John W. Campbell ]
+
+ 	Xander: Let go!  I have to kill the demon bot!
+ 	Xander Double (grabbing the gun): Anya, get out of the way.
+ 	Buffy: Xander!
+ 	Xander Double: That's all right, Buffy.  I have him.
+ 	Xander: No, Buffy, I'm me.  Help me!
+ 	Anya: My gun, he's got my gun.
+ 	Riley: You own a gun?
+ 	Buffy: Xander, gun holding Xander, give it to me.
+ 	Anya: Buffy, which one's real?
+ 	Xander: I am.
+ 	Xander Double: No, _I_ am.
+ 	    [ Buffy the Vampire Slayer, Episode 5.03, "The Replacement" ]
+		Note to the real Douglas Adams: should you really ever read
+		this text, please do not get upset about how you and your
+		characters are represented in this work, but rather remember
+		that it was you (yes, *you*) who started all this stuff!
+		"All IMNSHO, constructive comments by e-mail, flame and
+		murder threats to /dev/null, don't bother with flames,
+		I'm fire resistant."
+	In the West the dragon was the natural enemy of man.  Although
+	preferring to live in bleak and desolate regions, whenever it
+	was seen among men it left in its wake a trail of destruction
+	and disease.  Yet any attempt to slay this beast was a perilous
+	undertaking.  For the dragon's assailant had to contend
+	not only with clouds of sulphurous fumes pouring from its fire
+	breathing nostrils, but also with the thrashings of its tail,
+	the most deadly part of its serpent-like body.
+	[ Mythical Beasts by Deirdre Headon (The Leprechaun Library) ]
+
+	"One whom the dragons will speak with," he said, "that is a
+	dragonlord, or at least that is the center of the matter.  It's
+	not a trick of mastering the dragons, as most people think.
+	Dragons have no masters.  The question is always the same, with
+	a dragon:  will he talk to you or will he eat you?  If you can
+	count upon his doing the former, and not doing the latter, why
+	then you're a dragonlord."
+		[ The Tombs of Atuan, by Ursula K. Le Guin ]
+	Dumathoin of the Keeper of Secrets Under the Mountain, the god of
+	mining, discovery, and exploration.  He is called the Silent
+	Keeper, for he never speaks, but may guide his most devoted
+	followers and worshippers through fate and happenstance to the
+	richest veins of ore and the greatest treasures. His symbol is a
+	faceted gem set against a mountainous silhouette.
+	Dwarfs have faces like men (ugly men, with wrinkled, leathery
+	skins), but are generally either flat-footed, duck-footed, or
+	have feet pointing backwards.  They are of the earth, earthy,
+	living in the darkest of caverns and venturing forth only
+	with the cloaks by which they can make themselves invisible,
+	and others disguised as toads.  Miners often come across them,
+	and sometimes establish reasonably close relations with them.
+	... The miners of Cornwall were always delighted to hear a
+	bucca busily mining away, for all dwarfs have an infallible
+	nose for precious metals.
+	Among other things, dwarfs are rightly valued for their skill
+	as blacksmiths and jewellers: they made Odin his famous spear
+	Gungnir, and Thor his hammer; for Freya they designed a
+	magnificent necklace, and for Frey a golden boar.  And in their
+	spare time they are excellent bakers.  Ironically, despite
+	their odd feet, they are particularly fond of dancing.  They
+	can also see into the future, and consequently are excellent
+	meteorologists.  They can be free with presents to people
+	they like, and a dwarvish gift is likely to turn to gold in
+	the hand.  But on the whole they are a snappish lot.
+		[ The Immortals, by Derek and Julia Parker ]
+	In after days, when because of the triumph of Morgoth Elves and
+	Men became estranged, as he most wished, those of the Elven-race
+	that lived still in Middle-earth waned and faded, and Men usurped
+	the sunlight.  Then the Quendi wandered in the lonely places of the
+	great lands and the isles, and took to the moonlight and the
+	starlight, and to the woods and the caves, becoming as shadows
+	and memories, save those who ever and anon set sail into the West
+	and vanished from Middle-earth.  But in the dawn of years Elves
+	and Men were allies and held themselves akin, and there were some
+	among Men that learned the wisdom of the Eldar, and became great
+	and valiant among the captains of the Noldor.  And in the glory
+	and beauty of the Elves, and in their fate, full share had the
+	offspring of elf and mortal, Earendil, and Elwing, and Elrond
+	their child.
+		[ The Silmarillion, by J.R.R. Tolkien ]
+	Mostly Harmless.
+		[ Hitchhiker's Guide to the Galaxy, by Douglas Adams ]
+		"Hi there! This is Eddie your shipboard computer, and I'm feeling
+		just  great  guys,  and  I know I'm just going to get a bundle of
+		kicks out of any programme you care to run through me."
+ 
+		Arthur looked inquiringly at Trillian. She motioned him  to  come
+		on in but keep quiet.
+ 
+		"Computer,"  said  Zaphod,  "tell  us  again  what  our   present
+		trajectory is."
+ 
+		"A real pleasure feller," it burbled, "we are currently in  orbit
+		at an altitude of three hundred miles around the legendary planet
+		of Magrathea."
+ 
+		"Proving nothing," said Ford. "I wouldn't trust that computer  to
+		speak my weight."
+ 
+	"	I can do that for you, sure," enthused  the  computer,  punching
+		out  more  tickertape.  "I  can  even  work  out  you personality
+		problems to ten decimal places if it will help."
+
+			[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
+	The behaviour of eels in fresh water extends the air of
+	mystery surrounding them.  They move freely into muddy, silty
+	bottoms of lakes, lying buried in the daylight hours in summer.
+	[...]  Eels are voracious carnivores, feeding mainly at
+	night and consuming a wide variety of fishes and invertebrate
+	creatures.  Contrary to earlier thinking, eels seek living
+	rather than dead creatures and are not habitual eaters of
+	carrion.
+		[ Freshwater Fishes of Canada, by Scott and Crossman ]
+	But I asked why not keep it and let the hen sit on it till it
+	hatched, and then we could see what would come out of it.
+	"Nothing good, I'm certain of that," Mom said.  "It would
+	probably be something horrible.  But just remember, if it's a
+	crocodile or a dragon or something like that, I won't have it
+	in my house for one minute."
+		[ The Enormous Egg, by Oliver Butterworth ]
+	... Even as they stepped over the threshold a single clear
+	voice rose in song.
+
+		A Elbereth Gilthoniel,
+		silivren penna miriel
+		o menel aglar elenath!
+		Na-chaered palan-diriel
+		o galadhremmin ennorath,
+		Fanuilos, le linnathon
+		nef aear, si nef aearon!
+
+	Frodo halted for a moment, looking back.  Elrond was in his
+	chair and the fire was on his face like summer-light upon the
+	trees.  Near him sat the Lady Arwen.  [...]
+	He stood still enchanted, while the sweet syllables of the
+	elvish song fell like clear jewels of blended word and melody.
+	"It is a song to Elbereth," said Bilbo.  "They will sing that,
+	and other songs of the Blessed Realm, many times tonight.
+	Come on!"
+	   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	South-American fish (_Gymnotus electricus_), living in fresh
+	water.  Shaped like a serpent, it can grow up to 2 metres.
+	This eel is known for its electrical organ which enables it
+	to paralyse creatures up to the size of a horse.
+	   [ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	Elementals are manifestations of the basic nature of the
+	universe.  There are four known forms of elementals:  air, fire,
+	water, and earth.  Some mystics have postulated the necessity
+	for a fifth type, the spirit elemental, but none have ever
+	been encountered, at least on this plane of existence.
+	The Elves sat round the fire upon the grass or upon the sawn
+	rings of old trunks.  Some went to and fro bearing cups and
+	pouring drinks; others brought food on heaped plates and
+	dishes.
+	"This is poor fare," they said to the hobbits; "for we are
+	lodging in the greenwood far from our halls.  If ever you are
+	our guests at home, we will treat you better."
+	"It seems to me good enough for a birthday-party," said Frodo.
+	Pippin afterwards recalled little of either food or drink, for
+	his mind was filled with the light upon the elf-faces, and the
+	sound of voices so various and so beautiful that he felt in a
+	waking dream.  [...]
+	Sam could never describe in words, nor picture clearly to
+	himself, what he felt or thought that night, though it remained
+	in his memory as one of the chief events of his life.  The
+	nearest he ever got was to say: "Well, sir, if I could grow
+	apples like that, I would call myself a gardener.  But it was
+	the singing that went to my heart, if you know what I mean."
+	   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	The Elves next unwrapped and gave to each of the Company the 
+	clothes they had brought.  For each they had provided a hood 
+	and cloak, made according to his size, of the light but warm 
+	silken stuff that the Galadrim wove.  It was hard to say of 
+	what colour they were: grey with the hue of twilight under 
+	the trees they seemed to be; and yet if they were moved, 
+	or set in another light, they were green as shadowed leaves,
+	or brown as fallow fields by night, dusk-silver as water under 
+	the stars.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	'Put off that mask of burning gold
+	With emerald eyes.'
+	'O no, my dear, you make so bold
+	To find if hearts be wild and wise,
+	And yet not cold.'
+
+	'I would but find what's there to find,
+	Love or deceit.'
+	'It was the mask engaged your mind,
+	And after set your heart to beat,
+	Not what's behind.'
+
+	'But lest you are my enemy,
+	I must enquire.'
+	'O no, my dear, let all that be;
+	What matter, so there is but fire
+	In you, in me?'
+		[ The Mask, by W.B. Yeats ]
+	These female-seeming devils named after the Furies of mythology
+	attack hand to hand and poison their unwary victims as well.
+	The two-headed giant, or ettin, is a vicious and unpredictable
+	hunter that stalks by night and eats any meat it can catch.
+	At first only its tip was visible, but then it rose, straight,
+	proud, all that was noble and great and wondrous.  The tip of
+	the blade pointed toward the moon, as if it would cleave it
+	in two.  The blade itself gleamed like a beacon in the night.
+	There was no light source for the sword to be reflecting
+	from, for the moon had darted behind a cloud in fear.  The
+	sword was glowing from the intensity of its strength and
+	power and knowledge that it was justice incarnate, and that
+	after a slumber of uncounted years its time had again come.
+	After the blade broke the surface, the hilt was visible, and
+	holding the sword was a single strong, yet feminine hand,
+	wearing several rings that bore jewels sparkling with the
+	blue-green color of the ocean.
+		[ Knight Life, by Peter David ]
+	There was a time when Rincewind had quite liked the iconoscope.
+	He believed, against all experience, that the world was
+	fundamentally understandable, and that if he could only equip
+	himself with the right mental toolbox he could take the back off
+	and see how it worked.  He was, of course, dead wrong.  The
+	iconoscope didn't take pictures by letting light fall onto
+	specially treated paper, as he had surmised, but by the far
+	simpler method of imprisoning a small demon with a good eye for
+	colour and a speedy hand with a paintbrush.  He had been very
+	upset to find that out.
+		[ The Light Fantastic, by Terry Pratchett ]
+	This is a powerful amulet of ESP.  In addition to its standard
+	powers, it regenerates the energy of anyone who carries
+	it, allowing them to cast spells more often.  It also reduces
+	any spell damage to the person who carries it by half, and
+	protects from magic missiles.  Finally, when invoked it has
+	the power to instantly open a portal to any other area of the
+	dungeon, allowing its invoker to travel quickly between
+	areas.
+	"Yield up enough sacrifices an' savage knick-knacks an' 
+	harbourage in the taown when they wanted it, an' they'd let 
+	well enough alone. Wudn't bother no strangers as might bear
+	tales aoutside - that is, withaout they got pryin'. All in
+	the band of the faithful - Order o' Dagon - an' the children
+	shud never die, but go back to the Mother Hydra an' Father 
+	Dagon what we all come from once ... Ia! Ia! Cthulhu ..."
+		[ The Shadow Over Innsmouth, by H.P. Lovecraft ]
+	This weapon is a development of the scythe or sickle. Set 
+	upon a long pole, the curving blade of a fauchard can be 
+	used for both cutting and thrusting. The weapon offers little 
+	in the way of parrying or catching/holding and has no provision 
+	for dismounting opponents, though it is quite useful for crippling 
+	their mounts.
+	... and finally there is "the Eyes of the Overworld".  This
+	obscure artifact pushes the wearer's view sense into the
+	"overworld" -- another name for a segment of the Astral Plane.
+	Usually, there is nothing to be seen.  However, the wearer
+	is also able to look back and see the area around herself,
+	much like looking on a map.  Why anyone would want to ...
+	Then it appeared in Paris at just about the time that Paris
+	was full of Carlists who had to get out of Spain.  One of
+	them must have brought it with him, but, whoever he was, it's
+	likely he knew nothing about its real value.  It had been --
+	no doubt as a precaution during the Carlist trouble in Spain
+	-- painted or enameled over to look like nothing more than a
+	fairly interesting black statuette.  And in that disguise,
+	sir, it was, you might say, kicked around Paris for seventy
+	years by private owners and dealers too stupid to see what
+	it was under the skin.
+		[ The Maltese Falcon, by Dashiell Hammett ]
+	A swirling cloud of bright, burning motes, the fire vampire
+	descends upon its victim and easily burns them to death once
+	they are in its deadly embrace.
+	Floating eyes, not surprisingly, are large, floating eyeballs
+	which drift about the dungeon.  Though not dangerous in and
+	of themselves, their power to paralyse those who gaze at
+	their large eye in combat is widely feared.  Many are the
+	tales of those who struck a floating eye, were paralysed by
+	its mystic powers, and then nibbled to death by some other
+	creature that lurked around nearby.
+	With an anxiety that almost amounted to agony, I collected
+	the instruments of life around me, that I might infuse a spark
+	of being into the lifeless thing that lay at my feet.  It was
+	already one in the morning; the rain pattered dismally against
+	the panes, and my candle was nearly burnt out, when, by the
+	glimmer of the half-extinguished light, I saw the dull yellow
+	eye of the creature open; it breathed hard, and a convulsive
+	motion agitated its limbs.
+
+	How can I describe my emotions at this catastrophe, or how
+	delineate the wretch whom with such infinite pains and care I
+	had endeavoured to form?  His limbs were in proportion, and I
+	had selected his features as beautiful.  Beautiful!--Great God! 
+	His yellow skin scarcely covered the work of muscles and
+	arteries beneath; his hair was of a lustrous black, and
+	flowing; his teeth of a pearly whiteness; but these luxuriances
+	only formed a more horrid contrast with his watery eyes, that
+	seemed almost of the same colour as the dun white sockets in
+	which they were set, his shrivelled complexion and straight
+	black lips.
+		[ Frankenstein, by Mary Wollstonecraft Shelley ]
+	With this thou canst do mighty deeds
+	And change men's passions for thy needs:
+	A man's despair with joy allay,
+	Turn bachelors old to lovers gay.
+		[ The Magic Flute, by Wolfgang Amadeus Mozart ]
+	The fog comes
+	on little cat feet.
+
+	It sits looking
+	over harbor and city
+	on silent haunches
+	and then moves on.
+		 [ Fog, by Carl Sandburg ]
+		By a curious coincidence,  None  at  all  is  exactly  how  much
+		suspicion  the ape-descendant  Arthur  Dent  had that one of his
+		closest friends was not descended from an ape, but was  in  fact
+		from  a  small planet in the vicinity of Betelgeuse and not from
+		Guildford as he usually claimed.
+ 
+		Arthur Dent had never, ever suspected this.
+ 
+		This friend of his had first arrived on the planet some  fifteen
+		Earth  years previously, and he had worked hard to blend himself
+		into Earth society - with, it must be said,  some  success.  For
+		instance he had spent those fifteen years pretending to be an out
+		of work actor, which was plausible enough.
+ 
+		He had made one careless blunder though,because he had skimped a
+		bit on his preparatory research. The information he had gathered
+		had  led him to  choose the name "Ford Prefect" [sic]  as  being
+		inconspicuous.
+
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
+	Rest! This little Fountain runs
+	Thus for aye: -- It never stays
+	For the look of summer suns,
+	Nor the cold of winter days.
+	Whose'er shall wander near,
+	When the Syrian heat is worst,
+	Let him hither come, nor fear
+	Lest he may not slake his thirst:
+	He will find this little river
+	Running still, as bright as ever.
+	Let him drink, and onward hie,
+	Bearing but in thought, that I,
+	Erotas, bade the Naiad fall,
+	And thank the great god Pan for all!
+		[ For a Fountain, by Bryan Waller Procter ]
+	One hot summer's day a Fox was strolling through an orchard till he
+	came to a bunch of Grapes just ripening on a vine which had been
+	trained over a lofty branch. "Just the thing to quench my thirst,"
+	quoth he. Drawing back a few paces, he took a run and a jump, and
+	just missed the bunch. Turning round again with a One, Two, Three, he
+	jumped up, but with no greater success. Again and again he tried
+	after the tempting morsel, but at last had to give it up, and walked
+	away with his nose in the air, saying: "I am sure they are sour."
+		[ Aesop's Fables ]
+
+	Later on, at the time of wheat harvest, Samson took a young goat
+	and went to visit his wife. He said, "I'm going to my wife's
+	room."  But her father would not let him go in.
+	"I was so sure you thoroughly hated her," he said, "that I gave
+	her to your friend. Isn't her younger sister more attractive? Take
+	her instead."
+	Samson said to them, "This time I have a right to get even with
+	the Philistines; I will really harm them." So he went out and
+	caught three hundred foxes and tied them tail to tail in pairs. He
+	then fastened a torch to every pair of tails, lit the torches and
+	let the foxes loose in the standing grain of the Philistines.
+		[ Judges 15:1-5, NIV ]
+	Fungi, division of simple plants that lack chlorophyll, true
+	stems, roots, and leaves.  Unlike algae, fungi cannot
+	photosynthesize, and live as parasites or saprophytes.  The
+	division comprises the slime molds and true fungi.  True
+	fungi are multicellular (with the exception of yeasts); the
+	body of most true fungi consists of slender cottony
+	filaments, or hyphae.  All fungi are capable of asexual
+	reproduction by cell division, budding, fragmentation, or
+	spores.  Those that reproduce sexually alternate a sexual
+	generation (gametophyte) with a spore-producing one.  The
+	four classes of true fungi are the algaelike fungi (e.g.,
+	black bread mold and downy mildew), sac fungi (e.g., yeasts,
+	powdery mildews, truffles, and blue and green molds such as
+	Penicillium), basidium fungi (e.g., mushrooms and puffballs)
+	and imperfect fungi (e.g., species that cause athlete's foot
+	and ringworm).  Fungi help decompose organic matter (important
+	in soil renewal); are valuable as a source of antibiotics,
+	vitamins, and various chemicals; and for their role in
+	fermentation, e.g., in bread and alcoholic beverage
+	production.
+		[ The Concise Columbia Encyclopedia ]
+	And so it came to pass that while Man ruled on Earth, the
+	gargoyles waited, lurking, hidden from the light.  Reborn
+	every 600 years in Man's reckoning of time, the gargoyles
+	joined battle against Man to gain dominion over the Earth.
+
+	In each coming, the gargoyles were nearly destroyed by Men
+	who flourished in greater numbers.  Now it has been so many
+	hundreds of years that it seems the ancient statues and
+	paintings of gargoyles are just products of Man's
+	imagination.  In this year, with Man's thoughts turned toward
+	the many ills he has brought among himself, Man has forgotten
+	his most ancient adversary, the gargoyles.
+	[ Excerpt from the opening narration to the movie
+		_Gargoyles_, written by Stephen and Elinor Karpf ]
+		Gas spores are a vaguely intelligent fungal growth that has
+	evolved to strongly resemble the Beholder.  If they are struck 
+	with  any amount of force they will explode violently.  Gas spores 
+	tend to grow in groups, and legends have been written about the 
+	destruction caused by foolish adventurers who touched a
+	single one.
+		[ Adapted by Ben Lehman from Monstrous Manual, by TSR, Inc. ]
+	1 November - All day long we have travelled, and at a good
+	speed.  The horses seem to know that they are being kindly
+	treated, for they go willingly their full stage at best
+	speed.  We have now had so many changes and find the same
+	thing so constantly that we are encouraged to think that the
+	journey will be an easy one.  Dr. Van Helsing is laconic, he
+	tells the farmers that he is hurrying to Bistritz, and pays
+	them well to make the exchange of horses.  We get hot soup,
+	or coffee, or tea, and off we go.  It is a lovely country.
+	Full of beauties of all imaginable kinds, and the people are
+	brave, and strong, and simple, and seem full of nice
+	qualities.  They are very, very superstitious.  In the first
+	house where we stopped, when the woman who served us saw the
+	scar on my forehead, she crossed herself and put out two
+	fingers towards me, to keep off the evil eye.  I believe they
+	went to the trouble of putting an extra amount of garlic into
+	our food, and I can't abide garlic.  Ever since then I have
+	taken care not to take off my hat or veil, and so have
+	escaped their suspicions.
+		[ Dracula, by Bram Stoker ]
+	Geryon is an arch-devil sometimes called the Wild Beast,
+	attacking with his claws and poison sting.  His ranking in
+	Hell is rumored to be quite low.
+	And now the souls of the dead who had gone below came swarming
+	up from Erebus -- fresh brides, unmarried youths, old men
+	with life's long suffering behind them, tender young girls
+	still nursing this first anguish in their hearts, and a great
+	throng of warriors killed in battle, their spear-wounds gaping
+	yet and all their armour stained with blood.  From this
+	multitude of souls, as they fluttered to and fro by the
+	trench, there came a moaning that was horrible to hear.
+	Panic drained the blood from my cheeks.
+		 [ The Odyssey, (chapter Lambda), by Homer ]
+	The forces of the gloom know each other, and are strangely
+	balanced by each other.  Teeth and claws fear what they cannot
+	grasp.  Blood-drinking bestiality, voracious appetites, hunger
+	in search of prey, the armed instincts of nails and jaws which
+	have for source and aim the belly, glare and smell out
+	uneasily the impassive spectral forms straying beneath a
+	shroud, erect in its vague and shuddering robe, and which seem
+	to them to live with a dead and terrible life.  These
+	brutalities, which are only matter, entertain a confused fear
+	of having to deal with the immense obscurity condensed into an
+	unknown being.  A black figure barring the way stops the wild
+	beast short.  That which emerges from the cemetery intimidates
+	and disconcerts that which emerges from the cave; the
+	ferocious fear the sinister; wolves recoil when they encounter
+	a ghoul.
+		[ Les Miserables, by Victor Hugo ]
+	Giants have always walked the earth, though they are rare in
+	these times.  They range in size from little over nine feet
+	to a towering twenty feet or more.  The larger ones use huge
+	boulders as weapons, hurling them over large distances.  All
+	types of giants share a love for men - roasted, boiled, or
+	fried.  Their table manners are legendary.
+	[Gila monsters] are stout-bodied lizards with short legs and a short,
+	fat tail. They're covered with bright irregular markings, usually
+	pink, yellow or white, against black or brown scales. They are shy,
+	retiring creatures unless they're provoked. Then they can be
+	dangerous because they secrete a neurotoxin -- a poison that
+	destroys nerve tissue -- from their salivary glands. In humans,
+	their bite can result in severe pain and even death.
+	    [Expedition Guide -- American Museum of Natural History]
+	The people of Komodo call this animal "ora." Elsewhere it is known
+	as the Komodo Island monitor or more popularly, the Komodo dragon.
+	Oras can reach 10 feet in length and weigh 300 pounds or more --
+	particularly after a meal. They are the top predators in their
+	habitat, feeding on wild boar, deer, water buffalo, dogs, goats,
+	rats, snakes, birds, other oras, and -- once in a great while --
+	humans. They hunt by ambush, hiding in the scrub brush along trails
+	and in the tall grass of the savannas. Despite their lumbering
+	appearance, oras can move with alarming speed when they want to,
+	lunging from their hiding places and sprinting toward their
+	startled victims. They can't sustain a long chase, but often all
+	they need to subdue their prey is one bite. Oras carry poisonous
+	bacteria in their mouths so even if they don't immediately catch
+	their prey, the attack is often fatal. Using their long forked
+	tongues (oras and other monitor lizards are closely related to
+	snakes), they track the scent of their prey as the wounded animal
+	slowly weakens from the infected bite -- a process that can take
+	several days. When the victim can no longer flee, the ora moves
+	in for the kill. Oras are voracious eaters. They devour every bit
+	of their prey -- bones, fur, hooves -- ripping off huge chunks with
+	their razor-sharp serrated teeth and swallowing the pieces whole.
+	    [Expedition Guide -- American Museum of Natural History]
+	The glaive is a knife-bladed spear. It has the thrusting 
+	function of the spear, and the secondary cutting function of 
+	the convex blade of the knife. The weapon was rapidly enlarged 
+	in the blade in order to give it a greater cutting function as 
+	well as a cleaving attack. As with a spear or fauchard, however, 
+	it is not overly effective at holding opponents back, nor does 
+	it have the piercing or dismounting capabilities.
+	Far beneath the surface of the earth dwell the Svirfneblin, or Deep
+	Gnomes. Small parties of these demihumans roam the Underdark's mazes
+	of small passageways searching for gemstones. They are said to dwell
+	in great cities consisting of a closely connected series of tunnels,
+	buildings, and caverns in which up to a thousand of these diminutive
+	creatures live. They keep the location of these hidden cities secret
+	in order to protect them from their deadly foes, the kuo-toa, Drow,
+	and mind flayers.
+	Svirfneblin are slightly smaller than rock gnomes, but their thin,
+	wiry, gnarled frames are just as strong. Their skin is rock-colored,
+	usually medium brown to brownish gray, and their eyes are gray. Male
+	svirfneblin are completely bald; female deep gnomes have stringy gray
+	hair. The average svirfneblin life span is 250 years.
+		[ The Underdark, by Mike Drees and Albert Foster ]
+	...  And then a gnome came by, carrying a bundle, an old
+	fellow three times as large as an imp and wearing clothes of
+	a sort, especially a hat.  And he was clearly just as frightened
+	as the imps though he could not go so fast.  Ramon Alonzo
+	saw that there must be some great trouble that was vexing
+	magical things; and, since gnomes speak the language of men, and
+	will answer if spoken to gently, he raised his hat, and asked
+	of the gnome his name.  The gnome did not stop his hasty
+	shuffle a moment as he answered 'Alaraba' and grabbed the rim
+	of his hat but forgot to doff it.
+	'What is the trouble, Alaraba?'  said Ramon Alonzo.
+	'White magic.  Run!'  said the gnome ..
+		 [ The Charwoman's Shadow, by Lord Dunsany ]
+ 
+ 	"Muggles have garden gnomes, too, you know," Harry told Ron as
+ 	they crossed the lawn.
+ 	"Yeah, I've seen those things they think are gnomes," said Ron,
+ 	bent double with his head in a peony bush, "like fat little
+ 	Santa Clauses with fishing rods..."
+ 	There was a violent scuffling noise, the peony bush shuddered,
+ 	and Ron straightened up.  "This is a gnome," he said grimly.
+ 	"Geroff me! Gerroff me!" squealed the gnome.
+ 	It was certainly nothing like Santa Claus.  It was small and
+ 	leathery looking, with a large, knobby, bald head exactly like
+ 	a potato.  Ron held it at arm's length as it kicked out at him
+ 	with its horny little feet; he grasped it around the ankles
+ 	and turned it upside down.
+ 	  [ Harry Potter and the Chamber of Secrets, by J. K. Rowling ]
+	Now goblins are cruel, wicked, and bad-hearted.  They make
+	no beautiful things, but they make many clever ones.  They
+	can tunnel and mine as well as any but the most skilled
+	dwarves, when they take the trouble, though they are usually
+	untidy and dirty.  Hammers, axes, swords, daggers, pickaxes,
+	tongs, and also instruments of torture, they make very well,
+	or get other people to make to their design, prisoners and
+	slaves that have to work till they die for want of air and
+	light.
+		 [ The Hobbit, by J.R.R. Tolkien ]
+	Goddesses and Gods operate in ones, threesomes, or whole
+	pantheons of nine or more (see Religion).  Most of them claim
+	to have made the world, and this is indeed a likely claim in
+	the case of threesomes or pantheons:  Fantasyland does have
+	the air of having been made by a committee.  But all Goddesses
+	and Gods, whether they say they made the world or not, have
+	very detailed short-term plans for it which they are determined
+	to carry out.  Consequently they tend to push people into the
+	required actions by the use of coincidence or Prophecy, or just
+	by narrowing down your available choices of what to do next:
+	if a deity is pushing you, things will go miserably badly until
+	there is only one choice left to you.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	A metal of characteristic yellow colour, the most precious
+	metal used as a common commercial medium of exchange.  Symbol,
+	Au; at. no. 79; at. wt. 197.2.  It is the most malleable
+	and ductile of all metals, and very heavy (sp. gr., 19.3).
+	It is quite unalterable by heat, moisture, and most
+	corrosive agents, and therefore well suited for its use in
+	coin and jewelry.
+		 [ Webster's New International Dictionary
+		  of the English Language, Second Edition ]
+	The bellows he set away from the fire, and gathered all the tools
+	wherewith he wrought into a silver chest; and with a sponge wiped
+	he his face and his two hands withal, and his mighty neck and
+	shaggy breast, and put upon him a tunic, and grasped a stout staff,
+	and went forth halting; but there moved swiftly to support their
+	lord handmaidens wrought of gold in the semblance of living maids.
+	In them is understanding in their hearts, and in them speech and
+	strength, and they know cunning handiwork by gift of the immortal
+	gods.
+		[ The Iliad, by Homer ]
+	"The original story harks back, so they say, to the sixteenth
+	century.  Using long-lost formulas from the Kabbala, a rabbi is
+	said to have made an artificial man -- the so-called Golem -- to
+	help ring the bells in the Synagogue and for all kinds of other
+	menial work.
+	"But he hadn't made a full man, and it was animated by some sort
+	of vegetable half-life.  What life it had, too, so the story
+	runs, was only derived from the magic charm placed behind its
+	teeth each day, that drew down to itself what was known as the
+	`free sidereal strength of the universe.'
+	"One evening, before evening prayers, the rabbi forgot to take
+	the charm out of the Golem's mouth, and it fell into a frenzy.
+	It raged through the dark streets, smashing everything in its
+	path, until the rabbi caught up with it, removed the charm, and
+	destroyed it.  Then the Golem collapsed, lifeless.  All that was
+	left of it was a small clay image, which you can still see in
+	the Old Synagogue." ...
+		[ The Golem, by Gustav Meyrink ]
+	"Who'd care to dig 'em," said the old, old man,
+	"Those six feet marked in chalk?
+	Much I talk, more I walk;
+	Time I were buried," said the old, old man.
+		[ Three Songs to the Same Tune, by W.B. Yeats ]
+	Why had I been wearing Grayswandir?  Would another weapon have
+	affected a Logrus-ghost as strongly?  Had it really been my
+	father, then, who had brought me here?  And had he felt I might
+	need the extra edge his weapon could provide?  I wanted to
+	think so, to believe that he had been more than a Pattern-ghost.
+		[ Knight of Shadows, by Roger Zelazny ]
+	ANOINT, v.t.  To grease a king or other great functionary
+	already sufficiently slippery.
+		[ The Devil's Dictionary, by Ambrose Bierce ]
+	Nymph, nymph, what are your beads?
+		Green glass, goblin. Why do you stare at them?
+	Give them me.
+		No.
+	Give them me. Give them me.
+		No.
+	Then I will howl all night in the reeds,
+	Lie in the mud and howl for them.
+		Goblin, why do you love them so?
+	They are better than stars or water,
+	Better than voices of winds that sing.
+	Better than any man's fair daughter,
+	Your green glass beads on a silver ring.
+		Hush, I stole them out of the moon.
+	Give me your beads, I desire them.
+		No.
+	I will howl in a deep lagoon
+	For your green glass beads, I love them so.
+	Give them me. Give them.
+		No.
+		[ Overheard On A Saltmarsh, by Harold Monro ]
+	The gremlin is a highly intelligent and completely evil
+	creature.  It lives to torment other creatures and will go
+	to great lengths to inflict pain or cause injury.
+
+	Suddenly, Wilson thought about war, about the newspaper
+	stories which recounted the alleged existence of creatures in
+	the sky who plagued the Allied pilots in their duties.  They
+	called them gremlins, he remembered.  Were there, actually,
+	such beings?  Did they, truly, exist up here, never falling,
+	riding on the wind, apparently of bulk and weight, yet
+	impervious to gravity?
+	He was thinking that when the man appeared again.
+		[ Nightmare at 20,000 Feet, by Richard Matheson ]
+	These electronically based creatures are not native to this
+	universe.  They appear to come from a world whose laws of
+	motion are radically different from ours.
+
+	Tron looked to his mate and pilot.  "I'm going to check on
+	the beam connection, Yori.  You two can keep a watch out for
+	grid bugs."  Tron paced forward along the slender catwalk
+	that still seemed awfully insubstantial to Flynn, though he
+	knew it to be amazingly sturdy.  He gazed after Tron, asking
+	himself what in the world a grid bug was, and hoping that the
+	beam connection -- to which he'd given no thought whatsoever
+	until this moment -- was healthy and sound."
+		[ Tron, novel by Brian Daley, story by Steven Lisberger ]
+	"What was that?" cried Buck, rubbing his numb and tingling arm.
+	"Nature's revenge for bug zappers," replied his companion.
+	These foul creatures dwell in the endless darkness of the 
+	Gulf of N'Kai, scavenging the bones of whatever luckless
+	intruders have stumbled into it.  It is suspected that they
+	may be some warped form of ghoul, but few have survived
+	seeing them so information is scarce.
+	Medieval peasants discovered that their pruning hooks made 
+	reasonably effective pole arms. The result: the guisarme. 
+	It is furnished with a sharp cutting edge along its convex 
+	side, with a reverse spike to hook. The spike can be used 
+	to penetrate armor when the weapon is swung, and the curved 
+	hook provides an ample means of pulling horsemen to the ground.
+	The samurai's last meal before battle.  It was usually made
+	up of cooked chestnuts, dried seaweed, and sake.
+	Hachi was a dog that went with his master, a professor, to
+	the Shibuya train station every morning.  In the afternoon,
+	when his master was to return from work Hachi would be there
+	waiting.  One day his master died at the office, and did not
+	return.  For over ten years Hachi returned to the station
+	every afternoon to wait for his master.  When Hachi died a
+	statue was erected on the station platform in his honor.  It
+	is said to bring you luck if you touch his statue.
+	A triangular stringed instrument, often Magic.  Even when not
+	Magic, a Harp is surprisingly portable and tough and can be
+	carried everywhere on the back of the Bard or Harper in all
+	weathers.  A Harp seldom goes out of tune and never warps.
+	Its strings break only in very rare instances, usually
+	because the Harper is sulking or crossed in love.  This is
+	just as well as no one seems to make or sell spare strings.
+		[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+
+	After breakfast was over, the ogre called out: "Wife, wife,
+	bring me my golden harp."  So she brought it and put it on
+	the table before him.  Then he said: "Sing!" and the golden
+	harp sang most beautifully.  And it went on singing till the
+	ogre fell asleep, and commenced to snore like thunder.
+	Then Jack lifted up the copper-lid very quietly and got down
+	like a mouse and crept on hands and knees till he came to the
+	table, when up he crawled, caught hold of the golden harp and
+	dashed with it towards the door.  But the harp called out
+	quite loud: "Master!  Master!" and the ogre woke up just in
+	time to see Jack running off with his harp.
+		[ Jack and the Beanstalk, from English Fairy Tales,
+		  by Joseph Jacobs ]
+	This form of a pole axe is seen as a convex-headed broad axe 
+	in early examples, but the head is set at a convenient angle, 
+	considering the point where the blade is most likely to impact 
+	upon an enemy. This alone makes it quite distinct from an 
+	ordinary long-hafted axe. The whole weapon reaches 8 feet in length, 
+	and is nearly always topped with a long spear point and backed by 
+	a spike, which was often angled or hooked slightly downward. 
+	The spear point is, of course, designed to keep opponents at bay 
+	and deliver a thrusting attack (this proves quite useless when 
+	opposing mounted knights armed with lances). The opposing spike was 
+	for penetration of heavy plate armor, with a secondary function as a 
+	hook for dismounting opponents. 
+	I swear by Apollo the physician, and Aesculapius, and Health,
+	and All-heal, and all the gods and goddesses, that, according
+	to my ability and judgment, I will keep this Oath and this
+	stipulation -- to reckon him who taught me this Art equally dear
+	to me as my parents, to share my substance with him, and relieve
+	his necessities if required; to look upon his offspring in the
+	same footing as my own brothers, and to teach them this art, if
+	they shall wish to learn it, without fee or stipulation; and
+	that by precept, lecture, and every other mode of instruction,
+	I will impart a knowledge of the Art to my own sons, and those
+	of my teachers, and to disciples bound by a stipulation and oath
+	according to the law of medicine, but to none others.  I will
+	follow that system of regimen which, according to my ability and
+	judgment, I consider for the benefit of my patients, and abstain
+	from whatever is deleterious and mischievous.  [...]
+		[ Hippocrates' Oath, translated by Francis Adams ]
+
+	PHYSICIAN, n.  One upon whom we set our hopes when ill and our
+	dogs when well.
+		[ The Devil's Dictionary, by Ambrose Bierce ]
+	The other three drew in their breath sharply, and the dark,
+	powerful man who stood at the head of the sarcophagus whispered:
+	"The Heart of Ahriman!"  The other lifted a quick hand
+	for silence.  Somewhere a dog began howling dolefully, and a
+	stealthy step padded outside the barred and bolted door. ...
+	But none looked aside from the mummy case over which the man
+	in the ermine-trimmed robe was now moving the great flaming
+	jewel, while he muttered an incantation that was old when
+	Atlantis sank.  The glare of the gem dazzled their eyes, so
+	that they could not be sure what they saw; but with a
+	splintering crash, the carven lid of the sarcophagus burst
+	outward as if from some irresistible pressure applied from
+	within and the four men, bending eagerly forward, saw the
+	occupant -- a huddled, withered, wizened shape, with dried
+	brown limbs like dead wood showing through moldering bandages.
+	"Bring that thing back?" muttered the small dark man who
+	stood on the right, with a short, sardonic laugh.  "It is
+	ready to crumble at a touch.  We are fools ---"
+		[ Conan The Conqueror, by Robert E. Howard ]
+	Hell hounds are fire-breathing canines from another plane of
+	existence brought here in the service of evil beings.  A hell
+	hound resembles a large hound with rust-red or red-brown fur,
+	and red, glowing eyes.  The markings, teeth, and tongue are
+	soot black.  It stands two to three feet high at the shoulder
+	and has a distinct odour of smoke and sulphur.  The baying
+	sounds it makes have an eerie, hollow tone that sends a shiver
+	through any who hear them.
+	Messenger and herald of the Olympians.  Being required to do
+	a great deal of travelling and speaking in public, he became
+	the god of eloquence, travellers, merchants, and thieves.  He
+	was one of the most energetic of the Greek gods, a
+	Machiavellian character full of trickery and sexual vigour.
+	Like other Greek gods, he is endowed with not-inconsiderable
+	sexual prowess which he directs towards countryside nymphs.
+	He is a god of boundaries, guardian of graves and patron deity
+	of shepherds.  He is usually depicted as a handsome young
+	man wearing winged golden sandals and holding a magical
+	herald's staff consisting of intertwined serpents, the
+	kerykeion.  He is reputedly the only being able to find his way
+	to the underworld ferry of Charon and back again.  He is said
+	to have invented, among other things, the lyre, Pan's Pipes,
+	numbers, the alphabet, weights and measures, and sacrificing.
+	"Hezrou" is the common name for the type II demon.  It is
+	among the weaker of demons, but still quite formidable.
+		:heisenbug:
+		/hi:'zen-buhg/ [from Heisenberg's Uncertainty
+		Principle in quantum physics] n. A bug that disappears or alters
+		its behavior when one attempts to probe or isolate it.(This usage
+		is not even particularly fanciful; the use of a debugger sometimes
+		alters a program's operating environment significantly enough
+		that buggy code, such as that which relies on the values of
+		uninitialized memory, behaves quite differently.)  Antonym of
+		{Bohr bug}; see also {mandelbug}, {schroedinbug}.  In C,
+		nine out of ten heisenbugs result from uninitialized auto
+ 		variables, {fandango on core} phenomena (esp. lossage related
+		to corruption of the malloc {arena}) or errors that {smash
+		the stack}.
+		[ The Jargon File, version 3.0.0 ]
+	Greek physician, recognized as the father of medicine.  He
+	is believed to have been born on the island of Cos, to have
+	studied under his father, a physician, to have traveled for
+	some time, perhaps studying in Athens, and to have then
+	returned to practice, teach, and write at Cos.  The
+	Hippocratic or Coan school that formed around him was of
+	enormous importance in separating medicine from superstition
+	and philosophic speculation, placing it on a strictly
+	scientific plane based on objective observation and critical
+	deductive reasoning.
+		[ The Columbia Encyclopedia, Sixth Edition ]
+	Hobbits are an unobtrusive but very ancient people, more
+	numerous formerly than they are today; for they love peace
+	and quiet and good tilled earth:  a well-ordered and well-
+	farmed countryside was their favourite haunt.  They do not
+	and did not understand or like machines more complicated
+	than a forge-bellows, a water-mill, or a handloom, although
+	they were skillful with tools.  Even in ancient days they
+	were, as a rule, shy of "the Big Folk", as they call us, and
+	now they avoid us with dismay and are becoming hard to find.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Hobgoblin.  Used by the Puritans and in later times for
+	wicked goblin spirits, as in Bunyan's "Hobgoblin nor foul
+	friend", but its more correct use is for the friendly spirits
+	of the brownie type.  In "A midsummer night's dream" a
+	fairy says to Shakespeare's Puck:
+		Those that Hobgoblin call you, and sweet Puck,
+		You do their work, and they shall have good luck:
+		Are you not he?
+	and obviously Puck would not wish to be called a hobgoblin
+	if that was an ill-omened word.
+	Hobgoblins are on the whole, good-humoured and ready to be
+	helpful, but fond of practical joking, and like most of the
+	fairies rather nasty people to annoy.  Boggarts hover on the
+	verge of hobgoblindom.  Bogles are just over the edge.
+	One Hob mentioned by Henderson, was Hob Headless who haunted
+	the road between Hurworth and Neasham, but could not cross
+	the little river Kent, which flowed into the Tess.  He was
+	exorcised and laid under a large stone by the roadside for
+	ninety-nine years and a day.  If anyone was so unwary as to
+	sit on that stone, he would be unable to quit it for ever.
+	The ninety-nine years is nearly up, so trouble may soon be
+	heard of on the road between Hurworth and Neasham.
+		[ A Dictionary of Fairies, by Katharine Briggs ]
+	"We want a word with you," said Ligur (in a tone of voice
+	intended to imply that "word" was synonymous with "horrifically
+	painful eternity"), and the squat demon pushed open the office
+	door.
+	The bucket teetered, then fell neatly on Ligur's head.
+	Drop a lump of sodium in water.  Watch it flame and burn and
+	spin around crazily, flaring and sputtering.  This was like
+	that, just nastier.
+	The demon peeled and flared and flickered.  Oily brown smoke
+	oozed from it, and it screamed and it screamed and it screamed.
+	Then it crumpled, folded in on itself, and what was left lay
+	glistening on the burnt and blackened circle of carpet, looking
+	like a handful of mashed slugs.
+	"Hi," said Crowley to Hastur, who had been walking behind Ligur,
+	and had unfortunately not been so much as splashed.
+	There are some things that are unthinkable; there are some
+	depths that not even demons would believe other demons would
+	stoop to.
+	". . . Holy water.  You bastard," said Hastur.  "You complete
+	_bastard_.  He hadn't never done nothing to _you_."
+	"Yet," corrected Crowley.
+		[ Good Omens, by Neil Gaiman and Terry Pratchett ]
+	A homunculus is a creature summoned by a mage to perform some
+	particular task.  They are particularly good at spying.  They
+	are smallish creatures, but very agile.  They can put their
+	victims to sleep with a venomous bite, but due to their size,
+	the effect does not last long on humans.
+
+	"Tothapis cut him off.  'Be still and hearken.  You will travel
+	aboard the sacred wingboat.  Of it you may not have heard; but
+	it will bear you thither in a night and a day and a night.
+	With you will go a homunculus that can relay your words to me,
+	and mine to you, across the leagues between at the speed of
+	thought.'"
+		[ Conan the Rebel, by Poul Anderson ]
+	But as for Queequeg -- why, Queequeg sat there among them --
+	at the head of the table, too, it so chanced; as cool as an
+	icicle.  To be sure I cannot say much for his breeding.  His
+	greatest admirer could not have cordially justified his
+	bringing his harpoon into breakfast with him, and using it
+	there without ceremony; reaching over the table with it, to
+	the imminent jeopardy of many heads, and grappling the
+	beefsteaks towards him.
+		[ Moby Dick, by Herman Melville ]
+	Roland hath set the Olifant to his mouth,
+	He grasps it well, and with great virtue sounds.
+	High are those peaks, afar it rings and loud,
+	Thirty great leagues they hear its echoes mount.
+	So Charles heard, and all his comrades round;
+	Then said that King: "Battle they do, our counts!"
+	And Guenelun answered, contrarious:
+	"That were a lie, in any other mouth."
+		[ The Song of Roland ]
+	Horned devils lack any real special abilities, though they
+	are quite difficult to kill.
+	King Richard III: A horse! a horse! my kingdom for a horse!
+	Catesby: Withdraw, my lord; I'll help you to a horse.
+	King Richard III: Slave, I have set my life upon a cast,
+			  And I will stand the hazard of the die:
+			  I think there be six Richmonds in the field;
+			  Five have I slain to-day instead of him.
+			  A horse! a horse! my kingdom for a horse!
+		[ King Richard III, by William Shakespeare ]
+	[Pestilence:] And I saw when the Lamb opened one of the seals,
+	and I heard, as it were the noise of thunder, one of the four
+	beasts saying, Come and see.  And I saw, and behold a white
+	horse: and he that sat on him had a bow; and a crown was given
+	unto him: and he went forth conquering, and to conquer.
+
+	[War:] And when he had opened the second seal, I heard the
+	second beast say, Come and see.  And there went out another
+	horse that was red: and power was given to him that sat thereon
+	to take peace from the earth, and that they should kill one
+	another: and there was given unto him a great sword.
+
+	[Famine:] And when he had opened the third seal, I heard the
+	third beast say, Come and see.  And I beheld, and lo a black
+	horse; and he that sat on him had a pair of balances in his
+	hand.  And I heard a voice in the midst of the four beasts say,
+	A measure of wheat for a penny, and three measures of barley
+	for a penny; and see thou hurt not the oil and the wine.
+
+	[Death:] And when he had opened the fourth seal, I heard the
+	voice of the fourth beast say, Come and see.  And I looked, and
+	behold a pale horse: and his name that sat on him was Death,
+	and Hell followed with him.  And power was given unto them over
+	the fourth part of the earth, to kill with sword, and with
+	hunger, and with death, and with the beasts of the earth.
+		 [ Revelations of John, 6:1-8 ]
+	The first of five mythical Chinese emperors, Huan Ti is known
+	as the yellow emperor.  He rules the _moving_ heavens, as
+	opposed to the _dark_ heavens.  He is an inventor, said to
+	have given mankind among other things, the wheel, armour, and
+	the compass.  He is the god of fortune telling and war.
+	Huehuetotl, or Huhetotl, which means Old God, was the Aztec
+	(classical Mesoamerican) god of fire.  He is generally
+	associated with paternalism and one of the group classed
+	as the Xiuhtecuhtli complex.  He is known to send his
+	minions to wreak havoc upon ordinary humans.
+		 [ after the Encyclopedia of Gods, by Michael Jordan ]
+	Humanoids are all approximately the size of a human, and may
+	be mistaken for one at a distance.  They are usually of a
+	tribal nature, and will fiercely defend their lairs.  Usually
+	hostile, they may even band together to raid and pillage
+	human settlements.
+	These strange creatures live mostly on the surface of the
+	earth, gathering together in societies of various forms, but
+	occasionally a stray will descend into the depths and commit
+	mayhem among the dungeon residents who, naturally, often
+	resent the intrusion of such beasts.  They are capable of
+	using weapons and magic, and it is even rumored that the
+	Wizard of Yendor is a member of this species.
+	What of the hunting, hunter bold?
+	Brother, the watch was long and cold.
+	What of the quarry ye went to kill?
+	Brother, he crops in the jungle still.
+	Where is the power that made your pride?
+	Brother, it ebbs from my flank and side.
+	Where is the haste that ye hurry by?
+	Brother, I go to my lair to die.
+		[ The Jungle Book, by Rudyard Kipling ]
+	Ice devils are large semi-insectoid creatures, who are
+	equally at home in the fires of Hell and the cold of Limbo,
+	and who can cause the traveller to feel the latter with just
+	a touch of their tail.
+	Found mainly near the frozen wastes of the north, the Ice Mages
+	are a mysterious group of individuals who are rumored to be 
+	descendants of a once great northern civilization that fell into 
+	chaos over a thousand years ago.  
+	They wield the power of elemental cold, a conglomeration of elemental 
+	air and water.  They are particularly effective fighting fire-based 
+	creatures. Although they command of two of the four elements, Ice Mages 
+	have difficulty affecting undead, who are immune to cold.
+		[ by Drew Curtis ]
+	 ... imps ... little creatures of two feet high that could
+	gambol and jump prodigiously; ...
+		[ The Charwoman's Shadow, by Lord Dunsany ]
+
+	An 'imp' is an off-shoot or cutting.  Thus an 'ymp tree' was
+	a grafted tree, or one grown from a cutting, not from seed.
+	'Imp' properly means a small devil, an off-shoot of Satan,
+	but the distinction between goblins or bogles and imps from
+	hell is hard to make, and many in the Celtic countries as
+	well as the English Puritans regarded all fairies as devils.
+	The fairies of tradition often hover uneasily between the
+	ghostly and the diabolic state.
+		[ A Dictionary of Fairies, by Katharine Briggs ]
+	The incubus and succubus are male and female versions of the
+	same demon, one who lies with a human for its own purposes,
+	usually to the detriment of the mortals who are unwise in
+	their dealings with them.
+	"You are fettered, " said Scrooge, trembling.  "Tell me why?"
+	"I wear the chain I forged in life," replied the Ghost.  "I
+	made it link by link, and yard by yard; I girded it on of my
+	own free will, and of my own free will I wore it.  Is its
+	pattern strange to you?"
+	Scrooge trembled more and more.
+	"Or would you know," pursued the Ghost, "the weight and
+	length of the strong coil you bear yourself?  It was full as
+	heavy and as long as this, seven Christmas Eves ago.  You
+	have laboured on it, since.  It is a ponderous chain!"
+		[ A Christmas Carol, by Charles Dickens ]
+	Ishtar (the star of heaven) is the Mesopotamian goddess of
+	fertility and war.  She is usually depicted with wings and
+	weapon cases at her shoulders, carrying a ceremonial double-
+	headed mace-scimitar embellished with lion heads, frequently
+	being accompanied by a lion.  She is symbolized by an eight-
+	pointed star.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Now Issek of the Jug, whom Fafhrd chose to serve, was once
+	of the most lowly and unsuccessful of the gods, godlets
+	rather, in Lankhmar.  He had dwelt there for about thirteen
+	years, during which time he had traveled only two squares up
+	the Street of the Gods and was now back again, ready for
+	oblivion.  He is not to be confused with Issek the Armless,
+	Issek of the Burnt Legs, Flayed Issek, or any other of the
+	numerous and colorfully mutilated divinities of that name.
+	Indeed, his unpopularity may have been due in part to the
+	fact that the manner of his death -- racking -- was not
+	deemed particularly spectacular. ... However, after Fafhrd
+	became his acolyte, things somehow began to change.
+		[ Swords In The Mist, by Fritz Leiber ]
+	The shopkeeper of the lighting shop in the town level of the
+	gnomish mines is a tribute to Izchak Miller, a founding member
+	of the NetHack development team and a personal friend of a large
+	number of us.  Izchak contributed greatly to the game, coding a
+	large amount of the shopkeep logic (hence the nature of the tribute)
+	as well as a good part of the alignment system, the prayer code and
+	the rewrite of "hell" in the 3.1 release.  Izchak was a professor
+	of Philosophy, who taught at many respected institutions, including
+	MIT and Stanford, and who also worked, for a period of time, at
+	Xerox PARC.  Izchak was the first "librarian" of the NetHack project,
+	and was a founding member of the DevTeam, joining in 1986 while he
+	was working at the University of Pennsylvania (hence our former
+	mailing list address).  Until the 3.1.3 release, Izchak carefully
+	kept all of the code synchronized and arbitrated disputes between
+	members of the development teams.  Izchak Miller passed away at the
+	age of 58, in the early morning hours of April 1, 1994 from
+	complications due to cancer.  We then dedicated NetHack 3.2 in his
+	memory.
+			[ Mike Stephenson, for the NetHack DevTeam ]
+	"Beware the Jabberwock, my son!
+	  The jaws that bite, the claws that catch!
+	Beware the Jubjub bird, and shun
+	  The frumious Bandersnatch!"
+
+	He took his vorpal sword in hand;
+	  Long time the manxome foe he sought --
+	So rested he by the Tumtum tree,
+	  And stood awhile in thought.
+
+	And, as in uffish thought he stood,
+	  The Jabberwock, with eyes of flame,
+	Came whiffling through the tulgey wood,
+	  And burbled as it came!
+
+	One, two! One, two! And through and through
+	  The vorpal blade went snicker-snack!
+	He left it dead, and with its head
+	  He went galumphing back.
+				[ Jabberwocky, by Lewis Carroll ]
+	In Asiatic folktale, jackal provides for the lion; he scares
+	up game, which the lion kills and eats, and receives what is
+	left as reward.  In stories from northern India he is
+	sometimes termed "minister to the king," i.e. to the lion.
+	From the legend that he does not kill his own food has arisen
+	the legend of his cowardice.  Jackal's heart must never be
+	eaten, for instance, in the belief of peoples indigenous to
+	the regions where the jackal abounds. ... In Hausa Negro
+	folktale Jackal plays the role of sagacious judge and is
+	called "O Learned One of the Forest."  The Bushmen say that
+	Jackal goes around behaving the way he does "because he is
+	Jackal".
+		[ Funk & Wagnalls Standard Dictionary of Folklore ]
+	Nothing grew among the ruins of the city.  The streets were
+	broken and the walls of the houses had fallen, but there were
+	no weeds flowering in the cracks and it seemed that the city
+	had but recently been brought down by an earthquake.  Only
+	one thing still stood intact, towering over the ruins.  It
+	was a gigantic statue of white, gray and green jade - the
+	statue of a naked youth with a face of almost feminine beauty
+	that turned sightless eyes toward the north.
+	"The eyes!" Duke Avan Astran said.  "They're gone!"
+		[ The Jade Man's Eyes, by Michael Moorcock ]
+	Large, flesh-eating animal of the cat family, of Central and
+	South America.  This feline predator (_Panthera onca_) is
+	sometimes incorrectly called a panther.
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	I do not care to share the seas
+	With jellyfishes such as these;
+	Particularly Portuguese.
+		[ Lines on Meeting a Portuguese Man-o'-war while
+			Bathing, by Michael Flanders ]
+	Little is known about the Faceless Lord, even the correct
+	spelling of his name.  He does not have a physical form as
+	we know it, and those who have peered into his realm claim
+	he is a slime-like creature who swallows other creatures
+	alive, spits acidic secretions, and causes disease in his
+	victims which can be almost instantly fatal.
+	The kabuto is the helmet worn by the samurai.  It was
+	characterized by a prominent beaked front which jutted out over
+	the brow to protect the wearer's face; a feature that gives
+	rise to their modern Japanese name of 'shokaku tsuki kabuto'
+	(battering-ram helmet).  Their main constructional element
+	was an oval plate, the shokaku bo, slightly domed for the
+	head with a narrow prolongation in front that curved forwards
+	and downwards where it developed a pronounced central
+	fold.  Two horizontal strips encircling the head were riveted
+	to this frontal strip:  the lower one, the koshimaki (hip
+	wrap), formed the lower edge of the helmet bowl; the other,
+	the do maki (body wrap), was set at about the level of the
+	temples.  Filling the gaps between these strips and the shokaku
+	bo were small plates, sometimes triangular but more commonly
+	rectangular in shape.  Because the front projected so
+	far from the head, the triangular gap beneath was filled by
+	a small plate, the shoshaku tei ita, whose rear edge bent
+	downwards into a flange that rested against the forehead.
+	   [ Arms & Armour of the Samurai, by Bottomley & Hopson ]
+	The kamadan is a greatly feared hunter that resembles a large
+	leopard with six snakes sprouting from its shoulders.
+	Sages believe it is a distant relative of the displacer beast,
+	though how it came to be is still a matter for speculation.
+	    [ Creature Catalog by Scott Greene ]
+	The katana is a long, single-edged samurai sword with a
+	slightly curved blade.  Its long handle is designed to allow
+	it to be wielded with either one or two hands.
+	The ki-rin is a strange-looking flying creature.  It has
+	scales, a mane like a lion, a tail, hooves, and a horn.  It
+	is brightly colored, and can usually be found flying in the
+	sky looking for good deeds to reward.
+	Ector took both his sons to the church before which the
+	anvil had been placed.  There, standing before the anvil, he
+	commanded Kay:  "Put the sword back into the steel if you
+	really think the throne is yours!"  But the sword glanced
+	off the steel.  "Now it is your turn", Ector said facing
+	Arthur.
+	The young man lifted the sword and thrust with both arms; the
+	blade whizzed through the air with a flash and drilled the
+	metal as if it were mere butter.  Ector and Kay dropped to
+	their knees before Arthur.
+	"Why, father and brother, do you bow before me?", Arthur asked
+	with wonder in his voice.
+	"Because now I know for sure that you are the king, not only
+	by birth but also by law", Ector said.  "You are no son of
+	mine nor are you Kay's brother.  Immediately after your birth,
+	Merlin the Wise brought you to me to be raised safely.  And
+	though it was me that named you Arthur when you were baptized,
+	you are really the son of brave king Uther Pendragon and queen
+	Igraine..."
+	And after these words, the lord rose and went to see the arch-
+	bishop to impart to him what had passed.
+		[ Van Gouden Tijden Zingen de Harpen, by Vladimir Hulpach,
+			Emanuel Frynta, and Vackav Cibula ]
+	Possibly perceiving an expression of dubiosity on their
+	faces, the globetrotter went on adhering to his adventures.
+
+	-- And I seen a man killed in Trieste by an Italian chap.
+	Knife in his back.  Knife like that.
+
+	Whilst speaking he produced a dangerous looking clasp knife,
+	quite in keeping with his character, and held it in the
+	striking position.
+
+	-- In a knockingshop it was count of a tryon between two
+	smugglers.  Fellow hid behind a door, come up behind him.
+	Like that.  Prepare to meet your God, says he.  Chuck!  It
+	went into his back up to the butt.
+		[ Ulysses, by James Joyce ]
+	Here lies the noble fearless knight,
+	Whose valour rose to such a height;
+	When Death at last had struck him down,
+	His was the victory and renown.
+	He reck'd the world of little prize,
+	And was a bugbear in men's eyes;
+	But had the fortune in his age
+	To live a fool and die a sage.
+		[ Don Quixote of La Mancha by Miquel de
+			Cervantes Saavedra ]
+	The race of kobolds are reputed to be an artificial creation
+	of a master wizard (demi-god?).  They are about 3' tall with
+	a vaguely dog-like face.  They bear a violent dislike of the
+	Elven race, and will go out of their way to cause trouble
+	for Elves at any time.
+	The Kops are a brilliant concept.  To take a gaggle of inept
+	policemen and display them over and over again in a series of
+	riotously funny physical punishments plays equally well to the
+	peanut gallery and the expensive box seats.  People hate cops.
+	Even people who have never had anything to do with cops hate
+	them.  Of course, we count on them to keep order and to protect
+	us when we need protecting, and we love them on television shows
+	in which they have nerves of steel and hearts of gold, but in
+	the abstract, as a nation, collectively we hate them.  They are
+	too much like high school principals.  We're very happy to see
+	their pants fall down, and they look good to us with pie on
+	their faces.  The Keystone Kops turn up--and they get punished
+	for it, as they crash into each other, fall down, and suffer
+	indignity after indignity.  Here is pure movie satisfaction.
+
+	The Kops are very skillfully presented.  The comic originality
+	and timing in one of their chase scenes requires imagination
+	to think up, talent to execute, understanding of the medium,
+	and, of course, raw courage to perform.  The Kops are madmen
+	presented as incompetents, and they're madmen rushing around
+	in modern machines.  What's more, the machines they were operating
+	in their routines were newly invented and not yet experienced
+	by the average moviegoer.  (In the early days of automobiles,
+	it was reported that there were only two cars registered in all
+	of Kansas City, and they ran into each other.  There is both
+	poetry and philosophy in this fact, but most of all, there is
+	humor.  Sennett got the humor.)
+		[ Silent Stars, by Jeanine Basinger ]
+	"I am not a coward!" he cried.  "I'll dare Thieves' House
+	and fetch you Krovas' head and toss it with blood a-drip at
+	Vlana's feet.  I swear that, witness me, Kos the god of
+	dooms, by the brown bones of Nalgron my father and by his
+	sword Graywand here at my side!"
+	   [ Swords and Deviltry, by Fritz Leiber ]
+	A Japanese harp.
+	Out from the water a long sinuous tentacle had crawled; it
+	was pale-green and luminous and wet.  Its fingered end had
+	hold of Frodo's foot, and was dragging him into the water.
+	Sam on his knees was now slashing at it with a knife.  The
+	arm let go of Frodo, and Sam pulled him away, crying out
+	for help.  Twenty other arms came rippling out.  The dark
+	water boiled, and there was a hideous stench.
+	   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Blind Io took up the dice-box, which was a skull whose various
+	orifices had been stoppered with rubies, and with several of
+	his eyes on the Lady he rolled three fives.  She smiled.  This
+	was the nature of the Lady's eyes:  they were bright green,
+	lacking iris or pupil, and they glowed from within.
+
+	The room was silent as she scrabbled in her box of pieces and,
+	from the very bottom, produced a couple that she set down on
+	the board with two decisive clicks.  The rest of the players,
+	as one God, craned forward to peer at them.
+
+	"A wenegade wiffard and fome fort of clerk," said Offler the
+	Crocodile God, hindered as usual by his tusks.  "Well,
+	weally!"  With one claw he pushed a pile of bone-white tokens
+	into the centre of the table.
+
+	The Lady nodded slightly.  She picked up the dice-cup and held
+	it as steady as a rock, yet all the Gods could hear the three
+	cubes rattling about inside.  And then she sent them bouncing
+	across the table.
+
+		A six.  A three.  A five.
+
+	Something was happening to the five, however.  Battered by the
+	chance collision of several billion molecules, the die flipped
+	onto a point, spun gently and came down a seven.  Blind Io
+	picked up the cube and counted the sides.
+
+		"Come _on_," he said wearily, "Play fair."
+		[ The Colour of Magic, by Terry Pratchett ]
+	When he came to himself he told his mother what had passed,
+	and showed her the lamp and the fruits he had gathered in the
+	garden, which were in reality precious stones.  He then asked
+	for some food.
+
+	"Alas! child," she said, "I have nothing in the house, but I
+	have spun a little cotton and will go and sell it."
+
+	Aladdin bade her keep her cotton, for he would sell the lamp
+	instead.  As it was very dirty she began to rub it, that it
+	might fetch a higher price.  Instantly a hideous genie
+	appeared, and asked what she would have.  She fainted away,
+	but Aladdin, snatching the lamp, said boldly:
+	"Fetch me something to eat!"
+		[ Aladdin, from The Arabian Nights, by Andrew Lang ]
+	With this the wind increased, and the mill sails began to turn 
+	about; which Don Quixote espying, said, 'Although thou movest
+	more arms than the giant Briareus thou shalt stoop to me.'
+	And, after saying this, and commending himself most devoutly
+	to his Lady Dulcinea, desiring her to succor him in that trance,
+	covering himself well with his buckler, and setting his lance
+	on his rest, he spurred on Rozinante, and encountered with the
+	first mill that was before him, and, striking his lance into
+	the sail, the wind swung it about with such fury, that it broke
+	his lance into shivers, carrying him and his horse after it,
+	and finally tumbled him a good way off from it on the field in 
+	evil plight.
+		[ Don Quixote of La Mancha by Miquel de
+		  Cervantes Saavedra ]
+	They had splendid heads, fine shoulders, strong legs, and
+	straight tails.  The spots on their bodies were jet-black and
+	mostly the size of a two-shilling piece; they had smaller
+	spots on their heads, legs, and tails.  Their noses and eye-
+	rims were black.  Missis had a most winning expression.
+	Pongo, though a dog born to command, had a twinkle in his
+	eye.  They walked side by side with great dignity, only
+	putting the Dearlys on the leash to lead them over crossings.
+		[ The Hundred and One Dalmatians, by Dodie Smith ]
+	In the morning, as they were beginning to pack their slender
+	goods, Elves that could speak their tongue came to them and
+	brought them many gifts of food and clothing for their
+	journey.  The food was mostly in the form of very thin cakes,
+	made of a meal that was baked a light brown on the outside,
+	and inside was the colour of cream.  Gimli took up one of the
+	cakes and looked at it with a doubtful eye.
+	'Cram,' he said under his breath, as he broke off a crisp
+	corner and nibbled at it.  His expression quickly changed,
+	and he ate all the rest of the cake with relish.
+	'No more, no more!' cried the Elves laughing.  'You have
+	eaten enough already for a long day's march.'
+	'I thought it was only a kind of cram, such as the Dalemen
+	make for journeys in the wild,' said the Dwarf.
+	'So it is,' they answered.  'But we call it lembas or
+	waybread, and it is more strengthening than any foods made by
+	Men, and it is more pleasant than cram, by all accounts.'
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+		In the morning, as they were beginning to pack their slender goods,
+	Elves that could speak their tongue came to them and brought them many
+	gifts of food and clothing for their journey.  The food was mostly in
+	the form of very thin cakes, made of a meal that was baked a light brown
+	on the outside, and inside was the colour of cream.  Gimli took up one
+	of the cakes and looked at it with a doubtful eye.
+		'Cram,' he said under his breath, as he broke off a crisp corner and
+	nibbled at it.  His expression quickly changed, and he ate all the rest
+	of the cake with relish.
+		'No more, no more!' cried the Elves laughing.  'You have eaten enough
+	already for a long day's march.'
+		'I thought it was only a kind of cram, such as the Dalemen make for
+	journeys in the wild,' said the Dwarf.
+		'So it is,' they answered.  'But we call it lembas or waybread, and it
+	is more strengthening than any foods made by Men, and it is more
+	pleasant than cram, by all accounts.'
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	The lowliest of the inhabitants of hell.
+	... the leucrocotta, a wild beast of extraordinary swiftness,
+	the size of the wild ass, with the legs of a Stag, the neck,
+	tail, and breast of a lion, the head of a badger, a cloven
+	hoof, the mouth slit up as far as the ears, and one continuous
+	bone instead of teeth; it is said, too, that this animal can
+	imitate the human voice.
+		[ Curious Creatures in Zoology, by John Ashton ]
+	The Irish Leprechaun is the Faeries' shoemaker and is known
+	under various names in different parts of Ireland:
+	Cluricaune in Cork, Lurican in Kerry, Lurikeen in Kildare
+	and Lurigadaun in Tipperary.  Although he works for the
+	Faeries, the Leprechaun is not of the same species.  He is
+	small, has dark skin and wears strange clothes.  His nature
+	has something of the manic-depressive about it:  first he
+	is quite happy, whistling merrily as he nails a sole on to a
+	shoe; a few minutes later, he is sullen and morose, drunk
+	on his home-made heather ale.  The Leprechaun's two great
+	loves are tobacco and whiskey, and he is a first-rate con-man,
+	impossible to out-fox.  No one, no matter how clever, has ever
+	managed to cheat him out of his hidden pot of gold or his
+	magic shilling.  At the last minute he always thinks of some
+	way to divert his captor's attention and vanishes in the
+	twinkling of an eye.
+		[ A Field Guide to the Little People
+				   by Nancy Arrowsmith & George Moorse ]
+	The Lethe is a river, slow, dark and deep, which flows from
+	the mortal world to the forbidden lands of Gehennom.  It is
+	said that a single sip of its sparkling waters is enough to
+	wash a man's memories away, never to return.
+	But on its heels ere the sunset faded, there came a second
+	apparition, striding with incredible strides and halting when
+	it loomed almost upon me in the red twilight-the monstrous mummy
+	of some ancient king still crowned with untarnished gold but
+	turning to my gaze a visage that more than time or the worm had
+	wasted. Broken swathings flapped about the skeleton legs, and
+	above the crown that was set with sapphires and orange rubies, a
+	black something swayed and nodded horribly; but, for an instant,
+	I did not dream what it was.  Then, in its middle, two oblique
+	and scarlet eyes opened and glowed like hellish coals, and two
+	ophidian fangs glittered in an ape-like mouth.  A squat, furless,
+	shapeless head on a neck of disproportionate extent leaned
+	unspeakably down and whispered in the mummy's ear. Then, with
+	one stride, the titanic lich took half the distance between us,
+	and from out the folds of the tattered sere-cloth a gaunt arm
+	arose, and fleshless, taloned fingers laden with glowering gems,
+	reached out and fumbled for my throat . . .
+		[ The Abominations of Yondo, Clark Ashton Smith, 1926 ]
+	The chamber was of unhewn rock, round, as near as might
+	be, eighteen or twenty feet across, and gay with rich
+	variety of fern and moss and lichen.  The fern was in
+	its winter still, or coiling for the spring-tide; but
+	moss was in abundant life, some feathering, and some
+	gobleted, and some with fringe of red to it.
+		[ Lorna Doone, by R.D. Blackmore ]
+	Strange creatures formed from energy rather than matter,
+	lights are given to self-destructive behavior when battling
+	foes.
+	Lizards, snakes and the burrowing amphisbaenids make up the
+	order Squamata, meaning the scaly ones.  The elongate, slim,
+	long-tailed bodies of lizards have become modified to enable
+	them to live in a wide range of habitats.  Lizards can be
+	expert burrowers, runners, swimmers and climbers, and a few
+	can manage crude, short-distance gliding on rib-supported
+	"wings".  Most are carnivores, feeding on invertebrate and
+	small vertebrate prey, but others feed on vegetation.
+		[ Macmillan Illustrated Animal Encyclopedia ]
+	Loki, or Lopt, is described in Snorri's _Edda_ as being
+	"pleasing and handsome in appearance, evil in character, and
+	very capricious in behaviour".  He is the son of the giant
+	Farbauti and of Laufey.
+	Loki is the Norse god of cunning, evil, thieves, and fire.
+	He hated the other gods and wanted to ruin them and overthrow
+	the universe.  He committed many murders.  As a thief, he
+	stole Freyja's necklace, Thor's belt and gauntlets of power,
+	and the apples of youth.  Able to shapechange at will, he is
+	said to have impersonated at various times a mare, flea, fly,
+	falcon, seal, and an old crone.  As a mare he gave birth to
+	Odin's horse Sleipnir.  He also allegedly sired the serpent
+	Midgard, the mistress of the netherworld, Hel, and the wolf
+	Fenrir, who will devour the sun at Ragnarok.
+	This legendary bow grants ESP when carried and can reflect magical
+	attacks when wielded.  When invoked it provides a supply of arrows.
+	But as Snow White grew, she became more and more beautiful,
+	and by the time she was seven years old she was as beautiful
+	as the day and more beautiful than the queen herself.  One
+	day when the queen said to her mirror:
+
+		"Mirror, Mirror, here I stand.
+		Who is the fairest in the land?" -
+
+	the mirror replied:
+
+		"You, O Queen, are the fairest here,
+		But Snow White is a thousand times more fair."
+		[ Snow White, by Jakob and Wilhelm Grimm ]
+	Lord Carnarvon was a personality who could have been produced
+	nowhere but in England, a mixture of sportsman and collector,
+	gentleman and world traveler, a realist in action and a
+	romantic in feeling.  ...  In 1903 he went for the first time
+	to Egypt in search of a mild climate and while there visited
+	the excavation sites of several archaeological expeditions.
+	...  In 1906 he began his own excavations.
+		[ Gods, Graves, and Scholars, by C. W. Ceram ]
+	Lord Sato was the family head of the Taro Clan, and a mighty
+	daimyo.  He is a loyal servant of the Emperor, and will do
+	everything in his power to further the imperial cause.
+	Yet first was the world in the southern region, which was
+	named Muspell; it is light and hot; that region is glowing
+	and burning, and impassable to such as are outlanders and
+	have not their holdings there.  He who sits there at the
+	land's-end, to defend the land, is called Surtr; he brandishes
+	a flaming sword, and at the end of the world he shall go forth
+	and harry, and overcome all the gods, and burn all the
+	world with fire.
+			[ The Prose Edda, by Snorri Sturluson ]
+	Lugh, or Lug, was the sun god of the Irish Celts.  One of his
+	weapons was a rod-sling which worshippers sometimes saw in
+	the sky as a rainbow.  As a tribal god, he was particularly
+	skilled in the use of his massive, invincible spear, which
+	fought on its own accord.  One of his epithets is _lamfhada_
+	(of the long arm).  He was a young and apparently more
+	attractive deity than Dagda, the father of the gods.  Being
+	able to shapeshift, his name translates as lynx.
+	These dungeon scavengers are very adept at blending into the
+	surrounding walls and ceilings of the dungeon due to the
+	stone-like coloring of their skin.
+	In 1573, the Parliament of Dole published a decree, permitting
+	the inhabitants of the Franche-Comte to pursue and kill a
+	were-wolf or loup-garou, which infested that province,
+	"notwithstanding the existing laws concerning the chase."
+	The people were empowered to "assemble with javelins,
+	halberds, pikes, arquebuses and clubs, to hunt and pursue the
+	said were-wolf in all places where they could find it, and to
+	take, burn, and kill it, without incurring any fine or other
+	penalty."  The hunt seems to have been successful, if we may
+	judge from the fact that the same tribunal in the following
+	year condemned to be burned a man named Giles Garnier, who
+	ran on all fours in the forest and fields and devoured little
+	children, "even on Friday."  The poor lycanthrope, it appears,
+	had as slight respect for ecclesiastical feasts as the French
+	pig, which was not restrained by any feeling of piety from
+	eating infants on a fast day.
+		[ The History of Vampires, by Dudley Wright ]
+	To dream of seeing a lynx, enemies are undermining your
+	business and disrupting your home affairs.  For a woman,
+	this dream indicates that she has a wary woman rivaling her
+	in the affections of her lover. If she kills the lynx, she
+	will overcome her rival.
+		[ 10,000 Dreams Interpreted, by Gustavus Hindman Miller ]
+	The pen is mightier than the sword.
+		[ Richelieu, by Edward Bulwer-Lytton ]
+	This powerful mirror was created by Merlin, the druid, in ages
+	past, when trees sang and rocks danced.  It protects all who
+	carry it from magic missiles, and gives them ESP.
+	It is rumoured that these strange creatures can be harmed by
+	domesticated canines only.
+	Normally called Manannan, Ler's son was the patron of
+	merchants and sailors.  Manannan had a sword which never
+	failed to slay, a boat which propelled itself wherever its
+	owner wished, a horse which was swifter than the wind, and
+	magic armour which no sword could pierce.  He later became
+	god of the sea, beneath which he lived in Tir na nOc, the
+	underworld.
+	The gnats of the dungeon, these swarming monsters are rarely
+	seen alone.
+	The Mangler (1995)
+	Starring: Robert Englund, Ted Levine
+	Director: Tobe Hooper
+	Synopsis: An industrial laundry machine develops a taste for blood in
+	 this Stephen King adaptation. Strictly for genre fans who overlook
+	 ludicrous plot, acting, and prefer bloody gore to genuine scares.
+	Runtime: 106 minutes
+		[ www.reel.com ]
+	First insisting on recognition as supreme commander, Marduk
+	defeated the Dragon, cut her body in two, and from it created
+	heaven and earth, peopling the world with human beings who not
+	unnaturally showed intense gratitude for their lives.  The
+	gods were also properly grateful, invested him with many
+	titles, and eventually permitted themselves to be embodied in
+	him, so that he became supreme god, plotting the whole course
+	of known life from the paths of the planets to the daily
+	events in the lives of men.
+		[ The Immortals, by Derek and Julia Parker ]
+	The marilith has a torso shaped like that of a human female,
+	and the lower body of a great snake.  It has multiple arms,
+	and can freely attack with all of them.  Since it is
+	intelligent enough to use weapons, this means it can cause
+	great damage.
+	The god of war, and one of the most prominent and worshipped
+	gods.  In early Roman history he was a god of spring, growth in
+	nature, and fertility, and the protector of cattle.  Mars is
+	also mentioned as a chthonic god (earth-god) and this could
+	explain why he became a god of death and finally a god of war.
+	He is the son of Jupiter and Juno.
+		[ Encyclopedia Mythica, ed. M.F. Lindemans ]
+	He strolled down the stairs, followed by a number of assassins.
+	When he was directly in front of Ymor he said: "I've come for
+	the tourist." ...
+	"One step more and you'll leave here with fewer eyeballs than
+	you came with," said the thiefmaster.  "So sit down and have
+	a drink, Zlorf, and let's talk about this sensibly.  _I_
+	thought we had an agreement.  You don't rob -- I don't kill.
+	Not for payment, that is," he added after a pause.
+	Zlorf took the proffered beer.
+	"So?" he said.  "I'll kill him.  Then you rob him.  Is he that
+	funny looking one over there?"
+	"Yes."
+	Zlorf stared at Twoflower, who grinned at him.  He shrugged.
+	He seldom wasted time wondering why people wanted other people
+	dead.  It was just a living.
+	"Who is your client, may I ask?" said Ymor.
+	Zlorf held up a hand.  "Please!" he protested.  "Professional
+	etiquette."
+		[ The Colour of Magic, by Terry Pratchett ]
+	This skeleton key was fashioned in ages past and imbued with
+	a powerful magic which allows it to open any lock.  When
+	carried, it grants its owner warning, teleport control, and
+	reduces all physical damage by half.  Finally, when invoked,
+	it has the ability to disarm any trap.
+	There was a flutter of wings at the window.  Ymor shifted his
+	bulk out of the chair and crossed the room, coming back with
+	a large raven.  After he'd unfastened the message capsule from
+	its leg it flew up to join its fellows lurking among the
+	rafters.  Withel regarded it without love.  Ymor's ravens were
+	notoriously loyal to their master, to the extent that Withel's
+	one attempt to promote himself to the rank of greatest thief
+	in Ankh-Morpork had cost their master's right hand man his
+	left eye.  But not his life, however.  Ymor never grudged a
+	man his ambitions.
+		[ The Colour of Magic, by Terry Pratchett ]
+	Any large, elephantlike mammal of the genera Mammut, Mastodon,
+	etc., from the Oligocene and Pleistocene epochs, having
+	conical projections on the molar teeth.
+		[ Webster's Encyclopedic Unabridged Dictionary
+			of the English Language ]
+
+	Yakwawi, the Mastodon, was placed on the world to be useful 
+	to man; but the great monstrous beast was fierce, powerful and
+	invincible. Its hide was so strong and so thick that the sharpest 
+	spears and arrows could hardly penetrate it. This terrible 
+	creature made war against all the other animals that lived in 
+	the woods and on the plains; other animals that the Creator put 
+	here to be used as meat for the Lenap people.)
+		[ From Legends of the Lenape Native Americans ]
+	Some hae meat and canna eat,
+	And some would eat that want it;
+	But we hae meat, and we can eat,
+	Sae let the Lord be thankit.
+		[ Grace Before Meat, by Robert Burns ]
+	Medusa, one of the three Gorgons or Graeae, is the only one
+	of her sisters to have assumed mortal form and inhabited the
+	dungeon world.
+
+	When Perseus was grown up Polydectes sent him to attempt the
+	conquest of Medusa, a terrible monster who had laid waste the
+	country.  She was once a beautiful maiden whose hair was her
+	chief glory, but as she dared to vie in beauty with Minerva,
+	the goddess deprived her of her charms and changed her
+	beautiful ringlets into hissing serpents.  She became a cruel
+	monster of so frightful an aspect that no living thing could
+	behold her without being turned into stone.  All around the
+	cavern where she dwelt might be seen the stony figures of men
+	and animals which had chanced to catch a glimpse of her and
+	had been petrified with the sight.  Perseus, favoured by
+	Minerva and Mercury, the former of whom lent him her shield
+	and the latter his winged shoes, approached Medusa while she
+	slept and taking care not to look directly at her, but guided
+	by her image reflected in the bright shield which he bore, he
+	cut off her head and gave it to Minerva, who fixed it in the
+	middle of her Aegis.
+		[ Bulfinch's Mythology, by Thomas Bulfinch ]
+	"What is it, Umbopa, son of a fool?" I shouted in Zulu.
+	"It is food and water, Macumazahn," and again he waved the
+	green thing.
+	Then I saw what he had got.  It was a melon.  We had hit upon
+	a patch of wild melons, thousands of them, and dead ripe.
+	"Melons!" I yelled to Good, who was next me; and in another
+	second he had his false teeth fixed in one.
+	I think we ate about six each before we had done, and, poor
+	fruit as they were, I doubt if I ever thought anything nicer.
+		[ King Solomon's Mines, by H. Rider Haggard ]
+	Roman god of commerce, trade and travellers.  He is commonly
+	depicted carrying a caduceus (a staff with two snakes
+	intertwining around it) and a purse.
+	These strange beings are visitors from another realm.  An 
+	unusual symbiotic relationship exists between the intelligent 
+	fungus and the insectoid form that comprises the bulk of its 
+	body.  They are said to have access to great magical powers. 
+	Their queens have been known to steal human brains, taking 
+	them back to distant Yuggoth.
+	Migo are also known as the Fungi from Yuggoth. 
+	The ancestors of the modern day chameleon, these creatures can
+	assume the form of anything in their surroundings.  They may
+	assume the shape of objects or dungeon features.  Unlike the
+	chameleon though, which assumes the shape of another creature
+	and goes in hunt of food, the mimic waits patiently for its
+	meals to come in search of it.
+	This creature has a humanoid body, tentacles around its
+	covered mouth, and three long fingers on each hand.  Mind
+	flayers are telepathic, and love to devour intelligent beings,
+	especially humans.  If they hit their victim with a tentacle,
+	the mind flayer will slowly drain it of all intelligence,
+	eventually killing its victim.
+	Made by Dwarfs.  The Rule here is that the Mine is either long
+	deserted or at most is inhabited by a few survivors who will
+	make confused claims to have been driven out/decimated by humans/
+	other Dwarfs/Minions of the Dark Lord.  Inhabited or not, this
+	Mine will be very complex, with many levels of galleries,
+	beautifully carved and engineered.  What was being mined here
+	is not always evident, but at least some of the time it will
+	appear to have been Jewels, since it is customary to find
+	unwanted emeralds, etc., still embedded in the rock of the
+	walls.  Metal will also be present, but only when made up into
+	armor and weapons (_wondrous_).
+		[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	The Minotaur was a monster, half bull, half human, the
+	offspring of Minos' wife Pasiphae and a wonderfully beautiful
+	bull. ...  When the Minotaur was born Minos did not kill him.
+	He had Daedalus, a great architect and inventor, construct a
+	place of confinement for him from which escape was impossible.
+	Daedalus built the Labyrinth, famous throughout the world.
+	Once inside, one would go endlessly along its twisting paths
+	without ever finding the exit.
+		[ Mythology, by Edith Hamilton ]
+	Originating in India (Mitra), Mithra is a god of light who
+	was translated into the attendant of the god Ahura Mazda in
+	the light religion of Persia; from this he was adopted as
+	the Roman deity Mithras.  He is not generally regarded as a
+	sky god but a personification of the fertilizing power of
+	warm, light air.  According to the _Avesta_, he possesses
+	10,000 eyes and ears and rides in a chariot drawn by white
+	horses.  Mithra, according to Zarathustra, is concerned with
+	the endless battle between light and dark forces:  he
+	represents truth.  He is responsible for the keeping of oaths
+	and contracts.  He is attributed with the creation of both
+	plants and animals.  His chief adversary is Ahriman, the
+	power of darkness.
+		[ The Encyclopaedia of Myths and Legends of All
+			Nations, by Herbert Spencer Robinson and
+			Knox Wilson ]
+	_Mithril_!  All folk desired it.  It could be beaten like
+	copper, and polished like glass; and the Dwarves could make
+	of it a metal, light and yet harder than tempered steel.
+	Its beauty was like to that of common silver, but the beauty
+	of _mithril_ did not tarnish or grow dim.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	This helm of brilliance performs all of the normal functions
+	of a helm of brilliance, but also has the ability to protect
+	anyone who carries it from fire.  When invoked, it boosts
+	the energy of the invoker, allowing them to cast more spells.
+	Forged by the dwarves Eitri and Brokk, in response to Loki's
+	challenge, Mjollnir is an indestructible war hammer.  It has
+	two magical properties:  when thrown it always returned to
+	Thor's hand; and it could be made to shrink in size until it
+	could fit inside Thor's shirt.  Its only flaw is that it has
+	a short handle.  The other gods judged Mjollnir the winner of
+	the contest because, of all the treasures created, it alone had
+	the power to protect them from the giants.  As the legends
+	surrounding Mjollnir grew, it began to take on the quality of
+	"vigja", or consecration.  Thor used it to consecrate births,
+	weddings, and even to raise his goats from the dead.  In the
+	Norse mythologies Mjollnir is considered to represent Thor's
+	governance over the entire cycle of life - fertility, birth,
+	destruction, and resurrection.
+	Mold, multicellular organism of the division Fungi, typified
+	by plant bodies composed of a network of cottony filaments.
+	The colors of molds are due to spores borne on the filaments.
+	Most molds are saprophytes.  Some species (e.g., penicillium)
+	are used in making cheese and antibiotics.
+		[ The Concise Columbia Encyclopedia ]
+	And the Lord spake unto Moses, saying,
+	Again, thou shalt say to the children of Israel, Whosoever
+	he be of the children of Israel, or of the strangers that
+	sojourn in Israel, that giveth any of his seed unto Molech;
+	he shall surely be put to death: the people of the land shall
+	stone him with stones.
+	And I will set my face against that man, and will cut him off
+	from among his people; because he hath given of his seed unto
+	Molech, to defile my sanctuary, and to profane my holy name.
+	And if the people of the land do any ways hide their eyes
+	from the man, when he giveth of his seed unto Molech, and kill
+	him not:
+	Then I will set my face against that man, and against his
+	family, and will cut him off, and all that go a whoring after
+	him, to commit whoredom with Molech, from among their people.
+		[ Leviticus 20:1-5 ]
+	Moradin is the creator, the ancestral father of the dwarven race.
+	He is an excellent craftsman and warrior, as befits the respected
+	leader of the dwarven pantheon, and is a master of the forge.  He
+	is pictured as a tall, muscular dwarf, wearing rough blacksmith's
+	clothing.  In most representations of him, he is at the forge,
+	working on a piece of steel.  As could be expected, his symbol of
+	worship is the anvil and hammer.
+	In appearance, a cross between a small boy and a bat, this nimble
+	creature is capable of quick, aerial strikes. Fortunately, a
+	mongbat's small size renders its attack little more than a painful
+	nuisance.
+	    [ Beyond the Serpent Pillars by Andrew Morris ]
+
+	Though a novice, the warrior had riches.
+	In finery, he assaulted the liches.
+	  An orc got his suit,
+	  A spectre one boot,
+	And a mongbat is wearing his britches.
+	    [ Limericks, by Magus ]
+	One day, an army general invited the Buddhist monk I-Hsiu
+	(literally, "One Rest") to his military head office for a
+	dinner.  I-Hsiu was not accustomed to wearing luxurious
+	clothings and so he just put on an old ordinary casual
+	robe to go to the military base.  To him, "form is void".
+
+	As he approached the base, two soldiers appeared before him
+	and shouted, "Where does this beggar came from?  Identify
+	yourself!  You do not have permission to be around here!"
+
+	"My name is I-Hsiu Dharma Master.  I am invited by your
+	general for a supper."
+
+	The two soldiers examined the monk closely and said, "You
+	liar.  How come my general invites such a shabby monk to
+	dinner?  He invites the very solemn venerable I-Hsiu to our
+	base for a great ceremony today, not you.  Now, get out!"
+
+	I-Hsiu was unable to convince the soldiers that he was
+	indeed the invited guest, so he returned to the temple
+	and changed to a very formal solemn ceremonial robe for
+	the dinner.  And as he returned to the military base, the
+	soldiers observed that he was such a great Buddhist monk,
+	let him in with honour.
+
+	At the dinner, I-Hsiu sat in front of the table full of
+	food but, instead of putting the food into his month, he
+	picked up the food with his chopsticks and put it into
+	his sleeves.  The general was curious, and whispered to
+	him, "This is very embarrassing.  Do you want to take
+	some food back to the temple?  I will order the cook to
+	prepare some take out orders for you."  "No" replied the
+	monk.  "When I came here, I was not allowed into the
+	base by your soldiers until I wear this ceremonial robe.
+	You do not invite me for a dinner.  You invite my robe.
+	Therefore, my robe is eating the food, not me."
+		[ Dining with a General - a Zen Buddhism Koan ]
+	"Listen, man-cub," said the Bear, and his voice rumbled like
+	thunder on a hot night.  "I have taught thee all the Law of
+	the Jungle for all the peoples of the jungle--except the
+	Monkey-Folk who live in the trees.  They have no law.  They
+	are outcasts.  They have no speech of their own, but use the
+	stolen words which they overhear when they listen, and peep,
+	and wait up above in the branches.  Their way is not our way.
+	They are without leaders.  They have no remembrance.  They
+	boast and chatter and pretend that they are a great people
+	about to do great affairs in the jungle, but the falling of
+	a nut turns their minds to laughter and all is forgotten.
+	We of the jungle have no dealings with them.  We do not drink
+	where the monkeys drink; we do not go where the monkeys go;
+	we do not hunt where they hunt; we do not die where they die...."
+		[ The Jungle Book, by Rudyard Kipling ]
+	... the Mumak of Harad was indeed a beast of vast bulk, and
+	the like of him does not walk now in Middle-Earth; his kin
+	that live still in latter days are but memories of his girth
+	and majesty.  On he came, ... his great legs like trees,
+	enormous sail-like ears spread out, long snout upraised like
+	a huge serpent about to strike, his small red eyes raging.
+	His upturned hornlike tusks ... dripped with blood.
+		[ The Two Towers, by J.R.R. Tolkien ]
+	But for an account of the manner in which the body was
+	bandaged, and a list of the unguents and other materials
+	employed in the process, and the words of power which were
+	spoken as each bandage was laid in its place, we must have
+	recourse to a very interesting papyrus which has been edited
+	and translated by M. Maspero under the title of Le Rituel de
+	l'Embaumement. ...
+	Everything that could be done to preserve the body was now
+	done, and every member of it was, by means of the words of
+	power which changed perishable substances into imperishable,
+	protected to all eternity; when the final covering of purple
+	or white linen had been fastened upon it, the body was ready
+	for the tomb.
+		[ Egyptian Magic, by E.A. Wallis Budge ]
+	He held a white cloth -- it was a serviette he had brought
+	with him -- over the lower part of his face, so that his
+	mouth and jaws were completely hidden, and that was the
+	reason for his muffled voice.  But it was not that which
+	startled Mrs. Hall.  It was the fact that all his forehead
+	above his blue glasses was covered by a white bandage, and
+	that another covered his ears, leaving not a scrap of his
+	face exposed excepting only his pink, peaked nose.  It was
+	bright, pink, and shiny just as it had been at first.  He
+	wore a dark-brown velvet jacket with a high, black, linen-
+	lined collar turned up about his neck.  The thick black
+	hair, escaping as it could below and between the cross
+	bandages, project in curious tails and horns, giving him
+	the strangest appearance conceivable.
+		[ The Invisible Man, by H.G. Wells ]
+	The naga is a mystical creature with the body of a snake and
+	the head of a man or woman.  They will fiercely protect the
+	territory they consider their own.  Some nagas can be forced
+	to serve as guardians by a spellcaster of great power.
+	A Japanese pole-arm, fitted with a curved single-edged blade.
+	The blades ranged in length from two to four feet, mounted on
+	shafts about four to five feet long.  The naginata were cut
+	with a series of short grooves near to the tang, above which
+	the back edge was thinned, but not sharpened, so that the
+	greater part of the blade was a flattened diamond shape in
+	section.  Seen in profile, the curve is slight or non-
+	existent near the tang, becoming more pronounced towards the
+	point.
+
+	"With his naginata he killed five, but with the sixth it
+	snapped asunder in the midst and, flinging it away, he drew
+	his sword, wielding it in the zigzag style, the interlacing,
+	cross, reversed dragonfly, waterwheel, and eight-sides-at-
+	once styles of fencing and cutting down eight men; but as he
+	brought down the ninth with a mighty blow on the helmet, the
+	blade snapped at the hilt."
+	[ Story of Tsutsui no Jomio Meishu from Tales of Heike ]
+	Not only do these demons do physical damage with their claws
+	and bite, but they are capable of using magic as well.
+	Nalzok is Moloch's cunning and unfailingly loyal battle
+	lieutenant, to whom he trusts the command of warfare when he
+	does not wish to exercise it himself.  Nalzok is a major
+	demon, known to command the undead.  He is hungry for power,
+	and secretly covets Moloch's position.  Moloch doesn't trust
+	him, but, trusting his own power enough, chooses to allow
+	Nalzok his position because he is useful.
+	1.  Valley between Duesseldorf and Elberfeld in Germany,
+	where an ancient skull of a prehistoric ancestor to modern
+	man was found.  2.  Human(oid) of the race mentioned above.
+	Neferet the Green holds office in her hidden tower, only
+	reachable by magical means, where she teaches her apprentices
+	the enigmatic skills of occultism.  Despite her many years, she
+	continues to investigate new spells, especially those involving
+	translocation.  It is further rumored that when she was an
+	apprentice herself, she accidentally turned her skin green, and
+	has kept it that way ever since.
+	(kinds of) small animal, like a lizard, which spends most of
+	its time in the water.
+		[ Oxford's Student's Dictionary of Current English ]
+
+	"Fillet of a fenny snake,
+	In the cauldron boil and bake;
+	Eye of newt and toe of frog,
+	Wool of bat and tongue of dog,
+	Adder's fork and blind-worm's sting,
+	Lizard's leg and howlet's wing,
+	For a charm of powerful trouble,
+	Like a hell-broth boil and bubble."
+		[ Macbeth, by William Shakespeare ]
+	A Japanese broadsword.
+	A vast, endless, eternally dark gulf said to lie at the bottom
+	of Gehennom.  Even daemons fear to tread there.  The source of
+	the Lethe river is said to be within the great gulf.  What few
+	tales exist of its outer reaches speak of hordes of hideous
+	gugs that scavenge and devour the bodies of all who enter.
+	The Norns were the three Norse Fates, or the goddesses of fate.
+	Female giants, they brought the wonderful Golden Age to an end.
+	They cast lots over the cradle of every child that was born,
+	and placed gifts in the cradle.  Their names were Urda,
+	Verdandi, and Skuld, representing the past, the present, and
+	the future.  Urda and Verdandi were kindly disposed, but Skuld
+	was cruel and savage.  Their tasks were to sew the web of
+	fate, to water the sacred ash, Yggdrasil, and to keep it in
+	good condition by placing fresh earth around it daily.  In her
+	fury, Skuld often spoiled the work of her sisters by tearing
+	the web to shreds.
+		[ The Encyclopedia of Myths and Legends of All
+			Nations by Herbert Spencer Robinson and Knox
+			Wilson ]
+	A Japanese flail.
+	A female creature from Roman and Greek mythology, the nymph
+	occupied rivers, forests, ponds, etc.  A nymph's beauty is
+	beyond words:  an ever-young woman with sleek figure and
+	long, thick hair, radiant skin and perfect teeth, full lips
+	and gentle eyes.  A nymph's scent is delightful, and her
+	long robe glows, hemmed with golden threads and embroidered
+	with rainbow hues of unearthly magnificence.  A nymph's
+	demeanour is graceful and charming, her mind quick and witty.
+
+	"Theseus felt her voice pulling him down into fathoms of
+	sleep.  The song was the skeleton of his dream, and the dream
+	was full of terror.  Demon girls were after him, and a bull-
+	man was goring him.  Everywhere there was blood.  There was
+	pain.  There was fear.  But his head was in the nymph's lap
+	and her musk was about him, her voice weaving the dream.  He
+	knew then that she had been sent to tell him of something
+	dreadful that was to happen to him later.  Her song was a
+	warning.  But she had brought him a new kind of joy, one that
+	made him see everything differently.  The boy, who was to
+	become a hero, suddenly knew then what most heroes learn
+	later -- and some too late -- that joy blots suffering and
+	that the road to nymphs is beset by monsters."
+		[ The Minotaur by Bernard Evslin ]
+	Also called Sigtyr (god of Victory), Val-father (father of
+	the slain), One-Eyed, Hanga-god (god of the hanged), Farma-
+	god (god of cargoes), Hapta-god (god of prisoners), and
+	Othin.  He is the prime god of the Norsemen:  god of war and
+	victory, wisdom and prophecy, poetry, the dead, air and wind,
+	hospitality, and magic.
+	As the god of war and victory, Odin is ruler of the Valkyries,
+	warrior-maidens who lived in the halls of Valhalla in Asgard,
+	the hall of dead heroes where he held his court.
+	These chosen ones will defend the realm of the gods against
+	the Frost Giants on the final day of reckoning, Ragnarok.
+	As god of the wind, Odin rides through the air on his eight-
+	footed horse, Sleipnir, wielding Gungner, his spear, normally
+	accompanied by his ravens, Hugin and Munin, who he would also
+	use as his spies.
+	As a god of hospitality, he enjoys visiting the earth in
+	disguise to see how people were behaving and to see how they
+	would treat him, not knowing who he was.
+	Odin is usually represented as a one-eyed wise old man with a
+	long white beard and a wide-brimmed hat (he gave one of his
+	eyes to Mimir, the guardian of the well of wisdom in Hel, in
+	exchange for a draught of knowledge).
+	Anyone who has met a gluttonous, nude, angry ogre, will not
+	easily forget this encounter -- if he survives it at all.
+	Both male and female ogres can easily grow as tall as three
+	metres.  Build and facial expressions would remind one of a
+	Neanderthal.  Its small, pointy, keen teeth are striking.
+	Since ogres avoid direct sunlight, their ragged, unfurry
+	skin is as white as a sheet.  They enjoy coating their body
+	with lard and usually wear nothing but a loin-cloth.  An elf
+	would smell its rancid stench at ten metres distance.
+	Ogres are solitary creatures:  very rarely one may encounter
+	a female with two or three young.  They are the only real
+	carnivores among the humanoids, and its favourite meal is --
+	not surprisingly -- human flesh.  They sometimes ally with
+	orcs or goblins, but only when they anticipate a good meaty
+	meal.
+		[ het Boek van de Regels; Het Oog des Meesters ]
+	During our watches below we overhauled our clothes, and made
+	and mended everything for bad weather.  Each of us had made
+	for himself a suit of oil-cloth or tarpaulin, and these we
+	got out, and gave thorough coatings of oil or tar, and hung
+	upon the stays to dry.  Our stout boots, too, we covered
+	over with a thick mixture of melted grease and tar.  Thus we
+	took advantage of the warm sun and fine weather of the
+	Pacific to prepare for its other face.
+		[ Two Years Before the Mast, by Richard Henry Dana ]
+	Summer passed all too quickly.  On the last day of camp, Mr.
+	Brickle called his counselors together and paid them what he
+	owed them.  Louis received one hundred dollars - the first
+	money he had ever earned.  He had no wallet and no pockets,
+	so Mr. Brickle placed the money in a waterproof bag that had
+	a drawstring.  He hung this moneybag around Louis' neck,
+	along with the trumpet, the slate, the chalk pencil, and the
+	lifesaving medal.
+		[ The Trumpet of the Swan, by E.B. White ]
+	But at the end of the Third Age a troll-race not before seen
+	appeared in southern Mirkwood and in the mountain borders of
+	Mordor.  Olog-hai they were called in the Black Speech.  That
+	Sauron bred them none doubted, though from what stock was not
+	known.  Some held that they were not Trolls but giant Orcs;
+	but the Olog-hai were in fashion of body and mind quite unlike
+	even the largest of Orc-kind, whom they far surpassed in size
+	and power.  Trolls they were, but filled with the evil will
+	of their master:  a fell race, strong, agile, fierce and
+	cunning, but harder than stone.  Unlike the older race of the
+	Twilight they could endure the Sun....  They spoke little,
+	and the only tongue they knew was the Black Speech of Barad-dur.
+		[ The Return of the King, by J.R.R. Tolkien ]
+	Delphi under towering Parnassus, where Apollo's oracle was,
+	plays an important part in mythology.  Castalia was its
+	sacred spring; Cephissus its river.  It was held to be the
+	center of the world, so many pilgrims came to it, from
+	foreign countries as well as Greece.  No other shrine rivaled
+	it.  The answers to the questions asked by the anxious
+	seekers for Truth were delivered by a priestess who went into
+	a trance before she spoke.
+		[ Mythology, by Edith Hamilton ]
+	What was the fruit like?  Unfortunately, no one can describe
+	a taste.  All I can say is that, compared with those fruits,
+	the freshest grapefruit you've ever eaten was dull, and the
+	juiciest orange was dry, and the most melting pear was hard
+	and woody, and the sweetest wild strawberry was sour.  And
+	there were no seeds or stones, and no wasps.  If you had once
+	eaten that fruit, all the nicest things in this world would
+	taste like medicines after it.  But I can't describe it.  You
+	can't find out what it is like unless you can get to that
+	country and taste it for yourself.
+		[ The Last Battle, by C.S. Lewis ]
+	At first glance around the corner, I thought it was another 
+	cockatrice. I had encountered the wretched creatures two or
+	three times since leaving the open area. I quickly ducked my 
+	head back and considered what to do next. My heart had begun
+	to thump audibly as I patted my pack to make sure I still had 
+	the dead lizards at close reach. A check of my attire showed
+	no obvious holes or damage. I had to keep moving. One deep
+	breath, and a count of three, two, one, and around the corner 
+	I bolted. But it was no cockatrice! I felt a sudden intense 
+	searing of the skin around my face, and flames began to leap
+	from my pack. I tossed it to the ground, and quickly retreated
+	back, around that corner, desperately striving to get out of 
+	its sight.
+	This Orb is a crystal ball of exceptional powers.  When
+	carried, it grants ESP, limits damage done by spells, and
+	protects the carrier from magic missiles.  When invoked it
+	allows the carrier to become invisible.
+	Some say that Odin himself created this ancient crystal ball,
+	although others argue that Loki created it and forged Odin's
+	signature on the bottom.  In any case, it is a powerful
+	artifact.  Anyone who carries it is granted the gift of
+	warning, and damage, both spell and physical, is partially
+	absorbed by the orb itself.  When invoked it has the power
+	to teleport the invoker between levels.
+	The Great Goblin gave a truly awful howl of rage when he
+	looked at it, and all his soldiers gnashed their teeth,
+	clashed their shields, and stamped.  They knew the sword at
+	once.  It had killed hundreds of goblins in its time, when
+	the fair elves of Gondolin hunted them in the hills or did
+	battle before their walls.  They had called it Orcrist,
+	Goblin-cleaver, but the goblins called it simply Biter.
+	They hated it and hated worse any one that carried it.
+		[ The Hobbit, by J.R.R. Tolkien ]
+	Orcus, Prince of the Undead, has a ram's head and a poison
+	stinger.  He is most feared, though, for his powerful magic
+	abilities.  His wand causes death to those he chooses.
+	Orcs, bipeds with a humanoid appearance, are related to the
+	goblins, but much bigger and more dangerous.  The average orc
+	is only moderately intelligent, has broad, muscled shoulders,
+	a short neck, a sloping forehead and a thick, dark fur.
+	Their lower eye-teeth are pointing forward, like a boar's.
+	Female orcs are more lightly built and bare-chested.  Not
+	needing any clothing, they do like to dress in variegated
+	apparels.  Suspicious by nature, orcs live in tribes or
+	hordes.  They tend to live underground as well as above
+	ground (but they dislike sunlight).  Orcs can use all weapons,
+	tools and armours that are used by men.  Since they don't have
+	the talent to fashion these themselves, they are constantly
+	hunting for them.  There is nothing a horde of orcs cannot
+	use.
+		[ het Boek van de Regels; Het Oog des Meesters ]
+	Orion was the son of Neptune. He was a handsome giant and a
+	mighty hunter. His father gave him the power of wading
+	through the depths of the sea, or, as others say, of
+	walking on its surface.
+
+	He dwelt as a hunter with Diana (Artemis), with whom he
+	was a favourite, and it is even said she was about to marry
+	him. Her brother was highly displeased and often chid her,
+	but to no purpose. One day, observing Orion wading through
+	the sea with his head just above the water, Apollo pointed
+	it out to his sister and maintained that she could not hit
+	that black thing on the sea. The archer-goddess discharged
+	a shaft with fatal aim. The waves rolled the dead body of
+	Orion to the land, and bewailing her fatal error with many
+	tears, Diana placed him among the stars, where he appears
+	as a giant, with a girdle, sword, lion's skin, and
+	club. Sirius, his dog, follows him, and the Pleiads fly
+	before him.
+		[ Bulfinch's Mythology, by Thomas Bulfinch ]
+	The osaku is a small tool for picking locks.
+	Owlbears are probably the crossbreed creation of a demented
+	wizard; given the lethal nature of this creation, it is quite
+	likely the wizard who created them is no longer alive.  As
+	the name might already suggest, owlbears are a cross between
+	a giant owl and a bear.  They are covered with fur and
+	feathers.
+	And lo! almost where the ascent began,
+	A panther light and swift exceedingly,
+	Which with a spotted skin was covered o'er!
+
+	And never moved she from before my face,
+	Nay, rather did impede so much my way,
+	That many times I to return had turned.
+		[ Dante's Inferno, as translated
+			by Henry Wadsworth Longfellow ]
+	Conan cried out sharply and recoiled, thrusting his companion
+	back.  Before them rose the great shimmering white form of Satha,
+	an ageless hate in its eyes.  Conan tensed himself for one mad
+	berserker onslaught -- to thrust the glowing faggot into that
+	fiendish countenance and throw his life into the ripping sword-
+	stroke.  But the snake was not looking at him.  It was glaring
+	over his shoulder at the man called Pelias, who stood with his
+	arms folded, smiling.  And in the great, cold, yellow eyes
+	slowly the hate died out in a glitter of pure fear -- the only
+	time Conan ever saw such an expression in a reptile's eyes.
+	With a swirling rush like the sweep of a strong wind, the great
+	snake was gone.
+	"What did he see to frighten him?" asked Conan, eyeing his
+	companion uneasily.
+	"The scaled people see what escapes the mortal eye," answered
+	Pelias cryptically.  "You see my fleshy guise, he saw my naked
+	soul."
+	    [ Conan the Usurper, by Robert E. Howard and L. Sprague de Camp ]
+		:PDP-10:
+		[Programmed Data Processor model 10] n. The machine that
+		made timesharing real. It looms large in hacker folklore because
+		of its adoption in the mid-1970s by many university computing
+		facilities and research labs,including the MIT AI Lab, Stanford,
+		and CMU.  Some aspects of the instruction set (most notably the
+		bit-field instructions) are still considered unsurpassed. The 10
+		was eventually eclipsed by the VAX machines (descendants of the
+		PDP-11) when DEC recognized that the 10 and VAX product lines were
+		competing with each other and decided to concentrate its software
+		development effort on the more profitable VAX. The machine was
+		finally dropped from DEC's line in 1983,following the failure of
+		the Jupiter Project at DEC to build a viable new model.  (Some
+		attempts by other companies to market clones came to nothing;see
+		{Foonly} and {Mars}.)  This event spelled the doom of
+		{{ITS}} and the technical cultures that had spawned the original
+		Jargon File, but by mid-1991 it had become something of a badge of
+		honorable old-timerhood among hackers to have cut one's teeth on a
+		PDP-10.  See {{TOPS-10}}, {{ITS}}, {AOS}, {BLT}, {DDT},
+		{DPB}, {EXCH}, {HAKMEM}, {JFCL}, {LDB}, {pop},
+		{push}, {Appendix A}.
+		[ The Jargon File, version 3.0.0 ]
+	Phase potion, which is related to oil of etherealness, is more
+	useful for general combat. When imbibed, this potion allows the
+	user to shift in and out of phase with the Prime Material plane
+	at will, much like a phase spider. When out of phase, the user
+	is impervious to all forms of attack except those that reach
+	into Ethereal plane. ... Phase potions are brewed from phase-spider
+	ichor or from the concentrated juices of rare underground fungi.
+		[ RPG Sheets by Amalor Mymnyx ]
+
+	Phase Spiders are not true Spiders, but an alien race which
+	appear as giant spiders with humanoid shaped heads. Phase Spiders
+	speak a whispery language which is reminiscent of the sound of the
+	wind blowing through the trees. ... Phase Spiders are considered
+	Enlightened creatures as they have the ability to phase in and out
+	of our normal space-time into what most scientists would refer to
+	as Void-Space. Phase Spiders use this ability to their great
+	advantage in combat.
+		[ Alien Update Lexicon by Randy Walker ]
+	The mine is full of holes;
+	With the wound of pickaxes.
+	But look at the goldsmith's store.
+	There, there is gold everywhere.
+		[ Divan-i Kebir Meter 2, by Mevlana Celaleddin Rumi ]
+	Ye Piercer doth look like unto a stalactyte, and hangeth
+	from the roofs of caves and caverns.  Unto the height of a
+	man, and thicker than a man's thigh do they grow, and in
+	groups do they hang.  If a creature doth pass beneath them,
+	they will by its heat and noise perceive it, and fall upon
+	it to kill and devour it, though in any other way they move
+	but exceeding slow.
+		[ the Bestiary of Xygag ]
+	They live in "schools." Many times they will wait for prey 
+	to come to the shallow water of the river. Then the large 
+	group of piranhas will attack. These large groups are able 
+	to kill large animals... Their lower teeth fit perfectly 
+	into the spaces of their upper teeth, creating a tremendous 
+	vice-like bite... Piranhas are attracted to any disturbance 
+	in the water. 
+		[ http://www.animalsoftherainforest.com ]
+	Amid the thought of the fiery destruction that impended, the
+	idea of the coolness of the well came over my soul like balm.
+	I rushed to its deadly brink.  I threw my straining vision
+	below.  The glare from the enkindled roof illumined its inmost
+	recesses.  Yet, for a wild moment, did my spirit refuse to
+	comprehend the meaning of what I saw.  At length it forced --
+	it wrestled its way into my soul -- it burned itself in upon my
+	shuddering reason.  Oh! for a voice to speak! -- oh! horror! --
+	oh! any horror but this!
+		[ The Pit and the Pendulum, by Edgar Allan Poe ]
+	Pit fiends are among the more powerful of devils, capable of
+	attacking twice with weapons as well as grabbing and crushing
+	the life out of those unwary enough to enter their
+	domains.
+	Do fairies live in the hedge by the lawn?
+	With pale, violet eyes and wings that shimmer?
+	Not in my garden of thistle and thorn,
+	Well, not since I tidied it up with my strimmer.
+		[ Learning to Live with Orcs by Richard A. Bartle ]
+	This is an ancient artifact made of an unknown material.  It
+	is rectangular in shape, very thin, and inscribed with
+	unreadable ancient runes.  When carried, it grants the one
+	who carries it ESP, and reduces all spell induced damage done to
+	the carrier by half.  It also protects from magic missile
+	attacks.  Finally, its power is such that when invoked, it
+	can charge other objects.
+		Hey! now! Come hoy now! Whither do you wander?
+		Up, down, near or far, here, there or yonder?
+		Sharp-ears, Wise-nose, Swish-tail and Bumpkin,
+		White-socks my little lad, and old Fatty Lumpkin!
+
+	[...]
+	Tom called them one by one and they climbed over the brow and
+	stood in a line.  Then Tom bowed to the hobbits.
+
+	"Here are your ponies, now!" he said.  "They've more sense (in some
+	ways) than you wandering hobbits have -- more sense in their noses.
+	For they sniff danger ahead which you walk right into; and if they
+	run to save themselves, then they run the right way."
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Portals can be Mirrors, Pictures, Standing Stones, Stone
+	Circles, Windows, and special gates set up for the purpose.
+	You will travel through them both to distant parts of the
+	continent and to and from our own world.  The precise manner
+	of their working is a Management secret.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	Poseido(o)n, lord of the seas and father of rivers and
+	fountains, was the son of Chronos and Rhea, brother of Zeus,
+	Hades, Hera, Hestia and Demeter.  His rank of ruler of the
+	waves he received by lot at the Council Meeting of the Gods,
+	at which Zeus took the upper world for himself and gave
+	dominion over the lower world to Hades.
+	Poseidon is associated in many ways with horses and thus is
+	the god of horses.  He taught men how to ride and manage the
+	animal he invented and is looked upon as the originator and
+	guardian deity of horse races.
+	His symbol is the familiar trident or three-pronged spear
+	with which he can split rocks, cause or quell storms, and
+	shake the earth, a power which makes him the god of
+	earthquakes as well.  Physically, he is shown as a strong and
+	powerful ruler, every inch a king.
+		[ The Encyclopedia of Myths and Legends of All
+		  Nations, by Herbert Robinson and Knox Wilson ]
+	POTABLE, n.  Suitable for drinking.  Water is said to be
+	potable; indeed, some declare it our natural beverage,
+	although even they find it palatable only when suffering
+	from the recurrent disorder known as thirst, for which it
+	is a medicine.  Upon nothing has so great and diligent
+	ingenuity been brought to bear in all ages and in all
+	countries, except the most uncivilized, as upon the
+	invention of substitutes for water.  To hold that this
+	general aversion to that liquid has no basis in the
+	preservative instinct of the race is to be unscientific --
+	and without science we are as the snakes and toads.
+		[ The Devil's Dictionary, by Ambrose Bierce ]
+	[...]  For the two priests were talking exactly like priests,
+	piously, with learning and leisure, about the most aerial
+	enigmas of theology.  The little Essex priest spoke the more
+	simply, with his round face turned to the strengthening stars;
+	the other talked with his head bowed, as if he were not even
+	worthy to look at them.  But no more innocently clerical
+	conversation could have been heard in any white Italian cloister
+	or black Spanish cathedral.  The first he heard was the tail of
+	one of Father Brown's sentences, which ended:  "... what they
+	really meant in the Middle Ages by the heavens being
+	incorruptible."  The taller priest nodded his bowed head and
+	said:  "Ah, yes, these modern infidels appeal to their reason;
+	but who can look at those millions of worlds and not feel that
+	there may well be wonderful universes above us where reason is
+	utterly unreasonable?"
+		[ The Innocence of Father Brown, by G.K. Chesterton ]
+	Where am I?
+		In the Village.
+	What do you want?
+		Information.
+	Whose side are you on?
+		That would be telling.  We want information ...
+		information ...
+	You won't get it.
+		By hook or by crook, we will.
+	Who are you?
+		The new Number 2.
+	Who is Number 1?
+		You are Number 6.
+	I am not a number!  I am a free man! 
+		[ The Prisoner, by Patrick McGoohan ]
+		Prostetnic Vogon Jeltz was not a pleasant sight, even  for other
+		Vogons.  His  highly  domed nose  rose  high above a small piggy
+		forehead.His dark green rubbery skin was thick enough for him to
+		play the game of Vogon Civil Service politics, and play it well,
+		and waterproof enough for him  to  survive indefinitely  at  sea
+		depths of up to a thousand feet with no ill effects.
+		Not that he ever went swimming of course.His busy schedule would
+		not allow it.
+		[...] 
+		Prostetnic Vogon Jeltz was a fairly typical Vogon in that he was
+		thoroughly vile. Also, he did not like hitch hikers.
+
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+	Known under various names (Nu, Neph, Cenubis, Amen-Kneph,
+	Khery-Bakef), Ptah is the creator god and god of craftsmen.
+	He is usually depicted as wearing a closely fitting robe
+	with only his hands free.  His most distinctive features are
+	the invariable skull-cap exposing only his face and ears,
+	and the _was_ or rod of domination which he holds,
+	consisting of a staff surmounted by the _ankh_ symbol of
+	life.  He is otherwise symbolized by his sacred animal, the
+	bull.
+	A gargantuan version of the harmless rain-worm, the purple
+	worm poses a huge threat to the ordinary adventurer.  It is
+	known to swallow whole and digest its victims within only a
+	few minutes.  These worms are always on guard, sensitive
+	to the most minute vibrations in the earth, but may also
+	be awakened by a remote shriek.
+	The woodlands and other regions are inhabited by multitudes
+	of four-legged creatures which cannot be simply classified.
+	They might not have fiery breath or deadly stings, but
+	adventurers have nevertheless met their end numerous times
+	due to the claws, hooves, or bites of such animals.
+	These creatures are not native to this universe; they seem
+	to have strangely derived powers, and unknown motives.
+	Quasits are small, evil creatures, related to imps.  Their
+	talons release a very toxic poison when used in an attack.
+	Many, possibly most, Tours are organized as a Quest.  This
+	is like a large-scale treasure hunt, with clues scattered
+	all over the continent, a few false leads, Mystical Masters
+	as game-show hosts, and the Dark Lord and the Terrain to
+	make the Quest interestingly difficult.  [...]
+	In order to be assured of your future custom, the Management
+	has a further Rule:  Tourists, far from being rewarded for
+	achieving their Quest Object, must then go on to conquer
+	the Dark Lord or set about Saving the World, or both.  And
+	why not?  By then you will have had a lot of practice in
+	that sort of thing and, besides, the Quest Object is usually
+	designed to help you do it.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	One of the principal Aztec-Toltec gods was the great and wise
+	Quetzalcoatl, who was called Kukumatz in Guatemala, and
+	Kukulcan in Yucatan.  His image, the plumed serpent, is found
+	on both the oldest and the most recent Indian edifices. ...
+	The legend tells how the Indian deity Quetzalcoatl came from
+	the "Land of the Rising Sun".  He wore a long white robe and
+	had a beard; he taught the people crafts and customs and laid
+	down wise laws.  He created an empire in which the ears of
+	corn were as long as men are tall, and caused bolls of colored
+	cotton to grow on cotton plants.  But for some reason or other
+	he had to leave his empire. ...  But all the legends of
+	Quetzalcoatl unanimously agree that he promised to come again.
+		[ Gods, Graves, and Scholars, by C. W. Ceram ]
+	Maltar: [...]  I remembered a little saying I learned my first
+	day at the academy.
+	Natalie: Yeah, yeah, I know.  Winners never quit and quitters
+	never win.
+	Maltar: What?  No!  Winners never quit and quitters should be
+	cast into the flaming pit of death.
+		[ Snow Day, directed by Chris Koch,
+		  written by Will McRobb and Chris Viscardi ]
+	The god of thunder.
+	"Lonely men are we, Rangers of the wild, hunters -- but hunters
+	ever of the servants of the Enemy; for they are found in many
+	places, not in Mordor only.
+	If Gondor, Boromir, has been a stalwart tower, we have played
+	another part.  Many evil things there are that your strong walls
+	and bright swords do not stay.  You know little of the lands
+	beyond your bounds.  Peace and freedom, do you say?  The North
+	would have known them little but for us.  Fear would have
+	destroyed them.  But when dark things come from the houseless
+	hills, or creep from sunless woods, they fly from us.  What
+	roads would any dare to tread, what safety would there be in
+	quiet lands, or in the homes of simple men at night, if the
+	Dunedain were asleep, or were all gone into the grave?"
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	A variant of the pike, the ranseur has a thin, double-edged 
+	primary blade. Secondary blades are backward-hooking projections 
+	set well below the large central blade, forming a crown-shape. 
+	The spearing function of the weapon is apparent, and the 
+	deflection includes the trapping of opponent weapons in the space 
+	below the main blade, where a twist of the shaft would apply 
+	pressure from it or the secondary projections to either break the 
+	caught weapon or disarm its wielder. Additionally, the side 
+	projections provide both a means of holding an opponent at long 
+	range or of pulling mounted opponents off their steed.
+	Rats are long-tailed rodents.  They are aggressive,
+	omnivorous, and adaptable, often carrying diseases.
+
+	"The rat," said O'Brien, still addressing his invisible
+	audience, "although a rodent, is carnivorous.  You are aware
+	of that.  You will have heard of the things that happen in
+	the poor quarters of this town.  In some streets a woman dare
+	not leave her baby alone in the house, even for five minutes.
+	The rats are certain to attack it.  Within quite a small time
+	they will strip it to the bones.  They also attack sick or
+	dying people.  They show astonishing intelligence in knowing
+	when a human being is helpless."
+	[ 1984, by George Orwell ]
+	But the raven, sitting lonely on the placid bust, spoke only
+	That one word, as if his soul in that one word he did outpour.
+	Nothing further then he uttered -- not a feather then he fluttered--
+	Till I scarcely more than muttered, 'other friends have flown before--
+	On the morrow *he* will leave me, as my hopes have flown before.'
+		Then the bird said, 'Nevermore.'
+				[ The Raven - Edgar Allan Poe ]
+	Three Rings for the Elven-kings under the sky,
+	Seven for the Dwarf-lords in their halls of stone,
+	Nine for Mortal Men doomed to die,
+	One for the Dark Lord on his dark throne,
+	In the Land of Mordor where the Shadows lie.
+	One Ring to rule them all, One Ring to find them,
+	One Ring to bring them all and in the darkness bind them
+	In the Land of Mordor where the Shadows lie.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Robes are the only garments, apart from Shirts, ever to have
+	sleeves.  They have three uses:
+	1.  As the official uniform of Priests, Priestesses, Monks,
+	Nuns (see Nunnery), and Wizards.  The OMT [ Official Management
+	Term ] prescribed for the Robes of Priests and Nuns is that
+	they _fall in severe folds_; of Priestesses that they _float_;
+	and of Wizards that they _swirl_.  You can thus see who you
+	are dealing with.
+	2.  For Kings.  The OMT here is _falling in stately folds_.
+	3.  As the garb of Desert Nomads.  [...]
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	Bilbo saw that the moment had come when he must do something.
+	He could not get up at the brutes and he had nothing to shoot
+	with; but looking about he saw that in this place there were
+	many stones lying in what appeared to be a now dry little
+	watercourse.  Bilbo was a pretty fair shot with a stone, and
+	it did not take him long to find a nice smooth egg-shaped one
+	that fitted his hand cosily.  As a boy he used to practise
+	throwing stones at things, until rabbits and squirrels, and
+	even birds, got out of his way as quick as lightning if they
+	saw him stoop; and even grownup he had still spent a deal of
+	his time at quoits, dart-throwing, shooting at the wand,
+	bowls, ninepins and other quiet games of the aiming and
+	throwing sort - indeed he could do lots of things, besides
+	blowing smoke-rings, asking riddles and cooking, that I
+	haven't time to tell you about.  There is no time now.  While
+	he was picking up stones, the spider had reached Bombur, and
+	soon he would have been dead.  At that moment Bilbo threw.
+	The stone struck the spider plunk on the head, and it dropped
+	senseless off the tree, flop to the ground, with all its legs
+	curled up.
+		[ The Hobbit, by J.R.R. Tolkien ]
+	A rock mole is a member of the rodent family.  They get their
+	name from their ability to tunnel through rock in the same
+	fashion that a mole tunnels through earth.  They are known to
+	eat anything they come across in their diggings, although it
+	is still unknown how they convert some of these things into
+	something of nutritional value.
+	I understand the business, I hear it: to have an open ear, a
+	quick eye, and a nimble hand, is necessary for a cut-purse; a
+	good nose is requisite also, to smell out work for the other
+	senses.  I see this is the time that the unjust man doth
+	thrive. <...> The prince himself is about a piece of iniquity,
+	stealing away from his father with his clog at his heels:  if
+	I thought it were a piece of honesty to acquaint the king
+	withal, I would not do't:  I hold it the more knavery to
+	conceal it; and therein am I constant to my profession.
+		[ Autolycus the Rogue, from The Winter's Tale by
+						  William Shakespeare ]
+	The rothe (pronounced roth-AY) is a musk ox-like creature with
+	an aversion to light.  It prefers to live underground near
+	lichen and moss.
+	The Nome King declared, "Cruelty is a thing I can't abide. So, 
+	as slaves must work hard, and the Queen of Ev and her children 
+	were delicate and tender, I transformed them all into articles of 
+	ornament and bric-a-brac and scattered them around the various 
+	rooms of my palace. Instead of being obliged to labor, they 
+	merely decorate my apartments, and I really think I have treated 
+	them with great kindness." 
+		[ Ozma of Oz, by L. Frank Baum ]
+	"'Royal Jelly,'" he read aloud, "'must be a substance of
+	tremendous nourishing power, for on this diet alone, the
+	honey-bee larva increases in weight fifteen hundred times in
+	five days!'"
+
+	"How much?"
+
+	"Fifteen hundred times, Mabel.  And you know what that means
+	if you put it in terms of a human being?  It means," he said,
+	lowering his voice, leaning forward, fixing her with those
+	small pale eyes, "it means that in five days a baby weighing
+	seven and a half pounds to start off with would increase in
+	weight to five tons!"
+		[ Royal Jelly, by Roald Dahl ]
+	These strange creatures live on a diet of metals.  They can
+	turn a suit of armour into so much useless rusted scrap in no
+	time at all.   
+	Flashed all their sabres bare,
+	Flashed as they turned in air,
+	Sab'ring the gunners there,
+	Charging an army, while
+	All the world wondered:
+	Plunged in the battery smoke,
+	Right through the line they broke;
+	Cossack and Russian
+	Reeled from the sabre-stroke
+	Shattered and sundered.
+	Then they rode back, but not--
+	Not the six hundred.
+		[ The Charge of the Light Brigade,
+		  by Alfred, Lord Tennyson ]
+	The horseman serves the horse,
+	The neat-herd serves the neat,
+	The merchant serves the purse,
+	The eater serves his meat;
+	'Tis the day of the chattel,
+	Web to weave, and corn to grind,
+	Things are in the saddle,
+	And ride mankind.
+		[ Ode, by Ralph Waldo Emerson ]
+	Japanese rice wine.
+	For hundreds of years, many people believed that salamanders
+	were magical.  In England in the Middle Ages, people thought
+	that fire created salamanders.  When they set fire to damp
+	logs, dozens of the slimy creatures scurried out.  The word
+	salamander, in fact, comes from a Greek word meaning "fire
+	animal".
+		[ Salamanders, by Cherie Winner ]
+	By that time, Narahara had already slipped his arm from the
+	sleeve of his outer robe, drew out his two-and-a-half-foot
+	Fujiwara Tadahiro sword, and, brandishing it over his head,
+	began barreling toward the foreigners.  In less than a minute,
+	he had charged upon them and cut one of them through the torso.
+	The man fled, clutching his bulging guts, finally to fall from
+	his horse at the foot of a pine tree about a thousand yards
+	away.  Kaeda Takeji finished him off.  The other two Englishmen
+	were severely wounded as they tried to flee.  Only the woman
+	managed to escape virtually unscathed.
+		[ The Fox-horse, from Drunk as a Lord, by Ryotaro Shiba ]
+	Ildefonse left the terrace and almost immediately sounds
+	of contention came from the direction of the work-room.
+	Ildefonse presently returned to the terrace, followed by
+	Osherl and a second sandestin using the guise of a gaunt blue
+	bird-like creature, some six feet in height.
+
+	Ildefonse spoke in scathing tones:  "Behold these two
+	creatures!  They can roam the chronoplex as easily as you
+	or I can walk around the table; yet neither has the wit to
+	announce his presence upon arrival.  I found Osherl asleep
+	in his fulgurite and Sarsem perched in the rafters."
+		[...]
+	"No matter," said Rhialto.  "He has brought Sarsem, and this
+	was his requirement.  In the main, Osherl, you have done well!"
+
+	"And my indenture point?"
+
+	"Much depends upon Sarsem's testimony.  Sarsem, will you sit?"
+
+	"In this guise, I find it more convenient to stand."
+
+	"Then why not alter to human form and join us in comfort at
+	the table?"
+
+	"That is a good idea."  Sarsem became a naked young epicene
+	in an integument of lavender scales with puffs of purple hair
+	like pom-poms growing down his back.  He seated himself at
+	the table but declined refreshment.  "This human semblance,
+	though typical, is after all, only a guise.  If I were to put
+	such things inside myself, I might well become uneasy."
+		[ Rhialto the Marvellous, by Jack Vance ]
+	The name _Sasquatch_ doesn't really become important in Canada
+	until the 1930s, when it appeared in the works of J. W. Burns,
+	a British Columbian writer who used a great deal of Indian
+	lore in his stories.  Burn's Sasquatch was a giant Indian who
+	lived in the wilderness.  He was hairy only in the sense that
+	he had long hair on his head, and while this Sasquatch lived a
+	wild and primitive life, he was fully human.
+	Burns's character proved to be quite popular.  There was a
+	Sasquatch Inn near the town of Harrison, British Columbia, and
+	Harrison even had a local celebration called "Sasquatch Days."
+	The celebration which had been dormant for years was revived
+	as part of British Columbia's centennial, and one of the
+	events was to be a Sasquatch hunt.  The hunt never took place,
+	perhaps it was never supposed to, but the publicity about it
+	did bring out a number of people who said they had encountered
+	a Sasquatch -- not Burns's giant Indian, but the hairy apelike
+	creature that we have all come to know.
+		[ The Encyclopedia of Monsters, by Daniel Cohen ]
+	This mace was created aeons ago in some unknown cave,
+	and has been passed down from generation to generation of
+	cave dwellers.  It is a very mighty mace indeed, and in
+	addition will protect anyone who carries it from magic
+	missile attacks.  When invoked, it causes conflict in the
+	area around it.
+	Oh, how handsome, how noble was the Vizier Ali Tebelin,
+	my father, as he stood there in the midst of the shot, his
+	scimitar in his hand, his face black with powder!  How his
+	enemies fled before him!
+		[ The Count of Monte Cristo, by Alexandre Dumas ]
+	A sub-species of the spider (_Scorpionidae_), the scorpion
+	distinguishes itself from them by having a lower body that
+	ends in a long, jointed tail tapering to a poisonous stinger.
+	They have eight legs and pincers.
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	Since early times, the Scorpion has represented death, darkness,
+	and evil.  Scorpius is the reputed slayer of Orion the Hunter.
+	[...]  The gods put both scorpion and hunter among the stars, but
+	on opposite sides of the sky so they would never fight again.
+	As Scorpius rises in the east, Orion sets in the west.
+		[ 365 Starry Nights, by Chet Raymo ]
+	And I was gazing on the surges prone,
+	With many a scalding tear and many a groan,
+	When at my feet emerg'd an old man's hand,
+	Grasping this scroll, and this same slender wand.
+	I knelt with pain--reached out my hand--had grasp'd
+	Those treasures--touch'd the knuckles--they unclasp'd--
+	I caught a finger: but the downward weight
+	O'erpowered me--it sank. Then 'gan abate
+	The storm, and through chill aguish gloom outburst
+	The comfortable sun. I was athirst
+	To search the book, and in the warming air
+	Parted its dripping leaves with eager care.
+	Strange matters did it treat of, and drew on
+	My soul page after page, till well-nigh won
+	Into forgetfulness; when, stupefied,
+	I read these words, and read again, and tried
+	My eyes against the heavens, and read again.
+		[ Endymion, by John Keats ]
+	Shades are undead creatures.  They differ from zombies in
+	that a zombie is an undead animation of a corpse, while a
+	shade is an undead creature magically created by the use
+	of black magic.
+	Making his quarters in the Caves of the Ancestors, Shaman
+	Karnov unceasingly tries to shield his neanderthal people
+	from Tiamat's minions' harassments.
+	The Chinese god of Mountains and Seas, also the name of an
+	old book (also Shan Hai Tjing), the book of mountains and
+	seas - which deals with the monster Kung Kung trying to
+	seize power from Yao, the fourth emperor.
+		[ Spectrum Atlas van de Mythologie ]
+ 	As the shark moved, its dark top reflected virtually no
+ 	light.  The denticles on its skin muted the whoosh of its
+ 	movements as the shark rose, driven by the power of the
+ 	great tail sweeping from side to side, like a scythe.  
+ 	The fish exploded upward.
+ 	Charles Bruder felt a slight vacuum tug in the motion of
+ 	the sea, noted it as a passing current, the pull of a wave,
+ 	the tickle of undertow.  He could not have heard the faint
+ 	sucking rush of water not far beneath him.  He couldn't
+ 	have seen or heard what was hurtling from the murk at
+ 	astonishing speed, jaws unhinging, widening, for the
+ 	enormous first bite.  It was the classic attack
+ 	that no other creature in nature could make -- a bomb from
+ 	the depths.
+ 		[ Close to Shore, by Michael Capuzzo ]
+	A Japanese stabbing knife.
+	"... in the place of utter blasphemy, the unholy pit where 
+	the black realm begins and the watcher guards the gate - 
+	I saw a shoggoth - it changed shape ..."
+		[ The Thing on the Doorstep, by H.P. Lovecraft ]
+
+	It was a terrible, indescribable thing vaster than any subway 
+	train -- a shapeless congeries of protoplasmic bubbles, faintly
+	self-luminous, and with myriads of temporary eyes forming and 
+	un-forming as pustules of greenish light all over the tunnel-
+	filling front that bore down upon us, crushing the frantic 
+	penguins and slithering over the glistening floor that it and 
+	its kind had swept so evilly free of all litter. Still came 
+	that eldritch, mocking cry -- "Tekeli-li! Tekeli-li!" and at 
+	last we remembered that the demoniac Shoggoths - given life, 
+	thought, and plastic organ patterns solely by the Old Ones ...
+		[ At the Mountains of Madness, by H.P. Lovecraft ]
+ 	With a single, savage thrust of her spear, the warrior-woman 
+ 	impaled the fungus, silencing it.  However, it was too late:  
+ 	the alarm had been raised[...]
+ 	Suddenly, a large, dark shape rose from the abyss before them, 
+ 	its fetid bulk looming overhead...The monster was some kind of
+ 	great dark worm, but that was about all they were sure of.  
+ 		[ The Adventurers, Epic IV, by Thomas A. Miller ]
+	A white, precious, metallic chemical element that is extremely 
+	ductile and malleable, capable of high polish, and an excellent
+	conductor of heat and electricity: symbol, Ag; atomic weight,
+	107.880; atomic number, 47.
+	[ Webster's New Twentieth Century Dictionary Unabridged,
+		Second Edition]
+	A skeleton is a magically animated undead creature.  Unlike
+	shades, only a humanoid creature can be used to create a
+	skeleton.  No one knows why this is true, but it has become
+	an accepted fact amongst the practitioners of the black arts.
+	"That dog belonged to a settler who tried to build his cabin
+	on the bank of the river a few miles south of the fort,"
+	grunted Conan. ...  "We took him to the fort and dressed his
+	wounds, but after he recovered he took to the woods and turned
+	wild.  -- What now, Slasher, are you hunting the men who
+	killed your master?" ...  "Let him come," muttered Conan.
+	"He can smell the devils before we can see them." ...
+	Slasher cleared the timbers with a bound and leaped into the
+	bushes.  They were violently shaken and then the dog slunk
+	back to Balthus' side, his jaws crimson. ...  "He was a man,"
+	said Conan.  "I drink to his shade, and to the shade of the
+	dog, who knew no fear."  He quaffed part of the wine, then
+	emptied the rest upon the floor, with a curious heathen
+	gesture, and smashed the goblet.  "The heads of ten Picts
+	shall pay for this, and seven heads for the dog, who was a
+	better warrior than many a man."
+		[ Conan The Warrior, by Robert E Howard ]
+	Slime mold or slime fungus, organism usually classified with
+	the fungi, but showing equal affinity to the protozoa.  Slime
+	molds have complex life cycles with an animal-like motile
+	phase, in which feeding and growth occur, and a plant-like
+	immotile reproductive phase.  The motile phase, commonly
+	found under rotting logs and damp leaves, consists of either
+	solitary amoebalike cells or a brightly colored multinucleate
+	mass of protoplasm called a plasmodium, which creeps about
+	and feeds by amoeboid movement.
+		[ The Concise Columbia Encyclopedia ]
+	"There he lay, a vast red-golden dragon, fast asleep; a thrumming
+	came from his jaws and nostrils, and wisps of smoke, but his fires
+	were low in slumber.  Beneath him, under all his limbs and his
+	huge coiled tail, and about him on all sides stretching away
+	across the unseen floors, lay countless piles of precious things,
+	gold wrought and unwrought, gems and jewels, and silver
+	red-stained in the ruddy light."
+		[The Hobbit by J.R.R. Tolkien]
+	And it came to pass, when the Philistine arose, and came and
+	drew nigh to meet David, that David hasted, and ran toward
+	the army to meet the Philistine.
+	And David put his hand in his bag, and took thence a stone,
+	and slang it, and smote the Philistine in his forehead, that
+	the stone sunk into his forehead; and he fell upon his face
+	to the earth.
+	So David prevailed over the Philistine with a sling and with
+	a stone, and smote the Philistine, and slew him; but there
+	was no sword in the hand of David.
+		[ 1 Samuel 17:48-50 ]
+	Now the serpent was more subtle than any beast of the field
+	which the Lord God had made.  And he said unto the woman, Yea,
+	hath God said, Ye shall not eat of every tree of the garden?
+	And the woman said unto the serpent, We may eat of the fruit of
+	the trees of the garden:  but of the fruit of the tree which is
+	in the midst of the garden, God hath said, Ye shall not eat of
+	it, neither shall ye touch it, lest ye die.  And the serpent
+	said unto the woman, Ye shall not surely die:  for God doth
+	know that in the day ye eat thereof, then your eyes shall be
+	opened, and ye shall be as gods, knowing good and evil.  And
+	when the woman saw that the tree was good for food, and that it
+	was pleasant to the eyes, and a tree to be desired to make one
+	wise, she took of the fruit thereof, and did eat, and gave also
+	unto her husband with her; and he did eat.
+
+	And the Lord God said unto the woman, What is this that thou
+	hast done?  And the woman said, The serpent beguiled me, and I
+	did eat.  And the Lord God said unto the serpent, Because thou
+	hast done this, thou art cursed above all cattle, and above
+	every beast of the field; upon thy belly shalt thou go, and
+	dust shalt thou eat all the days of thy life:  And I will put
+	enmity between thee and the woman, and between thy seed and her
+	seed; it shall bruise thy head, and thou shalt bruise his heel.
+		[ Genesis 3:1-6,13-15 ]
+	Ah, never shall I forget the cry,
+		or the shriek that shrieked he,
+	As I gnashed my teeth, and from my sheath
+		I drew my Snickersnee!
+	--Koko, Lord high executioner of Titipu
+		[ The Mikado, by Sir W.S. Gilbert ]
+	Sokoban (Japanese for "warehouse person") is a puzzle-type
+	game where the player must push around treasure to a goal
+	area.  It apparently won first prize in a Japanese programming
+	contest.
+		[ Xsokoban web site ]
+	The soldiers of Yendor are well-trained in the art of war,
+	many trained by the Wizard himself.  Some say the soldiers
+	are explorers who were unfortunate enough to be captured,
+	and put under the Wizard's spell.  Those who have survived
+	encounters with soldiers say they travel together in platoons,
+	and are fierce fighters.  Because of the load of their combat
+	gear, however, one can usually run away from them, and doing
+	so is considered a wise thing.
+	- they come together with great random, and a spear is brast,
+	and one party brake his shield and the other one goes down,
+	horse and man, over his horse-tail and brake his neck, and
+	then the next candidate comes randoming in, and brast his
+	spear, and the other man brast his shield, and down he goes,
+	horse and man, over his horse-tail, and brake his neck, and
+	then there's another elected, and another and another and
+	still another, till the material is all used up; and when you
+	come to figure up results, you can't tell one fight from
+	another, nor who whipped; and as a picture of living, raging,
+	roaring battle, sho! why it's pale and noiseless - just
+	ghosts scuffling in a fog.  Dear me, what would this barren
+	vocabulary get out of the mightiest spectacle? - the burning
+	of Rome in Nero's time, for instance?  Why, it would merely
+	say 'Town burned down; no insurance; boy brast a window,
+	fireman brake his neck!'  Why, that ain't a picture!
+		[ A Connecticut Yankee in King Arthur's Court, by Mark
+		  Twain ]
+	The Book of Three lay closed on the table.  Taran had never
+	been allowed to read the volume for himself; now he was sure
+	it held more than Dallben chose to tell him.  In the sun-
+	filled room, with Dallben still meditating and showing no
+	sign of stopping, Taran rose and moved through the shimmering
+	beams.  From the forest came the monotonous tick of a beetle.
+	His hands reached for the cover.  Taran gasped in pain and
+	snatched them away.  They smarted as if each of his fingers
+	had been stung by hornets.  He jumped back, stumbled against
+	the bench, and dropped to the floor, where he put his fingers
+	woefully into his mouth.
+	Dallben's eyes blinked open.  He peered at Taran and yawned
+	slowly.  "You had better see Coll about a lotion for those
+	hands," he advised.  "Otherwise, I shouldn't be surprised if
+	they blistered."
+		[ The Book of Three, by Lloyd Alexander ]
+	Eight legged creature capable of spinning webs to trap prey.
+
+	"You mean you eat flies?" gasped Wilbur.
+	"Certainly.  Flies, bugs, grasshoppers, choice beetles,
+	moths, butterflies, tasty cockroaches, gnats, midges, daddy
+	longlegs, centipedes, mosquitoes, crickets - anything that is
+	careless enough to get caught in my web.  I have to live,
+	don't I?"
+	"Why, yes, of course," said Wilbur.
+		[ Charlotte's Web, by E.B. White ]
+	...Great horns she had,  and behind her short stalk-like neck
+	was her huge swollen body, a vast bloated bag, swaying  and
+	sagging between her legs; its great bulk was black, blotched
+	with livid marks, but the belley underneath was pale and 
+	luminous and gave forth a stench. Her legs were bent, with 
+	great knobbed joints high above her back, and hairs that stuck
+	out like steel spines, and at each leg's end there was a claw.
+		[ The Two Towers, by J.R.R. Tolkien ]
+	A spell is a consciously directed act of magic which may take
+	almost any form, depending on the laws of magic in operation.
+	Commonly there will be a spoken element, ranging from a simple 
+	phrase or name to elaborately complex ritual incantations. 
+	[...]  Hand-gestures or passes may be required -- called 
+	the "somatic element" by the scientific magic investigators 
+	in L. Sprague de Camp's and Fletcher Pratt's _Incomplete
+	Enchanter_ series.
+	Many spells exhaust the caster, like Gorice's arduous conjuration
+	in _The Worm Ouroboros_ (1922) by E. R. Eddison.  Jack Vance's 
+	_The Dying Earth_ (1950) has spells which must be painstakingly 
+	impressed on the mind (whose capacity is finite), and when cast 
+	are gone until re-learned.  
+		[ The Encyclopedia of Fantasy by David Langford ]
+	The attack by those who want to die -- this is the attack
+	against which you cannot prepare a perfect defense.
+					--Human aphorism
+		[ The Dosadi Experiment, by Frank Herbert ]
+	So they stood, each in his place, neither moving a finger's
+	breadth back, for one good hour, and many blows were given
+	and received by each in that time, till here and there were
+	sore bones and bumps, yet neither thought of crying "Enough,"
+	or seemed likely to fall from off the bridge.  Now and then
+	they stopped to rest, and each thought that he never had seen
+	in all his life before such a hand at quarterstaff.  At last
+	Robin gave the stranger a blow upon the ribs that made his
+	jacket smoke like a damp straw thatch in the sun.  So shrewd
+	was the stroke that the stranger came within a hair's breadth
+	of falling off the bridge; but he regained himself right
+	quickly, and, by a dexterous blow, gave Robin a crack on the
+	crown that caused the blood to flow.  Then Robin grew mad
+	with anger, and smote with all his might at the other; but
+	the stranger warded the blow, and once again thwacked Robin,
+	and this time so fairly that he fell heels over head into the
+	water, as the queen pin falls in a game of bowls.
+		[ The Merry Adventures of Robin Hood, by Howard Pyle ]
+	This staff is considered sacred to all healers, as it truly
+	holds the powers of life and death.  When wielded, it
+	protects its user from all life draining attacks, and
+	additionally gives the wielder the power of regeneration.
+	When invoked it performs healing magic.
+	Up he went -- very quickly at first -- then more slowly -- then
+	in a little while even more slowly than that -- and finally,
+	after many minutes of climbing up the endless stairway, one
+	weary foot was barely able to follow the other.  Milo suddenly
+	realized that with all his effort he was no closer to the top
+	than when he began, and not a great deal further from the
+	bottom.  But he struggled on for a while longer, until at last,
+	completely exhausted, he collapsed onto one of the steps.
+	"I should have known it," he mumbled, resting his tired legs
+	and filling his lungs with air.  "This is just like the line
+	that goes on forever, and I'll never get there."
+	"You wouldn't like it much anyway," someone replied gently.
+	"Infinity is a dreadfully poor place.  They can never manage to
+	make ends meet."
+		[ The Phantom Tollbooth, by Norton Juster ]
+
+	Dr. Ray Stantz: Hey, where do those stairs go?
+	Dr. Peter Venkman: They go up.
+		[ Ghostbusters, directed by Ivan Reitman,
+		  written by Dan Ackroyd and Harold Ramis ]
+	A creature from beyond the stars. Invisible, it floats along
+	until it finds something to feed upon and then draws its
+	life energy and blood into itself.  It is said that they
+	become briefly visible just after they have eaten and that
+	this is such a terrible sight it can drive a mortal insane.
+	Then at last he began to wonder why the lion was standing so
+	still - for it hadn't moved one inch since he first set eyes
+	on it.  Edmund now ventured a little nearer, still keeping in
+	the shadow of the arch as much as he could.  He now saw from
+	the way the lion was standing that it couldn't have been
+	looking at him at all.  ("But supposing it turns its head?"
+	thought Edmund.)  In fact it was staring at something else -
+	namely a little dwarf who stood with his back to it about
+	four feet away.  "Aha!" thought Edmund.  "When it springs at
+	the dwarf then will be my chance to escape."  But still the
+	lion never moved, nor did the dwarf.  And now at last Edmund
+	remembered what the others had said about the White Witch
+	turning people into stone.  Perhaps this was only a stone
+	lion.  And as soon as he had thought of that he noticed that
+	the lion's back and the top of its head were covered with
+	snow.  Of course it must be only a statue!
+		[ The Lion, the Witch and the Wardrobe by C.S. Lewis ]
+	There was the usual dim grey light of the forest-day about
+	him when he came to his senses.  The spider lay dead beside
+	him, and his sword-blade was stained black.  Somehow the
+	killing of the giant spider, all alone and by himself in the
+	dark without the help of the wizard or the dwarves or of
+	anyone else, made a great difference to Mr. Baggins.  He felt
+	a different person, and much fiercer and bolder in spite of
+	an empty stomach, as he wiped his sword on the grass and put
+	it back into its sheath.
+	"I will give you a name," he said to it, "and I shall call
+	you Sting."
+		[ The Hobbit, by J.R.R. Tolkien ]
+	There were sounds in the distance, incongruent with the 
+	sounds of even this nameless, timeless sea: thin sounds, 
+	agonized and terrible, for all that they remained 
+	remote - yet the ship followed them, as if drawn by
+	them; they grew louder-pain and despair were there, but 
+	terror was predominant.
+	Elric had heard such sounds echoing from his cousin Yyrkoon's
+	sardonically named 'Pleasure Chambers' in the days before he 
+	had fled the responsibilities of ruling all that remained of 
+	the old Melnibonean Empire.  These were the voices of men 
+	whose very souls were under siege; men to whom death meant 
+	not mere extinction, but a continuation of existence, forever 
+	in thrall to some cruel and supernatural master.  He had heard 
+	men cry so when his salvation and his nemesis, his great black
+	battle-blade Stormbringer, drank their souls.
+		[ The Lands Beyond the World, by Michael Moorcock ]
+
+	Without thinking, he drew Stormbringer from its sheath.
+	The Black Sword began to howl and the familiar black radiance
+	spilled from it.  The runes carved into its blade pulsed a vivid
+	scarlet which slowly turned to a deep purple and then to black
+	once more.
+	The creatures were wading through the water on their
+	stiltlike legs and paused when they saw the sword, glancing at
+	one another.  And they were not the only ones unnerved by the
+	sight, for Duke Avan and his men paled too.
+	'Gods!' yelled Duke Avan.  'I know not which I prefer
+	the look of - those who attack us or that which defends us!'
+	'Stay well away from that sword,' Smiorgan warned.
+	'It has the habit of killing more than its master chooses.'"
+		[ The Sailor On the Seas of Fate, by Michael Moorcock ]
+
+	The Pan Tangian strove to imitate Elric's irony.  
+	'But you will note, Sir Demon, that we outnumber you.  
+	Considerably.'
+	Softly the albino spoke: 'I've noticed that fact, but I'm not 
+	disturbed by it,' and he had drawn the black blade even as he
+	finished speaking, for they had come at him with a rush.
+	The Pan Tangian was the first to die, sliced through the
+	side, his vertebrae sheared, and Stormbringer, having taken its
+	first soul, began to sing.
+	A Chalalite died next, leaping with stabbing javelin
+	poised, on the point of the runesword, and Stormbringer murmured
+	with pleasure.
+	But it was not until it had sliced the head clean off a
+	Filkharian pike-master that the sword began to croon and come
+	fully to life, black fire flickering up and down its length, its
+	strange runes glowing."
+		[ The Sailor On the Seas of Fate, by Michael Moorcock ]
+	The Shinto chthonic and weather god and brother of the sun
+	goddess Amaterasu, he was born from the nose of the
+	primordial creator god Izanagi and represents the physical,
+	material world.  He has been expelled from heaven and taken
+	up residence on earth.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Samurai plate armor of the Yamato period (AD 300 - 710).
+	The tengu was the most troublesome creature of Japanese
+	legend.  Part bird and part man, with red beak for a nose
+	and flashing eyes, the tengu was notorious for stirring up
+	feuds and prolonging enmity between families.  Indeed, the
+	belligerent tengu were supposed to have been man's first
+	instructors in the use of arms.
+	[ Mythical Beasts, by Deirdre Headon (The Leprechaun Library) ]
+	Known as 'Thorin Oakenshield' because in the Battle of Azanulbizar
+	he used an oak-branch as a shield and club.  He is the King of
+	Durin's folk in exile, and wears a golden necklace and a belt.
+	The Egyptian god of the moon and wisdom, Thoth is the patron
+	deity of scribes and of knowledge, including scientific,
+	medical and mathematical writing, and is said to have given
+	mankind the art of hieroglyphic writing.  He is important as
+	a mediator and counsellor amongst the gods and is the scribe
+	of the Heliopolis Ennead pantheon.  According to mythology,
+	he was born from the head of the god Seth.  He may be
+	depicted in human form with the head of an ibis, wholly as an
+	ibis, or as a seated baboon sometimes with its torso covered
+	in feathers.  His attributes include a crown which consists
+	of a crescent moon surmounted by a moon disc.
+	Thoth is generally regarded as a benign deity.  He is also
+	scrupulously fair and is responsible not only for entering
+	in the record the souls who pass to afterlife, but of
+	adjudicating in the Hall of the Two Truths.  The Pyramid
+	Texts reveal a violent side of his nature by which he
+	decapitates the adversaries of truth and wrenches out their
+	hearts.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Men say that he [Thutothmes] has opposed Thoth-Amon, who is
+	master of all priests of Set, and dwells in Luxor, and that
+	Thutothmes seeks hidden power [The Heart of Ahriman] to
+	overthrow the Great One.
+		[ Conan the Conqueror, by Robert E. Howard ]
+	Methought I saw the footsteps of a throne
+	Which mists and vapours from mine eyes did shroud--
+	Nor view of who might sit thereon allowed;
+	But all the steps and ground about were strown
+	With sights the ruefullest that flesh and bone
+	Ever put on; a miserable crowd,
+	Sick, hale, old, young, who cried before that cloud,
+	"Thou art our king,
+	O Death! to thee we groan."
+	Those steps I clomb; the mists before me gave
+	Smooth way; and I beheld the face of one
+	Sleeping alone within a mossy cave,
+	With her face up to heaven; that seemed to have
+	Pleasing remembrance of a thought foregone;
+	A lovely Beauty in a summer grave!
+		[ Sonnet, by William Wordsworth ]
+	1.  A well-known tropical predator (_Felis tigris_): a
+	feline.  It has a yellowish skin with darker spots or
+	stripes.  2.  Figurative: _a paper tiger_, something that is
+	meant to scare, but has no really scaring effect whatsoever,
+	(after a statement by Mao Ze Dong, August 1946).
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+
+	Tyger! Tyger! burning bright
+	In the forests of the night,
+	What immortal hand or eye
+	Could frame thy fearful symmetry?
+		[ The Tyger, by William Blake ]
+	"You know salmon, Sarge," said Nobby.
+	"It is a fish of which I am aware, yes."
+	"You know they sell kind of slices of it in tins..."
+	"So I am given to understand, yes."
+	"Weell...how come all the tins are the same size?  Salmon
+	gets thinner at both ends."
+	"Interesting point, Nobby.  I think-"
+		[ Soul Music, by Terry Pratchett ]
+	Less than thirty Cat tribes now survived, roaming the cargo
+	decks on their hind legs in a desperate search for food.
+	But the food had gone.
+	The supplies were finished.
+	Weak and ailing, they prayed at the supply hold's silver
+	mountains: huge towering acres of metal rocks which, in their
+	pagan way, the mutant Cats believed watched over them.
+	Amid the wailing and the screeching one Cat stood up and held
+	aloft the sacred icon.  The icon which had been passed down
+	as holy, and one day would make its use known.
+	It was a piece of V-shaped metal with a revolving handle on
+	its head.
+	He took down a silver rock from the silver mountain, while
+	the other Cats cowered and screamed at the blasphemy.
+	He placed the icon on the rim of the rock, and turned the
+	handle.
+	And the handle turned.
+	And the rock opened.
+	And inside the rock was Alphabetti spaghetti in tomato sauce.
+		[ Red Dwarf, by Rob Grant and Doug Naylor ]
+	Gaea, mother earth, arose from the Chaos and gave birth to
+	Uranus, heaven, who became her consort.  Uranus hated all
+	their children, because he feared they might challenge his
+	own authority.  Those children, the Titans, the Gigantes,
+	and the Cyclops, were banished to the nether world.  Their
+	enraged mother eventually released the youngest titan,
+	Chronos (time), and encouraged him to castrate his father and
+	rule in his place.  Later, he too was challenged by his own
+	son, Zeus, and he and his fellow titans were ousted from
+	Mount Olympus.
+		[ Greek Mythology, by Richard Patrick ]
+	"Gold is tried by a touchstone, men by gold."
+		[ Chilon (c. 560 BC) ]
+	The road from Ankh-Morpork to Chrim is high, white and
+	winding, a thirty-league stretch of potholes and half-buried
+	rocks that spirals around mountains and dips into cool green
+	valleys of citrus trees, crosses liana-webbed gorges on
+	creaking rope bridges and is generally more picturesque than
+	useful.
+	Picturesque.  That was a new word to Rincewind the wizard
+	(BMgc, Unseen University [failed]).  It was one of a number
+	he had picked up since leaving the charred ruins of
+	Ankh-Morpork.  Quaint was another one.  Picturesque meant --
+	he decided after careful observation of the scenery that
+	inspired Twoflower to use the word -- that the landscape was
+	horribly precipitous.  Quaint, when used to describe the
+	occasional village through which they passed, meant fever-
+	ridden and tumbledown.
+	Twoflower was a tourist, the first ever seen on the discworld.
+	Tourist, Rincewind had decided, meant "idiot".
+		[ The Colour of Magic, by Terry Pratchett ]
+	The Hitchhiker's Guide to the Galaxy has a few things to say
+	on the subject of towels.
+	A towel, it says, is about the most massively useful thing
+	an interstellar hitchhiker can have.  Partly it has great
+	practical value.  You can wrap it around you for warmth as
+	you bound across the cold moons of Jaglan Beta; you can lie
+	on it on the brilliant marble-sanded beaches of Santraginus
+	V, inhaling the heady sea vapors; you can sleep under it
+	beneath the stars which shine so redly on the desert world of
+	Kakrafoon; use it to sail a miniraft down down the slow heavy
+	River Moth; wet it for use in hand-to-hand combat; wrap it
+	round your head to ward off noxious fumes or avoid the gaze
+	of the Ravenous Bugblatter Beast of Traal (a mind-bogglingly
+	stupid animal, it assumes that if you can't see it, it can't
+	see you - daft as a brush, but very very ravenous); you can
+	wave your towel in emergencies as a distress signal, and of
+	course dry yourself off with it if it still seems to be clean
+	enough.
+		[ The Hitchhiker's Guide to the Galaxy,
+		  by Douglas Adams ]
+	Towers (_brooding_, _dark_) stand alone in Waste Areas and
+	almost always belong to Wizards.  All are several stories high,
+	round, doorless, virtually windowless, and composed of smooth
+	blocks of masonry that make them very hard to climb. [...]
+	You will have to go to a Tower and then break into it at some
+	point towards the end of your Tour.
+		[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	I knew my Erik too well to feel at all comfortable on jumping
+	into his house.  I knew what he had made of a certain palace at
+	Mazenderan.  From being the most honest building conceivable, he
+	soon turned it into a house of the very devil, where you could
+	not utter a word but it was overheard or repeated by an echo.
+	With his trap-doors the monster was responsible for endless
+	tragedies of all kinds.
+		[ The Phantom of the Opera, by Gaston Leroux ]
+	The trapper is a creature which has evolved a chameleon-like
+	ability to blend into the dungeon surroundings.  It captures
+	its prey by remaining very still and blending into the
+	surrounding dungeon features, until an unsuspecting creature
+	passes by.  It wraps itself around its prey and digests it.
+	I think that I shall never see
+	A poem lovely as a tree.
+	A tree whose hungry mouth is prest
+	Against the earth's sweet flowing breast;
+	A tree that looks at God all day,
+	And lifts her leafy arms to pray;
+	A tree that may in Summer wear
+	A nest of robins in her hair;
+	Upon whose bosom snow has lain;
+	Who intimately lives with rain.
+	Poems are made by fools like me,
+	But only God can make a tree.
+		[ Trees - Joyce Kilmer ]
+	If you start from scratch, cooking tripe is a long-drawn-out
+	affair.  Fresh whole tripe calls for a minimum of 12 hours of
+	cooking, some time-honored recipes demanding as much as 24.
+	To prepare fresh tripe, trim if necessary.  Wash it thoroughly,
+	soaking overnight, and blanch, for 1/2 hour in salted water.
+	Wash well again, drain and cut for cooking.  When cooked, the
+	texture of tripe should be like that of soft gristle.  More
+	often, alas, because the heat has not been kept low enough,
+	it has the consistency of wet shoe leather.
+		[ Joy of Cooking, by I Rombauer and M Becker ]
+	The troll shambled closer.  He was perhaps eight feet tall,
+	perhaps more.  His forward stoop, with arms dangling past
+	thick claw-footed legs to the ground, made it hard to tell.
+	The hairless green skin moved upon his body.  His head was a
+	gash of a mouth, a yard-long nose, and two eyes which drank
+	the feeble torchlight and never gave back a gleam.
+	[...]
+	Like a huge green spider, the troll's severed hand ran on its
+	fingers.  Across the mounded floor, up onto a log with one
+	taloned forefinger to hook it over the bark, down again it
+	scrambled, until it found the cut wrist.  And there it grew
+	fast.  The troll's smashed head seethed and knit together.
+	He clambered back on his feet and grinned at them.  The
+	waning faggot cast red light over his fangs.
+		[ Three Hearts and Three Lions, by Poul Anderson ]
+	This most ancient of swords has been passed down through the
+	leadership of the Samurai legions for hundreds of years.  It
+	is said to grant luck to its wielder, but its main power is
+	terrible to behold.  It has the capability to cut in half any
+	creature it is wielded against, instantly killing them.
+	The tsurugi, also known as the long samurai sword, is an
+	extremely sharp, two-handed blade favored by the samurai.
+	It is made of hardened steel, and is manufactured using a
+	special process, causing it to never rust.  The tsurugi is
+	rumored to be so sharp that it can occasionally cut
+	opponents in half!
+	"Rincewind!"
+	Twoflower sprang off the bed.  The wizard jumped back,
+	wrenching his features into a smile.
+	"My dear chap, right on time!  We'll just have lunch, and
+	then I'm sure you've got a wonderful programme lined up for
+	this afternoon!"
+	"Er --"
+	"That's great!"
+	Rincewind took a deep breath.  "Look," he said desperately,
+	"let's eat somewhere else.  There's been a bit of a fight
+	down below."
+	"A tavern brawl?  Why didn't you wake me up?"
+	"Well, you see, I - _what_?"
+	"I thought I made myself clear this morning, Rincewind.  I
+	want to see genuine Morporkian life - the slave market, the
+	Whore Pits, the Temple of Small Gods, the Beggar's Guild...
+	and a genuine tavern brawl."  A faint note of suspicion
+	entered Twoflower's voice.  "You _do_ have them, don't you?
+	You know, people swinging on chandeliers, swordfights over
+	the table, the sort of thing Hrun the Barbarian and the
+	Weasel are always getting involved in.  You know --
+	_excitement_."
+		[ The Colour of Magic, by Terry Pratchett ]
+	Yet remains that one of the Aesir who is called Tyr:
+	he is most daring, and best in stoutness of heart, and he
+	has much authority over victory in battle; it is good for
+	men of valor to invoke him.  It is a proverb, that he is
+	Tyr-valiant, who surpasses other men and does not waver.
+	He is wise, so that it is also said, that he that is wisest
+	is Tyr-prudent.  This is one token of his daring:  when the
+	Aesir enticed Fenris-Wolf to take upon him the fetter Gleipnir,
+	the wolf did not believe them, that they would loose him,
+	until they laid Tyr's hand into his mouth as a pledge.  But
+	when the Aesir would not loose him, then he bit off the hand
+	at the place now called 'the wolf's joint;' and Tyr is one-
+	handed, and is not called a reconciler of men.
+		[ The Prose Edda, by Snorri Sturluson ]
+	Umber hulks are powerful subterranean predators whose
+	iron-like claws allow them to burrow through solid stone in
+	search of prey.  They are tremendously strong; muscles bulge
+	beneath their thick, scaly hides and their powerful arms and
+	legs all end in great claws.
+	Men have always sought the elusive unicorn, for the single
+	twisted horn which projected from its forehead was thought to
+	be a powerful talisman.  It was said that the unicorn had
+	simply to dip the tip of its horn in a muddy pool for the water
+	to become pure.  Men also believed that to drink from this horn
+	was a protection against all sickness, and that if the horn was
+	ground to a powder it would act as an antidote to all poisons.
+	Less than 200 years ago in France, the horn of a unicorn was
+	used in a ceremony to test the royal food for poison.
+
+	Although only the size of a small horse, the unicorn is a very
+	fierce beast, capable of killing an elephant with a single
+	thrust from its horn.  Its fleetness of foot also makes this
+	solitary creature difficult to capture.  However, it can be
+	tamed and captured by a maiden.  Made gentle by the sight of a
+	virgin, the unicorn can be lured to lay its head in her lap, and
+	in this docile mood, the maiden may secure it with a golden rope.
+	[ Mythical Beasts, by Deirdre Headon (The Leprechaun Library) ]
+
+	Martin took a small sip of beer.  "Almost ready," he said.
+	"You hold your beer awfully well."
+	Tlingel laughed.  "A unicorn's horn is a detoxicant.  Its
+	possession is a universal remedy.  I wait until I reach the
+	warm glow stage, then I use my horn to burn off any excess and
+	keep me right there."
+		[ Unicorn Variations, by Roger Zelazny ]
+		:UNIX:: /yoo'niks/ [In the authors' words, "A weak pun on
+		Multics"] n. (also `Unix') An interactive time-sharing system
+		invented in 1969 by Ken Thompson after Bell Labs left the Multics
+		project,originally so he could play games on his scavengedPDP-7.
+		Dennis Ritchie the inventor of C,is considered a co-author of the
+		system.  The turning point in UNIX's history came when it was
+		reimplemented almost entirely in C during 1972--1974, making it the
+		first source-portable OS.  UNIX subsequently underwent mutations
+		and expansions at the hands of many different people,resulting in
+		a uniquely flexible and developer-friendly environment. By 1991,
+		UNIX had become the most widely used multiuser general-purpose
+		operating system in the world.Many people consider this the most
+		important victory yet of hackerdom over industry opposition (but
+		see {UNIX weenie} and {UNIX conspiracy} for an opposing point
+		of view).  See {Version 7}, {BSD}, {USG UNIX}.
+		[ The Jargon File, version 3.0.0 ]
+	"Aye, we must stick together," growled Ugluk. "I don't trust you 
+	little swine. You've got no guts outside your own sties. But for 
+	us you'd all have run away. We are the fighting Uruk-Hai! We slew 
+	the great warrior. We took the prisoners. We are the servants of 
+	Saruman the Wise, the White Hand: the hand that gives us 
+	man's-flesh to eat. We came out of Isengard, and led you
+	here, and we shall lead you back by the way we choose. I am 
+	Ugluk. I have spoken."
+
+	[ The Return of the King, by J.R.R. Tolkien ]
+	The Valkyries were the thirteen choosers of the slain, the
+	beautiful warrior-maids of Odin who rode through the air and
+	over the sea.  They watched the progress of the battle and
+	selected the heroes who were to fall fighting.  After they
+	were dead, the maidens rewarded the heroes by kissing them
+	and then led their souls to Valhalla, where the warriors
+	lived happily in an ideal existence, drinking and eating
+	without restraint and fighting over again the battles in
+	which they died and in which they had won their deathless
+	fame.
+		[ The Encyclopaedia of Myths and Legends of All
+			Nations, by Herbert Robinson and Knox
+			Wilson ]
+	The Oxford English Dictionary is quite unequivocal:
+	_vampire_ - "a preternatural being of a malignant nature (in
+	the original and usual form of the belief, a reanimated
+	corpse), supposed to seek nourishment, or do harm, by sucking
+	the blood of sleeping persons. ..."
+
+		:VAX: /vaks/ n. 1. [from Virtual Address eXtension] The most
+		successful minicomputer design in industry history, possibly
+		excepting its immediate ancestor, the PDP-11.Between its release
+		in 1978 and its eclipse by {killer micro}s after about 1986, the
+		VAX was probably the hacker's favorite machine of them all, esp.
+		after the 1982 release of 4.2 BSD UNIX (see {BSD}).  Esp.
+		noted for its large,assembler-programmer-friendly instruction set
+		--- an asset that became a liability after the RISC revolution.
+		[ The Jargon File, version 3.0.0 ]
+	Venus, the goddess of love and beauty, was the daughter of
+	Jupiter and Dione.  Others say that Venus sprang from the
+	foam of the sea.  The zephyr wafted her along the waves to
+	the Isle of Cyprus, where she was received and attired by
+	the Seasons, and then led to the assembly of the gods.  All
+	were charmed with her beauty, and each one demanded her
+	for his wife.  Jupiter gave her to Vulcan, in gratitude for
+	the service he had rendered in forging thunderbolts.  So
+	the most beautiful of the goddesses became the wife of the
+	most ill-favoured of gods.
+		[ Bulfinch's Mythology, by Thomas Bulfinch ]
+	Vlad Dracula the Impaler was a 15th-Century monarch of the
+	Birgau region of the Carpathian Mountains, in what is now
+	Romania.  In Romanian history he is best known for two things.
+	One was his skilled handling of the Ottoman Turks, which kept
+	them from making further inroads into Christian Europe.  The
+	other was the ruthless manner in which he ran his fiefdom.
+	He dealt with perceived challengers to his rule by impaling
+	them upright on wooden stakes.  Visiting dignitaries who
+	failed to doff their hats had them nailed to their head.
+		                                     [...] Billions of years ago
+		when the Vogons had first crawled out of the  sluggish  primeval
+		seas  of  Vogsphere,  and  had  lain panting  and heaving on the
+		planet's virgin shores...when the first rays of the bright young
+		Vogsol  sun had shone across them that morning, it was as if the
+		forces of evolution ad simply given up on them there  and  then,
+		had  turned aside in disgust and written them off as an ugly and
+		unfortunate mistake. They never evolved again; they should never
+		have survived.
+		[...] 
+		Meanwhile, the natural forces on the planet  Vogsphere had  been
+		working  overtime  to  make  up  for their earlier blunder. They
+		brought forth scintillating jewelled scuttling crabs, which  the
+		Vogons  ate,  smashing  their  shells  with  iron mallets;  tall
+		aspiring trees with breathtaking slenderness and colour which the
+		Vogons  cut down and burned the crab meat with; elegant gazelle-
+		like creatures with silken coats and dewy eyes which the  Vogons
+		would  catch  and  sit on. They were no use as transport because
+		their backs would snap instantly, but the  Vogons  sat  on  them
+		anyway.
+
+		[ The Hitchhiker's Guide to the Galaxy by Douglas Adams ]
+	Swirling clouds of pure elemental energies, the vortices are
+	thought to be related to the larger elementals.  Though the
+	vortices do no damage when touched, they are noted for being
+	able to envelop unwary travellers.  The hapless fool thus
+	swallowed by a vortex will soon perish from exposure to the
+	element the vortex is composed of.
+	Place a hefty cleaver at the end of a long, stout shaft, and 
+	the leverage which the pole gives the wielder will enable him 
+	to cleave through armor. The voulge has no provision to keep 
+	the enemy at a distance in its basic model, but with the top 
+	front or back edge is ground down so as to provide a pointed, 
+	dagger-like tip, the weapon assumes a more complete form.
+	The vrock is one of the weaker forms of demon.  It resembles
+	a cross between a human being and a vulture and does physical
+	damage by biting and by using the claws on both its arms and
+	feet.
+	The samurai warrior traditionally wears two swords; the
+	wakizashi is the shorter of the two.  See also katana.
+		:walking drives: n. An occasional failure mode of magnetic-disk
+		drives back in the days when they were huge, clunky {washing
+		machine}s.  Those old {dinosaur} parts carried terrific angular
+		momentum;the combination of a misaligned spindle or worn bearings
+		and stick-slip interactions with the floor could cause them to
+		`walk' across a room, lurching alternate corners forward a couple
+		of millimeters at a time.  There is a legend about a drive that
+		walked over to the only door to the computer room and jammed it
+		shut; the staff had to cut a hole in the wall in order to get at
+		it!  Walking could also be induced by certain patterns of drive
+		access(a fast seek across the whole width of the disk,followed by
+		a slow seek in the other direction).  Some bands of old-time
+		hackers figured out how to induce disk-accessing patterns that
+		would do this to particular drive models and held disk-drive races.
+		[ The Jargon File, version 3.0.0 ]
+	'Saruman!' he cried, and his voice grew in power and authority.
+	'Behold, I am not Gandalf the Grey, whom you betrayed.  I am
+	Gandalf the White, who has returned from death.  You have no
+	colour now, and I cast you from the order and from the Council.'
+	He raised his hand, and spoke slowly in a clear cold voice.
+	'Saruman, your staff is broken.'  There was a crack, and the
+	staff split asunder in Saruman's hand, and the head of it
+	fell down at Gandalf's feet.  'Go!' said Gandalf.  With a cry
+	Saruman fell back and crawled away.
+		[ The Two Towers, by J.R.R. Tolkien ]
+	Suddenly Aragorn leapt to his feet.  "How the wind howls!"
+	he cried.  "It is howling with wolf-voices.  The Wargs have
+	come west of the Mountains!"
+	"Need we wait until morning then?" said Gandalf.  "It is as I
+	said.  The hunt is up!  Even if we live to see the dawn, who
+	now will wish to journey south by night with the wild wolves
+	on his trail?"
+	"How far is Moria?" asked Boromir.
+	"There was a door south-west of Caradhras, some fifteen miles
+	as the crow flies, and maybe twenty as the wolf runs,"
+	answered Gandalf grimly.
+	"Then let us start as soon as it is light tomorrow, if we can,"
+	said Boromir.  "The wolf that one hears is worse than the orc
+	that one fears."
+	"True!" said Aragorn, loosening his sword in its sheath.  "But
+	where the warg howls, there also the orc prowls."
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	They had come together at the ford of the Trident while the
+	battle crashed around them, Robert with his warhammer and his
+	great antlered helm, the Targaryen prince armored all in
+	black.  On his breastplate was the three-headed dragon of his
+	House, wrought all in rubies that flashed like fire in the
+	sunlight.  The waters of the Trident ran red around the
+	hooves of their destriers as they circled and clashed, again
+	and again, until at last a crushing blow from Robert's hammer
+	stove in the dragon and the chest behind it.  When Ned had
+	finally come on the scene, Rhaegar lay dead in the stream,
+	while men of both armies scrambled in the swirling waters for
+	rubies knocked free of his armor.
+		[ A Game of Thrones, by George R.R. Martin ]
+	Day after day, day after day,
+	We stuck, nor breath nor motion;
+	As idle as a painted ship
+	Upon a painted ocean.
+
+	Water, water, everywhere,
+	And all the boards did shrink;
+	Water, water, everywhere
+	Nor any drop to drink.
+		[ The Rime of the Ancient Mariner, by Samuel Taylor
+		  Coleridge ]
+	Oh what a tangled web we weave,
+	When first we practise to deceive!
+		[ Marmion, by Sir Walter Scott ]
+	When he came to himself again, for a moment he could recall
+	nothing except a sense of dread.  Then suddenly he knew that
+	he was imprisoned, caught hopelessly; he was in a barrow.  A
+	Barrow-wight had taken him, and he was probably already under
+	the dreadful spells of the Barrow-wights about which whispered
+	tales spoke.  He dared not move, but lay as he found himself:
+	flat on his back upon a cold stone with his hands on his
+	breast.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Ebenezum walked before me along the closest thing we could
+	find to a path in these overgrown woods.  Every few paces he
+	would pause, so that I, burdened with a pack stuffed with
+	arcane and heavy paraphernalia, could catch up with his
+	wizardly strides.  He, as usual, carried nothing, preferring,
+	as he often said, to keep his hands free for quick conjuring
+	and his mind free for the thoughts of a mage.
+		[ A Dealing with Demons, by Craig Shaw Gardner ]
+	No one knows how old this mighty wizard is, or from whence he
+	came.  It is known that, having lived a span far greater than
+	any normal man's, he grew weary of lesser mortals; and so,
+	spurning all human company, he forsook the dwellings of men
+	and went to live in the depths of the Earth.  He took with
+	him a dreadful artifact, the Book of the Dead, which is said
+	to hold great power indeed.  Many have sought to find the
+	wizard and his treasure, but none have found him and lived to
+	tell the tale.  Woe be to the incautious adventurer who
+	disturbs this mighty sorcerer!
+	The ancestors of the modern day domestic dog, wolves are
+	powerful muscular animals with bushy tails.  Intelligent,
+	social animals, wolves live in family groups or packs made
+	up of multiple family units.  These packs cooperate in hunting
+	down prey.
+	The Usenet Oracle requires an answer to this question!
+
+	> How much wood could a woodchuck chuck if a woodchuck could
+	> chuck wood?
+
+	"Oh, heck!  I'll handle *this* one!"  The Oracle spun the terminal
+	back toward himself, unlocked the ZOT-guard lock, and slid the
+	glass guard away from the ZOT key.  "Ummmm....could you turn around
+	for a minute?  ZOTs are too graphic for the uninitiated.  Even *I*
+	get a little squeamish sometimes..."  The neophyte turned around,
+	and heard the Oracle slam his finger on a computer key, followed
+	by a loud ZZZZOTTTTT and the smell of ozone.
+		[ Excerpted from Internet Oracularity 576.6 ]
+	[The crysknife] is manufactured in two forms from teeth taken
+	from dead sandworms.  The two forms are "fixed" and "unfixed".
+	An unfixed knife requires proximity to a human body's
+	electrical field to prevent disintegration.  Fixed knives
+	are treated for storage.  All are about 20 centimeters long.
+		[ Dune, by Frank Herbert ]
+	Immediately, though everything else remained as before, dim
+	and dark, the shapes became terribly clear.  He was able to
+	see beneath their black wrappings.  There were five tall
+	figures:  two standing on the lip of the dell, three advancing.
+	In their white faces burned keen and merciless eyes; under
+	their mantles were long grey robes; upon their grey hairs
+	were helms of silver; in their haggard hands were swords of
+	steel.  Their eyes fell on him and pierced him, as they
+	rushed towards him.  Desperate, he drew his own sword, and
+	it seemed to him that it flickered red, as if it was a
+	firebrand.  Two of the figures halted.  The third was taller
+	than the others:  his hair was long and gleaming and on his
+	helm was a crown.  In one hand he held a long sword, and in
+	the other a knife; both the knife and the hand that held it
+	glowed with a pale light.  He sprang forward and bore down
+	on Frodo.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	The Wumpus, by the way, is not bothered by the hazards since
+	he has sucker feet and is too big for a bat to lift.  If you
+	try to shoot him and miss, there's also a chance that he'll
+	up and move himself into another cave, though by nature the
+	Wumpus is a sedentary creature.
+		[ wump(6) -- "Hunt the Wumpus" ]
+	They sent their friend the mosquito [xan] ahead of them to
+	find out what lay ahead.  "Since you are the one who sucks
+	the blood of men walking along paths," they told the mosquito,
+	"go and sting the men of Xibalba."  The mosquito flew
+	down the dark road to the Underworld.  Entering the house of
+	the Lords of Death, he stung the first person that he saw...
+
+	The mosquito stung this man as well, and when he yelled, the
+	man next to him asked, "Gathered Blood, what's wrong?"  So
+	he flew along the row stinging all the seated men until he
+	knew the names of all twelve.
+			[ Popul Vuh, as translated by Ralph Nelson ]
+	A distant cousin of the earth elemental, the xorn has the
+	ability to shift the cells of its body around in such a way
+	that it becomes porous to inert material.  This gives it the
+	ability to pass through any obstacle that might be between it
+	and its next meal.
+	The arrow of choice of the samurai, ya are made of very
+	straight bamboo, and are tipped with hardened steel.
+	Yeenoghu, the demon lord of gnolls, still exists although
+	all his followers have been wiped off the face of the earth.
+	He casts magic projectiles at those close to him, and a mere
+	gaze into his piercing eyes may hopelessly confuse the
+	battle-weary adventurer.
+	The Abominable Snowman, or yeti, is one of the truly great
+	unknown animals of the twentieth century.  It is a large hairy
+	biped that lives in the Himalayan region of Asia ... The story
+	of the Abominable Snowman is filled with mysteries great and
+	small, and one of the most difficult of all is how it got that
+	awful name.  The creature is neither particularly abominable,
+	nor does it necessarily live in the snows.  _Yeti_ is a Tibetan
+	word which may apply either to a real, but unknown animal of
+	the Himalayas, or to a mountain spirit or demon -- no one is
+	quite sure which.  And after nearly half a century in which
+	Westerners have trampled around looking for the yeti, and
+	asking all sorts of questions, the original native traditions
+	concerning the creature have become even more muddled and
+	confused.
+		[ The Encyclopedia of Monsters, by Daniel Cohen ]
+	Japanese leather archery gloves.  Gloves made for use while
+	practicing had thumbs reinforced with horn.  Those worn into
+	battle had thumbs reinforced with a double layer of leather.
+	The samurai is highly trained with a special type of bow,
+	the yumi.  Like the ya, the yumi is made of bamboo.  With
+	the yumi-ya, the bow and arrow, the samurai is an extremely
+	accurate and deadly warrior.
+	The zombi... is a soulless human corpse, still dead, but
+	taken from the grave and endowed by sorcery with a
+	mechanical semblance of life, -- it is a dead body which is
+	made to walk and act and move as if it were alive.
+		[ W. B. Seabrook ]
+	The zruty are wild and gigantic beings, living in the
+	wildernesses of the Tatra mountains.
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\data.base SlashTNG-master\dat\data.base
--- slashem-0.0.7E7F3\dat\data.base	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\dat\data.base	Sat Dec 24 12:41:02 2016
@@ -349,6 +349,27 @@
 			  [ after the Encyclopedia of Gods, by Michael Jordan ]
 axolotl
 	A mundane salamander, harmless.
+babelfish
+		"The Babel fish," said The Hitch  Hiker's Guide  to  the  Galaxy
+		quietly,  "is  small,  yellow  and  leech-like, and probably the
+		oddest thing in the Universe. It feeds on brainwave  energy  not
+		from  its  carrier  but  from  those around  it.  It absorbs all
+		unconscious mental frequencies  from this  brainwave  energy  to
+		nourish  itself  with.  It then  excretes  into  the mind of its
+		carrier a telepathic matrix formed  by  combining the  conscious
+		thought frequencies with nerve signals picked up from the speech
+		centres of the brain which  has  supplied  them.  The  practical
+		upshot of all this is that if you stick a Babel fish in your ear
+		you can instantly understand anything said to you in any form of
+		language.  The  speech  patterns  you actually  hear  decode the
+		brainwave matrix which has been fed into your mind by your Babel
+		fish.
+		[...] 
+		"Meanwhile, the poor Babel  fish, by  effectively  removing  all
+		barriers  to communication between different races and cultures,
+		has caused more and bloddier wars  than  anything  else  in  the
+		history of creation."
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
 bag
 bag of *
 sack
@@ -688,6 +709,14 @@
 	Bring me my cross of gold,
 	As a talisman.
 		[ "Broadsword" (refrain) by Ian Anderson ]
+bug
+	 	n. An unwanted  and  unintended  property of a  program or piece
+	 	of hardware, esp. one that causes it to malfunction.  Antonym of
+	  	{feature}.   Examples: "There's a bug  in the editor:  it writes
+		things out backwards." "The system crashed because of a hardware
+	  	bug."   "Fred is a winner, but he has a few bugs" (i.e., Fred is
+	   	a good guy, but he has a few personality problems).
+		[ The Jargon File, version 3.0.0 ]
 bugbear
 	Bugbears are relatives of goblins, although they tend to be
 	larger and more hairy.  They are aggressive carnivores and
@@ -1014,6 +1043,22 @@
 	being in fact very uninteresting except as a chewing
 	exercise.  It was made by the Lake-men for long journeys.
 		[ The Hobbit, by J.R.R. Tolkien ]
+creeping 42
+		These are the incarnations of The Answer (although nobody
+		knows the question). Eating the dead body of one gives
+		you a short, but insightful glimpse on the answer, thereby
+		greatly increasing your experience in life. However the
+		shock will cause your vision to blur temporarily.
+Cray
+		:cray: /kray/ n. 1. (properly, capitalized) One of the line of
+		supercomputers designed by Cray Research. 2.Any supercomputer at
+		all.  3. The {canonical} {number-crunching} machine.
+
+		The term is actually the lowercased last name of Seymour Cray, a
+		noted computer architect and co-founder of the company. Numerous
+		vivid legends surround him, some true and some admittedly invented
+		by Cray Research brass to shape their corporate culture and image.
+		[ The Jargon File, version 3.0.0 ]
 *crocodile
 	A big animal with the appearance of a lizard, constituting
 	an order of the reptiles (_Loricata_ or _Crocodylia_), the
@@ -1162,6 +1207,117 @@
 	they would rest; but some day, if they remembered, they would 
 	rise again for the tribute Great Cthulhu craved.
 		[ The Shadow Over Innsmouth, by H.P. Lovecraft ]
+Deep Thought
+		"O people waiting in the Shadow of Deep Thought!" he cried  out.
+		"Honoured Descendants of Vroomfondel and Majikthise,the Greatest
+		and Most Truly Interesting Pundits the Universe has  ever  known
+		... The Time of Waiting is over!"
+		[...] 
+		"Seven and a half million years our  race  has waited  for  this
+		Great  and  Hopefully Enlightening Day!" cried the cheer leader.
+		"The Day of the Answer!"
+		[...] 
+		"The time is nearly upon us," said one, and Arthur was surprised
+		to see a word suddenly materialize in thin air just by the man's
+		neck. The word was Loonquawl, and it flashed a couple  of  times
+		and then disappeared again. Before Arthur was able to assimilate
+		this the other man spoke and the word  Phouchg  appeared by  his
+		neck.
+ 
+		"Seventy-five thousand generations ago, our ancestors  set  this
+		program in motion," the second man said,"and in all that time we
+		will be the first to hear the computer speak."
+ 
+		"An awesome prospect, Phouchg," agreed the first man, and Arthur
+		suddenly   realized   that  he  was  watching  a recording  with
+		subtitles.
+ 
+		"We are the ones who will hear," said Phouchg,"the answer to the
+		great question of Life ...!"
+ 
+		"The Universe ...!" said Loonquawl.
+ 
+		"And Everything ...!"
+ 
+		"Shhh," said Loonquawl with  a  slight  gesture, "I  think  Deep
+		Thought is preparing to speak!"
+ 
+		There was a  moment's expectant  pause whilst panels slowly came
+		to life on the front of  the  console. Lights flashed on and off
+		experimentally and settled down into a businesslike  pattern.  A
+		soft low hum came from the communication channel.
+ 
+		"Good morning," said Deep Thought at last.
+ 
+		"Er ... Good morning, O Deep Thought," said Loonquawl nervously,
+		"do you have ... er, that is ..."
+ 
+		"An answer for you?" interrupted Deep Thought majestically."Yes.
+		I have."
+ 
+		The two men shivered with expectancy. Their waiting had not been
+		in vain.
+ 
+		"There really is one?" breathed Phouchg.
+ 
+		"There really is one," confirmed Deep Thought.
+ 
+		"To Everything? To the great Question of Life, the  Universe and
+		Everything?"
+ 
+		"Yes."
+ 
+		Both of the men had been trained for this moment,their lives had
+		been  a  preparation  for it, they had been selected at birth as
+		those who would witness the  answer,  but  even  so  they  found
+		themselves gasping and squirming like excited children.
+ 
+		"And you're ready to give it to us?" urged Loonquawl.
+ 
+		"I am."
+ 
+		"Now?"
+ 
+		"Now," said Deep Thought.
+ 
+		They both licked their dry lips.
+ 
+		"Though I don't think," added Deep Thought,"that you're going to
+		like it."
+ 
+		"Doesn't matter!" said Phouchg. "We must know it! Now!"
+ 
+		"Now?" inquired Deep Thought.
+ 
+		"Yes! Now ..."
+ 
+		"Alright," said the computer and settled into silence again. The
+		two men fidgeted. The tension was unbearable.
+ 
+		"You're really not going to like it," observed Deep Thought.
+ 
+		"Tell us!"
+ 
+		"Alright," said Deep Thought. "The Answer to the  Great Question
+		..."
+ 
+		"Yes ...!"
+ 
+		"Of Life, the Universe and Everything ..." said Deep Thought.
+ 
+		"Yes ...!"
+ 
+		"Is ..." said Deep Thought, and paused.
+ 
+		"Yes ...!"
+ 
+		"Is ..."
+ 
+		"Yes ...!!!...?"
+ 
+		"Forty-two," said Deep Thought, with infinite majesty and calm.
+
+		[ The Hitchhiker's Guide To The Galaxy by Douglas Adams ]
 demogorgon
 	Demogorgon, the prince of demons, wallows in filth and can
 	spread a quickly fatal illness to his victims while rending
@@ -1286,6 +1442,14 @@
  	Xander: I am.
  	Xander Double: No, _I_ am.
  	    [ Buffy the Vampire Slayer, Episode 5.03, "The Replacement" ]
+Douglas Adams
+		Note to the real Douglas Adams: should you really ever read
+		this text, please do not get upset about how you and your
+		characters are represented in this work, but rather remember
+		that it was you (yes, *you*) who started all this stuff!
+		"All IMNSHO, constructive comments by e-mail, flame and
+		murder threats to /dev/null, don't bother with flames,
+		I'm fire resistant."
 ~komodo*
 *dragon
 *xoth
@@ -1358,6 +1522,29 @@
 earth
 	Mostly Harmless.
 		[ Hitchhiker's Guide to the Galaxy, by Douglas Adams ]
+Eddie
+		"Hi there! This is Eddie your shipboard computer, and I'm feeling
+		just  great  guys,  and  I know I'm just going to get a bundle of
+		kicks out of any programme you care to run through me."
+ 
+		Arthur looked inquiringly at Trillian. She motioned him  to  come
+		on in but keep quiet.
+ 
+		"Computer,"  said  Zaphod,  "tell  us  again  what  our   present
+		trajectory is."
+ 
+		"A real pleasure feller," it burbled, "we are currently in  orbit
+		at an altitude of three hundred miles around the legendary planet
+		of Magrathea."
+ 
+		"Proving nothing," said Ford. "I wouldn't trust that computer  to
+		speak my weight."
+ 
+	"	I can do that for you, sure," enthused  the  computer,  punching
+		out  more  tickertape.  "I  can  even  work  out  you personality
+		problems to ten decimal places if it will help."
+
+			[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
 eel
 giant eel
 	The behaviour of eels in fresh water extends the air of
@@ -1593,6 +1780,28 @@
 	on silent haunches
 	and then moves on.
 		 [ Fog, by Carl Sandburg ]
+Ford Perfect
+Ford Prefect
+		By a curious coincidence,  None  at  all  is  exactly  how  much
+		suspicion  the ape-descendant  Arthur  Dent  had that one of his
+		closest friends was not descended from an ape, but was  in  fact
+		from  a  small planet in the vicinity of Betelgeuse and not from
+		Guildford as he usually claimed.
+ 
+		Arthur Dent had never, ever suspected this.
+ 
+		This friend of his had first arrived on the planet some  fifteen
+		Earth  years previously, and he had worked hard to blend himself
+		into Earth society - with, it must be said,  some  success.  For
+		instance he had spent those fifteen years pretending to be an out
+		of work actor, which was plausible enough.
+ 
+		He had made one careless blunder though,because he had skimped a
+		bit on his preparatory research. The information he had gathered
+		had  led him to  choose the name "Ford Prefect" [sic]  as  being
+		inconspicuous.
+
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
 fountain
 	Rest! This little Fountain runs
 	Thus for aye: -- It never stays
@@ -2104,6 +2313,21 @@
 hezrou
 	"Hezrou" is the common name for the type II demon.  It is
 	among the weaker of demons, but still quite formidable.
+heisenbug
+		:heisenbug:
+		/hi:'zen-buhg/ [from Heisenberg's Uncertainty
+		Principle in quantum physics] n. A bug that disappears or alters
+		its behavior when one attempts to probe or isolate it.(This usage
+		is not even particularly fanciful; the use of a debugger sometimes
+		alters a program's operating environment significantly enough
+		that buggy code, such as that which relies on the values of
+		uninitialized memory, behaves quite differently.)  Antonym of
+		{Bohr bug}; see also {mandelbug}, {schroedinbug}.  In C,
+		nine out of ten heisenbugs result from uninitialized auto
+ 		variables, {fandango on core} phenomena (esp. lossage related
+		to corruption of the malloc {arena}) or errors that {smash
+		the stack}.
+		[ The Jargon File, version 3.0.0 ]
 hippocrates
 	Greek physician, recognized as the father of medicine.  He
 	is believed to have been born on the island of Cos, to have
@@ -2726,7 +2950,7 @@
 	bone instead of teeth; it is said, too, that this animal can
 	imitate the human voice.
 		[ Curious Creatures in Zoology, by John Ashton ]
-leprechaun
+*leprechaun*
 	The Irish Leprechaun is the Faeries' shoemaker and is known
 	under various names in different parts of Ireland:
 	Cluricaune in Cork, Lurican in Kerry, Lurikeen in Kildare
@@ -3241,6 +3465,7 @@
 	we do not hunt where they hunt; we do not die where they die...."
 		[ The Jungle Book, by Rudyard Kipling ]
 mumak*
+giant mumak
 	... the Mumak of Harad was indeed a beast of vast bulk, and
 	the like of him does not walk now in Middle-Earth; his kin
 	that live still in latter days are but memories of his girth
@@ -3615,6 +3840,29 @@
 	Pelias cryptically.  "You see my fleshy guise, he saw my naked
 	soul."
 	    [ Conan the Usurper, by Robert E. Howard and L. Sprague de Camp ]
+PDP-*
+		:PDP-10:
+		[Programmed Data Processor model 10] n. The machine that
+		made timesharing real. It looms large in hacker folklore because
+		of its adoption in the mid-1970s by many university computing
+		facilities and research labs,including the MIT AI Lab, Stanford,
+		and CMU.  Some aspects of the instruction set (most notably the
+		bit-field instructions) are still considered unsurpassed. The 10
+		was eventually eclipsed by the VAX machines (descendants of the
+		PDP-11) when DEC recognized that the 10 and VAX product lines were
+		competing with each other and decided to concentrate its software
+		development effort on the more profitable VAX. The machine was
+		finally dropped from DEC's line in 1983,following the failure of
+		the Jupiter Project at DEC to build a viable new model.  (Some
+		attempts by other companies to market clones came to nothing;see
+		{Foonly} and {Mars}.)  This event spelled the doom of
+		{{ITS}} and the technical cultures that had spawned the original
+		Jargon File, but by mid-1991 it had become something of a badge of
+		honorable old-timerhood among hackers to have cut one's teeth on a
+		PDP-10.  See {{TOPS-10}}, {{ITS}}, {AOS}, {BLT}, {DDT},
+		{DPB}, {EXCH}, {HAKMEM}, {JFCL}, {LDB}, {pop},
+		{push}, {Appendix A}.
+		[ The Jargon File, version 3.0.0 ]
 phase spider
 	Phase potion, which is related to oil of etherealness, is more
 	useful for general combat. When imbibed, this potion allows the
@@ -3779,6 +4027,20 @@
 		You are Number 6.
 	I am not a number!  I am a free man! 
 		[ The Prisoner, by Patrick McGoohan ]
+Prostetnik Vogon Jeltz
+		Prostetnic Vogon Jeltz was not a pleasant sight, even  for other
+		Vogons.  His  highly  domed nose  rose  high above a small piggy
+		forehead.His dark green rubbery skin was thick enough for him to
+		play the game of Vogon Civil Service politics, and play it well,
+		and waterproof enough for him  to  survive indefinitely  at  sea
+		depths of up to a thousand feet with no ill effects.
+		Not that he ever went swimming of course.His busy schedule would
+		not allow it.
+		[...] 
+		Prostetnic Vogon Jeltz was a fairly typical Vogon in that he was
+		thoroughly vile. Also, he did not like hitch hikers.
+
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
 ptah
 	Known under various names (Nu, Neph, Cenubis, Amen-Kneph,
 	Khery-Bakef), Ptah is the creator god and god of craftsmen.
@@ -4676,6 +4938,7 @@
 	Tourist, Rincewind had decided, meant "idiot".
 		[ The Colour of Magic, by Terry Pratchett ]
 towel
+Ravenous Bugblatter Beast Of Traal
 	The Hitchhiker's Guide to the Galaxy has a few things to say
 	on the subject of towels.
 	A towel, it says, is about the most massively useful thing
@@ -4849,6 +5112,23 @@
 	warm glow stage, then I use my horn to burn off any excess and
 	keep me right there."
 		[ Unicorn Variations, by Roger Zelazny ]
+*UNIX*
+		:UNIX:: /yoo'niks/ [In the authors' words, "A weak pun on
+		Multics"] n. (also `Unix') An interactive time-sharing system
+		invented in 1969 by Ken Thompson after Bell Labs left the Multics
+		project,originally so he could play games on his scavengedPDP-7.
+		Dennis Ritchie the inventor of C,is considered a co-author of the
+		system.  The turning point in UNIX's history came when it was
+		reimplemented almost entirely in C during 1972--1974, making it the
+		first source-portable OS.  UNIX subsequently underwent mutations
+		and expansions at the hands of many different people,resulting in
+		a uniquely flexible and developer-friendly environment. By 1991,
+		UNIX had become the most widely used multiuser general-purpose
+		operating system in the world.Many people consider this the most
+		important victory yet of hackerdom over industry opposition (but
+		see {UNIX weenie} and {UNIX conspiracy} for an opposing point
+		of view).  See {Version 7}, {BSD}, {USG UNIX}.
+		[ The Jargon File, version 3.0.0 ]
 uruk*hai
 	"Aye, we must stick together," growled Ugluk. "I don't trust you 
 	little swine. You've got no guts outside your own sties. But for 
@@ -4883,6 +5163,17 @@
 	the original and usual form of the belief, a reanimated
 	corpse), supposed to seek nourishment, or do harm, by sucking
 	the blood of sleeping persons. ..."
+
+VAX
+		:VAX: /vaks/ n. 1. [from Virtual Address eXtension] The most
+		successful minicomputer design in industry history, possibly
+		excepting its immediate ancestor, the PDP-11.Between its release
+		in 1978 and its eclipse by {killer micro}s after about 1986, the
+		VAX was probably the hacker's favorite machine of them all, esp.
+		after the 1982 release of 4.2 BSD UNIX (see {BSD}).  Esp.
+		noted for its large,assembler-programmer-friendly instruction set
+		--- an asset that became a liability after the RISC revolution.
+		[ The Jargon File, version 3.0.0 ]
 venus
 	Venus, the goddess of love and beauty, was the daughter of
 	Jupiter and Dione.  Others say that Venus sprang from the
@@ -4905,6 +5196,30 @@
 	He dealt with perceived challengers to his rule by impaling
 	them upright on wooden stakes.  Visiting dignitaries who
 	failed to doff their hats had them nailed to their head.
+vogon
+vogon lord
+		                                     [...] Billions of years ago
+		when the Vogons had first crawled out of the  sluggish  primeval
+		seas  of  Vogsphere,  and  had  lain panting  and heaving on the
+		planet's virgin shores...when the first rays of the bright young
+		Vogsol  sun had shone across them that morning, it was as if the
+		forces of evolution ad simply given up on them there  and  then,
+		had  turned aside in disgust and written them off as an ugly and
+		unfortunate mistake. They never evolved again; they should never
+		have survived.
+		[...] 
+		Meanwhile, the natural forces on the planet  Vogsphere had  been
+		working  overtime  to  make  up  for their earlier blunder. They
+		brought forth scintillating jewelled scuttling crabs, which  the
+		Vogons  ate,  smashing  their  shells  with  iron mallets;  tall
+		aspiring trees with breathtaking slenderness and colour which the
+		Vogons  cut down and burned the crab meat with; elegant gazelle-
+		like creatures with silken coats and dewy eyes which the  Vogons
+		would  catch  and  sit on. They were no use as transport because
+		their backs would snap instantly, but the  Vogons  sat  on  them
+		anyway.
+
+		[ The Hitchhiker's Guide to the Galaxy by Douglas Adams ]
 *vortex
 vortices
 	Swirling clouds of pure elemental energies, the vortices are
@@ -4928,6 +5243,22 @@
 wakizashi
 	The samurai warrior traditionally wears two swords; the
 	wakizashi is the shorter of the two.  See also katana.
+walking disk drive
+		:walking drives: n. An occasional failure mode of magnetic-disk
+		drives back in the days when they were huge, clunky {washing
+		machine}s.  Those old {dinosaur} parts carried terrific angular
+		momentum;the combination of a misaligned spindle or worn bearings
+		and stick-slip interactions with the floor could cause them to
+		`walk' across a room, lurching alternate corners forward a couple
+		of millimeters at a time.  There is a legend about a drive that
+		walked over to the only door to the computer room and jammed it
+		shut; the staff had to cut a hole in the wall in order to get at
+		it!  Walking could also be induced by certain patterns of drive
+		access(a fast seek across the whole width of the disk,followed by
+		a slow seek in the other direction).  Some bands of old-time
+		hackers figured out how to induce disk-accessing patterns that
+		would do this to particular drive models and held disk-drive races.
+		[ The Jargon File, version 3.0.0 ]
 wand of *
 *wand
 	'Saruman!' he cried, and his voice grew in power and authority.
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\dlb.lst SlashTNG-master\dat\dlb.lst
--- slashem-0.0.7E7F3\dat\dlb.lst	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\dlb.lst	Thu Jan 05 19:05:15 2017
@@ -0,0 +1,12 @@
+data 
+oracles 
+ttyoptions 
+rumors 
+help 
+hh 
+cmdhelp 
+history 
+opthelp 
+wizhelp 
+gypsy.txt 
+license 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\dlb2.lst SlashTNG-master\dat\dlb2.lst
--- slashem-0.0.7E7F3\dat\dlb2.lst	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\dlb2.lst	Thu Jan 05 19:05:16 2017
@@ -0,0 +1,204 @@
+dungeon 
+quest.dat 
+air.lev
+arc-fila.lev
+arc-filb.lev
+arc-goal.lev
+arc-loca.lev
+arc-strt.lev
+asmodeus.lev
+astral.lev
+baalz.lev
+bar-fila.lev
+bar-filb.lev
+bar-goal.lev
+bar-loca.lev
+bar-strt.lev
+beholder.lev
+bigrm-1.lev
+bigrm-2.lev
+bigrm-3.lev
+bigrm-4.lev
+bigrm-5.lev
+blkmar.lev
+castle.lev
+cav-fila.lev
+cav-filb.lev
+cav-goal.lev
+cav-loca.lev
+cav-strt.lev
+cav2fill.lev
+compu.lev
+compue.lev
+compux.lev
+demogorg.lev
+dispater.lev
+dragons.lev
+earth.lev
+fakewiz1.lev
+fakewiz2.lev
+fire.lev
+fla-fila.lev
+fla-filb.lev
+fla-goal.lev
+fla-loca.lev
+fla-strt.lev
+forge.lev
+forgex.lev
+frnknstn.lev
+gee-fila.lev
+gee-filb.lev
+gee-goal.lev
+gee-loca.lev
+gee-strt.lev
+geryon.lev
+grund-1.lev
+grund-2.lev
+grund-3.lev
+guild.lev
+hea-fila.lev
+hea-filb.lev
+hea-goal.lev
+hea-loca.lev
+hea-strt.lev
+hitch.lev
+hitche.lev
+hitchx.lev
+ice-fila.lev
+ice-filb.lev
+ice-goal.lev
+ice-loca.lev
+ice-strt.lev
+juiblex.lev
+key.lev
+keye.lev
+keyx.lev
+kni-fila.lev
+kni-filb.lev
+kni-goal.lev
+kni-loca.lev
+kni-strt.lev
+knox.lev
+kobold-1.lev
+kobold-2.lev
+lich.lev
+mall-1.lev
+mall-2.lev
+mall.lev
+medusa-1.lev
+medusa-2.lev
+medusa-3.lev
+medusa-4.lev
+minefill.lev
+mineking.lev
+minend-1.lev
+minend-2.lev
+minend-3.lev
+minetn-1.lev
+minetn-2.lev
+minetn-3.lev
+minetn-4.lev
+minetn-5.lev
+minetn-6.lev
+minetn-7.lev
+mon-fila.lev
+mon-filb.lev
+mon-goal.lev
+mon-loca.lev
+mon-strt.lev
+mtemple.lev
+nec-fila.lev
+nec-filb.lev
+nec-goal.lev
+nec-loca.lev
+nec-strt.lev
+nightmar.lev
+nymph.lev
+oracle.lev
+orcus.lev
+pri-fila.lev
+pri-filb.lev
+pri-goal.lev
+pri-loca.lev
+pri-strt.lev
+ran-fila.lev
+ran-filb.lev
+ran-goal.lev
+ran-loca.lev
+ran-strt.lev
+rats.lev
+rog-fila.lev
+rog-filb.lev
+rog-goal.lev
+rog-loca.lev
+rog-strt.lev
+sam-fila.lev
+sam-filb.lev
+sam-goal.lev
+sam-loca.lev
+sam-strt.lev
+sanctum.lev
+school.lev
+sea.lev
+soko1-1.lev
+soko1-2.lev
+soko1-3.lev
+soko1-4.lev
+soko2-1.lev
+soko2-2.lev
+soko2-3.lev
+soko2-4.lev
+soko2-5.lev
+soko2-6.lev
+soko2-7.lev
+soko3-1.lev
+soko3-2.lev
+soko3-3.lev
+soko3-4.lev
+soko3-5.lev
+soko3-6.lev
+soko3-7.lev
+soko4-1.lev
+soko4-2.lev
+soko4-3.lev
+soko4-4.lev
+soko4-5.lev
+spiders.lev
+stor-1.lev
+stor-2.lev
+stor-3.lev
+tomb.lev
+tou-fila.lev
+tou-filb.lev
+tou-goal.lev
+tou-loca.lev
+tou-strt.lev
+tower1.lev
+tower2.lev
+tower3.lev
+und-fila.lev
+und-filb.lev
+und-goal.lev
+und-loca.lev
+und-strt.lev
+val-fila.lev
+val-filb.lev
+val-goal.lev
+val-loca.lev
+val-strt.lev
+valley.lev
+water.lev
+wiz-fila.lev
+wiz-filb.lev
+wiz-goal.lev
+wiz-loca.lev
+wiz-strt.lev
+wizard1.lev
+wizard2.lev
+wizard3.lev
+yeenoghu.lev
+yeo-fila.lev
+yeo-filb.lev
+yeo-goal.lev
+yeo-loca.lev
+yeo-strt.lev
Binary files slashem-0.0.7E7F3\dat\dlb_main.exe and SlashTNG-master\dat\dlb_main.exe differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\dragons.des SlashTNG-master\dat\dragons.des
--- slashem-0.0.7E7F3\dat\dragons.des	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\dat\dragons.des	Mon Jan 02 15:05:15 2017
@@ -92,6 +92,7 @@
 MONSTER: 'D', random, random, hostile
 MONSTER: 'D', random, random, hostile
 MONSTER: 'D', random, random, hostile
+MONSTER:'D',"Dragon Lord",random,hostile
 MONSTER: 'w', random, random, hostile
 MONSTER: 'w', random, random, hostile
 MONSTER: 'w', random, random, hostile
Binary files slashem-0.0.7E7F3\dat\dungeon and SlashTNG-master\dat\dungeon differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\dungeon.def SlashTNG-master\dat\dungeon.def
--- slashem-0.0.7E7F3\dat\dungeon.def	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\dat\dungeon.def	Thu Jan 05 19:06:40 2017
@@ -87,6 +87,11 @@
 #   Rounding out the bottom levels
 LEVEL:		"guild" "G" @ (26, 6) 50
 
+LEVEL:		"forge" "F" @ (15, 35) 80 
+LEVEL:		"hitch" "H" @ (15, 35)
+LEVEL:		"compu" "C" @ (15, 35) 80 
+LEVEL:		"key" "K" @ (15, 35) 80
+
 
 # The famous Fort Ludios...
 BRANCH:			"Fort Ludios" @ (23, 4) portal
@@ -102,7 +107,6 @@
 # Branch to the endgame...
 BRANCH:			"The Elemental Planes" @ (1, 0) no_down up -2
 
-
 ### Gehennom ###
 #
 # Now re-worked for 3.1, hell is hopefully going to be a little
@@ -149,7 +153,7 @@
 LEVEL:          "asmodeus" "A" @ (10, 6)
 LEVEL:          "fakewiz1" "F" @ (10, 6)
 LEVEL:          "fakewiz2" "G" @ (10, 6)
-
+LEVEL:		"school" "S" @ (2, 29) 80
 
 ### Gnomish Mines ###
 # (The Mines of the Gnomes of Zurich.)
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\dungeon.pdf SlashTNG-master\dat\dungeon.pdf
--- slashem-0.0.7E7F3\dat\dungeon.pdf	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\dungeon.pdf	Thu Jan 05 19:05:12 2017
@@ -0,0 +1,187 @@
+#	This data file is generated by 'makedefs'.  Do not edit. 
+
+DUNGEON:        "The Dungeons of Doom" "D" (42, 5)
+ALIGNMENT:      unaligned
+
+
+BRANCH:		"The Gnomish Mines" @ (2, 3)
+
+RNDLEVEL:	"mall" "T" @ (5, 2) 75 2
+LEVALIGN:	lawful
+LEVELDESC:	town
+LEVEL:		"oracle" "O" @ (7, 3)
+LEVALIGN:	neutral
+CHAINBRANCH:	"Sokoban" "oracle" + (1, 0) up -1
+
+
+LEVEL:		"rats" "R" @ (10, 2) 50
+RNDLEVEL:	"kobold" "K" @ (11, 2) 50 2
+BRANCH: 	"Grund's Stronghold" @ (12, 2)
+
+
+BRANCH:	"The Quest" @ (15, 5) portal
+BRANCH:	"Lawful Quest" @ (15, 5) portal
+BRANCH:	"Neutral Quest" @ (15, 5) portal
+BRANCH:	"Chaotic Quest" @ (15, 5) portal
+
+
+
+
+BRANCH: 	"The Wyrm Caves" @ (20, 2)
+BRANCH: 	"One-eyed Sam's Market" @ (22, 2) portal
+BRANCH: 	"The Lost Tomb" @ (21, 4)
+BRANCH:		"The Spider Caves" @ (26, 4)
+BRANCH:		"The Sunless Sea" @ (28, 4)
+BRANCH: 	"The Temple of Moloch" @ (32, 4)
+BRANCH: 	"The Giant Caverns" @ (32, 4)
+LEVEL:		"nymph" "N" @ (23, 2) 45
+RNDLEVEL:	"bigrm" "B" @ (20, 7) 15 5
+RNDLEVEL:	"stor" "S" @ (19, 8) 66 3
+LEVEL:		"guild" "G" @ (26, 6) 50
+
+LEVEL:		"forge" "F" @ (15, 35) 80 
+LEVEL:		"hitch" "H" @ (15, 35)
+LEVEL:		"compu" "C" @ (15, 35) 80 
+LEVEL:		"key" "K" @ (15, 35) 80
+
+
+BRANCH:			"Fort Ludios" @ (23, 4) portal
+
+
+RNDLEVEL:		"medusa" "none" @ (-5, 4) 4
+LEVALIGN:		chaotic
+LEVEL:			"castle" "none" @ (-1, 0)
+CHAINBRANCH:	"Gehennom" "castle" + (0, 0) no_down
+
+
+BRANCH:			"The Elemental Planes" @ (1, 0) no_down up -2
+
+
+DUNGEON:        "Gehennom" "G" (17, 0)
+DESCRIPTION:    mazelike
+DESCRIPTION:    hellish
+ALIGNMENT:      noalign
+LEVEL:          "valley" "V" @ (1, 0)
+LEVEL:          "sanctum" "none" @ (-1, 0)
+BRANCH:         "Vlad's Tower" @ (3, 10) up -1
+BRANCH:         "Frankenstein's Lab" @ (3, 10) up
+LEVEL:          "juiblex" "J" @ (2, 5)
+LEVEL:          "yeenoghu" "E" @ (2, 5)
+LEVEL:          "orcus" "O" @ (2, 5)
+LEVEL:          "demogorg" "D" @ (2, 5)
+LEVEL:          "wizard1" "none" @ (7, 0)
+CHAINLEVEL:     "wizard2" "X" "wizard1" + (1, 0)
+CHAINLEVEL:     "wizard3" "Y" "wizard1" + (2, 0)
+LEVEL:          "baalz" "B" @ (10, 6)
+LEVEL:          "geryon" "R" @ (10, 6)
+LEVEL:          "dispater" "S" @ (10, 6)
+LEVEL:          "asmodeus" "A" @ (10, 6)
+LEVEL:          "fakewiz1" "F" @ (10, 6)
+LEVEL:          "fakewiz2" "G" @ (10, 6)
+LEVEL:		"school" "S" @ (2, 29) 80
+
+DUNGEON:	"The Gnomish Mines" "M" (8, 2)
+ALIGNMENT:	lawful
+DESCRIPTION:	mazelike
+RNDLEVEL:	"minetn" "T" @ (3, 2) 7
+LEVELDESC:	town
+RNDLEVEL:	"minend" "E" @ (-2, 0) 3
+LEVEL:		"mineking" "M" @ (-1, 0)
+
+
+DUNGEON:    "The Quest" "Q" (5, 2)
+LEVEL:  	"x-strt" "none" @ (1, 1)
+LEVEL:  	"x-loca" "L" @ (3, 1)
+LEVEL:  	"x-goal" "none" @ (-1, 0)
+
+
+DUNGEON:		"Lawful Quest" "none" (1, 0)
+ALIGNMENT:		lawful
+DESCRIPTION:	mazelike
+LEVEL:			"nightmar" "none" @ (1, 0)
+
+DUNGEON:		"Neutral Quest" "none" (1, 0)
+ALIGNMENT:		neutral
+DESCRIPTION:	mazelike
+LEVEL:			"beholder" "none" @ (1, 0)
+
+DUNGEON:		"Chaotic Quest" "none" (1, 0)
+ALIGNMENT:		chaotic
+DESCRIPTION:	mazelike
+LEVEL:			"lich" "none" @ (1, 0)
+
+DUNGEON:		"Sokoban" "none" (4, 0)
+DESCRIPTION:    mazelike
+ALIGNMENT:      neutral
+RNDLEVEL:		"soko1" "none" @ (1, 0) 4
+RNDLEVEL:		"soko2" "none" @ (2, 0) 7
+RNDLEVEL:		"soko3" "none" @ (3, 0) 7
+RNDLEVEL:		"soko4" "none" @ (4, 0) 5
+
+
+DUNGEON:        "Grund's Stronghold" "Z" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+RNDLEVEL:       "grund" "Z" @ (1, 0) 3
+
+DUNGEON:        "Fort Ludios" "K" (1, 0)
+DESCRIPTION:    mazelike
+ALIGNMENT:      unaligned
+LEVEL:          "knox" "K" @ (-1, 0)
+
+DUNGEON:        "The Wyrm Caves" "D" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+LEVEL:          "dragons" "D" @ (1, 0)
+
+DUNGEON:        "One-eyed Sam's Market" "D" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+LEVEL:          "blkmar" "D" @ (1, 0)
+
+DUNGEON:        "The Lost Tomb" "L" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+LEVEL:          "tomb" "L" @ (1, 0)
+
+DUNGEON:        "The Spider Caves" "S" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+LEVEL:          "spiders" "S" @ (1, 0)
+
+DUNGEON:        "The Sunless Sea" "none" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+LEVEL:          "sea" "none" @ (1, 0)
+
+DUNGEON:        "The Temple of Moloch" "none" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+LEVEL:          "mtemple" "none" @ (1, 0)
+
+DUNGEON:        "The Giant Caverns" "H" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+LEVEL:          "cav2fill" "H" @ (1, 0)
+
+DUNGEON:        "Vlad's Tower" "T" (3, 0)
+PROTOFILE:      "tower"
+DESCRIPTION:    mazelike
+ALIGNMENT:      chaotic
+
+
+DUNGEON:        "Frankenstein's Lab" "none" (1, 0)
+ALIGNMENT:      chaotic
+DESCRIPTION:    mazelike
+LEVEL:          "frnknstn" "none" @ (1, 0)
+
+
+DUNGEON:        "The Elemental Planes" "E" (6, 0)
+DESCRIPTION:    mazelike
+ALIGNMENT:      unaligned
+LEVEL:          "astral" "none" @ (1, 0)
+LEVEL:          "water"  "none" @ (2, 0)
+LEVEL:          "fire"   "none" @ (3, 0)
+LEVEL:          "air"    "none" @ (4, 0)
+LEVEL:          "earth"  "none" @ (5, 0)
+LEVEL:          "dummy"  "none" @ (6, 0)
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\forge.des SlashTNG-master\dat\forge.des
--- slashem-0.0.7E7F3\dat\forge.des	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\forge.des	Sun Jan 01 21:11:16 2017
@@ -0,0 +1,107 @@
+# the forge
+
+MAZE:"forge",' '
+GEOMETRY:center,center
+#         1         2         3         4         5         6         7 
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.......LLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.........LLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.......LLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLL...|............LLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLL.....|..............LLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLL..L...|................LLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLL........|.................LLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLL............................................LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLL....}...|.................LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLL......|...............LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLL....|..............LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+ENDMAP
+
+STAIR:(56,02),up
+STAIR:(62,02),down
+
+REGION:(00,00,75,19),lit,"ordinary"
+
+MONSTER:'@',"blacksmith",(25,10),"Duri"
+
+MAZE:"forgeX",' '
+GEOMETRY:center,center
+#         1         2         3         4         5         6         7 
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.......LLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.........LLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.......LLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLL...|............LLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLL.....|..............LLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLL..L...|................LLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLL........|.................LLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLL............................................LLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLL....}...|.................LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLL......|...............LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLL....|..............LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+ENDMAP
+
+STAIR:(56,02),up
+STAIR:(62,02),down
+
+REGION:(00,00,75,19),lit,"ordinary"
+
+MONSTER:'@',"blacksmith",(25,10),"Duri"
+
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'(',"figurine",random,cursed,0
+
+OBJECT:'?',random,random
+OBJECT:'?',"root password detection",random
+# add later OBJECT:'?',"flood",random
+OBJECT:'?',random,random
+OBJECT:'?',random,random
+OBJECT:'"',"amulet of data storage",random
+OBJECT:'=',"timely backup",random
+MONSTER:';',random,random
+MONSTER:';',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+OBJECT:'%',"corpse",random
+OBJECT:'%',"corpse",random
+OBJECT:'%',"corpse",random
+OBJECT[10%]:'/',random,random
+OBJECT[10%]:'/',"bugging",random
+OBJECT[10%]:'/',"cancellation",random
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\Geek.des SlashTNG-master\dat\Geek.des
--- slashem-0.0.7E7F3\dat\Geek.des	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\Geek.des	Mon May 09 22:01:14 2016
@@ -0,0 +1,353 @@
+# Geek.des
+# The Geek quest
+# 03/19/94 by Sebastian Klein
+
+# --- start level ---
+
+MAZE: "Gee-strt",' '
+FLAGS: noteleport,hardfloor
+GEOMETRY: center,center
+
+#         1         2         3         4         5         6         7
+#123456789012345678901234567890123456789012345678901234567890123456789012345
+
+MAP
+............................................................................
+............................................................................
+..........................|-------------------------|.......................
+..........................|.........................|.......................
+..........................|-------------+-----------|.......................
+............................................................................
+............................................................................
+............................................................................
+..........................|-------------------------|-|.....................
+..........................|.........................|.|.....................
+..........................|.........................|.|.....................
+..........................|.........................|.|.....................
+..........................|.........................+.+.....................
+..........................|.........................|.|.....................
+..........................|.........................|.|.....................
+..........................|.........................|.|.....................
+..........................|-------------------------|-|.....................
+............................................................................
+............................................................................
+............................................................................
+ENDMAP
+
+REGION:(00,00,75,19),lit,"ordinary"
+
+BRANCH:(60,18,60,18),(0,0,0,0)
+
+STAIR:(27,03),down
+
+DOOR:locked,(40,04)
+DOOR:locked,(54,12)
+DOOR:locked,(52,12)
+
+MONSTER:'@',"The Dev Team",(38,12)
+
+MONSTER:'@',"hacker",(37,11)
+MONSTER:'@',"hacker",(38,11)
+MONSTER:'@',"hacker",(39,11)
+MONSTER:'@',"hacker",(37,12)
+MONSTER:'@',"hacker",(39,12)
+MONSTER:'@',"hacker",(37,13)
+MONSTER:'@',"hacker",(38,13)
+MONSTER:'@',"hacker",(39,13)
+
+# For the textwork care has to be exercised that there are no
+# rock moles, dwarves with pick-axes etc. to break the walls.
+
+# "May the force be with you"
+MONSTER:'M',random,(27,03),hostile
+MONSTER:'a',random,(28,03),hostile
+MONSTER:'y',random,(29,03),hostile
+MONSTER:':',random,(30,03),hostile
+MONSTER:'t',random,(31,03),hostile
+MONSTER:'h',"hobbit",(32,03),hostile
+MONSTER:'e',random,(33,03),hostile
+MONSTER:':',random,(34,03),hostile
+MONSTER:'f',random,(35,03),hostile
+MONSTER:'o',random,(36,03),hostile
+MONSTER:'r',"sewer rat",(37,03),hostile
+MONSTER:'c',random,(38,03),hostile
+MONSTER:'e',random,(39,03),hostile
+MONSTER:':',random,(40,03),hostile
+MONSTER:'b',random,(41,03),hostile
+MONSTER:'e',random,(42,03),hostile
+MONSTER:':',random,(43,03),hostile
+MONSTER:'w',random,(44,03),hostile
+MONSTER:'i',random,(45,03),hostile
+MONSTER:'t',random,(46,03),hostile
+MONSTER:'h',"hobbit",(47,03),hostile
+MONSTER:':',random,(48,03),hostile
+MONSTER:'y',random,(49,03),hostile
+MONSTER:'o',random,(50,03),hostile
+MONSTER:'u',"young unicorn",(51,03),hostile
+
+# "WELCOME"
+MONSTER:'W',"wraith",(53,09),hostile
+MONSTER:'E',random,(53,10),hostile
+MONSTER:'L',"baby lich",(53,11) ,hostile
+MONSTER:'C',random,(53,12),hostile
+MONSTER:'O',random,(53,12),hostile
+MONSTER:'M',random,(53,13),hostile
+MONSTER:'E',random,(53,14),hostile
+
+# To ensure that the player can see the artwork 
+OBJECT:'"',"amulet of ESP",random
+OBJECT:'(',"blindfold",random
+
+OBJECT:'!',"Jolt Cola",random
+OBJECT:'!',"Jolt Cola",random
+OBJECT:'/',"digging",random
+
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+
+TRAP:random,random
+TRAP:random,random
+TRAP:random,random
+TRAP:random,random
+
+# --- locate level ---
+
+# looks harmless but *IS* tough!!!
+
+MAZE: "Gee-loca",' '
+FLAGS: hardfloor
+GEOMETRY: center,center
+
+#         1         2         3         4         5         6         7
+#123456789012345678901234567890123456789012345678901234567890123456789012345
+
+MAP
+............................................................................
+............................................................................
+............................................................................
+............................................................................
+.....--------------------------|............|--------------------------.....
+...............................|............|...............................
+...-------------------------|..|............|..|-------------------------...
+............................|..|............|..|............................
+.---------------------|--|..|..|............|..|..|--|---------------------.
+......................|..|..|..|............|..|..|..|......................
+.---------------------|--|..|..|............|..|..|--|---------------------.
+............................|..|............|..|............................
+...-------------------------|..|............|..|-------------------------...
+...............................|............|...............................
+.....--------------------------|............|--------------------------.....
+............................................................................
+............................................................................
+............................................................................
+............................................................................
+............................................................................
+ENDMAP
+
+RANDOM_PLACES: (24,09), (27,09), (30,09), (45,09), (48,09), (51,09)
+
+REGION:(00,00,75,19),lit,"ordinary"
+
+# the niches 
+STAIR:place[0],down
+OBJECT:'"',"amulet of life saving",place[1]
+OBJECT:'"',"amulet of strangulation",place[2]
+MONSTER:'m',"giant mimic",place[3], m_feature "staircase down"
+MONSTER:'m',"giant mimic",place[4], m_feature "staircase down"
+TRAP:"polymorph",place[5]
+
+STAIR:random,up
+
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+MONSTER:random,random,random,hostile
+
+TRAP:random,random
+TRAP:random,random
+TRAP:random,random
+TRAP:random,random
+TRAP:random,random
+TRAP:random,random
+TRAP:random,random
+TRAP:random,random
+
+# --- the goal level ---
+
+MAZE: "Gee-goal", ' '
+GEOMETRY:center,center
+
+#         1         2         3         4         5         6         7
+#123456789012345678901234567890123456789012345678901234567890123456789012345
+
+MAP
+............................................................................
+.-------------------------------------------------------------------------|.
+..........................................................................|.
+....|-----------------------------------------------------------------|...|.
+....|.................................................................|...|.
+....|...|---------------------------------------------------------|...|...|.
+....|...|...+.....................................................|...|...|.
+....|...|...|.....................................................|...|...|.
+....|...|...|.....................................................|...|...|.
+....|...|...|........................\............................|...|...|.
+....|...|...|.....................................................|...|...|.
+....|...|...|.....................................................|...|...|.
+....|...|...|.....................................................|...|...|.
+....|...|...|-----------------------------------------------------|...|...|.
+....|...|.............................................................|...|.
+....|...|-------------------------------------------------------------|...|.
+....|.....................................................................|.
+....|---------------------------------------------------------------------|.
+............................................................................
+............................................................................
+ENDMAP
+
+REGION:(0,0,75,19),lit,"ordinary"
+
+STAIR:(75,19),up
+
+DOOR:locked,(12,06)
+
+# that's what's this all about :-)
+OBJECT:'(',"pack of floppies",(37,09),blessed,0,"The Nethack Sources"
+MONSTER:'@',"Bill Gates",(37,09),hostile
+
+MONSTER:random,random,random
+MONSTER:random,random,random
+MONSTER:random,random,random
+MONSTER:random,random,random
+MONSTER:random,random,random
+MONSTER:random,random,random
+MONSTER:random,random,random
+MONSTER:random,random,random
+
+OBJECT:'(',"pack of floppies",random
+OBJECT:'(',"pack of floppies",random
+OBJECT:'(',"pack of floppies",random
+OBJECT:'(',"pack of floppies",random
+OBJECT:'(',"pack of floppies",random
+OBJECT:'(',"pack of floppies",random
+OBJECT:'(',"pack of floppies",random
+OBJECT:'(',"pack of floppies",random
+
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+OBJECT:random,random,random
+
+# --- fill a ---
+
+LEVEL: "Gee-fila"
+
+ROOM: "ordinary", random, random, random, random
+STAIR: random,up
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+STAIR: random,down
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+RANDOM_CORRIDORS
+
+
+# --- fill b ---
+
+LEVEL: "Gee-filb"
+
+ROOM: "ordinary", random, random, random, random
+STAIR: random,up
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+STAIR: random,down
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+ROOM: "ordinary", random, random, random, random
+OBJECT:random,random,random
+OBJECT:random,random,random
+MONSTER:random,random,random
+TRAP:random,random
+
+RANDOM_CORRIDORS
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\gehennom.des SlashTNG-master\dat\gehennom.des
--- slashem-0.0.7E7F3\dat\gehennom.des	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\dat\gehennom.des	Sat Dec 24 12:22:52 2016
@@ -1025,3 +1025,538 @@
 MONSTER:'V',random,random
 MONSTER:'V',random,random
 STAIR:(63,15),up
+
+#
+# ... and finally: a school
+# It is probably no coincidence that it is in hell :-)
+#
+# I had to comment out many pupils - weird things seem to happen when
+# there are more than 127 monsters (lev_comp bug/feature ?)
+
+MAZE: "school", ' '
+MESSAGE: "You feel reminded of your days of learning ..."
+GEOMETRY: center,center
+
+#         1         2         3         4         5         6         7
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+|--|        |-------|-----|-----|-----|-----|-----|-----|-----|-----|------|
+|..+########+.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+|--|        |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+            |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+     #######+.......|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+---|
+     #      |..............................................................|
+     #      |..............................................................|
+     #      |.......|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+---|
+|----+----| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+|.........| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+|.........| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+|.........| |.......|-----|-----|-----|-----|-----|-----|-----|-----|------|
+|.........| |..............................................................|
+|.........| |..............................................................|
+|.........| |.......|--+----------------------------+--|--+----------------|
+|.........| |.......|..................................|...................|
+|.........| |.......|..................................+...................|
+|.........| |.......|..................................|...............\...|
+|.........| |.......|..................................|...................|
+|---------| |--------------------------------------------------------------|
+ENDMAP
+
+# the antechamber
+REGION:(01,01,02,01),unlit,"ordinary"
+# the actual school
+REGION:(13,01,74,18),lit,"ordinary"
+# the gym
+REGION:(01,09,09,18),lit,"ordinary"
+
+# Stairs: up in the antechamber, down behind the principal's throne
+STAIR:(01,01),up
+STAIR:(72,17),down
+
+# main doors
+DOOR:locked,(12,01)
+DOOR:locked,(12,04)
+# the classes
+DOOR:locked,(23,04)
+DOOR:locked,(29,04)
+DOOR:locked,(35,04)
+DOOR:locked,(41,04)
+DOOR:locked,(47,04)
+DOOR:locked,(53,04)
+DOOR:locked,(59,04)
+DOOR:locked,(65,04)
+DOOR:locked,(71,04)
+DOOR:locked,(23,07)
+DOOR:locked,(29,07)
+DOOR:locked,(35,07)
+DOOR:locked,(41,07)
+DOOR:locked,(47,07)
+DOOR:locked,(53,07)
+DOOR:locked,(59,07)
+DOOR:locked,(65,07)
+DOOR:locked,(71,07)
+# the Teacher's Room
+DOOR:locked,(23,14)
+DOOR:locked,(52,14)
+# the Principal's Office
+DOOR:locked,(58,14)
+DOOR:locked,(55,16)
+# the Gym
+DOOR:locked,(05,08)
+
+# Engravings: the classes and other rooms
+ENGRAVING:(23,05),burn,"C101"
+ENGRAVING:(29,05),burn,"C102"
+ENGRAVING:(35,05),burn,"C103"
+ENGRAVING:(41,05),burn,"C104"
+ENGRAVING:(47,05),burn,"C105"
+ENGRAVING:(53,05),burn,"C106"
+ENGRAVING:(59,05),burn,"C107"
+ENGRAVING:(65,05),burn,"C108"
+ENGRAVING:(71,05),burn,"C109"
+ENGRAVING:(23,06),burn,"C201"
+ENGRAVING:(29,06),burn,"C202"
+ENGRAVING:(35,06),burn,"C203"
+ENGRAVING:(41,06),burn,"C204"
+ENGRAVING:(47,06),burn,"Library"
+ENGRAVING:(53,06),burn,"B111 (Biology)"
+ENGRAVING:(59,06),burn,"B115 (Chemical Storage)"
+ENGRAVING:(65,06),burn,"B116 (Chemistry)"
+ENGRAVING:(71,06),burn,"C311 (Computers)"
+ENGRAVING:(23,13),burn,"Teacher's Room"
+ENGRAVING:(52,13),burn,"Teacher's Room"
+ENGRAVING:(58,13),burn,"Principal's Office"
+ENGRAVING:(05,07),burn,"Abandon all hope, ye who enter here!"
+ENGRAVING:(11,01),burn,"KILLER HIGH SCHOOL"
+
+# Room C101, in memorial of my old kind but tough English teacher 
+# Mr. Baumert
+MONSTER:'@',"teacher",(23,03),"Mr. Baumert",peaceful
+MONSTER:'@',"pupil",(21,01)
+MONSTER:'@',"pupil",(22,01)
+MONSTER:'@',"pupil",(23,01)
+MONSTER:'@',"pupil",(24,01)
+# MONSTER:'@',"pupil",(25,01)
+# MONSTER:'@',"pupil",(21,02)
+# MONSTER:'@',"pupil",(22,02)
+# MONSTER:'@',"pupil",(23,02)
+# MONSTER:'@',"pupil",(24,02)
+# MONSTER:'@',"pupil",(25,02)
+# MONSTER:'@',"pupil",(21,03)
+# MONSTER:'@',"pupil",(22,03)
+# MONSTER:'@',"pupil",(24,03)
+# MONSTER:'@',"pupil",(25,03)
+
+# Room C102, Mr. Gier. I have always loved his blasts of sleep.
+MONSTER:'@',"teacher",(29,03),"Mr. Gier",hostile
+MONSTER:'@',"pupil",(27,01)
+MONSTER:'@',"pupil",(28,01)
+MONSTER:'@',"pupil",(29,01)
+MONSTER:'@',"pupil",(30,01)
+MONSTER:'@',"pupil",(31,01)
+# MONSTER:'@',"pupil",(27,02)
+# MONSTER:'@',"pupil",(28,02)
+# MONSTER:'@',"pupil",(29,02)
+# MONSTER:'@',"pupil",(30,02)
+# MONSTER:'@',"pupil",(31,02)
+# MONSTER:'@',"pupil",(27,03)
+# MONSTER:'@',"pupil",(28,03)
+# MONSTER:'@',"pupil",(30,03)
+# MONSTER:'@',"pupil",(31,03)
+
+# Room C103. Mrs. Dickler. Her capabilities in explaining maths 
+# were always of use.
+MONSTER:'@',"teacher",(35,03),"Mrs. Dickler"
+MONSTER:'@',"pupil",(33,01)
+MONSTER:'@',"pupil",(34,01)
+MONSTER:'@',"pupil",(35,01)
+MONSTER:'@',"pupil",(36,01)
+# MONSTER:'@',"pupil",(37,01)
+# MONSTER:'@',"pupil",(33,02)
+# MONSTER:'@',"pupil",(34,02)
+# MONSTER:'@',"pupil",(35,02)
+# MONSTER:'@',"pupil",(36,02)
+# MONSTER:'@',"pupil",(37,02)
+# MONSTER:'@',"pupil",(33,03)
+# MONSTER:'@',"pupil",(34,03)
+# MONSTER:'@',"pupil",(36,03)
+# MONSTER:'@',"pupil",(37,03)
+
+# Room C104. Mrs. Wessel. Thank you for being so kind ...
+MONSTER:'@',"teacher",(41,03),"Mrs. Wessel"
+MONSTER:'@',"pupil",(39,01)
+MONSTER:'@',"pupil",(40,01)
+MONSTER:'@',"pupil",(41,01)
+MONSTER:'@',"pupil",(42,01)
+# MONSTER:'@',"pupil",(43,01)
+# MONSTER:'@',"pupil",(39,02)
+# MONSTER:'@',"pupil",(40,02)
+# MONSTER:'@',"pupil",(41,02)
+# MONSTER:'@',"pupil",(42,02)
+# MONSTER:'@',"pupil",(43,02)
+# MONSTER:'@',"pupil",(39,03)
+# MONSTER:'@',"pupil",(40,03)
+# MONSTER:'@',"pupil",(42,03)
+# MONSTER:'@',"pupil",(43,03)
+
+# C105. Mr. Koerfgen - I have always loved your acid blasts
+# Guess why there are so many corpses here :-)
+MONSTER:'@',"teacher",(47,03),"Mr. Koerfgen",hostile
+OBJECT:'/',"acid",(47,03)
+MONSTER:'@',"pupil",(45,01)
+OBJECT:'%',"corpse",(46,01),"pupil",0
+MONSTER:'@',"pupil",(47,01)
+OBJECT:'%',"corpse",(48,01),"pupil",0
+MONSTER:'@',"pupil",(49,01)
+OBJECT:'%',"corpse",(45,02),"pupil",0
+# MONSTER:'@',"pupil",(46,02)
+OBJECT:'%',"corpse",(47,02),"pupil",0
+# MONSTER:'@',"pupil",(48,02)
+OBJECT:'%',"corpse",(49,02),"pupil",0
+# MONSTER:'@',"pupil",(45,03)
+OBJECT:'%',"corpse",(46,03),"pupil",0
+# MONSTER:'@',"pupil",(48,03)
+OBJECT:'%',"corpse",(49,03),"pupil",0
+
+# C106 is the residence of Mr. Schuster.
+MONSTER:'@',"teacher",(53,03),"Mr. Schuster"
+MONSTER:'@',"pupil",(51,01)
+MONSTER:'@',"pupil",(52,01)
+MONSTER:'@',"pupil",(53,01)
+MONSTER:'@',"pupil",(54,01)
+MONSTER:'@',"pupil",(55,01)
+# MONSTER:'@',"pupil",(51,02)
+# MONSTER:'@',"pupil",(52,02)
+# MONSTER:'@',"pupil",(53,02)
+# MONSTER:'@',"pupil",(54,02)
+# MONSTER:'@',"pupil",(55,02)
+# MONSTER:'@',"pupil",(51,03)
+# MONSTER:'@',"pupil",(52,03)
+# MONSTER:'@',"pupil",(54,03)
+# MONSTER:'@',"pupil",(55,03)
+
+# The room C107 is dedicated to the memorial of Mr. Marre who 
+# perhaps was the most amusing and kind teacher known to mankind ...
+MONSTER:'@',"teacher",(53,03),"Mr. Marre",peaceful
+MONSTER:'@',"pupil",(51,01)
+MONSTER:'@',"pupil",(52,01)
+MONSTER:'@',"pupil",(53,01)
+MONSTER:'@',"pupil",(54,01)
+MONSTER:'@',"pupil",(55,01)
+MONSTER:'@',"pupil",(51,02)
+MONSTER:'@',"pupil",(52,02)
+# MONSTER:'@',"pupil",(53,02)
+# MONSTER:'@',"pupil",(54,02)
+# MONSTER:'@',"pupil",(55,02)
+# MONSTER:'@',"pupil",(51,03)
+# MONSTER:'@',"pupil",(52,03)
+# MONSTER:'@',"pupil",(54,03)
+# MONSTER:'@',"pupil",(55,03)
+
+# Room C108 is the torture chamber of another funny chemistry teacher,
+# Mr. Ennen
+MONSTER:'@',"teacher",(65,03),"Mr. Ennen"
+MONSTER:'@',"pupil",(63,01)
+MONSTER:'@',"pupil",(64,01)
+MONSTER:'@',"pupil",(65,01)
+MONSTER:'@',"pupil",(66,01)
+MONSTER:'@',"pupil",(67,01)
+MONSTER:'@',"pupil",(63,02)
+# MONSTER:'@',"pupil",(64,02)
+# MONSTER:'@',"pupil",(65,02)
+# MONSTER:'@',"pupil",(66,02)
+# MONSTER:'@',"pupil",(67,02)
+# MONSTER:'@',"pupil",(63,03)
+# MONSTER:'@',"pupil",(64,03)
+# MONSTER:'@',"pupil",(66,03)
+# MONSTER:'@',"pupil",(67,03)
+
+# Room C109 is dedicated to Mr. Lewald, our former principal who was
+# so kind to all - perhaps too kind ...
+# Should me make him a principal in MONSTER: or not?
+MONSTER:'@',"teacher",(71,03),"Mr. Lewald"
+MONSTER:'@',"pupil",(69,01)
+MONSTER:'@',"pupil",(70,01)
+MONSTER:'@',"pupil",(71,01)
+MONSTER:'@',"pupil",(72,01)
+MONSTER:'@',"pupil",(73,01)
+# MONSTER:'@',"pupil",(74,01)
+# MONSTER:'@',"pupil",(69,02)
+# MONSTER:'@',"pupil",(70,02)
+# MONSTER:'@',"pupil",(71,02)
+# MONSTER:'@',"pupil",(72,02)
+# MONSTER:'@',"pupil",(73,02)
+# MONSTER:'@',"pupil",(74,02)
+# MONSTER:'@',"pupil",(69,03)
+# MONSTER:'@',"pupil",(70,03)
+# MONSTER:'@',"pupil",(72,03)
+# MONSTER:'@',"pupil",(73,03)
+# MONSTER:'@',"pupil",(74,03)
+
+# Room C201 - Mr. Bitterberg
+# Mr. Bitterberg, should you ever read this, I congratulate you for finally
+# being convinced to use The One True Operating System, UNIX, and The One
+# True Computer Game, Nethack.
+MONSTER:'@',"teacher",(23,08),"Mr. Bitterberg"
+MONSTER:'@',"pupil",(21,08)
+MONSTER:'@',"pupil",(22,08)
+MONSTER:'@',"pupil",(24,08)
+# MONSTER:'@',"pupil",(25,08)
+# MONSTER:'@',"pupil",(21,09)
+# MONSTER:'@',"pupil",(22,09)
+# MONSTER:'@',"pupil",(23,09)
+# MONSTER:'@',"pupil",(24,09)
+# MONSTER:'@',"pupil",(25,09)
+# MONSTER:'@',"pupil",(21,10)
+# MONSTER:'@',"pupil",(22,10)
+# MONSTER:'@',"pupil",(23,10)
+# MONSTER:'@',"pupil",(24,10)
+# MONSTER:'@',"pupil",(25,10)
+
+# Room C202 - Mr. Ellerhold
+# He teaches Music, yet he is the most demanding teacher of the whole
+# school, much to the dislike of the pupils (and that's the reason
+# why there are so few pupils left).
+MONSTER:'@',"teacher",(29,08),"Mr. Ellerhold"
+MONSTER:'@',"pupil",(27,08)
+MONSTER:'@',"pupil",(28,08)
+
+# Room C203 - Mr. Hartstone
+# He is very funny, in fact he is the teacher most entertaining to listen
+# to ...
+MONSTER:'@',"teacher",(35,08),"Mr. Hartstone",peaceful
+MONSTER:'@',"pupil",(33,08)
+MONSTER:'@',"pupil",(34,08)
+MONSTER:'@',"pupil",(36,08)
+MONSTER:'@',"pupil",(37,08)
+MONSTER:'@',"pupil",(33,09)
+MONSTER:'@',"pupil",(34,09)
+# MONSTER:'@',"pupil",(35,09)
+# MONSTER:'@',"pupil",(36,09)
+# MONSTER:'@',"pupil",(37,09)
+# MONSTER:'@',"pupil",(33,10)
+# MONSTER:'@',"pupil",(34,10)
+# MONSTER:'@',"pupil",(35,10)
+# MONSTER:'@',"pupil",(36,10)
+# MONSTER:'@',"pupil",(37,10)
+
+# Room C204 - Mrs. Ludwig. She is one (perhaps the only) exception to
+# the rule regarding PE teachers stated below ...
+MONSTER:'@',"teacher",(41,08),"Mrs. Ludwig",peaceful
+MONSTER:'@',"pupil",(39,08)
+MONSTER:'@',"pupil",(40,08)
+MONSTER:'@',"pupil",(42,08)
+MONSTER:'@',"pupil",(43,08)
+MONSTER:'@',"pupil",(39,09)
+MONSTER:'@',"pupil",(40,09)
+# MONSTER:'@',"pupil",(41,09)
+# MONSTER:'@',"pupil",(42,09)
+# MONSTER:'@',"pupil",(43,09)
+# MONSTER:'@',"pupil",(39,10)
+# MONSTER:'@',"pupil",(40,10)
+# MONSTER:'@',"pupil",(41,10)
+# MONSTER:'@',"pupil",(42,10)
+# MONSTER:'@',"pupil",(43,10)
+
+# The library, also the residence of Mrs. Meurer 
+MONSTER:'@',"teacher",(47,08),"Mrs. Meurer"
+OBJECT:'?',random,(45,08)
+OBJECT:'?',random,(46,08)
+OBJECT:'+',random,(47,08)
+OBJECT:'?',random,(48,08)
+OBJECT:'?',random,(49,08)
+OBJECT:'?',random,(45,09)
+OBJECT:'?',random,(46,09)
+OBJECT:'+',random,(47,09)
+OBJECT:'?',random,(48,09)
+OBJECT:'?',random,(49,09)
+OBJECT:'?',random,(45,10)
+OBJECT:'?',random,(46,10)
+OBJECT:'+',random,(47,10)
+OBJECT:'?',random,(48,10)
+OBJECT:'?',random,(49,10)
+
+# The biology room (B111), occupied by Mr. Overbeck, who always was
+# kind and always had time for a joke
+# Mr. Overbeck is not peaceful - so let's have fun with polymorph ...
+MONSTER:'@',"teacher",(53,08),"Mr. Overbeck"
+OBJECT:'/',"polymorph",(53,08)
+# He has a wand of polymorph and always was *very* generous in its usage ...
+# the following are the (former) pupils.
+MONSTER:random,random,(51,08)
+MONSTER:random,random,(52,08)
+MONSTER:random,random,(54,08)
+MONSTER:random,random,(55,08)
+MONSTER:random,random,(51,09)
+MONSTER:random,random,(52,09)
+MONSTER:random,random,(53,09)
+# MONSTER:random,random,(54,09)
+# MONSTER:random,random,(55,09)
+# MONSTER:random,random,(51,10)
+# MONSTER:random,random,(52,10)
+# MONSTER:random,random,(53,10)
+# MONSTER:random,random,(54,10)
+# MONSTER:random,random,(55,10)
+
+# The chemical storage (B115)
+OBJECT:'!',random,(57,08)
+OBJECT:'!',random,(58,08)
+OBJECT:'!',random,(59,08)
+OBJECT:'!',random,(60,08)
+OBJECT:'!',random,(61,08)
+OBJECT:'!',random,(57,09)
+OBJECT:'!',random,(58,09)
+OBJECT:'!',random,(59,09)
+OBJECT:'!',random,(60,09)
+OBJECT:'!',random,(61,09)
+OBJECT:'!',random,(57,10)
+OBJECT:'!',random,(58,10)
+OBJECT:'!',random,(59,10)
+OBJECT:'!',random,(60,10)
+OBJECT:'!',random,(61,10)
+
+# The chemistry room (B116) is occupied by Mr. Klomp, the teacher I believe to
+# be most balanced between teaching, kindness and humour.
+MONSTER:'@',"teacher",(65,08),"Mr. Klomp",peaceful
+MONSTER:'@',"pupil",(63,08)
+MONSTER:'@',"pupil",(64,08)
+MONSTER:'@',"pupil",(66,08)
+MONSTER:'@',"pupil",(67,08)
+MONSTER:'@',"pupil",(63,09)
+MONSTER:'@',"pupil",(64,09)
+MONSTER:'@',"pupil",(65,09)
+# MONSTER:'@',"pupil",(66,09)
+# MONSTER:'@',"pupil",(67,09)
+# MONSTER:'@',"pupil",(63,10)
+# MONSTER:'@',"pupil",(64,10)
+# MONSTER:'@',"pupil",(65,10)
+# MONSTER:'@',"pupil",(66,10)
+# MONSTER:'@',"pupil",(67,10)
+
+# The computer room (C311), and, with it, Mr. Alers
+MONSTER:'@',"teacher",(71,08),"Mr. Alers",peaceful
+MONSTER:'@',"pupil",(69,08)
+MONSTER:'@',"pupil",(70,08)
+MONSTER:'@',"pupil",(72,08)
+MONSTER:'@',"pupil",(73,08)
+MONSTER:'@',"pupil",(74,08)
+MONSTER:'@',"pupil",(69,09)
+MONSTER:'@',"pupil",(70,09)
+MONSTER:'@',"pupil",(71,09)
+MONSTER:'@',"pupil",(72,09)
+# MONSTER:'@',"pupil",(73,09)
+# MONSTER:'@',"pupil",(74,09)
+# MONSTER:'@',"pupil",(69,10)
+# MONSTER:'@',"pupil",(70,10)
+# MONSTER:'@',"pupil",(71,10)
+# MONSTER:'@',"pupil",(72,10)
+# MONSTER:'@',"pupil",(73,10)
+# MONSTER:'@',"pupil",(74,08)
+OBJECT:'(',"pack of floppies",(69,08)
+OBJECT:'(',"pack of floppies",(70,08)
+OBJECT:'(',"pack of floppies",(71,08)
+OBJECT:'(',"pack of floppies",(72,08)
+OBJECT:'(',"pack of floppies",(73,08)
+OBJECT:'(',"pack of floppies",(74,08)
+OBJECT:'(',"pack of floppies",(69,09)
+OBJECT:'(',"pack of floppies",(70,09)
+OBJECT:'(',"pack of floppies",(71,09)
+OBJECT:'(',"pack of floppies",(72,09)
+OBJECT:'(',"pack of floppies",(73,09)
+OBJECT:'(',"pack of floppies",(74,09)
+OBJECT:'(',"pack of floppies",(69,10)
+OBJECT:'(',"pack of floppies",(70,10)
+OBJECT:'(',"pack of floppies",(71,10)
+OBJECT:'(',"pack of floppies",(72,10)
+OBJECT:'(',"pack of floppies",(73,10)
+OBJECT:'(',"pack of floppies",(74,10)
+
+# the Teacher's Room
+MONSTER:'@',"teacher",(30,16),"Mr. Biciste"
+
+# the Principal
+MONSTER:'@',"principal",(71,17),"Mr. Gemein"
+MONSTER:'@',"teacher",(70,17),"Mr. Haas"
+
+# the Gym
+# it contains such crap as Mr. Geis and Mrs. Haastert
+# Remember the old rule that all PE teachers are sadists.
+# (with very few exceptions)
+MONSTER:'@',"teacher",(02,12),"Mr. Geis"
+MONSTER:'@',"teacher",(08,15),"Mrs. Haastert"
+MONSTER:'@',"pupil",(01,09)
+MONSTER:'@',"pupil",(02,10)
+MONSTER:'@',"pupil",(03,11)
+MONSTER:'@',"pupil",(04,12)
+MONSTER:'@',"pupil",(05,13)
+MONSTER:'@',"pupil",(06,14)
+MONSTER:'@',"pupil",(07,15)
+MONSTER:'@',"pupil",(08,16)
+MONSTER:'@',"pupil",(09,17)
+# MONSTER:'@',"pupil",(01,18)
+# MONSTER:'@',"pupil",(02,09)
+# MONSTER:'@',"pupil",(01,10)
+# MONSTER:'@',"pupil",(01,11)
+# MONSTER:'@',"pupil",(01,12)
+# MONSTER:'@',"pupil",(01,13)
+# This is the ultimate fate of those addicted to sports ...
+MONSTER:'Z',"human zombie",(01,14)
+MONSTER:'Z',"human zombie",(01,15)
+MONSTER:'Z',"human zombie",(01,16)
+MONSTER:'Z',"human zombie",(01,17)
+MONSTER:'Z',"skeleton",(01,18)
+
+# The Computer Land
+MAZE: "compu", ' '
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+|--------------------------------------------------------------------------|
+|....|.....................................................................|
+|-+--|.....................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|..........................................................................|
+|.....................................................................|--+-|
+|.....................................................................|....|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+DOOR:locked,(02,02)
+STAIR:(01,01),up
+DOOR:locked,(73,17)
+STAIR:(74,18),down
+
+MONSTER:'x',"PDP-9",random
+MONSTER:'x',"PDP-11",random
+MONSTER:'x',"VAX",random
+MONSTER:'x',"Cray",random
+MONSTER:'&',"news daemon",random
+MONSTER:'&',"printer daemon",random
+MONSTER:'&',"UNIX Kernel",random
+
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"bug",random
+MONSTER:'x',"heisenbug",random
+MONSTER:'x',"heisenbug",random
+
+OBJECT:'=',"timely backup",random
+OBJECT:'?',"root password detection",random
+OBJECT:'"',"amulet of data storage",random
+OBJECT:'/',"bugging",random
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\hitch.des SlashTNG-master\dat\hitch.des
--- slashem-0.0.7E7F3\dat\hitch.des	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\hitch.des	Sun Jan 01 19:57:33 2017
@@ -0,0 +1,263 @@
+# This is the Hitchhiker's Level. It is created to the honour of Douglas
+# Noel Adams and his works.
+
+MAZE: "hitch", ' '
+FLAGS: nommap
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7 
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+----------------------------------------------------------------------------
+|..........................................................................|
+|..............|.........................|--------|........................|
+|..............|.......................--|........|--......................|
+|..............|.....................--|............|--....................|
+|..............|.....................|................|-.............|.....|
+|..............|......|................................|.............-.....|
+|..............|......|................................|...........-|.|-...|
+|..............|......|...............................-|..........-|...|-..|
+|..............|......|..............................-|...........|.....|..|
+|..............|......|............................--|...........----+----.|
+|..............|------|-------...................--|.............|||...|||.|
+|................PPPPP|.......................---|................|.....|..|
+|................PPPPP|....................---|...................|.....|..|
+|.....................|.............|------|......................|.....|..|
+|.....................|.............|......................................|
+|-------..............|.............|-----------------------...............|
+|......|...................................................................|
+|......+...................................................................|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+REGION: (00,00,75,19),unlit,"ordinary"
+
+STAIR:(15,01),up
+STAIR:(37,15),down
+
+MONSTER: 'A',"Douglas Adams",(22,05),hostile,asleep
+MONSTER: '@',"Ford Perfect",(16,10),hostile,asleep
+MONSTER: '@',"Arthur Dent",(17,10),hostile,asleep
+MONSTER: '@',"Mr. Prosser",(18,10),hostile,awake
+
+MONSTER: 'a', "Ravenous Bugblatter Beast Of Traal",random,hostile,awake
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'x', "microscopic space fleet",random
+MONSTER: 'f', "algolian suntiger",random
+MONSTER: 'f', "algolian suntiger",random,hostile,asleep
+
+# The Vogon Headquarter
+DOOR: locked, (07,18)
+MONSTER: 'V',"Prostetnik Vogon Jeltz",(01,17),hostile,asleep
+MONSTER: 'V',"vogon lord",(01,18),hostile,asleep
+MONSTER: 'V',"vogon",(02,17),hostile,asleep
+MONSTER: 'V',"vogon lord",(02,18),hostile,asleep
+MONSTER: 'V',"vogon",(03,17),hostile,asleep
+MONSTER: 'V',"vogon",(03,18),hostile,asleep
+MONSTER: 'V',"vogon",(04,17),hostile,asleep
+MONSTER: 'V',"vogon",(04,18),hostile,asleep
+MONSTER: 'V',"vogon lord",(05,17),hostile,asleep
+MONSTER: 'V',"vogon",(05,18),hostile,asleep
+MONSTER: 'V',"vogon",(06,17),hostile,asleep
+MONSTER: 'V',"vogon lord",(06,18),hostile,asleep
+
+# The Heart Of Gold
+DOOR: closed, (69,10)
+MONSTER: 'Y',"Zaphod Breeblebrox",(69,07),hostile,awake
+MONSTER: 'x',"Deep Thought",(67,09),hostile,awake
+MONSTER: 'x',"Eddie",(71,09),hostile,awake
+MONSTER: 'X',"Marvin",(69,08),hostile,asleep
+
+# The Aquarium
+# (random for ; will find water positions)
+MONSTER: ';',"babelfish",random,hostile,awake
+MONSTER: ';',"babelfish",random,hostile,awake
+MONSTER: ';',"babelfish",random,hostile,awake
+
+MAZE: "hitchE", ' '
+FLAGS: nommap
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7 
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+----------------------------------------------------------------------------
+|..........................................................................|
+|..............|.........................|--------|........................|
+|..............|.......................--|........|--......................|
+|..............|.....................--|............|--....................|
+|..............|.....................|................|-.............|.....|
+|..............|......|................................|.............-.....|
+|..............|......|................................|...........-|.|-...|
+|..............|......|...............................-|..........-|...|-..|
+|..............|......|..............................-|...........|.....|..|
+|..............|......|............................--|...........----+----.|
+|..............|------|-------...................--|.............|||...|||.|
+|................PPPPP|.......................---|................|.....|..|
+|................PPPPP|....................---|...................|.....|..|
+|.....................|.............|------|......................|.....|..|
+|.....................|.............|......................................|
+|-------..............|.............|-----------------------...............|
+|......|...................................................................|
+|......+...................................................................|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+REGION: (00,00,75,19),unlit,"ordinary"
+
+STAIR:(15,01),up
+STAIR:(37,15),down
+
+MONSTER: 'A',random,(22,05),hostile,asleep
+MONSTER: '@',random,(16,10),hostile,asleep
+MONSTER: '@',random,(17,10),hostile,asleep
+MONSTER: '@',random,(18,10),hostile,awake
+
+MONSTER: 'a', random,random,hostile,awake
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'x', "microscopic space fleet",random
+MONSTER: 'f', random,random
+MONSTER: 'f', random,random,hostile,asleep
+
+# The Vogon Headquarter
+DOOR: locked, (07,18)
+MONSTER: 'V',random,(01,17),hostile,asleep
+MONSTER: 'V',random,(01,18),hostile,asleep
+MONSTER: 'V',"vogon",(02,17),hostile,asleep
+MONSTER: 'V',random,(02,18),hostile,asleep
+MONSTER: 'V',"vogon",(03,17),hostile,asleep
+MONSTER: 'V',"vogon",(03,18),hostile,asleep
+MONSTER: 'V',"vogon",(04,17),hostile,asleep
+MONSTER: 'V',"vogon",(04,18),hostile,asleep
+MONSTER: 'V',random,(05,17),hostile,asleep
+MONSTER: 'V',"vogon",(05,18),hostile,asleep
+MONSTER: 'V',"vogon",(06,17),hostile,asleep
+MONSTER: 'V',random,(06,18),hostile,asleep
+
+# The Heart Of Gold
+DOOR: closed, (69,10)
+MONSTER: 'Y',random,(69,07),hostile,awake
+MONSTER: 'x',random,(67,09),hostile,awake
+MONSTER: 'x',random,(71,09),hostile,awake
+MONSTER: 'X',random,(69,08),hostile,asleep
+
+# The Aquarium
+# (random for ; will find water positions)
+MONSTER: ';',"babelfish",random,hostile,awake
+MONSTER: ';',"babelfish",random,hostile,awake
+MONSTER: ';',"babelfish",random,hostile,awake
+
+
+MAZE: "hitchX", ' '
+FLAGS: nommap
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7 
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+----------------------------------------------------------------------------
+|..........................................................................|
+|..............|.........................|--------|........................|
+|..............|.......................--|........|--......................|
+|..............|.....................--|............|--....................|
+|..............|.....................|................|-.............|.....|
+|..............|......|................................|.............-.....|
+|..............|......|................................|...........-|.|-...|
+|..............|......|...............................-|..........-|...|-..|
+|..............|......|..............................-|...........|.....|..|
+|..............|......|............................--|...........----+----.|
+|..............|------|-------...................--|.............|||...|||.|
+|................PPPPP|.......................---|................|.....|..|
+|................PPPPP|....................---|...................|.....|..|
+|.....................|.............|------|......................|.....|..|
+|.....................|.............|......................................|
+|-------..............|.............|-----------------------...............|
+|......|...................................................................|
+|......+...................................................................|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+REGION: (00,00,75,19),unlit,"ordinary"
+
+STAIR:(15,01),up
+STAIR:(37,15),down
+
+MONSTER: 'A',random,(22,05),hostile,asleep
+MONSTER: '@',random,(16,10),hostile,asleep
+MONSTER: '@',random,(17,10),hostile,asleep
+MONSTER: '@',random,(18,10),hostile,awake
+
+MONSTER: 'a', "Ravenous Bugblatter Beast Of Traal",random,hostile,awake
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'Z', "creeping 42",random
+MONSTER: 'x', "microscopic space fleet",random
+MONSTER: 'f', "algolian suntiger",random
+MONSTER: 'f', "algolian suntiger",random,hostile,asleep
+
+# The Vogon Headquarter
+DOOR: locked, (07,18)
+MONSTER: 'V',random,(01,17),hostile,asleep
+MONSTER: 'V',"vogon lord",(01,18),hostile,asleep
+MONSTER: 'V',"vogon",(02,17),hostile,asleep
+MONSTER: 'V',"vogon lord",(02,18),hostile,asleep
+MONSTER: 'V',"vogon",(03,17),hostile,asleep
+MONSTER: 'V',"vogon",(03,18),hostile,asleep
+MONSTER: 'V',"vogon",(04,17),hostile,asleep
+MONSTER: 'V',"vogon",(04,18),hostile,asleep
+MONSTER: 'V',"vogon lord",(05,17),hostile,asleep
+MONSTER: 'V',"vogon",(05,18),hostile,asleep
+MONSTER: 'V',"vogon",(06,17),hostile,asleep
+MONSTER: 'V',"vogon lord",(06,18),hostile,asleep
+
+# The Heart Of Gold
+DOOR: closed, (69,10)
+MONSTER: 'Y',random,(69,07),hostile,awake
+MONSTER: 'x',random,(67,09),hostile,awake
+MONSTER: 'x',random,(71,09),hostile,awake
+MONSTER: 'X',random,(69,08),hostile,asleep
+
+# The Aquarium
+# (random for ; will find water positions)
+MONSTER: ';',"babelfish",random,hostile,awake
+MONSTER: ';',"babelfish",random,hostile,awake
+MONSTER: ';',"babelfish",random,hostile,awake
+
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'(',"figurine",random,cursed,0
+
+OBJECT:'?',random,random
+OBJECT:'?',"root password detection",random
+# put in later OBJECT:'?',"flood",random
+OBJECT:'?',random,random
+OBJECT:'?',random,random
+OBJECT:'"',"amulet of data storage",random
+OBJECT:'=',"timely backup",random
+MONSTER:';',random,random
+MONSTER:';',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+OBJECT:'%',"corpse",random
+OBJECT:'%',"corpse",random
+OBJECT:'%',"corpse",random
+OBJECT[10%]:'/',random,random
+OBJECT[10%]:'/',"bugging",random
+OBJECT[10%]:'/',random,random
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\key.des SlashTNG-master\dat\key.des
--- slashem-0.0.7E7F3\dat\key.des	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\key.des	Sun Jan 01 19:58:21 2017
@@ -0,0 +1,261 @@
+# This is where you might get the Key Of Access
+# The level is somewhat inspired by the Rogue Quest.
+
+MAZE: "key", ' '
+# we cannot use noteleport - this would prevent the nymphs and leprechauns
+# from teleporting, too.
+FLAGS: nommap
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7 
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+----------------------------------------------------------------------------
+|..S...+}....S.......|}|.|L.....IIIPPPCCCAAAAAAAAA.....S...................|
+|---...|}....|..|-S--|}|.|L..............AAAAAAAAA.....|-----------------|.|
+|......|}.|..|-S-....S}|.|L.....IIIP......AAAAAAAA.....|.................|.|
+|---S---}.|..|II|..---}|.|L.....IIIPPP...AAAAAAAAA.....|.|-------------|.|.|
+|}}}.}}}}.|..|CC|..|}}}|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.............|.|.|
+|.........|..|AA|..|}|-|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|---------|.|.|.|
+|----------------S--}|...|L.....IIIPPPCCCA...AAAAA.....|.|.|.........|.|.|.|
+|}}}}}}}}}}}}}}}}}.}}|...|L.....IIIPPPCCCAA..AAAAA.....|.|.|.|-----|.|.|.|.|
+|-----------------.--|...|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+|................|.|.....|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+|.|..|..|..|.....S.|.....|L.....IIIP..CCCAAA....AA.....|.|.|.|S----|.|.|.|.|
+|.|--|--|--|-----|-|.....|L.....IIIP.PCCCAA....AAA.....|.|.|.|.......|.|.|.|
+|........................|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|-------|.|.|.|
+|-----------------------.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|...........|.|.|
+|...S..................S.|L.....IIIPPPCCCA....AAAA.....|.|.------------|.|.|
+|...---------------------|L.....IIIPPPCCCAAAAAAAAA.....|.|...............|.|
+|........................|L.....IIIPPPCCCAAAAA.........|.|---------------|.|
+|........................S......IIIPPPCCCAAAAAAAAA.....|...................|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+RANDOM_MONSTERS: 'l', 'n'
+REGION:(00,00,75,19),unlit,"ordinary"
+NON_DIGGABLE:(00,00,75,19)
+
+STAIR:(01,01),up
+STAIR:(01,06),down		
+
+DOOR:locked,(03,01)
+DOOR:open,(07,01)
+DOOR:locked,(04,04)
+DOOR:locked,(13,01)
+DOOR:locked,(15,03)
+DOOR:locked,(21,03)
+DOOR:locked,(17,07)
+DOOR:locked,(17,11)
+DOOR:locked,(25,18)
+DOOR:locked,(18,02)
+DOOR:locked,(04,15)
+DOOR:locked,(23,15)
+DOOR:locked,(62,11)
+DOOR:locked,(62,11)
+
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',"nymph queen",(64,09),hostile,awake
+
+TRAP:"board",(62,12)
+TRAP:"board",(63,12)
+
+MAZE: "keyE", ' '
+# we cannot use noteleport - this would prevent the nymphs and leprechauns
+# from teleporting, too.
+FLAGS: nommap
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7 
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+----------------------------------------------------------------------------
+|..S...+}....S.......|}|.|L.....IIIPPPCCCAAAAAAAAA.....S...................|
+|---...|}....|..|-S--|}|.|L..............AAAAAAAAA.....|-----------------|.|
+|......|}.|..|-S-....S}|.|L.....IIIP......AAAAAAAA.....|.................|.|
+|---S---}.|..|II|..---}|.|L.....IIIPPP...AAAAAAAAA.....|.|-------------|.|.|
+|}}}.}}}}.|..|CC|..|}}}|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.............|.|.|
+|.........|..|AA|..|}|-|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|---------|.|.|.|
+|----------------S--}|...|L.....IIIPPPCCCA...AAAAA.....|.|.|.........|.|.|.|
+|}}}}}}}}}}}}}}}}}.}}|...|L.....IIIPPPCCCAA..AAAAA.....|.|.|.|-----|.|.|.|.|
+|-----------------.--|...|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+|................|.|.....|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+|.|..|..|..|.....S.|.....|L.....IIIP..CCCAAA....AA.....|.|.|.|S----|.|.|.|.|
+|.|--|--|--|-----|-|.....|L.....IIIP.PCCCAA....AAA.....|.|.|.|.......|.|.|.|
+|........................|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|-------|.|.|.|
+|-----------------------.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|...........|.|.|
+|...S..................S.|L.....IIIPPPCCCA....AAAA.....|.|.------------|.|.|
+|...---------------------|L.....IIIPPPCCCAAAAAAAAA.....|.|...............|.|
+|........................|L.....IIIPPPCCCAAAAA.........|.|---------------|.|
+|........................S......IIIPPPCCCAAAAAAAAA.....|...................|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+RANDOM_MONSTERS: 'l', 'n'
+REGION:(00,00,75,19),unlit,"ordinary"
+NON_DIGGABLE:(00,00,75,19)
+
+STAIR:(01,01),up
+STAIR:(01,06),down		
+
+DOOR:locked,(03,01)
+DOOR:open,(07,01)
+DOOR:locked,(04,04)
+DOOR:locked,(13,01)
+DOOR:locked,(15,03)
+DOOR:locked,(21,03)
+DOOR:locked,(17,07)
+DOOR:locked,(17,11)
+DOOR:locked,(25,18)
+DOOR:locked,(18,02)
+DOOR:locked,(04,15)
+DOOR:locked,(23,15)
+DOOR:locked,(62,11)
+DOOR:locked,(62,11)
+
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,(64,09),hostile,awake
+
+TRAP:"board",(62,12)
+TRAP:"board",(63,12)
+
+
+MAZE: "keyX", ' '
+# we cannot use noteleport - this would prevent the nymphs and leprechauns
+# from teleporting, too.
+FLAGS: nommap
+GEOMETRY: center,center
+#         1         2         3         4         5         6         7 
+# 23456789012345678901234567890123456789012345678901234567890123456789012345
+MAP
+----------------------------------------------------------------------------
+|..S...+}....S.......|}|.|L.....IIIPPPCCCAAAAAAAAA.....S...................|
+|---...|}....|..|-S--|}|.|L..............AAAAAAAAA.....|-----------------|.|
+|......|}.|..|-S-....S}|.|L.....IIIP......AAAAAAAA.....|.................|.|
+|---S---}.|..|II|..---}|.|L.....IIIPPP...AAAAAAAAA.....|.|-------------|.|.|
+|}}}.}}}}.|..|CC|..|}}}|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.............|.|.|
+|.........|..|AA|..|}|-|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|---------|.|.|.|
+|----------------S--}|...|L.....IIIPPPCCCA...AAAAA.....|.|.|.........|.|.|.|
+|}}}}}}}}}}}}}}}}}.}}|...|L.....IIIPPPCCCAA..AAAAA.....|.|.|.|-----|.|.|.|.|
+|-----------------.--|...|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+|................|.|.....|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+|.|..|..|..|.....S.|.....|L.....IIIP..CCCAAA....AA.....|.|.|.|S----|.|.|.|.|
+|.|--|--|--|-----|-|.....|L.....IIIP.PCCCAA....AAA.....|.|.|.|.......|.|.|.|
+|........................|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|-------|.|.|.|
+|-----------------------.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|...........|.|.|
+|...S..................S.|L.....IIIPPPCCCA....AAAA.....|.|.------------|.|.|
+|...---------------------|L.....IIIPPPCCCAAAAAAAAA.....|.|...............|.|
+|........................|L.....IIIPPPCCCAAAAA.........|.|---------------|.|
+|........................S......IIIPPPCCCAAAAAAAAA.....|...................|
+|--------------------------------------------------------------------------|
+ENDMAP
+
+RANDOM_MONSTERS: 'l', 'n'
+REGION:(00,00,75,19),unlit,"ordinary"
+NON_DIGGABLE:(00,00,75,19)
+
+STAIR:(01,01),up
+STAIR:(01,06),down		
+
+DOOR:locked,(03,01)
+DOOR:open,(07,01)
+DOOR:locked,(04,04)
+DOOR:locked,(13,01)
+DOOR:locked,(15,03)
+DOOR:locked,(21,03)
+DOOR:locked,(17,07)
+DOOR:locked,(17,11)
+DOOR:locked,(25,18)
+DOOR:locked,(18,02)
+DOOR:locked,(04,15)
+DOOR:locked,(23,15)
+DOOR:locked,(62,11)
+DOOR:locked,(62,11)
+
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'l',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,random,awake
+MONSTER:'n',random,(64,09),hostile,awake
+
+TRAP:"board",(62,12)
+TRAP:"board",(63,12)
+
+
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'`',"boulder",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'%',"egg",random
+OBJECT:'(',"figurine",random,cursed,0
+
+OBJECT:'?',random,random
+OBJECT:'?',"root password detection",random
+# add later OBJECT:'?',"flood",random
+OBJECT:'?',random,random
+OBJECT:'?',random,random
+OBJECT:'"',"amulet of data storage",random
+OBJECT:'=',"timely backup",random
+MONSTER:';',random,random
+MONSTER:';',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+MONSTER:'E',random,random
+OBJECT:'%',"corpse",random
+OBJECT:'%',"corpse",random
+OBJECT:'%',"corpse",random
+OBJECT[10%]:'/',random,random
+OBJECT[10%]:'/',"bugging",random
+OBJECT[10%]:'/',random,random
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\nhshare SlashTNG-master\dat\nhshare
--- slashem-0.0.7E7F3\dat\nhshare	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\nhshare	Thu Jan 05 19:05:16 2017
@@ -0,0 +1,8090 @@
+  1       13      111      281   375586
+nDirectory        0
+ndata       281
+noracles    261029
+nttyoptions    267636
+nrumors    268503
+nhelp    313899
+nhh    324879
+ncmdhelp    330769
+nhistory    336198
+nopthelp    349026
+nwizhelp    366078
+ngypsy.txt    366826
+nlicense    370711
+#	This data file is generated by 'makedefs'.  Do not edit. 
+00002701
+abbathor
+0,6
+abbot
+340,11
+aerdrie faenya
+1020,10
+aclys
+aklys
+1646,4
+*leax
+1874,4
+*altar
+2112,14
+amat*rasu *
+2616,6
+amber*
+2915,5
+*amnesia
+maud
+3202,19
+~amulet of yendor
+*amulet
+amulet of *
+3786,14
+amulet of yendor
+4405,6
+angel*
+4740,12
+anhur
+5432,7
+ankh-morpork
+5856,9
+anshar
+6346,5
+ant
+* ant
+6636,4
+anu
+6844,5
+ape
+* ape
+7108,19
+apple
+8121,6
+archeologist
+* archeologist
+8413,5
+archon
+8681,17
+arioch
+9596,5
+*arrow
+9859,16
+arkenstone
+10359,6
+*shikaga *akauji
+10666,24
+asphynx
+11995,5
+athol
+12259,20
+asmodeus
+13272,4
+athame
+13473,5
+athen*
+13725,15
+axolotl
+14634,1
+babelfish
+14667,20
+bag
+bag of *
+sack
+15841,16
+b*lzebub
+16734,7
+balrog
+17130,9
+baluchitherium
+titanothere
+17634,9
+banana
+18143,18
+barbarian
+* barbarian
+18995,34
+barbed devil
+20817,2
+~mongbat
+~vampire bat
+~wombat
+*bat
+20907,9
+*boot*
+21402,10
+boulder
+21973,16
+~*longbow of diana
+bow
+* bow
+22878,14
+bec de corbin
+23607,6
+*bee
+23905,6
+*beetle
+24207,9
+beholder
+24617,11
+bell of opening
+25310,14
+blindfold
+25826,11
+blind io
+26471,9
+* blob
+gelatinous cube
+ooze
+* ooze
+* slime
+26986,17
+*pudding
+27956,23
+bone devil
+28887,2
+book of the dead
+candelabrum*
+*candle
+29003,9
+bottle
+* bottle
+29460,20
+brigit
+30069,11
+~stormbringer
+*broadsword
+30688,5
+bug
+30827,7
+bugbear
+31262,21
+bugle
+32419,9
+byakhee
+32710,5
+*camaxtli
+32998,7
+candy bar
+33402,18
+s*d*g*r* cat
+34478,15
+*cat
+kitten
+35432,11
+cave*man
+human cave*man
+36005,13
+*centaur
+36723,17
+centipede
+37722,11
+*erberus
+kerberos
+38289,7
+chameleon
+38694,11
+*haro*n
+39348,7
+chest
+large box
+39734,19
+chih*sung*tzu
+40830,1
+*hromatic *ragon
+tiamat
+40851,16
+~elven cloak
+~oilskin cloak
+*cloak*
+41822,12
+cloud*
+42538,7
+cobra
+42808,16
+cockatrice
+basilisk
+43688,23
+chickatrice
+44893,4
+pyrolisk
+45078,4
+cornuthaum
+45321,19
+couatl
+46270,10
+coyote
+46873,2
+cram*
+46969,6
+creeping 42
+47312,5
+Cray
+47600,9
+*crocodile
+48097,5
+croesus
+kroisos
+creosote
+48358,8
+crom
+48798,10
+crossbow*
+49279,6
+crystal ball
+49492,5
+ct*ul*u
+kt*ul*u
+cht*ul*u
+kht*ul*u
+49760,18
+curse*
+50660,12
+cwn*n
+51258,8
+cyclops
+51721,31
+~sting
+*dagger
+52976,10
+dark one
+53380,8
+deep* one
+53818,9
+Deep Thought
+54373,110
+demogorgon
+57687,4
+demon
+57908,9
+*deva
+58420,8
+planetar
+58872,3
+solar
+59058,4
+dingo
+59305,4
+disenchanter
+59523,1
+dispater
+59597,2
+djinn*
+59676,8
+~hachi
+~slasher
+~sirius
+*dog
+pup*
+60164,6
+shadow wolf
+60488,4
+mist wolf
+60725,5
+*drum*
+61017,7
+~trap*door
+*door
+doorway
+61387,11
+doppelganger
+61840,27
+Douglas Adams
+63062,7
+~komodo*
+*dragon
+*xoth
+63444,18
+dumathoin
+64451,6
+~dwarf ??m*
+dwarf*
+dwar* cave*man
+64822,21
+earendil
+elwing
+66060,15
+earth
+66966,2
+Eddie
+67041,22
+eel
+giant eel
+67913,9
+egg
+68404,7
+elbereth
+68787,20
+electric eel
+69530,5
+*elemental
+69821,5
+~elf ??m*
+~elf* cl*
+*elf*
+elvenking
+70124,19
+elf* cl*
+elv* cl*
+71186,10
+emerald
+71748,18
+erinys
+erinyes
+72213,2
+ettin
+72340,2
+excalibur
+72465,14
+expensive camera
+73260,11
+eye of the aethiopica
+73892,8
+father dagon
+mother hydra
+74325,8
+fauchard
+74799,6
+eyes of the overworld
+75132,6
+figurine*
+75494,11
+fire vampire
+76114,3
+floating eye
+76270,7
+flesh golem
+*frank*n*st*n*
+76669,21
+*flute
+77817,5
+fog cloud
+78015,8
+Ford Perfect
+Ford Prefect
+78160,20
+fountain
+79108,15
+fox
+79607,22
+*fung*
+80849,21
+*gargoyle
+82025,14
+gas spore*
+82766,7
+*garlic
+83162,20
+geryon
+84302,3
+*ghost
+84454,10
+ghoul*
+85023,16
+*giant
+giant humanoid
+85928,6
+gila*
+86279,8
+komodo*
+86791,22
+glaive
+88238,7
+deep gnome
+88673,14
+~gnome ??m*
+gnome*
+gnomish wizard
+gnom* cave*man
+89567,28
+goblin
+91080,10
+god
+goddess
+91608,13
+gold
+gold piece
+zorkmid
+92394,9
+gold golem
+92858,10
+~gold golem
+~flesh golem
+*golem
+93424,18
+grave
+94440,5
+grayswandir
+94645,6
+*grease
+95003,3
+*green glass
+silver ring
+95142,21
+gremlin
+95788,13
+grid bug
+96445,13
+lightning bug
+arc bug
+spark bug
+97144,2
+gug
+97269,5
+guisarme
+97544,6
+gunyoki
+97913,2
+hachi
+98024,8
+*harp
+98502,22
+halberd
+99714,12
+healer
+* healer
+attendant
+doctor
+physician
+100475,20
+heart of ahriman
+101610,19
+hell hound*
+102731,8
+hermes
+103195,15
+hezrou
+104107,2
+heisenbug
+104223,14
+hippocrates
+104975,11
+hobbit
+105573,10
+hobgoblin
+106165,23
+holy water
+107412,22
+hom*nculus
+108542,13
+*hook
+109201,9
+~unicorn horn
+*horn
+109681,9
+horned devil
+110072,2
+~horsem*
+*horse
+110162,8
+*horsem*
+rider*
+death
+famine
+pestilence
+war
+hunger
+110571,26
+huan*ti
+111961,5
+hu*h*eto*l
+minion of huhetotl
+112263,6
+humanoid
+112596,5
+human
+chieftain
+guard
+ninja
+nurse
+page
+ronin
+shopkeeper
+student
+thug
+warrior
+*watch*
+player
+112858,7
+hunter
+113263,9
+ice devil
+113612,4
+ice mag*
+113815,9
+imp
+114341,13
+incubus
+succubus
+114991,4
+*iron ball
+*iron chain
+115200,11
+ishtar
+115782,7
+issek
+116149,13
+izchak
+116899,19
+jabberwock
+vorpal*
+118089,20
+jackal
+118709,13
+jade*
+119433,10
+jaguar
+120007,4
+jellyfish
+120225,5
+juiblex
+jubilex
+120402,6
+kabuto
+120744,19
+kamadan
+121888,5
+katana
+122173,3
+ki-rin
+122340,4
+king arthur
+*arthur
+122559,23
+knife
+stiletto
+123759,15
+knight
+* knight
+124359,10
+~kobold ??m*
+*kobold*
+124710,5
+*kop*
+124979,28
+kos
+126636,6
+koto
+126951,1
+kraken
+126969,8
+*lady
+offler
+127427,30
+*lamp
+128742,15
+lance
+129434,14
+leash
+130212,9
+lembas*
+130744,18
+lemba*
+131767,17
+lemure
+132794,1
+leocrotta
+leu*otta
+132836,7
+*leprechaun*
+133224,18
+lethe
+sparkling water
+134226,4
+*lich
+134455,18
+lichen
+135581,7
+~* of light
+* light
+135940,3
+gecko
+iguana
+lizard
+136066,9
+loki
+136593,14
+*longbow of diana
+137395,2
+looking glass
+mirror
+137532,13
+lord carnarvon
+137982,8
+lord sato
+138444,3
+lord surt*
+138622,9
+lug
+lugh
+139103,8
+lurker*
+139576,3
+lycanthrope
+were*
+human were*
+*were
+139732,17
+lynx
+140725,6
+magic marker
+141047,2
+magic mirror of merlin
+141125,3
+mail d*emon
+141302,2
+ma*annan*
+141392,7
+manes
+141757,2
+mangler
+141832,8
+marduk
+142162,10
+marilith
+142728,5
+mars
+142980,7
+master assassin
+143377,19
+master key of thievery
+144280,5
+master of thieves
+144563,11
+mastodon
+145187,14
+meat*
+huge chunk of meat
+145912,5
+medusa
+146081,22
+melon
+147274,10
+mercury
+147805,3
+migo*
+mi-go*
+147960,7
+*mimic
+148351,6
+*mind flayer
+148695,6
+mine*
+149029,12
+minotaur
+149745,9
+mit*ra*
+150242,16
+*mithril*
+151090,6
+*mitre of holiness
+151425,4
+mjollnir
+151671,14
+~slime mold
+*mold
+152511,6
+mol?ch
+152844,16
+moradin
+153680,7
+mongbat
+154113,12
+monk
+* monk
+grand master
+master kaen
+154570,37
+monkey
+156340,15
+mumak*
+giant mumak
+157242,8
+*mummy
+157698,14
+mummy wrapping
+158440,15
+*naga*
+*naja*
+159280,4
+naginata
+159521,18
+nalfeshnee
+160468,2
+nalzok
+160586,7
+neanderthal*
+160989,3
+neferet
+neferet the green
+161168,7
+newt
+161578,13
+ninja-to
+162021,1
+*nkia
+*n'kai
+162045,5
+*norn
+162358,14
+nunchaku
+163108,1
+*nymph
+163127,23
+odin
+164417,22
+ogre*
+165636,16
+oilskin cloak
+166535,9
+oilskin sack
+167050,9
+olog-hai
+167541,13
+oracle
+delphi
+p*thia
+168335,9
+orange
+pear
+168814,11
+pyrolisk
+169439,13
+*orb of detection
+170200,4
+orb of fate
+170417,7
+goblin king
+orcrist
+170817,9
+orcus
+171319,3
+~orc ??m*
+~orcish barbarian
+~orcish ranger
+~orcish rogue
+~orcish wizard
+orc*
+* orc
+171496,15
+orion
+sirius
+172338,19
+osaku
+173300,1
+owlbear
+173346,6
+panther
+173659,9
+pelias
+173978,18
+PDP-*
+174982,22
+phase spider
+176279,18
+pick*ax*
+177293,5
+*piercer
+177476,8
+piranha
+177883,8
+pit
+spiked pit
+178308,10
+pit fiend
+178887,4
+pixie*
+fairy
+fairies
+179074,5
+platinum yendorian express card
+179309,7
+pony
+179699,14
+*portal
+180332,6
+poseido*n
+180672,17
+*potion*
+181596,12
+priest*
+* priest*
+acolyte
+182261,16
+prisoner
+183211,15
+Prostetnik Vogon Jeltz
+183570,13
+ptah
+184236,9
+*purple worm
+184713,6
+quadruped
+185044,5
+quantum mechanic
+185335,2
+quasit
+185451,2
+quest
+185571,13
+quetzalcoatl
+186304,13
+quit*
+187093,8
+raijin
+raiden
+187439,1
+ranger
+* ranger
+187460,14
+ranseur
+188287,10
+rat
+* rat
+188923,13
+raven
+189582,7
+*ring
+ring of *
+189988,9
+robe
+190420,11
+rock
+191007,21
+rock mole
+192215,6
+rogue
+* rogue
+192557,11
+rothe
+193184,3
+Ruggo
+?nome king
+193326,8
+*royal jelly
+193782,14
+rust monster
+194353,3
+*saber
+*sabre
+194494,14
+saddle
+194902,9
+sake
+195170,1
+salamander
+195191,7
+samurai
+* samurai
+195542,11
+sandestin
+196205,31
+sasquatch
+197544,18
+*sceptre of might
+198623,6
+scimitar
+198926,5
+scorpio*
+199181,5
+scorpius
+199455,6
+*scroll
+scroll *
+199810,18
+shad*
+200614,4
+shaman karnov
+200807,3
+shan*lai*ching
+200962,5
+shark
+201220,15
+shito
+202000,1
+*shoggoth
+*shuggoth
+202028,16
+shrieker
+202928,7
+silver
+203337,6
+skeleton
+203635,4
+slasher
+203878,17
+slime mold
+204856,10
+smaug
+205416,8
+sling
+205868,11
+*snake
+serpent
+water moccasin
+python
+pit viper
+206405,24
+snickersnee
+207803,6
+sokoban
+208019,5
+*soldier
+sergeant
+lieutenant
+captain
+208236,8
+*spear
+javelin
+208696,18
+*spellbook*
+209727,16
+giant spider
+*spider
+210611,10
+shelob
+211041,8
+spell
+211515,14
+*spore
+*sphere
+212312,4
+~*aesculapius
+*staff
+212492,18
+*staff of aesculapius
+213580,5
+stair*
+213851,20
+star vampire
+214884,5
+~statue trap
+statue*
+215183,17
+sting
+216197,12
+stormbringer
+216817,49
+susano*o
+219371,6
+tanko
+219676,1
+tengu
+219734,7
+thorin
+220126,3
+thoth
+220322,19
+thoth*amon
+221380,5
+*throne
+221632,16
+tiger
+222297,12
+tin
+tin of *
+tinning kit
+222795,8
+tin opener
+223131,20
+titan
+224062,11
+touch*stone
+224656,2
+tourist
+* tourist
+224728,18
+towel
+Ravenous Bugblatter Beast Of Traal
+225691,20
+*tower
+226769,7
+trap*door
+227176,8
+trapper
+227632,5
+tree
+227935,13
+tripe
+tripe ration
+228363,10
+*troll
+228955,15
+*tsurugi of muramasa
+229778,5
+~*muramasa
+tsurugi
+230083,6
+twoflower
+guide
+230392,23
+tyr
+231407,14
+*hulk
+232215,5
+*unicorn
+unicorn horn
+232485,26
+*UNIX*
+233900,16
+uruk*hai
+234912,10
+valkyrie
+* valkyrie
+235432,13
+vampire
+vampire bat
+vampire lord
+236077,6
+VAX
+236350,9
+venus
+236908,11
+vlad*
+237518,9
+vogon
+vogon lord
+238063,22
+*vortex
+vortices
+239300,6
+voulge
+239641,6
+vrock
+240017,4
+wakizashi
+240211,2
+walking disk drive
+240324,15
+wand of *
+*wand
+241288,10
+warg
+241865,17
+~mjollnir
+war*hammer
+242713,13
+water
+243465,11
+web
+243760,3
+*wight
+243864,9
+~gnomish wizard
+wizard
+* wizard
+apprentice
+244358,8
+rodney
+wizard of yendor
+244819,10
+wolf
+*wolf
+*wolf cub
+245399,5
+woodchuck
+245652,13
+worm
+long worm
+long worm tail
+worm tooth
+crysknife
+246283,6
+wraith
+nazgul
+246615,17
+wumpus
+247581,6
+xan
+247895,12
+xorn
+248520,5
+ya
+248785,2
+yeenoghu
+248896,5
+yeti
+249161,15
+*yugake
+250032,3
+yumi
+250217,4
+*zombie
+250426,5
+zruty
+250670,2
+.
+250763,0
+	Abbathor is the sole evil dwarven god, the great master of the
+	greed and avarice that plagues so many of that otherwise noble
+	race. He is a hunched, twisted creature, warped by his own
+	greeds, jealousies, and desires. Like many other deities, his
+	name is often invoked by followers of other gods to keep him away
+	from one's treasure.
+	For it had been long apparent to Count Landulf that nothing
+	could be done with his seventh son Thomas, except to make him
+	an Abbot or something of that kind.  Born in 1226, he had from
+	childhood a mysterious objection to becoming a predatory eagle,
+	or even to taking an ordinary interest in falconry or tilting
+	or any other gentlemanly pursuits.  He was a large and heavy and
+	quiet boy, and phenomenally silent, scarcely opening his mouth
+	except to say suddenly to his schoolmaster in an explosive
+	manner, "What is God?"  The answer is not recorded but it is
+	probable that the asker went on worrying out answers for himself.
+		[ The Runaway Abbot, by G. K. Chesterton ]
+	Aerdrie  Faenya is the elven goddess of air and weather. As a rain-
+	bringer, she is revered as a source of fertility.  She is, however,
+	perceived as a somewhat distant  goddess, and the fact that she  is
+	also revered by some aarakocra slightly diminishes the  strength of
+	elven  devotion to  her (as does  her definite  neutral tendency in
+	alignment). The goddess  herself takes  delight in  the freedom  of
+	the skies, the music  of wind instruments,  and (sometimes)  fairly
+	severe and  violent thunderstorms. She is  friendly to all  avians,
+	aarakocra, ki-rin, and lammasu.
+					 [ Monster Mythology, by TSR inc. ]
+	A short studded or spiked club attached to a cord allowing
+	it to be drawn back to the wielder after having been thrown.
+	It should not be confused with the atlatl, which is a device
+	used to throw spears for longer distances.
+	An Aleax,  according to the  AD&D Fiend Folio,  is a  creature that
+	looks exactly  like the character, and  is sent  by the character's
+	god to  punish alignment violations. Obviously  - and  luckily - in
+	Nethack this is not the case.
+	Altars are of three types:
+	1.  In Temples.  These are for Sacrifices [...].  The stone
+	top will have grooves for blood, and the whole will be covered
+	with _dry brown stains of a troubling kind_ from former
+	Sacrifices.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+
+	To every man upon this earth
+	Death cometh soon or late;
+	And how can man die better
+	Than facing fearful odds
+	For the ashes of his fathers
+	And the temples of his gods?
+		[ Lays of Ancient Rome, by Thomas B. Macaulay ]
+	The Shinto sun goddess, Amaterasu Omikami is the central
+	figure of Shintoism and the ancestral deity of the imperial
+	house.  One of the daughters of the primordial god Izanagi
+	and said to be his favourite offspring, she was born from
+	his left eye.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	"Tree sap," Wu explained, "often flows over insects and traps
+	them.  The insects are then perfectly preserved within the
+	fossil.  One finds all kinds of insects in amber - including
+	biting insects that have sucked blood from larger animals."
+		[ Jurassic Park, by Michael Crichton ]
+	Get thee hence, nor come again,
+	Mix not memory with doubt,
+	Pass, thou deathlike type of pain,
+	Pass and cease to move about!
+	'Tis the blot upon the brain
+	That will show itself without.
+		...
+	For, Maud, so tender and true,
+	As long as my life endures
+	I feel I shall owe you a debt,
+	That I never can hope to pay;
+	And if ever I should forget
+	That I owe this debt to you
+	And for your sweet sake to yours;
+	O then, what then shall I say? -
+	If ever I should forget,
+	May God make me more wretched
+	Than ever I have been yet!
+		[ Maud, And Other Poems by Alfred, Lord Tennyson ]
+	"The complete Amulet can keep off all the things that make
+	people unhappy -- jealousy, bad temper, pride, disagreeableness,
+	greediness, selfishness, laziness.  Evil spirits, people called
+	them when the Amulet was made.  Don't you think it would be nice
+	to have it?"
+	"Very," said the children, quite without enthusiasm.
+	"And it can give you strength and courage."
+	"That's better," said Cyril.
+	"And virtue."
+	"I suppose it's nice to have that," said Jane, but not with much
+	interest.
+	"And it can give you your heart's desire."
+	"Now you're talking," said Robert.
+		[ The Story of the Amulet, by Edith Nesbit ]
+	This mysterious talisman is the object of your quest.  It is
+	said to possess powers which mere mortals can scarcely
+	comprehend, let alone utilize.  The gods will grant the gift of
+	immortality to the adventurer who can deliver it from the
+	depths of Moloch's Sanctum and offer it on the appropriate high
+	altar on the Astral Plane.
+	He answered and said unto them, he that soweth the good seed
+	is the Son of man; the field is the world, and the good seed
+	are the children of the kingdom; but the weeds are the
+	children of the wicked one; the enemy that sowed them is the
+	devil; the harvest is the end of the world; and the reapers
+	are the angels.  As therefore the weeds are gathered and
+	burned in the fire; so shall it be in the end of this world.
+	[...]  So shall it be at the end of the world; the angels
+	shall come forth, and sever the wicked from among the just,
+	and shall cast them into the furnace of fire; there shall be
+	wailing and gnashing of teeth.
+		[ The Gospel According to Matthew, 13:37-42, 49-50 ]
+	An Egyptian god of war and a great hunter, few gods can match
+	his fury.  Unlike many gods of war, he is a force for good.
+	The wrath of Anhur is slow to come, but it is inescapable
+	once earned.  Anhur is a mighty figure with four arms.  He
+	is often seen with a powerful lance that requires both of
+	his right arms to wield and which is tipped with a fragment
+	of the sun.  He is married to Mehut, a lion-headed goddess.
+	The twin city of Ankh-Morpork, foremost of all the cities
+	bounding the Circle Sea, was as a matter of course the home
+	of a large number of gangs, thieves' guilds, syndicates and
+	similar organisations.  This was one of the reasons for its
+	wealth.  Most of the humbler folk on the widdershin side of
+	the river, in Morpork's mazy alleys, supplemented their
+	meagre incomes by filling some small role for one or other
+	of the competing gangs.
+		[ The Colour of Magic by Terry Pratchett ]
+	A primordial Babylonian-Akkadian deity, Anshar is mentioned
+	in the Babylonian creation epic _Enuma Elish_ as one of a
+	pair of offspring (with Kishar) of Lahmu and Lahamu.  Anshar
+	is linked with heaven while Kishar is identified with earth.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	This giant variety of the ordinary ant will fight just as
+	fiercely as its small, distant cousin.  Various varieties
+	exist, and they are known and feared for their relentless
+	persecution of their victims.
+	Anu was the Babylonian god of the heavens, the monarch of
+	the north star.  He was the oldest of the Babylonian gods,
+	the father of all gods, and the ruler of heaven and destiny.
+	Anu features strongly in the _atiku_ festival in
+	Babylon, Uruk and other cities.
+	The most highly evolved of all the primates, as shown by
+	all their anatomical characters and particularly the
+	development of the brain.  Both arboreal and terrestrial,
+	the apes have the forelimbs much better developed than
+	the hind limbs.  Tail entirely absent.  Growth is slow
+	and sexual maturity reached at quite an advanced age.
+	[ A Field Guide to the Larger Mammals of Africa by Dorst ]
+
+	Aldo the gorilla had a plan.  It was a good plan.  It was
+	right.  He knew it.  He smacked his lips in anticipation as
+	he thought of it.  Yes.  Apes should be strong.  Apes should
+	be masters.  Apes should be proud.  Apes should make the
+	Earth shake when they walked.  Apes should _rule_ the Earth.
+		[ Battle for the Planet of the Apes,
+			by David Gerrold ]
+	Four-handed, tailless,  mammal of  the  order of  Primates, of  the
+	sub-order  of _Anthropoidea_,  which of  all  mammals most  closely
+	resembles man (both in appearance and in behaviour).
+			  [ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	NEWTONIAN, adj.  Pertaining to a philosophy of the universe
+	invented by Newton, who discovered that an apple will fall
+	to the ground, but was unable to say why.  His successors
+	and disciples have advanced so far as to be able to say
+	when.
+		[ The Devil's Dictionary, by Ambrose Bierce ]
+	Archeology is the search for fact, not truth. [...] 
+	So forget any ideas you've got about lost cities, exotic travel, 
+	and digging up the world. We do not follow maps to buried 
+	treasure, and X never, ever, marks the spot.
+		[ Indiana Jones and the Last Crusade ]
+	Archons are the predominant inhabitants of the heavens.
+	However unusual their appearance, they are not generally
+	evil.  They are beings at peace with themselves and their
+	surroundings.
+
+	Archons are the primary  inhabitants of the Seven Heavens. The five
+	varieties of archon (Lantern, Hound,  Warden, Sword, and Tome) have
+	wholly different appearances.  The various types look like  spheres
+	of  light,   dog-faced  humanoids,   bear-like  humanoids,   winged
+	humanoids,  and hawk-like humanoids respectively. Although there is
+	a distinct  hierarchy among the varieties,  there is  no rivalry or
+	jealousy  there.  Each  has  his   role  to  fulfil  and   that  is
+	recognition enough for an archon.
+	However strange  and frightening  their  appearance, archons  never
+	seem evil. Rather, they appear  as beings at peace  with themselves
+	and their environment.
+					[ Monstrous Compendium 8, by TSR inc. ]
+	Arioch, the patron demon of Elric's ancestors; one of the most
+	powerful of all the Dukes of Hell, who was called Knight of
+	the Swords, Lord of the Seven Darks, Lord of the Higher Hell
+	and many more names besides.
+		[ Elric of Melnibone, by Michael Moorcock ]
+	I shot an arrow into the air,
+	It fell to earth, I knew not where;
+	For, so swiftly it flew, the sight
+	Could not follow it in its flight.
+
+	I breathed a song into the air,
+	It fell to earth, I knew not where;
+	For who has sight so keen and strong
+	That it can follow the flight of song?
+
+	Long, long afterward, in an oak
+	I found the arrow still unbroke;
+	And the song, from beginning to end,
+	I found again in the heart of a friend.
+		[ The Arrow and the Song,
+		  by Henry Wadsworth Longfellow ]
+	Arkenstone, Heart of the Mountain, property of the King
+	under the Mountain, is the most valued jewel that the
+	dwarves possess. It shines white light that can guide
+	your steps in the darkness, and carrying it is said
+	to increase your carrying capacity. When invoked it
+	will reveal the gold around you.
+	Ashikaga Takauji was a daimyo of the Minamoto clan who
+	joined forces with the Go-Daigo to defeat the Hojo armies.
+	Later when Go-Daigo attempted to reduce the powers of the
+	samurai clans he rebelled against him.  He defeated Go-
+	Daigo and established the emperor Komyo on the throne.
+	Go-Daigo eventually escaped and established another
+	government in the town of Yoshino.  This period of dual
+	governments was known as the Nambokucho.
+	[ Samurai - The Story of a Warrior Tradition, by Cook ]
+	On July 8, 1336,  he and his samurai entered Kyoto, forced Go-Daigo
+	to retire,  after which  he seized  power himself  and installed  a
+	puppet prince on the throne  (the current Japanese  imperial family
+	are  the   descendants  of  this   puppet  emperor  that   Ashikaga
+	installed).
+
+	Go-Daigo escaped,  though, wouldn't  admit to  have been  defeated,
+	and  opened a new "capital"  in Yoshino (south of  Kyoto), where he
+	and few  of his  descendants claimed  to be  running a  government,
+	known as  the "Southern Court". The  period between  1337 and 1392,
+	when Japan was ruled by two courts, is known as the Nambokucho.
+
+	That "government" disappeared, naturally, after a  few generations,
+	and Ashikaga's  Muromachi regime lasted for  a long  time. The last
+	Ashikaga daimyo in power was the 14th descendant of Takauji.
+	This small,  inoffensive-looking snake shares the feared power
+	of petrification with its distant relatives the cockatrice and
+	basilisk. Just one touch from its blunt snout  can render  one
+	motionless for all eternity.
+		[ The New Bestiary, Wizard Endlebrook ]
+	In 1927, zoologist Ernst Bartels was in his home near the 
+	Tjidjenkol River in Java when he heard a strange cry louder than 
+	the other night sounds, a cry like "a-hool."
+	Bartels heard the sound twice more before the origin of the cries 
+	moved off into the night. Bartels soon remembered a local legend 
+	of the ahool or athol, a type of huge bat reputed to live in 
+	the area.
+
+	Locals described the bat as the size of a small child, with 
+	an 11-12 foot wingspan. The athol was supposedly covered in 
+	grayish fur and had a face similar to that of a monkey or a man. 
+	At times, it was seen sitting on the forest floor, with its wings 
+	folded beside it; it was also reputed to have feet which pointed
+	backwards. During the day (like all bats, it was nocturnal), the 
+	athol's refuge was supposedly a cave somewhere near a waterfall, 
+	although at night it would fly over the river's surface in
+	search of fish.
+
+		[ "A Belfry of Crypto-bats." by Shuker, Dr. Karl P.N. 
+		Fortean Studies 1, pp. 235-245. ]
+	It is said that Asmodeus is the overlord over all  of  hell.
+	His  appearance,  unlike  many  other  demons and devils, is
+	human apart from his horns and tail.  He  can  freeze  flesh
+	with a touch.
+	The consecrated ritual knife of a Wiccan initiate (one of
+	four basic tools, together with the wand, chalice and
+	pentacle).  Traditionally, the athame is a double-edged,
+	black-handled, cross-hilted dagger of between six and
+	eighteen inches length.
+	Athene was the offspring of Zeus, and without a mother.  She
+	sprang forth from his head completely armed.  Her favourite
+	bird was the owl, and the plant sacred to her is the olive.
+		[ Bulfinch's Mythology by Thomas Bulfinch ]
+	Athena, the  Greek goddess of war and peace, the peaceful arts, and
+	wisdom.  Patron defender of many Greek cities, Athens in particular
+	(then called Pallas Athena),  she is a major  goddess of the  Greek
+	pantheon  and, according to Hesiod, the daughter  of Metis (Wisdom)
+	and Zeus, born fully  armed from his head. A goddess of  battle and
+	allegedly  a snake  goddess,  she is  a deity  who also  stands for
+	discipline against  the more unruly conduct  of such  as Hermes and
+	Poseidon.
+	Her  symbol is the Aegis,  the skin of  a sacrificial  goat. She is
+	also associated with ship-building and domestic crafts.
+			  [ after the Encyclopedia of Gods, by Michael Jordan ]
+	A mundane salamander, harmless.
+		"The Babel fish," said The Hitch  Hiker's Guide  to  the  Galaxy
+		quietly,  "is  small,  yellow  and  leech-like, and probably the
+		oddest thing in the Universe. It feeds on brainwave  energy  not
+		from  its  carrier  but  from  those around  it.  It absorbs all
+		unconscious mental frequencies  from this  brainwave  energy  to
+		nourish  itself  with.  It then  excretes  into  the mind of its
+		carrier a telepathic matrix formed  by  combining the  conscious
+		thought frequencies with nerve signals picked up from the speech
+		centres of the brain which  has  supplied  them.  The  practical
+		upshot of all this is that if you stick a Babel fish in your ear
+		you can instantly understand anything said to you in any form of
+		language.  The  speech  patterns  you actually  hear  decode the
+		brainwave matrix which has been fed into your mind by your Babel
+		fish.
+		[...] 
+		"Meanwhile, the poor Babel  fish, by  effectively  removing  all
+		barriers  to communication between different races and cultures,
+		has caused more and bloddier wars  than  anything  else  in  the
+		history of creation."
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+	"Now, this third handkerchief," Mein Herr proceeded, "has also
+	four edges, which you can trace continuously round and round:
+	all you need do is to join its four edges to the four edges of
+	the opening.  The Purse is then complete, and its outer
+	surface--"
+	"I see!" Lady Muriel eagerly interrupted.  "Its outer surface
+	will be continuous with its inner surface!  But it will take
+	time. I'll sew it up after tea."  She laid aside the bag, and
+	resumed her cup of tea.  "But why do you call it Fortunatus's
+	Purse, Mein Herr?"
+	The dear old man beamed upon her, with a jolly smile, looking
+	more exactly like the Professor than ever.  "Don't you see,
+	my child--I should say Miladi?  Whatever is inside that Purse,
+	is outside it; and whatever is outside it, is inside it.  So
+	you have all the wealth of the world in that leetle Purse!"
+		[ Sylvie and Bruno Concluded, by Lewis Carroll ]
+	The "lord of the flies" is a translation of the Hebrew
+	Ba'alzevuv (Beelzebub in Greek).  It has been suggested that
+	it was a mistranslation of a mistransliterated word which
+	gave us this pungent and suggestive name of the Devil, a
+	devil whose name suggests that he is devoted to decay,
+	destruction, demoralization, hysteria and panic...
+		[ Notes on _Lord of the Flies_, by E. L. Epstein ]
+	...  It came to the edge of the fire and the light faded as
+	if a cloud had bent over it.  Then with a rush it leaped
+	the fissure.  The flames roared up to greet it, and wreathed
+	about it; and a black smoke swirled in the air.  Its streaming
+	mane kindled, and blazed behind it.  In its right hand
+	was a blade like a stabbing tongue of fire; in its left it
+	held a whip of many thongs.
+	'Ai, ai!' wailed Legolas.  'A Balrog!  A Balrog is come!'
+		   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Extinct rhinos include a variety of forms, the most
+	spectacular being _Baluchitherium_ from the Oligocene of
+	Asia, which is the largest known land mammal.  Its body, 18
+	feet high at the shoulder and carried on massive limbs,
+	allowed the 4-foot-long head to browse on the higher branches
+	of trees.  Though not as enormous, the titanotheres of the
+	early Tertiary were also large perissodactyls, _Brontotherium_
+	of the Oligocene being 8 feet high at the shoulder.
+		[ Prehistoric Animals, by Barry Cox ]
+	He took another step and she cocked her right wrist in
+	viciously.  She heard the spring click.  Weight slapped into
+	her hand.
+	"Here!" she shrieked hysterically, and brought her arm up in
+	a hard sweep, meaning to gut him, leaving him to blunder
+	around the room with his intestines hanging out in steaming
+	loops.  Instead he roared laughter, hands on his hips,
+	flaming face cocked back, squeezing and contorting with great
+	good humor.
+	"Oh, my dear!" he cried, and went off into another gale of
+	laughter.
+	She looked stupidly down at her hand.  It held a firm yellow
+	banana with a blue and white Chiquita sticker on it.  She
+	dropped it, horrified, to the carpet, where it became a
+	sickly yellow grin, miming Flagg's own.
+	"You'll tell," he whispered.  "Oh yes indeed you will."
+	And Dayna knew he was right.
+		[ The Stand, by Stephen King ]
+	They dressed alike -- in buckskin boots, leathern breeks and
+	deerskin shirts, with broad girdles that held axes and short
+	swords; and they were all gaunt and scarred and hard-eyed;
+	sinewy and taciturn.
+	They were wild men, of a sort, yet there was still a wide
+	gulf between them and the Cimmerian.  They were sons of
+	civilization, reverted to a semi-barbarism.  He was a
+	barbarian of a thousand generations of barbarians.  They had
+	acquired stealth and craft, but he had been born to these
+	things.  He excelled them even in lithe economy of motion.
+	They were wolves, but he was a tiger.
+		[ Conan - The Warrior, by Robert E. Howard ]
+	Hrun the  Barbarian crept  soundlessly along  the corridors,  which
+	were lit  with a  light so  violet that  it was  almost black.  his
+	earlier  confusion was  gone. This was obviously  a magical temple,
+	and that explained everything.
+	   ...
+	Observe Hrun,  as he leaps  cat-footed across  a suspicious  tunnel
+	mouth. Even in this violet light his skin gleams  coppery. There is
+	much  gold about his person, in  the form of anklets and wristlets,
+	but otherwise  he is naked except  for a  leopardskin loincloth. He
+	took  that in the  steaming forests  of Howondaland,  after killing
+	its owner with his teeth.
+	In his right hand  he carried the magical black sword  Kring, which
+	was  forged  from a  thunderbolt  and has  a  soul  but suffers  no
+	scabbard. Hrun  had  stolen it  only  three  days before  from  the
+	impregnable  palace  of the  Archmandrite of  B'Ituni,  and  he was
+	already regretting it. It was beginning to get on his nerves.
+	"I tell you  it went down that last  passage on the  right," hissed
+	Kring in a voice like the scrape of a blade over stone.
+	"Be silent!"
+	"All I said was -"
+	"Shut up!"
+				[ The colour of Magic, by Terry Pratchett ]
+	Barbed devils lack any real special abilities, though they
+	are quite difficult to kill.
+	A bat, flitting in the darkness outside, took the wrong turn
+	as it made its nightly rounds and came in through the window
+	which had been left healthfully open.  It then proceeded to
+	circle the room in the aimless fat-headed fashion habitual
+	with bats, who are notoriously among the less intellectually
+	gifted of God's creatures.  Show me a bat, says the old
+	proverb, and I will show you something that ought to be in
+	some kind of a home.
+		[ A Pelican at Blandings, by P. G. Wodehouse ]
+	In Fantasyland these are remarkable in that they seldom or
+	never wear out and are suitable for riding or walking in
+	without the need of Socks.  Boots never pinch, rub, or get
+	stones in them; nor do nails stick upwards into the feet from
+	the soles.  They are customarily mid-calf length or knee-high,
+	slip on and off easily and never smell of feet.  Unfortunately,
+	the formula for making this splendid footwear is a closely
+	guarded secret, possibly derived from nonhumans (see Dwarfs,
+	Elves, and Gnomes).
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	I worked the lever well under, and stretched my back; the end
+	of the stone rose up, and I kicked the fulcrum under.  Then,
+	when I was going to bear down, I remembered there was
+	something to get out from below; when I let go of the lever,
+	the stone would fall again.  I sat down to think, on the root
+	of the oak tree; and, seeing it stand about the ground, I saw
+	my way.  It was lucky I had brought a longer lever.  It would
+	just reach to wedge under the oak root.
+	Bearing it down so far would have been easy for a heavy man,
+	but was a hard fight for me.  But this time I meant to do it
+	if it killed me, because I knew it could be done.  Twice I
+	got it nearly there, and twice the weight bore it up again;
+	but when I flung myself on it the third time, I heard in my
+	ears the sea-sound of Poseidon.  Then I knew this time I
+	would do it; and so I did.
+		[ The King Must Die, by Mary Renault ]
+	"Stand to it, my hearts of gold," said the old bowman as he
+	passed from knot to knot.  "By my hilt! we are in luck this
+	journey.  Bear in mind the old saying of the Company."
+	"What is that, Aylward?" cried several, leaning on their bows
+	and laughing at him.
+	"'Tis the master-bowyer's rede: 'Every bow well bent.  Every
+	shaft well sent.  Every stave well nocked.  Every string well
+	locked.'  There, with that jingle in his head, a bracer on
+	his left hand, a shooting glove on his right, and a
+	farthing's-worth of wax in his girdle, what more doth a
+	bowman need?"
+	"It would not be amiss," said Hordle John, "if under his
+	girdle he had four farthings'-worth of wine."
+		[ The White Company, by Sir Arthur Conan Doyle ]
+	A peasant pole-arm, the bec de corbin's crow-beak blade 
+	was designed to puncture the heavy plate armor common to 
+	upper-class warriors. In this weapon the beak is the major 
+	feature. This is backed by a flat hammer head or clawed head, 
+	with a short and bladelike spike at the opposite end.
+
+	This giant variety of its useful normal cousin normally
+	appears in small groups, looking for raw material to produce
+	the royal jelly needed to feed their queen.  On rare
+	occasions, one may stumble upon a bee-hive, in which the
+	queen bee is being well provided for, and guarded against
+	intruders.
+	[ The Creator ] has an inordinate fondness for beetles.
+		[ attributed to biologist J.B.S. Haldane ]
+
+	The common name for the insects with wings shaped like
+	shields (_Coleoptera_), one of the ten sub-species into
+	which the insects are divided.  They are characterized by
+	the shields (the front pair of wings) under which the back
+	wings are folded.
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	The beholder (A.K.A the eye tyrant, the sphere of many eyes) 
+	is most frequently found deep underground, although infrequently 
+	it will lair in desolate wilderness.  The globular body of this 
+	monster is supported by levitation, and it floats slowly about 
+	as it wills.  Atop the sphere are ten eyestalks, while in its 
+	central area are a great eleventh eye and a large mouth filled 
+	with pointed teeth.  Each of the eyes is said to have a different
+	magical property, all of which are deadly or malicious.  The 
+	beholder is hateful, tricky, and avaricious and is known to have 
+	a fondness for both traps and artifacts.
+		[ Adapted by Ben Lehman from Monstrous Manual, by TSR, Inc. ]
+	"A bell, book and candle job."
+	The Bursar sighed.  "We tried that, Archchancellor."
+	The Archchancellor leaned towards him.
+	"Eh?" he said.
+	"I _said_, we tried that Archchancellor," said the Bursar loudly,
+	directing his voice at the old man's ear.  "After dinner, you
+	remember?  We used Humptemper's _Names of the Ants_ and rang Old
+	Tom."*
+	"Did we, indeed.  Worked, did it?"
+	"_No_, Archchancellor."
+
+	* Old Tom was the single cracked bronze bell in the University
+	bell tower.
+		[ Eric, by Terry Pratchett ]
+	The blindfolding was performed by binding a piece of the
+	yellowish linen whereof those of the Amahagger who condescended
+	to wear anything in particular made their dresses tightly round
+	the eyes.  This linen I afterwards discovered was taken from the
+	tombs, and was not, as I had first supposed, of native
+	manufacture.  The bandage was then knotted at the back of the
+	head, and finally brought down again and the ends bound under
+	the chin to prevent its slipping.  Ustane was, by the way, also
+	blindfolded, I do not know why, unless it was from fear that she
+	should impart the secrets of the route to us.
+		[ She, by H. Rider Haggard ]
+	On this particular day Blind Io, by dint of constant vigilance
+	the chief of the gods, sat with his chin on his hand
+	and looked at the gaming board on the red marble table in
+	front of him.  Blind Io had got his name because, where his
+	eye sockets should have been, there were nothing but two
+	areas of blank skin.  His eyes, of which he had an impressively
+	large number, led a semi-independent life of their
+	own.  Several were currently hovering above the table.
+		[ The Colour of Magic, by Terry Pratchett ]
+	These giant amoeboid creatures look like nothing more than
+	puddles of slime, but they both live and move, feeding on
+	metal or wood as well as the occasional dungeon explorer to
+	supplement their diet.
+
+	But we were not on a station platform.  We were on the track ahead
+	as the nightmare, plastic column of fetid black iridescence oozed
+	tightly onward through its fifteen-foot sinus, gathering unholy
+	speed and driving before it a spiral, re-thickening cloud of the
+	pallid abyss vapor.  It was a terrible, indescribable thing vaster
+	than any subway train -- a shapeless congeries of protoplasmic
+	bubbles, faintly self-luminous, and with myriads of temporary eyes
+	forming and unforming as pustules of greenish light all over the
+	tunnel-filling front that bore down upon us, crushing the frantic
+	penguins and slithering over the glistening floor that it and its
+	kind had swept so evilly free of all litter.
+		[ At the Mountains of Madness, by H.P. Lovecraft ]
+	   " It's all very fine," said the Puddin' gloomily, " singing about
+	the joys of being penguins and pirates, but how'd you like to be a
+	Puddin' and be eaten all day long? "
+	   And in a very gruff voice he sang as follows :--
+	      " O, who would be a puddin',
+		  A puddin' in a pot,
+		A puddin' which is stood on
+		  A fire which is hot ?
+		O sad indeed the lot
+		Of puddin's in a pot.
+	...
+	      " But as I am a puddin',
+		  A puddin' in a pot,
+		I hope you get the stomachache
+		  For eatin' me a lot.
+		I hope you get it hot,
+		  You puddin'-eatin' lot ! "
+	   " Very well sung, Albert," said Bill encouragingly, " though you're
+	a trifle husky in your undertones, which is no doubt due to the gravy
+	in your innards.  However, as a reward for bein' a bright little
+	feller we shall have a slice of you all round before turnin' in for
+	the night."
+	[ The Magic Pudding: The Adventures of Bunyip Bluegum. Norman Lindsay ]
+	Bone devils attack with weapons and with a great hooked tail
+	which causes a loss of strength to those they sting.
+	Faustus: Come on Mephistopheles.  What shall we do?
+	Mephistopheles: Nay, I know not.  We shall be cursed with bell,
+	book, and candle.
+	Faustus: How?  Bell, book, and candle, candle, book, and bell,
+	Forward and backward, to curse Faustus to hell.
+	Anon you shall hear a hog grunt, a calf bleat, and an ass bray,
+	Because it is Saint Peter's holy day.
+	(Enter all the Friars to sing the dirge)
+		[ Doctor Faustus and Other Plays, by Christopher Marlowe ]
+	For half a buck, a vial of luck
+		Or a bottle of nifty breaks
+	Or a flask of joy, or Myrna Loy
+		For luncheon with sirloin steaks.
+	
+	Pour out a mug from this old jug,
+		And you'll never get wet in rains.
+	I've bottles of grins and racetrack wins
+		And lotions to ease your pains.
+	
+	Here's bottles of imps and wet-pack shrimps
+		From a sea unknown to man,
+	And an elixir to banish fear,
+		And the sap from the pipes of Pan.
+	
+	With the powdered horn of the unicorn
+		You can win yourself a mate;
+	With the rish hobnob; or get a job --
+		It's yours at a lowered rate.
+		[ Shottle Bop, by Theodore Sturgeon ]
+	Brigit (Brigid, Bride, Banfile), which means the Exalted One,
+	was the Celtic (continental European and Irish) fertility
+	goddess.  She was originally celebrated on February first in
+	the festival of Imbolc, which coincided with the beginning
+	of lactation in ewes and was regarded in Scotland as the date
+	on which Brigit deposed the blue-faced hag of winter.  The
+	Christian calendar adopted the same date for the Feast of St.
+	Brigit.  There is no record that a Christian saint ever
+	actually existed, but in Irish mythology she became the
+	midwife to the Virgin Mary.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Bring me my broadsword
+	And clear understanding.
+	Bring me my cross of gold,
+	As a talisman.
+		[ "Broadsword" (refrain) by Ian Anderson ]
+	 	n. An unwanted  and  unintended  property of a  program or piece
+	 	of hardware, esp. one that causes it to malfunction.  Antonym of
+	  	{feature}.   Examples: "There's a bug  in the editor:  it writes
+		things out backwards." "The system crashed because of a hardware
+	  	bug."   "Fred is a winner, but he has a few bugs" (i.e., Fred is
+	   	a good guy, but he has a few personality problems).
+		[ The Jargon File, version 3.0.0 ]
+	Bugbears are relatives of goblins, although they tend to be
+	larger and more hairy.  They are aggressive carnivores and
+	sometimes kill just for the treasure their victims may be
+	carrying.
+
+	Bugbears are giant, hairy  cousins of goblins who frequent the same
+	areas  as  their smaller  relatives.  Bugbears are  large and  very
+	muscular, standing 7' tall.  Their hides range from light yellow to
+	yellow brown  and their  thick coarse  hair varies  in colour  from
+	brown  to  brick  red.  Though  vaguely   humanoid  in  appearance,
+	bugbears seem to contain the  blood of some large  carnivore. Their
+	eyes recall  those of  some savage  bestial animal, being  greenish
+	white with  red pupils, while their  ears are  wedge shaped, rising
+	from the  top of  their heads. A  bugbear's mouth  is full of  long
+	sharp fangs.
+	Bugbears have two main goals  in life: survival and  treasure. They
+	are  superb  carnivores,  winnowing  out  the   weak  and  careless
+	adventurer, monster, and animal. Goblins  are always on  their toes
+	when  bugbears are present, for  the weak or  stupid quickly end up
+	in the stewpot.
+		[ Monstrous Manual, by TSR, Inc. ]
+	'I read you by your bugle horn
+	And by your palfrey good,
+	I read you for a Ranger sworn
+	To keep the King's green-wood.'
+	'A Ranger, Lady, winds his horn,
+	And 'tis at peep of light;
+	His blast is heard at merry morn,
+	And mine at dead of night.'
+		[ Brignall Banks, by Sir Walter Scott ]
+	A creature of the stars, this bat like being can be summoned
+	across the vast interstellar gulfs to serve magicians and
+	dark powers.  It is said that they will seize those who 
+	summon them and cannot best them and carry them off to whatever
+	terrible fate awaits them on other worlds.
+	A classical Mesoamerican Aztec god, also known as Mixcoatl-
+	Camaxtli (the Cloud Serpent), Camaxtli is the god of war.  He
+	is also a deity of hunting and fire who received human
+	sacrifice of captured prisoners.  According to tradition, the
+	sun god Tezcatlipoca transformed himself into Mixcoatl-Camaxtli
+	to make fire by twirling the sacred fire sticks.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Only once a year, on his birthday, did Charlie Bucket ever
+	get to taste a bit of chocolate.  The whole family saved up
+	their money for that special occasion, and when the great
+	day arrived, Charlie was always presented with one small
+	chocolate bar to eat all by himself.  And each time he
+	received it, on those marvelous birthday mornings, he would
+	place it carefully in a small wooden box that he owned, and
+	treasure it as though it were a bar of solid gold; and for
+	the next few days, he would allow himself only to look at it,
+	but never to touch it.  Then at last, when he could stand it
+	no longer, he would peel back a tiny bit of the paper
+	wrapping at one corner to expose a tiny bit of chocolate, and
+	then he would take a tiny nibble - just enough to allow the
+	lovely sweet taste to spread out slowly over his tongue.  The
+	next day, he would take another tiny nibble, and so on, and
+	so on.  And in this way, Charlie would make his ten-cent bar
+	of birthday chocolate last him for more than a month.
+		[ Charlie and the Chocolate Factory, by Roald Dahl ]
+	Imagine a sealed container, so perfectly constructed that no
+	physical influence can pass either inwards or outwards across its
+	walls.  Imagine that inside the container is a cat, and also a
+	device that can be triggered by some quantum event.  If that event
+	takes place, then the device smashes a phial containing cyanide and
+	the cat is killed.  If the event does not take place, the cat lives
+	on.  In Schroedinger's original version, the quantum event was the
+	decay of a radioactive atom.  ...  To the outside observer, the cat
+	is indeed in a linear combination of being alive and dead, and only
+	when the container is finally opened would the cat's state vector
+	collapse into one or the other.  On the other hand, to a (suitably
+	protected) observer inside the container, the cat's state-vector
+	would have collapsed much earlier, and the outside observer's
+	linear combination has no relevance.
+		[ The Emperor's New Mind, by Roger Penrose ]
+	Well-known quadruped domestic animal from the family of
+	predatory felines (_Felis ochreata domestica_), with a thick,
+	soft pelt; often kept as a pet.  Various folklores have the
+	cat associated with magic and the gods of ancient Egypt.
+
+	So Ulthar went to sleep in vain anger; and when the people
+	awakened at dawn - behold!  Every cat was back at his
+	accustomed hearth!  Large and small, black, grey, striped,
+	yellow and white, none was missing.  Very sleek and fat did
+	the cats appear, and sonorous with purring content.
+		[ The Cats of Ulthar, by H.P. Lovecraft ]
+	Now it was light enough to leave.  Moon-Watcher picked up
+	the shriveled corpse and dragged it after him as he bent
+	under the low overhang of the cave.  Once outside, he
+	threw the body over his shoulder and stood upright - the
+	only animal in all this world able to do so.
+	Among his kind, Moon-Watcher was almost a giant.  He was
+	nearly five feet high, and though badly undernourished
+	weighed over a hundred pounds.  His hairy, muscular body
+	was halfway between ape and man, but his head was already
+	much nearer to man than ape.  The forehead was low, and
+	there were ridges over the eye sockets, yet he unmistakably
+	held in his genes the promise of humanity.
+		[ 2001: A Space Odyssey, by Arthur C. Clarke ]
+	Of all the monsters put together by the Greek imagination
+	the Centaurs (Kentauroi) constituted a class in themselves.
+	Despite a strong streak of sensuality, in their make-up,
+	their normal behaviour was moral, and they took a kindly
+	thought of man's welfare.  The attempted outrage of Nessos on
+	Deianeira, and that of the whole tribe of Centaurs on the
+	Lapith women, are more than offset by the hospitality of
+	Pholos and by the wisdom of Cheiron, physician, prophet,
+	lyrist, and the instructor of Achilles.  Further, the
+	Centaurs were peculiar in that their nature, which united the
+	body of a horse with the trunk and head of a man, involved
+	an unthinkable duplication of vital organs and important
+	members.  So grotesque a combination seems almost un-Greek.
+	These strange creatures were said to live in the caves and
+	clefts of the mountains, myths associating them especially
+	with the hills of Thessaly and the range of Erymanthos.
+		 [ Mythology of all races, Vol. 1, pp. 270-271 ]
+	I observed here, what I had often seen before, that certain
+	districts abound in centipedes.  Here they have light
+	reddish bodies and blue legs; great myriapedes are seen
+	crawling every where.  Although they do no harm, they excite
+	in man a feeling of loathing.  Perhaps our appearance
+	produces a similar feeling in the elephant and other large
+	animals.  Where they have been much disturbed, they
+	certainly look upon us with great distrust, as the horrid
+	biped that ruins their peace.
+		[ Travels and Researches in South Africa,
+			by Dr. David Livingstone ]
+	Cerberus, (or Kerberos in Greek), was the three-headed dog
+	that guarded the Gates of Hell.  He allowed any dead to enter,
+	and likewise prevented them all from ever leaving.  He was
+	bested only twice:  once when Orpheus put him to sleep by
+	playing bewitching music on his lyre, and the other time when
+	Hercules confronted him and took him to the world of the
+	living (as his twelfth and last labor).
+	Name of a family (_Chameleonidae_) and race (_Chameleo_) of
+	scaly lizards, especially the _Chameleo vulgaris_ species,
+	with a short neck, claws, a grasping tail, a long, extendible
+	tongue and mutually independent moving eyes.  When it is
+	scared or angry, it inflates itself and its transparent skin
+	shows its blood:  the skin first appears greenish, then
+	gradually changes color until it is a spotted red.  The final
+	color depends on the background color as well, hence the
+	(figurative) implication of unreliability.  [Capitalized:]
+	a constellation of the southern hemisphere (Chameleo).
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	When an ancient Greek died, his soul went to the nether world:
+	the Hades.  To reach the nether world, the souls had to cross
+	the river Styx, the river that separated the living from the
+	dead.  The Styx could be crossed by ferry, whose shabby ferry-
+	man, advanced in age, was called Charon.  The deceased's next-
+	of-kin would place a coin under his tongue, to pay the ferry-
+	man.
+	Dantes rapidly cleared away the earth around the chest.  Soon
+	the center lock appeared, then the handles at each end, all
+	delicately wrought in the manner of that period when art made
+	precious even the basest of metals.  He took the chest by the
+	two handles and tried to lift it, but it was impossible.  He
+	tried to open it; it was locked.  He inserted the sharp end
+	of his pickaxe between the chest and the lid and pushed down
+	on the handle.  The lid creaked, then flew open.
+	Dantes was seized with a sort of giddy fever.  He cocked his
+	gun and placed it beside him.  The he closed his eyes like a
+	child, opened them and stood dumbfounded.
+	The chest was divided into three compartments.  In the first
+	were shining gold coins.  In the second, unpolished gold
+	ingots packed in orderly stacks.  From the third compartment,
+	which was half full, Dantes picked up handfuls of diamonds,
+	pearls and rubies.  As they fell through his fingers in a
+	glittering cascade, they gave forth the sound of hail beating
+	against the windowpanes.
+		[ The Count of Monte Cristo, by Alexandre Dumas ]
+	A Chinese rain god.
+	Tiamat is said to be the mother of evil dragonkind.  She is
+	extremely vain.
+	Avaricious,  supremely vain,  and  profoundly Lawful  Evil,  Tiamat
+	proclaims  herself  the   creator  of  all  evil  dragonkind,   and
+	certainly many evil dragons  revere her as their creator and patron
+	deity.  She  infests the  uppermost  of  the  Nine  Hells with  her
+	consorts,  each a  Great Wyrm  of different  colour -  one red, one
+	white, one green, one blue, and one black.
+	Tiamat's Avatar appears  as a gigantic five-headed dragon with  one
+	head of  each of  the chromatic  (evil) dragon  types. Each  head's
+	colour  runs the length  of the  neck and into  the forepart of het
+	body  as stripes,  gradually blending  to  three  stripes of  grey,
+	blue-green,  and  purple  over her  back  and  hind-quarters,  then
+	merging into a muddy dark  brown tail. Her underbelly and  legs are
+	greenish white fading into her upper body colours.
+		 [ Monster Mythology, by TSR inc. ]
+	Cloaks are the universal outer garb of everyone who is not a
+	Barbarian.  It is hard to see why.  They are open in front
+	and require you at most times to use one hand to hold them
+	shut.  On horseback they leave the shirt-sleeved arms and
+	most of the torso exposed to wind and Weather.  The OMTs
+	[ Official Management Terms ] for Cloaks well express their
+	difficulties.  They are constantly _swirling and dripping_
+	and becoming _heavy with water_ in rainy Weather, _entangling
+	with trees_ or _swords_, or needing to be _pulled close
+	around her/his shivering body_.  This seems to suggest they
+	are less than practical for anyone on an arduous Tour.
+		[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	I wandered lonely as a cloud
+	That floats on high o'er vales and hills,
+	When all at once I saw a crowd,
+	A host, of golden daffodils;
+	Beside the lake, beneath the trees,
+	Fluttering and dancing in the breeze.
+		[ I Wandered Lonely as a Cloud, by William Wordsworth ]
+	Darzee and his wife only cowered down in the nest without
+	answering, for from the thick grass at the foot of the bush
+	there came a low hiss -- a horrid cold sound that made
+	Rikki-tikki jump back two clear feet.  Then inch by inch out of
+	the grass rose up the head and spread hood of Nag, the big
+	black cobra, and he was five feet long from tongue to tail.
+	When he had lifted one-third of himself clear of the ground,
+	he stayed balancing to and fro exactly as a dandelion-tuft
+	balances in the wind, and he looked at Rikki-tikki with the
+	wicked snake's eyes that never change their expression,
+	whatever the snake may be thinking of.
+	'Who is Nag?' said he.  '_I_ am Nag.  The great God Brahm put
+	his mark upon all our people, when the first cobra spread his
+	hood to keep the sun off Brahm as he slept.  Look, and be
+	afraid!'
+		[ Rikki-tikki-tavi, by Rudyard Kipling ]
+	Once in a great while, when the positions of the stars are
+	just right, a seven-year-old rooster will lay an egg.  Then,
+	along will come a snake, to coil around the egg, or a toad,
+	to squat upon the egg, keeping it warm and helping it to
+	hatch.  When it hatches, out comes a creature called basilisk,
+	or cockatrice, the most deadly of all creatures.  A single
+	glance from its yellow, piercing toad's eyes will kill both
+	man and beast.  Its power of destruction is said to be so
+	great that sometimes simply to hear its hiss can prove fatal.
+	Its breath is so venomous that it causes all vegetation
+	to wither.
+
+	There is, however, one creature which can withstand the
+	basilisk's deadly gaze, and this is the weasel.  No one knows
+	why this is so, but although the fierce weasel can slay the
+	basilisk, it will itself be killed in the struggle.  Perhaps
+	the weasel knows the basilisk's fatal weakness:  if it ever
+	sees its own reflection in a mirror it will perish instantly.
+	But even a dead basilisk is dangerous, for it is said that
+	merely touching its lifeless body can cause a person to
+	sicken and die.
+		[ Mythical Beasts by Deirdre Headon (The Leprechaun Library)
+			and other sources ]
+	This beastie is the recently-hatched broodling of a cockatrice, a
+	creature feared by adventurers great and small for its petrifying
+	peck.  
+		[ The New Bestiary, Wizard Endlebrook ]
+	A single glance from this red-feathered cockatrice  can cause even
+	the bravest adventurer to burst into flames, their flesh withering
+	and blackening and curling beneath the creature's baleful gaze.
+		[ The New Bestiary, Wizard Endlebrook ]
+	He was dressed in a flowing gown with fur tippets which had
+	the signs of the zodiac embroidered over it, with various
+	cabalistic signs, such as triangles with eyes in them, queer
+	crosses, leaves of trees, bones of birds and animals, and a
+	planetarium whose stars shone like bits of looking-glass with
+	the sun on them.  He had a pointed hat like a dunce's cap, or
+	like the headgear worn by ladies of that time, except that
+	the ladies were accustomed to have a bit of veil floating
+	from the top of it.
+		[ The Once and Future King, by T.H. White ]
+
+		"A wizard!" Dooley exclaimed, astounded.
+		"At your service, sirs," said the wizard.  "How
+	perceptive of you to notice.  I suppose my hat rather gives me
+	away.  Something of a beacon, I don't doubt."  His hat was
+	pretty much that, tall and cone-shaped with stars and crescent
+	moons all over it.  All in all, it couldn't have been more
+	wizardish.
+		[ The Elfin Ship, James P. Blaylock ]
+	A mythical feathered serpent.  The couatl are very rare.
+	The couatl  are feathered serpents of myth and lore. It is believed
+	that  they are  distant relatives  of dragons,  though this remains
+	unproven.  So rare  as to be  considered legendary,  the couatl are
+	some  of the  most beautiful creatures  in existence.  A couatl has
+	the body of  a long serpent and  feathered wings the colour of  the
+	rainbow. Occasionally  sent as  messengers from  the gods to  their
+	erring servants,  a couatl  will always  seek to  punish those  who
+	deserve it.
+		[ 2nd ed. Monstrous Compendium, by TSR, Inc. ]
+	This carnivore is known for its voracious appetite and
+	inflated view of its own intelligence.
+	If you want to know what cram is, I can only say that I don't
+	know the recipe; but it is biscuitish, keeps good indefinitely,
+	is supposed to be sustaining, and is certainly not entertaining,
+	being in fact very uninteresting except as a chewing
+	exercise.  It was made by the Lake-men for long journeys.
+		[ The Hobbit, by J.R.R. Tolkien ]
+		These are the incarnations of The Answer (although nobody
+		knows the question). Eating the dead body of one gives
+		you a short, but insightful glimpse on the answer, thereby
+		greatly increasing your experience in life. However the
+		shock will cause your vision to blur temporarily.
+		:cray: /kray/ n. 1. (properly, capitalized) One of the line of
+		supercomputers designed by Cray Research. 2.Any supercomputer at
+		all.  3. The {canonical} {number-crunching} machine.
+
+		The term is actually the lowercased last name of Seymour Cray, a
+		noted computer architect and co-founder of the company. Numerous
+		vivid legends surround him, some true and some admittedly invented
+		by Cray Research brass to shape their corporate culture and image.
+		[ The Jargon File, version 3.0.0 ]
+	A big animal with the appearance of a lizard, constituting
+	an order of the reptiles (_Loricata_ or _Crocodylia_), the
+	crocodile is a large, dangerous predator native to tropical
+	and subtropical climes.  It spends most of its time in large
+	bodies of water.
+	Croesus (in Greek: Kroisos), the wealthy last king of Lydia;
+	his empire was destroyed when he attacked Cyrus in 549, after
+	the Oracle of Delphi (q.v.) had told him:  "if you attack the
+	Persians, you will destroy a mighty empire".  Herodotus
+	relates of his legendary conversation with Solon of Athens,
+	who impressed upon him that being rich does not imply being
+	happy and that no one should be considered fortunate before
+	his death.
+	Warily Conan scanned his surroundings, all of his senses alert
+	for signs of possible danger.  Off in the distance, he could
+	see the familiar shapes of the Camp of the Duali tribe.
+	Suddenly, the hairs on his neck stand on end as he detects the
+	aura of evil magic in the air.  Without thought, he readies
+	his weapon, and mutters under his breath:
+	"By Crom, there will be blood spilt today."
+
+	[ Conan the Avenger by Robert E. Howard, Bjorn Nyberg, and
+	  L. Sprague de Camp ]
+	"God save thee, ancient Mariner!
+	From the fiends, that plague thee thus! -
+	Why look'st thou so?" - With my cross-bow
+	I shot the Albatross.
+		[ The Rime of the Ancient Mariner, by Samuel Taylor
+		  Coleridge ]
+	You look into one of these and see _vapours swirling like
+	clouds_.  These shortly clear away to show a sort of video
+	without sound of something that is going to happen to you
+	soon.  It is seldom good news.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	"The Thing cannot be described -- there is no language for such
+	abysms of shrieking and immemorial lunacy, such eldritch
+	contradictions of all matter, force, and cosmic order.  A
+	mountain walked or stumbled.  God!... the Thing of the idols,
+	the green, sticky spawn of the stars, had awakened to claim
+	his own.  The stars were right again... great Cthulhu was
+	loose again, and ravening for delight."
+		[ The Call of Cthulhu, by H.P. Lovecraft ]
+	
+	The exact origins of Cthulhu are lost to time, but it is
+	known that in aeons long past a race of space faring
+	beings came to this world and Cthulhu was amongst their
+	number as the high priest who interceded between them
+	and the dark gods they worshipped.  Whether Cthulhu is
+	a long lived individual or a title of office, is not
+	known, but a creature bearing this name lives on,
+	trapped in eternal slumber in the ruins of his great
+	city. 
+	Curses are longstanding ill-wishings which, in Fantasyland,
+	often manifest as semisentient.  They have to be broken or
+	dispelled.  The method varies according to the type and
+	origin of the Curse:
+	[...]
+	4.  Curses on Rings and Swords.  You have problems.  Rings
+	have to be returned whence they came, preferably at over a
+	thousand degrees Fahrenheit, and the Curse means you won't
+	want to do this.  Swords usually resist all attempts to
+	raise their Curses.  Your best source is to hide the Sword
+	or give it to someone you dislike.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	A pack of snow-white, red-eared spectral hounds which
+	sometimes took part in the kidnappings and raids the
+	inhabitants of the underworld sometimes make on this world
+	(the Wild Hunt).  They are associated in Wales with the sounds
+	of migrating wild geese, and are said to be leading the souls
+	of the damned to hell.  The phantom chase is usually heard or
+	seen in midwinter and is accompanied by a howling wind.
+		[ Encyclopedia Mythica, ed. M.F. Lindemans ]
+	And after he had milked his cattle swiftly,
+	he again took hold of two of my men
+	and had them as his supper.
+	Then I went, with a tub of red wine,
+	to stand before the Cyclops, saying:
+	"A drop of wine after all this human meat,
+	so you can taste the delicious wine
+	that is stored in our ship, Cyclops."
+	He took the tub and emptied it.
+	He appreciated the priceless wine that much
+	that he promptly asked me for a second tub.
+	"Give it", he said, "and give me your name as well".
+			...
+	Thrice I filled the tub,
+	and after the wine had clouded his mind,
+	I said to him, in a tone as sweet as honey:
+	"You have asked my name, Cyclops?  Well,
+	my name is very well known.  I'll give it to you,
+	if you give me the gift you promised me as a guest.
+	My name is Nobody.  All call me thus:
+	my father and my mother and my friends."
+	Ruthlessly he answered to this:
+	"Nobody, I will eat you last of all;
+	your host of friends will completely precede you.
+	That will be my present to you, my friend."
+	And after these words he fell down backwards,
+	restrained by the all-restrainer Hupnos.
+	His monstrous neck slid into the dust;
+	the red wine squirted from his throat;
+	the drunk vomited lumps of human flesh.
+		[ The Odyssey, (chapter Epsilon), by Homer ]
+	Is this a dagger which I see before me,
+	The handle toward my hand? Come, let me clutch thee.
+	I have thee not, and yet I see thee still.
+	Art thou not, fatal vision, sensible
+	To feeling as to sight? or art thou but
+	A dagger of the mind, a false creation,
+	Proceeding from the heat-oppressed brain?
+	I see thee yet, in form as palpable
+	As this which now I draw.
+		[ Macbeth, by William Shakespeare ]
+	... But he ruled rather by force and fear, if they might
+	avail; and those who perceived his shadow spreading over the
+	world called him the Dark Lord and named him the Enemy; and
+	he gathered again under his government all the evil things of
+	the days of Morgoth that remained on earth or beneath it,
+	and the Orcs were at his command and multiplied like flies.
+	Thus the Black Years began ...
+		[ The Silmarillion, by J.R.R. Tolkien ]
+	For eighty thousand years Pth'thya-l'yi had lived in Y'ha-nthlei,
+	and thither she had gone back after Obed Marsh was dead. 
+	Y'ha-nthlei was not destroyed when the upper-earth men shot death
+	into the sea.  It was hurt, but not destroyed.  The Deep Ones 
+	could never be destroyed, even though the palaeogean magic of the
+	forgotten Old Ones might sometimes check them.  For the present 
+	they would rest; but some day, if they remembered, they would 
+	rise again for the tribute Great Cthulhu craved.
+		[ The Shadow Over Innsmouth, by H.P. Lovecraft ]
+		"O people waiting in the Shadow of Deep Thought!" he cried  out.
+		"Honoured Descendants of Vroomfondel and Majikthise,the Greatest
+		and Most Truly Interesting Pundits the Universe has  ever  known
+		... The Time of Waiting is over!"
+		[...] 
+		"Seven and a half million years our  race  has waited  for  this
+		Great  and  Hopefully Enlightening Day!" cried the cheer leader.
+		"The Day of the Answer!"
+		[...] 
+		"The time is nearly upon us," said one, and Arthur was surprised
+		to see a word suddenly materialize in thin air just by the man's
+		neck. The word was Loonquawl, and it flashed a couple  of  times
+		and then disappeared again. Before Arthur was able to assimilate
+		this the other man spoke and the word  Phouchg  appeared by  his
+		neck.
+ 
+		"Seventy-five thousand generations ago, our ancestors  set  this
+		program in motion," the second man said,"and in all that time we
+		will be the first to hear the computer speak."
+ 
+		"An awesome prospect, Phouchg," agreed the first man, and Arthur
+		suddenly   realized   that  he  was  watching  a recording  with
+		subtitles.
+ 
+		"We are the ones who will hear," said Phouchg,"the answer to the
+		great question of Life ...!"
+ 
+		"The Universe ...!" said Loonquawl.
+ 
+		"And Everything ...!"
+ 
+		"Shhh," said Loonquawl with  a  slight  gesture, "I  think  Deep
+		Thought is preparing to speak!"
+ 
+		There was a  moment's expectant  pause whilst panels slowly came
+		to life on the front of  the  console. Lights flashed on and off
+		experimentally and settled down into a businesslike  pattern.  A
+		soft low hum came from the communication channel.
+ 
+		"Good morning," said Deep Thought at last.
+ 
+		"Er ... Good morning, O Deep Thought," said Loonquawl nervously,
+		"do you have ... er, that is ..."
+ 
+		"An answer for you?" interrupted Deep Thought majestically."Yes.
+		I have."
+ 
+		The two men shivered with expectancy. Their waiting had not been
+		in vain.
+ 
+		"There really is one?" breathed Phouchg.
+ 
+		"There really is one," confirmed Deep Thought.
+ 
+		"To Everything? To the great Question of Life, the  Universe and
+		Everything?"
+ 
+		"Yes."
+ 
+		Both of the men had been trained for this moment,their lives had
+		been  a  preparation  for it, they had been selected at birth as
+		those who would witness the  answer,  but  even  so  they  found
+		themselves gasping and squirming like excited children.
+ 
+		"And you're ready to give it to us?" urged Loonquawl.
+ 
+		"I am."
+ 
+		"Now?"
+ 
+		"Now," said Deep Thought.
+ 
+		They both licked their dry lips.
+ 
+		"Though I don't think," added Deep Thought,"that you're going to
+		like it."
+ 
+		"Doesn't matter!" said Phouchg. "We must know it! Now!"
+ 
+		"Now?" inquired Deep Thought.
+ 
+		"Yes! Now ..."
+ 
+		"Alright," said the computer and settled into silence again. The
+		two men fidgeted. The tension was unbearable.
+ 
+		"You're really not going to like it," observed Deep Thought.
+ 
+		"Tell us!"
+ 
+		"Alright," said Deep Thought. "The Answer to the  Great Question
+		..."
+ 
+		"Yes ...!"
+ 
+		"Of Life, the Universe and Everything ..." said Deep Thought.
+ 
+		"Yes ...!"
+ 
+		"Is ..." said Deep Thought, and paused.
+ 
+		"Yes ...!"
+ 
+		"Is ..."
+ 
+		"Yes ...!!!...?"
+ 
+		"Forty-two," said Deep Thought, with infinite majesty and calm.
+
+		[ The Hitchhiker's Guide To The Galaxy by Douglas Adams ]
+	Demogorgon, the prince of demons, wallows in filth and can
+	spread a quickly fatal illness to his victims while rending
+	them.  He is a mighty spellcaster, and he can drain the life
+	of mortals with a touch of his tail.
+	It is often very hard to discover what any given Demon looks
+	like, apart from a general impression of large size, huge
+	fangs, staring eyes, many limbs, and an odd color; but all
+	accounts agree that Demons are very powerful, very Magic (in
+	a nonhuman manner), and made of some substance that can squeeze
+	through a keyhole yet not be pierced with a Sword.  This makes
+	them difficult to deal with, even on the rare occasions when
+	they are friendly.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	Devas are the descendants of plane-touched aasimon.  They have
+	feathery wings that may be vestigial or functional.
+	Movanic devas are the most frequently seen by mortals. Their
+	milky skin and slender build distinguishes them from the
+	dark and muscular monadic devas.  The latter are rarely encountered
+	except in the inner planes. It is said they are able to breathe
+	elements other than air.
+		[ adapted from Aasimar, by David Roberts and Brynn ]
+	These Aasimar seldom associate with mortals.  Planetars are
+	hairless and tall, with green-tinted skin and a wild psionic talent.
+		[ adapted from Aasimar, by David Roberts and Brynn ]
+	Solars are near to powers in status, and their children like
+	demipowers.  Their hair and skin is metallic.  Solars stay aloof
+	from mortals, but may command them with an irresistable voice.
+		[ adapted from Aasimar, by David Roberts and Brynn ]
+	A wolflike wild dog, Canis dingo, of Australia, having a
+	reddish- or yellowish-brown coat, believed to have been
+	introduced by the aborigines.
+	[Webster's Encyclopedic Unabridged Dictionary of the English Language]
+	Ask not, what your magic can do to it. Ask what it can do to your magic.
+	Dispater is an arch-devil who rules the city of Dis.  He is
+	a powerful mage.
+	The djinn are genies from the elemental plane of Air.  There,
+	among their kind, they have their own societies.  They are
+	sometimes encountered on earth and may even be summoned here
+	to perform some service for powerful wizards.  The wizards
+	often leave them about for later service, safely tucked away
+	in a flask or lamp.  Once in a while, such a tool is found by
+	a lucky rogue, and some djinn are known to be so grateful
+	when released that they might grant their rescuer a wish.
+	A domestic animal, the _tame dog_ (_Canis familiaris_), of
+	which numerous breeds exist.  The male is called a dog,
+	while the female is called a bitch.  Because of its known
+	loyalty to man and gentleness with children, it is the
+	world's most popular domestic animal.  It can easily be
+	trained to perform various tasks.
+	This evil creature (_canis tenebrous_)  lurks in the darker, more
+	sinister corners of the world. Its bite is known for its chilling
+	effect upon humanoid flesh, and it is not a tameable animal.
+	[ The New Bestiary, Wizard Endlebrook ]
+	This hazy canine  (_canis precipitous_) is  thought to  have a good
+	heart hiding somewhere within its green, silky hide. Unfortunately,
+	the  beast is  usually ravenous,  as its diet  of mist is  not very
+	filling, at least compared to human flesh.
+	[ The New Bestiary, Wizard Endlebrook ]
+	Many travelers have seen the drums of the great apes, and
+	some have heard the sounds of their beating and the noise of
+	the wild, weird revelry of these first lords of the jungle,
+	but Tarzan, Lord Greystoke, is, doubtless, the only human
+	being who ever joined in the fierce, mad, intoxicating revel
+	of the Dum-Dum.
+		[ Tarzan of the Apes, by Edgar Rice Burroughs ]
+	Through me you pass into the city of woe:
+	Through me you pass into eternal pain:
+	Through me among the people lost for aye.
+	Justice the founder of my fabric mov'd:
+	To rear me was the task of power divine,
+	Supremest wisdom, and primeval love.
+	Before me things create were none, save things
+	Eternal, and eternal I endure.
+	All hope abandon ye who enter here.
+		[ The Inferno, from The Divine Comedy of Dante
+			Alighieri, translated by H.F. Cary ]
+	"Then we can only give thanks that this is Antarctica, where
+	there is not one, single, solitary, living thing for it to
+	imitate, except these animals in camp."
+
+	"Us," Blair giggled. "It can imitate us. Dogs can't make four
+	hundred miles to the sea; there's no food. There aren't any
+	skua gulls to imitate at this season. There aren't any
+	penguins this far inland. There's nothing that can reach the
+	sea from this point - except us. We've got brains. We can do
+	it. Don't you see - it's got to imitate us - it's got to be one
+	of us - that's the only way it can fly an airplane - fly a plane
+	for two hours, and rule - be - all Earth's inhabitants. A world
+	for the taking - if it imitates us!
+		[ Who Goes There?, by John W. Campbell ]
+
+ 	Xander: Let go!  I have to kill the demon bot!
+ 	Xander Double (grabbing the gun): Anya, get out of the way.
+ 	Buffy: Xander!
+ 	Xander Double: That's all right, Buffy.  I have him.
+ 	Xander: No, Buffy, I'm me.  Help me!
+ 	Anya: My gun, he's got my gun.
+ 	Riley: You own a gun?
+ 	Buffy: Xander, gun holding Xander, give it to me.
+ 	Anya: Buffy, which one's real?
+ 	Xander: I am.
+ 	Xander Double: No, _I_ am.
+ 	    [ Buffy the Vampire Slayer, Episode 5.03, "The Replacement" ]
+		Note to the real Douglas Adams: should you really ever read
+		this text, please do not get upset about how you and your
+		characters are represented in this work, but rather remember
+		that it was you (yes, *you*) who started all this stuff!
+		"All IMNSHO, constructive comments by e-mail, flame and
+		murder threats to /dev/null, don't bother with flames,
+		I'm fire resistant."
+	In the West the dragon was the natural enemy of man.  Although
+	preferring to live in bleak and desolate regions, whenever it
+	was seen among men it left in its wake a trail of destruction
+	and disease.  Yet any attempt to slay this beast was a perilous
+	undertaking.  For the dragon's assailant had to contend
+	not only with clouds of sulphurous fumes pouring from its fire
+	breathing nostrils, but also with the thrashings of its tail,
+	the most deadly part of its serpent-like body.
+	[ Mythical Beasts by Deirdre Headon (The Leprechaun Library) ]
+
+	"One whom the dragons will speak with," he said, "that is a
+	dragonlord, or at least that is the center of the matter.  It's
+	not a trick of mastering the dragons, as most people think.
+	Dragons have no masters.  The question is always the same, with
+	a dragon:  will he talk to you or will he eat you?  If you can
+	count upon his doing the former, and not doing the latter, why
+	then you're a dragonlord."
+		[ The Tombs of Atuan, by Ursula K. Le Guin ]
+	Dumathoin of the Keeper of Secrets Under the Mountain, the god of
+	mining, discovery, and exploration.  He is called the Silent
+	Keeper, for he never speaks, but may guide his most devoted
+	followers and worshippers through fate and happenstance to the
+	richest veins of ore and the greatest treasures. His symbol is a
+	faceted gem set against a mountainous silhouette.
+	Dwarfs have faces like men (ugly men, with wrinkled, leathery
+	skins), but are generally either flat-footed, duck-footed, or
+	have feet pointing backwards.  They are of the earth, earthy,
+	living in the darkest of caverns and venturing forth only
+	with the cloaks by which they can make themselves invisible,
+	and others disguised as toads.  Miners often come across them,
+	and sometimes establish reasonably close relations with them.
+	... The miners of Cornwall were always delighted to hear a
+	bucca busily mining away, for all dwarfs have an infallible
+	nose for precious metals.
+	Among other things, dwarfs are rightly valued for their skill
+	as blacksmiths and jewellers: they made Odin his famous spear
+	Gungnir, and Thor his hammer; for Freya they designed a
+	magnificent necklace, and for Frey a golden boar.  And in their
+	spare time they are excellent bakers.  Ironically, despite
+	their odd feet, they are particularly fond of dancing.  They
+	can also see into the future, and consequently are excellent
+	meteorologists.  They can be free with presents to people
+	they like, and a dwarvish gift is likely to turn to gold in
+	the hand.  But on the whole they are a snappish lot.
+		[ The Immortals, by Derek and Julia Parker ]
+	In after days, when because of the triumph of Morgoth Elves and
+	Men became estranged, as he most wished, those of the Elven-race
+	that lived still in Middle-earth waned and faded, and Men usurped
+	the sunlight.  Then the Quendi wandered in the lonely places of the
+	great lands and the isles, and took to the moonlight and the
+	starlight, and to the woods and the caves, becoming as shadows
+	and memories, save those who ever and anon set sail into the West
+	and vanished from Middle-earth.  But in the dawn of years Elves
+	and Men were allies and held themselves akin, and there were some
+	among Men that learned the wisdom of the Eldar, and became great
+	and valiant among the captains of the Noldor.  And in the glory
+	and beauty of the Elves, and in their fate, full share had the
+	offspring of elf and mortal, Earendil, and Elwing, and Elrond
+	their child.
+		[ The Silmarillion, by J.R.R. Tolkien ]
+	Mostly Harmless.
+		[ Hitchhiker's Guide to the Galaxy, by Douglas Adams ]
+		"Hi there! This is Eddie your shipboard computer, and I'm feeling
+		just  great  guys,  and  I know I'm just going to get a bundle of
+		kicks out of any programme you care to run through me."
+ 
+		Arthur looked inquiringly at Trillian. She motioned him  to  come
+		on in but keep quiet.
+ 
+		"Computer,"  said  Zaphod,  "tell  us  again  what  our   present
+		trajectory is."
+ 
+		"A real pleasure feller," it burbled, "we are currently in  orbit
+		at an altitude of three hundred miles around the legendary planet
+		of Magrathea."
+ 
+		"Proving nothing," said Ford. "I wouldn't trust that computer  to
+		speak my weight."
+ 
+	"	I can do that for you, sure," enthused  the  computer,  punching
+		out  more  tickertape.  "I  can  even  work  out  you personality
+		problems to ten decimal places if it will help."
+
+			[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
+	The behaviour of eels in fresh water extends the air of
+	mystery surrounding them.  They move freely into muddy, silty
+	bottoms of lakes, lying buried in the daylight hours in summer.
+	[...]  Eels are voracious carnivores, feeding mainly at
+	night and consuming a wide variety of fishes and invertebrate
+	creatures.  Contrary to earlier thinking, eels seek living
+	rather than dead creatures and are not habitual eaters of
+	carrion.
+		[ Freshwater Fishes of Canada, by Scott and Crossman ]
+	But I asked why not keep it and let the hen sit on it till it
+	hatched, and then we could see what would come out of it.
+	"Nothing good, I'm certain of that," Mom said.  "It would
+	probably be something horrible.  But just remember, if it's a
+	crocodile or a dragon or something like that, I won't have it
+	in my house for one minute."
+		[ The Enormous Egg, by Oliver Butterworth ]
+	... Even as they stepped over the threshold a single clear
+	voice rose in song.
+
+		A Elbereth Gilthoniel,
+		silivren penna miriel
+		o menel aglar elenath!
+		Na-chaered palan-diriel
+		o galadhremmin ennorath,
+		Fanuilos, le linnathon
+		nef aear, si nef aearon!
+
+	Frodo halted for a moment, looking back.  Elrond was in his
+	chair and the fire was on his face like summer-light upon the
+	trees.  Near him sat the Lady Arwen.  [...]
+	He stood still enchanted, while the sweet syllables of the
+	elvish song fell like clear jewels of blended word and melody.
+	"It is a song to Elbereth," said Bilbo.  "They will sing that,
+	and other songs of the Blessed Realm, many times tonight.
+	Come on!"
+	   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	South-American fish (_Gymnotus electricus_), living in fresh
+	water.  Shaped like a serpent, it can grow up to 2 metres.
+	This eel is known for its electrical organ which enables it
+	to paralyse creatures up to the size of a horse.
+	   [ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	Elementals are manifestations of the basic nature of the
+	universe.  There are four known forms of elementals:  air, fire,
+	water, and earth.  Some mystics have postulated the necessity
+	for a fifth type, the spirit elemental, but none have ever
+	been encountered, at least on this plane of existence.
+	The Elves sat round the fire upon the grass or upon the sawn
+	rings of old trunks.  Some went to and fro bearing cups and
+	pouring drinks; others brought food on heaped plates and
+	dishes.
+	"This is poor fare," they said to the hobbits; "for we are
+	lodging in the greenwood far from our halls.  If ever you are
+	our guests at home, we will treat you better."
+	"It seems to me good enough for a birthday-party," said Frodo.
+	Pippin afterwards recalled little of either food or drink, for
+	his mind was filled with the light upon the elf-faces, and the
+	sound of voices so various and so beautiful that he felt in a
+	waking dream.  [...]
+	Sam could never describe in words, nor picture clearly to
+	himself, what he felt or thought that night, though it remained
+	in his memory as one of the chief events of his life.  The
+	nearest he ever got was to say: "Well, sir, if I could grow
+	apples like that, I would call myself a gardener.  But it was
+	the singing that went to my heart, if you know what I mean."
+	   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	The Elves next unwrapped and gave to each of the Company the 
+	clothes they had brought.  For each they had provided a hood 
+	and cloak, made according to his size, of the light but warm 
+	silken stuff that the Galadrim wove.  It was hard to say of 
+	what colour they were: grey with the hue of twilight under 
+	the trees they seemed to be; and yet if they were moved, 
+	or set in another light, they were green as shadowed leaves,
+	or brown as fallow fields by night, dusk-silver as water under 
+	the stars.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	'Put off that mask of burning gold
+	With emerald eyes.'
+	'O no, my dear, you make so bold
+	To find if hearts be wild and wise,
+	And yet not cold.'
+
+	'I would but find what's there to find,
+	Love or deceit.'
+	'It was the mask engaged your mind,
+	And after set your heart to beat,
+	Not what's behind.'
+
+	'But lest you are my enemy,
+	I must enquire.'
+	'O no, my dear, let all that be;
+	What matter, so there is but fire
+	In you, in me?'
+		[ The Mask, by W.B. Yeats ]
+	These female-seeming devils named after the Furies of mythology
+	attack hand to hand and poison their unwary victims as well.
+	The two-headed giant, or ettin, is a vicious and unpredictable
+	hunter that stalks by night and eats any meat it can catch.
+	At first only its tip was visible, but then it rose, straight,
+	proud, all that was noble and great and wondrous.  The tip of
+	the blade pointed toward the moon, as if it would cleave it
+	in two.  The blade itself gleamed like a beacon in the night.
+	There was no light source for the sword to be reflecting
+	from, for the moon had darted behind a cloud in fear.  The
+	sword was glowing from the intensity of its strength and
+	power and knowledge that it was justice incarnate, and that
+	after a slumber of uncounted years its time had again come.
+	After the blade broke the surface, the hilt was visible, and
+	holding the sword was a single strong, yet feminine hand,
+	wearing several rings that bore jewels sparkling with the
+	blue-green color of the ocean.
+		[ Knight Life, by Peter David ]
+	There was a time when Rincewind had quite liked the iconoscope.
+	He believed, against all experience, that the world was
+	fundamentally understandable, and that if he could only equip
+	himself with the right mental toolbox he could take the back off
+	and see how it worked.  He was, of course, dead wrong.  The
+	iconoscope didn't take pictures by letting light fall onto
+	specially treated paper, as he had surmised, but by the far
+	simpler method of imprisoning a small demon with a good eye for
+	colour and a speedy hand with a paintbrush.  He had been very
+	upset to find that out.
+		[ The Light Fantastic, by Terry Pratchett ]
+	This is a powerful amulet of ESP.  In addition to its standard
+	powers, it regenerates the energy of anyone who carries
+	it, allowing them to cast spells more often.  It also reduces
+	any spell damage to the person who carries it by half, and
+	protects from magic missiles.  Finally, when invoked it has
+	the power to instantly open a portal to any other area of the
+	dungeon, allowing its invoker to travel quickly between
+	areas.
+	"Yield up enough sacrifices an' savage knick-knacks an' 
+	harbourage in the taown when they wanted it, an' they'd let 
+	well enough alone. Wudn't bother no strangers as might bear
+	tales aoutside - that is, withaout they got pryin'. All in
+	the band of the faithful - Order o' Dagon - an' the children
+	shud never die, but go back to the Mother Hydra an' Father 
+	Dagon what we all come from once ... Ia! Ia! Cthulhu ..."
+		[ The Shadow Over Innsmouth, by H.P. Lovecraft ]
+	This weapon is a development of the scythe or sickle. Set 
+	upon a long pole, the curving blade of a fauchard can be 
+	used for both cutting and thrusting. The weapon offers little 
+	in the way of parrying or catching/holding and has no provision 
+	for dismounting opponents, though it is quite useful for crippling 
+	their mounts.
+	... and finally there is "the Eyes of the Overworld".  This
+	obscure artifact pushes the wearer's view sense into the
+	"overworld" -- another name for a segment of the Astral Plane.
+	Usually, there is nothing to be seen.  However, the wearer
+	is also able to look back and see the area around herself,
+	much like looking on a map.  Why anyone would want to ...
+	Then it appeared in Paris at just about the time that Paris
+	was full of Carlists who had to get out of Spain.  One of
+	them must have brought it with him, but, whoever he was, it's
+	likely he knew nothing about its real value.  It had been --
+	no doubt as a precaution during the Carlist trouble in Spain
+	-- painted or enameled over to look like nothing more than a
+	fairly interesting black statuette.  And in that disguise,
+	sir, it was, you might say, kicked around Paris for seventy
+	years by private owners and dealers too stupid to see what
+	it was under the skin.
+		[ The Maltese Falcon, by Dashiell Hammett ]
+	A swirling cloud of bright, burning motes, the fire vampire
+	descends upon its victim and easily burns them to death once
+	they are in its deadly embrace.
+	Floating eyes, not surprisingly, are large, floating eyeballs
+	which drift about the dungeon.  Though not dangerous in and
+	of themselves, their power to paralyse those who gaze at
+	their large eye in combat is widely feared.  Many are the
+	tales of those who struck a floating eye, were paralysed by
+	its mystic powers, and then nibbled to death by some other
+	creature that lurked around nearby.
+	With an anxiety that almost amounted to agony, I collected
+	the instruments of life around me, that I might infuse a spark
+	of being into the lifeless thing that lay at my feet.  It was
+	already one in the morning; the rain pattered dismally against
+	the panes, and my candle was nearly burnt out, when, by the
+	glimmer of the half-extinguished light, I saw the dull yellow
+	eye of the creature open; it breathed hard, and a convulsive
+	motion agitated its limbs.
+
+	How can I describe my emotions at this catastrophe, or how
+	delineate the wretch whom with such infinite pains and care I
+	had endeavoured to form?  His limbs were in proportion, and I
+	had selected his features as beautiful.  Beautiful!--Great God! 
+	His yellow skin scarcely covered the work of muscles and
+	arteries beneath; his hair was of a lustrous black, and
+	flowing; his teeth of a pearly whiteness; but these luxuriances
+	only formed a more horrid contrast with his watery eyes, that
+	seemed almost of the same colour as the dun white sockets in
+	which they were set, his shrivelled complexion and straight
+	black lips.
+		[ Frankenstein, by Mary Wollstonecraft Shelley ]
+	With this thou canst do mighty deeds
+	And change men's passions for thy needs:
+	A man's despair with joy allay,
+	Turn bachelors old to lovers gay.
+		[ The Magic Flute, by Wolfgang Amadeus Mozart ]
+	The fog comes
+	on little cat feet.
+
+	It sits looking
+	over harbor and city
+	on silent haunches
+	and then moves on.
+		 [ Fog, by Carl Sandburg ]
+		By a curious coincidence,  None  at  all  is  exactly  how  much
+		suspicion  the ape-descendant  Arthur  Dent  had that one of his
+		closest friends was not descended from an ape, but was  in  fact
+		from  a  small planet in the vicinity of Betelgeuse and not from
+		Guildford as he usually claimed.
+ 
+		Arthur Dent had never, ever suspected this.
+ 
+		This friend of his had first arrived on the planet some  fifteen
+		Earth  years previously, and he had worked hard to blend himself
+		into Earth society - with, it must be said,  some  success.  For
+		instance he had spent those fifteen years pretending to be an out
+		of work actor, which was plausible enough.
+ 
+		He had made one careless blunder though,because he had skimped a
+		bit on his preparatory research. The information he had gathered
+		had  led him to  choose the name "Ford Prefect" [sic]  as  being
+		inconspicuous.
+
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
+	Rest! This little Fountain runs
+	Thus for aye: -- It never stays
+	For the look of summer suns,
+	Nor the cold of winter days.
+	Whose'er shall wander near,
+	When the Syrian heat is worst,
+	Let him hither come, nor fear
+	Lest he may not slake his thirst:
+	He will find this little river
+	Running still, as bright as ever.
+	Let him drink, and onward hie,
+	Bearing but in thought, that I,
+	Erotas, bade the Naiad fall,
+	And thank the great god Pan for all!
+		[ For a Fountain, by Bryan Waller Procter ]
+	One hot summer's day a Fox was strolling through an orchard till he
+	came to a bunch of Grapes just ripening on a vine which had been
+	trained over a lofty branch. "Just the thing to quench my thirst,"
+	quoth he. Drawing back a few paces, he took a run and a jump, and
+	just missed the bunch. Turning round again with a One, Two, Three, he
+	jumped up, but with no greater success. Again and again he tried
+	after the tempting morsel, but at last had to give it up, and walked
+	away with his nose in the air, saying: "I am sure they are sour."
+		[ Aesop's Fables ]
+
+	Later on, at the time of wheat harvest, Samson took a young goat
+	and went to visit his wife. He said, "I'm going to my wife's
+	room."  But her father would not let him go in.
+	"I was so sure you thoroughly hated her," he said, "that I gave
+	her to your friend. Isn't her younger sister more attractive? Take
+	her instead."
+	Samson said to them, "This time I have a right to get even with
+	the Philistines; I will really harm them." So he went out and
+	caught three hundred foxes and tied them tail to tail in pairs. He
+	then fastened a torch to every pair of tails, lit the torches and
+	let the foxes loose in the standing grain of the Philistines.
+		[ Judges 15:1-5, NIV ]
+	Fungi, division of simple plants that lack chlorophyll, true
+	stems, roots, and leaves.  Unlike algae, fungi cannot
+	photosynthesize, and live as parasites or saprophytes.  The
+	division comprises the slime molds and true fungi.  True
+	fungi are multicellular (with the exception of yeasts); the
+	body of most true fungi consists of slender cottony
+	filaments, or hyphae.  All fungi are capable of asexual
+	reproduction by cell division, budding, fragmentation, or
+	spores.  Those that reproduce sexually alternate a sexual
+	generation (gametophyte) with a spore-producing one.  The
+	four classes of true fungi are the algaelike fungi (e.g.,
+	black bread mold and downy mildew), sac fungi (e.g., yeasts,
+	powdery mildews, truffles, and blue and green molds such as
+	Penicillium), basidium fungi (e.g., mushrooms and puffballs)
+	and imperfect fungi (e.g., species that cause athlete's foot
+	and ringworm).  Fungi help decompose organic matter (important
+	in soil renewal); are valuable as a source of antibiotics,
+	vitamins, and various chemicals; and for their role in
+	fermentation, e.g., in bread and alcoholic beverage
+	production.
+		[ The Concise Columbia Encyclopedia ]
+	And so it came to pass that while Man ruled on Earth, the
+	gargoyles waited, lurking, hidden from the light.  Reborn
+	every 600 years in Man's reckoning of time, the gargoyles
+	joined battle against Man to gain dominion over the Earth.
+
+	In each coming, the gargoyles were nearly destroyed by Men
+	who flourished in greater numbers.  Now it has been so many
+	hundreds of years that it seems the ancient statues and
+	paintings of gargoyles are just products of Man's
+	imagination.  In this year, with Man's thoughts turned toward
+	the many ills he has brought among himself, Man has forgotten
+	his most ancient adversary, the gargoyles.
+	[ Excerpt from the opening narration to the movie
+		_Gargoyles_, written by Stephen and Elinor Karpf ]
+		Gas spores are a vaguely intelligent fungal growth that has
+	evolved to strongly resemble the Beholder.  If they are struck 
+	with  any amount of force they will explode violently.  Gas spores 
+	tend to grow in groups, and legends have been written about the 
+	destruction caused by foolish adventurers who touched a
+	single one.
+		[ Adapted by Ben Lehman from Monstrous Manual, by TSR, Inc. ]
+	1 November - All day long we have travelled, and at a good
+	speed.  The horses seem to know that they are being kindly
+	treated, for they go willingly their full stage at best
+	speed.  We have now had so many changes and find the same
+	thing so constantly that we are encouraged to think that the
+	journey will be an easy one.  Dr. Van Helsing is laconic, he
+	tells the farmers that he is hurrying to Bistritz, and pays
+	them well to make the exchange of horses.  We get hot soup,
+	or coffee, or tea, and off we go.  It is a lovely country.
+	Full of beauties of all imaginable kinds, and the people are
+	brave, and strong, and simple, and seem full of nice
+	qualities.  They are very, very superstitious.  In the first
+	house where we stopped, when the woman who served us saw the
+	scar on my forehead, she crossed herself and put out two
+	fingers towards me, to keep off the evil eye.  I believe they
+	went to the trouble of putting an extra amount of garlic into
+	our food, and I can't abide garlic.  Ever since then I have
+	taken care not to take off my hat or veil, and so have
+	escaped their suspicions.
+		[ Dracula, by Bram Stoker ]
+	Geryon is an arch-devil sometimes called the Wild Beast,
+	attacking with his claws and poison sting.  His ranking in
+	Hell is rumored to be quite low.
+	And now the souls of the dead who had gone below came swarming
+	up from Erebus -- fresh brides, unmarried youths, old men
+	with life's long suffering behind them, tender young girls
+	still nursing this first anguish in their hearts, and a great
+	throng of warriors killed in battle, their spear-wounds gaping
+	yet and all their armour stained with blood.  From this
+	multitude of souls, as they fluttered to and fro by the
+	trench, there came a moaning that was horrible to hear.
+	Panic drained the blood from my cheeks.
+		 [ The Odyssey, (chapter Lambda), by Homer ]
+	The forces of the gloom know each other, and are strangely
+	balanced by each other.  Teeth and claws fear what they cannot
+	grasp.  Blood-drinking bestiality, voracious appetites, hunger
+	in search of prey, the armed instincts of nails and jaws which
+	have for source and aim the belly, glare and smell out
+	uneasily the impassive spectral forms straying beneath a
+	shroud, erect in its vague and shuddering robe, and which seem
+	to them to live with a dead and terrible life.  These
+	brutalities, which are only matter, entertain a confused fear
+	of having to deal with the immense obscurity condensed into an
+	unknown being.  A black figure barring the way stops the wild
+	beast short.  That which emerges from the cemetery intimidates
+	and disconcerts that which emerges from the cave; the
+	ferocious fear the sinister; wolves recoil when they encounter
+	a ghoul.
+		[ Les Miserables, by Victor Hugo ]
+	Giants have always walked the earth, though they are rare in
+	these times.  They range in size from little over nine feet
+	to a towering twenty feet or more.  The larger ones use huge
+	boulders as weapons, hurling them over large distances.  All
+	types of giants share a love for men - roasted, boiled, or
+	fried.  Their table manners are legendary.
+	[Gila monsters] are stout-bodied lizards with short legs and a short,
+	fat tail. They're covered with bright irregular markings, usually
+	pink, yellow or white, against black or brown scales. They are shy,
+	retiring creatures unless they're provoked. Then they can be
+	dangerous because they secrete a neurotoxin -- a poison that
+	destroys nerve tissue -- from their salivary glands. In humans,
+	their bite can result in severe pain and even death.
+	    [Expedition Guide -- American Museum of Natural History]
+	The people of Komodo call this animal "ora." Elsewhere it is known
+	as the Komodo Island monitor or more popularly, the Komodo dragon.
+	Oras can reach 10 feet in length and weigh 300 pounds or more --
+	particularly after a meal. They are the top predators in their
+	habitat, feeding on wild boar, deer, water buffalo, dogs, goats,
+	rats, snakes, birds, other oras, and -- once in a great while --
+	humans. They hunt by ambush, hiding in the scrub brush along trails
+	and in the tall grass of the savannas. Despite their lumbering
+	appearance, oras can move with alarming speed when they want to,
+	lunging from their hiding places and sprinting toward their
+	startled victims. They can't sustain a long chase, but often all
+	they need to subdue their prey is one bite. Oras carry poisonous
+	bacteria in their mouths so even if they don't immediately catch
+	their prey, the attack is often fatal. Using their long forked
+	tongues (oras and other monitor lizards are closely related to
+	snakes), they track the scent of their prey as the wounded animal
+	slowly weakens from the infected bite -- a process that can take
+	several days. When the victim can no longer flee, the ora moves
+	in for the kill. Oras are voracious eaters. They devour every bit
+	of their prey -- bones, fur, hooves -- ripping off huge chunks with
+	their razor-sharp serrated teeth and swallowing the pieces whole.
+	    [Expedition Guide -- American Museum of Natural History]
+	The glaive is a knife-bladed spear. It has the thrusting 
+	function of the spear, and the secondary cutting function of 
+	the convex blade of the knife. The weapon was rapidly enlarged 
+	in the blade in order to give it a greater cutting function as 
+	well as a cleaving attack. As with a spear or fauchard, however, 
+	it is not overly effective at holding opponents back, nor does 
+	it have the piercing or dismounting capabilities.
+	Far beneath the surface of the earth dwell the Svirfneblin, or Deep
+	Gnomes. Small parties of these demihumans roam the Underdark's mazes
+	of small passageways searching for gemstones. They are said to dwell
+	in great cities consisting of a closely connected series of tunnels,
+	buildings, and caverns in which up to a thousand of these diminutive
+	creatures live. They keep the location of these hidden cities secret
+	in order to protect them from their deadly foes, the kuo-toa, Drow,
+	and mind flayers.
+	Svirfneblin are slightly smaller than rock gnomes, but their thin,
+	wiry, gnarled frames are just as strong. Their skin is rock-colored,
+	usually medium brown to brownish gray, and their eyes are gray. Male
+	svirfneblin are completely bald; female deep gnomes have stringy gray
+	hair. The average svirfneblin life span is 250 years.
+		[ The Underdark, by Mike Drees and Albert Foster ]
+	...  And then a gnome came by, carrying a bundle, an old
+	fellow three times as large as an imp and wearing clothes of
+	a sort, especially a hat.  And he was clearly just as frightened
+	as the imps though he could not go so fast.  Ramon Alonzo
+	saw that there must be some great trouble that was vexing
+	magical things; and, since gnomes speak the language of men, and
+	will answer if spoken to gently, he raised his hat, and asked
+	of the gnome his name.  The gnome did not stop his hasty
+	shuffle a moment as he answered 'Alaraba' and grabbed the rim
+	of his hat but forgot to doff it.
+	'What is the trouble, Alaraba?'  said Ramon Alonzo.
+	'White magic.  Run!'  said the gnome ..
+		 [ The Charwoman's Shadow, by Lord Dunsany ]
+ 
+ 	"Muggles have garden gnomes, too, you know," Harry told Ron as
+ 	they crossed the lawn.
+ 	"Yeah, I've seen those things they think are gnomes," said Ron,
+ 	bent double with his head in a peony bush, "like fat little
+ 	Santa Clauses with fishing rods..."
+ 	There was a violent scuffling noise, the peony bush shuddered,
+ 	and Ron straightened up.  "This is a gnome," he said grimly.
+ 	"Geroff me! Gerroff me!" squealed the gnome.
+ 	It was certainly nothing like Santa Claus.  It was small and
+ 	leathery looking, with a large, knobby, bald head exactly like
+ 	a potato.  Ron held it at arm's length as it kicked out at him
+ 	with its horny little feet; he grasped it around the ankles
+ 	and turned it upside down.
+ 	  [ Harry Potter and the Chamber of Secrets, by J. K. Rowling ]
+	Now goblins are cruel, wicked, and bad-hearted.  They make
+	no beautiful things, but they make many clever ones.  They
+	can tunnel and mine as well as any but the most skilled
+	dwarves, when they take the trouble, though they are usually
+	untidy and dirty.  Hammers, axes, swords, daggers, pickaxes,
+	tongs, and also instruments of torture, they make very well,
+	or get other people to make to their design, prisoners and
+	slaves that have to work till they die for want of air and
+	light.
+		 [ The Hobbit, by J.R.R. Tolkien ]
+	Goddesses and Gods operate in ones, threesomes, or whole
+	pantheons of nine or more (see Religion).  Most of them claim
+	to have made the world, and this is indeed a likely claim in
+	the case of threesomes or pantheons:  Fantasyland does have
+	the air of having been made by a committee.  But all Goddesses
+	and Gods, whether they say they made the world or not, have
+	very detailed short-term plans for it which they are determined
+	to carry out.  Consequently they tend to push people into the
+	required actions by the use of coincidence or Prophecy, or just
+	by narrowing down your available choices of what to do next:
+	if a deity is pushing you, things will go miserably badly until
+	there is only one choice left to you.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	A metal of characteristic yellow colour, the most precious
+	metal used as a common commercial medium of exchange.  Symbol,
+	Au; at. no. 79; at. wt. 197.2.  It is the most malleable
+	and ductile of all metals, and very heavy (sp. gr., 19.3).
+	It is quite unalterable by heat, moisture, and most
+	corrosive agents, and therefore well suited for its use in
+	coin and jewelry.
+		 [ Webster's New International Dictionary
+		  of the English Language, Second Edition ]
+	The bellows he set away from the fire, and gathered all the tools
+	wherewith he wrought into a silver chest; and with a sponge wiped
+	he his face and his two hands withal, and his mighty neck and
+	shaggy breast, and put upon him a tunic, and grasped a stout staff,
+	and went forth halting; but there moved swiftly to support their
+	lord handmaidens wrought of gold in the semblance of living maids.
+	In them is understanding in their hearts, and in them speech and
+	strength, and they know cunning handiwork by gift of the immortal
+	gods.
+		[ The Iliad, by Homer ]
+	"The original story harks back, so they say, to the sixteenth
+	century.  Using long-lost formulas from the Kabbala, a rabbi is
+	said to have made an artificial man -- the so-called Golem -- to
+	help ring the bells in the Synagogue and for all kinds of other
+	menial work.
+	"But he hadn't made a full man, and it was animated by some sort
+	of vegetable half-life.  What life it had, too, so the story
+	runs, was only derived from the magic charm placed behind its
+	teeth each day, that drew down to itself what was known as the
+	`free sidereal strength of the universe.'
+	"One evening, before evening prayers, the rabbi forgot to take
+	the charm out of the Golem's mouth, and it fell into a frenzy.
+	It raged through the dark streets, smashing everything in its
+	path, until the rabbi caught up with it, removed the charm, and
+	destroyed it.  Then the Golem collapsed, lifeless.  All that was
+	left of it was a small clay image, which you can still see in
+	the Old Synagogue." ...
+		[ The Golem, by Gustav Meyrink ]
+	"Who'd care to dig 'em," said the old, old man,
+	"Those six feet marked in chalk?
+	Much I talk, more I walk;
+	Time I were buried," said the old, old man.
+		[ Three Songs to the Same Tune, by W.B. Yeats ]
+	Why had I been wearing Grayswandir?  Would another weapon have
+	affected a Logrus-ghost as strongly?  Had it really been my
+	father, then, who had brought me here?  And had he felt I might
+	need the extra edge his weapon could provide?  I wanted to
+	think so, to believe that he had been more than a Pattern-ghost.
+		[ Knight of Shadows, by Roger Zelazny ]
+	ANOINT, v.t.  To grease a king or other great functionary
+	already sufficiently slippery.
+		[ The Devil's Dictionary, by Ambrose Bierce ]
+	Nymph, nymph, what are your beads?
+		Green glass, goblin. Why do you stare at them?
+	Give them me.
+		No.
+	Give them me. Give them me.
+		No.
+	Then I will howl all night in the reeds,
+	Lie in the mud and howl for them.
+		Goblin, why do you love them so?
+	They are better than stars or water,
+	Better than voices of winds that sing.
+	Better than any man's fair daughter,
+	Your green glass beads on a silver ring.
+		Hush, I stole them out of the moon.
+	Give me your beads, I desire them.
+		No.
+	I will howl in a deep lagoon
+	For your green glass beads, I love them so.
+	Give them me. Give them.
+		No.
+		[ Overheard On A Saltmarsh, by Harold Monro ]
+	The gremlin is a highly intelligent and completely evil
+	creature.  It lives to torment other creatures and will go
+	to great lengths to inflict pain or cause injury.
+
+	Suddenly, Wilson thought about war, about the newspaper
+	stories which recounted the alleged existence of creatures in
+	the sky who plagued the Allied pilots in their duties.  They
+	called them gremlins, he remembered.  Were there, actually,
+	such beings?  Did they, truly, exist up here, never falling,
+	riding on the wind, apparently of bulk and weight, yet
+	impervious to gravity?
+	He was thinking that when the man appeared again.
+		[ Nightmare at 20,000 Feet, by Richard Matheson ]
+	These electronically based creatures are not native to this
+	universe.  They appear to come from a world whose laws of
+	motion are radically different from ours.
+
+	Tron looked to his mate and pilot.  "I'm going to check on
+	the beam connection, Yori.  You two can keep a watch out for
+	grid bugs."  Tron paced forward along the slender catwalk
+	that still seemed awfully insubstantial to Flynn, though he
+	knew it to be amazingly sturdy.  He gazed after Tron, asking
+	himself what in the world a grid bug was, and hoping that the
+	beam connection -- to which he'd given no thought whatsoever
+	until this moment -- was healthy and sound."
+		[ Tron, novel by Brian Daley, story by Steven Lisberger ]
+	"What was that?" cried Buck, rubbing his numb and tingling arm.
+	"Nature's revenge for bug zappers," replied his companion.
+	These foul creatures dwell in the endless darkness of the 
+	Gulf of N'Kai, scavenging the bones of whatever luckless
+	intruders have stumbled into it.  It is suspected that they
+	may be some warped form of ghoul, but few have survived
+	seeing them so information is scarce.
+	Medieval peasants discovered that their pruning hooks made 
+	reasonably effective pole arms. The result: the guisarme. 
+	It is furnished with a sharp cutting edge along its convex 
+	side, with a reverse spike to hook. The spike can be used 
+	to penetrate armor when the weapon is swung, and the curved 
+	hook provides an ample means of pulling horsemen to the ground.
+	The samurai's last meal before battle.  It was usually made
+	up of cooked chestnuts, dried seaweed, and sake.
+	Hachi was a dog that went with his master, a professor, to
+	the Shibuya train station every morning.  In the afternoon,
+	when his master was to return from work Hachi would be there
+	waiting.  One day his master died at the office, and did not
+	return.  For over ten years Hachi returned to the station
+	every afternoon to wait for his master.  When Hachi died a
+	statue was erected on the station platform in his honor.  It
+	is said to bring you luck if you touch his statue.
+	A triangular stringed instrument, often Magic.  Even when not
+	Magic, a Harp is surprisingly portable and tough and can be
+	carried everywhere on the back of the Bard or Harper in all
+	weathers.  A Harp seldom goes out of tune and never warps.
+	Its strings break only in very rare instances, usually
+	because the Harper is sulking or crossed in love.  This is
+	just as well as no one seems to make or sell spare strings.
+		[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+
+	After breakfast was over, the ogre called out: "Wife, wife,
+	bring me my golden harp."  So she brought it and put it on
+	the table before him.  Then he said: "Sing!" and the golden
+	harp sang most beautifully.  And it went on singing till the
+	ogre fell asleep, and commenced to snore like thunder.
+	Then Jack lifted up the copper-lid very quietly and got down
+	like a mouse and crept on hands and knees till he came to the
+	table, when up he crawled, caught hold of the golden harp and
+	dashed with it towards the door.  But the harp called out
+	quite loud: "Master!  Master!" and the ogre woke up just in
+	time to see Jack running off with his harp.
+		[ Jack and the Beanstalk, from English Fairy Tales,
+		  by Joseph Jacobs ]
+	This form of a pole axe is seen as a convex-headed broad axe 
+	in early examples, but the head is set at a convenient angle, 
+	considering the point where the blade is most likely to impact 
+	upon an enemy. This alone makes it quite distinct from an 
+	ordinary long-hafted axe. The whole weapon reaches 8 feet in length, 
+	and is nearly always topped with a long spear point and backed by 
+	a spike, which was often angled or hooked slightly downward. 
+	The spear point is, of course, designed to keep opponents at bay 
+	and deliver a thrusting attack (this proves quite useless when 
+	opposing mounted knights armed with lances). The opposing spike was 
+	for penetration of heavy plate armor, with a secondary function as a 
+	hook for dismounting opponents. 
+	I swear by Apollo the physician, and Aesculapius, and Health,
+	and All-heal, and all the gods and goddesses, that, according
+	to my ability and judgment, I will keep this Oath and this
+	stipulation -- to reckon him who taught me this Art equally dear
+	to me as my parents, to share my substance with him, and relieve
+	his necessities if required; to look upon his offspring in the
+	same footing as my own brothers, and to teach them this art, if
+	they shall wish to learn it, without fee or stipulation; and
+	that by precept, lecture, and every other mode of instruction,
+	I will impart a knowledge of the Art to my own sons, and those
+	of my teachers, and to disciples bound by a stipulation and oath
+	according to the law of medicine, but to none others.  I will
+	follow that system of regimen which, according to my ability and
+	judgment, I consider for the benefit of my patients, and abstain
+	from whatever is deleterious and mischievous.  [...]
+		[ Hippocrates' Oath, translated by Francis Adams ]
+
+	PHYSICIAN, n.  One upon whom we set our hopes when ill and our
+	dogs when well.
+		[ The Devil's Dictionary, by Ambrose Bierce ]
+	The other three drew in their breath sharply, and the dark,
+	powerful man who stood at the head of the sarcophagus whispered:
+	"The Heart of Ahriman!"  The other lifted a quick hand
+	for silence.  Somewhere a dog began howling dolefully, and a
+	stealthy step padded outside the barred and bolted door. ...
+	But none looked aside from the mummy case over which the man
+	in the ermine-trimmed robe was now moving the great flaming
+	jewel, while he muttered an incantation that was old when
+	Atlantis sank.  The glare of the gem dazzled their eyes, so
+	that they could not be sure what they saw; but with a
+	splintering crash, the carven lid of the sarcophagus burst
+	outward as if from some irresistible pressure applied from
+	within and the four men, bending eagerly forward, saw the
+	occupant -- a huddled, withered, wizened shape, with dried
+	brown limbs like dead wood showing through moldering bandages.
+	"Bring that thing back?" muttered the small dark man who
+	stood on the right, with a short, sardonic laugh.  "It is
+	ready to crumble at a touch.  We are fools ---"
+		[ Conan The Conqueror, by Robert E. Howard ]
+	Hell hounds are fire-breathing canines from another plane of
+	existence brought here in the service of evil beings.  A hell
+	hound resembles a large hound with rust-red or red-brown fur,
+	and red, glowing eyes.  The markings, teeth, and tongue are
+	soot black.  It stands two to three feet high at the shoulder
+	and has a distinct odour of smoke and sulphur.  The baying
+	sounds it makes have an eerie, hollow tone that sends a shiver
+	through any who hear them.
+	Messenger and herald of the Olympians.  Being required to do
+	a great deal of travelling and speaking in public, he became
+	the god of eloquence, travellers, merchants, and thieves.  He
+	was one of the most energetic of the Greek gods, a
+	Machiavellian character full of trickery and sexual vigour.
+	Like other Greek gods, he is endowed with not-inconsiderable
+	sexual prowess which he directs towards countryside nymphs.
+	He is a god of boundaries, guardian of graves and patron deity
+	of shepherds.  He is usually depicted as a handsome young
+	man wearing winged golden sandals and holding a magical
+	herald's staff consisting of intertwined serpents, the
+	kerykeion.  He is reputedly the only being able to find his way
+	to the underworld ferry of Charon and back again.  He is said
+	to have invented, among other things, the lyre, Pan's Pipes,
+	numbers, the alphabet, weights and measures, and sacrificing.
+	"Hezrou" is the common name for the type II demon.  It is
+	among the weaker of demons, but still quite formidable.
+		:heisenbug:
+		/hi:'zen-buhg/ [from Heisenberg's Uncertainty
+		Principle in quantum physics] n. A bug that disappears or alters
+		its behavior when one attempts to probe or isolate it.(This usage
+		is not even particularly fanciful; the use of a debugger sometimes
+		alters a program's operating environment significantly enough
+		that buggy code, such as that which relies on the values of
+		uninitialized memory, behaves quite differently.)  Antonym of
+		{Bohr bug}; see also {mandelbug}, {schroedinbug}.  In C,
+		nine out of ten heisenbugs result from uninitialized auto
+ 		variables, {fandango on core} phenomena (esp. lossage related
+		to corruption of the malloc {arena}) or errors that {smash
+		the stack}.
+		[ The Jargon File, version 3.0.0 ]
+	Greek physician, recognized as the father of medicine.  He
+	is believed to have been born on the island of Cos, to have
+	studied under his father, a physician, to have traveled for
+	some time, perhaps studying in Athens, and to have then
+	returned to practice, teach, and write at Cos.  The
+	Hippocratic or Coan school that formed around him was of
+	enormous importance in separating medicine from superstition
+	and philosophic speculation, placing it on a strictly
+	scientific plane based on objective observation and critical
+	deductive reasoning.
+		[ The Columbia Encyclopedia, Sixth Edition ]
+	Hobbits are an unobtrusive but very ancient people, more
+	numerous formerly than they are today; for they love peace
+	and quiet and good tilled earth:  a well-ordered and well-
+	farmed countryside was their favourite haunt.  They do not
+	and did not understand or like machines more complicated
+	than a forge-bellows, a water-mill, or a handloom, although
+	they were skillful with tools.  Even in ancient days they
+	were, as a rule, shy of "the Big Folk", as they call us, and
+	now they avoid us with dismay and are becoming hard to find.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Hobgoblin.  Used by the Puritans and in later times for
+	wicked goblin spirits, as in Bunyan's "Hobgoblin nor foul
+	friend", but its more correct use is for the friendly spirits
+	of the brownie type.  In "A midsummer night's dream" a
+	fairy says to Shakespeare's Puck:
+		Those that Hobgoblin call you, and sweet Puck,
+		You do their work, and they shall have good luck:
+		Are you not he?
+	and obviously Puck would not wish to be called a hobgoblin
+	if that was an ill-omened word.
+	Hobgoblins are on the whole, good-humoured and ready to be
+	helpful, but fond of practical joking, and like most of the
+	fairies rather nasty people to annoy.  Boggarts hover on the
+	verge of hobgoblindom.  Bogles are just over the edge.
+	One Hob mentioned by Henderson, was Hob Headless who haunted
+	the road between Hurworth and Neasham, but could not cross
+	the little river Kent, which flowed into the Tess.  He was
+	exorcised and laid under a large stone by the roadside for
+	ninety-nine years and a day.  If anyone was so unwary as to
+	sit on that stone, he would be unable to quit it for ever.
+	The ninety-nine years is nearly up, so trouble may soon be
+	heard of on the road between Hurworth and Neasham.
+		[ A Dictionary of Fairies, by Katharine Briggs ]
+	"We want a word with you," said Ligur (in a tone of voice
+	intended to imply that "word" was synonymous with "horrifically
+	painful eternity"), and the squat demon pushed open the office
+	door.
+	The bucket teetered, then fell neatly on Ligur's head.
+	Drop a lump of sodium in water.  Watch it flame and burn and
+	spin around crazily, flaring and sputtering.  This was like
+	that, just nastier.
+	The demon peeled and flared and flickered.  Oily brown smoke
+	oozed from it, and it screamed and it screamed and it screamed.
+	Then it crumpled, folded in on itself, and what was left lay
+	glistening on the burnt and blackened circle of carpet, looking
+	like a handful of mashed slugs.
+	"Hi," said Crowley to Hastur, who had been walking behind Ligur,
+	and had unfortunately not been so much as splashed.
+	There are some things that are unthinkable; there are some
+	depths that not even demons would believe other demons would
+	stoop to.
+	". . . Holy water.  You bastard," said Hastur.  "You complete
+	_bastard_.  He hadn't never done nothing to _you_."
+	"Yet," corrected Crowley.
+		[ Good Omens, by Neil Gaiman and Terry Pratchett ]
+	A homunculus is a creature summoned by a mage to perform some
+	particular task.  They are particularly good at spying.  They
+	are smallish creatures, but very agile.  They can put their
+	victims to sleep with a venomous bite, but due to their size,
+	the effect does not last long on humans.
+
+	"Tothapis cut him off.  'Be still and hearken.  You will travel
+	aboard the sacred wingboat.  Of it you may not have heard; but
+	it will bear you thither in a night and a day and a night.
+	With you will go a homunculus that can relay your words to me,
+	and mine to you, across the leagues between at the speed of
+	thought.'"
+		[ Conan the Rebel, by Poul Anderson ]
+	But as for Queequeg -- why, Queequeg sat there among them --
+	at the head of the table, too, it so chanced; as cool as an
+	icicle.  To be sure I cannot say much for his breeding.  His
+	greatest admirer could not have cordially justified his
+	bringing his harpoon into breakfast with him, and using it
+	there without ceremony; reaching over the table with it, to
+	the imminent jeopardy of many heads, and grappling the
+	beefsteaks towards him.
+		[ Moby Dick, by Herman Melville ]
+	Roland hath set the Olifant to his mouth,
+	He grasps it well, and with great virtue sounds.
+	High are those peaks, afar it rings and loud,
+	Thirty great leagues they hear its echoes mount.
+	So Charles heard, and all his comrades round;
+	Then said that King: "Battle they do, our counts!"
+	And Guenelun answered, contrarious:
+	"That were a lie, in any other mouth."
+		[ The Song of Roland ]
+	Horned devils lack any real special abilities, though they
+	are quite difficult to kill.
+	King Richard III: A horse! a horse! my kingdom for a horse!
+	Catesby: Withdraw, my lord; I'll help you to a horse.
+	King Richard III: Slave, I have set my life upon a cast,
+			  And I will stand the hazard of the die:
+			  I think there be six Richmonds in the field;
+			  Five have I slain to-day instead of him.
+			  A horse! a horse! my kingdom for a horse!
+		[ King Richard III, by William Shakespeare ]
+	[Pestilence:] And I saw when the Lamb opened one of the seals,
+	and I heard, as it were the noise of thunder, one of the four
+	beasts saying, Come and see.  And I saw, and behold a white
+	horse: and he that sat on him had a bow; and a crown was given
+	unto him: and he went forth conquering, and to conquer.
+
+	[War:] And when he had opened the second seal, I heard the
+	second beast say, Come and see.  And there went out another
+	horse that was red: and power was given to him that sat thereon
+	to take peace from the earth, and that they should kill one
+	another: and there was given unto him a great sword.
+
+	[Famine:] And when he had opened the third seal, I heard the
+	third beast say, Come and see.  And I beheld, and lo a black
+	horse; and he that sat on him had a pair of balances in his
+	hand.  And I heard a voice in the midst of the four beasts say,
+	A measure of wheat for a penny, and three measures of barley
+	for a penny; and see thou hurt not the oil and the wine.
+
+	[Death:] And when he had opened the fourth seal, I heard the
+	voice of the fourth beast say, Come and see.  And I looked, and
+	behold a pale horse: and his name that sat on him was Death,
+	and Hell followed with him.  And power was given unto them over
+	the fourth part of the earth, to kill with sword, and with
+	hunger, and with death, and with the beasts of the earth.
+		 [ Revelations of John, 6:1-8 ]
+	The first of five mythical Chinese emperors, Huan Ti is known
+	as the yellow emperor.  He rules the _moving_ heavens, as
+	opposed to the _dark_ heavens.  He is an inventor, said to
+	have given mankind among other things, the wheel, armour, and
+	the compass.  He is the god of fortune telling and war.
+	Huehuetotl, or Huhetotl, which means Old God, was the Aztec
+	(classical Mesoamerican) god of fire.  He is generally
+	associated with paternalism and one of the group classed
+	as the Xiuhtecuhtli complex.  He is known to send his
+	minions to wreak havoc upon ordinary humans.
+		 [ after the Encyclopedia of Gods, by Michael Jordan ]
+	Humanoids are all approximately the size of a human, and may
+	be mistaken for one at a distance.  They are usually of a
+	tribal nature, and will fiercely defend their lairs.  Usually
+	hostile, they may even band together to raid and pillage
+	human settlements.
+	These strange creatures live mostly on the surface of the
+	earth, gathering together in societies of various forms, but
+	occasionally a stray will descend into the depths and commit
+	mayhem among the dungeon residents who, naturally, often
+	resent the intrusion of such beasts.  They are capable of
+	using weapons and magic, and it is even rumored that the
+	Wizard of Yendor is a member of this species.
+	What of the hunting, hunter bold?
+	Brother, the watch was long and cold.
+	What of the quarry ye went to kill?
+	Brother, he crops in the jungle still.
+	Where is the power that made your pride?
+	Brother, it ebbs from my flank and side.
+	Where is the haste that ye hurry by?
+	Brother, I go to my lair to die.
+		[ The Jungle Book, by Rudyard Kipling ]
+	Ice devils are large semi-insectoid creatures, who are
+	equally at home in the fires of Hell and the cold of Limbo,
+	and who can cause the traveller to feel the latter with just
+	a touch of their tail.
+	Found mainly near the frozen wastes of the north, the Ice Mages
+	are a mysterious group of individuals who are rumored to be 
+	descendants of a once great northern civilization that fell into 
+	chaos over a thousand years ago.  
+	They wield the power of elemental cold, a conglomeration of elemental 
+	air and water.  They are particularly effective fighting fire-based 
+	creatures. Although they command of two of the four elements, Ice Mages 
+	have difficulty affecting undead, who are immune to cold.
+		[ by Drew Curtis ]
+	 ... imps ... little creatures of two feet high that could
+	gambol and jump prodigiously; ...
+		[ The Charwoman's Shadow, by Lord Dunsany ]
+
+	An 'imp' is an off-shoot or cutting.  Thus an 'ymp tree' was
+	a grafted tree, or one grown from a cutting, not from seed.
+	'Imp' properly means a small devil, an off-shoot of Satan,
+	but the distinction between goblins or bogles and imps from
+	hell is hard to make, and many in the Celtic countries as
+	well as the English Puritans regarded all fairies as devils.
+	The fairies of tradition often hover uneasily between the
+	ghostly and the diabolic state.
+		[ A Dictionary of Fairies, by Katharine Briggs ]
+	The incubus and succubus are male and female versions of the
+	same demon, one who lies with a human for its own purposes,
+	usually to the detriment of the mortals who are unwise in
+	their dealings with them.
+	"You are fettered, " said Scrooge, trembling.  "Tell me why?"
+	"I wear the chain I forged in life," replied the Ghost.  "I
+	made it link by link, and yard by yard; I girded it on of my
+	own free will, and of my own free will I wore it.  Is its
+	pattern strange to you?"
+	Scrooge trembled more and more.
+	"Or would you know," pursued the Ghost, "the weight and
+	length of the strong coil you bear yourself?  It was full as
+	heavy and as long as this, seven Christmas Eves ago.  You
+	have laboured on it, since.  It is a ponderous chain!"
+		[ A Christmas Carol, by Charles Dickens ]
+	Ishtar (the star of heaven) is the Mesopotamian goddess of
+	fertility and war.  She is usually depicted with wings and
+	weapon cases at her shoulders, carrying a ceremonial double-
+	headed mace-scimitar embellished with lion heads, frequently
+	being accompanied by a lion.  She is symbolized by an eight-
+	pointed star.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Now Issek of the Jug, whom Fafhrd chose to serve, was once
+	of the most lowly and unsuccessful of the gods, godlets
+	rather, in Lankhmar.  He had dwelt there for about thirteen
+	years, during which time he had traveled only two squares up
+	the Street of the Gods and was now back again, ready for
+	oblivion.  He is not to be confused with Issek the Armless,
+	Issek of the Burnt Legs, Flayed Issek, or any other of the
+	numerous and colorfully mutilated divinities of that name.
+	Indeed, his unpopularity may have been due in part to the
+	fact that the manner of his death -- racking -- was not
+	deemed particularly spectacular. ... However, after Fafhrd
+	became his acolyte, things somehow began to change.
+		[ Swords In The Mist, by Fritz Leiber ]
+	The shopkeeper of the lighting shop in the town level of the
+	gnomish mines is a tribute to Izchak Miller, a founding member
+	of the NetHack development team and a personal friend of a large
+	number of us.  Izchak contributed greatly to the game, coding a
+	large amount of the shopkeep logic (hence the nature of the tribute)
+	as well as a good part of the alignment system, the prayer code and
+	the rewrite of "hell" in the 3.1 release.  Izchak was a professor
+	of Philosophy, who taught at many respected institutions, including
+	MIT and Stanford, and who also worked, for a period of time, at
+	Xerox PARC.  Izchak was the first "librarian" of the NetHack project,
+	and was a founding member of the DevTeam, joining in 1986 while he
+	was working at the University of Pennsylvania (hence our former
+	mailing list address).  Until the 3.1.3 release, Izchak carefully
+	kept all of the code synchronized and arbitrated disputes between
+	members of the development teams.  Izchak Miller passed away at the
+	age of 58, in the early morning hours of April 1, 1994 from
+	complications due to cancer.  We then dedicated NetHack 3.2 in his
+	memory.
+			[ Mike Stephenson, for the NetHack DevTeam ]
+	"Beware the Jabberwock, my son!
+	  The jaws that bite, the claws that catch!
+	Beware the Jubjub bird, and shun
+	  The frumious Bandersnatch!"
+
+	He took his vorpal sword in hand;
+	  Long time the manxome foe he sought --
+	So rested he by the Tumtum tree,
+	  And stood awhile in thought.
+
+	And, as in uffish thought he stood,
+	  The Jabberwock, with eyes of flame,
+	Came whiffling through the tulgey wood,
+	  And burbled as it came!
+
+	One, two! One, two! And through and through
+	  The vorpal blade went snicker-snack!
+	He left it dead, and with its head
+	  He went galumphing back.
+				[ Jabberwocky, by Lewis Carroll ]
+	In Asiatic folktale, jackal provides for the lion; he scares
+	up game, which the lion kills and eats, and receives what is
+	left as reward.  In stories from northern India he is
+	sometimes termed "minister to the king," i.e. to the lion.
+	From the legend that he does not kill his own food has arisen
+	the legend of his cowardice.  Jackal's heart must never be
+	eaten, for instance, in the belief of peoples indigenous to
+	the regions where the jackal abounds. ... In Hausa Negro
+	folktale Jackal plays the role of sagacious judge and is
+	called "O Learned One of the Forest."  The Bushmen say that
+	Jackal goes around behaving the way he does "because he is
+	Jackal".
+		[ Funk & Wagnalls Standard Dictionary of Folklore ]
+	Nothing grew among the ruins of the city.  The streets were
+	broken and the walls of the houses had fallen, but there were
+	no weeds flowering in the cracks and it seemed that the city
+	had but recently been brought down by an earthquake.  Only
+	one thing still stood intact, towering over the ruins.  It
+	was a gigantic statue of white, gray and green jade - the
+	statue of a naked youth with a face of almost feminine beauty
+	that turned sightless eyes toward the north.
+	"The eyes!" Duke Avan Astran said.  "They're gone!"
+		[ The Jade Man's Eyes, by Michael Moorcock ]
+	Large, flesh-eating animal of the cat family, of Central and
+	South America.  This feline predator (_Panthera onca_) is
+	sometimes incorrectly called a panther.
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	I do not care to share the seas
+	With jellyfishes such as these;
+	Particularly Portuguese.
+		[ Lines on Meeting a Portuguese Man-o'-war while
+			Bathing, by Michael Flanders ]
+	Little is known about the Faceless Lord, even the correct
+	spelling of his name.  He does not have a physical form as
+	we know it, and those who have peered into his realm claim
+	he is a slime-like creature who swallows other creatures
+	alive, spits acidic secretions, and causes disease in his
+	victims which can be almost instantly fatal.
+	The kabuto is the helmet worn by the samurai.  It was
+	characterized by a prominent beaked front which jutted out over
+	the brow to protect the wearer's face; a feature that gives
+	rise to their modern Japanese name of 'shokaku tsuki kabuto'
+	(battering-ram helmet).  Their main constructional element
+	was an oval plate, the shokaku bo, slightly domed for the
+	head with a narrow prolongation in front that curved forwards
+	and downwards where it developed a pronounced central
+	fold.  Two horizontal strips encircling the head were riveted
+	to this frontal strip:  the lower one, the koshimaki (hip
+	wrap), formed the lower edge of the helmet bowl; the other,
+	the do maki (body wrap), was set at about the level of the
+	temples.  Filling the gaps between these strips and the shokaku
+	bo were small plates, sometimes triangular but more commonly
+	rectangular in shape.  Because the front projected so
+	far from the head, the triangular gap beneath was filled by
+	a small plate, the shoshaku tei ita, whose rear edge bent
+	downwards into a flange that rested against the forehead.
+	   [ Arms & Armour of the Samurai, by Bottomley & Hopson ]
+	The kamadan is a greatly feared hunter that resembles a large
+	leopard with six snakes sprouting from its shoulders.
+	Sages believe it is a distant relative of the displacer beast,
+	though how it came to be is still a matter for speculation.
+	    [ Creature Catalog by Scott Greene ]
+	The katana is a long, single-edged samurai sword with a
+	slightly curved blade.  Its long handle is designed to allow
+	it to be wielded with either one or two hands.
+	The ki-rin is a strange-looking flying creature.  It has
+	scales, a mane like a lion, a tail, hooves, and a horn.  It
+	is brightly colored, and can usually be found flying in the
+	sky looking for good deeds to reward.
+	Ector took both his sons to the church before which the
+	anvil had been placed.  There, standing before the anvil, he
+	commanded Kay:  "Put the sword back into the steel if you
+	really think the throne is yours!"  But the sword glanced
+	off the steel.  "Now it is your turn", Ector said facing
+	Arthur.
+	The young man lifted the sword and thrust with both arms; the
+	blade whizzed through the air with a flash and drilled the
+	metal as if it were mere butter.  Ector and Kay dropped to
+	their knees before Arthur.
+	"Why, father and brother, do you bow before me?", Arthur asked
+	with wonder in his voice.
+	"Because now I know for sure that you are the king, not only
+	by birth but also by law", Ector said.  "You are no son of
+	mine nor are you Kay's brother.  Immediately after your birth,
+	Merlin the Wise brought you to me to be raised safely.  And
+	though it was me that named you Arthur when you were baptized,
+	you are really the son of brave king Uther Pendragon and queen
+	Igraine..."
+	And after these words, the lord rose and went to see the arch-
+	bishop to impart to him what had passed.
+		[ Van Gouden Tijden Zingen de Harpen, by Vladimir Hulpach,
+			Emanuel Frynta, and Vackav Cibula ]
+	Possibly perceiving an expression of dubiosity on their
+	faces, the globetrotter went on adhering to his adventures.
+
+	-- And I seen a man killed in Trieste by an Italian chap.
+	Knife in his back.  Knife like that.
+
+	Whilst speaking he produced a dangerous looking clasp knife,
+	quite in keeping with his character, and held it in the
+	striking position.
+
+	-- In a knockingshop it was count of a tryon between two
+	smugglers.  Fellow hid behind a door, come up behind him.
+	Like that.  Prepare to meet your God, says he.  Chuck!  It
+	went into his back up to the butt.
+		[ Ulysses, by James Joyce ]
+	Here lies the noble fearless knight,
+	Whose valour rose to such a height;
+	When Death at last had struck him down,
+	His was the victory and renown.
+	He reck'd the world of little prize,
+	And was a bugbear in men's eyes;
+	But had the fortune in his age
+	To live a fool and die a sage.
+		[ Don Quixote of La Mancha by Miquel de
+			Cervantes Saavedra ]
+	The race of kobolds are reputed to be an artificial creation
+	of a master wizard (demi-god?).  They are about 3' tall with
+	a vaguely dog-like face.  They bear a violent dislike of the
+	Elven race, and will go out of their way to cause trouble
+	for Elves at any time.
+	The Kops are a brilliant concept.  To take a gaggle of inept
+	policemen and display them over and over again in a series of
+	riotously funny physical punishments plays equally well to the
+	peanut gallery and the expensive box seats.  People hate cops.
+	Even people who have never had anything to do with cops hate
+	them.  Of course, we count on them to keep order and to protect
+	us when we need protecting, and we love them on television shows
+	in which they have nerves of steel and hearts of gold, but in
+	the abstract, as a nation, collectively we hate them.  They are
+	too much like high school principals.  We're very happy to see
+	their pants fall down, and they look good to us with pie on
+	their faces.  The Keystone Kops turn up--and they get punished
+	for it, as they crash into each other, fall down, and suffer
+	indignity after indignity.  Here is pure movie satisfaction.
+
+	The Kops are very skillfully presented.  The comic originality
+	and timing in one of their chase scenes requires imagination
+	to think up, talent to execute, understanding of the medium,
+	and, of course, raw courage to perform.  The Kops are madmen
+	presented as incompetents, and they're madmen rushing around
+	in modern machines.  What's more, the machines they were operating
+	in their routines were newly invented and not yet experienced
+	by the average moviegoer.  (In the early days of automobiles,
+	it was reported that there were only two cars registered in all
+	of Kansas City, and they ran into each other.  There is both
+	poetry and philosophy in this fact, but most of all, there is
+	humor.  Sennett got the humor.)
+		[ Silent Stars, by Jeanine Basinger ]
+	"I am not a coward!" he cried.  "I'll dare Thieves' House
+	and fetch you Krovas' head and toss it with blood a-drip at
+	Vlana's feet.  I swear that, witness me, Kos the god of
+	dooms, by the brown bones of Nalgron my father and by his
+	sword Graywand here at my side!"
+	   [ Swords and Deviltry, by Fritz Leiber ]
+	A Japanese harp.
+	Out from the water a long sinuous tentacle had crawled; it
+	was pale-green and luminous and wet.  Its fingered end had
+	hold of Frodo's foot, and was dragging him into the water.
+	Sam on his knees was now slashing at it with a knife.  The
+	arm let go of Frodo, and Sam pulled him away, crying out
+	for help.  Twenty other arms came rippling out.  The dark
+	water boiled, and there was a hideous stench.
+	   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Blind Io took up the dice-box, which was a skull whose various
+	orifices had been stoppered with rubies, and with several of
+	his eyes on the Lady he rolled three fives.  She smiled.  This
+	was the nature of the Lady's eyes:  they were bright green,
+	lacking iris or pupil, and they glowed from within.
+
+	The room was silent as she scrabbled in her box of pieces and,
+	from the very bottom, produced a couple that she set down on
+	the board with two decisive clicks.  The rest of the players,
+	as one God, craned forward to peer at them.
+
+	"A wenegade wiffard and fome fort of clerk," said Offler the
+	Crocodile God, hindered as usual by his tusks.  "Well,
+	weally!"  With one claw he pushed a pile of bone-white tokens
+	into the centre of the table.
+
+	The Lady nodded slightly.  She picked up the dice-cup and held
+	it as steady as a rock, yet all the Gods could hear the three
+	cubes rattling about inside.  And then she sent them bouncing
+	across the table.
+
+		A six.  A three.  A five.
+
+	Something was happening to the five, however.  Battered by the
+	chance collision of several billion molecules, the die flipped
+	onto a point, spun gently and came down a seven.  Blind Io
+	picked up the cube and counted the sides.
+
+		"Come _on_," he said wearily, "Play fair."
+		[ The Colour of Magic, by Terry Pratchett ]
+	When he came to himself he told his mother what had passed,
+	and showed her the lamp and the fruits he had gathered in the
+	garden, which were in reality precious stones.  He then asked
+	for some food.
+
+	"Alas! child," she said, "I have nothing in the house, but I
+	have spun a little cotton and will go and sell it."
+
+	Aladdin bade her keep her cotton, for he would sell the lamp
+	instead.  As it was very dirty she began to rub it, that it
+	might fetch a higher price.  Instantly a hideous genie
+	appeared, and asked what she would have.  She fainted away,
+	but Aladdin, snatching the lamp, said boldly:
+	"Fetch me something to eat!"
+		[ Aladdin, from The Arabian Nights, by Andrew Lang ]
+	With this the wind increased, and the mill sails began to turn 
+	about; which Don Quixote espying, said, 'Although thou movest
+	more arms than the giant Briareus thou shalt stoop to me.'
+	And, after saying this, and commending himself most devoutly
+	to his Lady Dulcinea, desiring her to succor him in that trance,
+	covering himself well with his buckler, and setting his lance
+	on his rest, he spurred on Rozinante, and encountered with the
+	first mill that was before him, and, striking his lance into
+	the sail, the wind swung it about with such fury, that it broke
+	his lance into shivers, carrying him and his horse after it,
+	and finally tumbled him a good way off from it on the field in 
+	evil plight.
+		[ Don Quixote of La Mancha by Miquel de
+		  Cervantes Saavedra ]
+	They had splendid heads, fine shoulders, strong legs, and
+	straight tails.  The spots on their bodies were jet-black and
+	mostly the size of a two-shilling piece; they had smaller
+	spots on their heads, legs, and tails.  Their noses and eye-
+	rims were black.  Missis had a most winning expression.
+	Pongo, though a dog born to command, had a twinkle in his
+	eye.  They walked side by side with great dignity, only
+	putting the Dearlys on the leash to lead them over crossings.
+		[ The Hundred and One Dalmatians, by Dodie Smith ]
+	In the morning, as they were beginning to pack their slender
+	goods, Elves that could speak their tongue came to them and
+	brought them many gifts of food and clothing for their
+	journey.  The food was mostly in the form of very thin cakes,
+	made of a meal that was baked a light brown on the outside,
+	and inside was the colour of cream.  Gimli took up one of the
+	cakes and looked at it with a doubtful eye.
+	'Cram,' he said under his breath, as he broke off a crisp
+	corner and nibbled at it.  His expression quickly changed,
+	and he ate all the rest of the cake with relish.
+	'No more, no more!' cried the Elves laughing.  'You have
+	eaten enough already for a long day's march.'
+	'I thought it was only a kind of cram, such as the Dalemen
+	make for journeys in the wild,' said the Dwarf.
+	'So it is,' they answered.  'But we call it lembas or
+	waybread, and it is more strengthening than any foods made by
+	Men, and it is more pleasant than cram, by all accounts.'
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+		In the morning, as they were beginning to pack their slender goods,
+	Elves that could speak their tongue came to them and brought them many
+	gifts of food and clothing for their journey.  The food was mostly in
+	the form of very thin cakes, made of a meal that was baked a light brown
+	on the outside, and inside was the colour of cream.  Gimli took up one
+	of the cakes and looked at it with a doubtful eye.
+		'Cram,' he said under his breath, as he broke off a crisp corner and
+	nibbled at it.  His expression quickly changed, and he ate all the rest
+	of the cake with relish.
+		'No more, no more!' cried the Elves laughing.  'You have eaten enough
+	already for a long day's march.'
+		'I thought it was only a kind of cram, such as the Dalemen make for
+	journeys in the wild,' said the Dwarf.
+		'So it is,' they answered.  'But we call it lembas or waybread, and it
+	is more strengthening than any foods made by Men, and it is more
+	pleasant than cram, by all accounts.'
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	The lowliest of the inhabitants of hell.
+	... the leucrocotta, a wild beast of extraordinary swiftness,
+	the size of the wild ass, with the legs of a Stag, the neck,
+	tail, and breast of a lion, the head of a badger, a cloven
+	hoof, the mouth slit up as far as the ears, and one continuous
+	bone instead of teeth; it is said, too, that this animal can
+	imitate the human voice.
+		[ Curious Creatures in Zoology, by John Ashton ]
+	The Irish Leprechaun is the Faeries' shoemaker and is known
+	under various names in different parts of Ireland:
+	Cluricaune in Cork, Lurican in Kerry, Lurikeen in Kildare
+	and Lurigadaun in Tipperary.  Although he works for the
+	Faeries, the Leprechaun is not of the same species.  He is
+	small, has dark skin and wears strange clothes.  His nature
+	has something of the manic-depressive about it:  first he
+	is quite happy, whistling merrily as he nails a sole on to a
+	shoe; a few minutes later, he is sullen and morose, drunk
+	on his home-made heather ale.  The Leprechaun's two great
+	loves are tobacco and whiskey, and he is a first-rate con-man,
+	impossible to out-fox.  No one, no matter how clever, has ever
+	managed to cheat him out of his hidden pot of gold or his
+	magic shilling.  At the last minute he always thinks of some
+	way to divert his captor's attention and vanishes in the
+	twinkling of an eye.
+		[ A Field Guide to the Little People
+				   by Nancy Arrowsmith & George Moorse ]
+	The Lethe is a river, slow, dark and deep, which flows from
+	the mortal world to the forbidden lands of Gehennom.  It is
+	said that a single sip of its sparkling waters is enough to
+	wash a man's memories away, never to return.
+	But on its heels ere the sunset faded, there came a second
+	apparition, striding with incredible strides and halting when
+	it loomed almost upon me in the red twilight-the monstrous mummy
+	of some ancient king still crowned with untarnished gold but
+	turning to my gaze a visage that more than time or the worm had
+	wasted. Broken swathings flapped about the skeleton legs, and
+	above the crown that was set with sapphires and orange rubies, a
+	black something swayed and nodded horribly; but, for an instant,
+	I did not dream what it was.  Then, in its middle, two oblique
+	and scarlet eyes opened and glowed like hellish coals, and two
+	ophidian fangs glittered in an ape-like mouth.  A squat, furless,
+	shapeless head on a neck of disproportionate extent leaned
+	unspeakably down and whispered in the mummy's ear. Then, with
+	one stride, the titanic lich took half the distance between us,
+	and from out the folds of the tattered sere-cloth a gaunt arm
+	arose, and fleshless, taloned fingers laden with glowering gems,
+	reached out and fumbled for my throat . . .
+		[ The Abominations of Yondo, Clark Ashton Smith, 1926 ]
+	The chamber was of unhewn rock, round, as near as might
+	be, eighteen or twenty feet across, and gay with rich
+	variety of fern and moss and lichen.  The fern was in
+	its winter still, or coiling for the spring-tide; but
+	moss was in abundant life, some feathering, and some
+	gobleted, and some with fringe of red to it.
+		[ Lorna Doone, by R.D. Blackmore ]
+	Strange creatures formed from energy rather than matter,
+	lights are given to self-destructive behavior when battling
+	foes.
+	Lizards, snakes and the burrowing amphisbaenids make up the
+	order Squamata, meaning the scaly ones.  The elongate, slim,
+	long-tailed bodies of lizards have become modified to enable
+	them to live in a wide range of habitats.  Lizards can be
+	expert burrowers, runners, swimmers and climbers, and a few
+	can manage crude, short-distance gliding on rib-supported
+	"wings".  Most are carnivores, feeding on invertebrate and
+	small vertebrate prey, but others feed on vegetation.
+		[ Macmillan Illustrated Animal Encyclopedia ]
+	Loki, or Lopt, is described in Snorri's _Edda_ as being
+	"pleasing and handsome in appearance, evil in character, and
+	very capricious in behaviour".  He is the son of the giant
+	Farbauti and of Laufey.
+	Loki is the Norse god of cunning, evil, thieves, and fire.
+	He hated the other gods and wanted to ruin them and overthrow
+	the universe.  He committed many murders.  As a thief, he
+	stole Freyja's necklace, Thor's belt and gauntlets of power,
+	and the apples of youth.  Able to shapechange at will, he is
+	said to have impersonated at various times a mare, flea, fly,
+	falcon, seal, and an old crone.  As a mare he gave birth to
+	Odin's horse Sleipnir.  He also allegedly sired the serpent
+	Midgard, the mistress of the netherworld, Hel, and the wolf
+	Fenrir, who will devour the sun at Ragnarok.
+	This legendary bow grants ESP when carried and can reflect magical
+	attacks when wielded.  When invoked it provides a supply of arrows.
+	But as Snow White grew, she became more and more beautiful,
+	and by the time she was seven years old she was as beautiful
+	as the day and more beautiful than the queen herself.  One
+	day when the queen said to her mirror:
+
+		"Mirror, Mirror, here I stand.
+		Who is the fairest in the land?" -
+
+	the mirror replied:
+
+		"You, O Queen, are the fairest here,
+		But Snow White is a thousand times more fair."
+		[ Snow White, by Jakob and Wilhelm Grimm ]
+	Lord Carnarvon was a personality who could have been produced
+	nowhere but in England, a mixture of sportsman and collector,
+	gentleman and world traveler, a realist in action and a
+	romantic in feeling.  ...  In 1903 he went for the first time
+	to Egypt in search of a mild climate and while there visited
+	the excavation sites of several archaeological expeditions.
+	...  In 1906 he began his own excavations.
+		[ Gods, Graves, and Scholars, by C. W. Ceram ]
+	Lord Sato was the family head of the Taro Clan, and a mighty
+	daimyo.  He is a loyal servant of the Emperor, and will do
+	everything in his power to further the imperial cause.
+	Yet first was the world in the southern region, which was
+	named Muspell; it is light and hot; that region is glowing
+	and burning, and impassable to such as are outlanders and
+	have not their holdings there.  He who sits there at the
+	land's-end, to defend the land, is called Surtr; he brandishes
+	a flaming sword, and at the end of the world he shall go forth
+	and harry, and overcome all the gods, and burn all the
+	world with fire.
+			[ The Prose Edda, by Snorri Sturluson ]
+	Lugh, or Lug, was the sun god of the Irish Celts.  One of his
+	weapons was a rod-sling which worshippers sometimes saw in
+	the sky as a rainbow.  As a tribal god, he was particularly
+	skilled in the use of his massive, invincible spear, which
+	fought on its own accord.  One of his epithets is _lamfhada_
+	(of the long arm).  He was a young and apparently more
+	attractive deity than Dagda, the father of the gods.  Being
+	able to shapeshift, his name translates as lynx.
+	These dungeon scavengers are very adept at blending into the
+	surrounding walls and ceilings of the dungeon due to the
+	stone-like coloring of their skin.
+	In 1573, the Parliament of Dole published a decree, permitting
+	the inhabitants of the Franche-Comte to pursue and kill a
+	were-wolf or loup-garou, which infested that province,
+	"notwithstanding the existing laws concerning the chase."
+	The people were empowered to "assemble with javelins,
+	halberds, pikes, arquebuses and clubs, to hunt and pursue the
+	said were-wolf in all places where they could find it, and to
+	take, burn, and kill it, without incurring any fine or other
+	penalty."  The hunt seems to have been successful, if we may
+	judge from the fact that the same tribunal in the following
+	year condemned to be burned a man named Giles Garnier, who
+	ran on all fours in the forest and fields and devoured little
+	children, "even on Friday."  The poor lycanthrope, it appears,
+	had as slight respect for ecclesiastical feasts as the French
+	pig, which was not restrained by any feeling of piety from
+	eating infants on a fast day.
+		[ The History of Vampires, by Dudley Wright ]
+	To dream of seeing a lynx, enemies are undermining your
+	business and disrupting your home affairs.  For a woman,
+	this dream indicates that she has a wary woman rivaling her
+	in the affections of her lover. If she kills the lynx, she
+	will overcome her rival.
+		[ 10,000 Dreams Interpreted, by Gustavus Hindman Miller ]
+	The pen is mightier than the sword.
+		[ Richelieu, by Edward Bulwer-Lytton ]
+	This powerful mirror was created by Merlin, the druid, in ages
+	past, when trees sang and rocks danced.  It protects all who
+	carry it from magic missiles, and gives them ESP.
+	It is rumoured that these strange creatures can be harmed by
+	domesticated canines only.
+	Normally called Manannan, Ler's son was the patron of
+	merchants and sailors.  Manannan had a sword which never
+	failed to slay, a boat which propelled itself wherever its
+	owner wished, a horse which was swifter than the wind, and
+	magic armour which no sword could pierce.  He later became
+	god of the sea, beneath which he lived in Tir na nOc, the
+	underworld.
+	The gnats of the dungeon, these swarming monsters are rarely
+	seen alone.
+	The Mangler (1995)
+	Starring: Robert Englund, Ted Levine
+	Director: Tobe Hooper
+	Synopsis: An industrial laundry machine develops a taste for blood in
+	 this Stephen King adaptation. Strictly for genre fans who overlook
+	 ludicrous plot, acting, and prefer bloody gore to genuine scares.
+	Runtime: 106 minutes
+		[ www.reel.com ]
+	First insisting on recognition as supreme commander, Marduk
+	defeated the Dragon, cut her body in two, and from it created
+	heaven and earth, peopling the world with human beings who not
+	unnaturally showed intense gratitude for their lives.  The
+	gods were also properly grateful, invested him with many
+	titles, and eventually permitted themselves to be embodied in
+	him, so that he became supreme god, plotting the whole course
+	of known life from the paths of the planets to the daily
+	events in the lives of men.
+		[ The Immortals, by Derek and Julia Parker ]
+	The marilith has a torso shaped like that of a human female,
+	and the lower body of a great snake.  It has multiple arms,
+	and can freely attack with all of them.  Since it is
+	intelligent enough to use weapons, this means it can cause
+	great damage.
+	The god of war, and one of the most prominent and worshipped
+	gods.  In early Roman history he was a god of spring, growth in
+	nature, and fertility, and the protector of cattle.  Mars is
+	also mentioned as a chthonic god (earth-god) and this could
+	explain why he became a god of death and finally a god of war.
+	He is the son of Jupiter and Juno.
+		[ Encyclopedia Mythica, ed. M.F. Lindemans ]
+	He strolled down the stairs, followed by a number of assassins.
+	When he was directly in front of Ymor he said: "I've come for
+	the tourist." ...
+	"One step more and you'll leave here with fewer eyeballs than
+	you came with," said the thiefmaster.  "So sit down and have
+	a drink, Zlorf, and let's talk about this sensibly.  _I_
+	thought we had an agreement.  You don't rob -- I don't kill.
+	Not for payment, that is," he added after a pause.
+	Zlorf took the proffered beer.
+	"So?" he said.  "I'll kill him.  Then you rob him.  Is he that
+	funny looking one over there?"
+	"Yes."
+	Zlorf stared at Twoflower, who grinned at him.  He shrugged.
+	He seldom wasted time wondering why people wanted other people
+	dead.  It was just a living.
+	"Who is your client, may I ask?" said Ymor.
+	Zlorf held up a hand.  "Please!" he protested.  "Professional
+	etiquette."
+		[ The Colour of Magic, by Terry Pratchett ]
+	This skeleton key was fashioned in ages past and imbued with
+	a powerful magic which allows it to open any lock.  When
+	carried, it grants its owner warning, teleport control, and
+	reduces all physical damage by half.  Finally, when invoked,
+	it has the ability to disarm any trap.
+	There was a flutter of wings at the window.  Ymor shifted his
+	bulk out of the chair and crossed the room, coming back with
+	a large raven.  After he'd unfastened the message capsule from
+	its leg it flew up to join its fellows lurking among the
+	rafters.  Withel regarded it without love.  Ymor's ravens were
+	notoriously loyal to their master, to the extent that Withel's
+	one attempt to promote himself to the rank of greatest thief
+	in Ankh-Morpork had cost their master's right hand man his
+	left eye.  But not his life, however.  Ymor never grudged a
+	man his ambitions.
+		[ The Colour of Magic, by Terry Pratchett ]
+	Any large, elephantlike mammal of the genera Mammut, Mastodon,
+	etc., from the Oligocene and Pleistocene epochs, having
+	conical projections on the molar teeth.
+		[ Webster's Encyclopedic Unabridged Dictionary
+			of the English Language ]
+
+	Yakwawi, the Mastodon, was placed on the world to be useful 
+	to man; but the great monstrous beast was fierce, powerful and
+	invincible. Its hide was so strong and so thick that the sharpest 
+	spears and arrows could hardly penetrate it. This terrible 
+	creature made war against all the other animals that lived in 
+	the woods and on the plains; other animals that the Creator put 
+	here to be used as meat for the Lenap people.)
+		[ From Legends of the Lenape Native Americans ]
+	Some hae meat and canna eat,
+	And some would eat that want it;
+	But we hae meat, and we can eat,
+	Sae let the Lord be thankit.
+		[ Grace Before Meat, by Robert Burns ]
+	Medusa, one of the three Gorgons or Graeae, is the only one
+	of her sisters to have assumed mortal form and inhabited the
+	dungeon world.
+
+	When Perseus was grown up Polydectes sent him to attempt the
+	conquest of Medusa, a terrible monster who had laid waste the
+	country.  She was once a beautiful maiden whose hair was her
+	chief glory, but as she dared to vie in beauty with Minerva,
+	the goddess deprived her of her charms and changed her
+	beautiful ringlets into hissing serpents.  She became a cruel
+	monster of so frightful an aspect that no living thing could
+	behold her without being turned into stone.  All around the
+	cavern where she dwelt might be seen the stony figures of men
+	and animals which had chanced to catch a glimpse of her and
+	had been petrified with the sight.  Perseus, favoured by
+	Minerva and Mercury, the former of whom lent him her shield
+	and the latter his winged shoes, approached Medusa while she
+	slept and taking care not to look directly at her, but guided
+	by her image reflected in the bright shield which he bore, he
+	cut off her head and gave it to Minerva, who fixed it in the
+	middle of her Aegis.
+		[ Bulfinch's Mythology, by Thomas Bulfinch ]
+	"What is it, Umbopa, son of a fool?" I shouted in Zulu.
+	"It is food and water, Macumazahn," and again he waved the
+	green thing.
+	Then I saw what he had got.  It was a melon.  We had hit upon
+	a patch of wild melons, thousands of them, and dead ripe.
+	"Melons!" I yelled to Good, who was next me; and in another
+	second he had his false teeth fixed in one.
+	I think we ate about six each before we had done, and, poor
+	fruit as they were, I doubt if I ever thought anything nicer.
+		[ King Solomon's Mines, by H. Rider Haggard ]
+	Roman god of commerce, trade and travellers.  He is commonly
+	depicted carrying a caduceus (a staff with two snakes
+	intertwining around it) and a purse.
+	These strange beings are visitors from another realm.  An 
+	unusual symbiotic relationship exists between the intelligent 
+	fungus and the insectoid form that comprises the bulk of its 
+	body.  They are said to have access to great magical powers. 
+	Their queens have been known to steal human brains, taking 
+	them back to distant Yuggoth.
+	Migo are also known as the Fungi from Yuggoth. 
+	The ancestors of the modern day chameleon, these creatures can
+	assume the form of anything in their surroundings.  They may
+	assume the shape of objects or dungeon features.  Unlike the
+	chameleon though, which assumes the shape of another creature
+	and goes in hunt of food, the mimic waits patiently for its
+	meals to come in search of it.
+	This creature has a humanoid body, tentacles around its
+	covered mouth, and three long fingers on each hand.  Mind
+	flayers are telepathic, and love to devour intelligent beings,
+	especially humans.  If they hit their victim with a tentacle,
+	the mind flayer will slowly drain it of all intelligence,
+	eventually killing its victim.
+	Made by Dwarfs.  The Rule here is that the Mine is either long
+	deserted or at most is inhabited by a few survivors who will
+	make confused claims to have been driven out/decimated by humans/
+	other Dwarfs/Minions of the Dark Lord.  Inhabited or not, this
+	Mine will be very complex, with many levels of galleries,
+	beautifully carved and engineered.  What was being mined here
+	is not always evident, but at least some of the time it will
+	appear to have been Jewels, since it is customary to find
+	unwanted emeralds, etc., still embedded in the rock of the
+	walls.  Metal will also be present, but only when made up into
+	armor and weapons (_wondrous_).
+		[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	The Minotaur was a monster, half bull, half human, the
+	offspring of Minos' wife Pasiphae and a wonderfully beautiful
+	bull. ...  When the Minotaur was born Minos did not kill him.
+	He had Daedalus, a great architect and inventor, construct a
+	place of confinement for him from which escape was impossible.
+	Daedalus built the Labyrinth, famous throughout the world.
+	Once inside, one would go endlessly along its twisting paths
+	without ever finding the exit.
+		[ Mythology, by Edith Hamilton ]
+	Originating in India (Mitra), Mithra is a god of light who
+	was translated into the attendant of the god Ahura Mazda in
+	the light religion of Persia; from this he was adopted as
+	the Roman deity Mithras.  He is not generally regarded as a
+	sky god but a personification of the fertilizing power of
+	warm, light air.  According to the _Avesta_, he possesses
+	10,000 eyes and ears and rides in a chariot drawn by white
+	horses.  Mithra, according to Zarathustra, is concerned with
+	the endless battle between light and dark forces:  he
+	represents truth.  He is responsible for the keeping of oaths
+	and contracts.  He is attributed with the creation of both
+	plants and animals.  His chief adversary is Ahriman, the
+	power of darkness.
+		[ The Encyclopaedia of Myths and Legends of All
+			Nations, by Herbert Spencer Robinson and
+			Knox Wilson ]
+	_Mithril_!  All folk desired it.  It could be beaten like
+	copper, and polished like glass; and the Dwarves could make
+	of it a metal, light and yet harder than tempered steel.
+	Its beauty was like to that of common silver, but the beauty
+	of _mithril_ did not tarnish or grow dim.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	This helm of brilliance performs all of the normal functions
+	of a helm of brilliance, but also has the ability to protect
+	anyone who carries it from fire.  When invoked, it boosts
+	the energy of the invoker, allowing them to cast more spells.
+	Forged by the dwarves Eitri and Brokk, in response to Loki's
+	challenge, Mjollnir is an indestructible war hammer.  It has
+	two magical properties:  when thrown it always returned to
+	Thor's hand; and it could be made to shrink in size until it
+	could fit inside Thor's shirt.  Its only flaw is that it has
+	a short handle.  The other gods judged Mjollnir the winner of
+	the contest because, of all the treasures created, it alone had
+	the power to protect them from the giants.  As the legends
+	surrounding Mjollnir grew, it began to take on the quality of
+	"vigja", or consecration.  Thor used it to consecrate births,
+	weddings, and even to raise his goats from the dead.  In the
+	Norse mythologies Mjollnir is considered to represent Thor's
+	governance over the entire cycle of life - fertility, birth,
+	destruction, and resurrection.
+	Mold, multicellular organism of the division Fungi, typified
+	by plant bodies composed of a network of cottony filaments.
+	The colors of molds are due to spores borne on the filaments.
+	Most molds are saprophytes.  Some species (e.g., penicillium)
+	are used in making cheese and antibiotics.
+		[ The Concise Columbia Encyclopedia ]
+	And the Lord spake unto Moses, saying,
+	Again, thou shalt say to the children of Israel, Whosoever
+	he be of the children of Israel, or of the strangers that
+	sojourn in Israel, that giveth any of his seed unto Molech;
+	he shall surely be put to death: the people of the land shall
+	stone him with stones.
+	And I will set my face against that man, and will cut him off
+	from among his people; because he hath given of his seed unto
+	Molech, to defile my sanctuary, and to profane my holy name.
+	And if the people of the land do any ways hide their eyes
+	from the man, when he giveth of his seed unto Molech, and kill
+	him not:
+	Then I will set my face against that man, and against his
+	family, and will cut him off, and all that go a whoring after
+	him, to commit whoredom with Molech, from among their people.
+		[ Leviticus 20:1-5 ]
+	Moradin is the creator, the ancestral father of the dwarven race.
+	He is an excellent craftsman and warrior, as befits the respected
+	leader of the dwarven pantheon, and is a master of the forge.  He
+	is pictured as a tall, muscular dwarf, wearing rough blacksmith's
+	clothing.  In most representations of him, he is at the forge,
+	working on a piece of steel.  As could be expected, his symbol of
+	worship is the anvil and hammer.
+	In appearance, a cross between a small boy and a bat, this nimble
+	creature is capable of quick, aerial strikes. Fortunately, a
+	mongbat's small size renders its attack little more than a painful
+	nuisance.
+	    [ Beyond the Serpent Pillars by Andrew Morris ]
+
+	Though a novice, the warrior had riches.
+	In finery, he assaulted the liches.
+	  An orc got his suit,
+	  A spectre one boot,
+	And a mongbat is wearing his britches.
+	    [ Limericks, by Magus ]
+	One day, an army general invited the Buddhist monk I-Hsiu
+	(literally, "One Rest") to his military head office for a
+	dinner.  I-Hsiu was not accustomed to wearing luxurious
+	clothings and so he just put on an old ordinary casual
+	robe to go to the military base.  To him, "form is void".
+
+	As he approached the base, two soldiers appeared before him
+	and shouted, "Where does this beggar came from?  Identify
+	yourself!  You do not have permission to be around here!"
+
+	"My name is I-Hsiu Dharma Master.  I am invited by your
+	general for a supper."
+
+	The two soldiers examined the monk closely and said, "You
+	liar.  How come my general invites such a shabby monk to
+	dinner?  He invites the very solemn venerable I-Hsiu to our
+	base for a great ceremony today, not you.  Now, get out!"
+
+	I-Hsiu was unable to convince the soldiers that he was
+	indeed the invited guest, so he returned to the temple
+	and changed to a very formal solemn ceremonial robe for
+	the dinner.  And as he returned to the military base, the
+	soldiers observed that he was such a great Buddhist monk,
+	let him in with honour.
+
+	At the dinner, I-Hsiu sat in front of the table full of
+	food but, instead of putting the food into his month, he
+	picked up the food with his chopsticks and put it into
+	his sleeves.  The general was curious, and whispered to
+	him, "This is very embarrassing.  Do you want to take
+	some food back to the temple?  I will order the cook to
+	prepare some take out orders for you."  "No" replied the
+	monk.  "When I came here, I was not allowed into the
+	base by your soldiers until I wear this ceremonial robe.
+	You do not invite me for a dinner.  You invite my robe.
+	Therefore, my robe is eating the food, not me."
+		[ Dining with a General - a Zen Buddhism Koan ]
+	"Listen, man-cub," said the Bear, and his voice rumbled like
+	thunder on a hot night.  "I have taught thee all the Law of
+	the Jungle for all the peoples of the jungle--except the
+	Monkey-Folk who live in the trees.  They have no law.  They
+	are outcasts.  They have no speech of their own, but use the
+	stolen words which they overhear when they listen, and peep,
+	and wait up above in the branches.  Their way is not our way.
+	They are without leaders.  They have no remembrance.  They
+	boast and chatter and pretend that they are a great people
+	about to do great affairs in the jungle, but the falling of
+	a nut turns their minds to laughter and all is forgotten.
+	We of the jungle have no dealings with them.  We do not drink
+	where the monkeys drink; we do not go where the monkeys go;
+	we do not hunt where they hunt; we do not die where they die...."
+		[ The Jungle Book, by Rudyard Kipling ]
+	... the Mumak of Harad was indeed a beast of vast bulk, and
+	the like of him does not walk now in Middle-Earth; his kin
+	that live still in latter days are but memories of his girth
+	and majesty.  On he came, ... his great legs like trees,
+	enormous sail-like ears spread out, long snout upraised like
+	a huge serpent about to strike, his small red eyes raging.
+	His upturned hornlike tusks ... dripped with blood.
+		[ The Two Towers, by J.R.R. Tolkien ]
+	But for an account of the manner in which the body was
+	bandaged, and a list of the unguents and other materials
+	employed in the process, and the words of power which were
+	spoken as each bandage was laid in its place, we must have
+	recourse to a very interesting papyrus which has been edited
+	and translated by M. Maspero under the title of Le Rituel de
+	l'Embaumement. ...
+	Everything that could be done to preserve the body was now
+	done, and every member of it was, by means of the words of
+	power which changed perishable substances into imperishable,
+	protected to all eternity; when the final covering of purple
+	or white linen had been fastened upon it, the body was ready
+	for the tomb.
+		[ Egyptian Magic, by E.A. Wallis Budge ]
+	He held a white cloth -- it was a serviette he had brought
+	with him -- over the lower part of his face, so that his
+	mouth and jaws were completely hidden, and that was the
+	reason for his muffled voice.  But it was not that which
+	startled Mrs. Hall.  It was the fact that all his forehead
+	above his blue glasses was covered by a white bandage, and
+	that another covered his ears, leaving not a scrap of his
+	face exposed excepting only his pink, peaked nose.  It was
+	bright, pink, and shiny just as it had been at first.  He
+	wore a dark-brown velvet jacket with a high, black, linen-
+	lined collar turned up about his neck.  The thick black
+	hair, escaping as it could below and between the cross
+	bandages, project in curious tails and horns, giving him
+	the strangest appearance conceivable.
+		[ The Invisible Man, by H.G. Wells ]
+	The naga is a mystical creature with the body of a snake and
+	the head of a man or woman.  They will fiercely protect the
+	territory they consider their own.  Some nagas can be forced
+	to serve as guardians by a spellcaster of great power.
+	A Japanese pole-arm, fitted with a curved single-edged blade.
+	The blades ranged in length from two to four feet, mounted on
+	shafts about four to five feet long.  The naginata were cut
+	with a series of short grooves near to the tang, above which
+	the back edge was thinned, but not sharpened, so that the
+	greater part of the blade was a flattened diamond shape in
+	section.  Seen in profile, the curve is slight or non-
+	existent near the tang, becoming more pronounced towards the
+	point.
+
+	"With his naginata he killed five, but with the sixth it
+	snapped asunder in the midst and, flinging it away, he drew
+	his sword, wielding it in the zigzag style, the interlacing,
+	cross, reversed dragonfly, waterwheel, and eight-sides-at-
+	once styles of fencing and cutting down eight men; but as he
+	brought down the ninth with a mighty blow on the helmet, the
+	blade snapped at the hilt."
+	[ Story of Tsutsui no Jomio Meishu from Tales of Heike ]
+	Not only do these demons do physical damage with their claws
+	and bite, but they are capable of using magic as well.
+	Nalzok is Moloch's cunning and unfailingly loyal battle
+	lieutenant, to whom he trusts the command of warfare when he
+	does not wish to exercise it himself.  Nalzok is a major
+	demon, known to command the undead.  He is hungry for power,
+	and secretly covets Moloch's position.  Moloch doesn't trust
+	him, but, trusting his own power enough, chooses to allow
+	Nalzok his position because he is useful.
+	1.  Valley between Duesseldorf and Elberfeld in Germany,
+	where an ancient skull of a prehistoric ancestor to modern
+	man was found.  2.  Human(oid) of the race mentioned above.
+	Neferet the Green holds office in her hidden tower, only
+	reachable by magical means, where she teaches her apprentices
+	the enigmatic skills of occultism.  Despite her many years, she
+	continues to investigate new spells, especially those involving
+	translocation.  It is further rumored that when she was an
+	apprentice herself, she accidentally turned her skin green, and
+	has kept it that way ever since.
+	(kinds of) small animal, like a lizard, which spends most of
+	its time in the water.
+		[ Oxford's Student's Dictionary of Current English ]
+
+	"Fillet of a fenny snake,
+	In the cauldron boil and bake;
+	Eye of newt and toe of frog,
+	Wool of bat and tongue of dog,
+	Adder's fork and blind-worm's sting,
+	Lizard's leg and howlet's wing,
+	For a charm of powerful trouble,
+	Like a hell-broth boil and bubble."
+		[ Macbeth, by William Shakespeare ]
+	A Japanese broadsword.
+	A vast, endless, eternally dark gulf said to lie at the bottom
+	of Gehennom.  Even daemons fear to tread there.  The source of
+	the Lethe river is said to be within the great gulf.  What few
+	tales exist of its outer reaches speak of hordes of hideous
+	gugs that scavenge and devour the bodies of all who enter.
+	The Norns were the three Norse Fates, or the goddesses of fate.
+	Female giants, they brought the wonderful Golden Age to an end.
+	They cast lots over the cradle of every child that was born,
+	and placed gifts in the cradle.  Their names were Urda,
+	Verdandi, and Skuld, representing the past, the present, and
+	the future.  Urda and Verdandi were kindly disposed, but Skuld
+	was cruel and savage.  Their tasks were to sew the web of
+	fate, to water the sacred ash, Yggdrasil, and to keep it in
+	good condition by placing fresh earth around it daily.  In her
+	fury, Skuld often spoiled the work of her sisters by tearing
+	the web to shreds.
+		[ The Encyclopedia of Myths and Legends of All
+			Nations by Herbert Spencer Robinson and Knox
+			Wilson ]
+	A Japanese flail.
+	A female creature from Roman and Greek mythology, the nymph
+	occupied rivers, forests, ponds, etc.  A nymph's beauty is
+	beyond words:  an ever-young woman with sleek figure and
+	long, thick hair, radiant skin and perfect teeth, full lips
+	and gentle eyes.  A nymph's scent is delightful, and her
+	long robe glows, hemmed with golden threads and embroidered
+	with rainbow hues of unearthly magnificence.  A nymph's
+	demeanour is graceful and charming, her mind quick and witty.
+
+	"Theseus felt her voice pulling him down into fathoms of
+	sleep.  The song was the skeleton of his dream, and the dream
+	was full of terror.  Demon girls were after him, and a bull-
+	man was goring him.  Everywhere there was blood.  There was
+	pain.  There was fear.  But his head was in the nymph's lap
+	and her musk was about him, her voice weaving the dream.  He
+	knew then that she had been sent to tell him of something
+	dreadful that was to happen to him later.  Her song was a
+	warning.  But she had brought him a new kind of joy, one that
+	made him see everything differently.  The boy, who was to
+	become a hero, suddenly knew then what most heroes learn
+	later -- and some too late -- that joy blots suffering and
+	that the road to nymphs is beset by monsters."
+		[ The Minotaur by Bernard Evslin ]
+	Also called Sigtyr (god of Victory), Val-father (father of
+	the slain), One-Eyed, Hanga-god (god of the hanged), Farma-
+	god (god of cargoes), Hapta-god (god of prisoners), and
+	Othin.  He is the prime god of the Norsemen:  god of war and
+	victory, wisdom and prophecy, poetry, the dead, air and wind,
+	hospitality, and magic.
+	As the god of war and victory, Odin is ruler of the Valkyries,
+	warrior-maidens who lived in the halls of Valhalla in Asgard,
+	the hall of dead heroes where he held his court.
+	These chosen ones will defend the realm of the gods against
+	the Frost Giants on the final day of reckoning, Ragnarok.
+	As god of the wind, Odin rides through the air on his eight-
+	footed horse, Sleipnir, wielding Gungner, his spear, normally
+	accompanied by his ravens, Hugin and Munin, who he would also
+	use as his spies.
+	As a god of hospitality, he enjoys visiting the earth in
+	disguise to see how people were behaving and to see how they
+	would treat him, not knowing who he was.
+	Odin is usually represented as a one-eyed wise old man with a
+	long white beard and a wide-brimmed hat (he gave one of his
+	eyes to Mimir, the guardian of the well of wisdom in Hel, in
+	exchange for a draught of knowledge).
+	Anyone who has met a gluttonous, nude, angry ogre, will not
+	easily forget this encounter -- if he survives it at all.
+	Both male and female ogres can easily grow as tall as three
+	metres.  Build and facial expressions would remind one of a
+	Neanderthal.  Its small, pointy, keen teeth are striking.
+	Since ogres avoid direct sunlight, their ragged, unfurry
+	skin is as white as a sheet.  They enjoy coating their body
+	with lard and usually wear nothing but a loin-cloth.  An elf
+	would smell its rancid stench at ten metres distance.
+	Ogres are solitary creatures:  very rarely one may encounter
+	a female with two or three young.  They are the only real
+	carnivores among the humanoids, and its favourite meal is --
+	not surprisingly -- human flesh.  They sometimes ally with
+	orcs or goblins, but only when they anticipate a good meaty
+	meal.
+		[ het Boek van de Regels; Het Oog des Meesters ]
+	During our watches below we overhauled our clothes, and made
+	and mended everything for bad weather.  Each of us had made
+	for himself a suit of oil-cloth or tarpaulin, and these we
+	got out, and gave thorough coatings of oil or tar, and hung
+	upon the stays to dry.  Our stout boots, too, we covered
+	over with a thick mixture of melted grease and tar.  Thus we
+	took advantage of the warm sun and fine weather of the
+	Pacific to prepare for its other face.
+		[ Two Years Before the Mast, by Richard Henry Dana ]
+	Summer passed all too quickly.  On the last day of camp, Mr.
+	Brickle called his counselors together and paid them what he
+	owed them.  Louis received one hundred dollars - the first
+	money he had ever earned.  He had no wallet and no pockets,
+	so Mr. Brickle placed the money in a waterproof bag that had
+	a drawstring.  He hung this moneybag around Louis' neck,
+	along with the trumpet, the slate, the chalk pencil, and the
+	lifesaving medal.
+		[ The Trumpet of the Swan, by E.B. White ]
+	But at the end of the Third Age a troll-race not before seen
+	appeared in southern Mirkwood and in the mountain borders of
+	Mordor.  Olog-hai they were called in the Black Speech.  That
+	Sauron bred them none doubted, though from what stock was not
+	known.  Some held that they were not Trolls but giant Orcs;
+	but the Olog-hai were in fashion of body and mind quite unlike
+	even the largest of Orc-kind, whom they far surpassed in size
+	and power.  Trolls they were, but filled with the evil will
+	of their master:  a fell race, strong, agile, fierce and
+	cunning, but harder than stone.  Unlike the older race of the
+	Twilight they could endure the Sun....  They spoke little,
+	and the only tongue they knew was the Black Speech of Barad-dur.
+		[ The Return of the King, by J.R.R. Tolkien ]
+	Delphi under towering Parnassus, where Apollo's oracle was,
+	plays an important part in mythology.  Castalia was its
+	sacred spring; Cephissus its river.  It was held to be the
+	center of the world, so many pilgrims came to it, from
+	foreign countries as well as Greece.  No other shrine rivaled
+	it.  The answers to the questions asked by the anxious
+	seekers for Truth were delivered by a priestess who went into
+	a trance before she spoke.
+		[ Mythology, by Edith Hamilton ]
+	What was the fruit like?  Unfortunately, no one can describe
+	a taste.  All I can say is that, compared with those fruits,
+	the freshest grapefruit you've ever eaten was dull, and the
+	juiciest orange was dry, and the most melting pear was hard
+	and woody, and the sweetest wild strawberry was sour.  And
+	there were no seeds or stones, and no wasps.  If you had once
+	eaten that fruit, all the nicest things in this world would
+	taste like medicines after it.  But I can't describe it.  You
+	can't find out what it is like unless you can get to that
+	country and taste it for yourself.
+		[ The Last Battle, by C.S. Lewis ]
+	At first glance around the corner, I thought it was another 
+	cockatrice. I had encountered the wretched creatures two or
+	three times since leaving the open area. I quickly ducked my 
+	head back and considered what to do next. My heart had begun
+	to thump audibly as I patted my pack to make sure I still had 
+	the dead lizards at close reach. A check of my attire showed
+	no obvious holes or damage. I had to keep moving. One deep
+	breath, and a count of three, two, one, and around the corner 
+	I bolted. But it was no cockatrice! I felt a sudden intense 
+	searing of the skin around my face, and flames began to leap
+	from my pack. I tossed it to the ground, and quickly retreated
+	back, around that corner, desperately striving to get out of 
+	its sight.
+	This Orb is a crystal ball of exceptional powers.  When
+	carried, it grants ESP, limits damage done by spells, and
+	protects the carrier from magic missiles.  When invoked it
+	allows the carrier to become invisible.
+	Some say that Odin himself created this ancient crystal ball,
+	although others argue that Loki created it and forged Odin's
+	signature on the bottom.  In any case, it is a powerful
+	artifact.  Anyone who carries it is granted the gift of
+	warning, and damage, both spell and physical, is partially
+	absorbed by the orb itself.  When invoked it has the power
+	to teleport the invoker between levels.
+	The Great Goblin gave a truly awful howl of rage when he
+	looked at it, and all his soldiers gnashed their teeth,
+	clashed their shields, and stamped.  They knew the sword at
+	once.  It had killed hundreds of goblins in its time, when
+	the fair elves of Gondolin hunted them in the hills or did
+	battle before their walls.  They had called it Orcrist,
+	Goblin-cleaver, but the goblins called it simply Biter.
+	They hated it and hated worse any one that carried it.
+		[ The Hobbit, by J.R.R. Tolkien ]
+	Orcus, Prince of the Undead, has a ram's head and a poison
+	stinger.  He is most feared, though, for his powerful magic
+	abilities.  His wand causes death to those he chooses.
+	Orcs, bipeds with a humanoid appearance, are related to the
+	goblins, but much bigger and more dangerous.  The average orc
+	is only moderately intelligent, has broad, muscled shoulders,
+	a short neck, a sloping forehead and a thick, dark fur.
+	Their lower eye-teeth are pointing forward, like a boar's.
+	Female orcs are more lightly built and bare-chested.  Not
+	needing any clothing, they do like to dress in variegated
+	apparels.  Suspicious by nature, orcs live in tribes or
+	hordes.  They tend to live underground as well as above
+	ground (but they dislike sunlight).  Orcs can use all weapons,
+	tools and armours that are used by men.  Since they don't have
+	the talent to fashion these themselves, they are constantly
+	hunting for them.  There is nothing a horde of orcs cannot
+	use.
+		[ het Boek van de Regels; Het Oog des Meesters ]
+	Orion was the son of Neptune. He was a handsome giant and a
+	mighty hunter. His father gave him the power of wading
+	through the depths of the sea, or, as others say, of
+	walking on its surface.
+
+	He dwelt as a hunter with Diana (Artemis), with whom he
+	was a favourite, and it is even said she was about to marry
+	him. Her brother was highly displeased and often chid her,
+	but to no purpose. One day, observing Orion wading through
+	the sea with his head just above the water, Apollo pointed
+	it out to his sister and maintained that she could not hit
+	that black thing on the sea. The archer-goddess discharged
+	a shaft with fatal aim. The waves rolled the dead body of
+	Orion to the land, and bewailing her fatal error with many
+	tears, Diana placed him among the stars, where he appears
+	as a giant, with a girdle, sword, lion's skin, and
+	club. Sirius, his dog, follows him, and the Pleiads fly
+	before him.
+		[ Bulfinch's Mythology, by Thomas Bulfinch ]
+	The osaku is a small tool for picking locks.
+	Owlbears are probably the crossbreed creation of a demented
+	wizard; given the lethal nature of this creation, it is quite
+	likely the wizard who created them is no longer alive.  As
+	the name might already suggest, owlbears are a cross between
+	a giant owl and a bear.  They are covered with fur and
+	feathers.
+	And lo! almost where the ascent began,
+	A panther light and swift exceedingly,
+	Which with a spotted skin was covered o'er!
+
+	And never moved she from before my face,
+	Nay, rather did impede so much my way,
+	That many times I to return had turned.
+		[ Dante's Inferno, as translated
+			by Henry Wadsworth Longfellow ]
+	Conan cried out sharply and recoiled, thrusting his companion
+	back.  Before them rose the great shimmering white form of Satha,
+	an ageless hate in its eyes.  Conan tensed himself for one mad
+	berserker onslaught -- to thrust the glowing faggot into that
+	fiendish countenance and throw his life into the ripping sword-
+	stroke.  But the snake was not looking at him.  It was glaring
+	over his shoulder at the man called Pelias, who stood with his
+	arms folded, smiling.  And in the great, cold, yellow eyes
+	slowly the hate died out in a glitter of pure fear -- the only
+	time Conan ever saw such an expression in a reptile's eyes.
+	With a swirling rush like the sweep of a strong wind, the great
+	snake was gone.
+	"What did he see to frighten him?" asked Conan, eyeing his
+	companion uneasily.
+	"The scaled people see what escapes the mortal eye," answered
+	Pelias cryptically.  "You see my fleshy guise, he saw my naked
+	soul."
+	    [ Conan the Usurper, by Robert E. Howard and L. Sprague de Camp ]
+		:PDP-10:
+		[Programmed Data Processor model 10] n. The machine that
+		made timesharing real. It looms large in hacker folklore because
+		of its adoption in the mid-1970s by many university computing
+		facilities and research labs,including the MIT AI Lab, Stanford,
+		and CMU.  Some aspects of the instruction set (most notably the
+		bit-field instructions) are still considered unsurpassed. The 10
+		was eventually eclipsed by the VAX machines (descendants of the
+		PDP-11) when DEC recognized that the 10 and VAX product lines were
+		competing with each other and decided to concentrate its software
+		development effort on the more profitable VAX. The machine was
+		finally dropped from DEC's line in 1983,following the failure of
+		the Jupiter Project at DEC to build a viable new model.  (Some
+		attempts by other companies to market clones came to nothing;see
+		{Foonly} and {Mars}.)  This event spelled the doom of
+		{{ITS}} and the technical cultures that had spawned the original
+		Jargon File, but by mid-1991 it had become something of a badge of
+		honorable old-timerhood among hackers to have cut one's teeth on a
+		PDP-10.  See {{TOPS-10}}, {{ITS}}, {AOS}, {BLT}, {DDT},
+		{DPB}, {EXCH}, {HAKMEM}, {JFCL}, {LDB}, {pop},
+		{push}, {Appendix A}.
+		[ The Jargon File, version 3.0.0 ]
+	Phase potion, which is related to oil of etherealness, is more
+	useful for general combat. When imbibed, this potion allows the
+	user to shift in and out of phase with the Prime Material plane
+	at will, much like a phase spider. When out of phase, the user
+	is impervious to all forms of attack except those that reach
+	into Ethereal plane. ... Phase potions are brewed from phase-spider
+	ichor or from the concentrated juices of rare underground fungi.
+		[ RPG Sheets by Amalor Mymnyx ]
+
+	Phase Spiders are not true Spiders, but an alien race which
+	appear as giant spiders with humanoid shaped heads. Phase Spiders
+	speak a whispery language which is reminiscent of the sound of the
+	wind blowing through the trees. ... Phase Spiders are considered
+	Enlightened creatures as they have the ability to phase in and out
+	of our normal space-time into what most scientists would refer to
+	as Void-Space. Phase Spiders use this ability to their great
+	advantage in combat.
+		[ Alien Update Lexicon by Randy Walker ]
+	The mine is full of holes;
+	With the wound of pickaxes.
+	But look at the goldsmith's store.
+	There, there is gold everywhere.
+		[ Divan-i Kebir Meter 2, by Mevlana Celaleddin Rumi ]
+	Ye Piercer doth look like unto a stalactyte, and hangeth
+	from the roofs of caves and caverns.  Unto the height of a
+	man, and thicker than a man's thigh do they grow, and in
+	groups do they hang.  If a creature doth pass beneath them,
+	they will by its heat and noise perceive it, and fall upon
+	it to kill and devour it, though in any other way they move
+	but exceeding slow.
+		[ the Bestiary of Xygag ]
+	They live in "schools." Many times they will wait for prey 
+	to come to the shallow water of the river. Then the large 
+	group of piranhas will attack. These large groups are able 
+	to kill large animals... Their lower teeth fit perfectly 
+	into the spaces of their upper teeth, creating a tremendous 
+	vice-like bite... Piranhas are attracted to any disturbance 
+	in the water. 
+		[ http://www.animalsoftherainforest.com ]
+	Amid the thought of the fiery destruction that impended, the
+	idea of the coolness of the well came over my soul like balm.
+	I rushed to its deadly brink.  I threw my straining vision
+	below.  The glare from the enkindled roof illumined its inmost
+	recesses.  Yet, for a wild moment, did my spirit refuse to
+	comprehend the meaning of what I saw.  At length it forced --
+	it wrestled its way into my soul -- it burned itself in upon my
+	shuddering reason.  Oh! for a voice to speak! -- oh! horror! --
+	oh! any horror but this!
+		[ The Pit and the Pendulum, by Edgar Allan Poe ]
+	Pit fiends are among the more powerful of devils, capable of
+	attacking twice with weapons as well as grabbing and crushing
+	the life out of those unwary enough to enter their
+	domains.
+	Do fairies live in the hedge by the lawn?
+	With pale, violet eyes and wings that shimmer?
+	Not in my garden of thistle and thorn,
+	Well, not since I tidied it up with my strimmer.
+		[ Learning to Live with Orcs by Richard A. Bartle ]
+	This is an ancient artifact made of an unknown material.  It
+	is rectangular in shape, very thin, and inscribed with
+	unreadable ancient runes.  When carried, it grants the one
+	who carries it ESP, and reduces all spell induced damage done to
+	the carrier by half.  It also protects from magic missile
+	attacks.  Finally, its power is such that when invoked, it
+	can charge other objects.
+		Hey! now! Come hoy now! Whither do you wander?
+		Up, down, near or far, here, there or yonder?
+		Sharp-ears, Wise-nose, Swish-tail and Bumpkin,
+		White-socks my little lad, and old Fatty Lumpkin!
+
+	[...]
+	Tom called them one by one and they climbed over the brow and
+	stood in a line.  Then Tom bowed to the hobbits.
+
+	"Here are your ponies, now!" he said.  "They've more sense (in some
+	ways) than you wandering hobbits have -- more sense in their noses.
+	For they sniff danger ahead which you walk right into; and if they
+	run to save themselves, then they run the right way."
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Portals can be Mirrors, Pictures, Standing Stones, Stone
+	Circles, Windows, and special gates set up for the purpose.
+	You will travel through them both to distant parts of the
+	continent and to and from our own world.  The precise manner
+	of their working is a Management secret.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	Poseido(o)n, lord of the seas and father of rivers and
+	fountains, was the son of Chronos and Rhea, brother of Zeus,
+	Hades, Hera, Hestia and Demeter.  His rank of ruler of the
+	waves he received by lot at the Council Meeting of the Gods,
+	at which Zeus took the upper world for himself and gave
+	dominion over the lower world to Hades.
+	Poseidon is associated in many ways with horses and thus is
+	the god of horses.  He taught men how to ride and manage the
+	animal he invented and is looked upon as the originator and
+	guardian deity of horse races.
+	His symbol is the familiar trident or three-pronged spear
+	with which he can split rocks, cause or quell storms, and
+	shake the earth, a power which makes him the god of
+	earthquakes as well.  Physically, he is shown as a strong and
+	powerful ruler, every inch a king.
+		[ The Encyclopedia of Myths and Legends of All
+		  Nations, by Herbert Robinson and Knox Wilson ]
+	POTABLE, n.  Suitable for drinking.  Water is said to be
+	potable; indeed, some declare it our natural beverage,
+	although even they find it palatable only when suffering
+	from the recurrent disorder known as thirst, for which it
+	is a medicine.  Upon nothing has so great and diligent
+	ingenuity been brought to bear in all ages and in all
+	countries, except the most uncivilized, as upon the
+	invention of substitutes for water.  To hold that this
+	general aversion to that liquid has no basis in the
+	preservative instinct of the race is to be unscientific --
+	and without science we are as the snakes and toads.
+		[ The Devil's Dictionary, by Ambrose Bierce ]
+	[...]  For the two priests were talking exactly like priests,
+	piously, with learning and leisure, about the most aerial
+	enigmas of theology.  The little Essex priest spoke the more
+	simply, with his round face turned to the strengthening stars;
+	the other talked with his head bowed, as if he were not even
+	worthy to look at them.  But no more innocently clerical
+	conversation could have been heard in any white Italian cloister
+	or black Spanish cathedral.  The first he heard was the tail of
+	one of Father Brown's sentences, which ended:  "... what they
+	really meant in the Middle Ages by the heavens being
+	incorruptible."  The taller priest nodded his bowed head and
+	said:  "Ah, yes, these modern infidels appeal to their reason;
+	but who can look at those millions of worlds and not feel that
+	there may well be wonderful universes above us where reason is
+	utterly unreasonable?"
+		[ The Innocence of Father Brown, by G.K. Chesterton ]
+	Where am I?
+		In the Village.
+	What do you want?
+		Information.
+	Whose side are you on?
+		That would be telling.  We want information ...
+		information ...
+	You won't get it.
+		By hook or by crook, we will.
+	Who are you?
+		The new Number 2.
+	Who is Number 1?
+		You are Number 6.
+	I am not a number!  I am a free man! 
+		[ The Prisoner, by Patrick McGoohan ]
+		Prostetnic Vogon Jeltz was not a pleasant sight, even  for other
+		Vogons.  His  highly  domed nose  rose  high above a small piggy
+		forehead.His dark green rubbery skin was thick enough for him to
+		play the game of Vogon Civil Service politics, and play it well,
+		and waterproof enough for him  to  survive indefinitely  at  sea
+		depths of up to a thousand feet with no ill effects.
+		Not that he ever went swimming of course.His busy schedule would
+		not allow it.
+		[...] 
+		Prostetnic Vogon Jeltz was a fairly typical Vogon in that he was
+		thoroughly vile. Also, he did not like hitch hikers.
+
+		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+	Known under various names (Nu, Neph, Cenubis, Amen-Kneph,
+	Khery-Bakef), Ptah is the creator god and god of craftsmen.
+	He is usually depicted as wearing a closely fitting robe
+	with only his hands free.  His most distinctive features are
+	the invariable skull-cap exposing only his face and ears,
+	and the _was_ or rod of domination which he holds,
+	consisting of a staff surmounted by the _ankh_ symbol of
+	life.  He is otherwise symbolized by his sacred animal, the
+	bull.
+	A gargantuan version of the harmless rain-worm, the purple
+	worm poses a huge threat to the ordinary adventurer.  It is
+	known to swallow whole and digest its victims within only a
+	few minutes.  These worms are always on guard, sensitive
+	to the most minute vibrations in the earth, but may also
+	be awakened by a remote shriek.
+	The woodlands and other regions are inhabited by multitudes
+	of four-legged creatures which cannot be simply classified.
+	They might not have fiery breath or deadly stings, but
+	adventurers have nevertheless met their end numerous times
+	due to the claws, hooves, or bites of such animals.
+	These creatures are not native to this universe; they seem
+	to have strangely derived powers, and unknown motives.
+	Quasits are small, evil creatures, related to imps.  Their
+	talons release a very toxic poison when used in an attack.
+	Many, possibly most, Tours are organized as a Quest.  This
+	is like a large-scale treasure hunt, with clues scattered
+	all over the continent, a few false leads, Mystical Masters
+	as game-show hosts, and the Dark Lord and the Terrain to
+	make the Quest interestingly difficult.  [...]
+	In order to be assured of your future custom, the Management
+	has a further Rule:  Tourists, far from being rewarded for
+	achieving their Quest Object, must then go on to conquer
+	the Dark Lord or set about Saving the World, or both.  And
+	why not?  By then you will have had a lot of practice in
+	that sort of thing and, besides, the Quest Object is usually
+	designed to help you do it.
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	One of the principal Aztec-Toltec gods was the great and wise
+	Quetzalcoatl, who was called Kukumatz in Guatemala, and
+	Kukulcan in Yucatan.  His image, the plumed serpent, is found
+	on both the oldest and the most recent Indian edifices. ...
+	The legend tells how the Indian deity Quetzalcoatl came from
+	the "Land of the Rising Sun".  He wore a long white robe and
+	had a beard; he taught the people crafts and customs and laid
+	down wise laws.  He created an empire in which the ears of
+	corn were as long as men are tall, and caused bolls of colored
+	cotton to grow on cotton plants.  But for some reason or other
+	he had to leave his empire. ...  But all the legends of
+	Quetzalcoatl unanimously agree that he promised to come again.
+		[ Gods, Graves, and Scholars, by C. W. Ceram ]
+	Maltar: [...]  I remembered a little saying I learned my first
+	day at the academy.
+	Natalie: Yeah, yeah, I know.  Winners never quit and quitters
+	never win.
+	Maltar: What?  No!  Winners never quit and quitters should be
+	cast into the flaming pit of death.
+		[ Snow Day, directed by Chris Koch,
+		  written by Will McRobb and Chris Viscardi ]
+	The god of thunder.
+	"Lonely men are we, Rangers of the wild, hunters -- but hunters
+	ever of the servants of the Enemy; for they are found in many
+	places, not in Mordor only.
+	If Gondor, Boromir, has been a stalwart tower, we have played
+	another part.  Many evil things there are that your strong walls
+	and bright swords do not stay.  You know little of the lands
+	beyond your bounds.  Peace and freedom, do you say?  The North
+	would have known them little but for us.  Fear would have
+	destroyed them.  But when dark things come from the houseless
+	hills, or creep from sunless woods, they fly from us.  What
+	roads would any dare to tread, what safety would there be in
+	quiet lands, or in the homes of simple men at night, if the
+	Dunedain were asleep, or were all gone into the grave?"
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	A variant of the pike, the ranseur has a thin, double-edged 
+	primary blade. Secondary blades are backward-hooking projections 
+	set well below the large central blade, forming a crown-shape. 
+	The spearing function of the weapon is apparent, and the 
+	deflection includes the trapping of opponent weapons in the space 
+	below the main blade, where a twist of the shaft would apply 
+	pressure from it or the secondary projections to either break the 
+	caught weapon or disarm its wielder. Additionally, the side 
+	projections provide both a means of holding an opponent at long 
+	range or of pulling mounted opponents off their steed.
+	Rats are long-tailed rodents.  They are aggressive,
+	omnivorous, and adaptable, often carrying diseases.
+
+	"The rat," said O'Brien, still addressing his invisible
+	audience, "although a rodent, is carnivorous.  You are aware
+	of that.  You will have heard of the things that happen in
+	the poor quarters of this town.  In some streets a woman dare
+	not leave her baby alone in the house, even for five minutes.
+	The rats are certain to attack it.  Within quite a small time
+	they will strip it to the bones.  They also attack sick or
+	dying people.  They show astonishing intelligence in knowing
+	when a human being is helpless."
+	[ 1984, by George Orwell ]
+	But the raven, sitting lonely on the placid bust, spoke only
+	That one word, as if his soul in that one word he did outpour.
+	Nothing further then he uttered -- not a feather then he fluttered--
+	Till I scarcely more than muttered, 'other friends have flown before--
+	On the morrow *he* will leave me, as my hopes have flown before.'
+		Then the bird said, 'Nevermore.'
+				[ The Raven - Edgar Allan Poe ]
+	Three Rings for the Elven-kings under the sky,
+	Seven for the Dwarf-lords in their halls of stone,
+	Nine for Mortal Men doomed to die,
+	One for the Dark Lord on his dark throne,
+	In the Land of Mordor where the Shadows lie.
+	One Ring to rule them all, One Ring to find them,
+	One Ring to bring them all and in the darkness bind them
+	In the Land of Mordor where the Shadows lie.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Robes are the only garments, apart from Shirts, ever to have
+	sleeves.  They have three uses:
+	1.  As the official uniform of Priests, Priestesses, Monks,
+	Nuns (see Nunnery), and Wizards.  The OMT [ Official Management
+	Term ] prescribed for the Robes of Priests and Nuns is that
+	they _fall in severe folds_; of Priestesses that they _float_;
+	and of Wizards that they _swirl_.  You can thus see who you
+	are dealing with.
+	2.  For Kings.  The OMT here is _falling in stately folds_.
+	3.  As the garb of Desert Nomads.  [...]
+	[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	Bilbo saw that the moment had come when he must do something.
+	He could not get up at the brutes and he had nothing to shoot
+	with; but looking about he saw that in this place there were
+	many stones lying in what appeared to be a now dry little
+	watercourse.  Bilbo was a pretty fair shot with a stone, and
+	it did not take him long to find a nice smooth egg-shaped one
+	that fitted his hand cosily.  As a boy he used to practise
+	throwing stones at things, until rabbits and squirrels, and
+	even birds, got out of his way as quick as lightning if they
+	saw him stoop; and even grownup he had still spent a deal of
+	his time at quoits, dart-throwing, shooting at the wand,
+	bowls, ninepins and other quiet games of the aiming and
+	throwing sort - indeed he could do lots of things, besides
+	blowing smoke-rings, asking riddles and cooking, that I
+	haven't time to tell you about.  There is no time now.  While
+	he was picking up stones, the spider had reached Bombur, and
+	soon he would have been dead.  At that moment Bilbo threw.
+	The stone struck the spider plunk on the head, and it dropped
+	senseless off the tree, flop to the ground, with all its legs
+	curled up.
+		[ The Hobbit, by J.R.R. Tolkien ]
+	A rock mole is a member of the rodent family.  They get their
+	name from their ability to tunnel through rock in the same
+	fashion that a mole tunnels through earth.  They are known to
+	eat anything they come across in their diggings, although it
+	is still unknown how they convert some of these things into
+	something of nutritional value.
+	I understand the business, I hear it: to have an open ear, a
+	quick eye, and a nimble hand, is necessary for a cut-purse; a
+	good nose is requisite also, to smell out work for the other
+	senses.  I see this is the time that the unjust man doth
+	thrive. <...> The prince himself is about a piece of iniquity,
+	stealing away from his father with his clog at his heels:  if
+	I thought it were a piece of honesty to acquaint the king
+	withal, I would not do't:  I hold it the more knavery to
+	conceal it; and therein am I constant to my profession.
+		[ Autolycus the Rogue, from The Winter's Tale by
+						  William Shakespeare ]
+	The rothe (pronounced roth-AY) is a musk ox-like creature with
+	an aversion to light.  It prefers to live underground near
+	lichen and moss.
+	The Nome King declared, "Cruelty is a thing I can't abide. So, 
+	as slaves must work hard, and the Queen of Ev and her children 
+	were delicate and tender, I transformed them all into articles of 
+	ornament and bric-a-brac and scattered them around the various 
+	rooms of my palace. Instead of being obliged to labor, they 
+	merely decorate my apartments, and I really think I have treated 
+	them with great kindness." 
+		[ Ozma of Oz, by L. Frank Baum ]
+	"'Royal Jelly,'" he read aloud, "'must be a substance of
+	tremendous nourishing power, for on this diet alone, the
+	honey-bee larva increases in weight fifteen hundred times in
+	five days!'"
+
+	"How much?"
+
+	"Fifteen hundred times, Mabel.  And you know what that means
+	if you put it in terms of a human being?  It means," he said,
+	lowering his voice, leaning forward, fixing her with those
+	small pale eyes, "it means that in five days a baby weighing
+	seven and a half pounds to start off with would increase in
+	weight to five tons!"
+		[ Royal Jelly, by Roald Dahl ]
+	These strange creatures live on a diet of metals.  They can
+	turn a suit of armour into so much useless rusted scrap in no
+	time at all.   
+	Flashed all their sabres bare,
+	Flashed as they turned in air,
+	Sab'ring the gunners there,
+	Charging an army, while
+	All the world wondered:
+	Plunged in the battery smoke,
+	Right through the line they broke;
+	Cossack and Russian
+	Reeled from the sabre-stroke
+	Shattered and sundered.
+	Then they rode back, but not--
+	Not the six hundred.
+		[ The Charge of the Light Brigade,
+		  by Alfred, Lord Tennyson ]
+	The horseman serves the horse,
+	The neat-herd serves the neat,
+	The merchant serves the purse,
+	The eater serves his meat;
+	'Tis the day of the chattel,
+	Web to weave, and corn to grind,
+	Things are in the saddle,
+	And ride mankind.
+		[ Ode, by Ralph Waldo Emerson ]
+	Japanese rice wine.
+	For hundreds of years, many people believed that salamanders
+	were magical.  In England in the Middle Ages, people thought
+	that fire created salamanders.  When they set fire to damp
+	logs, dozens of the slimy creatures scurried out.  The word
+	salamander, in fact, comes from a Greek word meaning "fire
+	animal".
+		[ Salamanders, by Cherie Winner ]
+	By that time, Narahara had already slipped his arm from the
+	sleeve of his outer robe, drew out his two-and-a-half-foot
+	Fujiwara Tadahiro sword, and, brandishing it over his head,
+	began barreling toward the foreigners.  In less than a minute,
+	he had charged upon them and cut one of them through the torso.
+	The man fled, clutching his bulging guts, finally to fall from
+	his horse at the foot of a pine tree about a thousand yards
+	away.  Kaeda Takeji finished him off.  The other two Englishmen
+	were severely wounded as they tried to flee.  Only the woman
+	managed to escape virtually unscathed.
+		[ The Fox-horse, from Drunk as a Lord, by Ryotaro Shiba ]
+	Ildefonse left the terrace and almost immediately sounds
+	of contention came from the direction of the work-room.
+	Ildefonse presently returned to the terrace, followed by
+	Osherl and a second sandestin using the guise of a gaunt blue
+	bird-like creature, some six feet in height.
+
+	Ildefonse spoke in scathing tones:  "Behold these two
+	creatures!  They can roam the chronoplex as easily as you
+	or I can walk around the table; yet neither has the wit to
+	announce his presence upon arrival.  I found Osherl asleep
+	in his fulgurite and Sarsem perched in the rafters."
+		[...]
+	"No matter," said Rhialto.  "He has brought Sarsem, and this
+	was his requirement.  In the main, Osherl, you have done well!"
+
+	"And my indenture point?"
+
+	"Much depends upon Sarsem's testimony.  Sarsem, will you sit?"
+
+	"In this guise, I find it more convenient to stand."
+
+	"Then why not alter to human form and join us in comfort at
+	the table?"
+
+	"That is a good idea."  Sarsem became a naked young epicene
+	in an integument of lavender scales with puffs of purple hair
+	like pom-poms growing down his back.  He seated himself at
+	the table but declined refreshment.  "This human semblance,
+	though typical, is after all, only a guise.  If I were to put
+	such things inside myself, I might well become uneasy."
+		[ Rhialto the Marvellous, by Jack Vance ]
+	The name _Sasquatch_ doesn't really become important in Canada
+	until the 1930s, when it appeared in the works of J. W. Burns,
+	a British Columbian writer who used a great deal of Indian
+	lore in his stories.  Burn's Sasquatch was a giant Indian who
+	lived in the wilderness.  He was hairy only in the sense that
+	he had long hair on his head, and while this Sasquatch lived a
+	wild and primitive life, he was fully human.
+	Burns's character proved to be quite popular.  There was a
+	Sasquatch Inn near the town of Harrison, British Columbia, and
+	Harrison even had a local celebration called "Sasquatch Days."
+	The celebration which had been dormant for years was revived
+	as part of British Columbia's centennial, and one of the
+	events was to be a Sasquatch hunt.  The hunt never took place,
+	perhaps it was never supposed to, but the publicity about it
+	did bring out a number of people who said they had encountered
+	a Sasquatch -- not Burns's giant Indian, but the hairy apelike
+	creature that we have all come to know.
+		[ The Encyclopedia of Monsters, by Daniel Cohen ]
+	This mace was created aeons ago in some unknown cave,
+	and has been passed down from generation to generation of
+	cave dwellers.  It is a very mighty mace indeed, and in
+	addition will protect anyone who carries it from magic
+	missile attacks.  When invoked, it causes conflict in the
+	area around it.
+	Oh, how handsome, how noble was the Vizier Ali Tebelin,
+	my father, as he stood there in the midst of the shot, his
+	scimitar in his hand, his face black with powder!  How his
+	enemies fled before him!
+		[ The Count of Monte Cristo, by Alexandre Dumas ]
+	A sub-species of the spider (_Scorpionidae_), the scorpion
+	distinguishes itself from them by having a lower body that
+	ends in a long, jointed tail tapering to a poisonous stinger.
+	They have eight legs and pincers.
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+	Since early times, the Scorpion has represented death, darkness,
+	and evil.  Scorpius is the reputed slayer of Orion the Hunter.
+	[...]  The gods put both scorpion and hunter among the stars, but
+	on opposite sides of the sky so they would never fight again.
+	As Scorpius rises in the east, Orion sets in the west.
+		[ 365 Starry Nights, by Chet Raymo ]
+	And I was gazing on the surges prone,
+	With many a scalding tear and many a groan,
+	When at my feet emerg'd an old man's hand,
+	Grasping this scroll, and this same slender wand.
+	I knelt with pain--reached out my hand--had grasp'd
+	Those treasures--touch'd the knuckles--they unclasp'd--
+	I caught a finger: but the downward weight
+	O'erpowered me--it sank. Then 'gan abate
+	The storm, and through chill aguish gloom outburst
+	The comfortable sun. I was athirst
+	To search the book, and in the warming air
+	Parted its dripping leaves with eager care.
+	Strange matters did it treat of, and drew on
+	My soul page after page, till well-nigh won
+	Into forgetfulness; when, stupefied,
+	I read these words, and read again, and tried
+	My eyes against the heavens, and read again.
+		[ Endymion, by John Keats ]
+	Shades are undead creatures.  They differ from zombies in
+	that a zombie is an undead animation of a corpse, while a
+	shade is an undead creature magically created by the use
+	of black magic.
+	Making his quarters in the Caves of the Ancestors, Shaman
+	Karnov unceasingly tries to shield his neanderthal people
+	from Tiamat's minions' harassments.
+	The Chinese god of Mountains and Seas, also the name of an
+	old book (also Shan Hai Tjing), the book of mountains and
+	seas - which deals with the monster Kung Kung trying to
+	seize power from Yao, the fourth emperor.
+		[ Spectrum Atlas van de Mythologie ]
+ 	As the shark moved, its dark top reflected virtually no
+ 	light.  The denticles on its skin muted the whoosh of its
+ 	movements as the shark rose, driven by the power of the
+ 	great tail sweeping from side to side, like a scythe.  
+ 	The fish exploded upward.
+ 	Charles Bruder felt a slight vacuum tug in the motion of
+ 	the sea, noted it as a passing current, the pull of a wave,
+ 	the tickle of undertow.  He could not have heard the faint
+ 	sucking rush of water not far beneath him.  He couldn't
+ 	have seen or heard what was hurtling from the murk at
+ 	astonishing speed, jaws unhinging, widening, for the
+ 	enormous first bite.  It was the classic attack
+ 	that no other creature in nature could make -- a bomb from
+ 	the depths.
+ 		[ Close to Shore, by Michael Capuzzo ]
+	A Japanese stabbing knife.
+	"... in the place of utter blasphemy, the unholy pit where 
+	the black realm begins and the watcher guards the gate - 
+	I saw a shoggoth - it changed shape ..."
+		[ The Thing on the Doorstep, by H.P. Lovecraft ]
+
+	It was a terrible, indescribable thing vaster than any subway 
+	train -- a shapeless congeries of protoplasmic bubbles, faintly
+	self-luminous, and with myriads of temporary eyes forming and 
+	un-forming as pustules of greenish light all over the tunnel-
+	filling front that bore down upon us, crushing the frantic 
+	penguins and slithering over the glistening floor that it and 
+	its kind had swept so evilly free of all litter. Still came 
+	that eldritch, mocking cry -- "Tekeli-li! Tekeli-li!" and at 
+	last we remembered that the demoniac Shoggoths - given life, 
+	thought, and plastic organ patterns solely by the Old Ones ...
+		[ At the Mountains of Madness, by H.P. Lovecraft ]
+ 	With a single, savage thrust of her spear, the warrior-woman 
+ 	impaled the fungus, silencing it.  However, it was too late:  
+ 	the alarm had been raised[...]
+ 	Suddenly, a large, dark shape rose from the abyss before them, 
+ 	its fetid bulk looming overhead...The monster was some kind of
+ 	great dark worm, but that was about all they were sure of.  
+ 		[ The Adventurers, Epic IV, by Thomas A. Miller ]
+	A white, precious, metallic chemical element that is extremely 
+	ductile and malleable, capable of high polish, and an excellent
+	conductor of heat and electricity: symbol, Ag; atomic weight,
+	107.880; atomic number, 47.
+	[ Webster's New Twentieth Century Dictionary Unabridged,
+		Second Edition]
+	A skeleton is a magically animated undead creature.  Unlike
+	shades, only a humanoid creature can be used to create a
+	skeleton.  No one knows why this is true, but it has become
+	an accepted fact amongst the practitioners of the black arts.
+	"That dog belonged to a settler who tried to build his cabin
+	on the bank of the river a few miles south of the fort,"
+	grunted Conan. ...  "We took him to the fort and dressed his
+	wounds, but after he recovered he took to the woods and turned
+	wild.  -- What now, Slasher, are you hunting the men who
+	killed your master?" ...  "Let him come," muttered Conan.
+	"He can smell the devils before we can see them." ...
+	Slasher cleared the timbers with a bound and leaped into the
+	bushes.  They were violently shaken and then the dog slunk
+	back to Balthus' side, his jaws crimson. ...  "He was a man,"
+	said Conan.  "I drink to his shade, and to the shade of the
+	dog, who knew no fear."  He quaffed part of the wine, then
+	emptied the rest upon the floor, with a curious heathen
+	gesture, and smashed the goblet.  "The heads of ten Picts
+	shall pay for this, and seven heads for the dog, who was a
+	better warrior than many a man."
+		[ Conan The Warrior, by Robert E Howard ]
+	Slime mold or slime fungus, organism usually classified with
+	the fungi, but showing equal affinity to the protozoa.  Slime
+	molds have complex life cycles with an animal-like motile
+	phase, in which feeding and growth occur, and a plant-like
+	immotile reproductive phase.  The motile phase, commonly
+	found under rotting logs and damp leaves, consists of either
+	solitary amoebalike cells or a brightly colored multinucleate
+	mass of protoplasm called a plasmodium, which creeps about
+	and feeds by amoeboid movement.
+		[ The Concise Columbia Encyclopedia ]
+	"There he lay, a vast red-golden dragon, fast asleep; a thrumming
+	came from his jaws and nostrils, and wisps of smoke, but his fires
+	were low in slumber.  Beneath him, under all his limbs and his
+	huge coiled tail, and about him on all sides stretching away
+	across the unseen floors, lay countless piles of precious things,
+	gold wrought and unwrought, gems and jewels, and silver
+	red-stained in the ruddy light."
+		[The Hobbit by J.R.R. Tolkien]
+	And it came to pass, when the Philistine arose, and came and
+	drew nigh to meet David, that David hasted, and ran toward
+	the army to meet the Philistine.
+	And David put his hand in his bag, and took thence a stone,
+	and slang it, and smote the Philistine in his forehead, that
+	the stone sunk into his forehead; and he fell upon his face
+	to the earth.
+	So David prevailed over the Philistine with a sling and with
+	a stone, and smote the Philistine, and slew him; but there
+	was no sword in the hand of David.
+		[ 1 Samuel 17:48-50 ]
+	Now the serpent was more subtle than any beast of the field
+	which the Lord God had made.  And he said unto the woman, Yea,
+	hath God said, Ye shall not eat of every tree of the garden?
+	And the woman said unto the serpent, We may eat of the fruit of
+	the trees of the garden:  but of the fruit of the tree which is
+	in the midst of the garden, God hath said, Ye shall not eat of
+	it, neither shall ye touch it, lest ye die.  And the serpent
+	said unto the woman, Ye shall not surely die:  for God doth
+	know that in the day ye eat thereof, then your eyes shall be
+	opened, and ye shall be as gods, knowing good and evil.  And
+	when the woman saw that the tree was good for food, and that it
+	was pleasant to the eyes, and a tree to be desired to make one
+	wise, she took of the fruit thereof, and did eat, and gave also
+	unto her husband with her; and he did eat.
+
+	And the Lord God said unto the woman, What is this that thou
+	hast done?  And the woman said, The serpent beguiled me, and I
+	did eat.  And the Lord God said unto the serpent, Because thou
+	hast done this, thou art cursed above all cattle, and above
+	every beast of the field; upon thy belly shalt thou go, and
+	dust shalt thou eat all the days of thy life:  And I will put
+	enmity between thee and the woman, and between thy seed and her
+	seed; it shall bruise thy head, and thou shalt bruise his heel.
+		[ Genesis 3:1-6,13-15 ]
+	Ah, never shall I forget the cry,
+		or the shriek that shrieked he,
+	As I gnashed my teeth, and from my sheath
+		I drew my Snickersnee!
+	--Koko, Lord high executioner of Titipu
+		[ The Mikado, by Sir W.S. Gilbert ]
+	Sokoban (Japanese for "warehouse person") is a puzzle-type
+	game where the player must push around treasure to a goal
+	area.  It apparently won first prize in a Japanese programming
+	contest.
+		[ Xsokoban web site ]
+	The soldiers of Yendor are well-trained in the art of war,
+	many trained by the Wizard himself.  Some say the soldiers
+	are explorers who were unfortunate enough to be captured,
+	and put under the Wizard's spell.  Those who have survived
+	encounters with soldiers say they travel together in platoons,
+	and are fierce fighters.  Because of the load of their combat
+	gear, however, one can usually run away from them, and doing
+	so is considered a wise thing.
+	- they come together with great random, and a spear is brast,
+	and one party brake his shield and the other one goes down,
+	horse and man, over his horse-tail and brake his neck, and
+	then the next candidate comes randoming in, and brast his
+	spear, and the other man brast his shield, and down he goes,
+	horse and man, over his horse-tail, and brake his neck, and
+	then there's another elected, and another and another and
+	still another, till the material is all used up; and when you
+	come to figure up results, you can't tell one fight from
+	another, nor who whipped; and as a picture of living, raging,
+	roaring battle, sho! why it's pale and noiseless - just
+	ghosts scuffling in a fog.  Dear me, what would this barren
+	vocabulary get out of the mightiest spectacle? - the burning
+	of Rome in Nero's time, for instance?  Why, it would merely
+	say 'Town burned down; no insurance; boy brast a window,
+	fireman brake his neck!'  Why, that ain't a picture!
+		[ A Connecticut Yankee in King Arthur's Court, by Mark
+		  Twain ]
+	The Book of Three lay closed on the table.  Taran had never
+	been allowed to read the volume for himself; now he was sure
+	it held more than Dallben chose to tell him.  In the sun-
+	filled room, with Dallben still meditating and showing no
+	sign of stopping, Taran rose and moved through the shimmering
+	beams.  From the forest came the monotonous tick of a beetle.
+	His hands reached for the cover.  Taran gasped in pain and
+	snatched them away.  They smarted as if each of his fingers
+	had been stung by hornets.  He jumped back, stumbled against
+	the bench, and dropped to the floor, where he put his fingers
+	woefully into his mouth.
+	Dallben's eyes blinked open.  He peered at Taran and yawned
+	slowly.  "You had better see Coll about a lotion for those
+	hands," he advised.  "Otherwise, I shouldn't be surprised if
+	they blistered."
+		[ The Book of Three, by Lloyd Alexander ]
+	Eight legged creature capable of spinning webs to trap prey.
+
+	"You mean you eat flies?" gasped Wilbur.
+	"Certainly.  Flies, bugs, grasshoppers, choice beetles,
+	moths, butterflies, tasty cockroaches, gnats, midges, daddy
+	longlegs, centipedes, mosquitoes, crickets - anything that is
+	careless enough to get caught in my web.  I have to live,
+	don't I?"
+	"Why, yes, of course," said Wilbur.
+		[ Charlotte's Web, by E.B. White ]
+	...Great horns she had,  and behind her short stalk-like neck
+	was her huge swollen body, a vast bloated bag, swaying  and
+	sagging between her legs; its great bulk was black, blotched
+	with livid marks, but the belley underneath was pale and 
+	luminous and gave forth a stench. Her legs were bent, with 
+	great knobbed joints high above her back, and hairs that stuck
+	out like steel spines, and at each leg's end there was a claw.
+		[ The Two Towers, by J.R.R. Tolkien ]
+	A spell is a consciously directed act of magic which may take
+	almost any form, depending on the laws of magic in operation.
+	Commonly there will be a spoken element, ranging from a simple 
+	phrase or name to elaborately complex ritual incantations. 
+	[...]  Hand-gestures or passes may be required -- called 
+	the "somatic element" by the scientific magic investigators 
+	in L. Sprague de Camp's and Fletcher Pratt's _Incomplete
+	Enchanter_ series.
+	Many spells exhaust the caster, like Gorice's arduous conjuration
+	in _The Worm Ouroboros_ (1922) by E. R. Eddison.  Jack Vance's 
+	_The Dying Earth_ (1950) has spells which must be painstakingly 
+	impressed on the mind (whose capacity is finite), and when cast 
+	are gone until re-learned.  
+		[ The Encyclopedia of Fantasy by David Langford ]
+	The attack by those who want to die -- this is the attack
+	against which you cannot prepare a perfect defense.
+					--Human aphorism
+		[ The Dosadi Experiment, by Frank Herbert ]
+	So they stood, each in his place, neither moving a finger's
+	breadth back, for one good hour, and many blows were given
+	and received by each in that time, till here and there were
+	sore bones and bumps, yet neither thought of crying "Enough,"
+	or seemed likely to fall from off the bridge.  Now and then
+	they stopped to rest, and each thought that he never had seen
+	in all his life before such a hand at quarterstaff.  At last
+	Robin gave the stranger a blow upon the ribs that made his
+	jacket smoke like a damp straw thatch in the sun.  So shrewd
+	was the stroke that the stranger came within a hair's breadth
+	of falling off the bridge; but he regained himself right
+	quickly, and, by a dexterous blow, gave Robin a crack on the
+	crown that caused the blood to flow.  Then Robin grew mad
+	with anger, and smote with all his might at the other; but
+	the stranger warded the blow, and once again thwacked Robin,
+	and this time so fairly that he fell heels over head into the
+	water, as the queen pin falls in a game of bowls.
+		[ The Merry Adventures of Robin Hood, by Howard Pyle ]
+	This staff is considered sacred to all healers, as it truly
+	holds the powers of life and death.  When wielded, it
+	protects its user from all life draining attacks, and
+	additionally gives the wielder the power of regeneration.
+	When invoked it performs healing magic.
+	Up he went -- very quickly at first -- then more slowly -- then
+	in a little while even more slowly than that -- and finally,
+	after many minutes of climbing up the endless stairway, one
+	weary foot was barely able to follow the other.  Milo suddenly
+	realized that with all his effort he was no closer to the top
+	than when he began, and not a great deal further from the
+	bottom.  But he struggled on for a while longer, until at last,
+	completely exhausted, he collapsed onto one of the steps.
+	"I should have known it," he mumbled, resting his tired legs
+	and filling his lungs with air.  "This is just like the line
+	that goes on forever, and I'll never get there."
+	"You wouldn't like it much anyway," someone replied gently.
+	"Infinity is a dreadfully poor place.  They can never manage to
+	make ends meet."
+		[ The Phantom Tollbooth, by Norton Juster ]
+
+	Dr. Ray Stantz: Hey, where do those stairs go?
+	Dr. Peter Venkman: They go up.
+		[ Ghostbusters, directed by Ivan Reitman,
+		  written by Dan Ackroyd and Harold Ramis ]
+	A creature from beyond the stars. Invisible, it floats along
+	until it finds something to feed upon and then draws its
+	life energy and blood into itself.  It is said that they
+	become briefly visible just after they have eaten and that
+	this is such a terrible sight it can drive a mortal insane.
+	Then at last he began to wonder why the lion was standing so
+	still - for it hadn't moved one inch since he first set eyes
+	on it.  Edmund now ventured a little nearer, still keeping in
+	the shadow of the arch as much as he could.  He now saw from
+	the way the lion was standing that it couldn't have been
+	looking at him at all.  ("But supposing it turns its head?"
+	thought Edmund.)  In fact it was staring at something else -
+	namely a little dwarf who stood with his back to it about
+	four feet away.  "Aha!" thought Edmund.  "When it springs at
+	the dwarf then will be my chance to escape."  But still the
+	lion never moved, nor did the dwarf.  And now at last Edmund
+	remembered what the others had said about the White Witch
+	turning people into stone.  Perhaps this was only a stone
+	lion.  And as soon as he had thought of that he noticed that
+	the lion's back and the top of its head were covered with
+	snow.  Of course it must be only a statue!
+		[ The Lion, the Witch and the Wardrobe by C.S. Lewis ]
+	There was the usual dim grey light of the forest-day about
+	him when he came to his senses.  The spider lay dead beside
+	him, and his sword-blade was stained black.  Somehow the
+	killing of the giant spider, all alone and by himself in the
+	dark without the help of the wizard or the dwarves or of
+	anyone else, made a great difference to Mr. Baggins.  He felt
+	a different person, and much fiercer and bolder in spite of
+	an empty stomach, as he wiped his sword on the grass and put
+	it back into its sheath.
+	"I will give you a name," he said to it, "and I shall call
+	you Sting."
+		[ The Hobbit, by J.R.R. Tolkien ]
+	There were sounds in the distance, incongruent with the 
+	sounds of even this nameless, timeless sea: thin sounds, 
+	agonized and terrible, for all that they remained 
+	remote - yet the ship followed them, as if drawn by
+	them; they grew louder-pain and despair were there, but 
+	terror was predominant.
+	Elric had heard such sounds echoing from his cousin Yyrkoon's
+	sardonically named 'Pleasure Chambers' in the days before he 
+	had fled the responsibilities of ruling all that remained of 
+	the old Melnibonean Empire.  These were the voices of men 
+	whose very souls were under siege; men to whom death meant 
+	not mere extinction, but a continuation of existence, forever 
+	in thrall to some cruel and supernatural master.  He had heard 
+	men cry so when his salvation and his nemesis, his great black
+	battle-blade Stormbringer, drank their souls.
+		[ The Lands Beyond the World, by Michael Moorcock ]
+
+	Without thinking, he drew Stormbringer from its sheath.
+	The Black Sword began to howl and the familiar black radiance
+	spilled from it.  The runes carved into its blade pulsed a vivid
+	scarlet which slowly turned to a deep purple and then to black
+	once more.
+	The creatures were wading through the water on their
+	stiltlike legs and paused when they saw the sword, glancing at
+	one another.  And they were not the only ones unnerved by the
+	sight, for Duke Avan and his men paled too.
+	'Gods!' yelled Duke Avan.  'I know not which I prefer
+	the look of - those who attack us or that which defends us!'
+	'Stay well away from that sword,' Smiorgan warned.
+	'It has the habit of killing more than its master chooses.'"
+		[ The Sailor On the Seas of Fate, by Michael Moorcock ]
+
+	The Pan Tangian strove to imitate Elric's irony.  
+	'But you will note, Sir Demon, that we outnumber you.  
+	Considerably.'
+	Softly the albino spoke: 'I've noticed that fact, but I'm not 
+	disturbed by it,' and he had drawn the black blade even as he
+	finished speaking, for they had come at him with a rush.
+	The Pan Tangian was the first to die, sliced through the
+	side, his vertebrae sheared, and Stormbringer, having taken its
+	first soul, began to sing.
+	A Chalalite died next, leaping with stabbing javelin
+	poised, on the point of the runesword, and Stormbringer murmured
+	with pleasure.
+	But it was not until it had sliced the head clean off a
+	Filkharian pike-master that the sword began to croon and come
+	fully to life, black fire flickering up and down its length, its
+	strange runes glowing."
+		[ The Sailor On the Seas of Fate, by Michael Moorcock ]
+	The Shinto chthonic and weather god and brother of the sun
+	goddess Amaterasu, he was born from the nose of the
+	primordial creator god Izanagi and represents the physical,
+	material world.  He has been expelled from heaven and taken
+	up residence on earth.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Samurai plate armor of the Yamato period (AD 300 - 710).
+	The tengu was the most troublesome creature of Japanese
+	legend.  Part bird and part man, with red beak for a nose
+	and flashing eyes, the tengu was notorious for stirring up
+	feuds and prolonging enmity between families.  Indeed, the
+	belligerent tengu were supposed to have been man's first
+	instructors in the use of arms.
+	[ Mythical Beasts, by Deirdre Headon (The Leprechaun Library) ]
+	Known as 'Thorin Oakenshield' because in the Battle of Azanulbizar
+	he used an oak-branch as a shield and club.  He is the King of
+	Durin's folk in exile, and wears a golden necklace and a belt.
+	The Egyptian god of the moon and wisdom, Thoth is the patron
+	deity of scribes and of knowledge, including scientific,
+	medical and mathematical writing, and is said to have given
+	mankind the art of hieroglyphic writing.  He is important as
+	a mediator and counsellor amongst the gods and is the scribe
+	of the Heliopolis Ennead pantheon.  According to mythology,
+	he was born from the head of the god Seth.  He may be
+	depicted in human form with the head of an ibis, wholly as an
+	ibis, or as a seated baboon sometimes with its torso covered
+	in feathers.  His attributes include a crown which consists
+	of a crescent moon surmounted by a moon disc.
+	Thoth is generally regarded as a benign deity.  He is also
+	scrupulously fair and is responsible not only for entering
+	in the record the souls who pass to afterlife, but of
+	adjudicating in the Hall of the Two Truths.  The Pyramid
+	Texts reveal a violent side of his nature by which he
+	decapitates the adversaries of truth and wrenches out their
+	hearts.
+		[ Encyclopedia of Gods, by Michael Jordan ]
+	Men say that he [Thutothmes] has opposed Thoth-Amon, who is
+	master of all priests of Set, and dwells in Luxor, and that
+	Thutothmes seeks hidden power [The Heart of Ahriman] to
+	overthrow the Great One.
+		[ Conan the Conqueror, by Robert E. Howard ]
+	Methought I saw the footsteps of a throne
+	Which mists and vapours from mine eyes did shroud--
+	Nor view of who might sit thereon allowed;
+	But all the steps and ground about were strown
+	With sights the ruefullest that flesh and bone
+	Ever put on; a miserable crowd,
+	Sick, hale, old, young, who cried before that cloud,
+	"Thou art our king,
+	O Death! to thee we groan."
+	Those steps I clomb; the mists before me gave
+	Smooth way; and I beheld the face of one
+	Sleeping alone within a mossy cave,
+	With her face up to heaven; that seemed to have
+	Pleasing remembrance of a thought foregone;
+	A lovely Beauty in a summer grave!
+		[ Sonnet, by William Wordsworth ]
+	1.  A well-known tropical predator (_Felis tigris_): a
+	feline.  It has a yellowish skin with darker spots or
+	stripes.  2.  Figurative: _a paper tiger_, something that is
+	meant to scare, but has no really scaring effect whatsoever,
+	(after a statement by Mao Ze Dong, August 1946).
+		[ Van Dale's Groot Woordenboek der Nederlandse Taal ]
+
+	Tyger! Tyger! burning bright
+	In the forests of the night,
+	What immortal hand or eye
+	Could frame thy fearful symmetry?
+		[ The Tyger, by William Blake ]
+	"You know salmon, Sarge," said Nobby.
+	"It is a fish of which I am aware, yes."
+	"You know they sell kind of slices of it in tins..."
+	"So I am given to understand, yes."
+	"Weell...how come all the tins are the same size?  Salmon
+	gets thinner at both ends."
+	"Interesting point, Nobby.  I think-"
+		[ Soul Music, by Terry Pratchett ]
+	Less than thirty Cat tribes now survived, roaming the cargo
+	decks on their hind legs in a desperate search for food.
+	But the food had gone.
+	The supplies were finished.
+	Weak and ailing, they prayed at the supply hold's silver
+	mountains: huge towering acres of metal rocks which, in their
+	pagan way, the mutant Cats believed watched over them.
+	Amid the wailing and the screeching one Cat stood up and held
+	aloft the sacred icon.  The icon which had been passed down
+	as holy, and one day would make its use known.
+	It was a piece of V-shaped metal with a revolving handle on
+	its head.
+	He took down a silver rock from the silver mountain, while
+	the other Cats cowered and screamed at the blasphemy.
+	He placed the icon on the rim of the rock, and turned the
+	handle.
+	And the handle turned.
+	And the rock opened.
+	And inside the rock was Alphabetti spaghetti in tomato sauce.
+		[ Red Dwarf, by Rob Grant and Doug Naylor ]
+	Gaea, mother earth, arose from the Chaos and gave birth to
+	Uranus, heaven, who became her consort.  Uranus hated all
+	their children, because he feared they might challenge his
+	own authority.  Those children, the Titans, the Gigantes,
+	and the Cyclops, were banished to the nether world.  Their
+	enraged mother eventually released the youngest titan,
+	Chronos (time), and encouraged him to castrate his father and
+	rule in his place.  Later, he too was challenged by his own
+	son, Zeus, and he and his fellow titans were ousted from
+	Mount Olympus.
+		[ Greek Mythology, by Richard Patrick ]
+	"Gold is tried by a touchstone, men by gold."
+		[ Chilon (c. 560 BC) ]
+	The road from Ankh-Morpork to Chrim is high, white and
+	winding, a thirty-league stretch of potholes and half-buried
+	rocks that spirals around mountains and dips into cool green
+	valleys of citrus trees, crosses liana-webbed gorges on
+	creaking rope bridges and is generally more picturesque than
+	useful.
+	Picturesque.  That was a new word to Rincewind the wizard
+	(BMgc, Unseen University [failed]).  It was one of a number
+	he had picked up since leaving the charred ruins of
+	Ankh-Morpork.  Quaint was another one.  Picturesque meant --
+	he decided after careful observation of the scenery that
+	inspired Twoflower to use the word -- that the landscape was
+	horribly precipitous.  Quaint, when used to describe the
+	occasional village through which they passed, meant fever-
+	ridden and tumbledown.
+	Twoflower was a tourist, the first ever seen on the discworld.
+	Tourist, Rincewind had decided, meant "idiot".
+		[ The Colour of Magic, by Terry Pratchett ]
+	The Hitchhiker's Guide to the Galaxy has a few things to say
+	on the subject of towels.
+	A towel, it says, is about the most massively useful thing
+	an interstellar hitchhiker can have.  Partly it has great
+	practical value.  You can wrap it around you for warmth as
+	you bound across the cold moons of Jaglan Beta; you can lie
+	on it on the brilliant marble-sanded beaches of Santraginus
+	V, inhaling the heady sea vapors; you can sleep under it
+	beneath the stars which shine so redly on the desert world of
+	Kakrafoon; use it to sail a miniraft down down the slow heavy
+	River Moth; wet it for use in hand-to-hand combat; wrap it
+	round your head to ward off noxious fumes or avoid the gaze
+	of the Ravenous Bugblatter Beast of Traal (a mind-bogglingly
+	stupid animal, it assumes that if you can't see it, it can't
+	see you - daft as a brush, but very very ravenous); you can
+	wave your towel in emergencies as a distress signal, and of
+	course dry yourself off with it if it still seems to be clean
+	enough.
+		[ The Hitchhiker's Guide to the Galaxy,
+		  by Douglas Adams ]
+	Towers (_brooding_, _dark_) stand alone in Waste Areas and
+	almost always belong to Wizards.  All are several stories high,
+	round, doorless, virtually windowless, and composed of smooth
+	blocks of masonry that make them very hard to climb. [...]
+	You will have to go to a Tower and then break into it at some
+	point towards the end of your Tour.
+		[ The Tough Guide to Fantasyland, by Diana Wynne Jones ]
+	I knew my Erik too well to feel at all comfortable on jumping
+	into his house.  I knew what he had made of a certain palace at
+	Mazenderan.  From being the most honest building conceivable, he
+	soon turned it into a house of the very devil, where you could
+	not utter a word but it was overheard or repeated by an echo.
+	With his trap-doors the monster was responsible for endless
+	tragedies of all kinds.
+		[ The Phantom of the Opera, by Gaston Leroux ]
+	The trapper is a creature which has evolved a chameleon-like
+	ability to blend into the dungeon surroundings.  It captures
+	its prey by remaining very still and blending into the
+	surrounding dungeon features, until an unsuspecting creature
+	passes by.  It wraps itself around its prey and digests it.
+	I think that I shall never see
+	A poem lovely as a tree.
+	A tree whose hungry mouth is prest
+	Against the earth's sweet flowing breast;
+	A tree that looks at God all day,
+	And lifts her leafy arms to pray;
+	A tree that may in Summer wear
+	A nest of robins in her hair;
+	Upon whose bosom snow has lain;
+	Who intimately lives with rain.
+	Poems are made by fools like me,
+	But only God can make a tree.
+		[ Trees - Joyce Kilmer ]
+	If you start from scratch, cooking tripe is a long-drawn-out
+	affair.  Fresh whole tripe calls for a minimum of 12 hours of
+	cooking, some time-honored recipes demanding as much as 24.
+	To prepare fresh tripe, trim if necessary.  Wash it thoroughly,
+	soaking overnight, and blanch, for 1/2 hour in salted water.
+	Wash well again, drain and cut for cooking.  When cooked, the
+	texture of tripe should be like that of soft gristle.  More
+	often, alas, because the heat has not been kept low enough,
+	it has the consistency of wet shoe leather.
+		[ Joy of Cooking, by I Rombauer and M Becker ]
+	The troll shambled closer.  He was perhaps eight feet tall,
+	perhaps more.  His forward stoop, with arms dangling past
+	thick claw-footed legs to the ground, made it hard to tell.
+	The hairless green skin moved upon his body.  His head was a
+	gash of a mouth, a yard-long nose, and two eyes which drank
+	the feeble torchlight and never gave back a gleam.
+	[...]
+	Like a huge green spider, the troll's severed hand ran on its
+	fingers.  Across the mounded floor, up onto a log with one
+	taloned forefinger to hook it over the bark, down again it
+	scrambled, until it found the cut wrist.  And there it grew
+	fast.  The troll's smashed head seethed and knit together.
+	He clambered back on his feet and grinned at them.  The
+	waning faggot cast red light over his fangs.
+		[ Three Hearts and Three Lions, by Poul Anderson ]
+	This most ancient of swords has been passed down through the
+	leadership of the Samurai legions for hundreds of years.  It
+	is said to grant luck to its wielder, but its main power is
+	terrible to behold.  It has the capability to cut in half any
+	creature it is wielded against, instantly killing them.
+	The tsurugi, also known as the long samurai sword, is an
+	extremely sharp, two-handed blade favored by the samurai.
+	It is made of hardened steel, and is manufactured using a
+	special process, causing it to never rust.  The tsurugi is
+	rumored to be so sharp that it can occasionally cut
+	opponents in half!
+	"Rincewind!"
+	Twoflower sprang off the bed.  The wizard jumped back,
+	wrenching his features into a smile.
+	"My dear chap, right on time!  We'll just have lunch, and
+	then I'm sure you've got a wonderful programme lined up for
+	this afternoon!"
+	"Er --"
+	"That's great!"
+	Rincewind took a deep breath.  "Look," he said desperately,
+	"let's eat somewhere else.  There's been a bit of a fight
+	down below."
+	"A tavern brawl?  Why didn't you wake me up?"
+	"Well, you see, I - _what_?"
+	"I thought I made myself clear this morning, Rincewind.  I
+	want to see genuine Morporkian life - the slave market, the
+	Whore Pits, the Temple of Small Gods, the Beggar's Guild...
+	and a genuine tavern brawl."  A faint note of suspicion
+	entered Twoflower's voice.  "You _do_ have them, don't you?
+	You know, people swinging on chandeliers, swordfights over
+	the table, the sort of thing Hrun the Barbarian and the
+	Weasel are always getting involved in.  You know --
+	_excitement_."
+		[ The Colour of Magic, by Terry Pratchett ]
+	Yet remains that one of the Aesir who is called Tyr:
+	he is most daring, and best in stoutness of heart, and he
+	has much authority over victory in battle; it is good for
+	men of valor to invoke him.  It is a proverb, that he is
+	Tyr-valiant, who surpasses other men and does not waver.
+	He is wise, so that it is also said, that he that is wisest
+	is Tyr-prudent.  This is one token of his daring:  when the
+	Aesir enticed Fenris-Wolf to take upon him the fetter Gleipnir,
+	the wolf did not believe them, that they would loose him,
+	until they laid Tyr's hand into his mouth as a pledge.  But
+	when the Aesir would not loose him, then he bit off the hand
+	at the place now called 'the wolf's joint;' and Tyr is one-
+	handed, and is not called a reconciler of men.
+		[ The Prose Edda, by Snorri Sturluson ]
+	Umber hulks are powerful subterranean predators whose
+	iron-like claws allow them to burrow through solid stone in
+	search of prey.  They are tremendously strong; muscles bulge
+	beneath their thick, scaly hides and their powerful arms and
+	legs all end in great claws.
+	Men have always sought the elusive unicorn, for the single
+	twisted horn which projected from its forehead was thought to
+	be a powerful talisman.  It was said that the unicorn had
+	simply to dip the tip of its horn in a muddy pool for the water
+	to become pure.  Men also believed that to drink from this horn
+	was a protection against all sickness, and that if the horn was
+	ground to a powder it would act as an antidote to all poisons.
+	Less than 200 years ago in France, the horn of a unicorn was
+	used in a ceremony to test the royal food for poison.
+
+	Although only the size of a small horse, the unicorn is a very
+	fierce beast, capable of killing an elephant with a single
+	thrust from its horn.  Its fleetness of foot also makes this
+	solitary creature difficult to capture.  However, it can be
+	tamed and captured by a maiden.  Made gentle by the sight of a
+	virgin, the unicorn can be lured to lay its head in her lap, and
+	in this docile mood, the maiden may secure it with a golden rope.
+	[ Mythical Beasts, by Deirdre Headon (The Leprechaun Library) ]
+
+	Martin took a small sip of beer.  "Almost ready," he said.
+	"You hold your beer awfully well."
+	Tlingel laughed.  "A unicorn's horn is a detoxicant.  Its
+	possession is a universal remedy.  I wait until I reach the
+	warm glow stage, then I use my horn to burn off any excess and
+	keep me right there."
+		[ Unicorn Variations, by Roger Zelazny ]
+		:UNIX:: /yoo'niks/ [In the authors' words, "A weak pun on
+		Multics"] n. (also `Unix') An interactive time-sharing system
+		invented in 1969 by Ken Thompson after Bell Labs left the Multics
+		project,originally so he could play games on his scavengedPDP-7.
+		Dennis Ritchie the inventor of C,is considered a co-author of the
+		system.  The turning point in UNIX's history came when it was
+		reimplemented almost entirely in C during 1972--1974, making it the
+		first source-portable OS.  UNIX subsequently underwent mutations
+		and expansions at the hands of many different people,resulting in
+		a uniquely flexible and developer-friendly environment. By 1991,
+		UNIX had become the most widely used multiuser general-purpose
+		operating system in the world.Many people consider this the most
+		important victory yet of hackerdom over industry opposition (but
+		see {UNIX weenie} and {UNIX conspiracy} for an opposing point
+		of view).  See {Version 7}, {BSD}, {USG UNIX}.
+		[ The Jargon File, version 3.0.0 ]
+	"Aye, we must stick together," growled Ugluk. "I don't trust you 
+	little swine. You've got no guts outside your own sties. But for 
+	us you'd all have run away. We are the fighting Uruk-Hai! We slew 
+	the great warrior. We took the prisoners. We are the servants of 
+	Saruman the Wise, the White Hand: the hand that gives us 
+	man's-flesh to eat. We came out of Isengard, and led you
+	here, and we shall lead you back by the way we choose. I am 
+	Ugluk. I have spoken."
+
+	[ The Return of the King, by J.R.R. Tolkien ]
+	The Valkyries were the thirteen choosers of the slain, the
+	beautiful warrior-maids of Odin who rode through the air and
+	over the sea.  They watched the progress of the battle and
+	selected the heroes who were to fall fighting.  After they
+	were dead, the maidens rewarded the heroes by kissing them
+	and then led their souls to Valhalla, where the warriors
+	lived happily in an ideal existence, drinking and eating
+	without restraint and fighting over again the battles in
+	which they died and in which they had won their deathless
+	fame.
+		[ The Encyclopaedia of Myths and Legends of All
+			Nations, by Herbert Robinson and Knox
+			Wilson ]
+	The Oxford English Dictionary is quite unequivocal:
+	_vampire_ - "a preternatural being of a malignant nature (in
+	the original and usual form of the belief, a reanimated
+	corpse), supposed to seek nourishment, or do harm, by sucking
+	the blood of sleeping persons. ..."
+
+		:VAX: /vaks/ n. 1. [from Virtual Address eXtension] The most
+		successful minicomputer design in industry history, possibly
+		excepting its immediate ancestor, the PDP-11.Between its release
+		in 1978 and its eclipse by {killer micro}s after about 1986, the
+		VAX was probably the hacker's favorite machine of them all, esp.
+		after the 1982 release of 4.2 BSD UNIX (see {BSD}).  Esp.
+		noted for its large,assembler-programmer-friendly instruction set
+		--- an asset that became a liability after the RISC revolution.
+		[ The Jargon File, version 3.0.0 ]
+	Venus, the goddess of love and beauty, was the daughter of
+	Jupiter and Dione.  Others say that Venus sprang from the
+	foam of the sea.  The zephyr wafted her along the waves to
+	the Isle of Cyprus, where she was received and attired by
+	the Seasons, and then led to the assembly of the gods.  All
+	were charmed with her beauty, and each one demanded her
+	for his wife.  Jupiter gave her to Vulcan, in gratitude for
+	the service he had rendered in forging thunderbolts.  So
+	the most beautiful of the goddesses became the wife of the
+	most ill-favoured of gods.
+		[ Bulfinch's Mythology, by Thomas Bulfinch ]
+	Vlad Dracula the Impaler was a 15th-Century monarch of the
+	Birgau region of the Carpathian Mountains, in what is now
+	Romania.  In Romanian history he is best known for two things.
+	One was his skilled handling of the Ottoman Turks, which kept
+	them from making further inroads into Christian Europe.  The
+	other was the ruthless manner in which he ran his fiefdom.
+	He dealt with perceived challengers to his rule by impaling
+	them upright on wooden stakes.  Visiting dignitaries who
+	failed to doff their hats had them nailed to their head.
+		                                     [...] Billions of years ago
+		when the Vogons had first crawled out of the  sluggish  primeval
+		seas  of  Vogsphere,  and  had  lain panting  and heaving on the
+		planet's virgin shores...when the first rays of the bright young
+		Vogsol  sun had shone across them that morning, it was as if the
+		forces of evolution ad simply given up on them there  and  then,
+		had  turned aside in disgust and written them off as an ugly and
+		unfortunate mistake. They never evolved again; they should never
+		have survived.
+		[...] 
+		Meanwhile, the natural forces on the planet  Vogsphere had  been
+		working  overtime  to  make  up  for their earlier blunder. They
+		brought forth scintillating jewelled scuttling crabs, which  the
+		Vogons  ate,  smashing  their  shells  with  iron mallets;  tall
+		aspiring trees with breathtaking slenderness and colour which the
+		Vogons  cut down and burned the crab meat with; elegant gazelle-
+		like creatures with silken coats and dewy eyes which the  Vogons
+		would  catch  and  sit on. They were no use as transport because
+		their backs would snap instantly, but the  Vogons  sat  on  them
+		anyway.
+
+		[ The Hitchhiker's Guide to the Galaxy by Douglas Adams ]
+	Swirling clouds of pure elemental energies, the vortices are
+	thought to be related to the larger elementals.  Though the
+	vortices do no damage when touched, they are noted for being
+	able to envelop unwary travellers.  The hapless fool thus
+	swallowed by a vortex will soon perish from exposure to the
+	element the vortex is composed of.
+	Place a hefty cleaver at the end of a long, stout shaft, and 
+	the leverage which the pole gives the wielder will enable him 
+	to cleave through armor. The voulge has no provision to keep 
+	the enemy at a distance in its basic model, but with the top 
+	front or back edge is ground down so as to provide a pointed, 
+	dagger-like tip, the weapon assumes a more complete form.
+	The vrock is one of the weaker forms of demon.  It resembles
+	a cross between a human being and a vulture and does physical
+	damage by biting and by using the claws on both its arms and
+	feet.
+	The samurai warrior traditionally wears two swords; the
+	wakizashi is the shorter of the two.  See also katana.
+		:walking drives: n. An occasional failure mode of magnetic-disk
+		drives back in the days when they were huge, clunky {washing
+		machine}s.  Those old {dinosaur} parts carried terrific angular
+		momentum;the combination of a misaligned spindle or worn bearings
+		and stick-slip interactions with the floor could cause them to
+		`walk' across a room, lurching alternate corners forward a couple
+		of millimeters at a time.  There is a legend about a drive that
+		walked over to the only door to the computer room and jammed it
+		shut; the staff had to cut a hole in the wall in order to get at
+		it!  Walking could also be induced by certain patterns of drive
+		access(a fast seek across the whole width of the disk,followed by
+		a slow seek in the other direction).  Some bands of old-time
+		hackers figured out how to induce disk-accessing patterns that
+		would do this to particular drive models and held disk-drive races.
+		[ The Jargon File, version 3.0.0 ]
+	'Saruman!' he cried, and his voice grew in power and authority.
+	'Behold, I am not Gandalf the Grey, whom you betrayed.  I am
+	Gandalf the White, who has returned from death.  You have no
+	colour now, and I cast you from the order and from the Council.'
+	He raised his hand, and spoke slowly in a clear cold voice.
+	'Saruman, your staff is broken.'  There was a crack, and the
+	staff split asunder in Saruman's hand, and the head of it
+	fell down at Gandalf's feet.  'Go!' said Gandalf.  With a cry
+	Saruman fell back and crawled away.
+		[ The Two Towers, by J.R.R. Tolkien ]
+	Suddenly Aragorn leapt to his feet.  "How the wind howls!"
+	he cried.  "It is howling with wolf-voices.  The Wargs have
+	come west of the Mountains!"
+	"Need we wait until morning then?" said Gandalf.  "It is as I
+	said.  The hunt is up!  Even if we live to see the dawn, who
+	now will wish to journey south by night with the wild wolves
+	on his trail?"
+	"How far is Moria?" asked Boromir.
+	"There was a door south-west of Caradhras, some fifteen miles
+	as the crow flies, and maybe twenty as the wolf runs,"
+	answered Gandalf grimly.
+	"Then let us start as soon as it is light tomorrow, if we can,"
+	said Boromir.  "The wolf that one hears is worse than the orc
+	that one fears."
+	"True!" said Aragorn, loosening his sword in its sheath.  "But
+	where the warg howls, there also the orc prowls."
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	They had come together at the ford of the Trident while the
+	battle crashed around them, Robert with his warhammer and his
+	great antlered helm, the Targaryen prince armored all in
+	black.  On his breastplate was the three-headed dragon of his
+	House, wrought all in rubies that flashed like fire in the
+	sunlight.  The waters of the Trident ran red around the
+	hooves of their destriers as they circled and clashed, again
+	and again, until at last a crushing blow from Robert's hammer
+	stove in the dragon and the chest behind it.  When Ned had
+	finally come on the scene, Rhaegar lay dead in the stream,
+	while men of both armies scrambled in the swirling waters for
+	rubies knocked free of his armor.
+		[ A Game of Thrones, by George R.R. Martin ]
+	Day after day, day after day,
+	We stuck, nor breath nor motion;
+	As idle as a painted ship
+	Upon a painted ocean.
+
+	Water, water, everywhere,
+	And all the boards did shrink;
+	Water, water, everywhere
+	Nor any drop to drink.
+		[ The Rime of the Ancient Mariner, by Samuel Taylor
+		  Coleridge ]
+	Oh what a tangled web we weave,
+	When first we practise to deceive!
+		[ Marmion, by Sir Walter Scott ]
+	When he came to himself again, for a moment he could recall
+	nothing except a sense of dread.  Then suddenly he knew that
+	he was imprisoned, caught hopelessly; he was in a barrow.  A
+	Barrow-wight had taken him, and he was probably already under
+	the dreadful spells of the Barrow-wights about which whispered
+	tales spoke.  He dared not move, but lay as he found himself:
+	flat on his back upon a cold stone with his hands on his
+	breast.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	Ebenezum walked before me along the closest thing we could
+	find to a path in these overgrown woods.  Every few paces he
+	would pause, so that I, burdened with a pack stuffed with
+	arcane and heavy paraphernalia, could catch up with his
+	wizardly strides.  He, as usual, carried nothing, preferring,
+	as he often said, to keep his hands free for quick conjuring
+	and his mind free for the thoughts of a mage.
+		[ A Dealing with Demons, by Craig Shaw Gardner ]
+	No one knows how old this mighty wizard is, or from whence he
+	came.  It is known that, having lived a span far greater than
+	any normal man's, he grew weary of lesser mortals; and so,
+	spurning all human company, he forsook the dwellings of men
+	and went to live in the depths of the Earth.  He took with
+	him a dreadful artifact, the Book of the Dead, which is said
+	to hold great power indeed.  Many have sought to find the
+	wizard and his treasure, but none have found him and lived to
+	tell the tale.  Woe be to the incautious adventurer who
+	disturbs this mighty sorcerer!
+	The ancestors of the modern day domestic dog, wolves are
+	powerful muscular animals with bushy tails.  Intelligent,
+	social animals, wolves live in family groups or packs made
+	up of multiple family units.  These packs cooperate in hunting
+	down prey.
+	The Usenet Oracle requires an answer to this question!
+
+	> How much wood could a woodchuck chuck if a woodchuck could
+	> chuck wood?
+
+	"Oh, heck!  I'll handle *this* one!"  The Oracle spun the terminal
+	back toward himself, unlocked the ZOT-guard lock, and slid the
+	glass guard away from the ZOT key.  "Ummmm....could you turn around
+	for a minute?  ZOTs are too graphic for the uninitiated.  Even *I*
+	get a little squeamish sometimes..."  The neophyte turned around,
+	and heard the Oracle slam his finger on a computer key, followed
+	by a loud ZZZZOTTTTT and the smell of ozone.
+		[ Excerpted from Internet Oracularity 576.6 ]
+	[The crysknife] is manufactured in two forms from teeth taken
+	from dead sandworms.  The two forms are "fixed" and "unfixed".
+	An unfixed knife requires proximity to a human body's
+	electrical field to prevent disintegration.  Fixed knives
+	are treated for storage.  All are about 20 centimeters long.
+		[ Dune, by Frank Herbert ]
+	Immediately, though everything else remained as before, dim
+	and dark, the shapes became terribly clear.  He was able to
+	see beneath their black wrappings.  There were five tall
+	figures:  two standing on the lip of the dell, three advancing.
+	In their white faces burned keen and merciless eyes; under
+	their mantles were long grey robes; upon their grey hairs
+	were helms of silver; in their haggard hands were swords of
+	steel.  Their eyes fell on him and pierced him, as they
+	rushed towards him.  Desperate, he drew his own sword, and
+	it seemed to him that it flickered red, as if it was a
+	firebrand.  Two of the figures halted.  The third was taller
+	than the others:  his hair was long and gleaming and on his
+	helm was a crown.  In one hand he held a long sword, and in
+	the other a knife; both the knife and the hand that held it
+	glowed with a pale light.  He sprang forward and bore down
+	on Frodo.
+		[ The Fellowship of the Ring, by J.R.R. Tolkien ]
+	The Wumpus, by the way, is not bothered by the hazards since
+	he has sucker feet and is too big for a bat to lift.  If you
+	try to shoot him and miss, there's also a chance that he'll
+	up and move himself into another cave, though by nature the
+	Wumpus is a sedentary creature.
+		[ wump(6) -- "Hunt the Wumpus" ]
+	They sent their friend the mosquito [xan] ahead of them to
+	find out what lay ahead.  "Since you are the one who sucks
+	the blood of men walking along paths," they told the mosquito,
+	"go and sting the men of Xibalba."  The mosquito flew
+	down the dark road to the Underworld.  Entering the house of
+	the Lords of Death, he stung the first person that he saw...
+
+	The mosquito stung this man as well, and when he yelled, the
+	man next to him asked, "Gathered Blood, what's wrong?"  So
+	he flew along the row stinging all the seated men until he
+	knew the names of all twelve.
+			[ Popul Vuh, as translated by Ralph Nelson ]
+	A distant cousin of the earth elemental, the xorn has the
+	ability to shift the cells of its body around in such a way
+	that it becomes porous to inert material.  This gives it the
+	ability to pass through any obstacle that might be between it
+	and its next meal.
+	The arrow of choice of the samurai, ya are made of very
+	straight bamboo, and are tipped with hardened steel.
+	Yeenoghu, the demon lord of gnolls, still exists although
+	all his followers have been wiped off the face of the earth.
+	He casts magic projectiles at those close to him, and a mere
+	gaze into his piercing eyes may hopelessly confuse the
+	battle-weary adventurer.
+	The Abominable Snowman, or yeti, is one of the truly great
+	unknown animals of the twentieth century.  It is a large hairy
+	biped that lives in the Himalayan region of Asia ... The story
+	of the Abominable Snowman is filled with mysteries great and
+	small, and one of the most difficult of all is how it got that
+	awful name.  The creature is neither particularly abominable,
+	nor does it necessarily live in the snows.  _Yeti_ is a Tibetan
+	word which may apply either to a real, but unknown animal of
+	the Himalayas, or to a mountain spirit or demon -- no one is
+	quite sure which.  And after nearly half a century in which
+	Westerners have trampled around looking for the yeti, and
+	asking all sorts of questions, the original native traditions
+	concerning the creature have become even more muddled and
+	confused.
+		[ The Encyclopedia of Monsters, by Daniel Cohen ]
+	Japanese leather archery gloves.  Gloves made for use while
+	practicing had thumbs reinforced with horn.  Those worn into
+	battle had thumbs reinforced with a double layer of leather.
+	The samurai is highly trained with a special type of bow,
+	the yumi.  Like the ya, the yumi is made of bamboo.  With
+	the yumi-ya, the bow and arrow, the samurai is an extremely
+	accurate and deadly warrior.
+	The zombi... is a soulless human corpse, still dead, but
+	taken from the grave and endowed by sorcery with a
+	mechanical semblance of life, -- it is a dead body which is
+	made to walk and act and move as if it were alive.
+		[ W. B. Seabrook ]
+	The zruty are wild and gigantic beings, living in the
+	wildernesses of the Tatra mountains.
+#	This data file is generated by 'makedefs'.  Do not edit. 
+   22
+000d0
+0026e
+00338
+003c5
+00500
+005fe
+006b5
+00797
+00863
+009a1
+00a6e
+00b72
+00c82
+00da1
+00ea2
+00f9c
+0107c
+01284
+01425
+01629
+016b8
+017cd
+019cf
+---
+#,*&yu"m{0scp`us"`acbmjkusvmfw!vk(rd"gg~gpkfddf$yuj$|xd
+gmhdvkjo0ujagbdo$nbno$SR`iaz<!Emd|-"eft!Qkdwc}$00;3=M/
+
+Ujagbdo$?>0:$(Digvm0dzm{d!pakesqm~u!nefwtccmc!C$i~e"F(ctal(dicp
+!",99!"T Q("950OR,I9-"eft
+!",:9!"T R("%50OR,J9
+
+Ujm{0qpk~yegw(ylrvmcrkrm0dtmluoaa(dicp(dig$|ubjjaatgw(dicp(qsg
+bwvzuovhq0`tea|``hm0vkhd0omp(ctdbasd"bgb!rvgfhlc(dicp(@!#9(^Q"kz0!"$(0!"$(
+uje|0Q"950OR**0!YCibd{$i~e"Ngxoqkf<!r*(!97*U
+---
+Hd$|xx"si~e"lidi"v}~!mq|0nd$kx`pcmc-"p`t"iiirv$rqq"m|0`eea~!cjl0`eea~:"p`tel
+ocqoxu"sa|m"li`qgj(qu"babrv((fdpmdi-"p`i!razchqpm~bg${x`nh(rd"vmg`p`mt-"e{
+nla(|`qp(sicvou!oeq0xgp(rd"szurval0gpke0hv%
+---
+Ujk}wi"p`u!qlg`jgaxusq$ju!uezi-"p`ydta{0icrm0ogrmbujadurq${dnnaf0lwg`0c{$}chlc
+ujaab!fmowhlc(g`l`{0um$`qrvaf0dzm|c!vlztel(dig$xqwgim~u,
+---
+Hd$|xnw$`qrv$`qe"pzt`hm0vkp`0sww|0nl$|xhla(qsokz0np$u`rkfc-"p`t"w`tn`{d
+jlk0uje|0ujk}0bcj{d!rvmfdlp(dikw(rx.$xhna(yo"e(snlb}cdf${d`va$0sgelyoe$|xd
+lccas`n$xqsaleuovw(gikg`0omveqmn}(qsg$}cdf$|!ae}cd"p`uhp$m~bjefdlgj|>
+Tlc}uovw(g"h}rskgidhmj(}`{$xbntmlu!qmeymcv(`smpmsukkf<!chjuhv$gv!c
+upefchvkzi!le|esg*
+---
+Cglg|e"p`u!akk{`vvasd.$xnqa(thomfeukrm0rve|esg$jumka{0hvw(xhf`m~!omoxu,$(Dig
+bmgcqupmku!aef0qgpzyg{$i~x"kzthlezi!`aa~f"m|0bmj|qbvw%=rcrm0ujk{u!um{u
+`frm~uwvmbr"s`!ge|0`"`mqe"haj`p`(s"fdc"kn0`aml0vjaf0ujaq0ggad0ujaecdnrmc
+rnk|x"p}bokjo0um${dnla&
+---
+Vjmdu!qkeu!ueqv`pazc!padi!mj(cbpk}~fkjo0gkjacig`(qsok}b!kj(dig$leoeag~-"p`u
+sgwgesaanem"ofv"p`u!o}{dhaed0lgefc!`}(gikg`0lcmd0lc}(rd"bicikkfue"k}d!mb
+raedur"bzl"e(tsccg~&q$`yeg*
+---
+Hv$ac!aq{dnoezym{$c~nuj(qlmjo0upe~umgv{0uje|0dzpzq,jai|hlc(tscqoxuq$eqx"gdu`p
+uj}(cdlwmc!ulm~!vlge!cv|0`f`due"fq0egh}cnp}(fhqmg~r,$(Rtv$fuwgv(vnpcmd-"p`u
+mmsdi!rk|ynl$xhal(}`ia{0nla(chao(}`{$ju!wwmt!dkz0uja(c`oa(`tptgcd,
+---
+Vjmdu!vlm0bmj{elrpao"kn0mk~ibe"bdurj$gb!ue|us"fm|ntal0nd$|xd"cgtr"iii!ahmqs
+uja(}tf`due"lmqe.$|xd"ex`mkgidhmj(g"p`u!jkz~!mb(q!avmquwvm0nd$}dlmw|0qwvadx
+bcj(qmna~y`va(}`l}(ujaz0`dbdybvmg~r"e{0vghd>
+---
+Hd$|xnw$tn`{d!vvifdn$yehaodi!`a|gdgj(thqpi~u"hgs`vmg~r.$|xnw$eerv$ju
+``hm0um$kovvg|!vlq0ughm`npp{<!cjl0hl$i0bmjnerg`(cucpm0lkwzu`f$|xd"wkbnnh
+vjmkx!ww}qmn}(ddnaxsvw(di{wm|g"hgs`nhq>!"@ibhlc(qetafdtpazc!je~u!ch{
+qgvnsoal0uja(c`oa(vdcp(c`lw(~dg`(vnp${ssmhdc!mv(`nvmg~r"fq0rvax`hlc(yovk
+`"tibukg}|`p$i}cwwkqeg*
+---
+@nigcu"ed|!c`~uovqzusq$xn"gg}d"p`yr"sii!jkxu!vk(``qw(dig$lbdc`(]dfq{q/"$\
+em$|xhq((dig$jurv$itwkgm0hq$|!iam`!vla~d"aqur"fdyofbg|eg`(qof$|!ae}cd"p`u
+bpaidtpa(dn"a{`x"m|c!msf0sgbdubvmg~!kj(q!omzbnp*
+---
+@l`(gigvm0hv$ac!uvadugj(2`f$iuscvael ((thnmouov${u`pg`yoe$ymn$gvugj(bdtai|
+uja(g`{$|!c$|b`r$xhal(cdl`{0nla(dn"p`u!Oeoyb"Im}np}(F`wh|<!ulmbd"p`u!pmkxdq
+nd$Kbngw}c!cvm0rvkzue9$`vgrmb-"a{s`rmfw!dvg}!vlm0wcqdd!um|x!kp{0fmhl0hq$eebj
+icvlus"p`qo"cmdukjo0hl*
+---
+Hv$ac!uad|!ijggo"p`qu"sa|x"w`qiam`dpw(b`kwm0ujaab!rvasdq$xdla/us"p`ux
+dqtq0uja(w`pm{x!ctxqsgh(g"p`u!ctxbncg`yoe$|tpm{d!mv(dig$ktlpm~`lgm0nd$i
+ekwnqwmvmt!re|bnl*(0Ujaq0gcrgb!vlm0fgj||d"kn0lcjfus"eft!vlm0gcmz0nd$nqbg*
+Uja(rnmv(}`{$mhqgg|0tltzgkpirmg$|b`lwisukkfc/
+---
+Uja(smkg`u!mb(dig$cyualm~!qmf{!qsi|mmsa~f"efi!wjnsvqfqug$zyoew(dicp(snlpisu
+hvw(`dpjashmq{0rwvnqbg$zugnakddvl(wsge|us"pzeuj$|x`l$eqo{$`lkhaur.$quu
+dtaf0rm((vdu$`qwg$luwghg`df$|xd"wcymn$|!k`m~ukbq0dlg`qoval0skjoc!`}(dig
+upefcgkc}b`vmg~r"anvdapmt!wtg~!vlm0wmvishmq{0egrasd%w(vscim>
+---
+Uja(}dcp(g"afsicj|ue"gzu`vqzur"kndukimc!akffd{a|x!oeoybch(`smtmbuka{
+tlpg0uja(snlw}}dp*(0@"bzurj$ksrwm0nd$n|ncpa~f"aqu!fk|x!da|si"e(xhel
+qpmku!cig~f"saj`p`{0gmv(yuq$}dhnm|i!kj(snlbmbskjo0Ughm``vlq<!`}(gikg`
+uja(chel||dqw(}`{$dbcpm0rwvztl`a~f"ia~eq*
+---
+Uja(tdvakdhmj(g"fdurqmfwr"eft!aqzcdq$ac!kj(dig$llcmf0nd$|xd"cgtr,$(Dig}(ghnh
+lcom0ujm{0hlbgblcpao"e~qhnej|d"pg0lmv|qmq$xn"vmatgw|0hv$id!vlmys"tdqbgw(g
+vmv{xhr((s"adcdulmbd"bgb!vlgcd"igbuch{0vjk(tdtk|u!vlm}rgh~ur"pg0uja(cdprasd
+nd$|xd"cgtr,
+---
+@v$|ylgw$0uja(wnfw(}`{$nqwmv(gnpp`i!qqx`mkgi~uq$yuj$fqlg`(rmc`mc!ulgcd
+qmsmbr"akxn"p`bnwc`tv$dufgjl>!"Hmqslal0vc}nqsgv{0bcj(bdrvgttaa(rmc`mc!mb
+dnrm~!nmfu`ea$0icpmt!mb(dig$gbbq((ghvlgeu"p`u!lamt!dkz0rwg`0hlpmbwgj|ynl*
+---
+Ujazu!cvm0lcjq0rvkzydq$gv!c$eyfjpq0`oqduu.$|xd"kzyfkj{0nd$xhal(qsg${qhf
+um$ju!cjkydlp(Idl`gb/"$\xhq$i}tna|0emp`0icrm0`ua{lg$xvgv$0`l`(dig$oeq
+egwabd"m|0fpaidm{*(0Lmv|qmq$eqxqp(d`r$g~m{$xsvmg~r"kn0hvw(ddpvarmg
+``mdyuka{>!"P`u!qpgbhgw(ddnh(g"igbuch{0rgaa~f"s`qu"p`uhp$midq$kqolk|
+rga(qof${udimfw!rhisdq$gv!oeoybch(dscj{`nppidhmj$0vjmdu!je~yoe$|xhq
+`oqduu"mf0ujaab!rk{cdqwao,$(_ujazc!qeq0`"igbuch(}tqp(gdcv(dig$i}tna|0um
+n`piyo"p`urg$xvgv{>!"F}d!tazym{((ctal(`nuaz0bmimc!cp(wsge|0bmw|<!vk
+qpa{usta(dig$jqmcjku/
+---
+Hv$ac!qeat!vlid!vlge!oeqcu"ciyo"afds{$|!Okdbj#{0rcjkdtcvq<!kb(dimq
+ecvmcu.$nbno$i0qneku!ulmbd"p`u!evgeof$~ycpe|uuj$a~!vlm0egaxurv$luqvl{0nd
+Fglm~omi&0!Vlge!lamtr"i}cu"lifd"p`u!cml0nd$|xsga(}`emkqm"m|ulq*(0Uja
+qwvm0rmqft!mb(q!qmdfdp$jumn${x`nh(qolk}~bg$|xdg*(0Uja(ddpvarmg$zeogw$
+sgel0gpke0Lmhgsi%w(rnmo$0rjed|!ae}cd"p`u!gezdi"pg0upaermg$eyfjpa|x,$(Dig
+mkc`d!mb(qo"afsicj|ue"gi~eghirswi(cichd0rjk0ujam0uja(g`{*
+---
+Hl$|xd"`muqgw|0sggmcrgw(g"p`u!Fqfwdmj{0nd$Lno((wtcvlyoe$isbgw{0um$|xd
+ogp`us"vmwhmj{<!vlmbd"w|qofa|x!c$kqrvhm<!ulmbdkj(|hgp`0`"si~e"kn0vkw`ur,
+Hd$|xnw$tn`{d!eea~!gj|bx.$ju`p$yuj$|xdg$i~!kj{dswim~u"kn0lwwas-"bgb!vlm
+qmj||dtm{0lc}(rd"g`qsoal0emsf0vkp`0uja(`smtmb!oade{*(0Vje|0ompmc!ake`skwm
+hv$g~m{$|xd"cgtr"ofv.$jeu"e(}tqmkqm"iicugveyof$eqx"}md!qqksdg`(rx"sadgwh
+hotzwkwidhmj&0!Jkuwgv$0uja(|dqw(`dpwxybcgatq$ibd"jgd!um|xnwp(bdak}brg(
+rjk}|e"p`ux"fm0qpaxqsg`(dn"gabbwii}cwhidd"p`u!ae{dmg$|!vlm0qmw|usl*
+---
+Trkf0`"hmfdn$jugmvm0`nh(}`xa
+Ujazu!nmmc!c$lcj(gim$cymnw(ghvl(w`xa&
+Rjk}|e"w`u!`a({hnhmt-"jgd!ra|bhdmmt-
+Xmq(ghnh(bdaaafd"e(}`emkqm"vatd,
+---
+Uja(~`oa(g"Adrdpa|x!oeq0rvva{d"bmqs"mfdn"p`u!jaibuq$gv!vla~d"afulka{<!kb
+ujk}0emw|0vpm|u!kp(eqmj(dig$obnwjl0`v$|xx"bmuu,$(Yg"p`t"iiyovea~dqp(dig
+tvigcu"gi|l.$|xx"wivdv}(ghnh(rd"eatdf$obdcpdi-"f}d!`aqsg$durv$|xx"gdelq}
+gga|0raqnv!vlm0hlwkbhrpao.$kqoaad|hlc(yuq$xugjku/
+---
+Hv$ac!qeat!vlid-"mn0ujk}0icw|0lcjiwdf$|!cgklrhaci"p`u!evmqu"u}urv$|xnw
+rgp(tv$|-"eft!je{d!ek|ddl$|xd"Eeemgp(}`lqnqbvqzue"fq0Lcvlej"mf0uja
+cgca~okjo0nd$\ylg((di{$qx"m{0uja(g`{$}`/"P`t"sa|mqp(digj(v`aa(vnwv
+qnefur.$jugmvm0ik`luo"mf0uja(}hqp{0nd$|ylg((tdfmkqug`(dn"p`u!dk}b
+dnaeuovw(dig$sn`(snlwacuq$gv/"Mn<!`}(wsge|0qmsmb!cjl0cpe~us{$g~!vlq
+qcv|<!vlge!oefqfgw|0um${estm~u!vlm}-"p`t"sa|mqp(bdcg`0uja(Xhel(Ddotdur
+nd$|xd"Edyflal0Fm`{>!Kp(yr"qx0um$|xdg$|xdl$|!pa|esl$|!vlm0fm`{
+vje|0cghg~fq$|!vlm0fm`{>
+---
+
+    SlashTNG version 0.0.7E7F3
+
+Options compiled into this edition:
+
+    blackmarket level, color, data librarian, debug mode, Elbereth,
+    experience points on status line,
+    insurance files for recovering from crashes, light sourced spell effects,
+    invisible objects, Keystone Kops, exclusive lock on level 0 file,
+    log file, news file, redo command, saddles and riding, display layers,
+    screen clipping, screen control via WIN32 console I/O, seduction,
+    show damage amounts, show weight of inventory, sinks,
+    lightsabers and dim lightsabers, Houchou, firearms, tourists,
+    user sounds via pmatch, walled mazes, yeomen, zero-compressed save files,
+    save and bones files accepted from versions 0.0.7E2 through 0.0.7E7,
+    basic NetHack features.
+
+Supported windowing systems:
+
+    traditional tty-based graphics,
+    with a default of tty.
+
+#	This data file is generated by 'makedefs'.  Do not edit. 
+005546
+@"firdnbaci"iawiv$zulkjl0xmq(g"e(gscm|x/
+@"fdyofbg|e"gi~!`a(fdp}(ergb}|!kb(inw#zu!vaduqcp`yb,
+@"gi~eghirswi(qgdmpue"sadi"wmfdl$kqofhmc!qlggr"p`u!ueq0vkp`0`"iiwhaed0mkc`d/
+@"gzirved0qne|u!oea|!umd|!lk|0sww|>
+@"oid`le(}hel|0rnmku!c$so$a~!vsg>
+@"havd"wifdp$ac!lk|0uja(vsgw`0lcomb/
+@"iiwha$~lkp(`tot(snwhl0cg$}cddqd0gmv(wnwveqofw&
+@"jq}qj$c~nuw(xnu$|!wjdbi$kx`kj{>
+@"tgdhmj(g"fdyofjmcr"hmdr"}ge!qam0hlrach`hm0ujmfwr,
+@"tzydqp(s`l$ouu"p`u!eklc!vk(|hqpm~!ge{ym{*
+@"tzydqpmcr"eft!c$~ysemf0xmq(}hel|0cg((rtv$|x`v$}~hakz~!ukf7u"gibd,
+@"Vifdlk}c!@qormcp|us"Fmqrv$Gv!Vviqm"wmulq$|!`a(snlgmbog`(qcmq|0xmqz0mkbm>
+@"va~f"kn0bmjn|hap(yr"e(r`f$|xhlc(yg"p`usg$ac!c$fesqa(yo"p`u!pkg}/
+@"w`sv${gnp`(yr"jgd!cw(wnm`(qr"e(|nlc(cvmvl>
+@"w}sbwf}c!umd|!ek(v`pp`us"p`qo"e(~xot`>
+@"si~e"gi~!g|gbbk~m0`"ticu"ap`mmvmb&q$oxnqp&
+@aml0cnkjc!qlgemf$ju!cp|qbial0ccvm=icjlue,
+@dbiysq$yuj$filrl{0`pa(gvaf0wgvq0dztm~rkrm>
+@dviye"kn0o{ixxr=$(Gdcv(q!pmfw!mb(qemvf}dlp&
+@dviye"kn0xmqz0wch}qcna{0cgmfw!qpg|dl;(0Bcvzi!okzu!hqf{ 
+@nsiir"fm0`uezu!mb(dig$xx`qa(g"p`u!okg~ 
+@nsiir"wudr$|xd"bdnp$jugmvm0dlczqwkjo0hotgbucj|0lgw{qfgw&
+@oqduuq$gv![aftnp$ibd"libe"pg0lcom>!"A~uo"bgb!c$qof$gv!um{xhlc&
+@l$ibbj)dybj$aco%p(dig$sqp({hl`(g"hasi,*&
+@l$m|wgj(smmec0qpk|ubvw(qfcmfcu"iiwha*
+@l$}}cgv(xtno(s`l$ju!c$kodq{yoe${yfjp&
+@q$Kbno$ac!o}(ghvjmcr.$A7mn$fuwgv(wn"l}~fp}(qfcmf1
+@qoa~f"ejtv$eoqpmbr"iii!`a(fdp}(ergb}|/
+@vpisj"hg~f"sgblq$nbno$|xd"vmqs")%0uje|0hq${!oqkx!qenus#
+@vpisjkjo0`l$mum"s`usg$|xdpa(yr"jg~d"m{0tqqi|m{$i0gcpi|!om{d`ia)
+Ccjlqfkjo0vmqftr"lm|qq$cudr$}`!ctxu`pefsdq*
+Ccw`yoe$eoqpmbr"sadi"e(rnu$ac!lk|0rwg`0`"cge"mlu`,
+Cg$kqsgb}| "$\xd"Saj`p`(}`{$x|`l$i~!cijerj%
+Cg$fybg$|!c$fesqa20!Rq|0`ueq0xmqz0vgexo"eft!vecu!mbn0xmqz0bnk|xdq*
+Cgmfw!fmourval0hq$i0qcmfvtnhq0rnk0qpkkurq*
+Cnef{!qgzmnw(}`ia(}npa(yovazurvmfw!paithlc&
+Cnmft>"$Kqual(q!dhgqukjo0d{a)
+Cmkccdnhmbr"jmfdp$zu`f${ssmhdc:"p`ux"iawiv$ouu"gibskal0`ueq>
+Bmjkyrg$kosqmcu8$(Snlpzm.$kodq{u-"gg~kwvm<!akftdoj&
+Bmj{usta(uogvoi-"p}bo"knv!vlm0mkc`dr,
+Ekcoyoe$}`!c$ob`ta(snwhl0cg$i0cc`(yege&
+Ekhadikqe0bp}{d`nw(qsg$zqsg$a~egal>
+Emc{0`pa(quvvisug`(rx"p`u!qim|m"kn0upmxu/
+Emc{0`pa(ctrazcukpatq?(dig}(~dtaz0rvax0nl$kesqal0hvaec/
+Emc{0nd$oxnqp{0`paf7u"efws{((ztqp(xtlczi/
+Emj/d!`k|xdp$irnwp(}nlaq*!"kf|x"hm`sgg`qtlw(qof${xnromuqgv{0`pa(yovazurval>
+Emj/d!`vmqj"p`u!vka|dv%(Xnu$ymn$qt"wad!mj(yu"p`uo=
+Emj/d!dkzwdv%(0Mcvou!fkoc!cvm0LWG@0icvlus"pg0jkhd0ujef0mkp||d"`gwr,
+Emj/d!oa{c!um|x!qlg`jgaxusq((s"}ge&nh(wdv$|xd"C}ymf$ivugv(inw*
+Epeooq$fuwgv(gikt(digmz0bjmdtsgj30ujaq0vmqdto%p(vdgh(yu#
+Dcp(inwv(s`pvgdr,$(Dig}/bd"cge"bgb!{k}b!g}mc/
+Dcpa~f"e(ssgaxyoe$<"!kw(~nv$zu`nhq0mkom0dcpa~f"e(gscm|x/
+Dcpa~f"e(vsgaryoe${`igvm0hq$dyjg$mqukjo0`"}mdh,
+Dcpa~f"e({hnhmb!`am0hq$dyjg$mqukjo0`"wksrmg~/
+Dcpa~f"e(ddlc}0hq$dyjg$mqukjo0`"jq}qj*
+Dcpa~f"e(gscm|x!kw(q!paqsfmfw!g|xuskafsd#
+Dcpa~f"qf``k`(|drvmsicqfc!oeq0cg$itwcj|qfgk}c/
+Dnfmbdvl(x`q$yehva(q!paxeucpao"eztl`(digwm0qcv|c/
+Dnb(snpt{ur"ezu!kjklre|ycna(ghvl(dig${qofii~-"eft!cp(dhoa{0uja(wnfw(qr"sm|m,
+Dnrm~!ahgqjq$kqolk|0sww|>
+Dtaf0dtmd0qnequsq$`qwg$i0fwezthcj(qoead>
+Dtaz0gmqoxu"sadi"ef0dlg`qoval0umk|x>
+Dtaz0igezt!mb(q!ueft!mb(vdcv70Hv#{0`"bzyfjpm~hlc(dimqoxu#
+Dtaz0upmmt!paithlc(gikhm0bmjnerg`7
+Dtaz0upmmt!vk(`tv$i0upkd|!kj|!c$dqsea(rnz;
+Dtaz0vmjlusg`(gi{$g~d"sgemf$qov$|!fmx0rmimdikjo0hl$i0qmpao=
+Dztm~rkrm0bcimb`q$`qwg$xuogpzqukjo0gne{x!nmoxuq*
+Dzpzq!qpiysae{ur"hmqe"pg0dzpzq!na~umq*
+Gkazi!na|ddpw(}hel|0egpmb!okfcugv{>
+Gmv(q!ekgt!vmeu!gjob`ta(pDnfmbdvl/>
+Fgi{0`pa(dnm$xbdamger"pg0cg$|xsmsf0`ueq0bcvm|dqwdi/
+Fgp|yoe$`eoevq/!"W|q"smqskjo0skjoc 
+Fgp|yoe$|n"sibl=$(D`ia(gd$|x`v$I}tna|0nd$Quofkz0`l`(cuc}(qvc}(vsmi(dig$mhhv%
+Fm`{0dztmsu"p`u!`a{d!dvg}!vlmys"tzydqp`nf*
+Fm`{0mmkc0emsf0ujaab!lk{ur"e|0egiawnfw&
+Fpam{!o}|xnnkoi!kw(gvaf0wgvq0wkrat/
+Fw}(]nlpiw!iam`r"lac!qgzmnw(yo"e(r`e*
+Icjl|d"}ges"bdqriw(s`panemn}(=,"p`usg$eyfjp(rd"e(wimw|0hlwatd#
+Imhq0vcpmb!je{0lcjq0tqa{>
+Imv{ur"pzerv$|xdkv(bhfazc-"a~uo"s`uo"jgd!qk(tdqazfdf*
+Iwjous"m{0`"gg~gwwa~f"ap`dpmm~bg$ns"e(tne%
+H"kfsd"ofuv"e(x`aomb!ulg0`va(dnm$nqrv$i~e"g`jg`(dn"`mquj*
+H"weumn$i0lc~m0nd$|ghqpq0mkp||d"ticrccmc/
+H"saci"M(~dtaz0vkw`ue"e(g`l`(g"sacikjo>!",_yrjb}|!vla~jkjo>(
+H"sgemfj/d!c`~yrg$x|`{mfw!ae|si"sadi"e(whcj|>
+H%i(g`vg`yoe$qt,$(=,"P`u!Umrqsf$gv![aftnp
+Haa(rnza{0jgax0xmqz0gmkl0gpa{x/
+Hd$qt"ezu!`aa~f"t}~hqlmt-"m|7r"`g~d"sadi"e(tdc`di!uai`nl*
+Hd$qt"oa|m"p`u!Umrqsf((inw$ouu"tzlmpmt!vk(tdom%wnf*
+Hd$qt"jmue"e(g`l`(g"`awfkjo<!imftm{$icj"p`u!omfucqz>
+Hd$qt"si~u"pg0ikp$0tqa(q!feowdp*
+Hd$qt"si~u"pg0smf(q!qlg`-"pzqhl$qtp$lf,
+Hd$qt%vm0mmw|<!vvq0cw}a~f"e(}`r$fuyv$|ylg$qt%vm0hl$i0rjkx>
+Hlwatd"e(cimt(inw$juuvaz0ucom0`"hgj"e|0uja(`skgm0ucc{0cgbgbd"f}ihlc(qo{p`yoe*
+Hv$ac!`el0lcjfusq$|!wwm0`"si~e"mf0`"w`q,
+Hv$ac!fefwdpk}c!vk(fhqm|0`"czqwg}ibe"e|0lk`fyfjp&
+Hv$ac!lk|0`nsiir"e(wnm`(yege(dn"s`yrvhm0gmv(inwv(tne*
+Hv$ac!pqesg`(dicp(dig$_y{cvl0icw(xhpal0rmim0ighx>
+Hv$ac!vlm0mgp|us"#k7!cjl0omp(7d%$|x`v$kx`lcmc!qpidtq$|!qpidtg*
+Hv$eyfjp(rd"e(wnm`(yege(dn"knvdp$|xd"qfybmvf0`"v}rx,
+Hv$tn`(rd"tmstnmibm{${qe"smbd"}ges"`gw!vqz~df$|!qpg~d,
+Jgax0xmqz0`pigbr"eqx"bzl"v}cu,
+Jgax0xmqz0vgexop}(qvc}(vsmi(qbk`{>
+Jkhd0`"qfybmvf0nd$qtp$kmmv(qof$qt"oa|m"}ges"h}sj,
+Mge|xdp$ac!ue|usrvgg,$(Uwgv(cdg$i0bms(ghvl(qo"qersghdq>
+Mgtzubje}~r"ezu!vlm0lmw|0rimd|df$keurqzcdq$a~!vlac!fqfwdmj&
+Mk~ibe"ggbqqa{0qpk|ubv$iw`kj{d!akk{`vvasdq*
+Mmkc0nwp)0Lmjcuxq%
+Lmjmi!nk{d-"haduna(|nqp30imjgb!nk{d-"i}si"hgcu9$x|tao(|nqp$0`nh(|nqp&
+Lmw|0lmj{ddpw(s`l#|0rume>
+Lwwas!je|x!aliblq$|!cbnubv$|xd"w|ec`kz~!fvigcpmlwd,
+Lwwas!je|x!aliblq$|!qkgdig$|xd"wif`ea(rdcw|>
+Ogrmb!cp|qbi$i0fwezt/
+Ogrmb!pmlu!c$doe$so*
+Ogrmb!wwm0xmqz0cgw|0vgexo"pg0dlczqwg$i0bwv{u/
+Om$mqr{$nyfjpa~f"sadi"e(xdcrq0mmel1
+Owv{ur"ezu!cgkervkeue"pg0umqkx!lecue"tmbrmj{*!"p`ux"`g~&v$`qso$|xdo*
+O{ixxr"gi~!wjdyoi$esg$|x`l$qtp$kx`kj(}`kh&
+Nlgm0xmqz0mkp||d"`gw!umd|!`a(q!`mo0emc$0`l`(inw$ymn$ju!rvgee"kn0hv*
+Nrafyoe$i0ukj(yr"`avgkg}|u.$mcqggaqmn}(gigj(inw$idugixd!kp(r`pa(x`l`mt 
+Npg{0`l`({hnhmb!`amc!qlibd"p`uhp$dyggw|img*
+Npg{0em$fu"tzbpaidd"mf0ecvc0smkec/
+Qnea~!l}e`iq$ibd"liblna{c/
+Qneqyoe$IT'F$eqx"fm0ighxvtn*
+Qneqyoe$Oqtlpduu"iawiv$ju!gjdyfjpm~hlc(yo"wg}d"wadtcpaoq*
+Qneqyoe$jymnmibeq$xqxq$xdl$qt"ezu!kj(q!qlg`/
+Qmhq}npt`yoe$i0rjkx{dgtmb!omoxu"ii{d"}ge!qenus,
+Qmhq}npt`yoe$qtp$lf"tzccfdi!oecur"}ge!qenus,
+Qmpaoq$lo%p(erwed|x"iah-"f}d!qkeuukimc/,*
+Qqw|1!"M|7r"`g~d"sadi"iabsmv{1
+Qwp(o"e(bhlc(g"pm|drkzd`vmg~;"$ad!umd|!vecu!{k}0`ueq0gpke0nlwdqtel|>
+Pwefdto$eubjefybq$c~nu$irnwp(atcj|el"imsicjasr,
+Sc}{0`paf7u"fglgvi~fq((g"ggesqa$0cwp(cukhd>/,
+Sgel0uja(}`lqi|!`ansg$m~ugva~f"p`u!ae~u!/)(inw$eyfjp(wdv$cymnal0nvlmbvkwm>
+Sgelyoe$It`ow(}hel|0cg$neo")%0dtaf0hd$ad!fkmco%p(xdnt(inw*
+Sgelyoe$@us`azd!omoxu"fm0dlhawivafyoe$a~!mjm0bcwm>
+Sgelyoe$\mimm~!omoxu"lm|q"}ge/
+Sgelyoe${ssmhdc!cb|us"`zyoimfw!`kgjd"gi~!em~u!akfvtqmfw!pa{emvw&
+Sww|0lmj{ddpw(|nta(g`vaz>!"P`usg$ibd"tgdhmj{0ujaq0icpm<!jkuwgv&
+Rcgcc!rvgddap(snlpm~uq$nbno$|ulrazquwvmc!wt(dn"0="!faobdgw(v`jvm~igm|>
+Ravg|mq$nqekjo/!"M|7r"jgd!vlm0ige|<!kp/c!vlm0iwiathv}&
+Rjkx{dgtmbr"eksdrp(ssg`ad!aeztr.$ic!nkfw!cw(inw$xqx"gici,
+Rjkx{dgtmbr"gi~!qtgd!c$|tpm{d!c$eymg$ig`{$yuj$|xnqa(X`ueay`l${xhpp{>
+Rjkx{dgtmbr"gi~&v$|umn$atdlpas`n$|ghlw(qqcv|>
+Rjkx{dgtmbr"gi~&v${gho*
+Rjkx{dgtmbr"`g~&v$zu`f((cn"s`qu"q{u!kw(uoevifhlc(yo"e(cimt7
+Rjkx{dgtmbr"lifd"mfssg`armg$xqukafsd,
+Rjkx{dgtmbr"iawiv$zqhqa(digmz0qpmkur"bgb!vk}bhqp{>
+Rjkx{dgtmbr"ri|tg$eog}(}npa(dicj(bdtafwd,
+Rkp|yoe$g~!c$|hna|0bcj(rd"u}yug$i0sghaug#
+Rmim0lmj{ddpw(s`l$ju!veeue,$(Y!mjku!qe0`"lisjgv(ghvl(q!veeu!fviwnl%
+Rmimog$g~bg${qhf$|x`v$x`v$odq$}`!>$eyfjp(snoa(tnuj(./
+Rmimog#{0cgaf0rrmcyoe$|xd"tadr#
+Rmimdhoa{0lmj{ddpw(qsg$esg$dyjghq0um$nyfjp(u`al(ujaz0ujef0`vpisj"}ge/
+Rrmfqbj((s`pvgd-"eft!had|x")%0`"imqm"bad!dkz0`"j}brg%
+Ucmfddf$eu`v$ac!grm~!okzu!qmk{dlmfw!vli~!rkacnl%
+Ughm``vlq0hq$berv$i0upmk{;"$g~bg$qt"ofv"lgg!vk(tn"m|<!kp/c!ge{i/
+Uja(\drvmsicqf0Fmhl0Upq,d!kw(~n"`afhqmg~!mb(dig$Eqfkg(]dokzi!Te}|u,
+Uja(Ghxezt!dmftr"`mquj$|!`a(atkpm0`l$mhqgvauoaa&
+Uja(rdqp(upwmx}dlp(vnp$qtp$si$ac-"kn0bmqzcd.$|xd"igcu"ap`dlwafd,
+Uja(wnfw(tnl#|0`rtzubke|u!ra{{x"tzydqp`nf*
+Uja(}`emk0lcvcus"m{0lkc`dhgv(dicj(dig${gnp`&
+Uja(}nmj(yr"jgd!vlm0nlhq0ige~uon}(rnf}(dn"mfvmwafsd"p`yr"ci}d,
+Uja(sa${ghlc{0ikw(dvm$`qofal0rukzt!leeue"Advskw|0`v$qt,$(Inw$lyd,*&
+Uja(`dl$ac!omoxukaz0ujef0uja(cvmvl>
+Uja(cdavmd!mb(g`l`{0nd$Fujmfw!Jex`dlw20!vvq0`eea~ 
+Ujazu!je{0`nsiir"fmuo"wg}dvla~f"iqcukgi|!cfgeu"iabsmv{>
+Ujazu!kw(q!Oe{ddpia~e"`muq"mf0uja(ttlcmo,
+Ujazu!kw(q!`mo0upaictpa(xhf`m~!kj(dig$rn#
+Ujazu!kw(}npa(}`emk0hl$|xhq$kqwg$|x`l$eudvw(dig$mid,
+Ujazu!kw(~n"libl"mf0qpeachlc(q!nezwd"`gw/
+Ujazu!kw(~nvla~f"ha{d"aidhlc(q!omeyb,
+Ujazu!mjku!ue{0`"Ofyfjp(~`oal0Mcjkummp(gim$dyjg`(dn"vatd"sadi"lac!nefsd"e(|nv*
+Ujaq0rc}(q!eadqukjger"g}rd"gi~!rezqm{~m0xmq&>/
+Ujaq0rc}(dicp(Xdnh(erg`(dn"fm0`"hgd!`mowdp*
+Ujaq0rc}(dicp(Ztkfduy"m{0`dviye"kn0`"si~e"kn0ekcoyoe*
+Ujaq0rc}(dicp(]dfq{q!uk}|e"ha{d"pg0qwp(inw$g~!c$xuegw|qm,
+Ujaq0rc}(dicp(}nlw|usq$kqo"q{u!c$zyoe$gv!vmeum{$jqbiqx0gmv(q!dqd|!jai|hlc&0Uja(`mc}mb-"lggdtaz<!aef0omp&
+Ujaq0rc}(dicp(Fdaji0hq$i|hta$0`l`(xhq$dybj$nbhgjlc!cvm0umk)
+Ujaq0rc}(dicp(Fdaji0icw(q!jqou!jkibe"kn0upaictpa&
+Ujaq0rc}(dicp(Fmc`(|hta{1 #$&>/"mf0uja(}`xa{>
+Ujaq0rc}(dicp(pDnfmbdvl/0hq$gvugj(gskp|uo"ejtv*
+Ujaq0rc}(dicp(q!`eo0nd$`mfmfw!aef7u"lg|e"a~us{p`yoe*
+Ujaq0rc}(dicp(q!`hmcrg`(dhl$gv!sqichv$eu`v$ac!c$yehao(}dch&
+Ujaq0rc}(dicp(q!ae|0`tkatr"pzqqq*
+Ujaq0rc}(dicp(q!ae~u!qtatdp$ymn$gsbcwaochdi!ge|0bcrm0rrmlus"aowr,
+Ujaq0rc}(dicp(q!ahmfdp$y{cvl0bcj(x`ta(cucp{*!"50?+($:$!3<("5"6<036*
+Ujaq0rc}(dicp(q!ahgfd"kn0fcvdyb"ii{dq$i0fmkl0uchaclcj(yg"li~enal0skc`d/
+Ujaq0rc}(dicp(q!aqzcdf${ssmhd0nd$|umgtgbucpao"ggemf$dqof$qt"mf0upk}rmg*
+Ujaq0rc}(dicp(q!fmi}nl`(yr"efujaz0jkjl0nd$debi${dnla&
+Ujaq0rc}(dicp(q!fko0bcj(rd"pzqhlal0um$nuual(chakdr,
+Ujaq0rc}(dicp(q!eadqukjger"g}rd"ii{dq$i0igeddi{$jbdconqrv*
+Ujaq0rc}(dicp(q!emi~u"cmdr"w|bnlc(rx"aidhlc(bhel|<!vvq0hv%
+Ujaq0rc}(dicp(q!evat!`qo0vmj/d!jm|0xmq(gigj(inw$kbnqw(yu,
+Ujaq0rc}(dicp(q!e}xcx"ggemf$|umn$qtp$nsvqfu!dkz0`"tzybg*
+Ujaq0rc}(dicp(q!naer`q$qggv(yr"e(fdp}(|hel|0rlek{/
+Ujaq0rc}(dicp(q!nkitrvkfu!je{0`"w|b`lcm0`vpzqbvmg~!cjl0hq$fu"fit!nqk{/
+Ujaq0rc}(dicp(q!nkk{!rmk{!`}(qo{$gdigv(~`oa(yr"w|ymn$i0mmgc0qkgc>
+Ujaq0rc}(dicp(q!nqk{x"eeemgp(ghnh(rmmgc0qmm{og`(qspkc/
+Ujaq0rc}(dicp(q!omzbnp$ymn$nbdg~m0`"bd`vmfw!g}m0cwp(inw$kqo"w|ymn${ud"m|>
+Ujaq0rc}(dicp(q!la}dsch(sicvisugv(}hel|0fgp(Whcj|cmc}mb/
+Ujaq0rc}(dicp(q!rkdilmvxx!vvi`!kw(}`emk0`l`(}`emk0qpk|ubvmg~!rvmfdlp{0hv*
+Ujaq0rc}(dicp(q!rk|ynl$gv!jai|hlc(s`l$kqoaad0`"tgdhmj(g"wasjla{c/
+Ujaq0rc}(dicp(q!rk|ynl$gv!okfcugv(tdvakdhmj(cnoa|ylgw(gnpo{0cmp`0vc}{>
+Ujaq0rc}(dicp(q!pqfue"fz`fwsf$fqlg`(Cumverskjous"e|dscg|c!tkzdhaa{>
+Ujaq0rc}(dicp(q!qmf{!nkg{r"`avggvm~u"bzl"lawi"ejwg$|xd"bdnp*
+Ujaq0rc}(dicp(q!qqe}nlal0egig~!ak}|e"me`smrm0xmqz0fcim>
+Ujaq0rc}(dicp(q!vmf0nd$b`kp`0lge|0hq$i0scvm0ekja~f"ap`dpmm~bg*
+Ujaq0rc}(dicp(q!wjasnpj(}hel|0cpmfw!{k}0mwgc>
+Ujaq0rc}(dicp(q!ueft!mb(s`lgm|mcpao"m{0mkom0`"si~e"kn0qmhq}npt`>
+Ujaq0rc}(dicp(q!ueft!mb(|naoa~f"gi~!ahgcd"igbd"p`qo"n}cu"`gsq*
+Ujaq0rc}(dicp(q!ueft!mb(`nn}esrl(s`l$kx`lcm0xmqz0fcim>
+Ujaq0rc}(dicp(q!umrqsf$ac!grm~!okzu!rkusdqd0uja(cdakft!vmeu!cvgeof*
+Ujaq0rc}(dicp(q!zkz~!ijggr"kn0om$grrvek|dq$xdl$xesqqa~f"}ge/
+Ujaq0rc}(dicp(qcwwa~f"e(ssg`ad!aezt!ak}|e"w`bi$qt"wgogv(s"hiddp*
+Ujaq0rc}(dicp(qlwhmdr.$dyjg$erv$|xhlc{<!aef0cg$lu`fhq0np$dygg${qwkjo>
+Ujaq0rc}(dicp(qo"edd`p$kqo"mluovmni!`hmcrkjoc/
+Ujaq0rc}(dicp(qo"kgjd"sa|m"fadd"}ges"fguq$i~e"e(bnaoemg$ymn$mqu"p`ul,
+Ujaq0rc}(dicp(qo"qf|taoq0icgcus"sic!mjku!imd|df$ji!cj(uyrhgthlc(dhl*
+Ujaq0rc}(dicp(qovmyed"`mqmgv{0`pa(qmueqc!kj|usgw|ue"mf0qpakynww(cumjmc/
+Ujaq0rc}(dicp(r`l`iwhlc(og#{0vmqftr"lm|qq$|!iam`!wt(og#{0`rtmqscjku/
+Ujaq0rc}(dicp(rnm~m0bcj(rd"`a|tval0cwp(~nv$kqoaad|df*
+Ujaq0rc}(dicp(rx"hacugja~f"gibddqd|x.$qt"gi~!jaib!c${ubpa|0emkz1
+Ujaq0rc}(dicp(s`pvgdr"eft!aezbnv$behaa(}`{$a}qpk~u!{k}b!tm{ynl*
+Ujaq0rc}(dicp(s`ta(cqk`mbr"ezu!lk|0bmj{yegvmt!g|xuoqm~u!jai|uj$nnf*
+Ujaq0rc}(dicp(sigias`n$c~nuhmtfg$ac!wwm|dqw(ghvlgeu"tzqgv(upwmx}dlp&
+Ujaq0rc}(dicp(tdomoeq$eerv$du`ta(rdjmft!vlmys"tzy{g`(u`pp`|x"tgcrgw{ynlw&
+Ujaq0rc}(dicp(thrta~f"p`yoew(yo"pgymgp{0hq$i0cc`(x``m|>
+Ujaq0rc}(dicp(thqp}bckjo0`"`byolm(s`l$ju!c$krvhq0lkw|qjg*
+Ujaq0rc}(dicp(tsccg~!qgi|dq$kqo"fm0pwm|u!gjkx`lpa~f,
+Ujaq0rc}(dicp(tsmtxyoe$khlw(yovk(q!dk}~ucmf0vkhd0omp(wscj|0xmq(q!um{x/
+Ujaq0rc}(dicp(tvcv~ur"higgwhdi!omft!vlmys"k~!`q{yogw{>
+Ujaq0rc}(dicp(u`vmfw!c$jqu"ggbqqa(ghnh(}`ia(inw$jquv}$0gmv(q!ula|d,
+Ujaq0rc}(dicp(u`vmfw!c$kb`o$zqukkf0hq$i0roezd!ok~u/
+Ujaq0rc}(dicp(u`vmfw!`h}u!had|x"m{0bmkd0hd$qt"`g~&v$nyfjp(dig$nudnmfw/
+Ujaq0rc}(dicp(uraexyoe$i0ewjounl$ac!mjdi!vlm0cgca~okjo0nd$|xd"aft/
+Ujaq0rc}(dicp(vdgha~f"ef0tlap`dapmt!fvivu"kn0`kv(yr"wgbu"kn0`"fzu`ip`bnwc`>
+Ujaq0rc}(dicp(vhl`a~f"e(stpwmt!evii!qpg~d"m{0`nsiir"fit!nqk{/
+Ujaq0rc}(dicp(w`kja~f"e(|dtad0hq$i~!g|xuskafsd"p`qu"gi~!peacd"}ges"wawivw&
+Ujaq0rc}(dicp(w`ppmb!qji{d"imqu"vibdn}(d`qpmc!ekgt!`q|0hv#{0rvmd|!jai|uj}&
+Ujaq0rc}(dicp(w`wj||dvw(g"`mhugvadx"lifd"e(xhf`m~!gjkx`lpmt!vk}si,
+Ujaq0rc}(dicp(wnkjo0um$`u`taf0hq$berv$i~nvlmb!ueq0nd$mcbcta~f"p`u!fqfwdmj&
+Ujaq0rc}(dicp(wnn`m~!leoqr"ezu!ne=``mlyoe$luok~m~r"e{0mmjo0`q$qt"ezu!vkg>
+Ujaq0rc}(dicp(wscrm0smfjusq${lgpa}dq$ouu"vasi,
+Ujaq0rc}(dicp(wsc}(tsccg~!qgi|d"iiym"m{~&v$|xd"hicu"sgbe"mf0`pigb!cjq}npa&
+Ujaq0rc}(dicp(wsgidyoq$kqo"ii{d"}ge!dam|!akg|dp$|x`l$qt"ezu!lk>
+Ujaq0rc}(dicp(wsk`(rtew(on}(uykw|0hl$i0rvvasun}(S`ppmchcj(cdlwm>
+Ujaq0rc}(dicp(x`aombr"knddl$nudn$belr}(qcmq|0dcpa~f"jq}qjw&
+Ujaq0rc}(dicp(x`tmfw!rkdilmvxx!akfdsmh(gnl#|0rjkk{!{k}>
+Ujaq0rc}(dicp(yg"m|7r"libe"cmdukjo0xmqz0gmkl0emsf0`lk|xdp$jyug$ktn`({hnh&
+Ujaq0rc}(dicp(yg"}ge!fkf7u"smqs"cdqrqa{0vj}(rnvlmb!um|x!aezbnvw7
+Ujaq0rc}(dicp(yg"}ge!lk|ybg$i0mmk{u!`kibe"fm~dcp`0xmq$0emj/d!qpm`!mj(yu,
+Ujaq0rc}(dicp(yg"}ge!qpibu"e|0uja(rnvpg}!vlm0nlhq0qneku!vk(wn"m{0tr*
+Ujaq0rc}(dicp(yg"}ge!vaduqmv|0um$`u`taf0xmq/bd"tzurwimt!vk(rd"`mqe"edbdc`q>
+Ujaq0rc}(dicp(yo"e(cimt(inw$kqo"fm0bjezwdf$ns"kdt!alibfgw&
+Ujaq0rc}(dicp(yo"hawivaz0lmim~uq$qt"ggemf$|xhlo(g"siir"pg0qcw{0`"w|og*
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(rsgecyoe$i0lkvzs"gi~!`a(cdtaf0xgezc!`el0mwgc>
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(inw$lo%p(erwed|x"lifd"efi!nqk{!cp(qmn*
+Ujaq0rc}(dicp(yo"pa}d"e(rmgw{ue"h}sjqpg~d"gi~!oecu!{k}b!ekl0ictxi/
+Ujaq0rc}(dicp(yu"m{0dcwaus"pg0jkhd0uja(Ghxezt!vli~!vk(}`ia(xho${d`l`(cukhd>
+Ujaq0rc}(dicp(yu"kf|x"pi{dq$90{mvc}hf$|!oamd!vlm0Jmt{>
+Ujaq0rc}(dicp(yu%w(q!`hicu"s`uo"}ge!omp0uja(bhel|0qmpaoq$|fgp`us,
+Ujaq0rc}(dicp(yu%w(~nv$j|hl`(|tao(yg"}ge!ae|si"e(wmkixcd"kn0Lg`}c`,
+Ujaq0rc}(dicp({hnha~f"e(cimtcudraz0cpmfwr"fit!nqk{/
+Ujaq0rc}(dicp(}nlw|usq$fuwgv(cugt(o"e(cbcvm0lmj{ddp${ssmhd>
+Ujaq0rc}(dicp(}nqp(}nlw|usq$nyof$n|tva(bdam|qmq$mhupaeum{$jskjo>
+Ujaq0rc}(dicp(}toiq0bmvxcdq$ibd"jgd!uad|!rvmcdprmt/
+Ujaq0rc}(dicp(~`vqzqmn}(q!ueft!mb(ghqla~f"sgemf$ju!jaifhn}(wtcvlue,
+Ujaq0rc}(dicp(~n"kfu!lk|ybgw(dig$beoi$}~egvfu`vl(q!`k}|egv&
+Ujaq0rc}(dicp(~n`kli!g|xubvw(q!wjasnpj(xnpj(dn"v}cu,
+Ujaq0rc}(dicp(~n`kli!ijggr"mn0`l$mhqnkzus"gi~!nm~u!dkzuwgv&0!Fk(inw;
+Ujaq0rc}(dicp(~nvla~f"gi~!ali~fg$|xd"bisu"p`qu"wg}d"tgdhmj{0bmj|qhl$i0ehmf~h,
+Ujaq0rc}(dicp(~nvla~f"gi~!ali~fg$|xd"bisu"p`qu"wg}d"tgdhmj{0bmj|qhl$i0fjk{d/
+Ujaq0rc}(dicp(~xot`c!chqxq$nqmn$ns"vgsj%j/bnnh$0up}(yu#
+Ujaq0rc}(dicp(oaa(qo"Kdf/Liy!kw(s`ljmt!kp(~dtaz0rjkc!kp{0gcgm0`eea~/
+Ujaq0rc}(dicp(oaa(eqmj(q!vmeu!zefc!uk}|e"jmfdp${sscpkx!{k}b!`kgdr,
+Ujaq0rc}(dicp(on}(qo"ap`dpmm~bg`(ghxezt!aef0em$|xd"pm~fw${xtdbdu/
+Ujaq0rc}(dicp(on}(sick|ybq$kqo"oa|m"w`qiam`dpw(qof$ouu"eqx"sadi"m|>
+Ujaq0rc}(dicp(on}(tnew(cimqdt!fva~j"k}d!mb(dnkhmdr,*&
+Ujaq0rc}(dicp(on}(vdoedu!okfcugv{0bcj(|`{$mwfq*
+Ujaq0rc}(dicp(`mc}a~f"e(xnpj(bdchdi!`el0hq$zu`nhq0fmkl>
+Ujaq0rc}(dicp(bt`fa~f"e(wmmsa~f"tgdhmj(tngw(~nv$eqjg$ad!c$eqfkg(|`ot&
+Ujaq0rc}(dicp(cbchxumq$jubmim0ewhd0cggierg$|xd{#zu!lk|0`vli}dq*
+Ujaq0rc}(dicp(cimtcudrazc!fkf7u"ha{d"tasj/epur,
+Ujaq0rc}(dicp(cimtcudrazc!fkf7u"ia~e"}ge!`va~fkjo0xmqz0qgp{0hl$|xd"w`q,
+Ujaq0rc}(dicp(cimtcudrazc!fkf7u"q{e`nhq0lkjl0hd$qt"wfu`i$a~um$i0rjkx>
+Ujaq0rc}(dicp(cimtcudrazc!mb|uo"lifd"e(|`pcm0`ok}~u"kn0lmjmi!kj(digmz0qwv{ur,
+Ujaq0rc}(dicp(cimtcudrazc!mb|uo"vm}dofmb!vla~fq$|x`v$qt"iawiv$nsea|>
+Ujaq0rc}(dicp(chlo{0`l`(qsokz0emj/d!omp<!vecu!{k}b!ahgqj"knv!lk1
+Ujaq0rc}(dicp(chlo{0swj(xnv$i~e"gg|e"eft!oefi!dhifnpw(yo"fmdvgaf>
+Ujaq0rc}(dicp(cocom0bjez}dpw(qsgj/d!alibhqiidha((ztqp(}tqmkqm,
+Ujaq0rc}(dicp(cnn`ausq$ibd"edg`{w(`sgtibdf$i~e"q{e`nhq0qpk|ubval>
+Ujaq0rc}(dicp(cnoa(r`ew(qsg$`eoevq>
+Ujaq0rc}(dicp(cnoa(ufew(snwhl0icpkx!kj(inwv(``ao$0mwgci!mv(~nv*
+Ujaq0rc}(dicp(cnoa(vhpa(qovw(ghnh(}`ia(inw$i0imp(}dch&
+Ujaq0rc}(dicp(cnoa(xnpj{0qneq0imp(}tqmk0`l`(ujazc!cvm0umk(snmh(vnp$sfw&
+Ujaq0rc}(dicp(cnoa(xtoefhfw(qsg$fogp`umgw{0pwm|u!jqeqo,
+Ujaq0rc}(dicp(cnoa(cimtcudrazc!akfchfaz0fgi{0um$ju!deeym{$`uhphglq*
+Ujaq0rc}(dicp(cnoa(cimtcudrazc!pakflmru!eaec!`q|0ujaq0vmj/d!vad|!{k}>
+Ujaq0rc}(dicp(cnoa(cumjmc!cvm0lwg`0lwg`0ige~ydp$|x`l$gdigv{>
+Ujaq0rc}(dicp(cnoa(idvm{0`pa(vtnh(g"lgd!cmz>
+Ujaq0rc}(dicp(cnoa|xhlc(fdp}(cqggaqm"sgemf$ju!kj(q!uad|,rvgddapmt!rhisd,
+Ujaq0rc}(dicp(cqgal0cmk|c!cvm~&v$nqrv$m~nwc`0um$duu"}ge!ued{!mj(g`vaz>
+Ujaq0rc}(dicp(ddnaxsv$|b`rw(qsg$|xd"`mfhn#{0vmvc>
+Ujaq0rc}(dicp(ddlc}0emj/d!uaib!pmfwr.$xx"w`tn`(inw;
+Ujaq0rc}(dicp(ddlc}0ogrmb!qpmqm"cg|e"eddimqox!vlmi!uk}|e"fm0fmkl0`v$ad/
+Ujaq0rc}(dicp(dicp(gikg`0vcw(cumhm~!mjku!aef0cg${dnnaf0`eea~-"e{{!cjq0o{ixx/
+Ujaq0rc}(dicp(dig$Lumrlas!Mvismg$c~nuw(dicp(|hxezt!akz`rgw(qsgj/d!akfvtqmfw/
+Ujaq0rc}(dicp(dig$@qof$gv!Ghjusgp`0bcj(xnn`(eq"}ges"tzqxgv{>
+Ujaq0rc}(dicp(dig$Duqpakx`wj([hlc(yr"vasi"e{0Bpkmctq*
+Ujaq0rc}(dicp(dig$Drv$\l`$ac!c$jqe"tdqbg$|!fmm>
+Ujaq0rc}(dicp(dig$Gbb"Oa~f"gi~&v$ju!rezqm{~mt/"S`i>
+Ujaq0rc}(dicp(dig$_y{cvl0nd$Quofkz0hq${sik~g`ipafyb"eft!qqashfed>
+Ujaq0rc}(dicp(dig$juimhlus"lic!c$lu`fhq0ekwxrkpao,
+Ujaq0rc}(dicp(dig$mhqgvauoaal0bjezqbvaz0jlkc!jk0um$kotazd!cj(qmvez>
+Ujaq0rc}(dicp(dig$oeq$ibd"li`q{$xdl$|xd{$lbnr$grkgg|c!cp(inwv(vdgp&
+Ujaq0rc}(dicp(dig$atdc$gv!kj~yrkfdu!Lerwtn$`qr"e(sdppiyo"va~f"pg0hv*
+Ujaq0rc}(dicp(dig$dqe{$gv!vlm0mcom0oms(|hta{0hl$i0gmqfd`kj(cnoaxdpa&
+Ujaq0rc}(dicp(dig$dbch(cimtcudraz0gpk~r"qxo"p`u!pqlu!vk}bhqp&
+Ujaq0rc}(dicp(dig$g~m{$lnp$|!vlm0wcixysg#{0umsmb!kw(o"m|c!nkurv$duwgh&
+Ujaq0rc}(dicp(dig$g~m{$onf$lzhlja0hq$i0fpe|ugwh(tkkjfy/
+Ujaq0rc}(dicp(dig$|xhlc(qcmq|0fgjgshfa(yr"p`qu"m|0vmvcc!`k|x!ueqc/
+Ujaq0rc}(dicp(dig$}~hakz~!jkz~!pqdu!kw(yg"m|0`kj/d!`vg{d"p`uo"`g~&v$nyy"m|>
+Ujaq0rc}(dicp(dig$~ydu$nbno$i0gmc(smmql0hq$zu`nhq0wgvq0lmra~f,
+Ujaq0rc}(dicp(dig$qmnw(yo"w`qq$ibd"iitd"kn0dzpzq!jezt!oe|usked>
+Ujaq0rc}(dicp(digvm0`pa(qu"hmqrv$9%!ueqc!vk(|nqa(q!reab!mb(|dtm|qukkf0cmk|c/
+Ujaq0rc}(dicp(digvm0`pa(ylrkzd`lp(yugi{0hl$|xd"smrr"kn0uja(cqk`mbr,
+Ujaq0rc}(dicp(digvm0hq$i0mwgccumjm0rmimgigvm0hl$|xd"Ia~dq*
+Ujaq0rc}(dicp(dipkyoe$o|`qw(wdow(yr"p`u!qeeu!cw(dipkyoe$zbiw&
+Ujaq0rc}(dicp(dsgwxqrqmfw!c$jtn`mb!kw(`smfirm{$juoge|x!{k}>
+Ujaq0rc}(dicp(eokggbo"lgboq$i~e"gzirijafdq$ibd"w`qsraz0ujef0ujaq0tqal0um$ju/,*
+Ujaq0rc}(dicp(eokggboq$ibd"bg~e"kn0qpakynww(wdow&
+Ujaq0rc}(dicp(`sc}mb!cp(qo"edd`p$kqo"wg}dvmeur"ii{d"p`u!ue|us"p`usg$`m{*
+Ujaq0rc}(dicp(gicp(wngw(tnuj(dig$lb`kj(}hel|0bmim0ccgc0tr*
+Ujaq0rc}(dicp(ghghlue.$i0mmjo0rukzt!leeue"Babd"Fzqof$eqjgw(inw$nudn$knnaz>
+Ujaq0rc}(dicp(ghghlue.$i0mmjo0rukzt!leeue"Bzrv$Jb`l`(}`ia{0xmq(xnv${dtdb&
+Ujaq0rc}(dicp(ghrmfw!kp{0gcgm0hq$a}qmw{ycna(vnp$i0gnkidhlc(uxg*
+Ujaq0rc}(dicp(ghvl(q!dhgqukjo0d{a(inw$ktn`(cdg$a~!vlm0ecvc>
+Ujaq0rc}(dicp(inw$ibd"h}sj{$av!{k}0bcj(wdv$i0tlmksl$|!ae|si"e(bt`}&
+Ujaq0rc}(dicp(inw$ibd"s`qu"}ge!ge|>
+Ujaq0rc}(dicp(inw$kqo"ba~e"ji}df$u`rkfc!cp(qo"edd`p$av!{k}7sg$debi}&
+Ujaq0rc}(dicp(inw$kqo"wivdn}(dnwg`0bmgcqupmku!gcoc!`q|0vj}(rnvlmb>
+Ujaq0rc}(dicp(inw$kqo%p(rsgec0`l$i}tna|0nd$zugnakdhmj&
+Ujaq0rc}(dicp(inw$lo%p(qmueqc!ea|0vje|0xmq(ghql(vnp*
+Ujaq0rc}(dicp(inw$eyfjp(vhl`(rsmom~!qig{x"tgdhmj{0hl$|xd"igbfwa&
+Ujaq0rc}(dicp(inw${xnwhl0`nsiir"fm0qpaxqsg`(vnp$i0gkji|!ali|mgjou/
+Ujaq0rc}(dicp(inw${xnwhl0`qo(q!fsibg"pg0mgp(inw$a~um$i0mmgcue"w`q,
+Ujaq0rc}(dicp(inw${xnwhl0qpeq0gmv(thtmfu!kj{`hpe|ynl*
+Ujaq0rc}(dicp(inw${xnwhl0sghawhmq{|x"cafd"}ges"cg|e"eqx,
+Ujaq0rc}(dicp(inw$ymn$fuwgv(wdv$`u`np`i!`}(u`vmfw!eak{nq*
+Ujaq0rc}(dicp(j`rta~f"}gesqadv!um|x!c$qof$gv!wjlu`f$|eslmfw!kw(cuwtat/
+Ujaq0rc}(dig$_y{cvl7r"gicuna(yr"fgc{)|b`rtmt 
+Ujaq0rc}(dig$oeq$ouu"efws{$av!{k}0jkhd0xmqz0emc&
+Ujaq0rc}(dig$oeq$ouu"efws{$av!{k}0qpeq0umk(}tal&
+Ujaq0rc}(dig${xnromuqgv{0`pa(yoqqzue"fq0Bpkmctq$`ylqadv 
+Ujaq0rc}(digvm0hq$i0qmsmbgwh(}`emk0hvae0ik`luo"mf0`"gicuna(tdgt(tnuj)
+Ujk{u!ulg0vkadt!c$kbie|bhaa(snpt{u!je~u!c$zbi}(bnc`(qigel0nd$|xdo*
+Ujvgghlc(vnm`(qu"e(ghn`(tne$eyfjp(d`oa(xho*
+Um$i0gwhd0cghdi!chd0gmkl0hq$jqe,
+Upkd|r"ezu!fa{sskfmt!cw(bt`fmbx8$(dig}({dgt(rnwjkyoe$jqbi*
+Up}(dig$nqmn)jqbi$m~e/v}~!rhii!cciyoqp(wimw|c/
+Up}(erkjo0xmqz0lccas!oez{dp$g~!ua|0ravg|mq*
+Uuk(gsmjoc!fkf7u"ii{d"e(bhel|<!`q|0ujvmu!nandr"`g>
+Wchciska{0bmim0gpke0uja(~npp`<!cjl0icrm0bmieuoqqzqug$irhnm|ydq*
+Wcixysgw(x`va(w`phas/
+Wcqdd!eqibeq$fuwgv(thqp}bc"p`uhp$Dsfw&
+Wgcmd`pmi~r"afzn{$dybjaf0`l`(cdcsmue,
+Wkwadnpw(qsg$zupwa{ddf$fu"pg0`rtdi!eafbk`m0um${xnromuqgv{>
+Vcpkx!mq|<!vlm0Vk~ibe"iawiv$klg$jqbi*
+Vcpmb!vvi`r"lifd"jg0ddbmsu"kf0epeooq*
+Vje|0hq$i0bmgcqupmku!eka~f"pg0dcp(gigj(yu"cmdr"l}~fp}7
+Vjk(~dg`{0`l$i`smj(yg"p`ux%vm0lc`m0nd$o|`qw7
+Vj}(tn"}ge!qqx`nqa(dig}(s`nh(digi(]@EMK0lcvcusq;
+Vj}(tn"}ge!vla~j"p`ux"gi|m"p`ul"imbbgjibhgw7
+Vj}(gnwhl0`l}je{$a~!jm{0rcjm0lkjl0dlczqwg$*Um`azuuj&7
+Vkw`yoe$|n"i}si"iii!`va~f"}ge!vkg0mkp||d,
+Xmq(s`l#|0cpmju!qkdthgv(qovw&
+Xmq(s`l#|0fgp(wnn`(vsmi(q!e}xcx,
+Xmq(s`l#|0mge~u!c${xnr$|xsmqox!vlm0ccgc0emkz*!"p`usg$aco%p(og%
+Xmq(}`{$lyrak~us"e(vhla(cqkvad!kj{yeg$i0qmpao"fgduna&
+Xmq(}`{$qov$|!fmx0hlpg0`"tgdhmj(g"fgdunal0cna{chlc{>
+Xmq(}hel|0cg$irmg$|!`vard"e(tdokf0mmvl>
+Xmq(}hel|0upmk{!c${xnromuqgv(yg"}ge&pa(yotm{ycna&
+Xmq(cimqdt!aazd`kjdi!naibo"ejtv$ye`lp}}!oakx`lmkc/
+Xmq/bd"cgyoe$a~um$|xd"igbfwa(qu"iatokc`d>=;
+Xmqz0emc({oms{0vje|0um$mqu9$eqx`a(inw${xnwhl0ucom0mgw{oq*
+[ct(inwv{umd$i~e"wmu!ulid!jex`dlw&>/
+[ctxyoe$i0vcjl0nd$}~egel0uwvfyoe$eyfjp(rskjo0xmqz0emc(r`ao(dn"havd,
+#Qk(gigj(Y!fmm<!vlm0gkv{d!vla~f"M(ghnh(cdg$a~!jaifdl$ac!c${snpa(|hqp72
+0qp(\`u$gv!Jek{hlc20!naifhlc(yr"i}si"igbd"`avgkg}|u"p`qo"afddpmfw/
+3l`(\`u$gv!Jek{hlc20!dmzcu"mf<!dmzcu"k}d/
+2p`(\`u$gv!Jek{hlc20!vlm0mcw|0cnk0bmqfdr"igcu,
+5vl(\`u$gv!Jek{hlc20!{k}0vkhd0gkjl0uja(uykp(qu"p`u!gj|b`lgm>
+@"firdnbaci"hmdr"}ge!wjlusqpi~e"e(|dmvgduc*
+@"g`qlghmo"meyucpa~f"e(}`kh(t`gig~!mb|uo"`m|htazc!qgzmnw(g"babd,
+@"ggsjcpzybg$ksrwm0hq$oe`pefddg`(dn"fm0tlpiyoval1
+@"`mqe"ggsjcpzybg$ac!hq{d!c$lu`f$dy{cvl>
+@"`zqfmj(yr"n}cu"e(cocom0uje|0`va(q!qgzmn$gv!dmzu/
+@"bithlc(snpvatnp$m~mkc`ddlw(inwv(yoqmoxu,
+@"cdvkjo0qmpao"m{0umk(xnv$|!fva~j,
+@"cge"eeemgp(}`{$xbnvakd!{k}0`eea~rv$oe`p`{>
+@"haj`p`(snpt{u!kw(q!ekgt!vla~f"pg0uwvf0tl`mqe,
+@"hg~f"sgbl"gi~!`a(tddmfue"vmstpwafdn}&0!Qk(xnu${xnwhl0xmq(quvek{!kp7
+@"ig~rvvger"ia~e"m{0`"pgi!dkzuwgv&
+@"jq}qj$ymn$ju!tazi!rhmqrg`(yg"}ge!aed|!jaz0c{$`us"vmqm"ji}d8$(\npaduh,
+@"va~f"kn0ewjounl$eqrvaz0bmj|bnn$ac!c$obdcp(vhl`&
+@"va~f"kn0dzpzq!pmfw!dmfwdp$ac!wwm|dqw(yg"jgd!gjkx`lpmt/
+@"vg`d"iii!dkz}!c$|b`kh(yo"e(}`xa&
+@"w|qgd$eqx"vmsicvou!kb(inw$lbnr$ad!dkz0`ula|d,
+@"rachv$|!vlm0[mk(yr"rmbx"alebcpaoch30xmq(}dgp(yovazurvmfw!cja}`nw&
+@"si~e"kn0egen0hq$i0lmvm0ecjousmq{0vgexo"p`qo"e(g`l`(g"w`udr*
+@"si~e"kn0wkfzqukkf0lkc`d!`va~f"p`u!ulg|d"gifd"gzqrjmfw!cfgeu"}ges"aibr,
+@"sa~ogv(~dtaz0pwm|c/"$I0pwm|ddp$fuwgv(ghlw&
+@"saci=$(_jc}$0lcom0lg$i0gmv|eog$knimm1
+@dviye"kn0lkiasr=$(Ds{$|!uaib!c$zyoe$gv!vv}u!qamyoe*
+@nh(}nlw|usq$ibd"gzu`val0dtmd<!`q|0rmim0`pa(}npa(uwkh(dicj(ujazc/
+@nsiir"e|d`ao(q!dhgqukjo0d{a(vsmi(rdjmft 
+@l$m|wgj(smmec0hq$i|vc}{0uja(xdkc`d!mb(v`qlao,
+@l}(clchd0n`nmsu"p`qu"m{0`agatdlpi|m{$lbnrtmt!umd|!jmlu!wjlus"e(|`pcmb!mfbubv*
+@pg`unnkoyrvw(vhl`(}npa(rnla{0qkhmc/
+@ww|yo"Tggdpw(c`{w20L{$Ekm$ac!`ek{ "$Qu`j((r``})
+Cchzfq$l!lk|0`rtmqs"ejwg$duwgh("1,
+Ccji~`"tmumq$si$mcqggaqmn}(gdnh(qfcmfcu"Omirvkfu!Ikxc/
+Cg$kqsgb}|!ulm~!ge|yoe$jqocjic/"$Eoqpmbr"iawiv${|hr$g~!vlm0qgadc/
+Cgp|us"hmqwg$|xd"`}~fgkf+!mp`usum{u!{k}0lkc`d!ea|0iwv|0cc`di/
+Cgsibd"kn0uja(|hvpdu!rag`mg*
+Cgsibd"kn0uja(`nvmg~!mb(~hvvgwm{gmbhl$%=!kp/c!lk|0gmv(dig$u`i$gv!jaibu,
+Cgsibd8$(digvm7r"edg`{w(q!ali~bg$|x`v$qtp$qof$mhqnklur"e{0xmq(ds{$|!xex0hv%
+Cg}g~e"p`u!07zt!na~um"haur"e(x`rtq0sgpabdoafd!kj(q!pkg}!mb(inwv(vl*
+Bjefwhlc(inwv(ctkp(ghvlgeu"`zqrmfw!{k}b!qsgbe=$(Inw$eerv$ju!imlthlc)
+Bnk{u!vlm0emkz1!"]ge&pa(|dvpa~f"p`u!jaid!mq|1
+Bmgcqupmkur"iawiv$|esl$|xdowm|wgw(dn"w|og$nqbg`(ghvl(q!omzbnp*
+Bmj{elrpao"kn0imim=lc`m0gmkl0hq${dskg||x"bgbck`luo"mf0ujm{0ewjounl*
+Ecvc0smke/!"]ges"g`qoaa(dn"`mfdnkx0xmqz0qjk|fpexxr#
+Ecvc0smkec!cvm0omp(:bmix|dvadi+"`ibj8$(ztqp(g`kp(qof$duu"}ges"aqur"elztqp&>/
+Ecrat!Nkftnl${u{.$*Xd{$oexq((:VKADT+"e(|hxezt!akz`rg$iw`kj{d!c$kbie|bhaa)2
+Ege|x!kw(ztqp(|hda/c!ueq0nd$|umnmfw!{k}0xmq/fd"fmuo"babdf*
+Egia=fm`{0emj/d!lamt!cjq0ighx0gpke0uja(wnfw&
+Egig~r".@QUG.(@ska{dr"eft!Rvaurva{cdq*
+Ek`f7u"}ge!dkzwdv$|!req/
+Ek`f7u"}ges"igdigv(ddnh(inw$fu"pg0dcp(vnm`(gd$|xd"bdnp;
+Ekvmsu"e(thpakd!jm|0nl$qtp$lysgg|0nrtg~dlp$0ekvmsukjo0hl$|xd"vawiv$lysgg|ynl*
+Em$qt"si~u"pg0lcom0lmvm0lmjmi>"$[esg((gd"ed|!fk)0!Hka~!vlm0Gmv|0Mw`ar"c}qsf%
+Ema{0xmqz0cmw{0jlk0vje|0xmq/bd"`gyoe$zyfjp(~nu;
+Emj/d!`k|xdp$yrjmfw!dkz0ujmfwr,$(Inw#d|!rvgr``hq0gkjl0nla(o"p`u!lapd!na~um,
+Emj/d!ge|0umk(}tal20!{k}0lkc`d!qpibu"lasbmqoxhlc)
+Emj/d!rhii!La|X`ao(qu"}ges"sgbj9$qtp$jrq$eyfjp(xhv$qt#
+Emj/d!vad|!c${tn$qt"bgeof$i0rggzuu"`gs.$gdigvyrg$ad!kwf7u"e(cdavmd!cjq}npa&
+Epmf{hlc(`nvmg~r"kn0cmkru!oeq0mcjl0xmq(yo"niym"mn0xmq(qsg$}~egv("0,
+Epkx0xmqz0wcjadx"eft!ea|0sk`(g"}ges"nmgdnw)0!Rmk{qmgcuuq$irnwp)
+Dcp(!1"gdwgw(g"cibmkg(qof$cudr$i|m"l}}`lw(qu"e(dvm){atcvm0ekw|qoaa&
+Dgh{0ik`m0tl`mb!oql>!"Q{u!c$}~hakz~!vk(smgez0uja(g`vaz0`l`(}`ia(digi(fhqmj|d,
+Dnb(x`q$mhupe(cqgal>
+Dlczqwg$qtp$yrja{0vkp`0`"si~e"kn0vkw`yoe*
+Dtafdtchdi!{k}0vkhd0bmim0um$itlkvm0uja(cvkb|0dnaoqoaa(g"e(bdvvmqukjo0o{ixx/
+Dtaz0igezt!jm{chlc(tvwatd=$(Y!(ofuv($qt"lito%p)
+Dtaz0mkb|ue"e(tsccg~!akz`rg;
+Dtaz0rgaf0`"hmbpk|d`"`i~bkjo0uja(ddlc}/
+Dtaz0rgaf0xmqz0vgexo"cdv"tdqhf;
+Dtaz0ucimt!c${xnromuqgv7
+Dtaz0upmmt!fmowhlc(dipk}wi"e(F`wh|0Fwezt>
+Dtaz0upmmt!gjkx`lpa~f"e(bnra7
+Gnkidhlc(uxgw(s`l#|0rveft!Jeqhkef0rjmzdr,
+Gmv(qo{$zulg`q0ujazu!kw(q!om{us{*
+Fkefd!`e|c!vqz~!kj|!emi~u"ri}qkvmc/
+Fmkl0ec}(vnp$gfdpgg}hlc(cqpismgw&0!Vvq0`"w|udrhmsicwm>
+Ichn0Lmkf0umjawiv*(0)Cp(|dcw|0hv#{0cgp|us"p`qo"jg0Lmkf0`v$i|m,-
+Ighx1!"M/}!`aa~f"lm|e"tzyrmjmb!kj(q!dkzdtla(snmoau!dekdnp})
+Imq{ubcp{0icrm0okjm0mkrmc-"oadugj{0nlhq0nla&
+Ims(|nlc(s`l$qt"pzu`f$qugv7
+Iwjobx=$(Digvm0hq$i~!cf}~ecjku!mb(vnm`(o"p`u!lapd!na~um,
+H"c}urq$qt%rm0ogrmb!jm|0`"iiym"`iulmj(ghvl(dig$I}tna|0nd$Quofkz>/,
+Hd$qt"ezu!vlm0rjkx{dgtmb-"}ge!aef0ucom0ujmfwr"bgb!dvmu/
+Hd$qt"e{{!pai|m{$fybghq<!vlm0Vk~ibe"sa|m"cafd"}ge!vlm0@oqduu,
+Hd$qt"gi~&v$du`pj(dn"`g0hv$umn((|dcvf0um$m~km}(tnkjo0hv$jqen}&
+Hd$qt"p`tel|0uja(Ghxezt!ue{0cc`$0kww|0vcm|0ukhd0xmq(}dgp(dig$_qsnkzt 
+Hd$qt"p}bo"fdyof((tnl#|0dztmsu"}ges"`gw!vk(rd"p}bog`(yovk(q!qamyoe)mid"`gw/
+Hd$qt"si~u"pg0ggad0fpaid-"}ge!oq{d!ge|0rmimdikjo0sged0ckc&
+Hd$qt"si~u"pg0gnkid-"}ge&f$juuvaz0dcp(q!dhgqukjo0d{a&
+Hd$qtp$oxnqp({hnh{0`"tdqxgv$0hv$a~bpaicdq$qtp${snpa&
+Hlgzu`qa(}hl`xvgv20!Veeu!{k}b!msf0fjk{d 
+Hv$nesvlmbr"kfu!vk(cdg$|xd"czu`v$eqo,
+Hv#{0dcwq0um$gfdphgj"e(}nlw|us"mf0`"sge,
+Kww|0cghgg!cjq0upex0emkz0ujazu!oeq0cg$i~nvlmb!mjm>!"N}cu"omuq"bi|mkjo1
+Jcpi~`q$ibd"rmbx"w`qsr?(g`vg`0xmq(tnl#|0bwp(inwv{umd*
+Jgax0`"gdu`p$eyof>(0pwenv!ahmqs"tgdhmj{>
+Jkgcyoe$|xd"pmblkji|!fkmco%p(xtpp(dig$eoqpmbr,
+Jkhdus"fmur"omuq"ex`dcva~f"pa|m"}ge!imd|!vlmys"u}udl*
+Jkhdus"f}~oka{0bcj(rd"pi}df$yuj$kqspk|c!mjdi/
+Mcpmcu"jmgr=$(@tv$hbda*oqlgw&bneqm|hia&~dvlisj%$a~!{k}b!,jmgrpg)
+Mgez~!jk0um${`dnh&0!Rhii!La|X`ao)
+Mgtzubje}~r"latd"p`uhp$omf$a~!c${ubpa|0smke>
+Mgp(inwv(vhlcmbr"`g0uja(g`noa~f"kf0uja(itnobxo`$cuxq*
+Mgp/c!deku!kp20!vlac!vmeu!{k}7sg$fu"cgyoe$|!umf>
+Mgp/c!je~u!c$xqsv}$0epmf{!c$du"kn0cmkru/
+Mku}s"wm|mgv{0em$fu"`zyoi?(dig}(x`va(dn"wmu!{k}0uumku/
+Mwjib!ggdyqqa(dnlmoxu,$(]`{$ic!uad|!sqad!lk1
+Lga|yoe$qtp$ggo"c`rv$lubpaicdq$qtp$debi$koqmluscfdi 
+Lmjmi!vk(yota{d>"$\qjg$ad!vk(dig$dbch(rscjkx!mb(dig$Eqfkg(]dokzi!Te}|u#
+Lmj{ddpw(snoa(vsmi(~nulmbd"pg0ikp(inw$mfdp}xdpa&
+Lmj{ddpw(cmgax0cggierg$qt"ezu!`kzyoe((~nv$jubcq{u!vlmi!grmb!ea|0ukvmt/
+Lmw|0lmj{ddpw(`sgbmb!omfsdf$eu`v*(0Uje|7r"s`i!vlmi!cvm0ikp|yoe$qt#
+Lmw|0nd$|xd"f}wr"mf0Ogp@qbi$ibd"kf0uja(vmmkz>
+Lwg`0`fk(^nvla~f"Li`qgj{>
+Lwh|y,rhiidp$FuuJek{!kw(q!o}|x/
+Ogp@qbi$ac!c`lybvm~u/"$\n"hidd.$qt%vm0`nvmqe{$`nial>
+Ogrmb!cwc0`"w`qiam`dp$ns"e(`skgm0mkw|>
+Ogrmb!`qz~!c$|bdg((eona{c!{k}0mkom0fgp|yoe$x`aomt!um|x!c$#%!qlgfdn*
+Ogrmb!ge|0vkp`0fnkyoe$`qofw)
+Ogrmb!imd|!c$Fq{eqd0,"Wiesmj(ghnh(wdv$|uspmj|x"qxcdv%
+Ogrmb!omft!vlm0lmj{ddpw(xhvpa~f"}ge;"$|xd{$berv$zuqneku!vlm0bjezgnoaf>
+Ogrmb!rhii!nai`gpko0vkp`0`"qfybmvf>
+Ogrmb!qpm`!mj(q!aqzcdf$m~fpe~yoe*
+Ogrmb!qsa}!um|x!c$kqlgvi*!"p`usg#{0omp`yoe$|!vecu!rmkdtpa{0nd*
+Ogrmb!vaisi"}ges"tmd!pq{d!okfcugv(dn"bmdbj*
+Ogrmb!vv}cu"e(b`l`g}!eafuscpgb!kj(}`emk0gkadtr,
+Ogrmb!wwm0`"si~e"kn0ege|x/
+Om$duwgh(snlpiyoq$|gn"w`qq*(0Uja(}`xa(yr"jg0mgrm|/"$[/,*
+Om$xqsv$gv!vlac!dkzdtla(}`{$ju!paxbnfqkue.${dnpal0hl$i0sgpzydted0r{w|ul.$&>/
+Omp(qmn$zelmv{0`pa(qr"iacmgelyoe$ic!vlac!mjm>
+O{ixxr"eft!lqzcdq$dyjg$ju`wpavtn$zyoew&
+O{ixxr"ezu!`hg~egw&0!Cvm0xmq(q!eafdmgii~>
+Ndbmbhlc(q!wjasnpj(q!ukzdina{c!rmmsd"kn0fne{c!omoxu"tzwg$|!`a(v`ved1
+Nn`(x`aombr"jmfdp$lyd8$(inwjo0nla{0em*
+Nl$Obnwjlxne$Lqx.$qt"w`tn`(`mc}(dig${qlg$oqlg$gfdp$i~e"k~us"eft!mrmb/,*
+Nla(w`oa(dn"v}|d"p`ul"ed|-"kfu!eeeu!vk(vhl`(digi$0nla(w`oa(dn"fzyoe$|xdo$i|m,*&
+Nla(x`q$|!naifd"w`qq$jugmvm0bnk{yoe$|ylg*
+Nla(xnoqfstnq{0`"`ii!iam`r"p`u!fkkdnp$ig`{*
+Nla(|dtad0gwv|xdp$lvl${lgfgtx"m{0fgp|yoe$cymnal<!pmoxu"jgg/
+Nlhq0`"saj`p`(s`l$}cd"e(}`emk0vjm{dmg*
+Nlhq0`frm~uwvmbr"kn0dtmd0`nmo~lgj|0ujmf{!mb({hnha~f"p`uhp$lf,
+Nlhq0bjegdha$mfhnw({hnh(cmgaxyoe$eoqpmbr,
+Nlhq0sged0upex`dpw(uraexu!vvi`r,
+Nlhq0sged0vk~ibeq$kqo"szyug${ssmhdc/
+Nrazqukkf0NTAZ[HNH(x`q${d`ppmt!lk>
+Nwg`>!"M(x`va(gigj(dicp(x`rtm~r,
+QNAICD"mo~npa(`sgratq$zelmv&
+Qmhq}npt`0hlpg0`l$mdukj30lga|0xmqz0nrtg~dlp{0gcgm0um$nqbg$|!deku/
+Qpeqyoe$ymn$nbhel|uo"`m}nlw&
+Sms(82z-(dicp(rncp(wdlpdi!fk~!vlm0rvvmql.$Kx`pkf0)6|!<!faidi"m{0cwp(q!fvmql,
+Swjfyoe$ac!ekgt!dkz0xmqz0mgc{>
+Ravmg!wt(inwv(snwviwd#$(Inw#~u!qgzuvg`(eq"a~us{p`yoe$m|rg*
+Ravg|mq$nqekjo/!"M|7r"jgd!vlm0ige|<!kp/c!vlm0iwiathv}&
+Rgaxqfg;(0Mgeci!rmxur=$(Bhqmfw!fee`>"$[elokf0uja(`mwijus#
+Rgceuove|ynl$nqtnp(8bmvm0ewixue+*
+Rjkx{dgtmbr"ezu!kj{esg`(rx"Gzdqq{0iki{umd%
+Rjkx{dgtmbr"wg}dvmeur"`au!dvg}!mhl0`ea&
+Rmim0lc~mc!*a{`dami|m{${}`nh(ogw!0icrm0om${mwpaoq((c`{w(}`l$>0lc~m>
+Rmim0pwa{dhmj{0uja(Cqj}fh!cwcc!hq{d!(`g~&v.(x`ta(qo{$i~ruazc/
+Rmimdhoa{0#oq*0hq$|xd"efcvgv&
+Rmvzi-"jg0gmv|eog$|xhq$|ylg*(0Cgp|us"h}sj"jmhu"ggjka)
+Rrezu!{k}b!qgzmnw(g"ii{d/alycna(eovmd0hv#{0sged|x"jmsdqwibx#
+Rvkz}cpmfwdp$ldqj/d!qpmqm"wgemq*(0Qgkx|d"w|u`n${tnw&
+Rw`luon}$0uja(ttlcmo"sa|m"gg|mct{u/,*
+Ucia~f"e(}`kh(t`gig~!oeq0bcq{u!c${irvae0rgg}bhv}(fhmhidhmj&
+Uja(B`taftq$Jef`hidugv(Rdcw|0nd$\b`nh{0rgaec!vk(rd"gg~bgvfue"ejtv$qtp$dygg*
+Uja(ssmsl0vcw(cn"pgefj((dig$[dnmcmc!ukf7u"tdqx"p`u!Fqfwdmj(qo{igbd.$fiti$fiti*
+Uja(|drvmsicqfc!jmlu!vlmys"pzu`qqzu!kj(q!qii|m"lategj(bnmi&
+Uja(|nlcmb!vlm0vcjl0uja(rdvpmb/
+Uja(}`emk0vmvl0hq$*HXX^Q2/
+Uja(}dgo(cichd0hllmbhv$qtp$jogw(vhna{>
+Uja(}hla{0`pa(t`po(qof$ludr((qof$A0icrm0mgrm|r"pg0fm$jugmvm0H"wdudr*
+Uja(erg$gv!f}fqlkpm0hq$lqoeaztq*
+Ujazu!cvm0om$sow(yo"p`u!WJAH!tazchmj&
+Ujazu!kw(q!vvi`!mj(dikw(|dtad1
+Ujaq0rc}(dicp(Tdokosekf<!Cweegq{<!Mvker.$Qudlkoxt""(Ztkfduy"m{0om$dqv"babl,
+Ujaq0rc}(dicp(Wdp}g~!je{0`l$mfhn$|ghl((rduezu 
+Ujaq0rc}(dicp(]dfq{q!uk}|e"ii{d"e(ddpvarmg$xuu,
+Ujaq0rc}(dicp(^dvLisj"f}wr"ezu!Qadtnl$x|`ljmt/
+Ujaq0rc}(dicp(^dvLisj"gg}dq$a~!01>0gne~sq*
+Ujaq0rc}(dicp(^dvLisj"m{0kww|0`"gg}qwpmb!eeeu/
+Ujaq0rc}(dicp(^dvLisj"m{0lmvm0ujef0kww|0`"gg}qwpmb!eeeu/
+Ujaq0rc}(dicp(^dvLisj"m{0ogrmb!ulid!kp(erg`(dn"fm>
+Ujaq0rc}(dicp(q!`eji!fviwnl$ac!vkg0roed|!vk(xtpp(s"lm|q"}ge/
+Ujaq0rc}(dicp(q!`hisj"t}tekjo0hq${ylrhq0`"fzvl$xeefmfw!ekfu!`el>
+Ujaq0rc}(dicp(q!`hisj"w`udr$`qr"7(r`ew(vtnh(g"sgm,
+Ujaq0rc}(dicp(q!`hi~j"wkbnnh(yr"ha{d"e(rmcjc0bjak{/
+Ujaq0rc}(dicp(q!ae|0ocimt!Okzbhq$`qr"ja~d"hafdq*
+Ujaq0rc}(dicp(q!fa{`dpe|u!qlg`qgv(}hel|0qc}(qo{$xbhaa(yo"e(cimt&
+Ujaq0rc}(dicp(q!fmi}nl`(tne$ac!grmbx`kli&q$jurv$nbhgjl>
+Ujaq0rc}(dicp(q!fsibg"hgbe"gi~!aezbx"e(`hao%qyg$jubcq{u!jm{0`pigb!kw(|hel|>
+Ujaq0rc}(dicp(q!dhgqukjo0d{a(s`l$lugge|0Lg`}c`,
+Ujaq0rc}(dicp(q!dkzdtla(on}(x`q$90mkjm0`l`(inw$kqo%p(bdc`(rdvsmuo"m|>
+Ujaq0rc}(dicp(q!dkzdtla(on}(x`q$90mkjm<!`q|0xmq(s`l$zu`f$juuuam~!kp&
+Ujaq0rc}(dicp(q!dk}~ucmf0mmkcc!lk|xhlc(|hia(q!paoemcvdi!gv}`ukjo0fg}{us,
+Ujaq0rc}(dicp(q!ekdt!fk}rmmkf0hq$svl(}npa(dicj(yuq$uhel|0hl$omf*
+Ujaq0rc}(dicp(q!evat!`qo0vmj/d!req0`"w`qiam`dp$ns"~i`qkjo0xmq(yo"e(cimt&
+Ujaq0rc}(dicp(q!e}xcx"ggemf$|umn$qtp$nsvqfu!dkz0`"tzybg*
+Ujaq0rc}(dicp(q!jek{dp$fqlg`(Qmkgm0nlgm0mgrm|!vaduqmv|ue"fq0tqmfw!c$eyspkz>
+Ujaq0rc}(dicp(q!jek{dp$fqlg`(T`tml0nlgm0rna0`"caqov$yuj$i0rnmfw!cjl0`"vgsj,
+Ujaq0rc}(dicp(q!jek{dp$fqlg`(Tnpk|xx"kfsd"vgtd"e(vne$k|nw`(dn"Kr>
+Ujaq0rc}(dicp(q!jek{dp$fqlg`(]`p}(oaa(|nqp(q!uladd"w`udr$a~!vlm0lc~mc/
+Ujaq0rc}(dicp(q!jad}!mb(rskhdy`lgm0hq$fu"pg0cg$|qjgj(|hel||x,
+Ujaq0rc}(dicp(q!jk|0emc(qof$i0ighd0imqft!cvm0uja(c`oa(dikjo>
+Ujaq0rc}(dicp(q!nee`!leeue"Edqefmf7r"Hi}q"gg~ucmfc!c$lzhlja0vkp`02"sacigw&
+Ujaq0rc}(dicp(q!nezwd"`gw!leeue"Hicrka(ghnh(|dc`(inw$|!vlm0`oqduu,
+Ujaq0rc}(dicp(q!nkfw!qsgbe"m{0omp(q!nmoxu"wsf*
+Ujaq0rc}(dicp(q!oefur"sg~&v$eyoaa(gnp`{0vkp`0xmq&
+Ujaq0rc}(dicp(q!omft!kw(q!vazbh`hm0ujmfw!vk(g`qpm>
+Ujaq0rc}(dicp(q!rhiyo"jq}qj$ymn$g~m{$u`p$i0vkvm0skjo0hl$g~d"aib/
+Ujaq0rc}(dicp(q!rh}}df$`qu"ggemf$ju!c$xbdtmgern}(erg`(ssgw|ue"lm|lgp&
+Ujaq0rc}(dicp(q!rk|ynl$gv!mmd0hq$lygdmkemv$|!evicq,
+Ujaq0rc}(dicp(q!rk|ynl$gv!{koesv$ac!c$kqoaad|df$xukkf0nd${ybijmcr,
+Ujaq0rc}(dicp(q!rqz`mg$so$ac!lk|0`"firx"t}bqna(tsccg~/
+Ujaq0rc}(dicp(q!sqafdpmfw!`hgr!ve{ddq$lygdazuov$|x`l$i0fghidhlk}c!aqju/
+Ujaq0rc}(dicp(q!qgzmn$gv!qqe}nlmfw!je{0nvlmb!leeur,
+Ujaq0rc}(dicp(q!qli}`l$kqo"fmcums(rmgw{yoew(rtv$}ctchdi!fkmco%p&
+Ujaq0rc}(dicp(q!qli}`l$ymn$j|dqw(inw$ns"ef0d{a(g"jmgu"eft!umfw!mb(r`v*
+Ujaq0rc}(dicp(q!qla}lgva~f"cg|e"w`ydn`(yr"jgd!c$xmkw`ue"wa|wgv(cikadt/
+Ujaq0rc}(dicp(q!qtmqs"sa|m"lad!c$fun/k|itel&0!*@g0XMQ({oms(gicp(dicp(yr=-
+Ujaq0rc}(dicp(q!qtgdug`(tsccg~!kw(dig$}|ukiidd"w`qqg$kx`lcmb/
+Ujaq0rc}(dicp(q!qpmdimwkqg$ac!lk(wnm`(yg"}ge!aef0nlhq0igez0xmqz0igezdcge|>
+Ujaq0rc}(dicp(q!qqkst`q{0ocimt!Qqri!umd|!qkeuukimc!uez~!{k}0nd$lqoeaz>
+Ujaq0rc}(dicp(q!ueft!mb(s`lgm|mcpao"m{0omp(|hia(q!ueft!mb(`nn}esrl&
+Ujaq0rc}(dicp(q!ukgt!ekdul"ji}df$Xyomgkxhm$tn`(rd"aicx"pg0bmj|bnn*
+Ujaq0rc}(dicp(qgvaz0jkhdyoe$i0epeoo"m|7r"pa}d"bgb!c$kx`lcm0nd${sdlazi/
+Ujaq0rc}(dicp(qo"eeemgp(g"w|b`lc}|`vmg~!kw(gnpwm0ujef0skjo0`pk}~e"p`u!akd|`p*
+Ujaq0rc}(dicp(qo"e|dha$ac!vlm0cgw|0qneku!vk(xhfa(inwv(dn{w&
+Ujaq0rc}(dicp(qo"epu!leeue"Gdu`taz0nlgm0cghg~fg`(dn"e(x`aomb!leeue"Fmqwgv&
+Ujaq0rc}(dicp(qo"aqu!mb(~dup(qof$i0vkjo0nd$jqu"ezu!fk}rmg$|xd"pzt`hm>
+Ujaq0rc}(dicp(qo"mfst`q{0ocimt!K~ri!qkeuukimc!oecur"sg}dl$nudn${uoqm|ywg*
+Ujaq0rc}(dicp(qo"kxemgj|0ujvg~d"vgl"m{0scvm|x"e(`mcgm0um$yrj$qt%`(rd"mf>
+Ujaq0rc}(dicp(qo"qf|taoq0icgcus"kfsd"lit!c$frg$j|dg`(qu"ef0`npib!cjl0ekal>
+Ujaq0rc}(dicp(qof$|xd{${qx"p`yr"f}d!vlmi!la~us"wii!la~us.$fuwgv)
+Ujaq0rc}(dicp(qo{$ye`lp}}!oakx`lmk0jlkc!vlid!qtmue"oa|mq*
+Ujaq0rc}(dicp(qqrhqyoe$i0tlmksl$`sl$eu`lw(inw#~u!om{cdf$|xd"tgyov*
+Ujaq0rc}(dicp(qsalmmmcacuq$nyof$esg$jogw(`hna{>
+Ujaq0rc}(dicp(rmwa(cumjmc!cvm0sc`a`apafd.$juvcvm>
+Ujaq0rc}(dicp(rtkhlyoe$i0ewjounl$ac!c$|u`o$mvgmv|>
+Ujaq0rc}(dicp(sick|yb"g`qscg|usq$fuwgv(wdv$i0jkgc0nwp(g"edd`pw&
+Ujaq0rc}(dicp(sigias`n$c~nuhmtfg$ac!wwm|dqw(ghvlgeu"tzqgv(upwmx}dlp&
+Ujaq0rc}(dicp(snnhi`rkjo0`"`}~fgkf0ndpm~!avmqugw(q!refyb,
+Ujaq0rc}(dicp(snwj|yoe$qtp$mwfq$jugmvm0ujaq0icpkx!qlggr"p`qu"}ge!aezu/
+Ujaq0rc}(dicp(thrta~f"e(r`e$gv!vvasjq$a~!c$ntlpiyo"sg~&v$eqjg$ad!cj(ybgfgh/
+Ujaq0rc}(dicp(thrta~f"ef0dgh(qof$jbnuj(}nn`(yo"lgd!ue|us"ii{dq$jtkhdqccm{cd,
+Ujaq0rc}(dicp(tnle|yoe$i0emqj|nmj(yr"apdsgim|x"tatq$kx`pm|i/
+Ujaq0rc}(dicp(ttlcmogazc!rvmvdp$lqsi$kxnakdqug*
+Ujaq0rc}(dicp(u`vmfw!pkqqm"nm|m{$idupekdr"czy{xhq0nuhju`pw&
+Ujaq0rc}(dicp(ufew$0qcjkqjgw(qof$behaa(qsg$berv$i0lwjlqog$jbdconqrv*
+Ujaq0rc}(dicp(uwgvqog$c~nuw(gi{$Euewwi0rveftr"edog$a~!vlm0ecvc>
+Ujaq0rc}(dicp(uwgvqog$qoval0sgg&w`oa{>icgc0um$}~egvo!c$fqlg$kx`lcm>
+Ujaq0rc}(dicp(vhl`a~f"e(ghlja~f"w|b`vaoi!kw(q!fadycgvidd"igfd"kf0xmqz0qcv|>
+Ujaq0rc}(dicp(vhl`a~f"sgbujhmcr"cdqrq$ac!ukzdi"wg}dvla~f,
+Ujaq0rc}(dicp(vnpp}~d"ggjka{0`pa(vnm`(vnp$|xnwc`d/
+Ujaq0rc}(dicp(wnn`(yr"kf|x"sicug`(o"e(`dv$lb`ekf>
+Ujaq0rc}(dicp(wnm`(dikjoc!akeu!vk(dimwm0uje|0vcm|>
+Ujaq0rc}(dicp(wsge{ue"kjzdap{0vkhd0rnmx0nwp(g"ig~rvazc&"li~eq*
+Ujaq0rc}(dicp(yg"M(x`f$i0lkhdynl$lmnezc-"M/t!`qq0xmq(q!okf{d{*
+Ujaq0rc}(dicp(yg"}ge!aef7u"wxumn$|xdl$qt%hd0vkw`0xmq(x`f$i0rrad|!`kg{/
+Ujaq0rc}(dicp(yg"}ge!nm~u!`}(dig${gnp`$0xmq/|m"`au!`}(dig${gnp`&
+Ujaq0rc}(dicp(yg"}ge!rhii!nmcu!c$eoqpmb!{k}7mn$`qwg$i0cgp|us"ci}d,
+Ujaq0rc}(dicp(yg"}ge!qhmuq"sadi"e(tdokf0xmq(}hel|0`uecu!um|x!c$`u`fekxd,
+Ujaq0rc}(dicp(yg"}ge!qpm`!mj(q!avisj"}ge!ak}|e"fzu`i$qtp$eujaz7r"fisj,
+Ujaq0rc}(dicp(yg"}ge&pa(yotm{ycna(inw$kqo"w|ymn$ju!jaibe#
+Ujaq0rc}(dicp(yg"}ge&pa(|taoq0xmq(s`l$nudn$|xd"v}~dq$g~!c${ssmhd>
+Ujaq0rc}(dicp(yo"p`u!`mo0qkg|esg$omf$ac!mjdi!qii|m"g`qoea&
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(yu%w(~nv$x`v$qt"ofv"p`qu"vmqmn}(}`vpmbr,
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(}nmj(bnao{0`pa(bdchdi!fmdyujm}}!avqcuch{>
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(dig$jnpm{x!aq{dnoaz0hq$fuwgv(bhel|>
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(inw$lo%p(~dg`(q!ue|si"pg0ughd0ukim>
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(inw$fudf${lgp`yoe$g|e.$fuv.$jespkue"eft!`h}u/
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(inw${xnwhl0`nsiir"ggeov$qtp$j|dqwa~fq*
+Ujaq0rc}(dicp(ysmj(wnnae0qne|u!oea|!kwf7u"sgbuj$yrjmfw!dkz>
+Ujaq0rc}(dicp(yu"pi{dq$ntp$ye`ppmbrvenvr"pg0lcom0nla(cucbn>
+Ujaq0rc}(dicp(yu%w(~nv$gfdp$|ymn$|xd"bid!nelydq${yoe*
+Ujaq0rc}(dicp(yu%w(~nv$gfdp$|ymn$|xd"bid!neli!qlgeuq$h_gd$yuj$adr"lmqe%*
+Ujaq0rc}(dicp({haoa~f"e(xdcrq0rve|ed"m{0sged|x"e(ttof(}nta&
+Ujaq0rc}(dicp({haoa~f"e(f`nqirmg$oul"`gurl#|0rgae0um$eqjg${uoqa&
+Ujaq0rc}(dicp(|drvmsicqfc!ijgg!Ne|yo"eft!{k}0rjk}|e"pg/
+Ujaq0rc}(dicp(}hlk|qtpw(wdv$drv$geuqmlu!mb(dig$eq{gw&
+Ujaq0rc}(dicp(}nqp(dsmhdc!cvm0cmvf0`eea~/
+Ujaq0rc}(dicp(~`omfw!{k}b!ae|0Fcvnydn`(ghnh(}`ia(inw$esg$idupekdhta&
+Ujaq0rc}(dicp(~n"kfu!ijggr"a~us{p`yoe$irnwp(uwgvqdikjo0hl$|xd"`}~fgkf>
+Ujaq0rc}(dicp(~n"kfu!rhiir"JmdIcgc0kww|0gmv(dig$neo"kn0hv*
+Ujaq0rc}(dicp(~n"kfu!pai|m{${ecqgzycgw(dn"vms/eeeur,vgwtgha{d,jmdicgc>
+Ujaq0rc}(dicp(~n"kfu!umd|!c`eyu"pg0rvezdhlc(q!pqes,
+Ujaq0rc}(dicp(~tpwmc!qkeuukimc!aezbx"wkqmradc!cjl0ogrmb!wwm0ujae>
+Ujaq0rc}(dicp(oaa(inw#~u!oa|0nla(ghxezt!{k}7wg$euu"p`ul"ed|/
+Ujaq0rc}(dicp(og$|bnnh(yr"sgbuj$9 -2480ogs|c/
+Ujaq0rc}(dicp(on}(T`tml0bcj(vhl`(dig$rn#
+Ujaq0rc}(dicp(on}(qoeadc!rhii!vlmys"libqq$ns"p`uhp$xuuq*
+Ujaq0rc}(dicp(on}(rhe${`dl`mbr"gibs{$omf*
+Ujaq0rc}(dicp(on}(vdoedu!okfcugv{0bcj(|`{$mwfq*
+Ujaq0rc}(dicp(sa${x`oefc!cvm0igeddi{((gdch|xx"eft!um{u/
+Ujaq0rc}(dicp(`mc}a~f"JmdIcgc0hq$dyjg$qmimfw!kj|!c$lu`vl(dsct&
+Ujaq0rc}(dicp(`smfdul"fzu`vla~f"m{0cgw|0upaiddf$ji!c$xbnraz0eka|>
+Ujaq0rc}(dicp(atcbnyoe$eqo{$xukkfc!mb(|dtm|qukkf0bcj(whta(inw$i0igelqbja&
+Ujaq0rc}(dicp(atgaf0cga{0fgp(dicp(g`{$ji!ge|yoe$zxch(zdnhq>
+Ujaq0rc}(dicp(bdc`a~f"e(cbcvm0lmj{ddp${ssmhd0hq$|xd"wi}d"e{0rc}a~f"Adrdpa|x/
+Ujaq0rc}(dicp(bdch(x`aombr"edg`{w(qsg$kovvg|mg`&
+Ujaq0rc}(dicp(bdch(x`aombr"jmfdp${|dgt&
+Ujaq0rc}(dicp(cimtcudrazc!cvm0hlw}bdf$ji!Avgurww(xhowm|g#
+Ujaq0rc}(dicp(cimtcudrazc!la~us"gibs{$esg$|x`l$: !ekdt!rmmsdq((qu"jawiv*
+Ujaq0rc}(dicp(cimtcudrazc!la~us"wm|m"fdurqal0qmpaoq$gv!kj~yrkfa|hv}&
+Ujaq0rc}(dicp(cnn`ausq$u`p$cye"cdwgw(qof${ymn}(xdnimdr,
+Ujaq0rc}(dicp(cnoa([nrw(qsg$g~!vlm0ucom>
+Ujaq0rc}(dicp(cnoa(wtcvlc&"ti|lq$kqo"fm0fpaicdf*
+Ujaq0rc}(dicp(cnoa(}nlw|usq$eqx"oacr"}ges"fguq$|!qpg`!{k}b!fv}}!rhiihlc&
+Ujaq0rc}(dicp(cnoa|ylgw(inw$kqo"fm0uja(xhv$gv!vlm0qcv|i!ulm~!rhiihlc(q!jkz~/
+Ujaq0rc}(dicp(dig$FuuJek{!eklc!eafuschdi!uadsnoa(inwv(c`avavhaa{>
+Ujaq0rc}(dicp(dig$\xsga(Bhlc{0`pa(~`oal0Wkhqq-"Jm~xc$i~e"Jibxc*
+Ujaq0rc}(dicp(dig$_y{cvl0nd$Quofkz0icw(q!faidi"saci,
+Ujaq0rc}(dicp(dig$hx`kv(g"p`u!fko7!kw(cnoa|ylgw(qo"anvdapafd"vm}df}&
+Ujaq0rc}(dicp(dig$jurv$|ylg$|!qe~u!{k}b!eeeu!kw(~nu$jugmvm0hv#{0umk(|`va&
+Ujaq0rc}(dicp(dig$jyfea{d!mf{d`ahm0hl$FuuJek{!kw(inwv(}hl`&
+Ujaq0rc}(dicp(dig$oeq$ibd"efws{$xdl$|xd{$`yu"}ge!um|x!mfbubvw&
+Ujaq0rc}(dicp(dig$xbhgw|xnm`(qsg${`dami|m{$nqwmvmt!`}(dig$oeq*
+Ujaq0rc}(dicp(dig$qx"pg0lcom0`"qfybmvf0ictxi!kw(dn"cafd"m|0vje|0hv$qovw&
+Ujaq0rc}(dicp(digvm0`pa(~n"fdqbi$gb!uladd"w|ogw$0nlhq0fpeq>
+Ujaq0rc}(dicp(digvm0`pa(~n"wcumgpg~r"lm~bg$|xdpa(qsg$f!qom|dvkf0jg}{>
+Ujaq0rc}(dicp(digvm0hq$i0bna~us"vgwtg$a~!grmbx"lisjgv(ztqp(txkjo0um$mcbctm>
+Ujaq0rc}(dicp(digvm0hq$f!qqkx!vla~f"e{0gpam0`frasd,
+Ujaq0rc}(dicp(digvm0hq$g~m{$g~d"sii!vk(ghl$id!La|X`ao&
+Ujaq0rc}(dicp(digvm0nlgm0vcw(q!daibrmim0bjegdha${qlwviy!leeue"H}{!Lk&
+Ujaq0rc}(dicp(digvm0vcw(q!vmeu!ulm~!aqzcdf$`m{$qugv(g`qj/d!ue|us,
+Ujaq0rc}(dicp(digvm7r"jg0qmmfd!kj(ss{mfw!mrmb!c$ob`{$g{g*
+Ujaq0rc}(dicp(digvm7r"kf|x"lg`d"hmvu"enddp$qt%rm0nrafue"Ti~emvi7r"fgh/
+Ujaq0rc}(dicp(dsct(tnmv{0rjk}|e"edg`{w(rd"iibjg`(pBcq|ynl>(0Upex0Emkz7/
+Ujaq0rc}(dicp(erkjo0`l$i}tna|0nd$kx`lcm0hqj/d!c$lygdmkemv$g`dpe|ynl*
+Ujaq0rc}(dicp(g`vaz0vchcyoe$jnvw(qsg$juuvaz0hd$qt"ezu!de{d!nmcu!Jaz}dq*
+Ujaq0rc}(dicp(gigj(inw$u`p$i0bkvkemcv(qlwhmd!{k}0lkc`d!pa{ul`hm0`"pzmn*
+Ujaq0rc}(dicp(gigj(inw#zu!jqfws{$qt"gi~!ea|0`"taj{c$a~!14(}nta{0np$ad&q$nbdg*
+Ujaq0rc}(dicp(gigj(inwv(wnf$ac!cjobx"}ge!qlgemf$|bx"efujaz0nla&
+Ujaq0rc}(dicp(ghghlyoe$i0tlmksl$`sl$|qjgw(cupafwuj*
+Ujaq0rc}(dicp(ghvl(cqgal0cmk|c!{k}0ogrmb!ukzbx"ejtv$`yu"eft!pqf0`agatdlp{>
+Ujaq0rc}(dicp(inw$kqo"`mvdcp(q!imd|dp$jud"sadi"e(eokggbo"lgbo,
+Ujaq0rc}(dicp(inw$kqo"mffnia(q!pmfw!mb(dhoadi!`ek{tr$ns"e(vtnh(xdcha~f,
+Ujaq0rc}(dicp(inw$kqo"kf|x"gzrq$|xd"Vafdp$[dxz$a~!Alibnl#{0cme|>
+Ujaq0rc}(dicp(inw$kqo"kf|x"oa|m"e(|hal(oaa(qof$|xdl$qt%`(rdvpmb!`a(s`panem,
+Ujaq0rc}(dicp(inw$kqo"kf|x"saci"bgb!vla~fq$qt%rm0`nvmqe{$`qe,
+Ujaq0rc}(dicp(inw$kqo"pzqhl$i0bcp(rx"pi|jkjo0fgj||x"pg0hv*
+Ujaq0rc}(dicp(inw$kqo"pzqhl$i0emc(rx"pi|jkjo0gkve|x"pg0hv*
+Ujaq0rc}(dicp(inw$kqo"pzerv$qtp$omf$yuj$|xd"oa~f,
+Ujaq0rc}(dicp(inw$kqo%p(ghra(inwv(wsge{i!`ezu!jeftr"kf0`"fdqoi${ssmhd>
+Ujaq0rc}(dicp(inw$kqolk|0upq{d!qgzmnw(g"v}}np*
+Ujaq0rc}(dicp(inw$ktn`(v`nh(xdc`(wgv(xdgh{0gmv(qo"afuse}(fnppmh/
+Ujaq0rc}(dicp(inw$fudf$i0jg}(yo"kztdp$|!mtm~!nkk{df$lnpw&
+Ujaq0rc}(dicp(inw$fudf$i0lkvzs"pg0ompasd"e(}homk0hl$i~!cj|ypwa(cimt&
+Ujaq0rc}(dicp(inw$zu`nhq0bcj(erg$i0qkgc=`za(eona{c!{k}0sged|x"gi~&v*
+Ujaq0rc}(dicp(inw${xnwhl0`nsiir"w|sg$qtp$|nnw(yo"p`u!aad|`p*
+Ujaq0rc}(dicp(inw${xnwhl0cg$kqsgb}|!ula|d"gdyl`mfw!vlm0mc`lus"pg0rwgkurq*
+Ujaq0rc}(dicp(inw${xnwhl0bchd0xmqz0`pigb!bv}curvgg%*
+Ujaq0rc}(dicp(inw${xnwhl0ocim0xmqz0emc(Cqw`{0um$`qwg$i0bmkd0qgp&
+Ujaq0rc}(dicp(inw${xnwhl0ocim0xmqz0vgexo"enddp$qtp$nysqp(}nlw|us"oa|m,
+Ujaq0rc}(dicp(inw${xnwhl0omp(rnvlmb!dhi}hlc(ERGJMDdpw30ujaq7sg$nysg$zurkw|qov*
+Ujaq0rc}(dicp(inw${xnwhl0ogrmb!kj|bnfqku!c$zqg$omgi(dn"e(ctag}rtq*
+Ujaq0rc}(dicp(inw${xnwhl0ogrmb!qhmuq"jmqs"mffhqmj|d"va~f"szqhvl{>
+Ujaq0rc}(dicp(inw${xnwhl0ogrmb!vvq0um$du`ta(dig$leoeag~!um|x!c$jqf"kn0fgi{>
+Ujaq0rc}(dicp(inw${xnwhl0sgigfd"}ges"ez}np$jugmvm0rkp|yoe$g~!c$|xsmjm>
+Ujaq0rc}(dig$oeq$ouu"efws{$av!{k}0jkhd0xmqz0emc&
+Ujm{0gmv|eog$knimm0hq$kq{$xbnvakddf*
+Ujm{0gmv|eog$knimm0hq$|xd"tzqgv|i!mb(Vnpp}~d"Ggjka{<!Kjk>
+Ujm{0sghmqrg$kovea~r"585!pakibnal0lcpmbhch&
+Ukim0rveftr"w|ymn$ic!vlm0rwgkecww(sicjour"lmb!aeduofez0um$Bqowezi!3(("124&
+Ukvmt>"$\bx"e(cbpkd|!mb(sicvoyoe$g~!{k}brghn>
+Um$isika~u!vlm0og||0ikc`us"vidhlc$0xmq(~dg`(#!okzu!rka~uq*
+Um$zu`al(xdcrm~-"a{s`ra(dig$leoeag~!ula|d"smqskjo0`"va~f"kn0mgrad`vmg~/
+Umqzyrvw(gdcv(cikv|c!nk}t!gjgefj$|!uecu!vlm0egel>
+Upmluovw(qsg$ns"q{u!wjlusue|us,
+Up}(s`nha~f"}ges"oid`le(]nwha~dvpm>
+Vch|j-"`}}c"jq}qj((vnp$yehao(zhew(fdz*
+Tng`1!"P`qu"imqu"sic!rea~ug`)
+Tlbgbuwjiddn}$0ujm{0lgw{qfg$qr"hmvu"mfddlpaochdi!`hi~j,
+Tqmfw!c$eslmfw!qpib!kj(dig$mfdlmfw!je{0om$mvggg|>
+Vch|j-"`}}c"jq}qj((vnp$yehao(zhew(fdz*
+Vcj|0`"la~u=$(J`r$i0vcjl0nd$eqjg$a~wkwarmg$g~!{k}b!uai`nl%
+Vcj|0um$icbgjl0hl$i0iwvzi>"$I`qn}(qu"Cajlmjas!Kj{dhvq|u/
+Vcj|ue8${xnromuqgv{>!"Wm~e"e(cbpkd|!mb(}`kh(dn"Iiwd"kn0Xgjls-Hmfdn$;%.Fqfwdmj&
+Vcvfyoe>(0gmv|eog$zu`fmfw!aef0cg$`q{cvltq$|!{k}b!jai|uj*
+Vg$`qwg$fuv"siir"kn0egpmsukjo0upaisigvq>/,
+Vgp(dnuadc!oecu!evmqu"smqqmj{1
+Vje|0`"tadx.$qt"gi~omp(bdc`(yu#
+Vje|uwgv(s`l$o!uvg~f.$ymn$o!uvg~f,
+Vjaf0`"tausaaz0epkxc!kj(o"}ge-"}ge!umd|!`a(ddot|ue"pg0ikp(dig$kuhnmfw 
+Vjaf0hl$i0lc~m0gmhdv"p`u!pmoxu"si|m"eft!{k}0vkhd0ogrmb!ea|0mmw|>
+Vjaf0xmq(x`ta(q!iaq<!{k}0emj/d!je~u!vk(g`kp(vnp$|xd"c}qsf*
+Vj}(qsg$qt"sicukjo0ukim0sgelyoe$nsvqfur=
+Vkw`0gmv(q!oe{ddp$cux"eft!mtm~!vlm0Lccas!Oaes{$^qtnp)
+Vk~ibe"ap`dap{0dtazi!okfcugv(dn"`g0hvw(ttv}&
+Vms)0![k}0bmqdt&ta(x`f$i0qmpao"kn0gpqad!hqasd#
+Xgp(Qomp`us"Wa|m{$Eurqeou!*]ICL+*
+Xmq(qsg$lurvmfue"pg0cg$eyrnal0c{$i0gmv|eog*
+Xmq(s`l$ouu"e(wdlqa~d"Eeemgp(g"]m~emv(rx"`gyoe$|xd"bg|mmsa~f8$(=,Okzu,/
+Xmq(s`l$eqjg$`m{$qugv(rx"fgymkjo0uja(xdnh(tv$gv!kp&
+Xmq(s`l$eqjg$`m{$qugv(rx"fgymkjo0uja(xdnh(tv$gv!kp&
+Xmq(s`l$xbnvakd!{k}brghn0gpke0cnek{!fviwnlw(rx"`gyoe$|xd"bg|mmsa~f8$(=,Okzu,/
+Xmq(s`l#|0fgp(rx"p`u!qji{d,
+Xmq(simom0nl$|xd"bgbuwjm0bmkcyd,$(=,Okzu,/
+Xmq(vdgh(|hia(cnoag~d"m{0qwhdyoe$qtp$duf,
+Xmq(x`ta(dn"k}dvkp(dig$[`i{jp0np$xqx"lmb/
+Xmq(xdcv(dig$nsvqfu!akg{hg#{0ikw{yoe%
+Xmq(}`{$ouu"vasi"wm|mkjo0mgp|usq((rtv$juvcvm0nd$juhlc(rmcgc}`khmt 
+Xmq(gdaft!Qliy,Jqdee"fq0rjaidikjo0xmqz0bp}{{okbm0vkp`tv$`qwkjo0epe~!`hge,
+Xmq(cvchdvg`(dig$nsvqfu 
+Xmq(g`lp(dn"vmw`kj(cupafwuj;(0Uuk(|dtadc!clmqe"m{0`"c}urvlgerg%
+Xmq(ghnh(uoak}~ugv(q!ved|-"`ibj.$i~e"czedqkeu!avmquwvm>/,
+        Welcome to NetHack!                ( description of version 3.4 )
+
+        NetHack is a Dungeons and Dragons like game where you (the adventurer)
+descend into the depths of the dungeon in search of the Amulet of Yendor,
+reputed to be hidden somewhere below the twentieth level.  You begin your
+adventure with a pet that can help you in many ways, and can be trained
+to do all sorts of things.  On the way you will find useful (or useless)
+items, quite possibly with magic properties, and assorted monsters.  You can
+attack a monster by trying to move onto the space a monster is on (but often
+it is much wiser to leave it alone).
+
+        Unlike most adventure games, which give you a verbal description of
+your location, NetHack gives you a visual image of the dungeon level you are
+on.
+
+        NetHack uses the following symbols:
+
+        - and |  The walls of a room, possibly also open doors or a grave.
+        .        The floor of a room or a doorway.
+        #        A corridor, or iron bars, or a tree, or possibly a kitchen
+                 sink (if your dungeon has sinks), or a drawbridge.
+        >        Stairs down: a way to the next level.
+        <        Stairs up: a way to the previous level.
+        @        You (usually), or another human.
+        )        A weapon of some sort.
+        [        A suit or piece of armor.
+        %        Something edible (not necessarily healthy).
+        /        A wand.
+        =        A ring.
+        ?        A scroll.
+        !        A potion.
+        (        Some other useful object (pick-axe, key, lamp...)
+        $        A pile of gold.
+        *        A gem or rock (possibly valuable, possibly worthless).
+        +        A closed door, or a spell book containing a spell
+                 you can learn.
+        ^        A trap (once you detect it).
+        "        An amulet, or a spider web.
+        0        An iron ball.
+        _        An altar, or an iron chain.
+        {        A fountain.
+        }        A pool of water or moat or a pool of lava.
+        \        An opulent throne.
+        `        A boulder or statue.
+        A to Z, a to z, and several others:  Monsters.
+        I        Invisible or unseen monster's last known location
+
+                 You can find out what a symbol represents by typing
+                 '/' and following the directions to move the cursor
+                 to the symbol in question.  For instance, a 'd' may
+                 turn out to be a dog.
+
+
+y k u   7 8 9   Move commands:
+ \|/     \|/            yuhjklbn: go one step in specified direction
+h-.-l   4-.-6           YUHJKLBN: go in specified direction until you
+ /|\     /|\                        hit a wall or run into something
+b j n   1 2 3           g<dir>:   run in direction <dir> until something
+      numberpad                     interesting is seen
+                        G<dir>,   same, except a branching corridor isn't
+ <  up                  ^<dir>:     considered interesting (the ^ in this
+                                    case means the Control key, not a caret)
+ >  down                m<dir>:   move without picking up objects
+                        F<dir>:   fight even if you don't sense a monster
+                If the number_pad option is set, the number keys move instead.
+                Depending on the platform, Shift number (on the numberpad),
+                Meta number, or Alt number will invoke the YUHJKLBN commands.
+                Control <dir> may or may not work when number_pad is enabled,
+                depending on the platform's capabilities.
+
+Commands:
+        NetHack knows the following commands:
+        ?       Help menu.
+        `       Main Menu.
+        /       Tell what a symbol represents.  You may choose to specify
+                a location or give a symbol argument.
+        &       Tell what a command does.
+        <       Go up a staircase (if you are standing on it).
+        >       Go down a staircase (if you are standing on it).
+        .       Rest, do nothing for one turn.
+        _       Travel via a shortest-path algorithm to a point on the map 
+        a       Apply (use) a tool (pick-axe, key, lamp...)
+        A       Remove all armor.
+        ^A      Redo the previous command
+
+        ^B      Steal
+        c       Close a door.
+        C       Call (name) an individual monster.
+        d       Drop something.  d7a:  drop seven items of object a.
+        D       Drop multiple items.  This command is implemented in two
+                different ways.  One way is:
+                "D" displays a list of all of your items, from which you can
+                pick and choose what to drop.  A "+" next to an item means
+                that it will be dropped, a "-" means that it will not be
+                dropped.  Toggle an item to be selected/deselected by typing
+                the letter adjacent to its description.  Select all items
+                with "+", deselect all items with "=".  The <SPACEBAR> moves
+                you from one page of the listing to the next.
+                The other way is:
+                "D" will ask the question "What kinds of things do you want
+                to drop? [!%= au]".  You should type zero or more object
+                symbols possibly followed by 'a' and/or 'u'.
+                Da - drop all objects, without asking for confirmation.
+                Du - drop only unpaid objects (when in a shop).
+                D%u - drop only unpaid food.
+        ^D      Kick (for doors, usually).
+        f       Fire ammunition from quiver.
+        F       Followed by direction, fight a monster (even if you don't
+                sense it).
+        e       Eat food. Vampires cannot eat as such. However, they can
+                gain nutrition by draining blood from fresh corpses using
+                this command.
+        E       Engrave a message on the floor.
+                E- - write in the dust with your fingers.
+        f       Fire ammunition from quiver.
+        i       Display your inventory.
+        I       Display selected parts of your inventory, as in
+                I* - list all gems in inventory.
+                Iu - list all unpaid items.
+                Ix - list all used up items that are on your shopping bill.
+                I$ - count your money.
+	n#      repeat next command             
+	N       name or classify an item
+        o       Open a door.
+        O       Review current options and possibly change them.
+                A menu displaying the option settings will be displayed
+                and most can be changed by simply selecting their entry.
+                Options are usually set before the game with a NETHACKOPTIONS
+                environment variable, or via a config file (defaults.nh,
+                Slash'EM Defaults, nethack.cnf, .nethackrc, etc.), not with 
+                the 'O' command.
+        p       Pay your shopping bill/Shopkeeper services.
+        P       Put on an accessory (ring, amulet, etc).
+        ^P      Repeat last message (subsequent ^P's repeat earlier messages).
+                The behavior can be varied via the msg_window option.
+        q       Drink (quaff) something (potion, water, etc).
+        Q       Select ammunition for quiver.
+        r       Read a scroll or spell book.
+        R       Remove an accessory (ring, amulet, etc).
+        ^R      Redraw the screen.
+        s       Search for secret doors and traps around you.
+        S       Save the game.
+        t       Throw an object or shoot a projectile.
+        T       Take off armor.
+        ^T      Teleport, if you are able.
+        v       Displays the version number.
+        V       Display a longer identification of the version, including the
+                history of the game.
+        w       Wield weapon.  w- means wield nothing, use bare hands.
+        W       Wear armor.
+        x       Switch weapon slots.
+        X       List the spells you know (same as '+').
+        ^X      Show your attributes.
+	^Y	polymorph (if possible)
+        z       Zap a wand.
+        Z       Cast a spell.
+        ^Z      Suspend the game.
+        :       Look at what is here.
+        ;       Look at what is somewhere else.
+        ,       Pick up some things.
+        @       Toggle the pickup option.
+        ^       Ask for the type of a trap you found earlier.
+        )       Tell what weapon you are wielding.
+        [       Tell what armor you are wearing.
+        =       Tell what rings you are wearing.
+        "       Tell what amulet you are wearing.
+        (       Tell what tools you are using.
+        *       List and change items in use.
+        *       Tell what equipment you are using; combines the preceding five.
+        $       Count your gold pieces.
+        +       List the spells you know; also rearrange them if desired.
+        \       Show what types of objects have been discovered.
+        !       Escape to a shell, if supported in your version and OS.
+        #       Introduces one of the "extended" commands.  To get a list of
+                the commands you can use with "#" type "#?".  The extended
+                commands you can use depends upon what options the game was
+                compiled with, along with your class and what type of monster
+                you most closely resemble at a given moment.  If your keyboard
+                has a meta key (which, when pressed in combination with another
+                key, modifies it by setting the 'meta' (8th, or 'high') bit),
+                these extended commands can be invoked by meta-ing the first
+                letter of the command.  An alt key may have a similar effect.
+
+        If the "number_pad" option is on, some additional letter commands
+        are available:
+
+        h       displays the help menu, like '?'
+        j       Jump to another location.
+        k       Kick (for doors, usually).
+        K       List vanquished monsters (whether by you or not).
+        l       Loot a box on the floor.
+        n       followed by number of times to repeat the next command
+        N       Name an object or type of object.
+        u       Untrap a trapped object or door.
+
+        You can put a number before a command to repeat it that many times,
+        as in "40." or "20s.".  If you have the number_pad option set, you
+        must type 'n' to prefix the count, as in "n40." or "n20s".
+
+
+        Some information is displayed on the bottom line or perhaps in a
+        box, depending on the platform you are using.  You see your
+        attributes, your alignment, what dungeon level you are on, how many
+        hit points you have now (and will have when fully recovered), what
+        your armor class is (the lower the better), your experience level,
+        and the state of your stomach.  Optionally, you may or may not see
+        other information such as spell points, how much gold you have, etc.
+
+        Have Fun, and Happy Hacking!
+y k u   7 8 9   Move commands:
+ \|/     \|/            yuhjklbn: go one step in specified direction
+h-.-l   4-.-6           YUHJKLBN: go in specified direction until you
+ /|\     /|\                        hit a wall or run into something
+b j n   1 2 3           g<dir>:   run in direction <dir> until something
+      numberpad                     interesting is seen
+                        G<dir>,   same, except a branching corridor isn't
+ <  up                  ^<dir>:     considered interesting (the ^ in this
+                                    case means the Control key, not a caret)
+ >  down                m<dir>:   move without picking up objects
+                If the number_pad option is set, the number keys move instead.
+                Depending on the platform, Shift number (on the numberpad),
+                Meta number, or Alt number will invoke the YUHJKLBN commands.
+                Control <dir> may or may not work when number_pad is enabled,
+                depending on the platform's capabilities.
+  
+
+General commands:
+?       help    display one of several informative texts
+`       menu    access the menusystem
+S       save    save the game (to be continued later)
+!       sh      escape to some SHELL (if allowed)
+^Z      suspend suspend the game (independent of your current suspend char)
+O       options set options
+/       whatis  tell what a map symbol represents
+\       known   display list of what's been discovered
+v       version display version number
+V       history display game history
+X       explore switch the game to explore (discovery) mode
+^A      again   redo the previous command (^A denotes the keystroke CTRL-A)
+^R      redraw  redraw the screen
+^P      prevmsg repeat previous message (subsequent ^P's repeat earlier ones)
+#               introduces an extended command (#? for a list of them)
+
+Game commands:
+^B      bereave steal
+^D      kick    kick (a door, or something else)
+^T      'port   teleport (if you can)
+^X      show    show your attributes
+^Y	poly'	polymorph (if possible)
+a       apply   apply or use a tool (pick-axe, key, camera, etc.)
+A       armor   take off all armor
+c       close   close a door
+C       call    name an individual monster (ex. baptize your dog)
+d       drop    drop an object.  d7a:  drop seven items of object 'a'
+D       Drop    drop selected types of objects
+e       eat     eat something (or drain corpse, if vampire)
+E       engrave write a message in the dust on the floor  (E-  use fingers)
+f	fire    fire item from quiver           
+F       fight   followed by direction, fight a monster
+i       invent  list your inventory (all objects you are carrying)
+I       Invent  list selected parts of your inventory
+                Iu: list unpaid objects
+                Ix: list unpaid but used up items
+                I$: count your money
+n#      repeat  repeat next command             
+N       name    name or classify an item
+o       open    open a door
+p       pay     pay your bill (in a shop)/shopkeeper services
+P       puton   put on an accessory (ring, amulet, etc)
+q       quaff   drink something (potion, water, etc)
+Q       quiver  select ammunition for quiver
+r       read    read a scroll or spell book
+R       remove  remove an accessory (ring, amulet, etc)
+s       search  search for secret doors, hidden traps and monsters
+t       throw   throw or shoot a weapon
+T       takeoff take off some armor
+w       wield   wield a weapon  (w-  wield nothing)
+W       wear    put on some armor
+x       exchange swap weapon slots               
+X       spells  list the spells you know
+z       zap     zap a wand
+Z       Zap     cast a spell
+<       up      go up the stairs
+>       down    go down the stairs
+^       trap_id identify a previously found trap
+),[,=,",(               ask for current items of specified symbol in use
+*       items   list and change items in use
+$       gold    count your gold
++       spells  list the spells you know
+_       travel  move via a shortest-path algorithm to a point on the map
+.       rest    wait a moment
+,       pickup  pick up all you can carry
+@               toggle "pickup" (auto pickup) option on and off
+:       look    look at what is here
+;       farlook look at what is somewhere else by selecting a map symbol
+
+Keyboards that have a meta key can also use these extended commands
+via the meta modifier instead of the # prefix:
+
+M-?             Display extended command help (if the platform allows this)
+M-2     twoweapon toggle two-weapon combat (unless number_pad is enabled)
+M-a     adjust  adjust inventory letters
+M-b     bereave steal
+M-c     chat    talk to someone
+M-d     dip     dip an object into something
+M-e     enhance advance or check weapons skills
+M-f     force   force a lock
+M-i     invoke  invoke an object's special powers
+M-j     jump    jump to another location
+M-l     loot    loot a box on the floor
+M-m     monster use a monster's special ability
+M-n     name    name an item or type of object
+M-o     offer   offer a sacrifice to the gods
+M-p     pray    pray to the gods for help
+M-q	quit	quit the game
+M-r     rub     rub a lamp or a stone
+M-s     sit     sit down
+M-t     tech    use a class specific technique
+M-u     untrap  untrap something
+M-y     youpoly polymorph yourself
+M-v     version print compile time options for this version
+M-w     wipe    wipe off your face
+
+If the "number_pad" option is on, these additional variants are available:
+
+n               followed by number of times to repeat the next command
+h       help    display one of several informative texts, like '?'
+j       jump    jump to another location
+k       kick    kick something (usually a door)
+K       kills   list vanquished monsters (whether by you or not)
+l       loot    loot a box on the floor
+N       name    name an item or type of object
+u       untrap  untrap something (usually a trapped object)
+^       Show the type of a trap
+^[      Cancel command
+^A      Redo the previous command
+^C      Quit the game
+^D      Kick something (usually a door, chest, or box)
+^E      Search a room (available in wizard mode only)
+^F      Map the level (available in wizard mode only)
+^G      Create a monster (available in wizard mode only)
+^I      Identify all items (available in wizard mode only)
+^J      go up an experience level (available in wizard mode only)
+^O      Show location of special levels (available in wizard mode only)
+^P      Toggle through previously displayed game messages
+^R      Redraw screen
+^T      Teleport around level
+^V      Teleport between levels (available in wizard mode only)
+^W      Wish (available in wizard mode only)
+^X      Show your attributes (intrinsic ones included in debug or explore mode)
+^Y      Polymorph (if you can)
+^Z      Suspend game (only if defined)
+a       Apply (use) a tool
+A       Remove all armor
+b       Go southwest 1 space
+B       Go southwest until you are on top of something
+^B      Go southwest until you are near something
+c       Close a door
+C       Call (name) a particular monster
+d       Drop an item
+D       Drop specific item types
+e       Eat something
+E       Engrave writing on the floor
+f       Fire ammunition from quiver
+F       Followed by direction, fight a monster (even if you don't sense it)
+g       Followed by direction, move until you are near something
+G       Followed by direction, same as control-direction
+h       Go west 1 space (if number_pad is on, display help message)
+H       Go west until you are on top of something
+^H      Go west until you are near something
+i       Show your inventory
+I       Inventory specific item types
+j       Go south 1 space (or if number_pad is on, jump to another location)
+J       Go south until you are on top of something
+^J      Go south until you are near something
+k       Go north 1 space (or if number_pad is on, kick something)
+K       Go north until you are on top of something (if number_pad, list kills)
+^K      Go north until you are near something
+l       Go east 1 space (or if number_pad is on, loot a box on the floor)
+L       Go east until you are on top of something
+^L      Go east until you are near something
+m       Followed by direction, move without picking anything up
+M       Followed by direction, move a distance without picking anything up
+n       Go southeast 1 space
+N       Go southeast until you are on something (if number_pad, name an object)
+^N      Go southeast until you are near something
+o       Open a door
+O       Set options (O? explains options)
+p       Pay your shopping bill/Shopkeeper services
+P       Put on an accessory (ring, amulet, etc)
+q       Quaff (drink) something (potion, water, etc)
+Q       Select ammunition for quiver
+r       Read a scroll or spell book
+R       Remove an accessory (ring, amulet, etc)
+s       Search for traps and secret doors
+S       Save the game
+t       Throw something
+T       Take off one piece of armor
+u       Go northeast 1 space (or if number_pad is on, untrap something)
+U       Go northeast until you are on top of something
+^U      Go northeast until you are near something
+v       Show version
+V       Show long version and game history
+w       Wield (put in use) a weapon
+W       Wear a piece of armor
+x       Swap wielded and secondary weapons
+X       List known spells
+y       Go northwest 1 space
+Y       Go northwest until you are on top of something
+^Y      Go northwest until you are near something
+z       Zap a wand
+Z       Zap (cast) a spell
+<       Go up a staircase
+>       Go down a staircase
+/       Show what type of thing a symbol corresponds to
+?       Give a help message
+&       Tell what a command does
+`       Access the menusystem
+!       Do a shell escape (only if defined)
+\       Show what object types have been discovered
+_       Travel via a shortest-path algorithm to a point on the map 
+.       Rest one move while doing nothing
+        Rest one move while doing nothing (if rest_on_space option is on)
+:       Look at what is on the floor
+;       Show what type of thing a map symbol on the level corresponds to
+,       Pick up things at the current location
+@       Toggle the pickup option on/off
+)       Show the weapon currently wielded
+*       Show all equipment in use (combination of the ),[,=,",( commands)
+[       Show the armor currently worn
+=       Show the ring(s) currently worn
+"       Show the amulet currently worn
+(       Show the tools currently in use
+$       Count your gold
++       List known spells
+#       Perform an extended command
+M-?     Display extended command help (if the platform allows this)
+M-2     Toggle two-weapon combat (unless number_pad is enabled)
+M-a     Adjust inventory letters
+M-b     Steal
+M-c     Talk to someone
+M-d     Dip an object into something
+M-e     Class special effect
+M-f     Force a lock
+M-i     Invoke an object's special powers
+M-j     Jump to another location
+M-k     Advance or check weapons skills
+M-l     Loot a box on the floor
+M-m     Use a monster's special ability
+M-n     Name an item or type of object
+M-o     Offer a sacrifice to the gods
+M-p     Pray to the gods for help
+M-q     Quit
+M-r     Rub a lamp
+M-s     Sit down
+M-t     Use techniques
+M-u     Untrap something (trap, door, or chest)
+M-v     Print compile time options for this version of NetHack
+M-w     Wipe off your face
+M-y     Polymorph yourself
+SLASH'EM History file for release 0.0.7
+
+Behold, mortal, the origins of SLASH'EM...
+
+Jay Fenlason wrote the original Hack with help from Kenny Woodland,
+Mike Thome, and Jon Payne.
+
+Andries Brouwer did a major re-write, transforming Hack into a very different
+game, and published (at least) three versions (1.0.1, 1.0.2, and 1.0.3) for
+UNIX(tm) machines to the Usenet.
+
+Don G. Kneller ported Hack 1.0.3 to Microsoft(tm) C and MS-DOS(tm), producing
+PC HACK 1.01e, added support for DEC Rainbow graphics in version 1.03g, and
+went on to produce at least four more versions (3.0, 3.2, 3.51, and 3.6).
+
+R. Black ported PC HACK 3.51 to Lattice(tm) C and the Atari 520/1040ST,
+producing ST Hack 1.03.
+
+Mike Stephenson merged these various versions back together, incorporating
+many of the added features, and produced NetHack version 1.4.  He then
+coordinated a cast of thousands in enhancing and debugging NetHack 1.4 and
+released NetHack versions 2.2 and 2.3.
+ 
+Later, Mike coordinated a major rewrite of the game, heading a team which
+included Ken Arromdee, Jean-Christophe Collet, Steve Creps, Eric Hendrickson,
+Izchak Miller, Eric S. Raymond, John Rupley, Mike Threepoint, and Janet Walz,
+to produce NetHack 3.0c.  The same group subsequently released ten patch-
+level revisions and updates of 3.0.
+
+NetHack 3.0 was ported to the Atari by Eric R. Smith, to OS/2 by Timo
+Hakulinen, and to VMS by David Gentzel.  The three of them and Kevin Darcy
+later joined the main development team to produce subsequent revisions of
+3.0.
+
+Olaf Seibert ported NetHack 2.3 and 3.0 to the Amiga.  Norm Meluch, Stephen
+Spackman and Pierre Martineau designed overlay code for PC NetHack 3.0.
+Johnny Lee ported NetHack 3.0 to the Macintosh.  Along with various other
+Dungeoneers, they continued to enhance the PC, Macintosh, and Amiga ports
+through the later revisions of 3.0.
+
+A scant one month before the next major version  release  of Nethack,  two  
+adventurous souls undertook their own modification to the sacred Nethack
+formula. Tom Proudfoot and  Yuval  released Nethack++,   which  was rapidly
+renamed Nethack--,  containeing new monsters,  items and other miscellaneous
+modifications.
+ 
+Headed by Mike Stephenson and coordinated by Izchak Miller and Janet Walz,
+the development team which now included Ken Arromdee, David Cohrs,
+Jean-Christophe Collet, Kevin Darcy, Matt Day, Timo Hakulinen, Steve Linhart,
+Dean Luick, Pat Rankin, Eric Raymond, and Eric Smith undertook a radical
+revision of 3.0.  They re-structured the game's design, and re-wrote major
+parts of the code.  They added multiple dungeons, a new display, special
+individual character quests, a new endgame and many other new features, and
+produced NetHack 3.1.
+
+Ken Lorber, Gregg Wonderly and Greg Olson, with help from Richard Addison,
+Mike Passaretti, and Olaf Seibert, developed NetHack 3.1 for the Amiga.
+
+Norm Meluch and Kevin Smolkowski, with help from Carl Schelin, Stephen
+Spackman, Steve VanDevender, and Paul Winner, ported NetHack 3.1 to the PC.
+
+Jon Watte and Hao-yang Wang, with help from Ross Brown, Mike Engber, David
+Hairston, Michael Hamel, Jonathan Handler, Johnny Lee, Tim Lennan, Rob Menke,
+and Andy Swanson developed NetHack 3.1 for the Macintosh, porting it for
+MPW.  Building on their development, Barton House added a Think C port.  
+
+Timo Hakulinen ported NetHack 3.1 to OS/2.  Eric Smith ported NetHack 3.1
+to the Atari.  Pat Rankin, with help from Joshua Delahunty, is responsible
+for the VMS version of NetHack 3.1.  Michael Allison ported NetHack 3.1 to
+Windows NT.
+
+Dean Luick, with help from David Cohrs, developed NetHack 3.1 for X11.
+Warwick Allison added in the "tiled" version of the game and generated most
+of the individual tiles for NetHack 3.2.
+
+Time passed,  and Nethack-- was ported to 3.11 by Chris.
+
+Stephen White then released his own  modification  known  as Nethack  Plus,
+which  contained  new  character classes.  Unbeknownst to the world at large,
+Tom Proudfoot  took  this  source and combined it with his Nethack--.
+Stephen White went on to add weapon skills,  which were eventually integrated
+into  the  next version of Nethack,  and other features.
+
+In February 1996,  Tom Proudfoot released SLASH V1.  Including part of
+Stephen White's Nethack Plus and his  own  Nethack--, leaving  unmentioned
+his own slew of further modifications,  this is perhaps the best known of
+the Nethack modifications.  Six versions of this,  ending with SLASH V6,
+are known to exist.
+
+The 3.2 development team, comprised of: Michael Allison; Ken Arromdee; David
+Cohrs; Jessie Collet; Steve Creps; Kevin Darcy; Timo Hakulinen; Steve
+Linhart; Dean Luick; Pat Rankin; Eric Smith; Mike Stephenson; Janet Walz; and
+Paul Winner, released version 3.2 in April of 1996.
+
+Version 3.2 marks the tenth anniversary of the formation of the development
+team.  In a testament to their dedication to the game, all thirteen members
+of the original development team remained on the team at the start of work
+on the current release.  During the interval between the release of 3.1.3
+and 3.2, one of the founding members of the development team, Dr. Izchak
+Miller, passed away.  This release of the game is dedicated to him by the
+development and porting teams.
+
+Version 3.2 proved to be more stable than previous versions.  Many bugs
+were fixed, abuses eliminated, and game features tuned for better game
+play.
+
+SLASH V6 was picked up by Enrico Horn managed to synchronize it  with the
+3.2 source.  The new SLASH 4.1.2 was released as far back as November 1996
+went through at least 4 editlevels (E5, E6, E7)  with  the  latest  version
+being 4.1.2E8,  synchronized with Nethack 3.2.2 and the Blackmarket option
+available,  released in June 1997.
+
+Nathan La began the arduous task of drawing  tiles  for  the SLASH monsters.
+
+Kentaro Shirakata ported SLASH 4.1.2E8 to Unix.
+
+Lief Clennon ported SLASH 4.1.2E8 to OS/2.
+
+Romain Dolbeau ported SLASH 4.1.2E8 to Macintosh.
+
+Warren Cheung combined SLASH 4.1.2 and Wizard Patch to  create SLASH'EM 0.1
+in November 1997.  Several revisions including new spells and other minor
+additions have led to SLASH'EM  0.0.3. Steven Uy has generously made
+additional modifications.
+
+Dirk  Schoenberger has continued updating the SLASH/SLASH'EM monster tiles.
+He has also ported SLASH'EM to Linux.
+
+Lief Clennon ported SLASH'EM to OS/2 EMX.
+
+Kevin Hugo ported SLASH'EM to Macintosh,  and has also contributed
+additional changes and improvements.
+
+Robin Johnson finished arduous task of drawing tiles for the SLASH'EM
+monsters.  He has also contributed many more new tiles.
+
+Kevin later joined the DevTeam and incorporated the best of these ideas
+in NetHack 3.3.
+
+JNetHack (the Japanese version of NetHack) has been around since at least
+1994, developed by Issei Numata and others. The GTK interface was written
+for this variant and released in 1999.
+
+Mitsuhiro Itakura headed a team which began the process of redrawing the
+NetHack tiles in 8-bit color at 32x32 pixels.
+
+The final update to 3.2 was the bug fix release 3.2.3, which was released
+simultaneously with 3.3.0 in December 1999 just in time for the Year 2000.
+
+The 3.3 development team, consisting of Michael Allison, Ken Arromdee,
+David Cohrs, Jessie Collet, Steve Creps, Kevin Darcy, Timo Hakulinen,
+Kevin Hugo, Steve Linhart, Ken Lorber, Dean Luick, Pat Rankin, Eric Smith,
+Mike Stephenson, Janet Walz, and Paul Winner, released 3.3.0 in
+December 1999 and 3.3.1 in August of 2000.
+
+Version 3.3 offered many firsts. It was the first version to separate race
+and profession. The Elf class was removed in preference to an elf race,
+and the races of dwarves, gnomes, and orcs made their first appearance in
+the game alongside the familiar human race.  Monk and Ranger roles joined
+Archeologists, Barbarians, Cavemen, Healers, Knights, Priests, Rogues,
+Samurai, Tourists, Valkyries and of course, Wizards.  It was also the first
+version to allow you to ride a steed, and was the first version to have a
+publicly available web-site listing all the bugs that had been discovered.
+Despite that constantly growing bug list, 3.3 proved stable enough to last
+for more than a year and a half.
+
+Warren Cheung combined SLASH'EM 0.0.5E7F1 and NetHack 3.3 to create
+SLASH'EM 0.0.6 and maintained the DOS and Microsoft Windows ports.
+
+J. Ali Harlow incorporated the GTK interface and Mitsuhiro Itakura's 32x32
+tileset into SLASH'EM 0.0.6 and maintained the UNIX port of SLASH'EM 0.0.6.
+Peter Makholm maintained the Debian package.
+
+Paul Hurtley maintained the MAC port of SLASH'EM 0.0.6.
+
+The 3.4 development team initially consisted of Michael Allison, Ken Arromdee,
+David Cohrs, Jessie Collet, Kevin Hugo, Ken Lorber, Dean Luick, Pat Rankin,
+Mike Stephenson, Janet Walz, and Paul Winner, with Warwick Allison joining
+just before the release of NetHack 3.4.0 in March 2002.
+
+As with version 3.3, various people contributed to the game as a whole as
+well as supporting ports on the different platforms that NetHack runs on:
+
+Pat Rankin maintained 3.4 for VMS.
+
+Michael Allison maintained NetHack 3.4 for the MS-DOS platform.
+Paul Winner and Yitzhak Sapir provided encouragement.
+
+Dean Luick, Mark Modrall, and Kevin Hugo maintained and enhanced the
+Macintosh port of 3.4.
+
+Michael Allison, David Cohrs, Alex Kompel, Dion Nicolaas, and Yitzhak Sapir
+maintained and enhanced 3.4 for the Microsoft Windows platform. Alex Kompel
+contributed a new graphical interface for the Windows port. Alex Kompel also
+contributed a Windows CE port for 3.4.1.
+
+Ron Van Iwaarden maintained 3.4 for OS/2.
+
+Janne Salmijarvi and Teemu Suikki maintained and enhanced the
+Amiga port of 3.4 after Janne Salmijarvi resurrected it for 3.3.1.
+
+Christian `Marvin' Bressler maintained 3.4 for the Atari after he
+resurrected it for 3.3.1.
+
+Warren Cheung, Christian Cooper, J. Ali Harlow, Paul Hurtley, Pekka Rousu
+and Darshan Shaligram combined SLASH'EM 0.0.6E5F2 and Nethack 3.4
+to create SLASH'EM 0.0.7
+
+The Slash'EM home page is at http://www.slashem.org/.
+
+			   - - - - - - - - - -
+
+From time to time, some depraved individual out there in netland sends a
+particularly intriguing modification to help out with the game.  The Gods of
+the Dungeon sometimes make note of the names of the worst of these miscreants
+in this, the list of Dungeoneers:
+
+    Adam Aronow               Izchak Miller             Mike Stephenson
+    Alex Kompel               J. Ali Harlow             Norm Meluch
+    Andreas Dorn              Janet Walz                Olaf Seibert
+    Andy Church               Janne Salmijarvi          Pasi Kallinen
+    Andy Swanson              Jean-Christophe Collet    Pat Rankin
+    Ari Huttunen              Jochen Erwied             Paul Winner
+    Barton House              John Kallen               Pierre Martineau
+    Benson I. Margulies       John Rupley               Ralf Brown
+    Bill Dyer                 John S. Bien              Ray Chason
+    Boudewijn Waijers         Johnny Lee                Richard Addison
+    Bruce Cox                 Jon W{tte                 Richard Beigel
+    Bruce Holloway            Jonathan Handler          Richard P. Hughey
+    Bruce Mewborne            Joshua Delahunty          Rob Menke
+    Carl Schelin              Keizo Yamamoto            Robin Johnson
+    Chris Russo               Ken Arnold                Roderick Schertler
+    David Cohrs               Ken Arromdee              Roland McGrath
+    David Damerell            Ken Lorber                Ron Van Iwaarden
+    David Gentzel             Ken Washikita             Ronnen Miller
+    David Hairston            Kevin Darcy               Ross Brown
+    Dean Luick                Kevin Hugo                Sascha Wostmann
+    Del Lamb                  Kevin Sitze               Scott Bigham
+    Deron Meranda             Kevin Smolkowski          Scott R. Turner
+    Dion Nicolaas             Kevin Sweet               Stephen Spackman
+    Dylan O'Donnell           Lars Huttar               Stephen White
+    Eric Backus               Malcolm Ryan              Steve Creps
+    Eric Hendrickson          Mark Gooderum             Steve Linhart
+    Eric R. Smith             Mark Modrall              Steve VanDevender
+    Eric S. Raymond           Marvin Bressler           Teemu Suikki
+    Erik Andersen             Matthew Day               Tim Lennan
+    Frederick Roeber          Merlyn LeRoy              Timo Hakulinen
+    Gil Neiger                Michael Allison           Tom Almy
+    Greg Laskin               Michael Feir              Tom West
+    Greg Olson                Michael Hamel             Warren Cheung
+    Gregg Wonderly            Michael Sokolov           Warwick Allison
+    Hao-yang Wang             Mike Engber               Yitzhak Sapir
+    Helge Hafting             Mike Gallop               
+    Irina Rempt-Drijfhout     Mike Passaretti           
+
+Boolean options not under specific compile flags (with default values in []):
+(You can learn which options exist in your version by checking your current
+option setting, which is reached via the 'O' cmd.)
+
+autodig        dig if moving and wielding digging tool            [FALSE]
+autopickup     automatically pick up objects you move over        [TRUE]
+autoquiver     when firing with an empty quiver, select some
+               suitable inventory weapon to fill the quiver       [FALSE]
+BIOS           allow the use of IBM ROM BIOS calls                [FALSE]
+cmdassist      give help for errors on direction & other commands [TRUE]
+confirm        ask before hitting tame or peaceful monsters       [TRUE]
+DECgraphics    use DEC/VT line-drawing characters for the dungeon [FALSE]
+disclose       offer information at the end of the game           [TRUE]
+eight_bit_tty  send 8-bit characters straight to terminal         [FALSE]
+extmenu        use a menu for selecting extended commands (#)     [FALSE]
+fixinv         try to retain the same letter for the same object  [TRUE]
+help           print all available info when using the / command  [TRUE]
+IBMgraphics    use IBM extended characters for the dungeon        [FALSE]
+ignintr        ignore interrupt signal, including breaks          [FALSE]
+legacy         print introductory message                         [TRUE]
+lit_corridor   show a dark corridor as lit if in sight            [FALSE]
+lootabc        use a/b/c rather than o/i/b when looting           [FALSE]
+mail           enable the mail daemon                             [TRUE]
+null           allow nulls to be sent to your terminal            [TRUE]
+               try turning this option off (forcing NetHack to use its own
+               delay code) if moving objects seem to teleport across rooms
+number_pad     use the number keys to move instead of yuhjklbn    [FALSE]
+perm_invent    keep inventory in a permanent window               [FALSE]
+pickup_thrown  autopickup things you threw                        [TRUE]
+prayconfirm    use confirmation prompt when #pray command issued  [TRUE]
+pushweapon     when wielding a new weapon, put your previously
+               wielded weapon into the secondary weapon slot      [FALSE]
+rawio          allow the use of raw I/O                           [FALSE]
+rest_on_space  count the space bar as a rest character            [FALSE]
+safe_pet       prevent you from (knowingly) attacking your pet(s) [TRUE]
+showrace       show yourself by your race rather than by role     [FALSE]
+silent         don't use your terminal's bell sound               [TRUE]
+sortpack       group similar kinds of objects in inventory        [TRUE]
+sound          enable messages about what your character hears    [TRUE]
+               (note: this has nothing to do with your computer's audio
+               capabilities, and the game resets it periodically)
+sparkle        display sparkly effect for resisted magical        [TRUE]
+               attacks (e.g. fire attack on fire-resistant monster)
+standout       use standout mode for --More-- on messages         [FALSE]
+time           display elapsed game time, in moves                [FALSE]
+tombstone      print tombstone when you die                       [TRUE]
+toptenwin      print topten in a window rather than stdout        [FALSE]
+travel         enable the command to travel to a map location via [TRUE]
+               a shortest-path algorithm, usually invoked by '_'.
+verbose        print more commentary during the game              [TRUE]
+
+
+
+There are further boolean options controlled by compilation flags.
+
+Boolean option if INSURANCE was set at compile time:
+checkpoint save game state after each level change, for possible  [TRUE]
+           recovery after program crash
+
+Boolean option if NEWS was set at compile time:
+news       print any news from game administrator on startup      [TRUE]
+
+Boolean option if MFLOPPY was set at compile time:
+checkspace check free disk space before writing files to disk     [TRUE]
+
+Boolean option if EXP_ON_BOTL was set at compile time:
+showexp    display your accumulated experience points             [FALSE]
+
+Boolean option if SCORE_ON_BOTL was set at compile time:
+showscore  display your approximate accumulated score             [FALSE]
+
+Boolean option if SHOW_DMG was set at compile time:
+showdmg    display damage inflicted/received on message line      [FALSE]
+
+Boolean options if SHOW_WEIGHT was set at compile time:
+invweight  display weights of items in inventory in braces        [FALSE]
+showweight display total weight in inventory on bottom line       [FALSE]
+
+Boolean options if TEXTCOLOR was set at compile time:
+color      use different colors for objects on screen   [TRUE for micros]
+hilite_pet display pets in a highlighted manner                   [FALSE]
+
+Boolean option if TEXTCOLOR and MENU_COLOR were set at compile time:
+menucolors use different colors for menus               [TRUE for micros]
+
+Boolean option if TIMED_DELAY was set at compile time (tty interface only):
+timed_delay    on unix and VMS, use a timer instead of sending    [TRUE]
+               extra screen output when attempting to pause for
+               display effect.  on MSDOS without the termcap
+               lib, whether or not to pause for visual effect.    
+
+Boolean options if KEEP_SAVE was set at compile time:
+keep_savefile  keep save file after restore                       [FALSE]
+
+Boolean option if USE_TILES was set at compile time (MSDOS protected mode only):
+preload_tiles  control whether tiles get pre-loaded into RAM at the
+               start of the game.  Doing so enhances performance
+               of the tile graphics, but uses more memory.        [TRUE]
+
+Any Boolean option can be negated by prefixing it with a '!' or 'no'.
+
+
+Compound options are written as option_name:option_value.
+
+Compound options which can be set during the game are:
+
+boulder       override the default boulder symbol with another default: [`]
+disclose      the types of information you want offered at the end of the
+              game  [ni na nv ng nc]
+fruit         the name of a fruit you enjoy eating  [slime mold]
+              (basically a whimsy which NetHack uses from time to time).
+menustyle     user interface for selection of multiple objects:
+              Traditional -- one object at a time prompting;
+              Combination -- prompt for classes of interest, then menu;
+              Partial     -- skip class prompt, use menu of all objects;
+              Full        -- menu for classes of interest, then object menu;
+              only the first letter ('T','C','P','F') matters; 'N' (None)
+              is a synonym for 'T', as is boolean style negation  [Full]
+packorder     a list of default symbols for kinds of objects that gives the
+              order in which your pack will be displayed  [")[%?+!=/(*`0_]
+              (If you specify only some kinds of items, the others from the
+              default order will be appended to the end.)
+pickup_burden when you pick up an item that exceeds this encumberance
+              level (Unburdened, Burdened, streSsed, straiNed, overTaxed,
+              or overLoaded), you will be asked if you want to continue. [S]
+pickup_types  a list of default symbols for kinds of objects to autopickup
+              when that option is on  [all]
+runmode       controls how often the map window is updated when performing
+              multi-step movement (various running modes or travel command):
+              teleport -- don't update map until movement stops;
+              run      -- periodically update map (interval is seven steps);
+              walk     -- update map after every step;
+              crawl    -- like walk, but delay after making each step.
+              (This only affects screen display, not actual movement.)  [run]
+scores        the parts of the score list you wish to see when the game ends
+              You choose a combination of top scores, scores around the top
+              scores, and all of your own scores.  [!own/3 top/2 around]
+suppress_alert disable various version-specific warnings about changes
+              in game play or the user interface, such as notification given
+              for engravings that reading is now done via 'r.'
+              (e.g., use suppress_alert:0.0.7 to stop that and any other
+              notifications added in that version or earlier) default: [(none)]
+tileset       the name of a predefined (with TILESET=) tileset to use.  This
+              option may be negated (eg., !tileset) or set to an emty value
+              to disable tiles.  If the windowing port does not support the
+              named tileset then a suitable alternative will be used.
+              [depends on windowing port]
+
+Compound options which may be set only on startup are:
+
+align      Your starting alignment (align:lawful, align:neutral,
+           or align:chaotic).  You may specify just the first letter.  [RANDOM]
+catname    the name of your first cat  [NONE]
+dogname    the name of your first dog  [NONE]
+dungeon    a list of symbols to be used in place of the default ones for
+           drawing the dungeon.
+           The symbols are subjected to a fair amount of processing, so
+           that you can use C-style escapes such as \n or \081 as well as
+           indicate control characters by ^x or meta characters by \Mx.
+           As usual, \ can force the next character to be taken literally.
+           Since many of the default symbols are overloaded, they are
+           given here by name instead of symbol, with some added notes:
+           stone                               (solid rock, normally ' ')
+           vwall hwall tlcorn trcorn blcorn brcorn      (room boundaries)
+           crwall tuwall tdwall tlwall trwall (wallified maze characters)
+           nodoor vodoor hodoor      (no, vertical, horizontal open door)
+           vcdoor hcdoor               (vertical, horizontal closed door)
+           ironbars tree room darkcorr litcorr
+           upstair dnstair upladder dnladder
+           altar grave throne sink toilet fountain pool ice lava
+           vodbridge hodbridge     (vertical, horizontal open drawbridge)
+           vcdbridge hcdbridge   (vertical, horizontal closed drawbridge)
+           air cloud water
+           default:  \ |--------||.-|++##.##<><>_|\\##{}.}..##\ #}
+effects    like dungeon, but for special effects symbols
+           vbeam hbeam lslant rslant                  (generic zap beams)
+           digbeam flashbeam      (special beams for digging and cameras)
+           boomleft boomright                                (boomerangs)
+           ss1 ss2 ss3 ss4                           (shielding sequence)
+           sw_topl, sw_topm, sw_topr,                  (swallow, top row)
+           sw_midl, sw_midr,            (swallow, middle row [no center])
+           sw_botl, sw_botm, sw_botr                (swallow, bottom row)
+           mextl mextm mextr           (magical explosion matrix top row)
+           mexml mexmm mexmr        (magical explosion matrix middle row)
+           mexbl mexbm mexbr        (magical explosion matrix bottom row)
+           fextl fextm fextr              (fire explosion matrix top row)
+           fexml fexmm fexmr           (fire explosion matrix middle row)
+           fexbl fexbm fexbr           (fire explosion matrix bottom row)
+           cextl cextm cextr              (cold explosion matrix top row)
+           cexml cexmm cexmr           (cold explosion matrix middle row)
+           cexbl cexbm cexbr           (cold explosion matrix bottom row)
+           dextl dextm dextr             (death explosion matrix top row)
+           dexml dexmm dexmr          (death explosion matrix middle row)
+           dexbl dexbm dexbr          (death explosion matrix bottom row)
+           lextl lextm lextr         (lightning explosion matrix top row)
+           lexml lexmm lexmr      (lightning explosion matrix middle row)
+           lexbl lexbm lexbr      (lightning explosion matrix bottom row)
+           pextl pextm pextr            (poison explosion matrix top row)
+           pexml pexmm pexmr         (poison explosion matrix middle row)
+           pexbl pexbm pexbr         (poison explosion matrix bottom row)
+           aextl aextm aextr              (acid explosion matrix top row)
+           aexml aexmm aexmr           (acid explosion matrix middle row)
+           aexbl aexbm aexbr           (acid explosion matrix bottom row)
+           default:  |-\\/*!)(0#@*/-\\||\\-//-\\|\ |\\-//-\\|\ |\\-//-\\|\ |\\-/
+	            /-\\|\ |\\-//-\\|\ |\\-//-\\|\ |\\-//-\\|\ |\\-/
+gender     Your starting gender (gender:male or gender:female).
+           You may specify just the first letter.  Although you can
+           still denote your gender using the "male" and "female"
+           options, the "gender" option will take precedence.  [RANDOM]
+horsename  the name of your first horse  [NONE]
+ghoulname  the name of your first ghoul  [NONE]
+menucolor  Set colors for menus. (menucolor:"regex_string"=color)
+           If boolean option ``menucolors'' is true, menus will be shown
+           with different colors.
+           For example, setting ``menucolor:" blessed "=green'' shows
+           all lines in a menu with the text " blessed " in green.
+           The string is matched using regular expressions.
+           Valid values for the color are black, red, green, brown, blue,
+           magenta, cyan, gray, orange, lightgreen, yellow, lightblue,
+           lightmagenta, lightcyan and white.
+           You can define menucolor as many times as you wish; those
+           defined later will take precedence.
+           Setting menucolor has effect only if TEXTCOLOR and MENU_COLOR
+           were set at compile time.  [NONE]
+menu_*     create single character accelerators for menu commands.  Below
+           is a list of all commands.  Each is followed by a list of window-
+           ports that implement them:  'x' is X11, 't' is tty, 'g' is Gem,
+           'a' is Amiga.
+           menu_deselect_all  deselect all items in a menu [-](gxta)
+           menu_deselect_page deselect all items on this page of a menu [\](gta)
+           menu_first_page    jump to the first page in a menu [^](gta)
+           menu_invert_all    invert all items in a menu [@](gxta)
+           menu_invert_page   invert all items on this page of a menu [~](gta)
+           menu_last_page     jump to the last page in a menu [|](gta)
+           menu_next_page     goto the next menu page [>](gta)
+           menu_previous_page goto the previous menu page [<](gta)
+           menu_search        search for a menu item [:](gxa)
+           menu_select_all    select all items in a menu [.](gxta)
+           menu_select_page   select all items on this page of a menu [,](gta)
+monsters   like dungeon, but for monster symbols
+           default:  abcdefghijklmnopqrstuvwxyz
+                     ABCDEFGHIJKLMNOPQRSTUVWXYZ@\ \\&;:~]
+msghistory number of top line messages to save [20]
+name       the name of your character  [obtained by asking the system or
+           the player]
+objects    like dungeon, but for object symbols
+           default:  ])[="(%!?+/$*`0_.
+pettype    your preferred type of pet (cat or dog), if your character
+           class uses both types; or none for no pet  [RANDOM]
+race       Your starting race (e.g., race:Human, race:Elf).  [RANDOM]
+role       Your starting role (e.g., role:Barbarian, role:Valk).
+           Although you can specify just the first letter(s), it will
+           choose only the first role it finds that matches; thus, it
+           is recommended that you spell out as much of the role name
+           as possible.  You can also still denote your role by
+           appending it to the "name" option (e.g., name:Vic-V), but the
+           "role" option will take precedence.  [RANDOM]
+traps      like dungeon, but for trap symbols
+           arrow_trap dart_trap falling_rock_trap squeaky_board
+           bear_trap land_mine rolling_boulder_trap sleeping_gas_trap
+           rust_trap fire_trap pit spiked_pit hole trap_door
+           teleportation_trap level_teleporter magic_portal web statue_trap
+           magic_trap anti_magic_trap polymorph_trap
+           default:  ^^^^^^^^^^^^^^^^^"^^^^
+windowtype windowing system to be used  [depends on operating system]
+wolfname   the name of your first wolf  [NONE]
+
+Compound option if TTY_GRAPHICS was set at compile time:
+msg_window the type of message window to use:
+           single      -- One message at a time
+           full        -- Full window with all saved top line messages
+           reverse     -- Same as full, but messages printed most-recent-first
+           combination -- Two single messages, then as full
+           default:  single
+
+Some sample options lists are:
+!autopickup,!tombstone,name:Gandalf,scores:own/3 top/2 around
+female,nonews,dogname:Rover,dungeon: |--------||.-|++.##<><>_\\#{}.}..## #}
+rest_on_space,!verbose,menustyle:traditional
+Debug-Mode Quick Reference:
+
+^C  ==  increase AC
+^E  ==  detect secret doors and traps.
+^F  ==  do magic mapping.
+^G  ==  create monster.
+^I  ==  identify items in pack.
+^J  ==  go up an experience level
+^N  ==  toggle invulnerability
+^O  ==  tell locations of special levels.
+^T  ==  do intra-level teleport.
+^V  ==  do trans-level teleport.
+^W  ==  make wish.
+^X  ==  show attributes including intrinsic attributes.
+
+#levelchange == change experience level
+#lightsources == show mobile light sources
+#monpolycontrol == control monster polymorphs
+#panic == panic test
+#polyself == polymorph self
+#seenv == show seen vectors
+#stats == show memory statistics
+#timeout == look at timeout queue
+#vision == show vision array
+#wmode == show wall modes
+
+Read Your Fortune
+  For 50 zorkmids, the gypsy will draw a random card.  If your
+  card is a suited card, you get a special fortune.  Trump cards
+  each have specific effects, good or bad.
+
+  There is no skill involved with this service; however, the
+  most useful effects have an extra cost that can be only paid
+  by credit.  For this reason, you may want to play the other
+  games first to win enough credit for a good outcome.
+
+
+Three-Card Monte
+  "Let me show you the easiest game to win.  I've got these three
+  cards: the ace of swords, two of swords, and three of swords.
+  Watch me shuffle them in front of you.  Are you looking carefully?
+  Good.  Now can you tell me which one is the ace?  That's right!
+  Wasn't that easy?  Would you like to win some credit?  Just
+  place a bet, and if you can pick the ace again, I'll pay your
+  bet."
+
+  Actually, it doesn't matter how carefully you watch the gypsy --
+  by using slight of hand, she can control whether you win or lose.
+  Your chances of winning may increase or decrease as you continue
+  to play the game, depending upon whether the gypsy thinks you are
+  "hooked" on the game.
+
+
+Ninety-Nine
+  After placing a bet, you and the gypsy are each dealt three cards.
+  You alternate turns with the gypsy in which you must play one card
+  from your hand, adjust a total depending on the card you played,
+  and then draw a new card.  The object of the game is to force your
+  opponent to play a card that makes the total less than zero or more
+  than niney-nine.  The effects of the cards upon the total are as
+  follows:
+    Ace           Adds 1 to the total.
+    2 through 10  Adds the card's value to the total.
+    Jack, Queen   Subtracts 10 from the total.
+    King          Raises the total to 99.  Always safe to play.
+    Fool          Raises the total to 100.  Always loses.
+    Other trumps  No change to the total.  Always safe to play.
+  You are the first to play.  If there are no more cards left to draw
+  from, you win.
+
+
+Yendorian Tarocchi
+  This game is still under construction, and will be released in
+  a future version.
+
+  Tarot cards originated for the purpose of playing Tarocchi, an
+  Italian trick-based card game.  (Their use in fortunetelling
+  and the occult began much later.)  Tarocchi has been adapted
+  and renamed by other cultures: Tarot (France), Tarok (Danish),
+  Troccas (Switzerland), and so on.
+
+
+Pawn Gems
+  You can sell valuable gems to gypsies for credit.
+
+
+About the Cards
+Our deck of playing cards is derived from several different European
+card systems.  The Italian card system is the oldest, believed to be
+imported from India, Persia, or Arabia circa 1370.  (Note that although
+playing cards were invented in China, scholarly evidence indicates
+that they had no direct influence on European cards.  Also, cards did
+not appear in Europe until long after Marco Polo or the Crusades, so
+it is unlikely that they were introduced by these travellers.)  Tarot
+cards were invented during the 15th century for the purpose of playing
+trick-taking card games.  They were not associated with Gypsies or the
+occult until the 18th century.  Finally, there is the French card system,
+which has been widely adopted by the English-speaking world.
+
+The deck can be divided into two parts.  There are 52 "suited" cards
+that are very similar to the familiar French system (4 suits with 13 ranks);
+in a Tarot deck, these are called the "minor arcana".  The other part
+of the deck are the "trump" cards, which are called the "major arcana" in
+a Tarot deck.
+
+Our suits are named "swords", "wands", "shields", and "rings".  These
+are assigned by matching the Tarot suits to their closest equivalent
+NetHack object.  Interestingly, there are two "offensive" suits (swords,
+wands), two "defensive" suits (shields, rings), two "ordinary" suits
+(swords, shields), and two "magical" suits (wands, rings).
+
+
+                    NETHACK GENERAL PUBLIC LICENSE
+                    (Copyright 1989 M. Stephenson)
+
+               (Based on the BISON general public license,
+                   copyright 1988 Richard M. Stallman)
+
+ Everyone is permitted to copy and distribute verbatim copies of this
+ license, but changing it is not allowed.  You can also use this wording to
+ make the terms for other programs.
+
+  The license agreements of most software companies keep you at the mercy of
+those companies.  By contrast, our general public license is intended to give
+everyone the right to share NetHack.  To make sure that you get the rights we
+want you to have, we need to make restrictions that forbid anyone to deny you
+these rights or to ask you to surrender the rights.  Hence this license
+agreement.
+
+  Specifically, we want to make sure that you have the right to give away
+copies of NetHack, that you receive source code or else can get it if you
+want it, that you can change NetHack or use pieces of it in new free
+programs, and that you know you can do these things.
+
+  To make sure that everyone has such rights, we have to forbid you to
+deprive anyone else of these rights.  For example, if you distribute copies
+of NetHack, you must give the recipients all the rights that you have.  You
+must make sure that they, too, receive or can get the source code.  And you
+must tell them their rights.
+
+  Also, for our own protection, we must make certain that everyone finds out
+that there is no warranty for NetHack.  If NetHack is modified by someone
+else and passed on, we want its recipients to know that what they have is
+not what we distributed.
+
+  Therefore we (Mike Stephenson and other holders of NetHack copyrights) make
+the following terms which say what you must do to be allowed to distribute or
+change NetHack.
+
+
+                        COPYING POLICIES
+
+  1. You may copy and distribute verbatim copies of NetHack source code as
+you receive it, in any medium, provided that you keep intact the notices on
+all files that refer to copyrights, to this License Agreement, and to the
+absence of any warranty; and give any other recipients of the NetHack
+program a copy of this License Agreement along with the program.
+
+  2. You may modify your copy or copies of NetHack or any portion of it, and
+copy and distribute such modifications under the terms of Paragraph 1 above
+(including distributing this License Agreement), provided that you also do the
+following:
+
+    a) cause the modified files to carry prominent notices stating that you
+    changed the files and the date of any change; and
+
+    b) cause the whole of any work that you distribute or publish, that in
+    whole or in part contains or is a derivative of NetHack or any part
+    thereof, to be licensed at no charge to all third parties on terms
+    identical to those contained in this License Agreement (except that you
+    may choose to grant more extensive warranty protection to some or all
+    third parties, at your option)
+
+    c) You may charge a distribution fee for the physical act of
+    transferring a copy, and you may at your option offer warranty protection
+    in exchange for a fee.
+
+  3. You may copy and distribute NetHack (or a portion or derivative of it,
+under Paragraph 2) in object code or executable form under the terms of
+Paragraphs 1 and 2 above provided that you also do one of the following:
+
+    a) accompany it with the complete machine-readable source code, which
+    must be distributed under the terms of Paragraphs 1 and 2 above; or,
+
+    b) accompany it with full information as to how to obtain the complete
+    machine-readable source code from an appropriate archive site.  (This
+    alternative is allowed only for noncommercial distribution.)
+
+For these purposes, complete source code means either the full source
+distribution as originally released over Usenet or updated copies of the
+files in this distribution used to create the object code or executable.
+
+  4. You may not copy, sublicense, distribute or transfer NetHack except as
+expressly provided under this License Agreement.  Any attempt otherwise to
+copy, sublicense, distribute or transfer NetHack is void and your rights to
+use the program under this License agreement shall be automatically
+terminated.  However, parties who have received computer software programs
+from you with this License Agreement will not have their licenses terminated
+so long as such parties remain in full compliance.
+
+
+Stated plainly:  You are permitted to modify NetHack, or otherwise use parts
+of NetHack, provided that you comply with the conditions specified above;
+in particular, your modified NetHack or program containing parts of NetHack
+must remain freely available as provided in this License Agreement.  In
+other words, go ahead and share NetHack, but don't try to stop anyone else
+from sharing it farther.
Binary files slashem-0.0.7E7F3\dat\nhushare and SlashTNG-master\dat\nhushare differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\oracles SlashTNG-master\dat\oracles
--- slashem-0.0.7E7F3\dat\oracles	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\oracles	Thu Jan 05 19:05:12 2017
@@ -0,0 +1,149 @@
+#	This data file is generated by 'makedefs'.  Do not edit. 
+   22
+000d0
+0026e
+00338
+003c5
+00500
+005fe
+006b5
+00797
+00863
+009a1
+00a6e
+00b72
+00c82
+00da1
+00ea2
+00f9c
+0107c
+01284
+01425
+01629
+016b8
+017cd
+019cf
+---
+#,*&yu"m{0scp`us"`acbmjkusvmfw!vk(rd"gg~gpkfddf$yuj$|xd
+gmhdvkjo0ujagbdo$nbno$SR`iaz<!Emd|-"eft!Qkdwc}$00;3=M/
+
+Ujagbdo$?>0:$(Digvm0dzm{d!pakesqm~u!nefwtccmc!C$i~e"F(ctal(dicp
+!",99!"T Q("950OR,I9-"eft
+!",:9!"T R("%50OR,J9
+
+Ujm{0qpk~yegw(ylrvmcrkrm0dtmluoaa(dicp(dig$|ubjjaatgw(dicp(qsg
+bwvzuovhq0`tea|``hm0vkhd0omp(ctdbasd"bgb!rvgfhlc(dicp(@!#9(^Q"kz0!"$(0!"$(
+uje|0Q"950OR**0!YCibd{$i~e"Ngxoqkf<!r*(!97*U
+---
+Hd$|xx"si~e"lidi"v}~!mq|0nd$kx`pcmc-"p`t"iiirv$rqq"m|0`eea~!cjl0`eea~:"p`tel
+ocqoxu"sa|m"li`qgj(qu"babrv((fdpmdi-"p`i!razchqpm~bg${x`nh(rd"vmg`p`mt-"e{
+nla(|`qp(sicvou!oeq0xgp(rd"szurval0gpke0hv%
+---
+Ujk}wi"p`u!qlg`jgaxusq$ju!uezi-"p`ydta{0icrm0ogrmbujadurq${dnnaf0lwg`0c{$}chlc
+ujaab!fmowhlc(g`l`{0um$`qrvaf0dzm|c!vlztel(dig$xqwgim~u,
+---
+Hd$|xnw$`qrv$`qe"pzt`hm0vkp`0sww|0nl$|xhla(qsokz0np$u`rkfc-"p`t"w`tn`{d
+jlk0uje|0ujk}0bcj{d!rvmfdlp(dikw(rx.$xhna(yo"e(snlb}cdf${d`va$0sgelyoe$|xd
+lccas`n$xqsaleuovw(gikg`0omveqmn}(qsg$}cdf$|!ae}cd"p`uhp$m~bjefdlgj|>
+Tlc}uovw(g"h}rskgidhmj(}`{$xbntmlu!qmeymcv(`smpmsukkf<!chjuhv$gv!c
+upefchvkzi!le|esg*
+---
+Cglg|e"p`u!akk{`vvasd.$xnqa(thomfeukrm0rve|esg$jumka{0hvw(xhf`m~!omoxu,$(Dig
+bmgcqupmku!aef0qgpzyg{$i~x"kzthlezi!`aa~f"m|0bmj|qbvw%=rcrm0ujk{u!um{u
+`frm~uwvmbr"s`!ge|0`"`mqe"haj`p`(s"fdc"kn0`aml0vjaf0ujaq0ggad0ujaecdnrmc
+rnk|x"p}bokjo0um${dnla&
+---
+Vjmdu!qkeu!ueqv`pazc!padi!mj(cbpk}~fkjo0gkjacig`(qsok}b!kj(dig$leoeag~-"p`u
+sgwgesaanem"ofv"p`u!o}{dhaed0lgefc!`}(gikg`0lcmd0lc}(rd"bicikkfue"k}d!mb
+raedur"bzl"e(tsccg~&q$`yeg*
+---
+Hv$ac!aq{dnoezym{$c~nuj(qlmjo0upe~umgv{0uje|0dzpzq,jai|hlc(tscqoxuq$eqx"gdu`p
+uj}(cdlwmc!ulm~!vlge!cv|0`f`due"fq0egh}cnp}(fhqmg~r,$(Rtv$fuwgv(vnpcmd-"p`u
+mmsdi!rk|ynl$xhal(}`ia{0nla(chao(}`{$ju!wwmt!dkz0uja(c`oa(`tptgcd,
+---
+Vjmdu!vlm0bmj{elrpao"kn0mk~ibe"bdurj$gb!ue|us"fm|ntal0nd$|xd"cgtr"iii!ahmqs
+uja(}tf`due"lmqe.$|xd"ex`mkgidhmj(g"p`u!jkz~!mb(q!avmquwvm0nd$}dlmw|0qwvadx
+bcj(qmna~y`va(}`l}(ujaz0`dbdybvmg~r"e{0vghd>
+---
+Hd$|xnw$tn`{d!vvifdn$yehaodi!`a|gdgj(thqpi~u"hgs`vmg~r.$|xnw$eerv$ju
+``hm0um$kovvg|!vlq0ughm`npp{<!cjl0hl$i0bmjnerg`(cucpm0lkwzu`f$|xd"wkbnnh
+vjmkx!ww}qmn}(ddnaxsvw(di{wm|g"hgs`nhq>!"@ibhlc(qetafdtpazc!je~u!ch{
+qgvnsoal0uja(c`oa(vdcp(c`lw(~dg`(vnp${ssmhdc!mv(`nvmg~r"fq0rvax`hlc(yovk
+`"tibukg}|`p$i}cwwkqeg*
+---
+@nigcu"ed|!c`~uovqzusq$xn"gg}d"p`yr"sii!jkxu!vk(``qw(dig$lbdc`(]dfq{q/"$\
+em$|xhq((dig$jurv$itwkgm0hq$|!iam`!vla~d"aqur"fdyofbg|eg`(qof$|!ae}cd"p`u
+bpaidtpa(dn"a{`x"m|c!msf0sgbdubvmg~!kj(q!omzbnp*
+---
+@l`(gigvm0hv$ac!uvadugj(2`f$iuscvael ((thnmouov${u`pg`yoe$ymn$gvugj(bdtai|
+uja(g`{$|!c$|b`r$xhal(cdl`{0nla(dn"p`u!Oeoyb"Im}np}(F`wh|<!ulmbd"p`u!pmkxdq
+nd$Kbngw}c!cvm0rvkzue9$`vgrmb-"a{s`rmfw!dvg}!vlm0wcqdd!um|x!kp{0fmhl0hq$eebj
+icvlus"p`qo"cmdukjo0hl*
+---
+Hv$ac!uad|!ijggo"p`qu"sa|x"w`qiam`dpw(b`kwm0ujaab!rvasdq$xdla/us"p`ux
+dqtq0uja(w`pm{x!ctxqsgh(g"p`u!ctxbncg`yoe$|tpm{d!mv(dig$ktlpm~`lgm0nd$i
+ekwnqwmvmt!re|bnl*(0Ujaq0gcrgb!vlm0fgj||d"kn0lcjfus"eft!vlm0gcmz0nd$nqbg*
+Uja(rnmv(}`{$mhqgg|0tltzgkpirmg$|b`lwisukkfc/
+---
+Uja(smkg`u!mb(dig$cyualm~!qmf{!qsi|mmsa~f"efi!wjnsvqfqug$zyoew(dicp(snlpisu
+hvw(`dpjashmq{0rwvnqbg$zugnakddvl(wsge|us"pzeuj$|x`l$eqo{$`lkhaur.$quu
+dtaf0rm((vdu$`qwg$luwghg`df$|xd"wcymn$|!k`m~ukbq0dlg`qoval0skjoc!`}(dig
+upefcgkc}b`vmg~r"anvdapmt!wtg~!vlm0wmvishmq{0egrasd%w(vscim>
+---
+Uja(}dcp(g"afsicj|ue"gzu`vqzur"kndukimc!akffd{a|x!oeoybch(`smtmbuka{
+tlpg0uja(snlw}}dp*(0@"bzurj$ksrwm0nd$n|ncpa~f"aqu!fk|x!da|si"e(xhel
+qpmku!cig~f"saj`p`{0gmv(yuq$}dhnm|i!kj(snlbmbskjo0Ughm``vlq<!`}(gikg`
+uja(chel||dqw(}`{$dbcpm0rwvztl`a~f"ia~eq*
+---
+Uja(tdvakdhmj(g"fdurqmfwr"eft!aqzcdq$ac!kj(dig$llcmf0nd$|xd"cgtr,$(Dig}(ghnh
+lcom0ujm{0hlbgblcpao"e~qhnej|d"pg0lmv|qmq$xn"vmatgw|0hv$id!vlmys"tdqbgw(g
+vmv{xhr((s"adcdulmbd"bgb!vlgcd"igbuch{0vjk(tdtk|u!vlm}rgh~ur"pg0uja(cdprasd
+nd$|xd"cgtr,
+---
+@v$|ylgw$0uja(wnfw(}`{$nqwmv(gnpp`i!qqx`mkgi~uq$yuj$fqlg`(rmc`mc!ulgcd
+qmsmbr"akxn"p`bnwc`tv$dufgjl>!"Hmqslal0vc}nqsgv{0bcj(bdrvgttaa(rmc`mc!mb
+dnrm~!nmfu`ea$0icpmt!mb(dig$gbbq((ghvlgeu"p`u!lamt!dkz0rwg`0hlpmbwgj|ynl*
+---
+Ujazu!cvm0lcjq0rvkzydq$gv!c$eyfjpq0`oqduu.$|xd"kzyfkj{0nd$xhal(qsg${qhf
+um$ju!cjkydlp(Idl`gb/"$\xhq$i}tna|0emp`0icrm0`ua{lg$xvgv$0`l`(dig$oeq
+egwabd"m|0fpaidm{*(0Lmv|qmq$eqxqp(d`r$g~m{$xsvmg~r"kn0hvw(ddpvarmg
+``mdyuka{>!"P`u!qpgbhgw(ddnh(g"igbuch{0rgaa~f"s`qu"p`uhp$midq$kqolk|
+rga(qof${udimfw!rhisdq$gv!oeoybch(dscj{`nppidhmj$0vjmdu!je~yoe$|xhq
+`oqduu"mf0ujaab!rk{cdqwao,$(_ujazc!qeq0`"igbuch(}tqp(gdcv(dig$i}tna|0um
+n`piyo"p`urg$xvgv{>!"F}d!tazym{((ctal(`nuaz0bmimc!cp(wsge|0bmw|<!vk
+qpa{usta(dig$jqmcjku/
+---
+Hv$ac!qeat!vlid!vlge!oeqcu"ciyo"afds{$|!Okdbj#{0rcjkdtcvq<!kb(dimq
+ecvmcu.$nbno$i0qneku!ulmbd"p`u!evgeof$~ycpe|uuj$a~!vlm0egaxurv$luqvl{0nd
+Fglm~omi&0!Vlge!lamtr"i}cu"lifd"p`u!cml0nd$|xsga(}`emkqm"m|ulq*(0Uja
+qwvm0rmqft!mb(q!qmdfdp$jumn${x`nh(qolk}~bg$|xdg*(0Uja(ddpvarmg$zeogw$
+sgel0gpke0Lmhgsi%w(rnmo$0rjed|!ae}cd"p`u!gezdi"pg0upaermg$eyfjpa|x,$(Dig
+mkc`d!mb(qo"afsicj|ue"gi~eghirswi(cichd0rjk0ujam0uja(g`{*
+---
+Hl$|xd"`muqgw|0sggmcrgw(g"p`u!Fqfwdmj{0nd$Lno((wtcvlyoe$isbgw{0um$|xd
+ogp`us"vmwhmj{<!vlmbd"w|qofa|x!c$kqrvhm<!ulmbdkj(|hgp`0`"si~e"kn0vkw`ur,
+Hd$|xnw$tn`{d!eea~!gj|bx.$ju`p$yuj$|xdg$i~!kj{dswim~u"kn0lwwas-"bgb!vlm
+qmj||dtm{0lc}(rd"g`qsoal0emsf0vkp`0uja(`smtmb!oade{*(0Vje|0ompmc!ake`skwm
+hv$g~m{$|xd"cgtr"ofv.$jeu"e(}tqmkqm"iicugveyof$eqx"}md!qqksdg`(rx"sadgwh
+hotzwkwidhmj&0!Jkuwgv$0uja(|dqw(`dpwxybcgatq$ibd"jgd!um|xnwp(bdak}brg(
+rjk}|e"p`ux"fm0qpaxqsg`(dn"gabbwii}cwhidd"p`u!ae{dmg$|!vlm0qmw|usl*
+---
+Trkf0`"hmfdn$jugmvm0`nh(}`xa
+Ujazu!nmmc!c$lcj(gim$cymnw(ghvl(w`xa&
+Rjk}|e"w`u!`a({hnhmt-"jgd!ra|bhdmmt-
+Xmq(ghnh(bdaaafd"e(}`emkqm"vatd,
+---
+Uja(~`oa(g"Adrdpa|x!oeq0rvva{d"bmqs"mfdn"p`u!jaibuq$gv!vla~d"afulka{<!kb
+ujk}0emw|0vpm|u!kp(eqmj(dig$obnwjl0`v$|xx"bmuu,$(Yg"p`t"iiyovea~dqp(dig
+tvigcu"gi|l.$|xx"wivdv}(ghnh(rd"eatdf$obdcpdi-"f}d!`aqsg$durv$|xx"gdelq}
+gga|0raqnv!vlm0hlwkbhrpao.$kqoaad|hlc(yuq$xugjku/
+---
+Hv$ac!qeat!vlid-"mn0ujk}0icw|0lcjiwdf$|!cgklrhaci"p`u!evmqu"u}urv$|xnw
+rgp(tv$|-"eft!je{d!ek|ddl$|xd"Eeemgp(}`lqnqbvqzue"fq0Lcvlej"mf0uja
+cgca~okjo0nd$\ylg((di{$qx"m{0uja(g`{$}`/"P`t"sa|mqp(digj(v`aa(vnwv
+qnefur.$jugmvm0ik`luo"mf0uja(}hqp{0nd$|ylg((tdfmkqug`(dn"p`u!dk}b
+dnaeuovw(dig$sn`(snlwacuq$gv/"Mn<!`}(wsge|0qmsmb!cjl0cpe~us{$g~!vlq
+qcv|<!vlge!oefqfgw|0um${estm~u!vlm}-"p`t"sa|mqp(bdcg`0uja(Xhel(Ddotdur
+nd$|xd"Edyflal0Fm`{>!Kp(yr"qx0um$|xdg$|xdl$|!pa|esl$|!vlm0fm`{
+vje|0cghg~fq$|!vlm0fm`{>
+---
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\oracles.txt SlashTNG-master\dat\oracles.txt
--- slashem-0.0.7E7F3\dat\oracles.txt	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\dat\oracles.txt	Sat Dec 24 12:07:27 2016
@@ -102,3 +102,12 @@
 utmost calm, thy safety will be aided greatly, but beware lest thy clumsy
 feet scuff the inscription, cancelling its potence.
 -----
+It is said that, if thou hast managed to accomplish the great quest thou
+set out to, and hast gotten the Amulet manufactured by Marduk in the
+beginning of Time, thy way is the way up. Thou willst then face four
+planes, before hidden in the mists of time, dedicated to the four
+elements the world consists of. If, by great power and bravery on thy
+part, thou managest to survive them, thou willst reach the High Temples
+of the Aligned Gods. It is up to thee then to return to the gods
+what belongs to the gods.
+-----
Binary files slashem-0.0.7E7F3\dat\quest.dat and SlashTNG-master\dat\quest.dat differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\quest.txt SlashTNG-master\dat\quest.txt
--- slashem-0.0.7E7F3\dat\quest.txt	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\dat\quest.txt	Sun Jan 01 21:21:06 2017
@@ -1067,6 +1067,279 @@
 "This is all I know, %p.  I hope it will help you."
 %E
 #
+#	Geek
+#
+%Cc Gee 00001
+You now enter what is pretty known to you - it is the location of
+the Holy Development Team, which in a year-long effort developed
+the computer game "NetHack". 
+
+With a sudden feeling of melancholy you remember the patches you
+yourself wrote and contributed to that game. You truly believe
+that this game is the best of all games known to mankind.
+
+However -- something has changed. At first you cannot tell what,
+but then you notice. Everywhere there are hostile monsters like
+the ones you used to program in NetHack, but, now in reality.
+
+What the heck is going on here?!
+%E
+%Cp Gee 00002
+Once again you approach %H.
+%E
+%Cp Gee 00003
+As you again approach %H you fear it might be the last time you see this place.
+%E
+%Cp Gee 00005
+"Written any patches lately?"
+%E
+%Cp Gee 00006
+"Do _you_ know what erf(3M) does?"
+%E
+%Cc Gee 00007
+"How do you like this implementation of the Ravenous Bugblatter of Traal"
+You reply, "Be careful not to get sued for copyright infringement!"
+%E
+%Cp Gee 00008
+:-)
+%E
+%Cp Gee 00009
+"May the force be with you!"
+%E
+%Cp Gee 00010
+"Looking good, %p!"
+%E
+%Cp Gee 00011
+"Eureka! Oh, sorry, just practising..."
+%E
+%Cp Gee 00012
+"As I expected. Oh, wait a minute... that's not what I expected!"
+%E
+%Cp Gee 00013
+"It appears our defenses against %n have completely failed..."
+%E
+%Cp Gee 00014
+"Well, there goes the neighborhood. Next we'll be seeing Space Balls."
+%E
+%Cc Gee 00015
+"It is a pleasure to see you again, %p.
+
+Horrible things have happened since our last meeting and I really need
+a brave %R to clean up things for once and all.
+
+Let me see whether you are really able to cope with the task ... "
+%E
+%Cp Gee 00016
+"Please stand still while I finger(1) your state ..."
+%E
+%Cp Gee 00017
+$ finger %p
+%E
+%Cc Gee 00018
+"This was too much. You'll never attain the state of Hackishness.
+Now begone!"
+%E
+%Cc Gee 00019
+"I see you fighting %n and finally being done in by him, who we call
+The Dark Lord Of Software.
+No, I can't let you go like this, I really can't see a chance of a 
+%r fighting against Him. 
+I can only ask you to train some more until you have achieved the
+%R's state of ability."
+%E
+%Cc Gee 00020
+"Foo!
+You have strayed from the path of %d!
+Trying to destroy %n in this state of mind would mean the sure death
+of your hackish soul!
+Purify yourself, until you're again piously aligned with Our God,
+and then come again and I will admit you."
+%E
+%Cc Gee 00021
+"I now see that you are truly worthy to fight %n, my %s.
+
+Half a year ago, a young programmer, known to everybody as %n, came
+to me to get a hackish education. I was suspicious from the first
+moment on, but I admitted him for testing and let him stay.
+
+Several days later, upon waking up, I found %o to be missing.
+%n was away as well.
+
+You are my last hope. If you fail to regain %o, NetHack development
+is doomed to stop forever!"
+%E
+%Cp Gee 00025
+"May %d protect you!"
+%E
+%Cp Gee 00026
+"Remember, He is completely evil, yet not invulnerable!"
+%E
+%Cp Gee 00027
+:-)
+%E
+%Cp Gee 00028
+"I know you can do it!"
+%E
+%Cp Gee 00029
+"Our fate is up to you now."
+%E
+%Cp Gee 00030
+"A level being seemingly harmless may prove to be fatal by monsters
+suddenly transforming one into another"
+%E
+%Cp Gee 00031
+"It is rumoured that %n filled His lair with deadly traps."
+%E
+%Cp Gee 00032
+"Do you know what 'memalezu' means?"
+%E
+%Cp Gee 00033
+"They say that you can escape the dungeon by teleporting to level 0."
+%E
+%Cp Gee 00034
+"Nobody here has an idea what to use a silver bell for."
+%E
+%Cp Gee 00035
+You have a sure feeling that you will soon find the entrace to the %i.
+You *know* you can do it!
+%E
+%Cp Gee 00036
+Once again you enter this place and once again you are sure you will succeed.
+%E
+%Cp Gee 00040
+You now almost smell %o.
+%E
+%Cp Gee 00041
+Once again you sense %o.
+%E
+%Cp Gee 00050
+You will never retrieve %o!
+%E
+%Cp Gee 00051
+You're doomed! You will end your life as a litte programmer slave earning
+$1000 ... per year! ... before taxes!
+%E
+%Cp Gee 00052
+You will never succeed! You could give up now as well!
+%E
+%Cp Gee 00053
+I will now get %o back from you and then I will make you the MS-DOS
+Project Manager. This will be enough torture for you!
+%E
+%Cp Gee 00060
+FORMAT C: /V /S
+%E
+%Cp Gee 00061
+You will die now, as sure as if you quaffed a potion of cyanide!
+%E
+%Cp Gee 00062
+I think I'll be generous. I will let you have a little fun with my
+pet succubus before you die ...
+%E
+%Cc Gee 00063
+"Perhaps you should consider the following qoute from Terry Pratchett:
+
+	"But I don't know how to use a sword!"
+
+	"Put the blunt end in your hand and the sharp end in the enemy!"
+
+	"There must be more to it than that!"
+
+	"Remember which end is which."
+%E
+%Cp Gee 00064
+"What? You said 'Microsloth'? Then die, bastard!"
+%E
+%Cp Gee 00065
+"I will soon format your body, mind and soul!"
+%E
+%Cp Gee 00066
+"I've got an idea: we can greatly speed this up (and save much pain
+for you). You just have to take your sword and push it into your
+stomach. Or, if you prefer, take a COBOL programming course."
+%E
+%Cp Gee 00067
+"Don't worry, your pains will soon be over!"
+%E
+%Cp Gee 00068
+"I'm wondering all the time why somebody like you does something like this.
+Does pain excite you or what? Well, I have a *great* sortiment of whips handy!"
+%E
+%Cp Gee 00069
+"Nobody will ever need more than 640 KB of RAM."
+%E
+%Cc Gee 00070
+You feel the power of %o flow through your body. Although you know
+you have to return it to %l, you now feel like you could continue
+developing NetHack on your own now.
+%E
+%Cp Gee 00080
+You see %n lying dead in a puddle of blood. Not a second do you 
+regret what you've done.
+%E
+%Cc Gee 00081
+"You've finally got %o back! I am very grateful for what you've done.
+
+Yet, I am an old man and I will not long more be able to supervise
+NetHack. Therefore I pass the duty on to your young and responsible
+hands. Take the sources and expand them at your leisure, but be
+careful to maintain game balance.
+
+My ultimate secret is: Nothing is true. Everything is allowed."
+%E
+%Cc Gee 00082
+"Yes, %o are really yours now. Use them wisely.
+
+And remember: Nothing is true. Everything is allowed.
+Be careful to maintain game balance."
+%E
+%Cp Gee 00090
+Latest news regarding the Amulet Of Yendor?
+%E
+%Cc Gee 00091
+"Now I see you with the Amulet Of Yendor shining brightly in your
+pack. Honestly, I didn't believe you'd (or anyone else, for that
+matter) would manage to tear it from the hands of Moloch.
+
+Your way is up now, back to the first level of the Dungeon, and
+beyond there. You now must leave the dungeon as you've entered
+it.
+
+Then you will get to four planes, dedicated to the four arcane elements
+of earth, air, fire and water. If thou successfully pass all these,
+you will eventually reach the stars (or astra, as the Greek called
+them). This is where the sacred High Temples of the aligned gods
+are located. 
+
+Return the amulet to %d at His altar, and you will be richly rewarded."
+%E
+%Cc Gee 00095
+"You have betrayed all those who hold allegiance to %d, as you once did.
+My allegiance to %d holds fast and I cannot condone or accept what you 
+have done.
+
+Leave this place.  You shall never set foot at %H again.
+That which you seek is now lost forever, for without the Bell of Opening, 
+you will never be able to enter the place where he who has the Amulet 
+resides.
+
+Go now!  You are banished from this place.
+%E
+
+%Cp Gee 00100
+You receive a faint telepathic message from %l:
+Your help is urgently needed at %H!
+Look for a ...ic transporter.
+You couldn't quite make out that last message.
+%E
+%Cp Gee 00101
+You again sense %l pleading for help.
+%E
+%Cp Gee 00102
+"The silver bell which was hoarded by %n will be
+essential in locating the Amulet of Yendor."
+%E
+#
 #       Healer
 #
 %Cc Hea 00001
@@ -4974,6 +5247,8 @@
  %N:    return("neutral");
  %L:    return("lawful");
  %x:    return((Blind) ? "sense" : "see");
+ %m:	return((pl_character[0] == 'E') ? "Eru Iluvatar" : ((pl_character[0] == 'G') ? "team of Babbage, Turing and Zuse" : "Marduk"));
+ %M:	return((pl_character[0] == 'G') ? "Them" : "Him");
  %Z:	return("The Dungeons of Doom");
  %%:    return(percent_sign);
  a suffix:      return an(root);
@@ -4985,3 +5260,27 @@
  S suffix:      return s_suffix(capitalized(root));
  t suffix:      return strip_the_prefix(root);
 %E
+%Cc - 09999
+You read the following text in the Nethack sources ...
+
+boolean
+revive_nasty(x, y, msg)
+int x,y;
+const char *msg;
+{
+    register struct obj *otmp, *otmp2;
+    struct monst *mtmp;
+    coord cc;
+    boolean revived = FALSE;
+
+    /* prevent freeobj() of revivable corpses */
+    for(otmp = level.objects[x][y]; otmp; otmp = otmp2) {
+	otmp2 = otmp->nexthere;
+	if (otmp->otyp == CORPSE &&
+	    (is_rider(&mons[otmp->corpsenm]) ||
+	     otmp->corpsenm == PM_WIZARD_OF_YENDOR)) {
+	    /* move any living monster already at that location */
+	    if((mtmp = m_at(x,y)) && enexto(&cc, x, y, mtmp->data))
+
+... and so on
+%E
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\rumors SlashTNG-master\dat\rumors
--- slashem-0.0.7E7F3\dat\rumors	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\rumors	Thu Jan 05 19:05:12 2017
@@ -0,0 +1,798 @@
+#	This data file is generated by 'makedefs'.  Do not edit. 
+005546
+@"firdnbaci"iawiv$zulkjl0xmq(g"e(gscm|x/
+@"fdyofbg|e"gi~!`a(fdp}(ergb}|!kb(inw#zu!vaduqcp`yb,
+@"gi~eghirswi(qgdmpue"sadi"wmfdl$kqofhmc!qlggr"p`u!ueq0vkp`0`"iiwhaed0mkc`d/
+@"gzirved0qne|u!oea|!umd|!lk|0sww|>
+@"oid`le(}hel|0rnmku!c$so$a~!vsg>
+@"havd"wifdp$ac!lk|0uja(vsgw`0lcomb/
+@"iiwha$~lkp(`tot(snwhl0cg$}cddqd0gmv(wnwveqofw&
+@"jq}qj$c~nuw(xnu$|!wjdbi$kx`kj{>
+@"tgdhmj(g"fdyofjmcr"hmdr"}ge!qam0hlrach`hm0ujmfwr,
+@"tzydqp(s`l$ouu"p`u!eklc!vk(|hqpm~!ge{ym{*
+@"tzydqpmcr"eft!c$~ysemf0xmq(}hel|0cg((rtv$|x`v$}~hakz~!ukf7u"gibd,
+@"Vifdlk}c!@qormcp|us"Fmqrv$Gv!Vviqm"wmulq$|!`a(snlgmbog`(qcmq|0xmqz0mkbm>
+@"va~f"kn0bmjn|hap(yr"e(r`f$|xhlc(yg"p`usg$ac!c$fesqa(yo"p`u!pkg}/
+@"w`sv${gnp`(yr"jgd!cw(wnm`(qr"e(|nlc(cvmvl>
+@"w}sbwf}c!umd|!ek(v`pp`us"p`qo"e(~xot`>
+@"si~e"gi~!g|gbbk~m0`"ticu"ap`mmvmb&q$oxnqp&
+@aml0cnkjc!qlgemf$ju!cp|qbial0ccvm=icjlue,
+@dbiysq$yuj$filrl{0`pa(gvaf0wgvq0dztm~rkrm>
+@dviye"kn0o{ixxr=$(Gdcv(q!pmfw!mb(qemvf}dlp&
+@dviye"kn0xmqz0wch}qcna{0cgmfw!qpg|dl;(0Bcvzi!okzu!hqf{ 
+@nsiir"fm0`uezu!mb(dig$xx`qa(g"p`u!okg~ 
+@nsiir"wudr$|xd"bdnp$jugmvm0dlczqwkjo0hotgbucj|0lgw{qfgw&
+@oqduuq$gv![aftnp$ibd"libe"pg0lcom>!"A~uo"bgb!c$qof$gv!um{xhlc&
+@l$ibbj)dybj$aco%p(dig$sqp({hl`(g"hasi,*&
+@l$m|wgj(smmec0qpk|ubvw(qfcmfcu"iiwha*
+@l$}}cgv(xtno(s`l$ju!c$kodq{yoe${yfjp&
+@q$Kbno$ac!o}(ghvjmcr.$A7mn$fuwgv(wn"l}~fp}(qfcmf1
+@qoa~f"ejtv$eoqpmbr"iii!`a(fdp}(ergb}|/
+@vpisj"hg~f"sgblq$nbno$|xd"vmqs")%0uje|0hq${!oqkx!qenus#
+@vpisjkjo0`l$mum"s`usg$|xdpa(yr"jg~d"m{0tqqi|m{$i0gcpi|!om{d`ia)
+Ccjlqfkjo0vmqftr"lm|qq$cudr$}`!ctxu`pefsdq*
+Ccw`yoe$eoqpmbr"sadi"e(rnu$ac!lk|0rwg`0`"cge"mlu`,
+Cg$kqsgb}| "$\xd"Saj`p`(}`{$x|`l$i~!cijerj%
+Cg$fybg$|!c$fesqa20!Rq|0`ueq0xmqz0vgexo"eft!vecu!mbn0xmqz0bnk|xdq*
+Cgmfw!fmourval0hq$i0qcmfvtnhq0rnk0qpkkurq*
+Cnef{!qgzmnw(}`ia(}npa(yovazurvmfw!paithlc&
+Cnmft>"$Kqual(q!dhgqukjo0d{a)
+Cmkccdnhmbr"jmfdp$zu`f${ssmhdc:"p`ux"iawiv$ouu"gibskal0`ueq>
+Bmjkyrg$kosqmcu8$(Snlpzm.$kodq{u-"gg~kwvm<!akftdoj&
+Bmj{usta(uogvoi-"p}bo"knv!vlm0mkc`dr,
+Ekcoyoe$}`!c$ob`ta(snwhl0cg$i0cc`(yege&
+Ekhadikqe0bp}{d`nw(qsg$zqsg$a~egal>
+Emc{0`pa(quvvisug`(rx"p`u!qim|m"kn0upmxu/
+Emc{0`pa(ctrazcukpatq?(dig}(~dtaz0rvax0nl$kesqal0hvaec/
+Emc{0nd$oxnqp{0`paf7u"efws{((ztqp(xtlczi/
+Emj/d!`k|xdp$irnwp(}nlaq*!"kf|x"hm`sgg`qtlw(qof${xnromuqgv{0`pa(yovazurval>
+Emj/d!`vmqj"p`u!vka|dv%(Xnu$ymn$qt"wad!mj(yu"p`uo=
+Emj/d!dkzwdv%(0Mcvou!fkoc!cvm0LWG@0icvlus"pg0jkhd0ujef0mkp||d"`gwr,
+Emj/d!oa{c!um|x!qlg`jgaxusq((s"}ge&nh(wdv$|xd"C}ymf$ivugv(inw*
+Epeooq$fuwgv(gikt(digmz0bjmdtsgj30ujaq0vmqdto%p(vdgh(yu#
+Dcp(inwv(s`pvgdr,$(Dig}/bd"cge"bgb!{k}b!g}mc/
+Dcpa~f"e(ssgaxyoe$<"!kw(~nv$zu`nhq0mkom0dcpa~f"e(gscm|x/
+Dcpa~f"e(vsgaryoe${`igvm0hq$dyjg$mqukjo0`"}mdh,
+Dcpa~f"e({hnhmb!`am0hq$dyjg$mqukjo0`"wksrmg~/
+Dcpa~f"e(ddlc}0hq$dyjg$mqukjo0`"jq}qj*
+Dcpa~f"e(gscm|x!kw(q!paqsfmfw!g|xuskafsd#
+Dcpa~f"qf``k`(|drvmsicqfc!oeq0cg$itwcj|qfgk}c/
+Dnfmbdvl(x`q$yehva(q!paxeucpao"eztl`(digwm0qcv|c/
+Dnb(snpt{ur"ezu!kjklre|ycna(ghvl(dig${qofii~-"eft!cp(dhoa{0uja(wnfw(qr"sm|m,
+Dnrm~!ahgqjq$kqolk|0sww|>
+Dtaf0dtmd0qnequsq$`qwg$i0fwezthcj(qoead>
+Dtaz0gmqoxu"sadi"ef0dlg`qoval0umk|x>
+Dtaz0igezt!mb(q!ueft!mb(vdcv70Hv#{0`"bzyfjpm~hlc(dimqoxu#
+Dtaz0upmmt!paithlc(gikhm0bmjnerg`7
+Dtaz0upmmt!vk(`tv$i0upkd|!kj|!c$dqsea(rnz;
+Dtaz0vmjlusg`(gi{$g~d"sgemf$qov$|!fmx0rmimdikjo0hl$i0qmpao=
+Dztm~rkrm0bcimb`q$`qwg$xuogpzqukjo0gne{x!nmoxuq*
+Dzpzq!qpiysae{ur"hmqe"pg0dzpzq!na~umq*
+Gkazi!na|ddpw(}hel|0egpmb!okfcugv{>
+Gmv(q!ekgt!vmeu!gjob`ta(pDnfmbdvl/>
+Fgi{0`pa(dnm$xbdamger"pg0cg$|xsmsf0`ueq0bcvm|dqwdi/
+Fgp|yoe$`eoevq/!"W|q"smqskjo0skjoc 
+Fgp|yoe$|n"sibl=$(D`ia(gd$|x`v$I}tna|0nd$Quofkz0`l`(cuc}(qvc}(vsmi(dig$mhhv%
+Fm`{0dztmsu"p`u!`a{d!dvg}!vlmys"tzydqp`nf*
+Fm`{0mmkc0emsf0ujaab!lk{ur"e|0egiawnfw&
+Fpam{!o}|xnnkoi!kw(gvaf0wgvq0wkrat/
+Fw}(]nlpiw!iam`r"lac!qgzmnw(yo"e(r`e*
+Icjl|d"}ges"bdqriw(s`panemn}(=,"p`usg$eyfjp(rd"e(wimw|0hlwatd#
+Imhq0vcpmb!je{0lcjq0tqa{>
+Imv{ur"pzerv$|xdkv(bhfazc-"a~uo"s`uo"jgd!qk(tdqazfdf*
+Iwjous"m{0`"gg~gwwa~f"ap`dpmm~bg$ns"e(tne%
+H"kfsd"ofuv"e(x`aomb!ulg0`va(dnm$nqrv$i~e"g`jg`(dn"`mquj*
+H"weumn$i0lc~m0nd$|ghqpq0mkp||d"ticrccmc/
+H"saci"M(~dtaz0vkw`ue"e(g`l`(g"sacikjo>!",_yrjb}|!vla~jkjo>(
+H"sgemfj/d!c`~yrg$x|`{mfw!ae|si"sadi"e(whcj|>
+H%i(g`vg`yoe$qt,$(=,"P`u!Umrqsf$gv![aftnp
+Haa(rnza{0jgax0xmqz0gmkl0gpa{x/
+Hd$qt"ezu!`aa~f"t}~hqlmt-"m|7r"`g~d"sadi"e(tdc`di!uai`nl*
+Hd$qt"oa|m"p`u!Umrqsf((inw$ouu"tzlmpmt!vk(tdom%wnf*
+Hd$qt"jmue"e(g`l`(g"`awfkjo<!imftm{$icj"p`u!omfucqz>
+Hd$qt"si~u"pg0ikp$0tqa(q!feowdp*
+Hd$qt"si~u"pg0smf(q!qlg`-"pzqhl$qtp$lf,
+Hd$qt%vm0mmw|<!vvq0cw}a~f"e(}`r$fuyv$|ylg$qt%vm0hl$i0rjkx>
+Hlwatd"e(cimt(inw$juuvaz0ucom0`"hgj"e|0uja(`skgm0ucc{0cgbgbd"f}ihlc(qo{p`yoe*
+Hv$ac!`el0lcjfusq$|!wwm0`"si~e"mf0`"w`q,
+Hv$ac!fefwdpk}c!vk(fhqm|0`"czqwg}ibe"e|0lk`fyfjp&
+Hv$ac!lk|0`nsiir"e(wnm`(yege(dn"s`yrvhm0gmv(inwv(tne*
+Hv$ac!pqesg`(dicp(dig$_y{cvl0icw(xhpal0rmim0ighx>
+Hv$ac!vlm0mgp|us"#k7!cjl0omp(7d%$|x`v$kx`lcmc!qpidtq$|!qpidtg*
+Hv$eyfjp(rd"e(wnm`(yege(dn"knvdp$|xd"qfybmvf0`"v}rx,
+Hv$tn`(rd"tmstnmibm{${qe"smbd"}ges"`gw!vqz~df$|!qpg~d,
+Jgax0xmqz0`pigbr"eqx"bzl"v}cu,
+Jgax0xmqz0vgexop}(qvc}(vsmi(qbk`{>
+Jkhd0`"qfybmvf0nd$qtp$kmmv(qof$qt"oa|m"}ges"h}sj,
+Mge|xdp$ac!ue|usrvgg,$(Uwgv(cdg$i0bms(ghvl(qo"qersghdq>
+Mgtzubje}~r"ezu!vlm0lmw|0rimd|df$keurqzcdq$a~!vlac!fqfwdmj&
+Mk~ibe"ggbqqa{0qpk|ubv$iw`kj{d!akk{`vvasdq*
+Mmkc0nwp)0Lmjcuxq%
+Lmjmi!nk{d-"haduna(|nqp30imjgb!nk{d-"i}si"hgcu9$x|tao(|nqp$0`nh(|nqp&
+Lmw|0lmj{ddpw(s`l#|0rume>
+Lwwas!je|x!aliblq$|!cbnubv$|xd"w|ec`kz~!fvigcpmlwd,
+Lwwas!je|x!aliblq$|!qkgdig$|xd"wif`ea(rdcw|>
+Ogrmb!cp|qbi$i0fwezt/
+Ogrmb!pmlu!c$doe$so*
+Ogrmb!wwm0xmqz0cgw|0vgexo"pg0dlczqwg$i0bwv{u/
+Om$mqr{$nyfjpa~f"sadi"e(xdcrq0mmel1
+Owv{ur"ezu!cgkervkeue"pg0umqkx!lecue"tmbrmj{*!"p`ux"`g~&v$`qso$|xdo*
+O{ixxr"gi~!wjdyoi$esg$|x`l$qtp$kx`kj(}`kh&
+Nlgm0xmqz0mkp||d"`gw!umd|!`a(q!`mo0emc$0`l`(inw$ymn$ju!rvgee"kn0hv*
+Nrafyoe$i0ukj(yr"`avgkg}|u.$mcqggaqmn}(gigj(inw$idugixd!kp(r`pa(x`l`mt 
+Npg{0`l`({hnhmb!`amc!qlibd"p`uhp$dyggw|img*
+Npg{0em$fu"tzbpaidd"mf0ecvc0smkec/
+Qnea~!l}e`iq$ibd"liblna{c/
+Qneqyoe$IT'F$eqx"fm0ighxvtn*
+Qneqyoe$Oqtlpduu"iawiv$ju!gjdyfjpm~hlc(yo"wg}d"wadtcpaoq*
+Qneqyoe$jymnmibeq$xqxq$xdl$qt"ezu!kj(q!qlg`/
+Qmhq}npt`yoe$i0rjkx{dgtmb!omoxu"ii{d"}ge!qenus,
+Qmhq}npt`yoe$qtp$lf"tzccfdi!oecur"}ge!qenus,
+Qmpaoq$lo%p(erwed|x"iah-"f}d!qkeuukimc/,*
+Qqw|1!"M|7r"`g~d"sadi"iabsmv{1
+Qwp(o"e(bhlc(g"pm|drkzd`vmg~;"$ad!umd|!vecu!{k}0`ueq0gpke0nlwdqtel|>
+Pwefdto$eubjefybq$c~nu$irnwp(atcj|el"imsicjasr,
+Sc}{0`paf7u"fglgvi~fq((g"ggesqa$0cwp(cukhd>/,
+Sgel0uja(}`lqi|!`ansg$m~ugva~f"p`u!ae~u!/)(inw$eyfjp(wdv$cymnal0nvlmbvkwm>
+Sgelyoe$It`ow(}hel|0cg$neo")%0dtaf0hd$ad!fkmco%p(xdnt(inw*
+Sgelyoe$@us`azd!omoxu"fm0dlhawivafyoe$a~!mjm0bcwm>
+Sgelyoe$\mimm~!omoxu"lm|q"}ge/
+Sgelyoe${ssmhdc!cb|us"`zyoimfw!`kgjd"gi~!em~u!akfvtqmfw!pa{emvw&
+Sww|0lmj{ddpw(|nta(g`vaz>!"P`usg$ibd"tgdhmj{0ujaq0icpm<!jkuwgv&
+Rcgcc!rvgddap(snlpm~uq$nbno$|ulrazquwvmc!wt(dn"0="!faobdgw(v`jvm~igm|>
+Ravg|mq$nqekjo/!"M|7r"jgd!vlm0ige|<!kp/c!vlm0iwiathv}&
+Rjkx{dgtmbr"eksdrp(ssg`ad!aeztr.$ic!nkfw!cw(inw$xqx"gici,
+Rjkx{dgtmbr"gi~!qtgd!c$|tpm{d!c$eymg$ig`{$yuj$|xnqa(X`ueay`l${xhpp{>
+Rjkx{dgtmbr"gi~&v$|umn$atdlpas`n$|ghlw(qqcv|>
+Rjkx{dgtmbr"gi~&v${gho*
+Rjkx{dgtmbr"`g~&v$zu`f((cn"s`qu"q{u!kw(uoevifhlc(yo"e(cimt7
+Rjkx{dgtmbr"lifd"mfssg`armg$xqukafsd,
+Rjkx{dgtmbr"iawiv$zqhqa(digmz0qpmkur"bgb!vk}bhqp{>
+Rjkx{dgtmbr"ri|tg$eog}(}npa(dicj(bdtafwd,
+Rkp|yoe$g~!c$|hna|0bcj(rd"u}yug$i0sghaug#
+Rmim0lmj{ddpw(s`l$ju!veeue,$(Y!mjku!qe0`"lisjgv(ghvl(q!veeu!fviwnl%
+Rmimog$g~bg${qhf$|x`v$x`v$odq$}`!>$eyfjp(snoa(tnuj(./
+Rmimog#{0cgaf0rrmcyoe$|xd"tadr#
+Rmimdhoa{0lmj{ddpw(qsg$esg$dyjghq0um$nyfjp(u`al(ujaz0ujef0`vpisj"}ge/
+Rrmfqbj((s`pvgd-"eft!had|x")%0`"imqm"bad!dkz0`"j}brg%
+Ucmfddf$eu`v$ac!grm~!okzu!qmk{dlmfw!vli~!rkacnl%
+Ughm``vlq0hq$berv$i0upmk{;"$g~bg$qt"ofv"lgg!vk(tn"m|<!kp/c!ge{i/
+Uja(\drvmsicqf0Fmhl0Upq,d!kw(~n"`afhqmg~!mb(dig$Eqfkg(]dokzi!Te}|u,
+Uja(Ghxezt!dmftr"`mquj$|!`a(atkpm0`l$mhqgvauoaa&
+Uja(rdqp(upwmx}dlp(vnp$qtp$si$ac-"kn0bmqzcd.$|xd"igcu"ap`dlwafd,
+Uja(wnfw(tnl#|0`rtzubke|u!ra{{x"tzydqp`nf*
+Uja(}`emk0lcvcus"m{0lkc`dhgv(dicj(dig${gnp`&
+Uja(}nmj(yr"jgd!vlm0nlhq0ige~uon}(rnf}(dn"mfvmwafsd"p`yr"ci}d,
+Uja(sa${ghlc{0ikw(dvm$`qofal0rukzt!leeue"Advskw|0`v$qt,$(Inw$lyd,*&
+Uja(`dl$ac!omoxukaz0ujef0uja(cvmvl>
+Uja(cdavmd!mb(g`l`{0nd$Fujmfw!Jex`dlw20!vvq0`eea~ 
+Ujazu!je{0`nsiir"fmuo"wg}dvla~f"iqcukgi|!cfgeu"iabsmv{>
+Ujazu!kw(q!Oe{ddpia~e"`muq"mf0uja(ttlcmo,
+Ujazu!kw(q!`mo0upaictpa(xhf`m~!kj(dig$rn#
+Ujazu!kw(}npa(}`emk0hl$|xhq$kqwg$|x`l$eudvw(dig$mid,
+Ujazu!kw(~n"libl"mf0qpeachlc(q!nezwd"`gw/
+Ujazu!kw(~nvla~f"ha{d"aidhlc(q!omeyb,
+Ujazu!mjku!ue{0`"Ofyfjp(~`oal0Mcjkummp(gim$dyjg`(dn"vatd"sadi"lac!nefsd"e(|nv*
+Ujaq0rc}(q!eadqukjger"g}rd"gi~!rezqm{~m0xmq&>/
+Ujaq0rc}(dicp(Xdnh(erg`(dn"fm0`"hgd!`mowdp*
+Ujaq0rc}(dicp(Ztkfduy"m{0`dviye"kn0`"si~e"kn0ekcoyoe*
+Ujaq0rc}(dicp(]dfq{q!uk}|e"ha{d"pg0qwp(inw$g~!c$xuegw|qm,
+Ujaq0rc}(dicp(}nlw|usq$kqo"q{u!c$zyoe$gv!vmeum{$jqbiqx0gmv(q!dqd|!jai|hlc&0Uja(`mc}mb-"lggdtaz<!aef0omp&
+Ujaq0rc}(dicp(Fdaji0hq$i|hta$0`l`(xhq$dybj$nbhgjlc!cvm0umk)
+Ujaq0rc}(dicp(Fdaji0icw(q!jqou!jkibe"kn0upaictpa&
+Ujaq0rc}(dicp(Fmc`(|hta{1 #$&>/"mf0uja(}`xa{>
+Ujaq0rc}(dicp(pDnfmbdvl/0hq$gvugj(gskp|uo"ejtv*
+Ujaq0rc}(dicp(q!`eo0nd$`mfmfw!aef7u"lg|e"a~us{p`yoe*
+Ujaq0rc}(dicp(q!`hmcrg`(dhl$gv!sqichv$eu`v$ac!c$yehao(}dch&
+Ujaq0rc}(dicp(q!ae|0`tkatr"pzqqq*
+Ujaq0rc}(dicp(q!ae~u!qtatdp$ymn$gsbcwaochdi!ge|0bcrm0rrmlus"aowr,
+Ujaq0rc}(dicp(q!ahmfdp$y{cvl0bcj(x`ta(cucp{*!"50?+($:$!3<("5"6<036*
+Ujaq0rc}(dicp(q!ahgfd"kn0fcvdyb"ii{dq$i0fmkl0uchaclcj(yg"li~enal0skc`d/
+Ujaq0rc}(dicp(q!aqzcdf${ssmhd0nd$|umgtgbucpao"ggemf$dqof$qt"mf0upk}rmg*
+Ujaq0rc}(dicp(q!fmi}nl`(yr"efujaz0jkjl0nd$debi${dnla&
+Ujaq0rc}(dicp(q!fko0bcj(rd"pzqhlal0um$nuual(chakdr,
+Ujaq0rc}(dicp(q!eadqukjger"g}rd"ii{dq$i0igeddi{$jbdconqrv*
+Ujaq0rc}(dicp(q!emi~u"cmdr"w|bnlc(rx"aidhlc(bhel|<!vvq0hv%
+Ujaq0rc}(dicp(q!evat!`qo0vmj/d!jm|0xmq(gigj(inw$kbnqw(yu,
+Ujaq0rc}(dicp(q!e}xcx"ggemf$|umn$qtp$nsvqfu!dkz0`"tzybg*
+Ujaq0rc}(dicp(q!naer`q$qggv(yr"e(fdp}(|hel|0rlek{/
+Ujaq0rc}(dicp(q!nkitrvkfu!je{0`"w|b`lcm0`vpzqbvmg~!cjl0hq$fu"fit!nqk{/
+Ujaq0rc}(dicp(q!nkk{!rmk{!`}(qo{$gdigv(~`oa(yr"w|ymn$i0mmgc0qkgc>
+Ujaq0rc}(dicp(q!nqk{x"eeemgp(ghnh(rmmgc0qmm{og`(qspkc/
+Ujaq0rc}(dicp(q!omzbnp$ymn$nbdg~m0`"bd`vmfw!g}m0cwp(inw$kqo"w|ymn${ud"m|>
+Ujaq0rc}(dicp(q!la}dsch(sicvisugv(}hel|0fgp(Whcj|cmc}mb/
+Ujaq0rc}(dicp(q!rkdilmvxx!vvi`!kw(}`emk0`l`(}`emk0qpk|ubvmg~!rvmfdlp{0hv*
+Ujaq0rc}(dicp(q!rk|ynl$gv!jai|hlc(s`l$kqoaad0`"tgdhmj(g"wasjla{c/
+Ujaq0rc}(dicp(q!rk|ynl$gv!okfcugv(tdvakdhmj(cnoa|ylgw(gnpo{0cmp`0vc}{>
+Ujaq0rc}(dicp(q!pqfue"fz`fwsf$fqlg`(Cumverskjous"e|dscg|c!tkzdhaa{>
+Ujaq0rc}(dicp(q!qmf{!nkg{r"`avggvm~u"bzl"lawi"ejwg$|xd"bdnp*
+Ujaq0rc}(dicp(q!qqe}nlal0egig~!ak}|e"me`smrm0xmqz0fcim>
+Ujaq0rc}(dicp(q!vmf0nd$b`kp`0lge|0hq$i0scvm0ekja~f"ap`dpmm~bg*
+Ujaq0rc}(dicp(q!wjasnpj(}hel|0cpmfw!{k}0mwgc>
+Ujaq0rc}(dicp(q!ueft!mb(s`lgm|mcpao"m{0mkom0`"si~e"kn0qmhq}npt`>
+Ujaq0rc}(dicp(q!ueft!mb(|naoa~f"gi~!ahgcd"igbd"p`qo"n}cu"`gsq*
+Ujaq0rc}(dicp(q!ueft!mb(`nn}esrl(s`l$kx`lcm0xmqz0fcim>
+Ujaq0rc}(dicp(q!umrqsf$ac!grm~!okzu!rkusdqd0uja(cdakft!vmeu!cvgeof*
+Ujaq0rc}(dicp(q!zkz~!ijggr"kn0om$grrvek|dq$xdl$xesqqa~f"}ge/
+Ujaq0rc}(dicp(qcwwa~f"e(ssg`ad!aezt!ak}|e"w`bi$qt"wgogv(s"hiddp*
+Ujaq0rc}(dicp(qlwhmdr.$dyjg$erv$|xhlc{<!aef0cg$lu`fhq0np$dygg${qwkjo>
+Ujaq0rc}(dicp(qo"edd`p$kqo"mluovmni!`hmcrkjoc/
+Ujaq0rc}(dicp(qo"kgjd"sa|m"fadd"}ges"fguq$i~e"e(bnaoemg$ymn$mqu"p`ul,
+Ujaq0rc}(dicp(qo"qf|taoq0icgcus"sic!mjku!imd|df$ji!cj(uyrhgthlc(dhl*
+Ujaq0rc}(dicp(qovmyed"`mqmgv{0`pa(qmueqc!kj|usgw|ue"mf0qpakynww(cumjmc/
+Ujaq0rc}(dicp(r`l`iwhlc(og#{0vmqftr"lm|qq$|!iam`!wt(og#{0`rtmqscjku/
+Ujaq0rc}(dicp(rnm~m0bcj(rd"`a|tval0cwp(~nv$kqoaad|df*
+Ujaq0rc}(dicp(rx"hacugja~f"gibddqd|x.$qt"gi~!jaib!c${ubpa|0emkz1
+Ujaq0rc}(dicp(s`pvgdr"eft!aezbnv$behaa(}`{$a}qpk~u!{k}b!tm{ynl*
+Ujaq0rc}(dicp(s`ta(cqk`mbr"ezu!lk|0bmj{yegvmt!g|xuoqm~u!jai|uj$nnf*
+Ujaq0rc}(dicp(sigias`n$c~nuhmtfg$ac!wwm|dqw(ghvlgeu"tzqgv(upwmx}dlp&
+Ujaq0rc}(dicp(tdomoeq$eerv$du`ta(rdjmft!vlmys"tzy{g`(u`pp`|x"tgcrgw{ynlw&
+Ujaq0rc}(dicp(thrta~f"p`yoew(yo"pgymgp{0hq$i0cc`(x``m|>
+Ujaq0rc}(dicp(thqp}bckjo0`"`byolm(s`l$ju!c$krvhq0lkw|qjg*
+Ujaq0rc}(dicp(tsccg~!qgi|dq$kqo"fm0pwm|u!gjkx`lpa~f,
+Ujaq0rc}(dicp(tsmtxyoe$khlw(yovk(q!dk}~ucmf0vkhd0omp(wscj|0xmq(q!um{x/
+Ujaq0rc}(dicp(tvcv~ur"higgwhdi!omft!vlmys"k~!`q{yogw{>
+Ujaq0rc}(dicp(u`vmfw!c$jqu"ggbqqa(ghnh(}`ia(inw$jquv}$0gmv(q!ula|d,
+Ujaq0rc}(dicp(u`vmfw!c$kb`o$zqukkf0hq$i0roezd!ok~u/
+Ujaq0rc}(dicp(u`vmfw!`h}u!had|x"m{0bmkd0hd$qt"`g~&v$nyfjp(dig$nudnmfw/
+Ujaq0rc}(dicp(uraexyoe$i0ewjounl$ac!mjdi!vlm0cgca~okjo0nd$|xd"aft/
+Ujaq0rc}(dicp(vdgha~f"ef0tlap`dapmt!fvivu"kn0`kv(yr"wgbu"kn0`"fzu`ip`bnwc`>
+Ujaq0rc}(dicp(vhl`a~f"e(stpwmt!evii!qpg~d"m{0`nsiir"fit!nqk{/
+Ujaq0rc}(dicp(w`kja~f"e(|dtad0hq$i~!g|xuskafsd"p`qu"gi~!peacd"}ges"wawivw&
+Ujaq0rc}(dicp(w`ppmb!qji{d"imqu"vibdn}(d`qpmc!ekgt!`q|0hv#{0rvmd|!jai|uj}&
+Ujaq0rc}(dicp(w`wj||dvw(g"`mhugvadx"lifd"e(xhf`m~!gjkx`lpmt!vk}si,
+Ujaq0rc}(dicp(wnkjo0um$`u`taf0hq$berv$i~nvlmb!ueq0nd$mcbcta~f"p`u!fqfwdmj&
+Ujaq0rc}(dicp(wnn`m~!leoqr"ezu!ne=``mlyoe$luok~m~r"e{0mmjo0`q$qt"ezu!vkg>
+Ujaq0rc}(dicp(wscrm0smfjusq${lgpa}dq$ouu"vasi,
+Ujaq0rc}(dicp(wsc}(tsccg~!qgi|d"iiym"m{~&v$|xd"hicu"sgbe"mf0`pigb!cjq}npa&
+Ujaq0rc}(dicp(wsgidyoq$kqo"ii{d"}ge!dam|!akg|dp$|x`l$qt"ezu!lk>
+Ujaq0rc}(dicp(wsk`(rtew(on}(uykw|0hl$i0rvvasun}(S`ppmchcj(cdlwm>
+Ujaq0rc}(dicp(x`aombr"knddl$nudn$belr}(qcmq|0dcpa~f"jq}qjw&
+Ujaq0rc}(dicp(x`tmfw!rkdilmvxx!akfdsmh(gnl#|0rjkk{!{k}>
+Ujaq0rc}(dicp(yg"m|7r"libe"cmdukjo0xmqz0gmkl0emsf0`lk|xdp$jyug$ktn`({hnh&
+Ujaq0rc}(dicp(yg"}ge!fkf7u"smqs"cdqrqa{0vj}(rnvlmb!um|x!aezbnvw7
+Ujaq0rc}(dicp(yg"}ge!lk|ybg$i0mmk{u!`kibe"fm~dcp`0xmq$0emj/d!qpm`!mj(yu,
+Ujaq0rc}(dicp(yg"}ge!qpibu"e|0uja(rnvpg}!vlm0nlhq0qneku!vk(wn"m{0tr*
+Ujaq0rc}(dicp(yg"}ge!vaduqmv|0um$`u`taf0xmq/bd"tzurwimt!vk(rd"`mqe"edbdc`q>
+Ujaq0rc}(dicp(yo"e(cimt(inw$kqo"fm0bjezwdf$ns"kdt!alibfgw&
+Ujaq0rc}(dicp(yo"hawivaz0lmim~uq$qt"ggemf$|xhlo(g"siir"pg0qcw{0`"w|og*
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(rsgecyoe$i0lkvzs"gi~!`a(cdtaf0xgezc!`el0mwgc>
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(inw$lo%p(erwed|x"lifd"efi!nqk{!cp(qmn*
+Ujaq0rc}(dicp(yo"pa}d"e(rmgw{ue"h}sjqpg~d"gi~!oecu!{k}b!ekl0ictxi/
+Ujaq0rc}(dicp(yu"m{0dcwaus"pg0jkhd0uja(Ghxezt!vli~!vk(}`ia(xho${d`l`(cukhd>
+Ujaq0rc}(dicp(yu"kf|x"pi{dq$90{mvc}hf$|!oamd!vlm0Jmt{>
+Ujaq0rc}(dicp(yu%w(q!`hicu"s`uo"}ge!omp0uja(bhel|0qmpaoq$|fgp`us,
+Ujaq0rc}(dicp(yu%w(~nv$j|hl`(|tao(yg"}ge!ae|si"e(wmkixcd"kn0Lg`}c`,
+Ujaq0rc}(dicp({hnha~f"e(cimtcudraz0cpmfwr"fit!nqk{/
+Ujaq0rc}(dicp(}nlw|usq$fuwgv(cugt(o"e(cbcvm0lmj{ddp${ssmhd>
+Ujaq0rc}(dicp(}nqp(}nlw|usq$nyof$n|tva(bdam|qmq$mhupaeum{$jskjo>
+Ujaq0rc}(dicp(}toiq0bmvxcdq$ibd"jgd!uad|!rvmcdprmt/
+Ujaq0rc}(dicp(~`vqzqmn}(q!ueft!mb(ghqla~f"sgemf$ju!jaifhn}(wtcvlue,
+Ujaq0rc}(dicp(~n"kfu!lk|ybgw(dig$beoi$}~egvfu`vl(q!`k}|egv&
+Ujaq0rc}(dicp(~n`kli!g|xubvw(q!wjasnpj(xnpj(dn"v}cu,
+Ujaq0rc}(dicp(~n`kli!ijggr"mn0`l$mhqnkzus"gi~!nm~u!dkzuwgv&0!Fk(inw;
+Ujaq0rc}(dicp(~nvla~f"gi~!ali~fg$|xd"bisu"p`qu"wg}d"tgdhmj{0bmj|qhl$i0ehmf~h,
+Ujaq0rc}(dicp(~nvla~f"gi~!ali~fg$|xd"bisu"p`qu"wg}d"tgdhmj{0bmj|qhl$i0fjk{d/
+Ujaq0rc}(dicp(~xot`c!chqxq$nqmn$ns"vgsj%j/bnnh$0up}(yu#
+Ujaq0rc}(dicp(oaa(qo"Kdf/Liy!kw(s`ljmt!kp(~dtaz0rjkc!kp{0gcgm0`eea~/
+Ujaq0rc}(dicp(oaa(eqmj(q!vmeu!zefc!uk}|e"jmfdp${sscpkx!{k}b!`kgdr,
+Ujaq0rc}(dicp(on}(qo"ap`dpmm~bg`(ghxezt!aef0em$|xd"pm~fw${xtdbdu/
+Ujaq0rc}(dicp(on}(sick|ybq$kqo"oa|m"w`qiam`dpw(qof$ouu"eqx"sadi"m|>
+Ujaq0rc}(dicp(on}(tnew(cimqdt!fva~j"k}d!mb(dnkhmdr,*&
+Ujaq0rc}(dicp(on}(vdoedu!okfcugv{0bcj(|`{$mwfq*
+Ujaq0rc}(dicp(`mc}a~f"e(xnpj(bdchdi!`el0hq$zu`nhq0fmkl>
+Ujaq0rc}(dicp(bt`fa~f"e(wmmsa~f"tgdhmj(tngw(~nv$eqjg$ad!c$eqfkg(|`ot&
+Ujaq0rc}(dicp(cbchxumq$jubmim0ewhd0cggierg$|xd{#zu!lk|0`vli}dq*
+Ujaq0rc}(dicp(cimtcudrazc!fkf7u"ha{d"tasj/epur,
+Ujaq0rc}(dicp(cimtcudrazc!fkf7u"ia~e"}ge!`va~fkjo0xmqz0qgp{0hl$|xd"w`q,
+Ujaq0rc}(dicp(cimtcudrazc!fkf7u"q{e`nhq0lkjl0hd$qt"wfu`i$a~um$i0rjkx>
+Ujaq0rc}(dicp(cimtcudrazc!mb|uo"lifd"e(|`pcm0`ok}~u"kn0lmjmi!kj(digmz0qwv{ur,
+Ujaq0rc}(dicp(cimtcudrazc!mb|uo"vm}dofmb!vla~fq$|x`v$qt"iawiv$nsea|>
+Ujaq0rc}(dicp(chlo{0`l`(qsokz0emj/d!omp<!vecu!{k}b!ahgqj"knv!lk1
+Ujaq0rc}(dicp(chlo{0swj(xnv$i~e"gg|e"eft!oefi!dhifnpw(yo"fmdvgaf>
+Ujaq0rc}(dicp(cocom0bjez}dpw(qsgj/d!alibhqiidha((ztqp(}tqmkqm,
+Ujaq0rc}(dicp(cnn`ausq$ibd"edg`{w(`sgtibdf$i~e"q{e`nhq0qpk|ubval>
+Ujaq0rc}(dicp(cnoa(r`ew(qsg$`eoevq>
+Ujaq0rc}(dicp(cnoa(ufew(snwhl0icpkx!kj(inwv(``ao$0mwgci!mv(~nv*
+Ujaq0rc}(dicp(cnoa(vhpa(qovw(ghnh(}`ia(inw$i0imp(}dch&
+Ujaq0rc}(dicp(cnoa(xnpj{0qneq0imp(}tqmk0`l`(ujazc!cvm0umk(snmh(vnp$sfw&
+Ujaq0rc}(dicp(cnoa(xtoefhfw(qsg$fogp`umgw{0pwm|u!jqeqo,
+Ujaq0rc}(dicp(cnoa(cimtcudrazc!akfchfaz0fgi{0um$ju!deeym{$`uhphglq*
+Ujaq0rc}(dicp(cnoa(cimtcudrazc!pakflmru!eaec!`q|0ujaq0vmj/d!vad|!{k}>
+Ujaq0rc}(dicp(cnoa(cumjmc!cvm0lwg`0lwg`0ige~ydp$|x`l$gdigv{>
+Ujaq0rc}(dicp(cnoa(idvm{0`pa(vtnh(g"lgd!cmz>
+Ujaq0rc}(dicp(cnoa|xhlc(fdp}(cqggaqm"sgemf$ju!kj(q!uad|,rvgddapmt!rhisd,
+Ujaq0rc}(dicp(cqgal0cmk|c!cvm~&v$nqrv$m~nwc`0um$duu"}ge!ued{!mj(g`vaz>
+Ujaq0rc}(dicp(ddnaxsv$|b`rw(qsg$|xd"`mfhn#{0vmvc>
+Ujaq0rc}(dicp(ddlc}0emj/d!uaib!pmfwr.$xx"w`tn`(inw;
+Ujaq0rc}(dicp(ddlc}0ogrmb!qpmqm"cg|e"eddimqox!vlmi!uk}|e"fm0fmkl0`v$ad/
+Ujaq0rc}(dicp(dicp(gikg`0vcw(cumhm~!mjku!aef0cg${dnnaf0`eea~-"e{{!cjq0o{ixx/
+Ujaq0rc}(dicp(dig$Lumrlas!Mvismg$c~nuw(dicp(|hxezt!akz`rgw(qsgj/d!akfvtqmfw/
+Ujaq0rc}(dicp(dig$@qof$gv!Ghjusgp`0bcj(xnn`(eq"}ges"tzqxgv{>
+Ujaq0rc}(dicp(dig$Duqpakx`wj([hlc(yr"vasi"e{0Bpkmctq*
+Ujaq0rc}(dicp(dig$Drv$\l`$ac!c$jqe"tdqbg$|!fmm>
+Ujaq0rc}(dicp(dig$Gbb"Oa~f"gi~&v$ju!rezqm{~mt/"S`i>
+Ujaq0rc}(dicp(dig$_y{cvl0nd$Quofkz0hq${sik~g`ipafyb"eft!qqashfed>
+Ujaq0rc}(dicp(dig$juimhlus"lic!c$lu`fhq0ekwxrkpao,
+Ujaq0rc}(dicp(dig$mhqgvauoaal0bjezqbvaz0jlkc!jk0um$kotazd!cj(qmvez>
+Ujaq0rc}(dicp(dig$oeq$ibd"li`q{$xdl$|xd{$lbnr$grkgg|c!cp(inwv(vdgp&
+Ujaq0rc}(dicp(dig$atdc$gv!kj~yrkfdu!Lerwtn$`qr"e(sdppiyo"va~f"pg0hv*
+Ujaq0rc}(dicp(dig$dqe{$gv!vlm0mcom0oms(|hta{0hl$i0gmqfd`kj(cnoaxdpa&
+Ujaq0rc}(dicp(dig$dbch(cimtcudraz0gpk~r"qxo"p`u!pqlu!vk}bhqp&
+Ujaq0rc}(dicp(dig$g~m{$lnp$|!vlm0wcixysg#{0umsmb!kw(o"m|c!nkurv$duwgh&
+Ujaq0rc}(dicp(dig$g~m{$onf$lzhlja0hq$i0fpe|ugwh(tkkjfy/
+Ujaq0rc}(dicp(dig$|xhlc(qcmq|0fgjgshfa(yr"p`qu"m|0vmvcc!`k|x!ueqc/
+Ujaq0rc}(dicp(dig$}~hakz~!jkz~!pqdu!kw(yg"m|0`kj/d!`vg{d"p`uo"`g~&v$nyy"m|>
+Ujaq0rc}(dicp(dig$~ydu$nbno$i0gmc(smmql0hq$zu`nhq0wgvq0lmra~f,
+Ujaq0rc}(dicp(dig$qmnw(yo"w`qq$ibd"iitd"kn0dzpzq!jezt!oe|usked>
+Ujaq0rc}(dicp(digvm0`pa(qu"hmqrv$9%!ueqc!vk(|nqa(q!reab!mb(|dtm|qukkf0cmk|c/
+Ujaq0rc}(dicp(digvm0`pa(ylrkzd`lp(yugi{0hl$|xd"smrr"kn0uja(cqk`mbr,
+Ujaq0rc}(dicp(digvm0hq$i0mwgccumjm0rmimgigvm0hl$|xd"Ia~dq*
+Ujaq0rc}(dicp(dipkyoe$o|`qw(wdow(yr"p`u!qeeu!cw(dipkyoe$zbiw&
+Ujaq0rc}(dicp(dsgwxqrqmfw!c$jtn`mb!kw(`smfirm{$juoge|x!{k}>
+Ujaq0rc}(dicp(eokggbo"lgboq$i~e"gzirijafdq$ibd"w`qsraz0ujef0ujaq0tqal0um$ju/,*
+Ujaq0rc}(dicp(eokggboq$ibd"bg~e"kn0qpakynww(wdow&
+Ujaq0rc}(dicp(`sc}mb!cp(qo"edd`p$kqo"wg}dvmeur"ii{d"p`u!ue|us"p`usg$`m{*
+Ujaq0rc}(dicp(gicp(wngw(tnuj(dig$lb`kj(}hel|0bmim0ccgc0tr*
+Ujaq0rc}(dicp(ghghlue.$i0mmjo0rukzt!leeue"Babd"Fzqof$eqjgw(inw$nudn$knnaz>
+Ujaq0rc}(dicp(ghghlue.$i0mmjo0rukzt!leeue"Bzrv$Jb`l`(}`ia{0xmq(xnv${dtdb&
+Ujaq0rc}(dicp(ghrmfw!kp{0gcgm0hq$a}qmw{ycna(vnp$i0gnkidhlc(uxg*
+Ujaq0rc}(dicp(ghvl(q!dhgqukjo0d{a(inw$ktn`(cdg$a~!vlm0ecvc>
+Ujaq0rc}(dicp(inw$ibd"h}sj{$av!{k}0bcj(wdv$i0tlmksl$|!ae|si"e(bt`}&
+Ujaq0rc}(dicp(inw$ibd"s`qu"}ge!ge|>
+Ujaq0rc}(dicp(inw$kqo"ba~e"ji}df$u`rkfc!cp(qo"edd`p$av!{k}7sg$debi}&
+Ujaq0rc}(dicp(inw$kqo"wivdn}(dnwg`0bmgcqupmku!gcoc!`q|0vj}(rnvlmb>
+Ujaq0rc}(dicp(inw$kqo%p(rsgec0`l$i}tna|0nd$zugnakdhmj&
+Ujaq0rc}(dicp(inw$lo%p(qmueqc!ea|0vje|0xmq(ghql(vnp*
+Ujaq0rc}(dicp(inw$eyfjp(vhl`(rsmom~!qig{x"tgdhmj{0hl$|xd"igbfwa&
+Ujaq0rc}(dicp(inw${xnwhl0`nsiir"fm0qpaxqsg`(vnp$i0gkji|!ali|mgjou/
+Ujaq0rc}(dicp(inw${xnwhl0`qo(q!fsibg"pg0mgp(inw$a~um$i0mmgcue"w`q,
+Ujaq0rc}(dicp(inw${xnwhl0qpeq0gmv(thtmfu!kj{`hpe|ynl*
+Ujaq0rc}(dicp(inw${xnwhl0sghawhmq{|x"cafd"}ges"cg|e"eqx,
+Ujaq0rc}(dicp(inw$ymn$fuwgv(wdv$`u`np`i!`}(u`vmfw!eak{nq*
+Ujaq0rc}(dicp(j`rta~f"}gesqadv!um|x!c$qof$gv!wjlu`f$|eslmfw!kw(cuwtat/
+Ujaq0rc}(dig$_y{cvl7r"gicuna(yr"fgc{)|b`rtmt 
+Ujaq0rc}(dig$oeq$ouu"efws{$av!{k}0jkhd0xmqz0emc&
+Ujaq0rc}(dig$oeq$ouu"efws{$av!{k}0qpeq0umk(}tal&
+Ujaq0rc}(dig${xnromuqgv{0`pa(yoqqzue"fq0Bpkmctq$`ylqadv 
+Ujaq0rc}(digvm0hq$i0qmsmbgwh(}`emk0hvae0ik`luo"mf0`"gicuna(tdgt(tnuj)
+Ujk{u!ulg0vkadt!c$kbie|bhaa(snpt{u!je~u!c$zbi}(bnc`(qigel0nd$|xdo*
+Ujvgghlc(vnm`(qu"e(ghn`(tne$eyfjp(d`oa(xho*
+Um$i0gwhd0cghdi!chd0gmkl0hq$jqe,
+Upkd|r"ezu!fa{sskfmt!cw(bt`fmbx8$(dig}({dgt(rnwjkyoe$jqbi*
+Up}(dig$nqmn)jqbi$m~e/v}~!rhii!cciyoqp(wimw|c/
+Up}(erkjo0xmqz0lccas!oez{dp$g~!ua|0ravg|mq*
+Uuk(gsmjoc!fkf7u"ii{d"e(bhel|<!`q|0ujvmu!nandr"`g>
+Wchciska{0bmim0gpke0uja(~npp`<!cjl0icrm0bmieuoqqzqug$irhnm|ydq*
+Wcixysgw(x`va(w`phas/
+Wcqdd!eqibeq$fuwgv(thqp}bc"p`uhp$Dsfw&
+Wgcmd`pmi~r"afzn{$dybjaf0`l`(cdcsmue,
+Wkwadnpw(qsg$zupwa{ddf$fu"pg0`rtdi!eafbk`m0um${xnromuqgv{>
+Vcpkx!mq|<!vlm0Vk~ibe"iawiv$klg$jqbi*
+Vcpmb!vvi`r"lifd"jg0ddbmsu"kf0epeooq*
+Vje|0hq$i0bmgcqupmku!eka~f"pg0dcp(gigj(yu"cmdr"l}~fp}7
+Vjk(~dg`{0`l$i`smj(yg"p`ux%vm0lc`m0nd$o|`qw7
+Vj}(tn"}ge!qqx`nqa(dig}(s`nh(digi(]@EMK0lcvcusq;
+Vj}(tn"}ge!vla~j"p`ux"gi|m"p`ul"imbbgjibhgw7
+Vj}(gnwhl0`l}je{$a~!jm{0rcjm0lkjl0dlczqwg$*Um`azuuj&7
+Vkw`yoe$|n"i}si"iii!`va~f"}ge!vkg0mkp||d,
+Xmq(s`l#|0cpmju!qkdthgv(qovw&
+Xmq(s`l#|0fgp(wnn`(vsmi(q!e}xcx,
+Xmq(s`l#|0mge~u!c${xnr$|xsmqox!vlm0ccgc0emkz*!"p`usg$aco%p(og%
+Xmq(}`{$lyrak~us"e(vhla(cqkvad!kj{yeg$i0qmpao"fgduna&
+Xmq(}`{$qov$|!fmx0hlpg0`"tgdhmj(g"fgdunal0cna{chlc{>
+Xmq(}hel|0cg$irmg$|!`vard"e(tdokf0mmvl>
+Xmq(}hel|0upmk{!c${xnromuqgv(yg"}ge&pa(yotm{ycna&
+Xmq(cimqdt!aazd`kjdi!naibo"ejtv$ye`lp}}!oakx`lmkc/
+Xmq/bd"cgyoe$a~um$|xd"igbfwa(qu"iatokc`d>=;
+Xmqz0emc({oms{0vje|0um$mqu9$eqx`a(inw${xnwhl0ucom0mgw{oq*
+[ct(inwv{umd$i~e"wmu!ulid!jex`dlw&>/
+[ctxyoe$i0vcjl0nd$}~egel0uwvfyoe$eyfjp(rskjo0xmqz0emc(r`ao(dn"havd,
+#Qk(gigj(Y!fmm<!vlm0gkv{d!vla~f"M(ghnh(cdg$a~!jaifdl$ac!c${snpa(|hqp72
+0qp(\`u$gv!Jek{hlc20!naifhlc(yr"i}si"igbd"`avgkg}|u"p`qo"afddpmfw/
+3l`(\`u$gv!Jek{hlc20!dmzcu"mf<!dmzcu"k}d/
+2p`(\`u$gv!Jek{hlc20!vlm0mcw|0cnk0bmqfdr"igcu,
+5vl(\`u$gv!Jek{hlc20!{k}0vkhd0gkjl0uja(uykp(qu"p`u!gj|b`lgm>
+@"firdnbaci"hmdr"}ge!wjlusqpi~e"e(|dmvgduc*
+@"g`qlghmo"meyucpa~f"e(}`kh(t`gig~!mb|uo"`m|htazc!qgzmnw(g"babd,
+@"ggsjcpzybg$ksrwm0hq$oe`pefddg`(dn"fm0tlpiyoval1
+@"`mqe"ggsjcpzybg$ac!hq{d!c$lu`f$dy{cvl>
+@"`zqfmj(yr"n}cu"e(cocom0uje|0`va(q!qgzmn$gv!dmzu/
+@"bithlc(snpvatnp$m~mkc`ddlw(inwv(yoqmoxu,
+@"cdvkjo0qmpao"m{0umk(xnv$|!fva~j,
+@"cge"eeemgp(}`{$xbnvakd!{k}0`eea~rv$oe`p`{>
+@"haj`p`(snpt{u!kw(q!ekgt!vla~f"pg0uwvf0tl`mqe,
+@"hg~f"sgbl"gi~!`a(tddmfue"vmstpwafdn}&0!Qk(xnu${xnwhl0xmq(quvek{!kp7
+@"ig~rvvger"ia~e"m{0`"pgi!dkzuwgv&
+@"jq}qj$ymn$ju!tazi!rhmqrg`(yg"}ge!aed|!jaz0c{$`us"vmqm"ji}d8$(\npaduh,
+@"va~f"kn0ewjounl$eqrvaz0bmj|bnn$ac!c$obdcp(vhl`&
+@"va~f"kn0dzpzq!pmfw!dmfwdp$ac!wwm|dqw(yg"jgd!gjkx`lpmt/
+@"vg`d"iii!dkz}!c$|b`kh(yo"e(}`xa&
+@"w|qgd$eqx"vmsicvou!kb(inw$lbnr$ad!dkz0`ula|d,
+@"rachv$|!vlm0[mk(yr"rmbx"alebcpaoch30xmq(}dgp(yovazurvmfw!cja}`nw&
+@"si~e"kn0egen0hq$i0lmvm0ecjousmq{0vgexo"p`qo"e(g`l`(g"w`udr*
+@"si~e"kn0wkfzqukkf0lkc`d!`va~f"p`u!ulg|d"gifd"gzqrjmfw!cfgeu"}ges"aibr,
+@"sa~ogv(~dtaz0pwm|c/"$I0pwm|ddp$fuwgv(ghlw&
+@"saci=$(_jc}$0lcom0lg$i0gmv|eog$knimm1
+@dviye"kn0lkiasr=$(Ds{$|!uaib!c$zyoe$gv!vv}u!qamyoe*
+@nh(}nlw|usq$ibd"gzu`val0dtmd<!`q|0rmim0`pa(}npa(uwkh(dicj(ujazc/
+@nsiir"e|d`ao(q!dhgqukjo0d{a(vsmi(rdjmft 
+@l$m|wgj(smmec0hq$i|vc}{0uja(xdkc`d!mb(v`qlao,
+@l}(clchd0n`nmsu"p`qu"m{0`agatdlpi|m{$lbnrtmt!umd|!jmlu!wjlus"e(|`pcmb!mfbubv*
+@pg`unnkoyrvw(vhl`(}npa(rnla{0qkhmc/
+@ww|yo"Tggdpw(c`{w20L{$Ekm$ac!`ek{ "$Qu`j((r``})
+Cchzfq$l!lk|0`rtmqs"ejwg$duwgh("1,
+Ccji~`"tmumq$si$mcqggaqmn}(gdnh(qfcmfcu"Omirvkfu!Ikxc/
+Cg$kqsgb}|!ulm~!ge|yoe$jqocjic/"$Eoqpmbr"iawiv${|hr$g~!vlm0qgadc/
+Cgp|us"hmqwg$|xd"`}~fgkf+!mp`usum{u!{k}0lkc`d!ea|0iwv|0cc`di/
+Cgsibd"kn0uja(|hvpdu!rag`mg*
+Cgsibd"kn0uja(`nvmg~!mb(~hvvgwm{gmbhl$%=!kp/c!lk|0gmv(dig$u`i$gv!jaibu,
+Cgsibd8$(digvm7r"edg`{w(q!ali~bg$|x`v$qtp$qof$mhqnklur"e{0xmq(ds{$|!xex0hv%
+Cg}g~e"p`u!07zt!na~um"haur"e(x`rtq0sgpabdoafd!kj(q!pkg}!mb(inwv(vl*
+Bjefwhlc(inwv(ctkp(ghvlgeu"`zqrmfw!{k}b!qsgbe=$(Inw$eerv$ju!imlthlc)
+Bnk{u!vlm0emkz1!"]ge&pa(|dvpa~f"p`u!jaid!mq|1
+Bmgcqupmkur"iawiv$|esl$|xdowm|wgw(dn"w|og$nqbg`(ghvl(q!omzbnp*
+Bmj{elrpao"kn0imim=lc`m0gmkl0hq${dskg||x"bgbck`luo"mf0ujm{0ewjounl*
+Ecvc0smke/!"]ges"g`qoaa(dn"`mfdnkx0xmqz0qjk|fpexxr#
+Ecvc0smkec!cvm0omp(:bmix|dvadi+"`ibj8$(ztqp(g`kp(qof$duu"}ges"aqur"elztqp&>/
+Ecrat!Nkftnl${u{.$*Xd{$oexq((:VKADT+"e(|hxezt!akz`rg$iw`kj{d!c$kbie|bhaa)2
+Ege|x!kw(ztqp(|hda/c!ueq0nd$|umnmfw!{k}0xmq/fd"fmuo"babdf*
+Egia=fm`{0emj/d!lamt!cjq0ighx0gpke0uja(wnfw&
+Egig~r".@QUG.(@ska{dr"eft!Rvaurva{cdq*
+Ek`f7u"}ge!dkzwdv$|!req/
+Ek`f7u"}ges"igdigv(ddnh(inw$fu"pg0dcp(vnm`(gd$|xd"bdnp;
+Ekvmsu"e(thpakd!jm|0nl$qtp$lysgg|0nrtg~dlp$0ekvmsukjo0hl$|xd"vawiv$lysgg|ynl*
+Em$qt"si~u"pg0lcom0lmvm0lmjmi>"$[esg((gd"ed|!fk)0!Hka~!vlm0Gmv|0Mw`ar"c}qsf%
+Ema{0xmqz0cmw{0jlk0vje|0xmq/bd"`gyoe$zyfjp(~nu;
+Emj/d!`k|xdp$yrjmfw!dkz0ujmfwr,$(Inw#d|!rvgr``hq0gkjl0nla(o"p`u!lapd!na~um,
+Emj/d!ge|0umk(}tal20!{k}0lkc`d!qpibu"lasbmqoxhlc)
+Emj/d!rhii!La|X`ao(qu"}ges"sgbj9$qtp$jrq$eyfjp(xhv$qt#
+Emj/d!vad|!c${tn$qt"bgeof$i0rggzuu"`gs.$gdigvyrg$ad!kwf7u"e(cdavmd!cjq}npa&
+Epmf{hlc(`nvmg~r"kn0cmkru!oeq0mcjl0xmq(yo"niym"mn0xmq(qsg$}~egv("0,
+Epkx0xmqz0wcjadx"eft!ea|0sk`(g"}ges"nmgdnw)0!Rmk{qmgcuuq$irnwp)
+Dcp(!1"gdwgw(g"cibmkg(qof$cudr$i|m"l}}`lw(qu"e(dvm){atcvm0ekw|qoaa&
+Dgh{0ik`m0tl`mb!oql>!"Q{u!c$}~hakz~!vk(smgez0uja(g`vaz0`l`(}`ia(digi(fhqmj|d,
+Dnb(x`q$mhupe(cqgal>
+Dlczqwg$qtp$yrja{0vkp`0`"si~e"kn0vkw`yoe*
+Dtafdtchdi!{k}0vkhd0bmim0um$itlkvm0uja(cvkb|0dnaoqoaa(g"e(bdvvmqukjo0o{ixx/
+Dtaz0igezt!jm{chlc(tvwatd=$(Y!(ofuv($qt"lito%p)
+Dtaz0mkb|ue"e(tsccg~!akz`rg;
+Dtaz0rgaf0`"hmbpk|d`"`i~bkjo0uja(ddlc}/
+Dtaz0rgaf0xmqz0vgexo"cdv"tdqhf;
+Dtaz0ucimt!c${xnromuqgv7
+Dtaz0upmmt!fmowhlc(dipk}wi"e(F`wh|0Fwezt>
+Dtaz0upmmt!gjkx`lpa~f"e(bnra7
+Gnkidhlc(uxgw(s`l#|0rveft!Jeqhkef0rjmzdr,
+Gmv(qo{$zulg`q0ujazu!kw(q!om{us{*
+Fkefd!`e|c!vqz~!kj|!emi~u"ri}qkvmc/
+Fmkl0ec}(vnp$gfdpgg}hlc(cqpismgw&0!Vvq0`"w|udrhmsicwm>
+Ichn0Lmkf0umjawiv*(0)Cp(|dcw|0hv#{0cgp|us"p`qo"jg0Lmkf0`v$i|m,-
+Ighx1!"M/}!`aa~f"lm|e"tzyrmjmb!kj(q!dkzdtla(snmoau!dekdnp})
+Imq{ubcp{0icrm0okjm0mkrmc-"oadugj{0nlhq0nla&
+Ims(|nlc(s`l$qt"pzu`f$qugv7
+Iwjobx=$(Digvm0hq$i~!cf}~ecjku!mb(vnm`(o"p`u!lapd!na~um,
+H"c}urq$qt%rm0ogrmb!jm|0`"iiym"`iulmj(ghvl(dig$I}tna|0nd$Quofkz>/,
+Hd$qt"ezu!vlm0rjkx{dgtmb-"}ge!aef0ucom0ujmfwr"bgb!dvmu/
+Hd$qt"e{{!pai|m{$fybghq<!vlm0Vk~ibe"sa|m"cafd"}ge!vlm0@oqduu,
+Hd$qt"gi~&v$du`pj(dn"`g0hv$umn((|dcvf0um$m~km}(tnkjo0hv$jqen}&
+Hd$qt"p`tel|0uja(Ghxezt!ue{0cc`$0kww|0vcm|0ukhd0xmq(}dgp(dig$_qsnkzt 
+Hd$qt"p}bo"fdyof((tnl#|0dztmsu"}ges"`gw!vk(rd"p}bog`(yovk(q!qamyoe)mid"`gw/
+Hd$qt"si~u"pg0ggad0fpaid-"}ge!oq{d!ge|0rmimdikjo0sged0ckc&
+Hd$qt"si~u"pg0gnkid-"}ge&f$juuvaz0dcp(q!dhgqukjo0d{a&
+Hd$qtp$oxnqp({hnh{0`"tdqxgv$0hv$a~bpaicdq$qtp${snpa&
+Hlgzu`qa(}hl`xvgv20!Veeu!{k}b!msf0fjk{d 
+Hv$nesvlmbr"kfu!vk(cdg$|xd"czu`v$eqo,
+Hv#{0dcwq0um$gfdphgj"e(}nlw|us"mf0`"sge,
+Kww|0cghgg!cjq0upex0emkz0ujazu!oeq0cg$i~nvlmb!mjm>!"N}cu"omuq"bi|mkjo1
+Jcpi~`q$ibd"rmbx"w`qsr?(g`vg`0xmq(tnl#|0bwp(inwv{umd*
+Jgax0`"gdu`p$eyof>(0pwenv!ahmqs"tgdhmj{>
+Jkgcyoe$|xd"pmblkji|!fkmco%p(xtpp(dig$eoqpmbr,
+Jkhdus"fmur"omuq"ex`dcva~f"pa|m"}ge!imd|!vlmys"u}udl*
+Jkhdus"f}~oka{0bcj(rd"pi}df$yuj$kqspk|c!mjdi/
+Mcpmcu"jmgr=$(@tv$hbda*oqlgw&bneqm|hia&~dvlisj%$a~!{k}b!,jmgrpg)
+Mgez~!jk0um${`dnh&0!Rhii!La|X`ao)
+Mgtzubje}~r"latd"p`uhp$omf$a~!c${ubpa|0smke>
+Mgp(inwv(vhlcmbr"`g0uja(g`noa~f"kf0uja(itnobxo`$cuxq*
+Mgp/c!deku!kp20!vlac!vmeu!{k}7sg$fu"cgyoe$|!umf>
+Mgp/c!je~u!c$xqsv}$0epmf{!c$du"kn0cmkru/
+Mku}s"wm|mgv{0em$fu"`zyoi?(dig}(x`va(dn"wmu!{k}0uumku/
+Mwjib!ggdyqqa(dnlmoxu,$(]`{$ic!uad|!sqad!lk1
+Lga|yoe$qtp$ggo"c`rv$lubpaicdq$qtp$debi$koqmluscfdi 
+Lmjmi!vk(yota{d>"$\qjg$ad!vk(dig$dbch(rscjkx!mb(dig$Eqfkg(]dokzi!Te}|u#
+Lmj{ddpw(snoa(vsmi(~nulmbd"pg0ikp(inw$mfdp}xdpa&
+Lmj{ddpw(cmgax0cggierg$qt"ezu!`kzyoe((~nv$jubcq{u!vlmi!grmb!ea|0ukvmt/
+Lmw|0lmj{ddpw(`sgbmb!omfsdf$eu`v*(0Uje|7r"s`i!vlmi!cvm0ikp|yoe$qt#
+Lmw|0nd$|xd"f}wr"mf0Ogp@qbi$ibd"kf0uja(vmmkz>
+Lwg`0`fk(^nvla~f"Li`qgj{>
+Lwh|y,rhiidp$FuuJek{!kw(q!o}|x/
+Ogp@qbi$ac!c`lybvm~u/"$\n"hidd.$qt%vm0`nvmqe{$`nial>
+Ogrmb!cwc0`"w`qiam`dp$ns"e(`skgm0mkw|>
+Ogrmb!`qz~!c$|bdg((eona{c!{k}0mkom0fgp|yoe$x`aomt!um|x!c$#%!qlgfdn*
+Ogrmb!ge|0vkp`0fnkyoe$`qofw)
+Ogrmb!imd|!c$Fq{eqd0,"Wiesmj(ghnh(wdv$|uspmj|x"qxcdv%
+Ogrmb!omft!vlm0lmj{ddpw(xhvpa~f"}ge;"$|xd{$berv$zuqneku!vlm0bjezgnoaf>
+Ogrmb!rhii!nai`gpko0vkp`0`"qfybmvf>
+Ogrmb!qpm`!mj(q!aqzcdf$m~fpe~yoe*
+Ogrmb!qsa}!um|x!c$kqlgvi*!"p`usg#{0omp`yoe$|!vecu!rmkdtpa{0nd*
+Ogrmb!vaisi"}ges"tmd!pq{d!okfcugv(dn"bmdbj*
+Ogrmb!vv}cu"e(b`l`g}!eafuscpgb!kj(}`emk0gkadtr,
+Ogrmb!wwm0`"si~e"kn0ege|x/
+Om$duwgh(snlpiyoq$|gn"w`qq*(0Uja(}`xa(yr"jg0mgrm|/"$[/,*
+Om$xqsv$gv!vlac!dkzdtla(}`{$ju!paxbnfqkue.${dnpal0hl$i0sgpzydted0r{w|ul.$&>/
+Omp(qmn$zelmv{0`pa(qr"iacmgelyoe$ic!vlac!mjm>
+O{ixxr"eft!lqzcdq$dyjg$ju`wpavtn$zyoew&
+O{ixxr"ezu!`hg~egw&0!Cvm0xmq(q!eafdmgii~>
+Ndbmbhlc(q!wjasnpj(q!ukzdina{c!rmmsd"kn0fne{c!omoxu"tzwg$|!`a(v`ved1
+Nn`(x`aombr"jmfdp$lyd8$(inwjo0nla{0em*
+Nl$Obnwjlxne$Lqx.$qt"w`tn`(`mc}(dig${qlg$oqlg$gfdp$i~e"k~us"eft!mrmb/,*
+Nla(w`oa(dn"v}|d"p`ul"ed|-"kfu!eeeu!vk(vhl`(digi$0nla(w`oa(dn"fzyoe$|xdo$i|m,*&
+Nla(x`q$|!naifd"w`qq$jugmvm0bnk{yoe$|ylg*
+Nla(xnoqfstnq{0`"`ii!iam`r"p`u!fkkdnp$ig`{*
+Nla(|dtad0gwv|xdp$lvl${lgfgtx"m{0fgp|yoe$cymnal<!pmoxu"jgg/
+Nlhq0`"saj`p`(s`l$}cd"e(}`emk0vjm{dmg*
+Nlhq0`frm~uwvmbr"kn0dtmd0`nmo~lgj|0ujmf{!mb({hnha~f"p`uhp$lf,
+Nlhq0bjegdha$mfhnw({hnh(cmgaxyoe$eoqpmbr,
+Nlhq0sged0upex`dpw(uraexu!vvi`r,
+Nlhq0sged0vk~ibeq$kqo"szyug${ssmhdc/
+Nrazqukkf0NTAZ[HNH(x`q${d`ppmt!lk>
+Nwg`>!"M(x`va(gigj(dicp(x`rtm~r,
+QNAICD"mo~npa(`sgratq$zelmv&
+Qmhq}npt`0hlpg0`l$mdukj30lga|0xmqz0nrtg~dlp{0gcgm0um$nqbg$|!deku/
+Qpeqyoe$ymn$nbhel|uo"`m}nlw&
+Sms(82z-(dicp(rncp(wdlpdi!fk~!vlm0rvvmql.$Kx`pkf0)6|!<!faidi"m{0cwp(q!fvmql,
+Swjfyoe$ac!ekgt!dkz0xmqz0mgc{>
+Ravmg!wt(inwv(snwviwd#$(Inw#~u!qgzuvg`(eq"a~us{p`yoe$m|rg*
+Ravg|mq$nqekjo/!"M|7r"jgd!vlm0ige|<!kp/c!vlm0iwiathv}&
+Rgaxqfg;(0Mgeci!rmxur=$(Bhqmfw!fee`>"$[elokf0uja(`mwijus#
+Rgceuove|ynl$nqtnp(8bmvm0ewixue+*
+Rjkx{dgtmbr"ezu!kj{esg`(rx"Gzdqq{0iki{umd%
+Rjkx{dgtmbr"wg}dvmeur"`au!dvg}!mhl0`ea&
+Rmim0lc~mc!*a{`dami|m{${}`nh(ogw!0icrm0om${mwpaoq((c`{w(}`l$>0lc~m>
+Rmim0pwa{dhmj{0uja(Cqj}fh!cwcc!hq{d!(`g~&v.(x`ta(qo{$i~ruazc/
+Rmimdhoa{0#oq*0hq$|xd"efcvgv&
+Rmvzi-"jg0gmv|eog$|xhq$|ylg*(0Cgp|us"h}sj"jmhu"ggjka)
+Rrezu!{k}b!qgzmnw(g"ii{d/alycna(eovmd0hv#{0sged|x"jmsdqwibx#
+Rvkz}cpmfwdp$ldqj/d!qpmqm"wgemq*(0Qgkx|d"w|u`n${tnw&
+Rw`luon}$0uja(ttlcmo"sa|m"gg|mct{u/,*
+Ucia~f"e(}`kh(t`gig~!oeq0bcq{u!c${irvae0rgg}bhv}(fhmhidhmj&
+Uja(B`taftq$Jef`hidugv(Rdcw|0nd$\b`nh{0rgaec!vk(rd"gg~bgvfue"ejtv$qtp$dygg*
+Uja(ssmsl0vcw(cn"pgefj((dig$[dnmcmc!ukf7u"tdqx"p`u!Fqfwdmj(qo{igbd.$fiti$fiti*
+Uja(|drvmsicqfc!jmlu!vlmys"pzu`qqzu!kj(q!qii|m"lategj(bnmi&
+Uja(|nlcmb!vlm0vcjl0uja(rdvpmb/
+Uja(}`emk0vmvl0hq$*HXX^Q2/
+Uja(}dgo(cichd0hllmbhv$qtp$jogw(vhna{>
+Uja(}hla{0`pa(t`po(qof$ludr((qof$A0icrm0mgrm|r"pg0fm$jugmvm0H"wdudr*
+Uja(erg$gv!f}fqlkpm0hq$lqoeaztq*
+Ujazu!cvm0om$sow(yo"p`u!WJAH!tazchmj&
+Ujazu!kw(q!vvi`!mj(dikw(|dtad1
+Ujaq0rc}(dicp(Tdokosekf<!Cweegq{<!Mvker.$Qudlkoxt""(Ztkfduy"m{0om$dqv"babl,
+Ujaq0rc}(dicp(Wdp}g~!je{0`l$mfhn$|ghl((rduezu 
+Ujaq0rc}(dicp(]dfq{q!uk}|e"ii{d"e(ddpvarmg$xuu,
+Ujaq0rc}(dicp(^dvLisj"f}wr"ezu!Qadtnl$x|`ljmt/
+Ujaq0rc}(dicp(^dvLisj"gg}dq$a~!01>0gne~sq*
+Ujaq0rc}(dicp(^dvLisj"m{0kww|0`"gg}qwpmb!eeeu/
+Ujaq0rc}(dicp(^dvLisj"m{0lmvm0ujef0kww|0`"gg}qwpmb!eeeu/
+Ujaq0rc}(dicp(^dvLisj"m{0ogrmb!ulid!kp(erg`(dn"fm>
+Ujaq0rc}(dicp(q!`eji!fviwnl$ac!vkg0roed|!vk(xtpp(s"lm|q"}ge/
+Ujaq0rc}(dicp(q!`hisj"t}tekjo0hq${ylrhq0`"fzvl$xeefmfw!ekfu!`el>
+Ujaq0rc}(dicp(q!`hisj"w`udr$`qr"7(r`ew(vtnh(g"sgm,
+Ujaq0rc}(dicp(q!`hi~j"wkbnnh(yr"ha{d"e(rmcjc0bjak{/
+Ujaq0rc}(dicp(q!ae|0ocimt!Okzbhq$`qr"ja~d"hafdq*
+Ujaq0rc}(dicp(q!fa{`dpe|u!qlg`qgv(}hel|0qc}(qo{$xbhaa(yo"e(cimt&
+Ujaq0rc}(dicp(q!fmi}nl`(tne$ac!grmbx`kli&q$jurv$nbhgjl>
+Ujaq0rc}(dicp(q!fsibg"hgbe"gi~!aezbx"e(`hao%qyg$jubcq{u!jm{0`pigb!kw(|hel|>
+Ujaq0rc}(dicp(q!dhgqukjo0d{a(s`l$lugge|0Lg`}c`,
+Ujaq0rc}(dicp(q!dkzdtla(on}(x`q$90mkjm0`l`(inw$kqo%p(bdc`(rdvsmuo"m|>
+Ujaq0rc}(dicp(q!dkzdtla(on}(x`q$90mkjm<!`q|0xmq(s`l$zu`f$juuuam~!kp&
+Ujaq0rc}(dicp(q!dk}~ucmf0mmkcc!lk|xhlc(|hia(q!paoemcvdi!gv}`ukjo0fg}{us,
+Ujaq0rc}(dicp(q!ekdt!fk}rmmkf0hq$svl(}npa(dicj(yuq$uhel|0hl$omf*
+Ujaq0rc}(dicp(q!evat!`qo0vmj/d!req0`"w`qiam`dp$ns"~i`qkjo0xmq(yo"e(cimt&
+Ujaq0rc}(dicp(q!e}xcx"ggemf$|umn$qtp$nsvqfu!dkz0`"tzybg*
+Ujaq0rc}(dicp(q!jek{dp$fqlg`(Qmkgm0nlgm0mgrm|!vaduqmv|ue"fq0tqmfw!c$eyspkz>
+Ujaq0rc}(dicp(q!jek{dp$fqlg`(T`tml0nlgm0rna0`"caqov$yuj$i0rnmfw!cjl0`"vgsj,
+Ujaq0rc}(dicp(q!jek{dp$fqlg`(Tnpk|xx"kfsd"vgtd"e(vne$k|nw`(dn"Kr>
+Ujaq0rc}(dicp(q!jek{dp$fqlg`(]`p}(oaa(|nqp(q!uladd"w`udr$a~!vlm0lc~mc/
+Ujaq0rc}(dicp(q!jad}!mb(rskhdy`lgm0hq$fu"pg0cg$|qjgj(|hel||x,
+Ujaq0rc}(dicp(q!jk|0emc(qof$i0ighd0imqft!cvm0uja(c`oa(dikjo>
+Ujaq0rc}(dicp(q!nee`!leeue"Edqefmf7r"Hi}q"gg~ucmfc!c$lzhlja0vkp`02"sacigw&
+Ujaq0rc}(dicp(q!nezwd"`gw!leeue"Hicrka(ghnh(|dc`(inw$|!vlm0`oqduu,
+Ujaq0rc}(dicp(q!nkfw!qsgbe"m{0omp(q!nmoxu"wsf*
+Ujaq0rc}(dicp(q!oefur"sg~&v$eyoaa(gnp`{0vkp`0xmq&
+Ujaq0rc}(dicp(q!omft!kw(q!vazbh`hm0ujmfw!vk(g`qpm>
+Ujaq0rc}(dicp(q!rhiyo"jq}qj$ymn$g~m{$u`p$i0vkvm0skjo0hl$g~d"aib/
+Ujaq0rc}(dicp(q!rh}}df$`qu"ggemf$ju!c$xbdtmgern}(erg`(ssgw|ue"lm|lgp&
+Ujaq0rc}(dicp(q!rk|ynl$gv!mmd0hq$lygdmkemv$|!evicq,
+Ujaq0rc}(dicp(q!rk|ynl$gv!{koesv$ac!c$kqoaad|df$xukkf0nd${ybijmcr,
+Ujaq0rc}(dicp(q!rqz`mg$so$ac!lk|0`"firx"t}bqna(tsccg~/
+Ujaq0rc}(dicp(q!sqafdpmfw!`hgr!ve{ddq$lygdazuov$|x`l$i0fghidhlk}c!aqju/
+Ujaq0rc}(dicp(q!qgzmn$gv!qqe}nlmfw!je{0nvlmb!leeur,
+Ujaq0rc}(dicp(q!qli}`l$kqo"fmcums(rmgw{yoew(rtv$}ctchdi!fkmco%p&
+Ujaq0rc}(dicp(q!qli}`l$ymn$j|dqw(inw$ns"ef0d{a(g"jmgu"eft!umfw!mb(r`v*
+Ujaq0rc}(dicp(q!qla}lgva~f"cg|e"w`ydn`(yr"jgd!c$xmkw`ue"wa|wgv(cikadt/
+Ujaq0rc}(dicp(q!qtmqs"sa|m"lad!c$fun/k|itel&0!*@g0XMQ({oms(gicp(dicp(yr=-
+Ujaq0rc}(dicp(q!qtgdug`(tsccg~!kw(dig$}|ukiidd"w`qqg$kx`lcmb/
+Ujaq0rc}(dicp(q!qpmdimwkqg$ac!lk(wnm`(yg"}ge!aef0nlhq0igez0xmqz0igezdcge|>
+Ujaq0rc}(dicp(q!qqkst`q{0ocimt!Qqri!umd|!qkeuukimc!uez~!{k}0nd$lqoeaz>
+Ujaq0rc}(dicp(q!ueft!mb(s`lgm|mcpao"m{0omp(|hia(q!ueft!mb(`nn}esrl&
+Ujaq0rc}(dicp(q!ukgt!ekdul"ji}df$Xyomgkxhm$tn`(rd"aicx"pg0bmj|bnn*
+Ujaq0rc}(dicp(qgvaz0jkhdyoe$i0epeoo"m|7r"pa}d"bgb!c$kx`lcm0nd${sdlazi/
+Ujaq0rc}(dicp(qo"eeemgp(g"w|b`lc}|`vmg~!kw(gnpwm0ujef0skjo0`pk}~e"p`u!akd|`p*
+Ujaq0rc}(dicp(qo"e|dha$ac!vlm0cgw|0qneku!vk(xhfa(inwv(dn{w&
+Ujaq0rc}(dicp(qo"epu!leeue"Gdu`taz0nlgm0cghg~fg`(dn"e(x`aomb!leeue"Fmqwgv&
+Ujaq0rc}(dicp(qo"aqu!mb(~dup(qof$i0vkjo0nd$jqu"ezu!fk}rmg$|xd"pzt`hm>
+Ujaq0rc}(dicp(qo"mfst`q{0ocimt!K~ri!qkeuukimc!oecur"sg}dl$nudn${uoqm|ywg*
+Ujaq0rc}(dicp(qo"kxemgj|0ujvg~d"vgl"m{0scvm|x"e(`mcgm0um$yrj$qt%`(rd"mf>
+Ujaq0rc}(dicp(qo"qf|taoq0icgcus"kfsd"lit!c$frg$j|dg`(qu"ef0`npib!cjl0ekal>
+Ujaq0rc}(dicp(qof$|xd{${qx"p`yr"f}d!vlmi!la~us"wii!la~us.$fuwgv)
+Ujaq0rc}(dicp(qo{$ye`lp}}!oakx`lmk0jlkc!vlid!qtmue"oa|mq*
+Ujaq0rc}(dicp(qqrhqyoe$i0tlmksl$`sl$eu`lw(inw#~u!om{cdf$|xd"tgyov*
+Ujaq0rc}(dicp(qsalmmmcacuq$nyof$esg$jogw(`hna{>
+Ujaq0rc}(dicp(rmwa(cumjmc!cvm0sc`a`apafd.$juvcvm>
+Ujaq0rc}(dicp(rtkhlyoe$i0ewjounl$ac!c$|u`o$mvgmv|>
+Ujaq0rc}(dicp(sick|yb"g`qscg|usq$fuwgv(wdv$i0jkgc0nwp(g"edd`pw&
+Ujaq0rc}(dicp(sigias`n$c~nuhmtfg$ac!wwm|dqw(ghvlgeu"tzqgv(upwmx}dlp&
+Ujaq0rc}(dicp(snnhi`rkjo0`"`}~fgkf0ndpm~!avmqugw(q!refyb,
+Ujaq0rc}(dicp(snwj|yoe$qtp$mwfq$jugmvm0ujaq0icpkx!qlggr"p`qu"}ge!aezu/
+Ujaq0rc}(dicp(thrta~f"e(r`e$gv!vvasjq$a~!c$ntlpiyo"sg~&v$eqjg$ad!cj(ybgfgh/
+Ujaq0rc}(dicp(thrta~f"ef0dgh(qof$jbnuj(}nn`(yo"lgd!ue|us"ii{dq$jtkhdqccm{cd,
+Ujaq0rc}(dicp(tnle|yoe$i0emqj|nmj(yr"apdsgim|x"tatq$kx`pm|i/
+Ujaq0rc}(dicp(ttlcmogazc!rvmvdp$lqsi$kxnakdqug*
+Ujaq0rc}(dicp(u`vmfw!pkqqm"nm|m{$idupekdr"czy{xhq0nuhju`pw&
+Ujaq0rc}(dicp(ufew$0qcjkqjgw(qof$behaa(qsg$berv$i0lwjlqog$jbdconqrv*
+Ujaq0rc}(dicp(uwgvqog$c~nuw(gi{$Euewwi0rveftr"edog$a~!vlm0ecvc>
+Ujaq0rc}(dicp(uwgvqog$qoval0sgg&w`oa{>icgc0um$}~egvo!c$fqlg$kx`lcm>
+Ujaq0rc}(dicp(vhl`a~f"e(ghlja~f"w|b`vaoi!kw(q!fadycgvidd"igfd"kf0xmqz0qcv|>
+Ujaq0rc}(dicp(vhl`a~f"sgbujhmcr"cdqrq$ac!ukzdi"wg}dvla~f,
+Ujaq0rc}(dicp(vnpp}~d"ggjka{0`pa(vnm`(vnp$|xnwc`d/
+Ujaq0rc}(dicp(wnn`(yr"kf|x"sicug`(o"e(`dv$lb`ekf>
+Ujaq0rc}(dicp(wnm`(dikjoc!akeu!vk(dimwm0uje|0vcm|>
+Ujaq0rc}(dicp(wsge{ue"kjzdap{0vkhd0rnmx0nwp(g"ig~rvazc&"li~eq*
+Ujaq0rc}(dicp(yg"M(x`f$i0lkhdynl$lmnezc-"M/t!`qq0xmq(q!okf{d{*
+Ujaq0rc}(dicp(yg"}ge!aef7u"wxumn$|xdl$qt%hd0vkw`0xmq(x`f$i0rrad|!`kg{/
+Ujaq0rc}(dicp(yg"}ge!nm~u!`}(dig${gnp`$0xmq/|m"`au!`}(dig${gnp`&
+Ujaq0rc}(dicp(yg"}ge!rhii!nmcu!c$eoqpmb!{k}7mn$`qwg$i0cgp|us"ci}d,
+Ujaq0rc}(dicp(yg"}ge!qhmuq"sadi"e(tdokf0xmq(}hel|0`uecu!um|x!c$`u`fekxd,
+Ujaq0rc}(dicp(yg"}ge!qpm`!mj(q!avisj"}ge!ak}|e"fzu`i$qtp$eujaz7r"fisj,
+Ujaq0rc}(dicp(yg"}ge&pa(yotm{ycna(inw$kqo"w|ymn$ju!jaibe#
+Ujaq0rc}(dicp(yg"}ge&pa(|taoq0xmq(s`l$nudn$|xd"v}~dq$g~!c${ssmhd>
+Ujaq0rc}(dicp(yo"p`u!`mo0qkg|esg$omf$ac!mjdi!qii|m"g`qoea&
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(yu%w(~nv$x`v$qt"ofv"p`qu"vmqmn}(}`vpmbr,
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(}nmj(bnao{0`pa(bdchdi!fmdyujm}}!avqcuch{>
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(dig$jnpm{x!aq{dnoaz0hq$fuwgv(bhel|>
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(inw$lo%p(~dg`(q!ue|si"pg0ughd0ukim>
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(inw$fudf${lgp`yoe$g|e.$fuv.$jespkue"eft!`h}u/
+Ujaq0rc}(dicp(yo"p`u!fqfwdmj(inw${xnwhl0`nsiir"ggeov$qtp$j|dqwa~fq*
+Ujaq0rc}(dicp(ysmj(wnnae0qne|u!oea|!kwf7u"sgbuj$yrjmfw!dkz>
+Ujaq0rc}(dicp(yu"pi{dq$ntp$ye`ppmbrvenvr"pg0lcom0nla(cucbn>
+Ujaq0rc}(dicp(yu%w(~nv$gfdp$|ymn$|xd"bid!nelydq${yoe*
+Ujaq0rc}(dicp(yu%w(~nv$gfdp$|ymn$|xd"bid!neli!qlgeuq$h_gd$yuj$adr"lmqe%*
+Ujaq0rc}(dicp({haoa~f"e(xdcrq0rve|ed"m{0sged|x"e(ttof(}nta&
+Ujaq0rc}(dicp({haoa~f"e(f`nqirmg$oul"`gurl#|0rgae0um$eqjg${uoqa&
+Ujaq0rc}(dicp(|drvmsicqfc!ijgg!Ne|yo"eft!{k}0rjk}|e"pg/
+Ujaq0rc}(dicp(}hlk|qtpw(wdv$drv$geuqmlu!mb(dig$eq{gw&
+Ujaq0rc}(dicp(}nqp(dsmhdc!cvm0cmvf0`eea~/
+Ujaq0rc}(dicp(~`omfw!{k}b!ae|0Fcvnydn`(ghnh(}`ia(inw$esg$idupekdhta&
+Ujaq0rc}(dicp(~n"kfu!ijggr"a~us{p`yoe$irnwp(uwgvqdikjo0hl$|xd"`}~fgkf>
+Ujaq0rc}(dicp(~n"kfu!rhiir"JmdIcgc0kww|0gmv(dig$neo"kn0hv*
+Ujaq0rc}(dicp(~n"kfu!pai|m{${ecqgzycgw(dn"vms/eeeur,vgwtgha{d,jmdicgc>
+Ujaq0rc}(dicp(~n"kfu!umd|!c`eyu"pg0rvezdhlc(q!pqes,
+Ujaq0rc}(dicp(~tpwmc!qkeuukimc!aezbx"wkqmradc!cjl0ogrmb!wwm0ujae>
+Ujaq0rc}(dicp(oaa(inw#~u!oa|0nla(ghxezt!{k}7wg$euu"p`ul"ed|/
+Ujaq0rc}(dicp(og$|bnnh(yr"sgbuj$9 -2480ogs|c/
+Ujaq0rc}(dicp(on}(T`tml0bcj(vhl`(dig$rn#
+Ujaq0rc}(dicp(on}(qoeadc!rhii!vlmys"libqq$ns"p`uhp$xuuq*
+Ujaq0rc}(dicp(on}(rhe${`dl`mbr"gibs{$omf*
+Ujaq0rc}(dicp(on}(vdoedu!okfcugv{0bcj(|`{$mwfq*
+Ujaq0rc}(dicp(sa${x`oefc!cvm0igeddi{((gdch|xx"eft!um{u/
+Ujaq0rc}(dicp(`mc}a~f"JmdIcgc0hq$dyjg$qmimfw!kj|!c$lu`vl(dsct&
+Ujaq0rc}(dicp(`smfdul"fzu`vla~f"m{0cgw|0upaiddf$ji!c$xbnraz0eka|>
+Ujaq0rc}(dicp(atcbnyoe$eqo{$xukkfc!mb(|dtm|qukkf0bcj(whta(inw$i0igelqbja&
+Ujaq0rc}(dicp(atgaf0cga{0fgp(dicp(g`{$ji!ge|yoe$zxch(zdnhq>
+Ujaq0rc}(dicp(bdc`a~f"e(cbcvm0lmj{ddp${ssmhd0hq$|xd"wi}d"e{0rc}a~f"Adrdpa|x/
+Ujaq0rc}(dicp(bdch(x`aombr"edg`{w(qsg$kovvg|mg`&
+Ujaq0rc}(dicp(bdch(x`aombr"jmfdp${|dgt&
+Ujaq0rc}(dicp(cimtcudrazc!cvm0hlw}bdf$ji!Avgurww(xhowm|g#
+Ujaq0rc}(dicp(cimtcudrazc!la~us"gibs{$esg$|x`l$: !ekdt!rmmsdq((qu"jawiv*
+Ujaq0rc}(dicp(cimtcudrazc!la~us"wm|m"fdurqal0qmpaoq$gv!kj~yrkfa|hv}&
+Ujaq0rc}(dicp(cnn`ausq$u`p$cye"cdwgw(qof${ymn}(xdnimdr,
+Ujaq0rc}(dicp(cnoa([nrw(qsg$g~!vlm0ucom>
+Ujaq0rc}(dicp(cnoa(wtcvlc&"ti|lq$kqo"fm0fpaicdf*
+Ujaq0rc}(dicp(cnoa(}nlw|usq$eqx"oacr"}ges"fguq$|!qpg`!{k}b!fv}}!rhiihlc&
+Ujaq0rc}(dicp(cnoa|ylgw(inw$kqo"fm0uja(xhv$gv!vlm0qcv|i!ulm~!rhiihlc(q!jkz~/
+Ujaq0rc}(dicp(dig$FuuJek{!eklc!eafuschdi!uadsnoa(inwv(c`avavhaa{>
+Ujaq0rc}(dicp(dig$\xsga(Bhlc{0`pa(~`oal0Wkhqq-"Jm~xc$i~e"Jibxc*
+Ujaq0rc}(dicp(dig$_y{cvl0nd$Quofkz0icw(q!faidi"saci,
+Ujaq0rc}(dicp(dig$hx`kv(g"p`u!fko7!kw(cnoa|ylgw(qo"anvdapafd"vm}df}&
+Ujaq0rc}(dicp(dig$jurv$|ylg$|!qe~u!{k}b!eeeu!kw(~nu$jugmvm0hv#{0umk(|`va&
+Ujaq0rc}(dicp(dig$jyfea{d!mf{d`ahm0hl$FuuJek{!kw(inwv(}hl`&
+Ujaq0rc}(dicp(dig$oeq$ibd"efws{$xdl$|xd{$`yu"}ge!um|x!mfbubvw&
+Ujaq0rc}(dicp(dig$xbhgw|xnm`(qsg${`dami|m{$nqwmvmt!`}(dig$oeq*
+Ujaq0rc}(dicp(dig$qx"pg0lcom0`"qfybmvf0ictxi!kw(dn"cafd"m|0vje|0hv$qovw&
+Ujaq0rc}(dicp(digvm0`pa(~n"fdqbi$gb!uladd"w|ogw$0nlhq0fpeq>
+Ujaq0rc}(dicp(digvm0`pa(~n"wcumgpg~r"lm~bg$|xdpa(qsg$f!qom|dvkf0jg}{>
+Ujaq0rc}(dicp(digvm0hq$i0bna~us"vgwtg$a~!grmbx"lisjgv(ztqp(txkjo0um$mcbctm>
+Ujaq0rc}(dicp(digvm0hq$f!qqkx!vla~f"e{0gpam0`frasd,
+Ujaq0rc}(dicp(digvm0hq$g~m{$g~d"sii!vk(ghl$id!La|X`ao&
+Ujaq0rc}(dicp(digvm0nlgm0vcw(q!daibrmim0bjegdha${qlwviy!leeue"H}{!Lk&
+Ujaq0rc}(dicp(digvm0vcw(q!vmeu!ulm~!aqzcdf$`m{$qugv(g`qj/d!ue|us,
+Ujaq0rc}(dicp(digvm7r"jg0qmmfd!kj(ss{mfw!mrmb!c$ob`{$g{g*
+Ujaq0rc}(dicp(digvm7r"kf|x"lg`d"hmvu"enddp$qt%rm0nrafue"Ti~emvi7r"fgh/
+Ujaq0rc}(dicp(dsct(tnmv{0rjk}|e"edg`{w(rd"iibjg`(pBcq|ynl>(0Upex0Emkz7/
+Ujaq0rc}(dicp(erkjo0`l$i}tna|0nd$kx`lcm0hqj/d!c$lygdmkemv$g`dpe|ynl*
+Ujaq0rc}(dicp(g`vaz0vchcyoe$jnvw(qsg$juuvaz0hd$qt"ezu!de{d!nmcu!Jaz}dq*
+Ujaq0rc}(dicp(gigj(inw$u`p$i0bkvkemcv(qlwhmd!{k}0lkc`d!pa{ul`hm0`"pzmn*
+Ujaq0rc}(dicp(gigj(inw#zu!jqfws{$qt"gi~!ea|0`"taj{c$a~!14(}nta{0np$ad&q$nbdg*
+Ujaq0rc}(dicp(gigj(inwv(wnf$ac!cjobx"}ge!qlgemf$|bx"efujaz0nla&
+Ujaq0rc}(dicp(ghghlyoe$i0tlmksl$`sl$|qjgw(cupafwuj*
+Ujaq0rc}(dicp(ghvl(cqgal0cmk|c!{k}0ogrmb!ukzbx"ejtv$`yu"eft!pqf0`agatdlp{>
+Ujaq0rc}(dicp(inw$kqo"`mvdcp(q!imd|dp$jud"sadi"e(eokggbo"lgbo,
+Ujaq0rc}(dicp(inw$kqo"mffnia(q!pmfw!mb(dhoadi!`ek{tr$ns"e(vtnh(xdcha~f,
+Ujaq0rc}(dicp(inw$kqo"kf|x"gzrq$|xd"Vafdp$[dxz$a~!Alibnl#{0cme|>
+Ujaq0rc}(dicp(inw$kqo"kf|x"oa|m"e(|hal(oaa(qof$|xdl$qt%`(rdvpmb!`a(s`panem,
+Ujaq0rc}(dicp(inw$kqo"kf|x"saci"bgb!vla~fq$qt%rm0`nvmqe{$`qe,
+Ujaq0rc}(dicp(inw$kqo"pzqhl$i0bcp(rx"pi|jkjo0fgj||x"pg0hv*
+Ujaq0rc}(dicp(inw$kqo"pzqhl$i0emc(rx"pi|jkjo0gkve|x"pg0hv*
+Ujaq0rc}(dicp(inw$kqo"pzerv$qtp$omf$yuj$|xd"oa~f,
+Ujaq0rc}(dicp(inw$kqo%p(ghra(inwv(wsge{i!`ezu!jeftr"kf0`"fdqoi${ssmhd>
+Ujaq0rc}(dicp(inw$kqolk|0upq{d!qgzmnw(g"v}}np*
+Ujaq0rc}(dicp(inw$ktn`(v`nh(xdc`(wgv(xdgh{0gmv(qo"afuse}(fnppmh/
+Ujaq0rc}(dicp(inw$fudf$i0jg}(yo"kztdp$|!mtm~!nkk{df$lnpw&
+Ujaq0rc}(dicp(inw$fudf$i0lkvzs"pg0ompasd"e(}homk0hl$i~!cj|ypwa(cimt&
+Ujaq0rc}(dicp(inw$zu`nhq0bcj(erg$i0qkgc=`za(eona{c!{k}0sged|x"gi~&v*
+Ujaq0rc}(dicp(inw${xnwhl0`nsiir"w|sg$qtp$|nnw(yo"p`u!aad|`p*
+Ujaq0rc}(dicp(inw${xnwhl0cg$kqsgb}|!ula|d"gdyl`mfw!vlm0mc`lus"pg0rwgkurq*
+Ujaq0rc}(dicp(inw${xnwhl0bchd0xmqz0`pigb!bv}curvgg%*
+Ujaq0rc}(dicp(inw${xnwhl0ocim0xmqz0emc(Cqw`{0um$`qwg$i0bmkd0qgp&
+Ujaq0rc}(dicp(inw${xnwhl0ocim0xmqz0vgexo"enddp$qtp$nysqp(}nlw|us"oa|m,
+Ujaq0rc}(dicp(inw${xnwhl0omp(rnvlmb!dhi}hlc(ERGJMDdpw30ujaq7sg$nysg$zurkw|qov*
+Ujaq0rc}(dicp(inw${xnwhl0ogrmb!kj|bnfqku!c$zqg$omgi(dn"e(ctag}rtq*
+Ujaq0rc}(dicp(inw${xnwhl0ogrmb!qhmuq"jmqs"mffhqmj|d"va~f"szqhvl{>
+Ujaq0rc}(dicp(inw${xnwhl0ogrmb!vvq0um$du`ta(dig$leoeag~!um|x!c$jqf"kn0fgi{>
+Ujaq0rc}(dicp(inw${xnwhl0sgigfd"}ges"ez}np$jugmvm0rkp|yoe$g~!c$|xsmjm>
+Ujaq0rc}(dig$oeq$ouu"efws{$av!{k}0jkhd0xmqz0emc&
+Ujm{0gmv|eog$knimm0hq$kq{$xbnvakddf*
+Ujm{0gmv|eog$knimm0hq$|xd"tzqgv|i!mb(Vnpp}~d"Ggjka{<!Kjk>
+Ujm{0sghmqrg$kovea~r"585!pakibnal0lcpmbhch&
+Ukim0rveftr"w|ymn$ic!vlm0rwgkecww(sicjour"lmb!aeduofez0um$Bqowezi!3(("124&
+Ukvmt>"$\bx"e(cbpkd|!mb(sicvoyoe$g~!{k}brghn>
+Um$isika~u!vlm0og||0ikc`us"vidhlc$0xmq(~dg`(#!okzu!rka~uq*
+Um$zu`al(xdcrm~-"a{s`ra(dig$leoeag~!ula|d"smqskjo0`"va~f"kn0mgrad`vmg~/
+Umqzyrvw(gdcv(cikv|c!nk}t!gjgefj$|!uecu!vlm0egel>
+Upmluovw(qsg$ns"q{u!wjlusue|us,
+Up}(s`nha~f"}ges"oid`le(]nwha~dvpm>
+Vch|j-"`}}c"jq}qj((vnp$yehao(zhew(fdz*
+Tng`1!"P`qu"imqu"sic!rea~ug`)
+Tlbgbuwjiddn}$0ujm{0lgw{qfg$qr"hmvu"mfddlpaochdi!`hi~j,
+Tqmfw!c$eslmfw!qpib!kj(dig$mfdlmfw!je{0om$mvggg|>
+Vch|j-"`}}c"jq}qj((vnp$yehao(zhew(fdz*
+Vcj|0`"la~u=$(J`r$i0vcjl0nd$eqjg$a~wkwarmg$g~!{k}b!uai`nl%
+Vcj|0um$icbgjl0hl$i0iwvzi>"$I`qn}(qu"Cajlmjas!Kj{dhvq|u/
+Vcj|ue8${xnromuqgv{>!"Wm~e"e(cbpkd|!mb(}`kh(dn"Iiwd"kn0Xgjls-Hmfdn$;%.Fqfwdmj&
+Vcvfyoe>(0gmv|eog$zu`fmfw!aef0cg$`q{cvltq$|!{k}b!jai|uj*
+Vg$`qwg$fuv"siir"kn0egpmsukjo0upaisigvq>/,
+Vgp(dnuadc!oecu!evmqu"smqqmj{1
+Vje|0`"tadx.$qt"gi~omp(bdc`(yu#
+Vje|uwgv(s`l$o!uvg~f.$ymn$o!uvg~f,
+Vjaf0`"tausaaz0epkxc!kj(o"}ge-"}ge!umd|!`a(ddot|ue"pg0ikp(dig$kuhnmfw 
+Vjaf0hl$i0lc~m0gmhdv"p`u!pmoxu"si|m"eft!{k}0vkhd0ogrmb!ea|0mmw|>
+Vjaf0xmq(x`ta(q!iaq<!{k}0emj/d!je~u!vk(g`kp(vnp$|xd"c}qsf*
+Vj}(qsg$qt"sicukjo0ukim0sgelyoe$nsvqfur=
+Vkw`0gmv(q!oe{ddp$cux"eft!mtm~!vlm0Lccas!Oaes{$^qtnp)
+Vk~ibe"ap`dap{0dtazi!okfcugv(dn"`g0hvw(ttv}&
+Vms)0![k}0bmqdt&ta(x`f$i0qmpao"kn0gpqad!hqasd#
+Xgp(Qomp`us"Wa|m{$Eurqeou!*]ICL+*
+Xmq(qsg$lurvmfue"pg0cg$eyrnal0c{$i0gmv|eog*
+Xmq(s`l$ouu"e(wdlqa~d"Eeemgp(g"]m~emv(rx"`gyoe$|xd"bg|mmsa~f8$(=,Okzu,/
+Xmq(s`l$eqjg$`m{$qugv(rx"fgymkjo0uja(xdnh(tv$gv!kp&
+Xmq(s`l$eqjg$`m{$qugv(rx"fgymkjo0uja(xdnh(tv$gv!kp&
+Xmq(s`l$xbnvakd!{k}brghn0gpke0cnek{!fviwnlw(rx"`gyoe$|xd"bg|mmsa~f8$(=,Okzu,/
+Xmq(s`l#|0fgp(rx"p`u!qji{d,
+Xmq(simom0nl$|xd"bgbuwjm0bmkcyd,$(=,Okzu,/
+Xmq(vdgh(|hia(cnoag~d"m{0qwhdyoe$qtp$duf,
+Xmq(x`ta(dn"k}dvkp(dig$[`i{jp0np$xqx"lmb/
+Xmq(xdcv(dig$nsvqfu!akg{hg#{0ikw{yoe%
+Xmq(}`{$ouu"vasi"wm|mkjo0mgp|usq((rtv$juvcvm0nd$juhlc(rmcgc}`khmt 
+Xmq(gdaft!Qliy,Jqdee"fq0rjaidikjo0xmqz0bp}{{okbm0vkp`tv$`qwkjo0epe~!`hge,
+Xmq(cvchdvg`(dig$nsvqfu 
+Xmq(g`lp(dn"vmw`kj(cupafwuj;(0Uuk(|dtadc!clmqe"m{0`"c}urvlgerg%
+Xmq(ghnh(uoak}~ugv(q!ved|-"`ibj.$i~e"czedqkeu!avmquwvm>/,
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\rumors.fal SlashTNG-master\dat\rumors.fal
--- slashem-0.0.7E7F3\dat\rumors.fal	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\dat\rumors.fal	Sun Dec 25 14:55:40 2016
@@ -215,7 +215,6 @@
 They say that a potion of yogurt is a cancelled potion of sickness.
 They say that a purple worm is not a baby purple dragon.
 They say that a quivering blob tastes different than a gelatinous cube.
-They say that a runed broadsword named Stormbringer attracts vortices.
 They say that a scroll of summoning has other names.
 They say that a shaman can bestow blessings but usually doesn't.
 They say that a shaman will bless you for an eye of newt and wing of bat.
@@ -337,6 +336,7 @@
 They say that wielding a unicorn horn takes strength.
 They say that with speed boots you never worry about hit and run accidents.
 They say that you can defeat a killer bee with a unicorn horn.
+They say that you can invoke a ring of timely backup for a full healing.
 They say that you can only cross the River Styx in Charon's boat.
 They say that you can only kill a lich once and then you'd better be careful.
 They say that you can only wish for things you've already had.
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\rumors.tru SlashTNG-master\dat\rumors.tru
--- slashem-0.0.7E7F3\dat\rumors.tru	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\dat\rumors.tru	Sun Dec 25 14:56:18 2016
@@ -1,3 +1,4 @@
+A babelfish might remind you of a wraith.
 A blindfold can be very useful if you're telepathic.
 A candelabrum affixed with seven candles shows the way with a magical light.
 A crystal plate mail will not rust.
@@ -8,6 +9,7 @@
 A potion of blindness lets you see invisible things.
 A priest can get the gods to listen easily.
 A priestess and a virgin you might be, but that unicorn won't care.
+A Ravenous Bugblatter Beast Of Traal seems to be concerned about your life.
 A ring of conflict is a bad thing if there is a nurse in the room.
 A short sword is not as good as a long sword.
 A succubus will go farther than a nymph.
@@ -47,6 +49,7 @@
 Don't mess with shopkeepers, or you'll get the Guild after you.
 Dragons never whip their children; they wouldn't feel it!
 Eat your carrots.  They're good for your eyes.
+Eating a creeping 42 is not really like eating a wraith.
 Eating a freezing sphere is like eating a yeti.
 Eating a killer bee is like eating a scorpion.
 Eating a tengu is like eating a nymph.
@@ -70,6 +73,7 @@
 Getting too warm?  Take off that Amulet of Yendor and stay away from the exit!
 Gods expect the best from their priesthood.
 Gods look down their noses at demigods.
+Greek mythology is often very vivid.
 Guy Montag keeps his scrolls in a bag.
 Handle your flasks carefully -- there might be a ghost inside!
 Holy water has many uses.
@@ -125,8 +129,10 @@
 Potions don't usually mix, but sometimes...
 Psst!  It's done with mirrors!
 Put on a ring of teleportation:  it will take you away from onslaught.
+Quantum mechanics know about quantum mechanics.
 Rays aren't boomerangs, of course, but still...
 Read the manual before entering the cave -- you might get killed otherwise.
+Reading Adams might be fun -- even if it doesn't help you.
 Reading Herbert might be enlightening in one case.
 Reading Tolkien might help you.
 Reading scrolls after drinking booze can give confusing results.
@@ -169,6 +175,7 @@
 They say that Hell used to be a lot bigger.
 They say that Juiblex is afraid of a wand of digging.
 They say that Medusa would like to put you on a pedestal.
+They say that monsters can use a ring of timely backup for a full healing. The player, however, can not.
 They say that Vecna is alive, and his lich friends are too!
 They say that Vecna has a huge hoard of treasure.
 They say that Vlad lives!!! ... in the mazes.
@@ -195,6 +202,7 @@
 They say that a polymorph trap is magic and magic protection prevents it.
 They say that a potion of healing can cancel a potion of sickness.
 They say that a potion of monster detection sometimes works both ways.
+They say that a runed broadsword named Stormbringer attracts vortices.
 They say that a sink looks different from high above the floor.
 They say that a summoned demon could improve your game.
 They say that a tin of wraith meat is a rare dining experience.
@@ -215,6 +223,7 @@
 They say that by listening carefully, you can hear a secret door!
 They say that carrots and carrot juice may improve your vision.
 They say that cave spiders are not considered expensive health food.
+They say that chemical knowledge is useless without proper equipment.
 They say that demigods must leave behind their prized earthly possessions.
 They say that dipping things in toilets is a bad habit.
 They say that disturbing a djinni can be a costly mistake.
@@ -281,6 +290,7 @@
 They say that sinks run hot and cold and many flavors in between.
 They say that snake charmers aren't charismatic, just musical.
 They say that soldiers are always prepared and usually protected.
+They say that some bags are hungry.
 They say that some eggs could hatch in your pack, lucky or not.
 They say that some fire ants will make you a hot meal.
 They say that some horns play hot music and others are too cool for words.
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\dat\ttyoptions SlashTNG-master\dat\ttyoptions
--- slashem-0.0.7E7F3\dat\ttyoptions	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\dat\ttyoptions	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,22 @@
+
+    SlashTNG version 0.0.7E7F3
+
+Options compiled into this edition:
+
+    blackmarket level, color, data librarian, debug mode, Elbereth,
+    experience points on status line,
+    insurance files for recovering from crashes, light sourced spell effects,
+    invisible objects, Keystone Kops, exclusive lock on level 0 file,
+    log file, news file, redo command, saddles and riding, display layers,
+    screen clipping, screen control via WIN32 console I/O, seduction,
+    show damage amounts, show weight of inventory, sinks,
+    lightsabers and dim lightsabers, Houchou, firearms, tourists,
+    user sounds via pmatch, walled mazes, yeomen, zero-compressed save files,
+    save and bones files accepted from versions 0.0.7E2 through 0.0.7E7,
+    basic NetHack features.
+
+Supported windowing systems:
+
+    traditional tty-based graphics,
+    with a default of tty.
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\DUMPERROR.bat SlashTNG-master\DUMPERROR.bat
--- slashem-0.0.7E7F3\DUMPERROR.bat	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\DUMPERROR.bat	Sun Jan 01 20:24:24 2017
@@ -0,0 +1,3 @@
+PATH=c:\mingw\bin
+cd src
+mingw32-make -B makefile.gcc install>out.txt 2>&1
\ No newline at end of file
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\fullinstall.bat SlashTNG-master\fullinstall.bat
--- slashem-0.0.7E7F3\fullinstall.bat	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\fullinstall.bat	Sun Jan 01 20:07:50 2017
@@ -0,0 +1,3 @@
+PATH=c:\mingw\bin
+cd src
+mingw32-make --always-make makefile.gcc install>out.txt
\ No newline at end of file
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\history.txt SlashTNG-master\history.txt
--- slashem-0.0.7E7F3\history.txt	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\history.txt	Sun Jan 01 01:12:41 2017
@@ -29,6 +29,12 @@
 | Section 1: Yesterday's News |
 +-----------------------------+
 
+ver 0.0.7E7F3 [January 1/2017] [Release by Ozma777]
+-updated with all The Next Generation code
+-Stormbringer doesn't draw vortices (oh well)
+-Rerolls and force minimum attribute NOT completed because I don't know how (and where) to put it.
+-----In case this is wrong I replaced slashem with SlashTNG (build directories and program name) in as many places as I could find
+
 ver 0.0.7E7F2 [December 4/2005] [Released by Ali]
 -fixed bug 1232707: engraving with lightsabers
 -fixed bug 1237780: gtk window port fails to build with gcc-4.0
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\artifact.h SlashTNG-master\include\artifact.h
--- slashem-0.0.7E7F3\include\artifact.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\artifact.h	Sat Dec 24 13:18:44 2016
@@ -33,6 +33,7 @@
 #define SPFX_DALIGN 0x1000000L	/* attack bonus on non-aligned monsters  */
 #define SPFX_XRAY   0x2000000L	/* gives X-RAY vision to player */
 #define SPFX_REFLECT 0x4000000L /* Reflection */
+#define SPFX_PROTEC 0x8000000L	/* protects you if worn (+2 to AC) */
 
 #define SPFX_DBONUS 0x1F00000L	/* attack bonus mask */
 
@@ -69,5 +70,7 @@
 #define SUMMON_FIRE_ELEMENTAL           (LAST_PROP+14)
 #define SUMMON_WATER_ELEMENTAL          (LAST_PROP+15)
 #define OBJ_DETECTION	(LAST_PROP+16)
+#define IDENTIFY	(LAST_PROP+17)
+#define DRAGON_BREATH	(LAST_PROP+18)
 
 #endif /* ARTIFACT_H */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\artilist.h SlashTNG-master\include\artilist.h
--- slashem-0.0.7E7F3\include\artilist.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\artilist.h	Sat Dec 24 13:22:46 2016
@@ -262,6 +262,36 @@
 	PHYS(5,7),        DFNS(AD_DRST),  NO_CARY,        0, A_CHAOTIC, PM_DROW, NON_PM, 6000L ),
 	/* Auto-poison code in dothrow.c */
 
+A("Mumakbane",			LONG_SWORD,
+	(SPFX_RESTR|SPFX_DMONS), 0, PM_MUMAK,
+	FIRE(5,30),	NO_DFNS,	NO_CARY,
+	0, 		A_NEUTRAL,	NON_PM, NON_PM, 500L ),
+
+A("Wormbiter",			CRYSKNIFE,
+	(SPFX_RESTR|SPFX_DCLAS), 0, S_WORM,
+	PHYS(5,0),	NO_DFNS,	NO_CARY,
+	0,		A_NEUTRAL,	NON_PM, NON_PM, 2000L ),
+
+A("Shocker",			ELECTRIC_SWORD,
+	SPFX_RESTR, 0, 0,
+	ELEC(3,0),	NO_DFNS,	NO_CARY,
+	0,		A_NEUTRAL,	NON_PM, NON_PM, 1000L ),
+
+A("Scales of the Dragon Lord",	GRAY_DRAGON_SCALE_MAIL,
+	(SPFX_NOGEN|SPFX_RESTR|SPFX_PROTEC), 0, 0,
+	NO_ATTK,	NO_DFNS,	NO_CARY,
+	DRAGON_BREATH,	A_CHAOTIC,	NON_PM, NON_PM, 5000L ),
+
+A("The Burned Moth Relay",	RELAY,
+	(SPFX_RESTR), SPFX_PROTEC, 0, 	
+	NO_ATTK,	NO_DFNS,	NO_CARY,
+	0,		A_NEUTRAL,	NON_PM, NON_PM, 200L ),
+
+A("The Key Of Access",		SKELETON_KEY,
+	(SPFX_RESTR|SPFX_NOGEN),	0,		0,
+	NO_ATTK,	NO_DFNS,	NO_CARY,
+	CREATE_PORTAL,	A_NONE,		NON_PM, NON_PM, 200L ),
+
 A("Hellfire", CROSSBOW,	/* WAC */
 	(SPFX_RESTR|SPFX_DEFN), 0, 0,
 	PHYS(5,7),        FIRE(0,0),  NO_CARY,        0, A_CHAOTIC, NON_PM, NON_PM, 4000L ),
@@ -346,6 +376,12 @@
 	(SPFX_NOGEN|SPFX_RESTR|SPFX_INTEL), (SPFX_WARN|SPFX_TCTRL), 0,
 	NO_ATTK,        NO_DFNS,        CARY(AD_COLD),
 	SUMMON_FIRE_ELEMENTAL,         A_NEUTRAL, PM_FLAME_MAGE, NON_PM, 50000L ),
+	
+A("The Nethack Sources",	PACK_OF_FLOPPIES,
+	(SPFX_NOGEN | SPFX_RESTR | SPFX_INTEL),
+		 (SPFX_SEARCH | SPFX_ESP | SPFX_REGEN), 0,
+	NO_ATTK,	NO_DFNS,	NO_CARY,
+	IDENTIFY,	A_NEUTRAL,	PM_GEEK, NON_PM, 5000L ),
 
 A("The Staff of Aesculapius",	QUARTERSTAFF,
 	(SPFX_NOGEN|SPFX_RESTR|SPFX_ATTK|SPFX_INTEL|SPFX_DRLI|SPFX_REGEN), 0,0,
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\attk.h SlashTNG-master\include\attk.h
--- slashem-0.0.7E7F3\include\attk.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\attk.h	Sun Dec 25 20:22:57 2016
@@ -66,6 +66,7 @@
 #define AT_TUCH		5		/* touches */
 #define AT_STNG		6		/* sting */
 #define AT_HUGS		7		/* crushing bearhug */
+#define AT_LASH		8		/* whirl around and hit */
 #define AT_SPIT		10		/* spits substance - ranged */
 #define AT_ENGL		11		/* engulf (swallow or by a cloud) */
 #define AT_BREA		12		/* breath - ranged */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\date.h SlashTNG-master\include\date.h
--- slashem-0.0.7E7F3\include\date.h	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\include\date.h	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,15 @@
+/*	SCCS Id: @(#)date.h	3.4	2002/02/03 */
+
+/* This source file is generated by 'makedefs'.  Do not edit. */
+#define BUILD_DATE "Thu Jan 05 19:04:19 2017"
+#define BUILD_TIME (1483671859L)
+
+#define VERSION_NUMBER 0x00000707UL
+#define VERSION_FEATURES 0x181fee4cUL
+#define IGNORED_FEATURES 0x00800000UL
+#define VERSION_SANITY1 0x4b23e2a0UL
+#define VERSION_SANITY2 0xac99d600UL
+
+#define VERSION_STRING "0.0.7E7F3"
+#define VERSION_ID \
+ "Windows SlashTNG tty Version 0.0.7E7F3 - last build Thu Jan 05 19:04:19 2017."
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\dgn_comp.h SlashTNG-master\include\dgn_comp.h
--- slashem-0.0.7E7F3\include\dgn_comp.h	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\include\dgn_comp.h	Thu Jan 05 19:04:21 2017
@@ -0,0 +1,32 @@
+#ifndef YYERRCODE
+#define YYERRCODE 256
+#endif
+
+#define INTEGER 257
+#define A_DUNGEON 258
+#define BRANCH 259
+#define CHBRANCH 260
+#define LEVEL 261
+#define RNDLEVEL 262
+#define CHLEVEL 263
+#define RNDCHLEVEL 264
+#define UP_OR_DOWN 265
+#define PROTOFILE 266
+#define DESCRIPTION 267
+#define DESCRIPTOR 268
+#define LEVELDESC 269
+#define ALIGNMENT 270
+#define LEVALIGN 271
+#define ENTRY 272
+#define STAIR 273
+#define NO_UP 274
+#define NO_DOWN 275
+#define PORTAL 276
+#define STRING 277
+typedef union
+{
+	int	i;
+	char*	str;
+} YYSTYPE;
+extern YYSTYPE yylval;
+/**/ 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\extern.h SlashTNG-master\include\extern.h
--- slashem-0.0.7E7F3\include\extern.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\extern.h	Sun Jan 01 13:05:45 2017
@@ -60,6 +60,7 @@
 E const char *FDECL(artiname, (int));
 E struct obj *FDECL(mk_artifact, (struct obj *,ALIGNTYP_P));
 E const char *FDECL(artifact_name, (const char *,short *));
+E int FDECL(artifact_name2no, (const char *name));
 E boolean FDECL(exist_artifact, (int,const char *));
 E void FDECL(artifact_exists, (struct obj *,const char *,BOOLEAN_P));
 E int NDECL(nartifact_exist);
@@ -79,6 +80,9 @@
 E boolean FDECL(artifact_hit, (struct monst *,struct monst *,
 				struct obj *,int *,int));
 E int NDECL(doinvoke);
+E boolean FDECL(nogen_nrartifact,(int artino));
+E boolean FDECL(exists_nrartifact,(int artino));
+E int FDECL(nrartifact_obtype,(int artino));
 E void FDECL(arti_speak, (struct obj *));
 E boolean FDECL(artifact_light, (struct obj *));
 E int FDECL(artifact_wet, (struct obj *, BOOLEAN_P));
@@ -1883,6 +1887,17 @@
 E void FDECL(bwrite, (int,genericptr_t,unsigned int));
 E void FDECL(bclose, (int));
 E void FDECL(savefruitchn, (int,int));
+/* ### school.c ### */
+
+E boolean FDECL(is_principal, (struct monst *));
+E boolean FDECL(is_teacher, (struct monst *));
+E boolean FDECL(is_educator, (struct monst *));
+#ifdef SOUNDS
+E void FDECL(pupil_sound, (struct monst *));
+E void FDECL(teacher_sound, (struct monst *));
+E void FDECL(principal_sound, (struct monst *));
+#endif
+
 E void NDECL(free_dungeons);
 E void NDECL(freedynamicdata);
 
@@ -1965,6 +1980,9 @@
 E void NDECL(rndcurse);
 E void NDECL(attrcurse);
 
+/* ### smith.c ### */
+E void FDECL(smith_selling, (struct monst *));
+
 /* ### sounds.c ### */
 
 E void NDECL(dosounds);
@@ -2000,6 +2018,7 @@
 
 /* ### spell.c ### */
 
+E boolean FDECL(spell_known, (int));
 #ifdef USE_TRAMPOLI
 E int NDECL(learn);
 #endif
@@ -2029,7 +2048,7 @@
 E void FDECL(stealgold, (struct monst *));
 E void FDECL(remove_worn_item, (struct obj *,BOOLEAN_P));
 E int FDECL(steal, (struct monst *, char *));
-E int FDECL(mpickobj, (struct monst *,struct obj *));
+E int FDECL(mpickobj, (struct monst *,struct obj *,BOOLEAN_P));
 E void FDECL(stealamulet, (struct monst *));
 E void FDECL(mdrop_special_objs, (struct monst *));
 E void FDECL(relobj, (struct monst *,int,BOOLEAN_P));
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\filename.h SlashTNG-master\include\filename.h
--- slashem-0.0.7E7F3\include\filename.h	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\include\filename.h	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,33 @@
+/*	SCCS Id: @(#)filename.h	3.2	96/05/17 */
+
+/* This source file is generated by 'makedefs'.  Do not edit. */
+
+/* Config Filename */
+#ifdef UNIX                
+# define NH_CONFIG_FILE     ".slashtngrc"
+#else
+# if defined(MAC) || defined(__BEOS__)
+#  define NH_CONFIG_FILE     "Slash'EM Defaults"
+# else                     
+#  ifdef VMS                
+#   define NH_CONFIG_FILE     "slashtngini"
+/*file2 should be the same as file except with sys$login: prepend*/
+#   define NH_CONFIG_FILE2    "sys$login:slashtng.ini"
+#   define NH_CONFIG_FILE3    "SLASHTNG.cnf"
+#  else                     
+#   if defined(MSDOS) || defined(WIN32)
+#    define NH_CONFIG_FILE     "defaults.nh";
+#   else                     
+#    define NH_CONFIG_FILE     "SLASHTNG.cnf"
+#   endif
+#  endif
+# endif
+#endif
+
+/* Tile Files*/
+#define NETHACK_PLANAR_TILEFILE "SLASHTNG1.tib"  /* Planar style tiles */
+#define NETHACK_PACKED_TILEFILE "SLASHTNG2.tib"  /* Packed style tiles */
+#define NETHACK_OVERVIEW_TILEFILE "SLASHTNGo.tib" /* thin overview tiles */
+
+/* Environment Options Name */
+#define NETHACK_ENV_OPTIONS "SLASHTNGOPTIONS"
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\lev_comp.h SlashTNG-master\include\lev_comp.h
--- slashem-0.0.7E7F3\include\lev_comp.h	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\include\lev_comp.h	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,88 @@
+#ifndef YYERRCODE
+#define YYERRCODE 256
+#endif
+
+#define CHAR 257
+#define INTEGER 258
+#define BOOLEAN 259
+#define PERCENT 260
+#define MESSAGE_ID 261
+#define MAZE_ID 262
+#define LEVEL_ID 263
+#define LEV_INIT_ID 264
+#define GEOMETRY_ID 265
+#define NOMAP_ID 266
+#define OBJECT_ID 267
+#define COBJECT_ID 268
+#define MONSTER_ID 269
+#define TRAP_ID 270
+#define DOOR_ID 271
+#define DRAWBRIDGE_ID 272
+#define MAZEWALK_ID 273
+#define WALLIFY_ID 274
+#define REGION_ID 275
+#define FILLING 276
+#define RANDOM_OBJECTS_ID 277
+#define RANDOM_MONSTERS_ID 278
+#define RANDOM_PLACES_ID 279
+#define ALTAR_ID 280
+#define LADDER_ID 281
+#define STAIR_ID 282
+#define NON_DIGGABLE_ID 283
+#define NON_PASSWALL_ID 284
+#define ROOM_ID 285
+#define PORTAL_ID 286
+#define TELEPRT_ID 287
+#define BRANCH_ID 288
+#define LEV 289
+#define CHANCE_ID 290
+#define CORRIDOR_ID 291
+#define GOLD_ID 292
+#define ENGRAVING_ID 293
+#define FOUNTAIN_ID 294
+#define POOL_ID 295
+#define SINK_ID 296
+#define NONE 297
+#define RAND_CORRIDOR_ID 298
+#define DOOR_STATE 299
+#define LIGHT_STATE 300
+#define CURSE_TYPE 301
+#define ENGRAVING_TYPE 302
+#define DIRECTION 303
+#define RANDOM_TYPE 304
+#define O_REGISTER 305
+#define M_REGISTER 306
+#define P_REGISTER 307
+#define A_REGISTER 308
+#define ALIGNMENT 309
+#define LEFT_OR_RIGHT 310
+#define CENTER 311
+#define TOP_OR_BOT 312
+#define ALTAR_TYPE 313
+#define UP_OR_DOWN 314
+#define SUBROOM_ID 315
+#define NAME_ID 316
+#define FLAGS_ID 317
+#define FLAG_TYPE 318
+#define MON_ATTITUDE 319
+#define MON_ALERTNESS 320
+#define MON_APPEARANCE 321
+#define CONTAINED 322
+#define OBJFLAG_TYPE 323
+#define OBJFLAGS_ID 324
+#define RANDOMREGION_ID 325
+#define R_REGISTER 326
+#define STRING 327
+#define MAP_ID 328
+typedef union
+{
+	int	i;
+	char*	map;
+	struct {
+		xchar room;
+		xchar wall;
+		xchar door;
+	} corpos;
+} YYSTYPE;
+extern YYSTYPE yylval;
+/**/ 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\mkroom.h SlashTNG-master\include\mkroom.h
--- slashem-0.0.7E7F3\include\mkroom.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\mkroom.h	Sat Dec 24 13:38:02 2016
@@ -74,8 +74,9 @@
 #define LEMUREPIT       18      /* lemures */
 #define MIGOHIVE        19      /* Mi-Go */
 #define FUNGUSFARM      20      /* molds, puddings, and slime */
+#define DOUGROOM	21	/* Adams, creeping 42's etc. */
 
-#define SHOPBASE        21      	/* everything above this is a shop */
+#define SHOPBASE        22      	/* everything above this is a shop */
 #define ARMORSHOP       (SHOPBASE+ 1)   /* specific shop defines for level compiler */
 #define SCROLLSHOP      (SHOPBASE+ 2)
 #define POTIONSHOP      (SHOPBASE+ 3)
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\monattk.h SlashTNG-master\include\monattk.h
--- slashem-0.0.7E7F3\include\monattk.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\monattk.h	Sat Dec 24 13:41:08 2016
@@ -24,7 +24,8 @@
 #define AT_BOOM		14	/* explodes when killed */
 #define AT_GAZE		15	/* gaze - ranged */
 #define AT_TENT		16	/* tentacles */
-#define AT_MULTIPLY	17	/* RJ - multiplies (yes, it's an attack) */
+#define AT_TALK		17	/* talks to you, i.e. Marvin */
+#define AT_MULTIPLY	18	/* RJ - multiplies (yes, it's an attack) */
 
 #define AT_WEAP		254	/* uses weapon */
 #define AT_MAGC		255	/* uses magic spell(s) */
@@ -82,6 +83,7 @@
 #define AD_POLY		43	/* RJ -- polymorphs (genetic engineer) */
 #define AD_CORR		44	/* corrode armor (black pudding) */
 #define AD_TCKL		45	/* Tickle (Nightgaunts) */
+#define AD_DEPR		46	/* depression --- random bad effect */
 
 #define AD_CLRC		240	/* random clerical spell */
 #define AD_SPEL		241	/* random magic spell */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\mondata.h SlashTNG-master\include\mondata.h
--- slashem-0.0.7E7F3\include\mondata.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\mondata.h	Sun Dec 25 20:44:50 2016
@@ -153,7 +153,8 @@
 #define is_covetous(ptr)	((ptr)->mflags3 & M3_COVETOUS)
 #define infravision(ptr)	((ptr->mflags3 & M3_INFRAVISION))
 #define infravisible(ptr)	((ptr->mflags3 & M3_INFRAVISIBLE))
-#define can_betray(ptr)		((ptr->mflags3 & M3_TRAITOR))
+#define can_betray(ptr)		((ptr->mflags3 & M3_TRAITOR))/* won't work without MASSIVE recode
+#define standardmimic(ptr)		((ptr)->mflags3 & M3_MIMIC)*/
 #define cannot_be_tamed(ptr)	((ptr->mflags3 & M3_NOTAME))
 #define is_mplayer(ptr)		(((ptr) >= &mons[PM_ARCHEOLOGIST]) && \
 				 ((ptr) <= &mons[PM_WIZARD]))
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\monflag.h SlashTNG-master\include\monflag.h
--- slashem-0.0.7E7F3\include\monflag.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\monflag.h	Sun Dec 25 20:43:43 2016
@@ -55,6 +55,17 @@
 #define MS_PARROT	44	/* parrots */
 
 
+/* MS_DOUGLAS_ADAMS used to be 42, however I fear the DevTeam eventually 
+** reaching that number.  - sk */
+/* The slashem devteam did. :D --Amy */
+
+#define MS_DOUGLAS_ADAMS 95	/* "42"; "Nice day"; etc. */
+#define MS_PUPIL 	96
+#define MS_TEACHER	97
+#define MS_PRINCIPAL	98
+#define MS_SMITH	99
+
+
 #define MR_FIRE         0x01    /* resists fire */
 #define MR_COLD         0x02    /* resists cold */
 #define MR_SLEEP        0x04    /* resists sleep */
@@ -187,7 +198,8 @@
 
 /* [DS] Lethe */
 #define M3_TRAITOR	0x0400L			/* Capable of treachery */
-#define M3_NOTAME	0x0800L			/* Cannot be tamed */
+#define M3_NOTAME	0x0800L			/* Cannot be tamed *//* doesn't work without MASSIVE coding
+#define M3_MIMIC	0x1600L			/* non-m-class-monster that mimics stuff */
 
 
 #define MZ_TINY		0		/* < 2' */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\monsym.h SlashTNG-master\include\monsym.h
--- slashem-0.0.7E7F3\include\monsym.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\monsym.h	Sat Dec 24 13:51:07 2016
@@ -70,11 +70,13 @@
 #define S_LIZARD	58
 #define S_BAD_FOOD      59
 #define S_BAD_COINS     60
+#define S_GRUE		61
+#define S_WALLMONST	62
 
-#define S_WORM_TAIL     61
-#define S_MIMIC_DEF     62
+#define S_WORM_TAIL     63
+#define S_MIMIC_DEF     64
                         
-#define MAXMCLASSES 63  /* number of monster classes */
+#define MAXMCLASSES 65  /* number of monster classes */
 #define MISCMCLASSES 2  /* currently only wormtail and mimicdef*/
 
 #if 0	/* moved to decl.h so that makedefs.c won't see them */
@@ -145,6 +147,8 @@
 #define DEF_LIZARD	':'
 #define DEF_BAD_FOOD    '%'
 #define DEF_BAD_COINS   '$'
+#define DEF_GRUE   '.'
+#define DEF_WALLMONST   ''
 
 #define DEF_INVISIBLE	'I'
 #define DEF_WORM_TAIL	'~'
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\obj.h SlashTNG-master\include\obj.h
--- slashem-0.0.7E7F3\include\obj.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\obj.h	Sat Dec 24 13:58:36 2016
@@ -113,7 +113,8 @@
 	long age;		/* creation date */
 
 	uchar onamelth;		/* length of name (following oxlth) */
-	short oxlth;		/* length of following data */
+	Bitfield(selfmade,1);	/* made with chemistry set or magic marker */
+	/*short*/long oxlth;		/* length of following data *//*changed this like extended*/
 	/* in order to prevent alignment problems oextra should
 	   be (or follow) a long int */
 	long owornmask;
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\onames.h SlashTNG-master\include\onames.h
--- slashem-0.0.7E7F3\include\onames.h	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\include\onames.h	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,651 @@
+/*	SCCS Id: @(#)onames.h	3.4	2002/02/03 */
+
+/* This source file is generated by 'makedefs'.  Do not edit. */
+#ifndef ONAMES_H
+#define ONAMES_H
+
+#define	STRANGE_OBJECT	0
+#define	ORCISH_DAGGER	1
+#define	DAGGER	2
+#define	ATHAME	3
+#define	SILVER_DAGGER	4
+#define	ELVEN_DAGGER	5
+#define	DARK_ELVEN_DAGGER	6
+#define	WOODEN_STAKE	7
+#define	GREAT_DAGGER	8
+#define	WORM_TOOTH	9
+#define	KNIFE	10
+#define	STILETTO	11
+#define	SCALPEL	12
+#define	CRYSKNIFE	13
+#define	TOOTH_OF_AN_ALGOLIAN_SUNTIGER	14
+#define	AXE	15
+#define	BATTLE_AXE	16
+#define	DWARVISH_MATTOCK	17
+#define	ORCISH_SHORT_SWORD	18
+#define	SHORT_SWORD	19
+#define	SILVER_SHORT_SWORD	20
+#define	DWARVISH_SHORT_SWORD	21
+#define	ELVEN_SHORT_SWORD	22
+#define	DARK_ELVEN_SHORT_SWORD	23
+#define	BROADSWORD	24
+#define	RUNESWORD	25
+#define	ELVEN_BROADSWORD	26
+#define	LONG_SWORD	27
+#define	SILVER_LONG_SWORD	28
+#define	KATANA	29
+#define	ELECTRIC_SWORD	30
+#define	TWO_HANDED_SWORD	31
+#define	TSURUGI	32
+#define	SCIMITAR	33
+#define	RAPIER	34
+#define	SILVER_SABER	35
+#define	CLUB	36
+#define	AKLYS	37
+#define	BASEBALL_BAT	38
+#define	FLY_SWATTER	39
+#define	SILVER_MACE	40
+#define	MACE	41
+#define	MORNING_STAR	42
+#define	FLAIL	43
+#define	WAR_HAMMER	44
+#define	HEAVY_HAMMER	45
+#define	QUARTERSTAFF	46
+#define	PARTISAN	47
+#define	GLAIVE	48
+#define	SPETUM	49
+#define	RANSEUR	50
+#define	BARDICHE	51
+#define	VOULGE	52
+#define	HALBERD	53
+#define	FAUCHARD	54
+#define	GUISARME	55
+#define	BILL_GUISARME	56
+#define	LUCERN_HAMMER	57
+#define	BEC_DE_CORBIN	58
+#define	ORCISH_SPEAR	59
+#define	SPEAR	60
+#define	SILVER_SPEAR	61
+#define	ELVEN_SPEAR	62
+#define	DWARVISH_SPEAR	63
+#define	JAVELIN	64
+#define	TRIDENT	65
+#define	LANCE	66
+#define	ORCISH_BOW	67
+#define	BOW	68
+#define	ELVEN_BOW	69
+#define	DARK_ELVEN_BOW	70
+#define	YUMI	71
+#define	ORCISH_ARROW	72
+#define	ARROW	73
+#define	SILVER_ARROW	74
+#define	ELVEN_ARROW	75
+#define	DARK_ELVEN_ARROW	76
+#define	YA	77
+#define	SLING	78
+#define	PISTOL	79
+#define	SUBMACHINE_GUN	80
+#define	HEAVY_MACHINE_GUN	81
+#define	RIFLE	82
+#define	ASSAULT_RIFLE	83
+#define	SNIPER_RIFLE	84
+#define	SHOTGUN	85
+#define	AUTO_SHOTGUN	86
+#define	ROCKET_LAUNCHER	87
+#define	GRENADE_LAUNCHER	88
+#define	BULLET	89
+#define	SILVER_BULLET	90
+#define	SHOTGUN_SHELL	91
+#define	ROCKET	92
+#define	FRAG_GRENADE	93
+#define	GAS_GRENADE	94
+#define	STICK_OF_DYNAMITE	95
+#define	CROSSBOW	96
+#define	CROSSBOW_BOLT	97
+#define	DART	98
+#define	SHURIKEN	99
+#define	BOOMERANG	100
+#define	BULLWHIP	101
+#define	RUBBER_HOSE	102
+#define	HAWAIIAN_SHIRT	103
+#define	T_SHIRT	104
+#define	PLATE_MAIL	105
+#define	CRYSTAL_PLATE_MAIL	106
+#define	BRONZE_PLATE_MAIL	107
+#define	SPLINT_MAIL	108
+#define	BANDED_MAIL	109
+#define	DWARVISH_MITHRIL_COAT	110
+#define	DARK_ELVEN_MITHRIL_COAT	111
+#define	ELVEN_MITHRIL_COAT	112
+#define	CHAIN_MAIL	113
+#define	ORCISH_CHAIN_MAIL	114
+#define	SCALE_MAIL	115
+#define	STUDDED_LEATHER_ARMOR	116
+#define	RING_MAIL	117
+#define	ORCISH_RING_MAIL	118
+#define	LEATHER_ARMOR	119
+#define	LEATHER_JACKET	120
+#define	ROBE	121
+#define	ROBE_OF_PROTECTION	122
+#define	ROBE_OF_POWER	123
+#define	ROBE_OF_WEAKNESS	124
+#define	GRAY_DRAGON_SCALE_MAIL	125
+#define	SILVER_DRAGON_SCALE_MAIL	126
+#define	SHIMMERING_DRAGON_SCALE_MAIL	127
+#define	DEEP_DRAGON_SCALE_MAIL	128
+#define	RED_DRAGON_SCALE_MAIL	129
+#define	WHITE_DRAGON_SCALE_MAIL	130
+#define	ORANGE_DRAGON_SCALE_MAIL	131
+#define	BLACK_DRAGON_SCALE_MAIL	132
+#define	BLUE_DRAGON_SCALE_MAIL	133
+#define	GREEN_DRAGON_SCALE_MAIL	134
+#define	YELLOW_DRAGON_SCALE_MAIL	135
+#define	GRAY_DRAGON_SCALES	136
+#define	SILVER_DRAGON_SCALES	137
+#define	SHIMMERING_DRAGON_SCALES	138
+#define	DEEP_DRAGON_SCALES	139
+#define	RED_DRAGON_SCALES	140
+#define	WHITE_DRAGON_SCALES	141
+#define	ORANGE_DRAGON_SCALES	142
+#define	BLACK_DRAGON_SCALES	143
+#define	BLUE_DRAGON_SCALES	144
+#define	GREEN_DRAGON_SCALES	145
+#define	YELLOW_DRAGON_SCALES	146
+#define	MUMMY_WRAPPING	147
+#define	ORCISH_CLOAK	148
+#define	DWARVISH_CLOAK	149
+#define	OILSKIN_CLOAK	150
+#define	ELVEN_CLOAK	151
+#define	LAB_COAT	152
+#define	LEATHER_CLOAK	153
+#define	CLOAK_OF_PROTECTION	154
+#define	POISONOUS_CLOAK	155
+#define	CLOAK_OF_INVISIBILITY	156
+#define	CLOAK_OF_MAGIC_RESISTANCE	157
+#define	CLOAK_OF_DISPLACEMENT	158
+#define	ELVEN_LEATHER_HELM	159
+#define	ORCISH_HELM	160
+#define	DWARVISH_IRON_HELM	161
+#define	FEDORA	162
+#define	CORNUTHAUM	163
+#define	DUNCE_CAP	164
+#define	DENTED_POT	165
+#define	HELMET	166
+#define	HELM_OF_BRILLIANCE	167
+#define	HELM_OF_OPPOSITE_ALIGNMENT	168
+#define	HELM_OF_TELEPATHY	169
+#define	LEATHER_GLOVES	170
+#define	GAUNTLETS_OF_FUMBLING	171
+#define	GAUNTLETS_OF_POWER	172
+#define	GAUNTLETS_OF_TYPING	173
+#define	GAUNTLETS_OF_SWIMMING	174
+#define	GAUNTLETS_OF_DEXTERITY	175
+#define	SMALL_SHIELD	176
+#define	ELVEN_SHIELD	177
+#define	URUK_HAI_SHIELD	178
+#define	ORCISH_SHIELD	179
+#define	LARGE_SHIELD	180
+#define	DWARVISH_ROUNDSHIELD	181
+#define	SHIELD_OF_REFLECTION	182
+#define	LOW_BOOTS	183
+#define	IRON_SHOES	184
+#define	HIGH_BOOTS	185
+#define	SPEED_BOOTS	186
+#define	WATER_WALKING_BOOTS	187
+#define	JUMPING_BOOTS	188
+#define	ELVEN_BOOTS	189
+#define	KICKING_BOOTS	190
+#define	FUMBLE_BOOTS	191
+#define	LEVITATION_BOOTS	192
+#define	RIN_ADORNMENT	193
+#define	RIN_HUNGER	194
+#define	RIN_MOOD	195
+#define	RIN_PROTECTION	196
+#define	RIN_PROTECTION_FROM_SHAPE_CHAN	197
+#define	RIN_SLEEPING	198
+#define	RIN_STEALTH	199
+#define	RIN_SUSTAIN_ABILITY	200
+#define	RIN_WARNING	201
+#define	RIN_AGGRAVATE_MONSTER	202
+#define	RIN_COLD_RESISTANCE	203
+#define	RIN_GAIN_CONSTITUTION	204
+#define	RIN_GAIN_DEXTERITY	205
+#define	RIN_GAIN_INTELLIGENCE	206
+#define	RIN_GAIN_STRENGTH	207
+#define	RIN_GAIN_WISDOM	208
+#define	RIN_HEALTH	209
+#define	RIN_TIMELY_BACKUP	210
+#define	RIN_INCREASE_ACCURACY	211
+#define	RIN_INCREASE_DAMAGE	212
+#define	RIN_SLOW_DIGESTION	213
+#define	RIN_INVISIBILITY	214
+#define	RIN_POISON_RESISTANCE	215
+#define	RIN_SEE_INVISIBLE	216
+#define	RIN_SHOCK_RESISTANCE	217
+#define	RIN_FIRE_RESISTANCE	218
+#define	RIN_FREE_ACTION	219
+#define	RIN_LEVITATION	220
+#define	RIN_REGENERATION	221
+#define	RIN_SEARCHING	222
+#define	RIN_TELEPORTATION	223
+#define	RIN_CONFLICT	224
+#define	RIN_POLYMORPH	225
+#define	RIN_POLYMORPH_CONTROL	226
+#define	RIN_TELEPORT_CONTROL	227
+#define	AMULET_OF_CHANGE	228
+#define	AMULET_OF_DRAIN_RESISTANCE	229
+#define	AMULET_OF_ESP	230
+#define	AMULET_OF_FLYING	231
+#define	AMULET_OF_LIFE_SAVING	232
+#define	AMULET_OF_MAGICAL_BREATHING	233
+#define	AMULET_OF_REFLECTION	234
+#define	AMULET_OF_RESTFUL_SLEEP	235
+#define	AMULET_OF_STRANGULATION	236
+#define	AMULET_OF_UNCHANGING	237
+#define	AMULET_OF_SECOND_CHANCE	238
+#define	AMULET_OF_DATA_STORAGE	239
+#define	AMULET_VERSUS_POISON	240
+#define	AMULET_VERSUS_STONE	241
+#define	FAKE_AMULET_OF_YENDOR	242
+#define	AMULET_OF_YENDOR	243
+#define	LARGE_BOX	244
+#define	CHEST	245
+#define	ICE_BOX	246
+#define	SACK	247
+#define	OILSKIN_SACK	248
+#define	BAG_OF_HOLDING	249
+#define	BAG_OF_DIGESTION	250
+#define	BAG_OF_TRICKS	251
+#define	SKELETON_KEY	252
+#define	LOCK_PICK	253
+#define	CREDIT_CARD	254
+#define	TALLOW_CANDLE	255
+#define	WAX_CANDLE	256
+#define	MAGIC_CANDLE	257
+#define	OIL_LAMP	258
+#define	BRASS_LANTERN	259
+#define	MAGIC_LAMP	260
+#define	TIN_WHISTLE	261
+#define	MAGIC_WHISTLE	262
+#define	WOODEN_FLUTE	263
+#define	MAGIC_FLUTE	264
+#define	TOOLED_HORN	265
+#define	FROST_HORN	266
+#define	FIRE_HORN	267
+#define	HORN_OF_PLENTY	268
+#define	WOODEN_HARP	269
+#define	MAGIC_HARP	270
+#define	BELL	271
+#define	BUGLE	272
+#define	LEATHER_DRUM	273
+#define	DRUM_OF_EARTHQUAKE	274
+#define	LAND_MINE	275
+#define	BEARTRAP	276
+#define	SPOON	277
+#define	PICK_AXE	278
+#define	FISHING_POLE	279
+#define	GRAPPLING_HOOK	280
+#define	UNICORN_HORN	281
+#define	TORCH	282
+#define	GREEN_LIGHTSABER	283
+#define	BLUE_LIGHTSABER	284
+#define	RED_LIGHTSABER	285
+#define	RED_DOUBLE_LIGHTSABER	286
+#define	EXPENSIVE_CAMERA	287
+#define	MIRROR	288
+#define	CRYSTAL_BALL	289
+#define	LENSES	290
+#define	BLINDFOLD	291
+#define	TOWEL	292
+#define	SADDLE	293
+#define	LEASH	294
+#define	STETHOSCOPE	295
+#define	TINNING_KIT	296
+#define	MEDICAL_KIT	297
+#define	TIN_OPENER	298
+#define	CAN_OF_GREASE	299
+#define	FIGURINE	300
+#define	MAGIC_MARKER	301
+#define	HITCHHIKER_S_GUIDE_TO_THE_GALA	302
+#define	DIODE	303
+#define	TRANSISTOR	304
+#define	IC	305
+#define	PACK_OF_FLOPPIES	306
+#define	GOD_O_METER	307
+#define	RELAY	308
+#define	BOTTLE	309
+#define	CHEMISTRY_SET	310
+#define	BANDAGE	311
+#define	PHIAL	312
+#define	CANDELABRUM_OF_INVOCATION	313
+#define	BELL_OF_OPENING	314
+#define	TRIPE_RATION	315
+#define	CORPSE	316
+#define	EGG	317
+#define	MEATBALL	318
+#define	MEAT_STICK	319
+#define	HUGE_CHUNK_OF_MEAT	320
+#define	MEAT_RING	321
+#define	EYEBALL	322
+#define	SEVERED_HAND	323
+#define	KELP_FROND	324
+#define	EUCALYPTUS_LEAF	325
+#define	CLOVE_OF_GARLIC	326
+#define	SPRIG_OF_WOLFSBANE	327
+#define	APPLE	328
+#define	CARROT	329
+#define	PEAR	330
+#define	ASIAN_PEAR	331
+#define	BANANA	332
+#define	ORANGE	333
+#define	MUSHROOM	334
+#define	MELON	335
+#define	SLIME_MOLD	336
+#define	SLICE_OF_PIZZA	337
+#define	PEANUT_BAG	338
+#define	LUMP_OF_ROYAL_JELLY	339
+#define	CREAM_PIE	340
+#define	SANDWICH	341
+#define	CANDY_BAR	342
+#define	FORTUNE_COOKIE	343
+#define	PANCAKE	344
+#define	TORTILLA	345
+#define	CHEESE	346
+#define	PILL	347
+#define	HOLY_WAFER	348
+#define	LEMBAS_WAFER	349
+#define	CRAM_RATION	350
+#define	FOOD_RATION	351
+#define	HACKER_S_FOOD	352
+#define	K_RATION	353
+#define	C_RATION	354
+#define	TIN	355
+#define	POT_BOOZE	356
+#define	POT_FRUIT_JUICE	357
+#define	POT_SEE_INVISIBLE	358
+#define	POT_SICKNESS	359
+#define	POT_SLEEPING	360
+#define	POT_CLAIRVOYANCE	361
+#define	POT_CONFUSION	362
+#define	POT_HALLUCINATION	363
+#define	POT_HEALING	364
+#define	POT_EXTRA_HEALING	365
+#define	POT_RESTORE_ABILITY	366
+#define	POT_BLINDNESS	367
+#define	POT_ESP	368
+#define	POT_GAIN_ENERGY	369
+#define	POT_INVISIBILITY	370
+#define	POT_MONSTER_DETECTION	371
+#define	POT_OBJECT_DETECTION	372
+#define	POT_ENLIGHTENMENT	373
+#define	POT_FULL_HEALING	374
+#define	POT_LEVITATION	375
+#define	POT_POLYMORPH	376
+#define	POT_SPEED	377
+#define	POT_ACID	378
+#define	POT_OIL	379
+#define	POT_GAIN_ABILITY	380
+#define	POT_GAIN_LEVEL	381
+#define	POT_INVULNERABILITY	382
+#define	POT_PARALYSIS	383
+#define	POT_WATER	384
+#define	POT_BLOOD	385
+#define	POT_VAMPIRE_BLOOD	386
+#define	POT_AMNESIA	387
+#define	POT_EXTREME_POWER	388
+#define	POT_RECOVERY	389
+#define	POT_HEROISM	390
+#define	POT_CYANIDE	391
+#define	POT_RADIUM	392
+#define	POT_JOLT_COLA	393
+#define	POT_PAN_GALACTIC_GARGLE_BLASTE	394
+#define	SCR_CREATE_MONSTER	395
+#define	SCR_TAMING	396
+#define	SCR_LIGHT	397
+#define	SCR_FOOD_DETECTION	398
+#define	SCR_GOLD_DETECTION	399
+#define	SCR_IDENTIFY	400
+#define	SCR_MAGIC_MAPPING	401
+#define	SCR_CONFUSE_MONSTER	402
+#define	SCR_SCARE_MONSTER	403
+#define	SCR_ENCHANT_WEAPON	404
+#define	SCR_ENCHANT_ARMOR	405
+#define	SCR_REMOVE_CURSE	406
+#define	SCR_TELEPORTATION	407
+#define	SCR_FIRE	408
+#define	SCR_EARTH	409
+#define	SCR_DESTROY_ARMOR	410
+#define	SCR_AMNESIA	411
+#define	SCR_CHARGING	412
+#define	SCR_GENOCIDE	413
+#define	SCR_PUNISHMENT	414
+#define	SCR_MASS_MURDER	415
+#define	SCR_UNDO_GENOCIDE	416
+#define	SCR_REVERSE_IDENTIFY	417
+#define	SCR_WISHING	418
+#define	SCR_CONSECRATION	419
+#define	SCR_ROOT_PASSWORD_DETECTION	420
+#define	SCR_STINKING_CLOUD	421
+#define	SCR_BLANK_PAPER	426
+#define	SPE_FORCE_BOLT	427
+#define	SPE_CREATE_MONSTER	428
+#define	SPE_DRAIN_LIFE	429
+#define	SPE_COMMAND_UNDEAD	430
+#define	SPE_SUMMON_UNDEAD	431
+#define	SPE_STONE_TO_FLESH	432
+#define	SPE_HEALING	433
+#define	SPE_CURE_BLINDNESS	434
+#define	SPE_CURE_SICKNESS	435
+#define	SPE_EXTRA_HEALING	436
+#define	SPE_RESTORE_ABILITY	437
+#define	SPE_CREATE_FAMILIAR	438
+#define	SPE_LIGHT	439
+#define	SPE_DETECT_MONSTERS	440
+#define	SPE_DETECT_FOOD	441
+#define	SPE_CLAIRVOYANCE	442
+#define	SPE_DETECT_UNSEEN	443
+#define	SPE_IDENTIFY	444
+#define	SPE_DETECT_TREASURE	445
+#define	SPE_MAGIC_MAPPING	446
+#define	SPE_FINGER	447
+#define	SPE_CHEMISTRY	448
+#define	SPE_CONFUSE_MONSTER	449
+#define	SPE_SLOW_MONSTER	450
+#define	SPE_CAUSE_FEAR	451
+#define	SPE_CHARM_MONSTER	452
+#define	SPE_ENCHANT_WEAPON	453
+#define	SPE_ENCHANT_ARMOR	454
+#define	SPE_PROTECTION	455
+#define	SPE_RESIST_POISON	456
+#define	SPE_RESIST_SLEEP	457
+#define	SPE_ENDURE_COLD	458
+#define	SPE_ENDURE_HEAT	459
+#define	SPE_INSULATE	460
+#define	SPE_REMOVE_CURSE	461
+#define	SPE_TURN_UNDEAD	462
+#define	SPE_JUMPING	463
+#define	SPE_HASTE_SELF	464
+#define	SPE_ENLIGHTEN	465
+#define	SPE_INVISIBILITY	466
+#define	SPE_LEVITATION	467
+#define	SPE_TELEPORT_AWAY	468
+#define	SPE_PASSWALL	469
+#define	SPE_POLYMORPH	470
+#define	SPE_KNOCK	471
+#define	SPE_FLAME_SPHERE	472
+#define	SPE_FREEZE_SPHERE	473
+#define	SPE_WIZARD_LOCK	474
+#define	SPE_DIG	475
+#define	SPE_CANCELLATION	476
+#define	SPE_MAGIC_MISSILE	477
+#define	SPE_FIREBALL	478
+#define	SPE_CONE_OF_COLD	479
+#define	SPE_SLEEP	480
+#define	SPE_FINGER_OF_DEATH	481
+#define	SPE_LIGHTNING	482
+#define	SPE_POISON_BLAST	483
+#define	SPE_ACID_STREAM	484
+#define	SPE_BLANK_PAPER	491
+#define	SPE_BOOK_OF_THE_DEAD	492
+#define	WAN_LIGHT	493
+#define	WAN_NOTHING	494
+#define	WAN_ENLIGHTENMENT	495
+#define	WAN_HEALING	496
+#define	WAN_LOCKING	497
+#define	WAN_MAKE_INVISIBLE	498
+#define	WAN_OPENING	499
+#define	WAN_PROBING	500
+#define	WAN_SECRET_DOOR_DETECTION	501
+#define	WAN_SLOW_MONSTER	502
+#define	WAN_SPEED_MONSTER	503
+#define	WAN_STRIKING	504
+#define	WAN_UNDEAD_TURNING	505
+#define	WAN_DRAINING	506
+#define	WAN_CANCELLATION	507
+#define	WAN_CREATE_MONSTER	508
+#define	WAN_FEAR	509
+#define	WAN_POLYMORPH	510
+#define	WAN_TELEPORTATION	511
+#define	WAN_CREATE_HORDE	512
+#define	WAN_EXTRA_HEALING	513
+#define	WAN_BUGGING	514
+#define	WAN_WISHING	515
+#define	WAN_WONDER	516
+#define	WAN_DIGGING	517
+#define	WAN_MAGIC_MISSILE	518
+#define	WAN_FIRE	519
+#define	WAN_COLD	520
+#define	WAN_SLEEP	521
+#define	WAN_DEATH	522
+#define	WAN_LIGHTNING	523
+#define	WAN_FIREBALL	524
+#define	WAN_ACID	525
+#define	GOLD_PIECE	529
+#define	DILITHIUM_CRYSTAL	530
+#define	DIAMOND	531
+#define	RUBY	532
+#define	JACINTH	533
+#define	SAPPHIRE	534
+#define	BLACK_OPAL	535
+#define	EMERALD	536
+#define	TURQUOISE	537
+#define	CITRINE	538
+#define	AQUAMARINE	539
+#define	AMBER	540
+#define	TOPAZ	541
+#define	JET	542
+#define	OPAL	543
+#define	CHRYSOBERYL	544
+#define	GARNET	545
+#define	AMETHYST	546
+#define	JASPER	547
+#define	FLUORITE	548
+#define	OBSIDIAN	549
+#define	AGATE	550
+#define	JADE	551
+/* #define	WORTHLESS_PIECE_OF_WHITE_GLASS	552 */
+/* #define	WORTHLESS_PIECE_OF_BLUE_GLASS	553 */
+/* #define	WORTHLESS_PIECE_OF_RED_GLASS	554 */
+/* #define	WORTHLESS_PIECE_OF_YELLOWISH_BROWN_GLASS	555 */
+/* #define	WORTHLESS_PIECE_OF_ORANGE_GLASS	556 */
+/* #define	WORTHLESS_PIECE_OF_YELLOW_GLASS	557 */
+/* #define	WORTHLESS_PIECE_OF_BLACK_GLASS	558 */
+/* #define	WORTHLESS_PIECE_OF_GREEN_GLASS	559 */
+/* #define	WORTHLESS_PIECE_OF_VIOLET_GLASS	560 */
+#define	LUCKSTONE	561
+#define	HEALTHSTONE	562
+#define	LOADSTONE	563
+#define	TOUCHSTONE	564
+#define	WHETSTONE	565
+#define	FLINT	566
+#define	ROCK	567
+#define	BOULDER	568
+#define	STATUE	569
+#define	HEAVY_IRON_BALL	570
+#define	IRON_CHAIN	571
+#define	BLINDING_VENOM	572
+#define	ACID_VENOM	573
+#define	LAST_GEM	(JADE)
+#define	MAXSPELL	61
+#define	NUM_OBJECTS	574
+
+/* Artifacts (unique objects) */
+
+#define	ART_FIREWALL	1
+#define	ART_STING	2
+#define	ART_GIANTKILLER	3
+#define	ART_QUICK_BLADE	4
+#define	ART_ORCRIST	5
+#define	ART_DRAGONBANE	6
+#define	ART_EXCALIBUR	7
+#define	ART_SUNSWORD	8
+#define	ART_SNICKERSNEE	9
+#define	ART_SWORD_OF_JUSTICE	10
+#define	ART_DEMONBANE	11
+#define	ART_WEREBANE	12
+#define	ART_GRAYSWANDIR	13
+#define	ART_SKULLCRUSHER	14
+#define	ART_TROLLSBANE	15
+#define	ART_OGRESMASHER	16
+#define	ART_REAPER	17
+#define	ART_HOLY_SPEAR_OF_LIGHT	18
+#define	ART_MAGICBANE	19
+#define	ART_LUCKBLADE	20
+#define	ART_SWORD_OF_BALANCE	21
+#define	ART_FROST_BRAND	22
+#define	ART_FIRE_BRAND	23
+#define	ART_VORPAL_BLADE	24
+#define	ART_DISRUPTER	25
+#define	ART_MJOLLNIR	26
+#define	ART_GAUNTLETS_OF_DEFENSE	27
+#define	ART_MIRRORBRIGHT	28
+#define	ART_DELUDER	29
+#define	ART_WHISPERFEET	30
+#define	ART_GRIMTOOTH	31
+#define	ART_DEEP_FREEZE	32
+#define	ART_SERPENT_S_TONGUE	33
+#define	ART_CLEAVER	34
+#define	ART_DOOMBLADE	35
+#define	ART_STORMBRINGER	36
+#define	ART_THIEFBANE	37
+#define	ART_DEATHSWORD	38
+#define	ART_BAT_FROM_HELL	39
+#define	ART_ELFRIST	40
+#define	ART_PLAGUE	41
+#define	ART_MUMAKBANE	42
+#define	ART_WORMBITER	43
+#define	ART_SHOCKER	44
+#define	ART_SCALES_OF_THE_DRAGON_LORD	45
+#define	ART_BURNED_MOTH_RELAY	46
+#define	ART_KEY_OF_ACCESS	47
+#define	ART_HELLFIRE	48
+#define	ART_HOUCHOU	49
+#define	ART_WALLET_OF_PERSEUS	50
+#define	ART_NIGHTHORN	51
+#define	ART_KEY_OF_LAW	52
+#define	ART_EYE_OF_THE_BEHOLDER	53
+#define	ART_KEY_OF_NEUTRALITY	54
+#define	ART_HAND_OF_VECNA	55
+#define	ART_KEY_OF_CHAOS	56
+#define	ART_ORB_OF_DETECTION	57
+#define	ART_HEART_OF_AHRIMAN	58
+#define	ART_SCEPTRE_OF_MIGHT	59
+#define	ART_CANDLE_OF_ETERNAL_FLAME	60
+#define	ART_NETHACK_SOURCES	61
+#define	ART_STAFF_OF_AESCULAPIUS	62
+#define	ART_STORM_WHISTLE	63
+#define	ART_MAGIC_MIRROR_OF_MERLIN	64
+#define	ART_EYES_OF_THE_OVERWORLD	65
+#define	ART_GREAT_DAGGER_OF_GLAURGNAA	66
+#define	ART_MITRE_OF_HOLINESS	67
+#define	ART_LONGBOW_OF_DIANA	68
+#define	ART_MASTER_KEY_OF_THIEVERY	69
+#define	ART_TSURUGI_OF_MURAMASA	70
+#define	ART_YENDORIAN_EXPRESS_CARD	71
+#define	ART_STAKE_OF_VAN_HELSING	72
+#define	ART_ORB_OF_FATE	73
+#define	ART_EYE_OF_THE_AETHIOPICA	74
+#define	ART_CROWN_OF_SAINT_EDWARD	75
+#define	NROFARTIFACTS	75
+
+#endif /* ONAMES_H */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\patchlevel.h SlashTNG-master\include\patchlevel.h
--- slashem-0.0.7E7F3\include\patchlevel.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\patchlevel.h	Sun Jan 01 00:52:55 2017
@@ -5,7 +5,7 @@
 /*The name of the compiled game- should be same as stuff in makefile*/
 /*for makedefs*/
 /* KMH -- Made it mixed case, from which upper & lower case versions are made */
-#define DEF_GAME_NAME   "SlashEM"
+#define DEF_GAME_NAME   "SlashTNG"
 /*#define DEF_GAME_NAME   "NetHack"*/
 
 /* Version */
@@ -19,13 +19,13 @@
 #define FIXLEVEL        3
 
 #define COPYRIGHT_BANNER_A \
-"This is SuperLotsoAddedStuffHack-Extended Magic 1997-2006"
+"This is SuperLotsoAddedStuffHack-Extended Magic The Next Generation 1997-2017"
 
 #define COPYRIGHT_BANNER_B \
-"NetHack, Copyright 1985-2003 Stichting Mathematisch Centrum, M. Stephenson."
+"NetHack, Copyright 1985-2003 Stichting Mathematisch Centrum, M. Stephenson.See license for details. "
 
 #define COPYRIGHT_BANNER_C \
-"See license for details. Bug reports to slashem-discuss@lists.sourceforge.net"
+"NethackTNG by Sebastian Klein added by Ozma777 with help from AmyBSOD's extended integration"
 
 #if 1
 /*
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\pm.h SlashTNG-master\include\pm.h
--- slashem-0.0.7E7F3\include\pm.h	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\include\pm.h	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,683 @@
+/*	SCCS Id: @(#)pm.h	3.4	2002/02/03 */
+
+/* This source file is generated by 'makedefs'.  Do not edit. */
+#ifndef PM_H
+#define PM_H
+
+#define	PM_PLAYERMON	(-1)
+#define	PM_GIANT_ANT	0
+#define	PM_GIANT_TICK	1
+#define	PM_KILLER_BEE	2
+#define	PM_GIANT_FLEA	3
+#define	PM_SOLDIER_ANT	4
+#define	PM_FIRE_ANT	5
+#define	PM_SNOW_ANT	6
+#define	PM_GIANT_BEETLE	7
+#define	PM_GIANT_LOUSE	8
+#define	PM_TSETSE_FLY	9
+#define	PM_MIGO_DRONE	10
+#define	PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL	11
+#define	PM_QUEEN_BEE	12
+#define	PM_YELLOW_JACKET	13
+#define	PM_BLACK_WASP	14
+#define	PM_MIGO_WARRIOR	15
+#define	PM_GIANT_WASP	16
+#define	PM_SPITTING_BEETLE	17
+#define	PM_MIGO_QUEEN	18
+#define	PM_ASSASSIN_BUG	19
+#define	PM_KILLER_BEETLE	20
+#define	PM_ACID_BLOB	21
+#define	PM_QUIVERING_BLOB	22
+#define	PM_GELATINOUS_CUBE	23
+#define	PM_JIGGLING_BLOB	24
+#define	PM_LAVA_BLOB	25
+#define	PM_STATIC_BLOB	26
+#define	PM_BURBLING_BLOB	27
+#define	PM_CHICKEN	28
+#define	PM_COCKATOO	29
+#define	PM_CHICKATRICE	30
+#define	PM_COCKATRICE	31
+#define	PM_PYROLISK	32
+#define	PM_PARROT	33
+#define	PM_JACKAL	34
+#define	PM_FOX	35
+#define	PM_COYOTE	36
+#define	PM_WEREJACKAL	37
+#define	PM_LITTLE_DOG	38
+#define	PM_DOG	39
+#define	PM_LARGE_DOG	40
+#define	PM_PIT_BULL	41
+#define	PM_DINGO_PUPPY	42
+#define	PM_DINGO	43
+#define	PM_LARGE_DINGO	44
+#define	PM_WOLF	45
+#define	PM_DEATH_DOG	46
+#define	PM_RABID_WOLF	47
+#define	PM_WEREWOLF	48
+#define	PM_WARG	49
+#define	PM_WINTER_WOLF_CUB	50
+#define	PM_WINTER_WOLF	51
+#define	PM_HELL_HOUND_PUP	52
+#define	PM_WOLVERINE	53
+#define	PM_SHADOW_WOLF	54
+#define	PM_MIST_WOLF	55
+#define	PM_HELL_HOUND	56
+#define	PM_CERBERUS	57
+#define	PM_GAS_SPORE	58
+#define	PM_FLOATING_EYE	59
+#define	PM_GLOWING_EYE	60
+#define	PM_FREEZING_SPHERE	61
+#define	PM_FLAMING_SPHERE	62
+#define	PM_SHOCKING_SPHERE	63
+#define	PM_BLOODSHOT_EYE	64
+#define	PM_BLINKING_EYE	65
+#define	PM_KITTEN	66
+#define	PM_HOUSECAT	67
+#define	PM_SCHROEDINGER_S_CAT	68
+#define	PM_JAGUAR	69
+#define	PM_LYNX	70
+#define	PM_PANTHER	71
+#define	PM_WEREPANTHER	72
+#define	PM_LARGE_CAT	73
+#define	PM_KAMADAN	74
+#define	PM_DISPLACER_BEAST	75
+#define	PM_CATERWAUL	76
+#define	PM_TIGER	77
+#define	PM_WERETIGER	78
+#define	PM_SABRE_TOOTHED_CAT	79
+#define	PM_ALGOLIAN_SUNTIGER	80
+#define	PM_HELLCAT	81
+#define	PM_GREMLIN	82
+#define	PM_GARGOYLE	83
+#define	PM_WINGED_GARGOYLE	84
+#define	PM_STATUE_GARGOYLE	85
+#define	PM_HOBBIT	86
+#define	PM_DWARF	87
+#define	PM_DWARF_THIEF	88
+#define	PM_BUGBEAR	89
+#define	PM_DWARF_LORD	90
+#define	PM_DWARF_KING	91
+#define	PM_DUERGAR	92
+#define	PM_DEEP_ONE	93
+#define	PM_MIND_FLAYER	94
+#define	PM_MASTER_MIND_FLAYER	95
+#define	PM_DEEPER_ONE	96
+#define	PM_DEEPEST_ONE	97
+#define	PM_MANES	98
+#define	PM_HOMUNCULUS	99
+#define	PM_DRETCH	100
+#define	PM_IMP	101
+#define	PM_LEMURE	102
+#define	PM_QUASIT	103
+#define	PM_RUTTERKIN	104
+#define	PM_TENGU	105
+#define	PM_NUPPERIBO	106
+#define	PM_BLOOD_IMP	107
+#define	PM_BLUE_JELLY	108
+#define	PM_SPOTTED_JELLY	109
+#define	PM_CLEAR_JELLY	110
+#define	PM_OCHRE_JELLY	111
+#define	PM_YELLOW_JELLY	112
+#define	PM_ORANGE_JELLY	113
+#define	PM_RANCID_JELLY	114
+#define	PM_KOBOLD	115
+#define	PM_LARGE_KOBOLD	116
+#define	PM_KOBOLD_LORD	117
+#define	PM_KOBOLD_SHAMAN	118
+#define	PM_SWAMP_KOBOLD	119
+#define	PM_ROCK_KOBOLD	120
+#define	PM_KOBOLD_WARRIOR	121
+#define	PM_KROO_THE_KOBOLD_KING	122
+#define	PM_LEPRECHAUN	123
+#define	PM_LEPRECHAUN_ELDER	124
+#define	PM_LEPRECHAUN_KING	125
+#define	PM_LEPRECHAUN_WIZARD	126
+#define	PM_SMALL_MIMIC	127
+#define	PM_LARGE_MIMIC	128
+#define	PM_GIANT_MIMIC	129
+#define	PM_WOOD_NYMPH	130
+#define	PM_WATER_NYMPH	131
+#define	PM_MOUNTAIN_NYMPH	132
+#define	PM_PIXIE	133
+#define	PM_BROWNIE	134
+#define	PM_QUICKLING	135
+#define	PM_APHRODITE	136
+#define	PM_NYMPH_QUEEN	137
+#define	PM_GOBLIN	138
+#define	PM_HOBGOBLIN	139
+#define	PM_ORC	140
+#define	PM_HILL_ORC	141
+#define	PM_MORDOR_ORC	142
+#define	PM_URUK_HAI	143
+#define	PM_ORC_SHAMAN	144
+#define	PM_ORC_CAPTAIN	145
+#define	PM_WAR_ORC	146
+#define	PM_GREAT_ORC	147
+#define	PM_GRUND_THE_ORC_KING	148
+#define	PM_SNOW_ORC	149
+#define	PM_DEMON_ORC	150
+#define	PM_ROCK_PIERCER	151
+#define	PM_IRON_PIERCER	152
+#define	PM_GLASS_PIERCER	153
+#define	PM_LAMB	154
+#define	PM_ROTHE	155
+#define	PM_GIANT_BADGER	156
+#define	PM_SCRAMPER	157
+#define	PM_SHEEP	158
+#define	PM_GOAT	159
+#define	PM_SQUEALER	160
+#define	PM_MUMAK	161
+#define	PM_LEOCROTTA	162
+#define	PM_COW	163
+#define	PM_MANGLER	164
+#define	PM_WUMPUS	165
+#define	PM_BULL	166
+#define	PM_TITANOTHERE	167
+#define	PM_BALUCHITHERIUM	168
+#define	PM_GIANT_MUMAK	169
+#define	PM_MASTODON	170
+#define	PM_JUMBO_THE_ELEPHANT	171
+#define	PM_JUGGERNAUT	172
+#define	PM_CATOBLEPAS	173
+#define	PM_SEWER_RAT	174
+#define	PM_RABBIT	175
+#define	PM_BLACK_RAT	176
+#define	PM_GIANT_RAT	177
+#define	PM_RABID_RAT	178
+#define	PM_RABID_RABBIT	179
+#define	PM_PACK_RAT	180
+#define	PM_WERERAT	181
+#define	PM_ROCK_MOLE	182
+#define	PM_WOODCHUCK	183
+#define	PM_HELLRAT	184
+#define	PM_THE_RAT_KING	185
+#define	PM_CAVE_SPIDER	186
+#define	PM_CENTIPEDE	187
+#define	PM_RECLUSE_SPIDER	188
+#define	PM_GIANT_SPIDER	189
+#define	PM_BARKING_SPIDER	190
+#define	PM_SCORPION	191
+#define	PM_CARRION_CRAWLER	192
+#define	PM_NICKELPEDE	193
+#define	PM_GIANT_SCORPION	194
+#define	PM_GIRTAB	195
+#define	PM_SHELOB	196
+#define	PM_PHASE_SPIDER	197
+#define	PM_WERESPIDER	198
+#define	PM_LURKER_ABOVE	199
+#define	PM_TRAPPER	200
+#define	PM_YOUNG_UNICORN	201
+#define	PM_WHITE_UNICORN	202
+#define	PM_GRAY_UNICORN	203
+#define	PM_BLACK_UNICORN	204
+#define	PM_PONY	205
+#define	PM_HORSE	206
+#define	PM_WARHORSE	207
+#define	PM_PEGASUS	208
+#define	PM_FOG_CLOUD	209
+#define	PM_DUST_VORTEX	210
+#define	PM_ICE_VORTEX	211
+#define	PM_ENERGY_VORTEX	212
+#define	PM_STEAM_VORTEX	213
+#define	PM_FIRE_VORTEX	214
+#define	PM_LARVA	215
+#define	PM_MAGGOT	216
+#define	PM_DUNG_WORM	217
+#define	PM_ACID_WORM	218
+#define	PM_BLOODWORM	219
+#define	PM_TUNNEL_WORM	220
+#define	PM_BABY_LONG_WORM	221
+#define	PM_BABY_PURPLE_WORM	222
+#define	PM_LONG_WORM	223
+#define	PM_PURPLE_WORM	224
+#define	PM_ROT_WORM	225
+#define	PM_GRID_BUG	226
+#define	PM_SPARK_BUG	227
+#define	PM_MICROSCOPIC_SPACE_FLEET	228
+#define	PM_ARC_BUG	229
+#define	PM_LIGHTNING_BUG	230
+#define	PM_XAN	231
+#define	PM_FIRE_BUG	232
+#define	PM_BUG	233
+#define	PM_PDP___	234
+#define	PM_DEEP_THOUGHT	235
+#define	PM_EDDIE	236
+#define	PM_PDP__	237
+#define	PM_HEISENBUG	238
+#define	PM_ICE_BUG	239
+#define	PM_VAX	240
+#define	PM_WALKING_DISK_DRIVE	241
+#define	PM_CRAY	242
+#define	PM_YELLOW_LIGHT	243
+#define	PM_BLACK_LIGHT	244
+#define	PM_ECHIDNA	245
+#define	PM_PLATYPUS	246
+#define	PM_KOALA	247
+#define	PM_WOMBAT	248
+#define	PM_TASMANIAN_DEVIL	249
+#define	PM_WALLABY	250
+#define	PM_WALLAROO	251
+#define	PM_KANGAROO	252
+#define	PM_COUATL	253
+#define	PM_AQUATOR	254
+#define	PM_ALEAX	255
+#define	PM_MOVANIC_DEVA	256
+#define	PM_MONADIC_DEVA	257
+#define	PM_ASTRAL_DEVA	258
+#define	PM_ANGEL	259
+#define	PM_KI_RIN	260
+#define	PM_ARCHON	261
+#define	PM_DOUGLAS_ADAMS	262
+#define	PM_PLANETAR	263
+#define	PM_SOLAR	264
+#define	PM_BAT	265
+#define	PM_GIANT_BAT	266
+#define	PM_RHUMBAT	267
+#define	PM_ATHOL	268
+#define	PM_RAVEN	269
+#define	PM_VAMPIRE_BAT	270
+#define	PM_HELLBAT	271
+#define	PM_MONGBAT	272
+#define	PM_MOBAT	273
+#define	PM_HARPY	274
+#define	PM_BYAKHEE	275
+#define	PM_NIGHTGAUNT	276
+#define	PM_PLAINS_CENTAUR	277
+#define	PM_FOREST_CENTAUR	278
+#define	PM_MOUNTAIN_CENTAUR	279
+#define	PM_BABY_GRAY_DRAGON	280
+#define	PM_BABY_SILVER_DRAGON	281
+#define	PM_BABY_SHIMMERING_DRAGON	282
+#define	PM_BABY_DEEP_DRAGON	283
+#define	PM_BABY_RED_DRAGON	284
+#define	PM_BABY_WHITE_DRAGON	285
+#define	PM_BABY_ORANGE_DRAGON	286
+#define	PM_BABY_BLACK_DRAGON	287
+#define	PM_BABY_BLUE_DRAGON	288
+#define	PM_BABY_GREEN_DRAGON	289
+#define	PM_BABY_YELLOW_DRAGON	290
+#define	PM_GRAY_DRAGON	291
+#define	PM_SILVER_DRAGON	292
+#define	PM_SHIMMERING_DRAGON	293
+#define	PM_DEEP_DRAGON	294
+#define	PM_RED_DRAGON	295
+#define	PM_WHITE_DRAGON	296
+#define	PM_ORANGE_DRAGON	297
+#define	PM_BLACK_DRAGON	298
+#define	PM_BLUE_DRAGON	299
+#define	PM_GREEN_DRAGON	300
+#define	PM_YELLOW_DRAGON	301
+#define	PM_WYVERN	302
+#define	PM_ANCIENT_MULTI_HUED_DRAGON	303
+#define	PM_DRAGON_LORD	304
+#define	PM_HYDRA	305
+#define	PM_EMU	306
+#define	PM_STALKER	307
+#define	PM_AIR_ELEMENTAL	308
+#define	PM_FIRE_ELEMENTAL	309
+#define	PM_EARTH_ELEMENTAL	310
+#define	PM_WATER_ELEMENTAL	311
+#define	PM_LICHEN	312
+#define	PM_BROWN_MOLD	313
+#define	PM_YELLOW_MOLD	314
+#define	PM_GREEN_MOLD	315
+#define	PM_RED_MOLD	316
+#define	PM_SHRIEKER	317
+#define	PM_VIOLET_FUNGUS	318
+#define	PM_DISGUSTING_MOLD	319
+#define	PM_BLACK_MOLD	320
+#define	PM_VENUS_FLYTRAP	321
+#define	PM_GNOME	322
+#define	PM_GNOME_THIEF	323
+#define	PM_GNOME_LORD	324
+#define	PM_GNOMISH_WIZARD	325
+#define	PM_DEEP_GNOME	326
+#define	PM_GNOME_WARRIOR	327
+#define	PM_RUGGO_THE_GNOME_KING	328
+#define	PM_GNOME_KING	329
+#define	PM_GNOLL	330
+#define	PM_GNOLL_WARRIOR	331
+#define	PM_GNOLL_CHIEFTAIN	332
+#define	PM_GNOLL_SHAMAN	333
+#define	PM_GRIFFIN	334
+#define	PM_GIANT	335
+#define	PM_STONE_GIANT	336
+#define	PM_HILL_GIANT	337
+#define	PM_FIRE_GIANT	338
+#define	PM_FROST_GIANT	339
+#define	PM_ETTIN	340
+#define	PM_TITAN	341
+#define	PM_STORM_GIANT	342
+#define	PM_MINOTAUR	343
+#define	PM_THE_LARGEST_GIANT	344
+#define	PM_FATHER_DAGON	345
+#define	PM_MOTHER_HYDRA	346
+#define	PM_ICE_MONSTER	347
+#define	PM_JABBERWOCK	348
+#define	PM_VORPAL_JABBERWOCK	349
+#define	PM_KESTREL	350
+#define	PM_KEYSTONE_KOP	351
+#define	PM_KOP_SERGEANT	352
+#define	PM_KOP_LIEUTENANT	353
+#define	PM_KOP_KAPTAIN	354
+#define	PM_BABY_LICH	355
+#define	PM_LICH	356
+#define	PM_DEMILICH	357
+#define	PM_MASTER_LICH	358
+#define	PM_ARCH_LICH	359
+#define	PM_KOBOLD_MUMMY	360
+#define	PM_GNOME_MUMMY	361
+#define	PM_ORC_MUMMY	362
+#define	PM_DWARF_MUMMY	363
+#define	PM_ELF_MUMMY	364
+#define	PM_HUMAN_MUMMY	365
+#define	PM_ETTIN_MUMMY	366
+#define	PM_GIANT_MUMMY	367
+#define	PM_TROLL_MUMMY	368
+#define	PM_RED_NAGA_HATCHLING	369
+#define	PM_BLACK_NAGA_HATCHLING	370
+#define	PM_GOLDEN_NAGA_HATCHLING	371
+#define	PM_GUARDIAN_NAGA_HATCHLING	372
+#define	PM_RED_NAGA	373
+#define	PM_BLACK_NAGA	374
+#define	PM_NAGA_NYMPH	375
+#define	PM_GOLDEN_NAGA	376
+#define	PM_GUARDIAN_NAGA	377
+#define	PM_OGRE	378
+#define	PM_OGRE_LORD	379
+#define	PM_OGRE_MAGE	380
+#define	PM_OGRE_KING	381
+#define	PM_SHADOW_OGRE	382
+#define	PM_GRAY_OOZE	383
+#define	PM_BROWN_PUDDING	384
+#define	PM_MOLDY_PUDDING	385
+#define	PM_BLACK_PUDDING	386
+#define	PM_GREEN_SLIME	387
+#define	PM_PHANTOM	388
+#define	PM_SHOGGOTH	389
+#define	PM_GIANT_SHOGGOTH	390
+#define	PM_QUANTUM_MECHANIC	391
+#define	PM_QUAGGA	392
+#define	PM_QUARK	393
+#define	PM_GENETIC_ENGINEER	394
+#define	PM_DOCTOR_FRANKENSTEIN	395
+#define	PM_RATTLESNAKE	396
+#define	PM_RUST_MONSTER	397
+#define	PM_DISENCHANTER	398
+#define	PM_GARTER_SNAKE	399
+#define	PM_SNAKE	400
+#define	PM_WATER_MOCCASIN	401
+#define	PM_PIT_VIPER	402
+#define	PM_PYTHON	403
+#define	PM_COBRA	404
+#define	PM_KING_COBRA	405
+#define	PM_WERESNAKE	406
+#define	PM_ASPHYNX	407
+#define	PM_TROLL	408
+#define	PM_ICE_TROLL	409
+#define	PM_ROCK_TROLL	410
+#define	PM_TWO_HEADED_TROLL	411
+#define	PM_WATER_TROLL	412
+#define	PM_OLOG_HAI	413
+#define	PM_BLACK_TROLL	414
+#define	PM_UMBER_HULK	415
+#define	PM_WATER_HULK	416
+#define	PM_VOGON	417
+#define	PM_VAMPIRE	418
+#define	PM_VAMPIRE_LORD	419
+#define	PM_FIRE_VAMPIRE	420
+#define	PM_VOGON_LORD	421
+#define	PM_STAR_VAMPIRE	422
+#define	PM_PROSTETNIK_VOGON_JELTZ	423
+#define	PM_VAMPIRE_MAGE	424
+#define	PM_VLAD_THE_IMPALER	425
+#define	PM_BARROW_WIGHT	426
+#define	PM_WIGHT	427
+#define	PM_WRAITH	428
+#define	PM_NAZGUL	429
+#define	PM_XORN	430
+#define	PM_MARVIN	431
+#define	PM_XORN_WIZARD	432
+#define	PM_XEROC	433
+#define	PM_MONKEY	434
+#define	PM_APE	435
+#define	PM_OWLBEAR	436
+#define	PM_YETI	437
+#define	PM_CARNIVOROUS_APE	438
+#define	PM_SASQUATCH	439
+#define	PM_ZAPHOD_BREEBLEBROX	440
+#define	PM_ZRUTY	441
+#define	PM_KOBOLD_ZOMBIE	442
+#define	PM_GNOME_ZOMBIE	443
+#define	PM_ORC_ZOMBIE	444
+#define	PM_DWARF_ZOMBIE	445
+#define	PM_ELF_ZOMBIE	446
+#define	PM_CREEPING___	447
+#define	PM_HUMAN_ZOMBIE	448
+#define	PM_GHOUL	449
+#define	PM_GHOUL_MAGE	450
+#define	PM_ETTIN_ZOMBIE	451
+#define	PM_GHAST	452
+#define	PM_GIANT_ZOMBIE	453
+#define	PM_SKELETON	454
+#define	PM_GHOUL_QUEEN	455
+#define	PM_GUG	456
+#define	PM_STRAW_GOLEM	457
+#define	PM_PAPER_GOLEM	458
+#define	PM_WAX_GOLEM	459
+#define	PM_PLASTIC_GOLEM	460
+#define	PM_ROPE_GOLEM	461
+#define	PM_GOLD_GOLEM	462
+#define	PM_LEATHER_GOLEM	463
+#define	PM_WOOD_GOLEM	464
+#define	PM_FLESH_GOLEM	465
+#define	PM_CLAY_GOLEM	466
+#define	PM_STONE_GOLEM	467
+#define	PM_GLASS_GOLEM	468
+#define	PM_IRON_GOLEM	469
+#define	PM_FRANKENSTEIN_S_MONSTER	470
+#define	PM_RUBY_GOLEM	471
+#define	PM_DIAMOND_GOLEM	472
+#define	PM_SAPPHIRE_GOLEM	473
+#define	PM_STEEL_GOLEM	474
+#define	PM_CRYSTAL_GOLEM	475
+#define	PM_HUMAN	476
+#define	PM_HUMAN_WERERAT	477
+#define	PM_HUMAN_WEREJACKAL	478
+#define	PM_HUMAN_WEREWOLF	479
+#define	PM_HUMAN_WEREPANTHER	480
+#define	PM_HUMAN_WERETIGER	481
+#define	PM_HUMAN_WERESNAKE	482
+#define	PM_HUMAN_WERESPIDER	483
+#define	PM_GIBBERLING	484
+#define	PM_GRIMLOCK	485
+#define	PM_ELF	486
+#define	PM_WOODLAND_ELF	487
+#define	PM_PUPIL	488
+#define	PM_GREEN_ELF	489
+#define	PM_GREY_ELF	490
+#define	PM_HIGH_ELF	491
+#define	PM_ELF_LORD	492
+#define	PM_DROW	493
+#define	PM_TEACHER	494
+#define	PM_PRINCIPAL	495
+#define	PM_BLACKSMITH	496
+#define	PM_ELVENKING	497
+#define	PM_DOPPELGANGER	498
+#define	PM_MUGGER	499
+#define	PM_NURSE	500
+#define	PM_GYPSY	501
+#define	PM_SHOPKEEPER	502
+#define	PM_BLACK_MARKETEER	503
+#define	PM_GUARD	504
+#define	PM_PRISONER	505
+#define	PM_UNDEAD_GEEK	506
+#define	PM_FORD_PERFECT	507
+#define	PM_ARTHUR_DENT	508
+#define	PM_MR__PROSSER	509
+#define	PM_ORACLE	510
+#define	PM_ALIGNED_PRIEST	511
+#define	PM_HIGH_PRIEST	512
+#define	PM_SOLDIER	513
+#define	PM_SERGEANT	514
+#define	PM_LIEUTENANT	515
+#define	PM_CAPTAIN	516
+#define	PM_WATCHMAN	517
+#define	PM_WATCH_CAPTAIN	518
+#define	PM_MEDUSA	519
+#define	PM_WIZARD_OF_YENDOR	520
+#define	PM_CROESUS	521
+#define	PM_SHADOW	522
+#define	PM_GHOST	523
+#define	PM_SHADE	524
+#define	PM_WATER_DEMON	525
+#define	PM_HORNED_DEVIL	526
+#define	PM_SPINED_DEVIL	527
+#define	PM_BEARDED_DEVIL	528
+#define	PM_SUCCUBUS	529
+#define	PM_INCUBUS	530
+#define	PM_NEWS_DAEMON	531
+#define	PM_PRINTER_DAEMON	532
+#define	PM_ERINYS	533
+#define	PM_BARBED_DEVIL	534
+#define	PM_MARILITH	535
+#define	PM_BAR_LGURA	536
+#define	PM_CHASME	537
+#define	PM_VROCK	538
+#define	PM_BABAU	539
+#define	PM_HEZROU	540
+#define	PM_BONE_DEVIL	541
+#define	PM_ICE_DEVIL	542
+#define	PM_NALFESHNEE	543
+#define	PM_NABASSU	544
+#define	PM_PIT_FIEND	545
+#define	PM_BALROG	546
+#define	PM_UNIX_KERNEL	547
+#define	PM_JUIBLEX	548
+#define	PM_YEENOGHU	549
+#define	PM_ORCUS	550
+#define	PM_GERYON	551
+#define	PM_DISPATER	552
+#define	PM_BAALZEBUB	553
+#define	PM_ASMODEUS	554
+#define	PM_DEMOGORGON	555
+#define	PM_CTHULHU	556
+#define	PM_DEATH	557
+#define	PM_PESTILENCE	558
+#define	PM_FAMINE	559
+#define	PM_DJINNI	560
+#define	PM_SANDESTIN	561
+#define	PM_JELLYFISH	562
+#define	PM_BABELFISH	563
+#define	PM_PIRANHA	564
+#define	PM_GIANT_EEL	565
+#define	PM_SHARK	566
+#define	PM_GIANT_CRAB	567
+#define	PM_ELECTRIC_EEL	568
+#define	PM_KRAKEN	569
+#define	PM_NEWT	570
+#define	PM_GECKO	571
+#define	PM_DEMINEWT	572
+#define	PM_IGUANA	573
+#define	PM_BABY_CROCODILE	574
+#define	PM_LIZARD	575
+#define	PM_GILA_MONSTER	576
+#define	PM_CHAMELEON	577
+#define	PM_CROCODILE	578
+#define	PM_MASTER_NEWT	579
+#define	PM_SALAMANDER	580
+#define	PM_RHAUMBUSUN	581
+#define	PM_BASILISK	582
+#define	PM_KOMODO_DRAGON	583
+#define	PM_BAD_EGG	584
+#define	PM_KILLER_TRIPE_RATION	585
+#define	PM_KILLER_FOOD_RATION	586
+#define	PM_PILE_OF_KILLER_COINS	587
+#define	PM_LARGE_PILE_OF_KILLER_COINS	588
+#define	PM_HUGE_PILE_OF_KILLER_COINS	589
+#define	PM_LONG_WORM_TAIL	590
+#define	PM_NIGHTMARE	591
+#define	PM_BEHOLDER	592
+#define	PM_VECNA	593
+#define	PM_ARCHEOLOGIST	594
+#define	PM_BARBARIAN	595
+#define	PM_CAVEMAN	596
+#define	PM_CAVEWOMAN	597
+#define	PM_FLAME_MAGE	598
+#define	PM_GEEK	599
+#define	PM_HEALER	600
+#define	PM_ICE_MAGE	601
+#define	PM_KNIGHT	602
+#define	PM_MONK	603
+#define	PM_NECROMANCER	604
+#define	PM_PRIEST	605
+#define	PM_PRIESTESS	606
+#define	PM_RANGER	607
+#define	PM_ROGUE	608
+#define	PM_SAMURAI	609
+#define	PM_TOURIST	610
+#define	PM_UNDEAD_SLAYER	611
+#define	PM_VALKYRIE	612
+#define	PM_YEOMAN	613
+#define	PM_WIZARD	614
+#define	PM_LORD_CARNARVON	615
+#define	PM_PELIAS	616
+#define	PM_SHAMAN_KARNOV	617
+#define	PM_HIGH_FLAME_MAGE	618
+#define	PM_THE_DEV_TEAM	619
+#define	PM_HIPPOCRATES	620
+#define	PM_HIGH_ICE_MAGE	621
+#define	PM_KING_ARTHUR	622
+#define	PM_GRAND_MASTER	623
+#define	PM_DARK_LORD	624
+#define	PM_ARCH_PRIEST	625
+#define	PM_ORION	626
+#define	PM_MASTER_OF_THIEVES	627
+#define	PM_LORD_SATO	628
+#define	PM_TWOFLOWER	629
+#define	PM_VAN_HELSING	630
+#define	PM_NORN	631
+#define	PM_NEFERET_THE_GREEN	632
+#define	PM_CHIEF_YEOMAN_WARDER	633
+#define	PM_MINION_OF_HUHETOTL	634
+#define	PM_THOTH_AMON	635
+#define	PM_CHROMATIC_DRAGON	636
+#define	PM_WATER_MAGE	637
+#define	PM_CYCLOPS	638
+#define	PM_EARTH_MAGE	639
+#define	PM_IXOTH	640
+#define	PM_BILL_GATES	641
+#define	PM_MASTER_KAEN	642
+#define	PM_MAUGNESHAAGAR	643
+#define	PM_NALZOK	644
+#define	PM_SCORPIUS	645
+#define	PM_MASTER_ASSASSIN	646
+#define	PM_ASHIKAGA_TAKAUJI	647
+#define	PM_COUNT_DRACULA	648
+#define	PM_LORD_SURTUR	649
+#define	PM_DARK_ONE	650
+#define	PM_COLONEL_BLOOD	651
+#define	PM_STUDENT	652
+#define	PM_CHIEFTAIN	653
+#define	PM_NEANDERTHAL	654
+#define	PM_IGNITER	655
+#define	PM_FROSTER	656
+#define	PM_HACKER	657
+#define	PM_ATTENDANT	658
+#define	PM_PAGE	659
+#define	PM_ABBOT	660
+#define	PM_EMBALMER	661
+#define	PM_ACOLYTE	662
+#define	PM_HUNTER	663
+#define	PM_THUG	664
+#define	PM_NINJA	665
+#define	PM_ROSHI	666
+#define	PM_GUIDE	667
+#define	PM_EXTERMINATOR	668
+#define	PM_WARRIOR	669
+#define	PM_APPRENTICE	670
+#define	PM_YEOMAN_WARDER	671
+
+#define	NUMMONS	672
+
+#endif /* PM_H */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\prop.h SlashTNG-master\include\prop.h
--- slashem-0.0.7E7F3\include\prop.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\prop.h	Sat Dec 24 14:01:11 2016
@@ -73,7 +73,8 @@
 #define INFRAVISION		64
 #define WARN_OF_MON		65
 #define DETECT_MONSTERS		66
-#define LAST_PROP		(DETECT_MONSTERS)
+#define SECOND_CHANCE	67
+#define LAST_PROP		(SECOND_CHANCE)
 
 /*** Where the properties come from ***/
 /* Definitions were moved here from obj.h and you.h */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\unixconf.h SlashTNG-master\include\unixconf.h
--- slashem-0.0.7E7F3\include\unixconf.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\unixconf.h	Sun Jan 01 00:53:56 2017
@@ -123,21 +123,21 @@
  * many systems still seem to use it.
  */
 
-/* #define FILE_AREA_VAR	"/var/lib/games/slashem/" */
-/* #define FILE_AREA_SAVE	"/var/lib/games/slashem/save/" */
-/* #define FILE_AREA_SHARE	"/usr/lib/games/slashem/" */
-/* #define FILE_AREA_UNSHARE	"/usr/lib/games/slashem/" */
-/* #define FILE_AREA_DOC	"/usr/doc/slashem/" */
+/* #define FILE_AREA_VAR	"/var/lib/games/SlashTNG/" */
+/* #define FILE_AREA_SAVE	"/var/lib/games/SlashTNG/save/" */
+/* #define FILE_AREA_SHARE	"/usr/lib/games/SlashTNG/" */
+/* #define FILE_AREA_UNSHARE	"/usr/lib/games/SlashTNG/" */
+/* #define FILE_AREA_DOC	"/usr/doc/SlashTNG/" */
 
 /*
  * File areas compatible with FHS 2.0
  */
 
-#define FILE_AREA_VAR		"/var/games/slashem/"
-#define FILE_AREA_SAVE		"/var/games/slashem/save/"
-#define FILE_AREA_SHARE		"/usr/share/games/slashem/"
-#define FILE_AREA_UNSHARE	"/usr/lib/games/slashem/"
-#define FILE_AREA_DOC		"/usr/share/doc/slashem/"
+#define FILE_AREA_VAR		"/var/games/SlashTNG/"
+#define FILE_AREA_SAVE		"/var/games/SlashTNG/save/"
+#define FILE_AREA_SHARE		"/usr/share/games/SlashTNG/"
+#define FILE_AREA_UNSHARE	"/usr/lib/games/SlashTNG/"
+#define FILE_AREA_DOC		"/usr/share/doc/SlashTNG/"
 
 #define FILE_AREA_BONES		FILE_AREA_VAR
 #define FILE_AREA_LEVL		FILE_AREA_VAR
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\vis_tab.h SlashTNG-master\include\vis_tab.h
--- slashem-0.0.7E7F3\include\vis_tab.h	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\include\vis_tab.h	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,4 @@
+/* This source file is generated by 'makedefs'.  Do not edit. */
+#ifdef VISION_TABLES
+
+#endif /* VISION_TABLES */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\win32api.h SlashTNG-master\include\win32api.h
--- slashem-0.0.7E7F3\include\win32api.h	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\include\win32api.h	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,27 @@
+/*	SCCS Id: @(#)win32api.h	 3.4	 $Date: 2003/03/12 11:15:16 $		  */
+/* Copyright (c) NetHack PC Development Team 1996                 */
+/* NetHack may be freely redistributed.  See license for details. */
+
+/*
+ * This header file is used to clear up some discrepencies with Visual C
+ * header files & NetHack before including windows.h, so all NetHack
+ * files should include "win32api.h" rather than <windows.h>.
+ */
+# if defined(_MSC_VER)
+# undef strcmpi
+# undef min
+# undef max
+# pragma warning(disable:4142)  /* Warning, Benign redefinition of type */
+# pragma pack(8)
+# endif
+
+#define WIN32_LEAN_AND_MEAN
+
+#include <windows.h>
+#include <commctrl.h>
+
+# if defined(_MSC_VER)
+# pragma pack()
+# endif
+
+/*win32api.h*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\you.h SlashTNG-master\include\you.h
--- slashem-0.0.7E7F3\include\you.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\you.h	Sun Jan 01 12:46:59 2017
@@ -344,7 +344,7 @@
 	uchar	usptime;		/* #moves until uspellprot-- */
 	uchar	uspmtime;		/* #moves between uspellprot-- */
 
-	int     uhp, uhpmax;
+	int     uhp, uhpmax,uhplast;
 	int	uen, uenmax;		/* magical energy - M. Stephenson */
 	int ugangr;			/* if the gods are angry at you */
 	int ugifts;			/* number of artifacts bestowed */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\include\youprop.h SlashTNG-master\include\youprop.h
--- slashem-0.0.7E7F3\include\youprop.h	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\include\youprop.h	Sun Dec 25 23:42:26 2016
@@ -341,5 +341,7 @@
 
 #define Lifesaved		u.uprops[LIFESAVED].extrinsic
 
+#define Second_chance		u.uprops[SECOND_CHANCE].extrinsic
+
 
 #endif /* YOUPROP_H */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\install.bat SlashTNG-master\install.bat
--- slashem-0.0.7E7F3\install.bat	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\install.bat	Fri Aug 24 02:13:18 2012
@@ -0,0 +1,3 @@
+PATH=c:\mingw\bin
+cd src
+mingw32-make -f makefile.gcc install>out.txt
\ No newline at end of file
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\.message SlashTNG-master\Nethack - The Next Generation (original patch)\.message
--- slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\.message	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\Nethack - The Next Generation (original patch)\.message	Mon Jan 23 17:55:00 1995
@@ -0,0 +1,2 @@
+This directory contains the sources for NetHack, the Next Generation,
+a modified version of NetHack.
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\nh313.tng.shar SlashTNG-master\Nethack - The Next Generation (original patch)\nh313.tng.shar
--- slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\nh313.tng.shar	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\Nethack - The Next Generation (original patch)\nh313.tng.shar	Mon May 30 21:17:00 1994
@@ -0,0 +1,9842 @@
+
+#! /bin/sh
+# This is a shell archive.  Remove anything before this line, then unpack
+# it by saving it into a file and typing "sh file".  To overwrite existing
+# files, type "sh file -c".  You can also feed this as standard input via
+# unshar, or by typing "sh <file", e.g..  If this archive is complete, you
+# will see the following message at the end:
+#		"End of shell archive."
+# Contents:  patch.pa ./dat/Geek.des ./dat/spec_levs ./dat/dragon.des
+#   ./dat/rulebar ./dat/forge.des ./dat/quest_levs ./dat/template.des
+#   ./dat/key.des ./dat/hitch.des ./src/Sysunix ./src/.gdbinit
+#   ./src/school.c ./src/smith.c ./src/link ./README.DNA
+#   ./README.nh-tng
+# Wrapped by aus001@rs3.rrz.uni-koeln.de on Sat May 28 21:23:20 1994
+PATH=/bin:/usr/bin:/usr/ucb ; export PATH
+if test -f patch.pa -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"patch.pa\"
+else
+echo shar: Extracting \"patch.pa\" \(256107 characters\)
+sed "s/^X//" >patch.pa <<'END_OF_patch.pa'
+X*** /tmp/tmp.1285	Sat May 28 21:13:53 1994
+X--- ./dat/dungeon.def	Sun May 22 19:04:57 1994
+X***************
+X*** 23,29 ****
+X  LEVEL:		"castle" "none" @ (-1, 0)
+X  CHAINBRANCH:	"Gehennom" "castle" + (0, 0) no_down
+X  BRANCH:		"The Elemental Planes" @ (1, 0) no_down up
+X! 
+X  #
+X  #	Gehennom
+X  #
+X--- 23,30 ----
+X  LEVEL:		"castle" "none" @ (-1, 0)
+X  CHAINBRANCH:	"Gehennom" "castle" + (0, 0) no_down
+X  BRANCH:		"The Elemental Planes" @ (1, 0) no_down up
+X! LEVEL:		"forge" "F" @ (15, 5) 80 
+X! LEVEL:		"hitch" "H" @ (-3, 2)
+X  #
+X  #	Gehennom
+X  #
+X***************
+X*** 57,63 ****
+X  LEVEL:		"orcus" "O" @ (15, 5)
+X  LEVEL:		"fakewiz1" "F" @ (-6,4)
+X  LEVEL:		"fakewiz2" "G" @ (-6,4)
+X! 
+X  #
+X  #	The Mines of the Gnomes of Zurich.
+X  #
+X--- 58,67 ----
+X  LEVEL:		"orcus" "O" @ (15, 5)
+X  LEVEL:		"fakewiz1" "F" @ (-6,4)
+X  LEVEL:		"fakewiz2" "G" @ (-6,4)
+X! LEVEL:		"school" "S" @ (8, 5) 80
+X! LEVEL:		"compu" "C" @ (8, 5) 80 
+X! LEVEL:		"key" "K" @ (5, 5) 80
+X! LEVEL:		"dragon" "D" @ (1, 5) 60
+X  #
+X  #	The Mines of the Gnomes of Zurich.
+X  #
+X*** /tmp/tmp.1285	Sat May 28 21:13:59 1994
+X--- ./dat/oracles.txt	Sun May 15 14:00:08 1994
+X***************
+X*** 97,99 ****
+X--- 97,108 ----
+X  calm, thy safety will be aided greatly, but beware lest thy clumsy feet scuff
+X  the inscription, cancelling its potence.
+X  -----
+X+ It is said that, if thou hast managed to accomplish the great quest thou
+X+ set out to, and hast gotten the Amulet manufactured by Marduk in the
+X+ beginning of Time, thy way is the way up. Thou willst then face four
+X+ planes, before hidden in the mists of time, dedicated to the four
+X+ elements the world consists of. If, by great power and bravery on thy
+X+ part, thou managest to survive them, thou willst reach the High Temples
+X+ of the Aligned Gods. It is up to thee then to return to the gods
+X+ what belongs to the gods.
+X+ -----
+X*** /tmp/tmp.1285	Sat May 28 21:14:00 1994
+X--- ./dat/rumors.fal	Sun May 15 14:29:39 1994
+X***************
+X*** 3,13 ****
+X--- 3,15 ----
+X  2nd Law of Hacking:  first in, first out.
+X  3rd Law of Hacking:  the last blow counts most.
+X  4th Law of Hacking:  you will find the exit at the entrance.
+X+ A babelfish lets you understand a leocrotta.
+X  A chameleon imitating a mail daemon often delivers scrolls of fire.
+X  A cockatrice corpse is guaranteed to be untainted!
+X  A dead cockatrice is just a dead lizard.
+X  A dragon is just a snake that ate a scroll of fire.
+X  A fading corridor enlightens your insight.
+X+ A game to rule them all, a game to find them, a game to bring them all ...
+X  A glowing potion is too hot to drink.
+X  A good amulet may protect you against guards.
+X  A lizard corpse is a good thing to turn undead.
+X***************
+X*** 108,113 ****
+X--- 110,116 ----
+X  Never ask a shopkeeper for a price list.
+X  Never burn a tree, unless you like getting whacked with a +5 shovel.
+X  Never eat with glowing hands!
+X+ Never kill a Nazgul - Sauron will get terribly upset!
+X  Never mind the monsters hitting you:  they just replace the charwomen.
+X  Never play leapfrog with a unicorn.
+X  Never step on a cursed engraving.
+X***************
+X*** 193,199 ****
+X  They say that a potion of yogurt is a cancelled potion of sickness.
+X  They say that a purple worm is not a baby purple dragon.
+X  They say that a quivering blob tastes different than a gelatinous cube.
+X- They say that a runed broadsword named Stormbringer attracts vortices.
+X  They say that a scroll of summoning has other names.
+X  They say that a shaman can bestow blessings but usually doesn't.
+X  They say that a shaman will bless you for an eye of newt and wing of bat.
+X--- 196,201 ----
+X***************
+X*** 326,331 ****
+X--- 328,334 ----
+X  They say that you should call your armor `rustproof'.
+X  They say that you should name your dog Spuds to have a cool pet.
+X  They say that you should name your weapon after your first monster kill.
+X+ They say that you should not bother flaming USENETters, they're fire resistant.
+X  They say that you should never introduce a rope golem to a succubus.
+X  They say that you should never sleep near invisible ring wraiths.
+X  They say that you should never try to leave the dungeon with a bag of gems.
+X*** /tmp/tmp.1285	Sat May 28 21:14:01 1994
+X--- ./dat/rumors.tru	Sun May 22 16:16:38 1994
+X***************
+X*** 1,3 ****
+X--- 1,4 ----
+X+ A babelfish might remind you of a wraith.
+X  A blindfold can be very useful if you're telepathic.
+X  A candelabrum affixed with seven candles shows the way with a magical light.
+X  A crystal plate mail will not rust.
+X***************
+X*** 7,12 ****
+X--- 8,14 ----
+X  A potion of blindness lets you see invisible things.
+X  A priest can get the gods to listen easily.
+X  A priestess and a virgin you might be, but that unicorn won't care.
+X+ A Ravenous Bugblatter Beast Of Traal seems to be concerned about your life.
+X  A ring of conflict is a bad thing if there is a nurse in the room.
+X  A short sword is not as good as a long sword.
+X  A succubus will go farther than a nymph.
+X***************
+X*** 39,44 ****
+X--- 41,47 ----
+X  Don't mess with shopkeepers, or you'll get the Guild after you.
+X  Dragons never whip their children; they wouldn't feel it!
+X  Eat your carrots.  They're good for your eyes.
+X+ Eating a creeping 42 is not really like eating a wraith.
+X  Eating a freezing sphere is like eating a yeti.
+X  Eating a killer bee is like eating a scorpion.
+X  Eating a tengu is like eating a nymph.
+X***************
+X*** 58,63 ****
+X--- 61,67 ----
+X  Getting hungry?  Stop wearing rings!
+X  Gods expect the best from their priesthood.
+X  Gods look down their noses at demigods.
+X+ Greek mythology is often very vivid.
+X  Handle your flasks carefully -- there might be a ghost inside!
+X  Holy water has many uses.
+X  Hunger is a confusing experience for a dog!
+X***************
+X*** 108,115 ****
+X--- 112,121 ----
+X  Potions don't usually mix, but sometimes...
+X  Psst!  It's done with mirrors!
+X  Put on a ring of teleportation:  it will take you away from onslaught.
+X+ Quantum mechanics know about quantum mechanics.
+X  Rays aren't boomerangs, of course, but still...
+X  Read the manual before entering the cave -- you might get killed otherwise.
+X+ Reading Adams might be fun -- even if it doesn't help you.
+X  Reading Herbert might be enlightening in one case.
+X  Reading Tolkien might help you.
+X  Reading scrolls after drinking booze can give confusing results.
+X***************
+X*** 168,173 ****
+X--- 174,180 ----
+X  They say that a polymorph trap is magic and magic protection prevents it.
+X  They say that a potion of healing can cancel a potion of sickness.
+X  They say that a potion of monster detection sometimes works both ways.
+X+ They say that a runed broadsword named Stormbringer attracts vortices.
+X  They say that a sink looks different from high above the floor.
+X  They say that a summoned demon could improve your game.
+X  They say that a tin of wraith meat is a rare dining experience.
+X***************
+X*** 187,192 ****
+X--- 194,200 ----
+X  They say that by listening carefully, you can hear a secret door!
+X  They say that carrots and carrot juice may improve your vision.
+X  They say that cave spiders are not considered expensive health food.
+X+ They say that chemical knowledge is useless without proper equipment.
+X  They say that demigods must leave behind their prized earthly possessions.
+X  They say that disturbing a djinni can be a costly mistake.
+X  They say that dragon scales can be quite enchanting.
+X***************
+X*** 249,254 ****
+X--- 257,263 ----
+X  They say that sinks run hot and cold and many flavors in between.
+X  They say that snake charmers aren't charismatic, just musical.
+X  They say that soldiers are always prepared and usually protected.
+X+ They say that some bags are hungry.
+X  They say that some eggs could hatch in your pack, lucky or not.
+X  They say that some fire ants will make you a hot meal.
+X  They say that some horns play hot music and others are too cool for words.
+X*** /tmp/tmp.1285	Sat May 28 21:14:15 1994
+X--- ./dat/castle.des	Thu Apr 21 19:03:38 1994
+X***************
+X*** 129,135 ****
+X  OBJECT:object[3],random,(54,11)
+X  OBJECT:object[3],random,(55,11)
+X  # THE WAND OF WISHING in 1 of the 4 towers
+X! OBJECT:'/',"wishing",place[0]
+X  # Prevent monsters from eating it.  (@'s never eat objects)
+X  ENGRAVING:place[0],burn,"Elbereth"
+X  # The treasure of the lord
+X--- 129,135 ----
+X  OBJECT:object[3],random,(54,11)
+X  OBJECT:object[3],random,(55,11)
+X  # THE WAND OF WISHING in 1 of the 4 towers
+X! OBJECT:'/',"wishing",place[0],uncursed,3,"Wand Of Might"
+X  # Prevent monsters from eating it.  (@'s never eat objects)
+X  ENGRAVING:place[0],burn,"Elbereth"
+X  # The treasure of the lord
+X*** /tmp/tmp.1285	Sat May 28 21:14:18 1994
+X--- ./dat/gehennom.des	Wed Apr 27 18:14:14 1994
+X***************
+X*** 644,646 ****
+X--- 644,1182 ----
+X  MONSTER:'V',random,random
+X  MONSTER:'V',random,random
+X  STAIR:(63,15),up
+X+ 
+X+ #
+X+ # ... and finally: a school
+X+ # It is probably no coincidence that it is in hell :-)
+X+ #
+X+ # I had to comment out many pupils - weird things seem to happen when
+X+ # there are more than 127 monsters (lev_comp bug/feature ?)
+X+ 
+X+ MAZE: "school", ' '
+X+ MESSAGE: "You feel reminded of your days of learning ..."
+X+ GEOMETRY: center,center
+X+ 
+X+ #         1         2         3         4         5         6         7
+X+ # 23456789012345678901234567890123456789012345678901234567890123456789012345
+X+ MAP
+X+ |--|        |-------|-----|-----|-----|-----|-----|-----|-----|-----|------|
+X+ |..+########+.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+ |--|        |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+             |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+      #######+.......|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+---|
+X+      #      |..............................................................|
+X+      #      |..............................................................|
+X+      #      |.......|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+---|
+X+ |----+----| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+ |.........| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+ |.........| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+ |.........| |.......|-----|-----|-----|-----|-----|-----|-----|-----|------|
+X+ |.........| |..............................................................|
+X+ |.........| |..............................................................|
+X+ |.........| |.......|--+----------------------------+--|--+----------------|
+X+ |.........| |.......|..................................|...................|
+X+ |.........| |.......|..................................+...................|
+X+ |.........| |.......|..................................|...............\...|
+X+ |.........| |.......|..................................|...................|
+X+ |---------| |--------------------------------------------------------------|
+X+ ENDMAP
+X+ 
+X+ # the antechamber
+X+ REGION:(01,01,02,01),unlit,"ordinary"
+X+ # the actual school
+X+ REGION:(13,01,74,18),lit,"ordinary"
+X+ # the gym
+X+ REGION:(01,09,09,18),lit,"ordinary"
+X+ 
+X+ # Stairs: up in the antechamber, down behind the principal's throne
+X+ STAIR:(01,01),up
+X+ STAIR:(72,17),down
+X+ 
+X+ # main doors
+X+ DOOR:locked,(12,01)
+X+ DOOR:locked,(12,04)
+X+ # the classes
+X+ DOOR:locked,(23,04)
+X+ DOOR:locked,(29,04)
+X+ DOOR:locked,(35,04)
+X+ DOOR:locked,(41,04)
+X+ DOOR:locked,(47,04)
+X+ DOOR:locked,(53,04)
+X+ DOOR:locked,(59,04)
+X+ DOOR:locked,(65,04)
+X+ DOOR:locked,(71,04)
+X+ DOOR:locked,(23,07)
+X+ DOOR:locked,(29,07)
+X+ DOOR:locked,(35,07)
+X+ DOOR:locked,(41,07)
+X+ DOOR:locked,(47,07)
+X+ DOOR:locked,(53,07)
+X+ DOOR:locked,(59,07)
+X+ DOOR:locked,(65,07)
+X+ DOOR:locked,(71,07)
+X+ # the Teacher's Room
+X+ DOOR:locked,(23,14)
+X+ DOOR:locked,(52,14)
+X+ # the Principal's Office
+X+ DOOR:locked,(58,14)
+X+ DOOR:locked,(55,16)
+X+ # the Gym
+X+ DOOR:locked,(05,08)
+X+ 
+X+ # Engravings: the classes and other rooms
+X+ ENGRAVING:(23,05),burn,"C101"
+X+ ENGRAVING:(29,05),burn,"C102"
+X+ ENGRAVING:(35,05),burn,"C103"
+X+ ENGRAVING:(41,05),burn,"C104"
+X+ ENGRAVING:(47,05),burn,"C105"
+X+ ENGRAVING:(53,05),burn,"C106"
+X+ ENGRAVING:(59,05),burn,"C107"
+X+ ENGRAVING:(65,05),burn,"C108"
+X+ ENGRAVING:(71,05),burn,"C109"
+X+ ENGRAVING:(23,06),burn,"C201"
+X+ ENGRAVING:(29,06),burn,"C202"
+X+ ENGRAVING:(35,06),burn,"C203"
+X+ ENGRAVING:(41,06),burn,"C204"
+X+ ENGRAVING:(47,06),burn,"Library"
+X+ ENGRAVING:(53,06),burn,"B111 (Biology)"
+X+ ENGRAVING:(59,06),burn,"B115 (Chemical Storage)"
+X+ ENGRAVING:(65,06),burn,"B116 (Chemistry)"
+X+ ENGRAVING:(71,06),burn,"C311 (Computers)"
+X+ ENGRAVING:(23,13),burn,"Teacher's Room"
+X+ ENGRAVING:(52,13),burn,"Teacher's Room"
+X+ ENGRAVING:(58,13),burn,"Principal's Office"
+X+ ENGRAVING:(05,07),burn,"Abandon all hope, ye who enter here!"
+X+ ENGRAVING:(11,01),burn,"KILLER HIGH SCHOOL"
+X+ 
+X+ # Room C101, in memorial of my old kind but tough English teacher 
+X+ # Mr. Baumert
+X+ MONSTER:'@',"teacher",(23,03),"Mr. Baumert",peaceful
+X+ MONSTER:'@',"pupil",(21,01)
+X+ MONSTER:'@',"pupil",(22,01)
+X+ MONSTER:'@',"pupil",(23,01)
+X+ MONSTER:'@',"pupil",(24,01)
+X+ # MONSTER:'@',"pupil",(25,01)
+X+ # MONSTER:'@',"pupil",(21,02)
+X+ # MONSTER:'@',"pupil",(22,02)
+X+ # MONSTER:'@',"pupil",(23,02)
+X+ # MONSTER:'@',"pupil",(24,02)
+X+ # MONSTER:'@',"pupil",(25,02)
+X+ # MONSTER:'@',"pupil",(21,03)
+X+ # MONSTER:'@',"pupil",(22,03)
+X+ # MONSTER:'@',"pupil",(24,03)
+X+ # MONSTER:'@',"pupil",(25,03)
+X+ 
+X+ # Room C102, Mr. Gier. I have always loved his blasts of sleep.
+X+ MONSTER:'@',"teacher",(29,03),"Mr. Gier",hostile
+X+ MONSTER:'@',"pupil",(27,01)
+X+ MONSTER:'@',"pupil",(28,01)
+X+ MONSTER:'@',"pupil",(29,01)
+X+ MONSTER:'@',"pupil",(30,01)
+X+ MONSTER:'@',"pupil",(31,01)
+X+ # MONSTER:'@',"pupil",(27,02)
+X+ # MONSTER:'@',"pupil",(28,02)
+X+ # MONSTER:'@',"pupil",(29,02)
+X+ # MONSTER:'@',"pupil",(30,02)
+X+ # MONSTER:'@',"pupil",(31,02)
+X+ # MONSTER:'@',"pupil",(27,03)
+X+ # MONSTER:'@',"pupil",(28,03)
+X+ # MONSTER:'@',"pupil",(30,03)
+X+ # MONSTER:'@',"pupil",(31,03)
+X+ 
+X+ # Room C103. Mrs. Dickler. Her capabilities in explaining maths 
+X+ # were always of use.
+X+ MONSTER:'@',"teacher",(35,03),"Mrs. Dickler"
+X+ MONSTER:'@',"pupil",(33,01)
+X+ MONSTER:'@',"pupil",(34,01)
+X+ MONSTER:'@',"pupil",(35,01)
+X+ MONSTER:'@',"pupil",(36,01)
+X+ # MONSTER:'@',"pupil",(37,01)
+X+ # MONSTER:'@',"pupil",(33,02)
+X+ # MONSTER:'@',"pupil",(34,02)
+X+ # MONSTER:'@',"pupil",(35,02)
+X+ # MONSTER:'@',"pupil",(36,02)
+X+ # MONSTER:'@',"pupil",(37,02)
+X+ # MONSTER:'@',"pupil",(33,03)
+X+ # MONSTER:'@',"pupil",(34,03)
+X+ # MONSTER:'@',"pupil",(36,03)
+X+ # MONSTER:'@',"pupil",(37,03)
+X+ 
+X+ # Room C104. Mrs. Wessel. Thank you for being so kind ...
+X+ MONSTER:'@',"teacher",(41,03),"Mrs. Wessel"
+X+ MONSTER:'@',"pupil",(39,01)
+X+ MONSTER:'@',"pupil",(40,01)
+X+ MONSTER:'@',"pupil",(41,01)
+X+ MONSTER:'@',"pupil",(42,01)
+X+ # MONSTER:'@',"pupil",(43,01)
+X+ # MONSTER:'@',"pupil",(39,02)
+X+ # MONSTER:'@',"pupil",(40,02)
+X+ # MONSTER:'@',"pupil",(41,02)
+X+ # MONSTER:'@',"pupil",(42,02)
+X+ # MONSTER:'@',"pupil",(43,02)
+X+ # MONSTER:'@',"pupil",(39,03)
+X+ # MONSTER:'@',"pupil",(40,03)
+X+ # MONSTER:'@',"pupil",(42,03)
+X+ # MONSTER:'@',"pupil",(43,03)
+X+ 
+X+ # C105. Mr. Koerfgen - I have always loved your acid blasts
+X+ # Guess why there are so many corpses here :-)
+X+ MONSTER:'@',"teacher",(47,03),"Mr. Koerfgen",hostile
+X+ OBJECT:'/',"acid",(47,03)
+X+ MONSTER:'@',"pupil",(45,01)
+X+ OBJECT:'%',"corpse",(46,01),"pupil",0
+X+ MONSTER:'@',"pupil",(47,01)
+X+ OBJECT:'%',"corpse",(48,01),"pupil",0
+X+ MONSTER:'@',"pupil",(49,01)
+X+ OBJECT:'%',"corpse",(45,02),"pupil",0
+X+ # MONSTER:'@',"pupil",(46,02)
+X+ OBJECT:'%',"corpse",(47,02),"pupil",0
+X+ # MONSTER:'@',"pupil",(48,02)
+X+ OBJECT:'%',"corpse",(49,02),"pupil",0
+X+ # MONSTER:'@',"pupil",(45,03)
+X+ OBJECT:'%',"corpse",(46,03),"pupil",0
+X+ # MONSTER:'@',"pupil",(48,03)
+X+ OBJECT:'%',"corpse",(49,03),"pupil",0
+X+ 
+X+ # C106 is the residence of Mr. Schuster.
+X+ MONSTER:'@',"teacher",(53,03),"Mr. Schuster"
+X+ MONSTER:'@',"pupil",(51,01)
+X+ MONSTER:'@',"pupil",(52,01)
+X+ MONSTER:'@',"pupil",(53,01)
+X+ MONSTER:'@',"pupil",(54,01)
+X+ MONSTER:'@',"pupil",(55,01)
+X+ # MONSTER:'@',"pupil",(51,02)
+X+ # MONSTER:'@',"pupil",(52,02)
+X+ # MONSTER:'@',"pupil",(53,02)
+X+ # MONSTER:'@',"pupil",(54,02)
+X+ # MONSTER:'@',"pupil",(55,02)
+X+ # MONSTER:'@',"pupil",(51,03)
+X+ # MONSTER:'@',"pupil",(52,03)
+X+ # MONSTER:'@',"pupil",(54,03)
+X+ # MONSTER:'@',"pupil",(55,03)
+X+ 
+X+ # The room C107 is dedicated to the memorial of Mr. Marre who 
+X+ # perhaps was the most amusing and kind teacher known to mankind ...
+X+ MONSTER:'@',"teacher",(53,03),"Mr. Marre",peaceful
+X+ MONSTER:'@',"pupil",(51,01)
+X+ MONSTER:'@',"pupil",(52,01)
+X+ MONSTER:'@',"pupil",(53,01)
+X+ MONSTER:'@',"pupil",(54,01)
+X+ MONSTER:'@',"pupil",(55,01)
+X+ MONSTER:'@',"pupil",(51,02)
+X+ MONSTER:'@',"pupil",(52,02)
+X+ # MONSTER:'@',"pupil",(53,02)
+X+ # MONSTER:'@',"pupil",(54,02)
+X+ # MONSTER:'@',"pupil",(55,02)
+X+ # MONSTER:'@',"pupil",(51,03)
+X+ # MONSTER:'@',"pupil",(52,03)
+X+ # MONSTER:'@',"pupil",(54,03)
+X+ # MONSTER:'@',"pupil",(55,03)
+X+ 
+X+ # Room C108 is the torture chamber of another funny chemistry teacher,
+X+ # Mr. Ennen
+X+ MONSTER:'@',"teacher",(65,03),"Mr. Ennen"
+X+ MONSTER:'@',"pupil",(63,01)
+X+ MONSTER:'@',"pupil",(64,01)
+X+ MONSTER:'@',"pupil",(65,01)
+X+ MONSTER:'@',"pupil",(66,01)
+X+ MONSTER:'@',"pupil",(67,01)
+X+ MONSTER:'@',"pupil",(63,02)
+X+ # MONSTER:'@',"pupil",(64,02)
+X+ # MONSTER:'@',"pupil",(65,02)
+X+ # MONSTER:'@',"pupil",(66,02)
+X+ # MONSTER:'@',"pupil",(67,02)
+X+ # MONSTER:'@',"pupil",(63,03)
+X+ # MONSTER:'@',"pupil",(64,03)
+X+ # MONSTER:'@',"pupil",(66,03)
+X+ # MONSTER:'@',"pupil",(67,03)
+X+ 
+X+ # Room C109 is dedicated to Mr. Lewald, our former principal who was
+X+ # so kind to all - perhaps too kind ...
+X+ # Should me make him a principal in MONSTER: or not?
+X+ MONSTER:'@',"teacher",(71,03),"Mr. Lewald"
+X+ MONSTER:'@',"pupil",(69,01)
+X+ MONSTER:'@',"pupil",(70,01)
+X+ MONSTER:'@',"pupil",(71,01)
+X+ MONSTER:'@',"pupil",(72,01)
+X+ MONSTER:'@',"pupil",(73,01)
+X+ # MONSTER:'@',"pupil",(74,01)
+X+ # MONSTER:'@',"pupil",(69,02)
+X+ # MONSTER:'@',"pupil",(70,02)
+X+ # MONSTER:'@',"pupil",(71,02)
+X+ # MONSTER:'@',"pupil",(72,02)
+X+ # MONSTER:'@',"pupil",(73,02)
+X+ # MONSTER:'@',"pupil",(74,02)
+X+ # MONSTER:'@',"pupil",(69,03)
+X+ # MONSTER:'@',"pupil",(70,03)
+X+ # MONSTER:'@',"pupil",(72,03)
+X+ # MONSTER:'@',"pupil",(73,03)
+X+ # MONSTER:'@',"pupil",(74,03)
+X+ 
+X+ # Room C201 - Mr. Bitterberg
+X+ # Mr. Bitterberg, should you ever read this, I congratulate you for finally
+X+ # being convinced to use The One True Operating System, UNIX, and The One
+X+ # True Computer Game, Nethack.
+X+ MONSTER:'@',"teacher",(23,08),"Mr. Bitterberg"
+X+ MONSTER:'@',"pupil",(21,08)
+X+ MONSTER:'@',"pupil",(22,08)
+X+ MONSTER:'@',"pupil",(24,08)
+X+ # MONSTER:'@',"pupil",(25,08)
+X+ # MONSTER:'@',"pupil",(21,09)
+X+ # MONSTER:'@',"pupil",(22,09)
+X+ # MONSTER:'@',"pupil",(23,09)
+X+ # MONSTER:'@',"pupil",(24,09)
+X+ # MONSTER:'@',"pupil",(25,09)
+X+ # MONSTER:'@',"pupil",(21,10)
+X+ # MONSTER:'@',"pupil",(22,10)
+X+ # MONSTER:'@',"pupil",(23,10)
+X+ # MONSTER:'@',"pupil",(24,10)
+X+ # MONSTER:'@',"pupil",(25,10)
+X+ 
+X+ # Room C202 - Mr. Ellerhold
+X+ # He teaches Music, yet he is the most demanding teacher of the whole
+X+ # school, much to the dislike of the pupils (and that's the reason
+X+ # why there are so few pupils left).
+X+ MONSTER:'@',"teacher",(29,08),"Mr. Ellerhold"
+X+ MONSTER:'@',"pupil",(27,08)
+X+ MONSTER:'@',"pupil",(28,08)
+X+ 
+X+ # Room C203 - Mr. Hartstone
+X+ # He is very funny, in fact he is the teacher most entertaining to listen
+X+ # to ...
+X+ MONSTER:'@',"teacher",(35,08),"Mr. Hartstone",peaceful
+X+ MONSTER:'@',"pupil",(33,08)
+X+ MONSTER:'@',"pupil",(34,08)
+X+ MONSTER:'@',"pupil",(36,08)
+X+ MONSTER:'@',"pupil",(37,08)
+X+ MONSTER:'@',"pupil",(33,09)
+X+ MONSTER:'@',"pupil",(34,09)
+X+ # MONSTER:'@',"pupil",(35,09)
+X+ # MONSTER:'@',"pupil",(36,09)
+X+ # MONSTER:'@',"pupil",(37,09)
+X+ # MONSTER:'@',"pupil",(33,10)
+X+ # MONSTER:'@',"pupil",(34,10)
+X+ # MONSTER:'@',"pupil",(35,10)
+X+ # MONSTER:'@',"pupil",(36,10)
+X+ # MONSTER:'@',"pupil",(37,10)
+X+ 
+X+ # Room C204 - Mrs. Ludwig. She is one (perhaps the only) exception to
+X+ # the rule regarding PE teachers stated below ...
+X+ MONSTER:'@',"teacher",(41,08),"Mrs. Ludwig",peaceful
+X+ MONSTER:'@',"pupil",(39,08)
+X+ MONSTER:'@',"pupil",(40,08)
+X+ MONSTER:'@',"pupil",(42,08)
+X+ MONSTER:'@',"pupil",(43,08)
+X+ MONSTER:'@',"pupil",(39,09)
+X+ MONSTER:'@',"pupil",(40,09)
+X+ # MONSTER:'@',"pupil",(41,09)
+X+ # MONSTER:'@',"pupil",(42,09)
+X+ # MONSTER:'@',"pupil",(43,09)
+X+ # MONSTER:'@',"pupil",(39,10)
+X+ # MONSTER:'@',"pupil",(40,10)
+X+ # MONSTER:'@',"pupil",(41,10)
+X+ # MONSTER:'@',"pupil",(42,10)
+X+ # MONSTER:'@',"pupil",(43,10)
+X+ 
+X+ # The library, also the residence of Mrs. Meurer 
+X+ MONSTER:'@',"teacher",(47,08),"Mrs. Meurer"
+X+ OBJECT:'?',random,(45,08)
+X+ OBJECT:'?',random,(46,08)
+X+ OBJECT:'+',random,(47,08)
+X+ OBJECT:'?',random,(48,08)
+X+ OBJECT:'?',random,(49,08)
+X+ OBJECT:'?',random,(45,09)
+X+ OBJECT:'?',random,(46,09)
+X+ OBJECT:'+',random,(47,09)
+X+ OBJECT:'?',random,(48,09)
+X+ OBJECT:'?',random,(49,09)
+X+ OBJECT:'?',random,(45,10)
+X+ OBJECT:'?',random,(46,10)
+X+ OBJECT:'+',random,(47,10)
+X+ OBJECT:'?',random,(48,10)
+X+ OBJECT:'?',random,(49,10)
+X+ 
+X+ # The biology room (B111), occupied by Mr. Overbeck, who always was
+X+ # kind and always had time for a joke
+X+ # Mr. Overbeck is not peaceful - so let's have fun with polymorph ...
+X+ MONSTER:'@',"teacher",(53,08),"Mr. Overbeck"
+X+ OBJECT:'/',"polymorph",(53,08)
+X+ # He has a wand of polymorph and always was *very* generous in its usage ...
+X+ # the following are the (former) pupils.
+X+ MONSTER:random,random,(51,08)
+X+ MONSTER:random,random,(52,08)
+X+ MONSTER:random,random,(54,08)
+X+ MONSTER:random,random,(55,08)
+X+ MONSTER:random,random,(51,09)
+X+ MONSTER:random,random,(52,09)
+X+ MONSTER:random,random,(53,09)
+X+ # MONSTER:random,random,(54,09)
+X+ # MONSTER:random,random,(55,09)
+X+ # MONSTER:random,random,(51,10)
+X+ # MONSTER:random,random,(52,10)
+X+ # MONSTER:random,random,(53,10)
+X+ # MONSTER:random,random,(54,10)
+X+ # MONSTER:random,random,(55,10)
+X+ 
+X+ # The chemical storage (B115)
+X+ OBJECT:'!',random,(57,08)
+X+ OBJECT:'!',random,(58,08)
+X+ OBJECT:'!',random,(59,08)
+X+ OBJECT:'!',random,(60,08)
+X+ OBJECT:'!',random,(61,08)
+X+ OBJECT:'!',random,(57,09)
+X+ OBJECT:'!',random,(58,09)
+X+ OBJECT:'!',random,(59,09)
+X+ OBJECT:'!',random,(60,09)
+X+ OBJECT:'!',random,(61,09)
+X+ OBJECT:'!',random,(57,10)
+X+ OBJECT:'!',random,(58,10)
+X+ OBJECT:'!',random,(59,10)
+X+ OBJECT:'!',random,(60,10)
+X+ OBJECT:'!',random,(61,10)
+X+ 
+X+ # The chemistry room (B116) is occupied by Mr. Klomp, the teacher I believe to
+X+ # be most balanced between teaching, kindness and humour.
+X+ MONSTER:'@',"teacher",(65,08),"Mr. Klomp",peaceful
+X+ MONSTER:'@',"pupil",(63,08)
+X+ MONSTER:'@',"pupil",(64,08)
+X+ MONSTER:'@',"pupil",(66,08)
+X+ MONSTER:'@',"pupil",(67,08)
+X+ MONSTER:'@',"pupil",(63,09)
+X+ MONSTER:'@',"pupil",(64,09)
+X+ MONSTER:'@',"pupil",(65,09)
+X+ # MONSTER:'@',"pupil",(66,09)
+X+ # MONSTER:'@',"pupil",(67,09)
+X+ # MONSTER:'@',"pupil",(63,10)
+X+ # MONSTER:'@',"pupil",(64,10)
+X+ # MONSTER:'@',"pupil",(65,10)
+X+ # MONSTER:'@',"pupil",(66,10)
+X+ # MONSTER:'@',"pupil",(67,10)
+X+ 
+X+ # The computer room (C311), and, with it, Mr. Alers
+X+ MONSTER:'@',"teacher",(71,08),"Mr. Alers",peaceful
+X+ MONSTER:'@',"pupil",(69,08)
+X+ MONSTER:'@',"pupil",(70,08)
+X+ MONSTER:'@',"pupil",(72,08)
+X+ MONSTER:'@',"pupil",(73,08)
+X+ MONSTER:'@',"pupil",(74,08)
+X+ MONSTER:'@',"pupil",(69,09)
+X+ MONSTER:'@',"pupil",(70,09)
+X+ MONSTER:'@',"pupil",(71,09)
+X+ MONSTER:'@',"pupil",(72,09)
+X+ # MONSTER:'@',"pupil",(73,09)
+X+ # MONSTER:'@',"pupil",(74,09)
+X+ # MONSTER:'@',"pupil",(69,10)
+X+ # MONSTER:'@',"pupil",(70,10)
+X+ # MONSTER:'@',"pupil",(71,10)
+X+ # MONSTER:'@',"pupil",(72,10)
+X+ # MONSTER:'@',"pupil",(73,10)
+X+ # MONSTER:'@',"pupil",(74,08)
+X+ OBJECT:'(',"pack of floppies",(69,08)
+X+ OBJECT:'(',"pack of floppies",(70,08)
+X+ OBJECT:'(',"pack of floppies",(71,08)
+X+ OBJECT:'(',"pack of floppies",(72,08)
+X+ OBJECT:'(',"pack of floppies",(73,08)
+X+ OBJECT:'(',"pack of floppies",(74,08)
+X+ OBJECT:'(',"pack of floppies",(69,09)
+X+ OBJECT:'(',"pack of floppies",(70,09)
+X+ OBJECT:'(',"pack of floppies",(71,09)
+X+ OBJECT:'(',"pack of floppies",(72,09)
+X+ OBJECT:'(',"pack of floppies",(73,09)
+X+ OBJECT:'(',"pack of floppies",(74,09)
+X+ OBJECT:'(',"pack of floppies",(69,10)
+X+ OBJECT:'(',"pack of floppies",(70,10)
+X+ OBJECT:'(',"pack of floppies",(71,10)
+X+ OBJECT:'(',"pack of floppies",(72,10)
+X+ OBJECT:'(',"pack of floppies",(73,10)
+X+ OBJECT:'(',"pack of floppies",(74,10)
+X+ 
+X+ # the Teacher's Room
+X+ MONSTER:'@',"teacher",(30,16),"Mr. Biciste"
+X+ 
+X+ # the Principal
+X+ MONSTER:'@',"principal",(71,17),"Mr. Gemein"
+X+ MONSTER:'@',"teacher",(70,17),"Mr. Haas"
+X+ 
+X+ # the Gym
+X+ # it contains such crap as Mr. Geis and Mrs. Haastert
+X+ # Remember the old rule that all PE teachers are sadists.
+X+ # (with very few exceptions)
+X+ MONSTER:'@',"teacher",(02,12),"Mr. Geis"
+X+ MONSTER:'@',"teacher",(08,15),"Mrs. Haastert"
+X+ MONSTER:'@',"pupil",(01,09)
+X+ MONSTER:'@',"pupil",(02,10)
+X+ MONSTER:'@',"pupil",(03,11)
+X+ MONSTER:'@',"pupil",(04,12)
+X+ MONSTER:'@',"pupil",(05,13)
+X+ MONSTER:'@',"pupil",(06,14)
+X+ MONSTER:'@',"pupil",(07,15)
+X+ MONSTER:'@',"pupil",(08,16)
+X+ MONSTER:'@',"pupil",(09,17)
+X+ # MONSTER:'@',"pupil",(01,18)
+X+ # MONSTER:'@',"pupil",(02,09)
+X+ # MONSTER:'@',"pupil",(01,10)
+X+ # MONSTER:'@',"pupil",(01,11)
+X+ # MONSTER:'@',"pupil",(01,12)
+X+ # MONSTER:'@',"pupil",(01,13)
+X+ # This is the ultimate fate of those addicted to sports ...
+X+ MONSTER:'Z',"human zombie",(01,14)
+X+ MONSTER:'Z',"human zombie",(01,15)
+X+ MONSTER:'Z',"human zombie",(01,16)
+X+ MONSTER:'Z',"human zombie",(01,17)
+X+ MONSTER:'Z',"skeleton",(01,18)
+X+ 
+X+ # The Computer Land
+X+ MAZE: "compu", ' '
+X+ GEOMETRY: center,center
+X+ #         1         2         3         4         5         6         7
+X+ # 23456789012345678901234567890123456789012345678901234567890123456789012345
+X+ MAP
+X+ |--------------------------------------------------------------------------|
+X+ |....|.....................................................................|
+X+ |-+--|.....................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |.....................................................................|--+-|
+X+ |.....................................................................|....|
+X+ |--------------------------------------------------------------------------|
+X+ ENDMAP
+X+ 
+X+ DOOR:locked,(02,02)
+X+ STAIR:(01,01),up
+X+ DOOR:locked,(73,17)
+X+ STAIR:(74,18),down
+X+ 
+X+ MONSTER:'x',"PDP-9",random
+X+ MONSTER:'x',"PDP-11",random
+X+ MONSTER:'x',"VAX",random
+X+ MONSTER:'x',"Cray",random
+X+ MONSTER:'&',"news daemon",random
+X+ MONSTER:'&',"printer daemon",random
+X+ MONSTER:'&',"UNIX Kernel",random
+X+ 
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"heisenbug",random
+X+ MONSTER:'x',"heisenbug",random
+X+ 
+X+ OBJECT:'=',"timely backup",random
+X+ OBJECT:'?',"root password detection",random
+X+ OBJECT:'"',"amulet of data storage",random
+X+ OBJECT:'/',"bugging",random
+X+ 
+X*** /tmp/tmp.1285	Sat May 28 21:14:24 1994
+X--- ./dat/data.base	Sun May 22 19:51:39 1994
+X***************
+X*** 102,107 ****
+X--- 102,136 ----
+X  		pentacle).   Traditionally, the  athame  is  a double-edged,
+X  		black-handled,  cross-hilted   dagger  of  between  six  and
+X  		eighteen inches length.
+X+ babelfish
+X+ 		"The Babel fish," said The Hitch  Hiker's Guide  to  the  Galaxy
+X+ 		quietly,  "is  small,  yellow  and  leech-like, and probably the
+X+ 		oddest thing in the Universe. It feeds on brainwave  energy  not
+X+ 		from  its  carrier  but  from  those around  it.  It absorbs all
+X+ 		unconscious mental frequencies  from this  brainwave  energy  to
+X+ 		nourish  itself  with.  It then  excretes  into  the mind of its
+X+ 		carrier a telepathic matrix formed  by  combining the  conscious
+X+ 		thought frequencies with nerve signals picked up from the speech
+X+ 		centres of the brain which  has  supplied  them.  The  practical
+X+ 		upshot of all this is that if you stick a Babel fish in your ear
+X+ 		you can instantly understand anything said to you in any form of
+X+ 		language.  The  speech  patterns  you actually  hear  decode the
+X+ 		brainwave matrix which has been fed into your mind by your Babel
+X+ 		fish.
+X+ 		[...] 
+X+ 		"Meanwhile, the poor Babel  fish, by  effectively  removing  all
+X+ 		barriers  to communication between different races and cultures,
+X+ 		has caused more and bloddier wars  than  anything  else  in  the
+X+ 		history of creation."
+X+ 		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+X+ bug
+X+ 	 	n. An unwanted  and  unintended  property of a  program or piece
+X+ 	 	of hardware, esp. one that causes it to malfunction.  Antonym of
+X+ 	  	{feature}.   Examples: "There's a bug  in the editor:  it writes
+X+ 		things out backwards." "The system crashed because of a hardware
+X+ 	  	bug."   "Fred is a winner, but he has a few bugs" (i.e., Fred is
+X+ 	   	a good guy, but he has a few personality problems).
+X+ 		[ The Jargon File, version 3.0.0 ]
+X  *centaur
+X  		Of all the monsters put together by  the  Greek  imagination
+X  		the  Centaurs (Kentauroi) constituted a class in themselves.
+X***************
+X*** 144,149 ****
+X--- 173,313 ----
+X  		sicken and die.
+X  		[ Mythical Beasts by Deirdre Headon (The Leprechaun Library)
+X  		  and other sources ]
+X+ creeping 42
+X+ 		These are the incarnations of The Answer (although nobody
+X+ 		knows the question). Eating the dead body of one gives
+X+ 		you a short, but insightful glimpse on the answer, thereby
+X+ 		greatly increasing your experience in life. However the
+X+ 		shock will cause your vision to blur temporarily.
+X+ Cray
+X+ 		:cray: /kray/ n. 1. (properly, capitalized) One of the line of
+X+ 		supercomputers designed by Cray Research. 2.Any supercomputer at
+X+ 		all.  3. The {canonical} {number-crunching} machine.
+X+ 
+X+ 		The term is actually the lowercased last name of Seymour Cray, a
+X+ 		noted computer architect and co-founder of the company. Numerous
+X+ 		vivid legends surround him, some true and some admittedly invented
+X+ 		by Cray Research brass to shape their corporate culture and image.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X+ Deep Thought
+X+ 		"O people waiting in the Shadow of Deep Thought!" he cried  out.
+X+ 		"Honoured Descendants of Vroomfondel and Majikthise,the Greatest
+X+ 		and Most Truly Interesting Pundits the Universe has  ever  known
+X+ 		... The Time of Waiting is over!"
+X+ 		[...] 
+X+ 		"Seven and a half million years our  race  has waited  for  this
+X+ 		Great  and  Hopefully Enlightening Day!" cried the cheer leader.
+X+ 		"The Day of the Answer!"
+X+ 		[...] 
+X+ 		"The time is nearly upon us," said one, and Arthur was surprised
+X+ 		to see a word suddenly materialize in thin air just by the man's
+X+ 		neck. The word was Loonquawl, and it flashed a couple  of  times
+X+ 		and then disappeared again. Before Arthur was able to assimilate
+X+ 		this the other man spoke and the word  Phouchg  appeared by  his
+X+ 		neck.
+X+  
+X+ 		"Seventy-five thousand generations ago, our ancestors  set  this
+X+ 		program in motion," the second man said,"and in all that time we
+X+ 		will be the first to hear the computer speak."
+X+  
+X+ 		"An awesome prospect, Phouchg," agreed the first man, and Arthur
+X+ 		suddenly   realized   that  he  was  watching  a recording  with
+X+ 		subtitles.
+X+  
+X+ 		"We are the ones who will hear," said Phouchg,"the answer to the
+X+ 		great question of Life ...!"
+X+  
+X+ 		"The Universe ...!" said Loonquawl.
+X+  
+X+ 		"And Everything ...!"
+X+  
+X+ 		"Shhh," said Loonquawl with  a  slight  gesture, "I  think  Deep
+X+ 		Thought is preparing to speak!"
+X+  
+X+ 		There was a  moment's expectant  pause whilst panels slowly came
+X+ 		to life on the front of  the  console. Lights flashed on and off
+X+ 		experimentally and settled down into a businesslike  pattern.  A
+X+ 		soft low hum came from the communication channel.
+X+  
+X+ 		"Good morning," said Deep Thought at last.
+X+  
+X+ 		"Er ... Good morning, O Deep Thought," said Loonquawl nervously,
+X+ 		"do you have ... er, that is ..."
+X+  
+X+ 		"An answer for you?" interrupted Deep Thought majestically."Yes.
+X+ 		I have."
+X+  
+X+ 		The two men shivered with expectancy. Their waiting had not been
+X+ 		in vain.
+X+  
+X+ 		"There really is one?" breathed Phouchg.
+X+  
+X+ 		"There really is one," confirmed Deep Thought.
+X+  
+X+ 		"To Everything? To the great Question of Life, the  Universe and
+X+ 		Everything?"
+X+  
+X+ 		"Yes."
+X+  
+X+ 		Both of the men had been trained for this moment,their lives had
+X+ 		been  a  preparation  for it, they had been selected at birth as
+X+ 		those who would witness the  answer,  but  even  so  they  found
+X+ 		themselves gasping and squirming like excited children.
+X+  
+X+ 		"And you're ready to give it to us?" urged Loonquawl.
+X+  
+X+ 		"I am."
+X+  
+X+ 		"Now?"
+X+  
+X+ 		"Now," said Deep Thought.
+X+  
+X+ 		They both licked their dry lips.
+X+  
+X+ 		"Though I don't think," added Deep Thought,"that you're going to
+X+ 		like it."
+X+  
+X+ 		"Doesn't matter!" said Phouchg. "We must know it! Now!"
+X+  
+X+ 		"Now?" inquired Deep Thought.
+X+  
+X+ 		"Yes! Now ..."
+X+  
+X+ 		"Alright," said the computer and settled into silence again. The
+X+ 		two men fidgeted. The tension was unbearable.
+X+  
+X+ 		"You're really not going to like it," observed Deep Thought.
+X+  
+X+ 		"Tell us!"
+X+  
+X+ 		"Alright," said Deep Thought. "The Answer to the  Great Question
+X+ 		..."
+X+  
+X+ 		"Yes ...!"
+X+  
+X+ 		"Of Life, the Universe and Everything ..." said Deep Thought.
+X+  
+X+ 		"Yes ...!"
+X+  
+X+ 		"Is ..." said Deep Thought, and paused.
+X+  
+X+ 		"Yes ...!"
+X+  
+X+ 		"Is ..."
+X+  
+X+ 		"Yes ...!!!...?"
+X+  
+X+ 		"Forty-two," said Deep Thought, with infinite majesty and calm.
+X+ 
+X+ 		[ The Hitchhiker's Guide To The Galaxy by Douglas Adams ]
+X+ Douglas Adams
+X+ 		Note to the real Douglas Adams: should you really ever read
+X+ 		this text, please do not get upset about how you and your
+X+ 		characters are represented in this work, but rather remember
+X+ 		that it was you (yes, *you*) who started all this stuff!
+X+ 		"All IMNSHO, constructive comments by e-mail, flame and
+X+ 		murder threats to /dev/null, don't bother with flames,
+X+ 		I'm fire resistant."
+X  *dragon
+X  		In the West  the dragon was  the  natural  enemy   of   man.
+X  		Although  preferring  to live in bleak and desolate regions,
+X***************
+X*** 155,160 ****
+X--- 319,347 ----
+X  		thrashings  of  its  tail,  the  most   deadly  part  of its
+X  		serpent-like body.
+X  		[Mythical Beasts by Deirdre Headon (The Leprechaun Library)]
+X+ Eddie
+X+ 		"Hi there! This is Eddie your shipboard computer, and I'm feeling
+X+ 		just  great  guys,  and  I know I'm just going to get a bundle of
+X+ 		kicks out of any programme you care to run through me."
+X+  
+X+ 		Arthur looked inquiringly at Trillian. She motioned him  to  come
+X+ 		on in but keep quiet.
+X+  
+X+ 		"Computer,"  said  Zaphod,  "tell  us  again  what  our   present
+X+ 		trajectory is."
+X+  
+X+ 		"A real pleasure feller," it burbled, "we are currently in  orbit
+X+ 		at an altitude of three hundred miles around the legendary planet
+X+ 		of Magrathea."
+X+  
+X+ 		"Proving nothing," said Ford. "I wouldn't trust that computer  to
+X+ 		speak my weight."
+X+  
+X+ 	"	I can do that for you, sure," enthused  the  computer,  punching
+X+ 		out  more  tickertape.  "I  can  even  work  out  you personality
+X+ 		problems to ten decimal places if it will help."
+X+ 
+X+ 			[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
+X  *elemental
+X  		Elementals are manifestations of the  basic  nature  of  the
+X  		universe.   There  are four known forms of elementals:  air,
+X***************
+X*** 162,167 ****
+X--- 349,376 ----
+X  		necessity  for  a fifth type, the spirit elemental, but none
+X  		have ever been encountered, at least on this  plane  of  ex-
+X  		istence.
+X+ Ford Perfect
+X+ Ford Prefect
+X+ 		By a curious coincidence,  None  at  all  is  exactly  how  much
+X+ 		suspicion  the ape-descendant  Arthur  Dent  had that one of his
+X+ 		closest friends was not descended from an ape, but was  in  fact
+X+ 		from  a  small planet in the vicinity of Betelgeuse and not from
+X+ 		Guildford as he usually claimed.
+X+  
+X+ 		Arthur Dent had never, ever suspected this.
+X+  
+X+ 		This friend of his had first arrived on the planet some  fifteen
+X+ 		Earth  years previously, and he had worked hard to blend himself
+X+ 		into Earth society - with, it must be said,  some  success.  For
+X+ 		instance he had spent those fifteen years pretending to be an out
+X+ 		of work actor, which was plausible enough.
+X+  
+X+ 		He had made one careless blunder though,because he had skimped a
+X+ 		bit on his preparatory research. The information he had gathered
+X+ 		had  led him to  choose the name "Ford Prefect" [sic]  as  being
+X+ 		inconspicuous.
+X+ 
+X+ 		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
+X  *giant
+X  giant humanoid
+X  		Giants have always walked the earth, though they are rare in
+X***************
+X*** 212,217 ****
+X--- 421,441 ----
+X  gunyoki
+X  		The samurai's last meal  before battle.  It was usually made
+X  		up of cooked chestnuts, dried seaweed, and sake.
+X+ heisenbug
+X+ 		:heisenbug:
+X+ 		/hi:'zen-buhg/ [from Heisenberg's Uncertainty
+X+ 		Principle in quantum physics] n. A bug that disappears or alters
+X+ 		its behavior when one attempts to probe or isolate it.(This usage
+X+ 		is not even particularly fanciful; the use of a debugger sometimes
+X+ 		alters a program's operating environment significantly enough
+X+ 		that buggy code, such as that which relies on the values of
+X+ 		uninitialized memory, behaves quite differently.)  Antonym of
+X+ 		{Bohr bug}; see also {mandelbug}, {schroedinbug}.  In C,
+X+ 		nine out of ten heisenbugs result from uninitialized auto
+X+  		variables, {fandango on core} phenomena (esp. lossage related
+X+ 		to corruption of the malloc {arena}) or errors that {smash
+X+ 		the stack}.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X  hobbit
+X  		Hobbits  are  an unobtrusive  but very ancient people,  more
+X  		numerous formerly than they are today;  for they love  peace
+X***************
+X*** 323,329 ****
+X  		for Elves at any time.
+X  koto
+X  		A Japanese harp.
+X! leprechaun
+X  		The Irish Leprechaun is the Faeries' shoemaker and is  known
+X  		under  various names  in different parts of Ireland:  Cluri-
+X  		caune in Cork, Lurican in Kerry, Lurikeen in Kildare and Lu-
+X--- 547,553 ----
+X  		for Elves at any time.
+X  koto
+X  		A Japanese harp.
+X! *leprechaun*
+X  		The Irish Leprechaun is the Faeries' shoemaker and is  known
+X  		under  various names  in different parts of Ireland:  Cluri-
+X  		caune in Cork, Lurican in Kerry, Lurikeen in Kildare and Lu-
+X***************
+X*** 381,386 ****
+X--- 605,611 ----
+X  		of _mithril_ did not tarnish  or grow dim.
+X  			   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+X  mumak*
+X+ giant mumak
+X  		... the Mumak of Harad was indeed  a beast of vast bulk, and
+X  		the like of him  does not walk now in Middle-Earth;  his kin
+X  		that live still in latter days are but memories of his girth
+X***************
+X*** 412,417 ****
+X--- 637,665 ----
+X  					   [ The Hobbit, by J.R.R. Tolkien ]
+X  osaku
+X  		The osaku is a small tool for picking locks.
+X+ PDP-*
+X+ 		:PDP-10:
+X+ 		[Programmed Data Processor model 10] n. The machine that
+X+ 		made timesharing real. It looms large in hacker folklore because
+X+ 		of its adoption in the mid-1970s by many university computing
+X+ 		facilities and research labs,including the MIT AI Lab, Stanford,
+X+ 		and CMU.  Some aspects of the instruction set (most notably the
+X+ 		bit-field instructions) are still considered unsurpassed. The 10
+X+ 		was eventually eclipsed by the VAX machines (descendants of the
+X+ 		PDP-11) when DEC recognized that the 10 and VAX product lines were
+X+ 		competing with each other and decided to concentrate its software
+X+ 		development effort on the more profitable VAX. The machine was
+X+ 		finally dropped from DEC's line in 1983,following the failure of
+X+ 		the Jupiter Project at DEC to build a viable new model.  (Some
+X+ 		attempts by other companies to market clones came to nothing;see
+X+ 		{Foonly} and {Mars}.)  This event spelled the doom of
+X+ 		{{ITS}} and the technical cultures that had spawned the original
+X+ 		Jargon File, but by mid-1991 it had become something of a badge of
+X+ 		honorable old-timerhood among hackers to have cut one's teeth on a
+X+ 		PDP-10.  See {{TOPS-10}}, {{ITS}}, {AOS}, {BLT}, {DDT},
+X+ 		{DPB}, {EXCH}, {HAKMEM}, {JFCL}, {LDB}, {pop},
+X+ 		{push}, {Appendix A}.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X  piercer
+X  		Ye Piercer doth look like unto  a  stalactyte,  and  hangeth
+X  		from  the  roofs of caves and caverns.  Unto the height of a
+X***************
+X*** 421,426 ****
+X--- 669,688 ----
+X  		it  to kill and devour it, though in any other way they move
+X  		but exceeding slow.
+X  						   [ the Bestiary of Xygag ]
+X+ Prostetnik Vogon Jeltz
+X+ 		Prostetnic Vogon Jeltz was not a pleasant sight, even  for other
+X+ 		Vogons.  His  highly  domed nose  rose  high above a small piggy
+X+ 		forehead.His dark green rubbery skin was thick enough for him to
+X+ 		play the game of Vogon Civil Service politics, and play it well,
+X+ 		and waterproof enough for him  to  survive indefinitely  at  sea
+X+ 		depths of up to a thousand feet with no ill effects.
+X+ 		Not that he ever went swimming of course.His busy schedule would
+X+ 		not allow it.
+X+ 		[...] 
+X+ 		Prostetnic Vogon Jeltz was a fairly typical Vogon in that he was
+X+ 		thoroughly vile. Also, he did not like hitch hikers.
+X+ 
+X+ 		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+X  quantum mechanic
+X  		These creatures are not native to this universe;  they  seem
+X  		to have strangely derived powers, and unknown motives.
+X***************
+X*** 472,477 ****
+X--- 734,757 ----
+X  		belligerent tengus were supposed to have  been  man's  first
+X  		instructors in the use of arms.
+X  		[Mythical Beasts by Deirdre Headon (The Leprechaun Library)]
+X+ towel
+X+ Ravenous Bugblatter Beast Of Traal
+X+ 		A towel, it says, is about the most massively  useful  thing  an
+X+ 		interstellar hitch hiker can have. Partly it has great practical
+X+ 		value-you can wrap it around you for warmth as you bound across
+X+ 		the cold moons of Jaglan Beta;you can lie on it on the brilliant
+X+ 		marble-sanded beaches of Santraginus V, inhaling the  heady  sea
+X+ 		vapours; you can sleep under it beneath the stars which shine so
+X+ 		redly on the desert world of Kakrafoon; use it  to  sail a  mini
+X+ 		raft  down the slow heavy river Moth; wet it for use in hand-to-
+X+ 		hand-combat;wrap it round your head to ward off noxious fumes or
+X+ 		to  avoid  the gaze of the Ravenous Bugblatter Beast of Traal (a
+X+ 		mindboggingly stupid animal,it assumes that if you can't see it,
+X+ 		it  can't see  you - daft as a bush, but very ravenous); you can
+X+ 		wave your towel in emergencies as  a  distress  signal,  and  of
+X+ 		course  dry  yourself off  with it if it still seems to be clean
+X+ 		enough.
+X+ 		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+X  tsurugi
+X  		The tsurugi,  also known  as  the long samurai sword,  is an
+X  		extremely  sharp,  two-handed blade favored  by the samurai.
+X***************
+X*** 501,509 ****
+X--- 781,856 ----
+X  		in her lap, and in this docile mood, the maiden  may  secure
+X  		it with a golden rope.
+X  		[Mythical Beasts by Deirdre Headon (The Leprechaun Library)]
+X+ *UNIX*
+X+ 		:UNIX:: /yoo'niks/ [In the authors' words, "A weak pun on
+X+ 		Multics"] n. (also `Unix') An interactive time-sharing system
+X+ 		invented in 1969 by Ken Thompson after Bell Labs left the Multics
+X+ 		project,originally so he could play games on his scavengedPDP-7.
+X+ 		Dennis Ritchie the inventor of C,is considered a co-author of the
+X+ 		system.  The turning point in UNIX's history came when it was
+X+ 		reimplemented almost entirely in C during 1972--1974, making it the
+X+ 		first source-portable OS.  UNIX subsequently underwent mutations
+X+ 		and expansions at the hands of many different people,resulting in
+X+ 		a uniquely flexible and developer-friendly environment. By 1991,
+X+ 		UNIX had become the most widely used multiuser general-purpose
+X+ 		operating system in the world.Many people consider this the most
+X+ 		important victory yet of hackerdom over industry opposition (but
+X+ 		see {UNIX weenie} and {UNIX conspiracy} for an opposing point
+X+ 		of view).  See {Version 7}, {BSD}, {USG UNIX}.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X+ VAX
+X+ 		:VAX: /vaks/ n. 1. [from Virtual Address eXtension] The most
+X+ 		successful minicomputer design in industry history, possibly
+X+ 		excepting its immediate ancestor, the PDP-11.Between its release
+X+ 		in 1978 and its eclipse by {killer micro}s after about 1986, the
+X+ 		VAX was probably the hacker's favorite machine of them all, esp.
+X+ 		after the 1982 release of 4.2 BSD UNIX (see {BSD}).  Esp.
+X+ 		noted for its large,assembler-programmer-friendly instruction set
+X+ 		--- an asset that became a liability after the RISC revolution.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X+ vogon
+X+ vogon lord
+X+ 		                                     [...] Billions of years ago
+X+ 		when the Vogons had first crawled out of the  sluggish  primeval
+X+ 		seas  of  Vogsphere,  and  had  lain panting  and heaving on the
+X+ 		planet's virgin shores...when the first rays of the bright young
+X+ 		Vogsol  sun had shone across them that morning, it was as if the
+X+ 		forces of evolution ad simply given up on them there  and  then,
+X+ 		had  turned aside in disgust and written them off as an ugly and
+X+ 		unfortunate mistake. They never evolved again; they should never
+X+ 		have survived.
+X+ 		[...] 
+X+ 		Meanwhile, the natural forces on the planet  Vogsphere had  been
+X+ 		working  overtime  to  make  up  for their earlier blunder. They
+X+ 		brought forth scintillating jewelled scuttling crabs, which  the
+X+ 		Vogons  ate,  smashing  their  shells  with  iron mallets;  tall
+X+ 		aspiring trees with breathtaking slenderness and colour which the
+X+ 		Vogons  cut down and burned the crab meat with; elegant gazelle-
+X+ 		like creatures with silken coats and dewy eyes which the  Vogons
+X+ 		would  catch  and  sit on. They were no use as transport because
+X+ 		their backs would snap instantly, but the  Vogons  sat  on  them
+X+ 		anyway.
+X+ 
+X+ 		[ The Hitchhiker's Guide to the Galaxy by Douglas Adams ] 
+X  wakizashi
+X  		The samurai  warrior  traditionally  wears  two  swords; the
+X  		wakizashi is the shorter of the two.  See also katana.
+X+ walking disk drive
+X+ 		:walking drives: n. An occasional failure mode of magnetic-disk
+X+ 		drives back in the days when they were huge, clunky {washing
+X+ 		machine}s.  Those old {dinosaur} parts carried terrific angular
+X+ 		momentum;the combination of a misaligned spindle or worn bearings
+X+ 		and stick-slip interactions with the floor could cause them to
+X+ 		`walk' across a room, lurching alternate corners forward a couple
+X+ 		of millimeters at a time.  There is a legend about a drive that
+X+ 		walked over to the only door to the computer room and jammed it
+X+ 		shut; the staff had to cut a hole in the wall in order to get at
+X+ 		it!  Walking could also be induced by certain patterns of drive
+X+ 		access(a fast seek across the whole width of the disk,followed by
+X+ 		a slow seek in the other direction).  Some bands of old-time
+X+ 		hackers figured out how to induce disk-accessing patterns that
+X+ 		would do this to particular drive models and held disk-drive races.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X  *long worm
+X  worm tooth
+X  crysknife
+X*** /tmp/tmp.1285	Sat May 28 21:14:26 1994
+X--- ./dat/quest.txt	Sun May 22 16:02:13 1994
+X***************
+X*** 965,970 ****
+X--- 965,1196 ----
+X  "Thus will you fulfill your destiny."
+X  %E
+X  #
+X+ #	Geek
+X+ #
+X+ %Cc G 00001
+X+ You now enter what is pretty known to you - it is the location of
+X+ the Holy Development Team, which in a year-long effort developed
+X+ the computer game "NetHack". 
+X+ 
+X+ With a sudden feeling of melancholy you remember the patches you
+X+ yourself wrote and contributed to that game. You truly believe
+X+ that this game is the best of all games known to mankind.
+X+ 
+X+ However -- something has changed. At first you cannot tell what,
+X+ but then you notice. Everywhere there are hostile monsters like
+X+ the ones you used to program in NetHack, but, now in reality.
+X+ 
+X+ What the heck is going on here?!
+X+ %E
+X+ %Cp G 00002
+X+ Once again you approach %H.
+X+ %E
+X+ %Cp G 00003
+X+ As you again approach %H you fear it might be the last time you see this place.
+X+ %E
+X+ %Cp G 00005
+X+ "Written any patches lately?"
+X+ %E
+X+ %Cp G 00006
+X+ "Do _you_ know what erf(3M) does?"
+X+ %E
+X+ %Cc G 00007
+X+ "How do you like this implementation of the Ravenous Bugblatter of Traal"
+X+ You reply, "Be careful not to get sued for copyright infringement!"
+X+ %E
+X+ %Cp G 00008
+X+ :-)
+X+ %E
+X+ %Cp G 00009
+X+ "May the force be with you!"
+X+ %E
+X+ %Cc G 00010
+X+ "It is a pleasure to see you again, %p.
+X+ 
+X+ Horrible things have happened since our last meeting and I really need
+X+ a brave %R to clean up things for once and all.
+X+ 
+X+ Let me see whether you are really able to cope with the task ... "
+X+ %E
+X+ %Cp G 00011
+X+ "Please stand still while I finger(1) your state ..."
+X+ %E
+X+ %Cp G 00012
+X+ $ finger %p
+X+ %E
+X+ %Cc G 00013
+X+ "This was too much. You'll never attain the state of Hackishness.
+X+ Now begone!"
+X+ %E
+X+ %Cc G 00014
+X+ "I see you fighting %n and finally being done in by him, who we call
+X+ The Dark Lord Of Software.
+X+ No, I can't let you go like this, I really can't see a chance of a 
+X+ %r fighting against Him. 
+X+ I can only ask you to train some more until you have achieved the
+X+ %R's state of ability."
+X+ %E
+X+ %Cc G 00015
+X+ "Foo!
+X+ You have strayed from the path of %d!
+X+ Trying to destroy %n in this state of mind would mean the sure death
+X+ of your hackish soul!
+X+ Purify yourself, until you're again piously aligned with Our God,
+X+ and then come again and I will admit you."
+X+ %E
+X+ %Cc G 00016
+X+ "I now see that you are truly worthy to fight %n, my %s.
+X+ 
+X+ Half a year ago, a young programmer, known to everybody as %n, came
+X+ to me to get a hackish education. I was suspicious from the first
+X+ moment on, but I admitted him for testing and let him stay.
+X+ 
+X+ Several days later, upon waking up, I found %o to be missing.
+X+ %n was away as well.
+X+ 
+X+ You are my last hope. If you fail to regain %o, NetHack development
+X+ is doomed to stop forever!"
+X+ %E
+X+ %Cp G 00020
+X+ "May %d protect you!"
+X+ %E
+X+ %Cp G 00021
+X+ "Remember, He is completely evil, yet not invulnerable!"
+X+ %E
+X+ %Cp G 00022
+X+ :-)
+X+ %E
+X+ %Cp G 00023
+X+ "I know you can do it!"
+X+ %E
+X+ %Cp G 00024
+X+ "Our fate is up to you now."
+X+ %E
+X+ %Cp G 00025
+X+ "A level being seemingly harmless may prove to be fatal by monsters
+X+ suddenly transforming one into another"
+X+ %E
+X+ %Cp G 00026
+X+ "It is rumoured that %n filled His lair with deadly traps."
+X+ %E
+X+ %Cp G 00027
+X+ "Do you know what 'memalezu' means?"
+X+ %E
+X+ %Cp G 00028
+X+ "They say that you can escape the dungeon by teleporting to level 0."
+X+ %E
+X+ %Cp G 00029
+X+ "Nobody here has an idea what to use a silver bell for."
+X+ %E
+X+ %Cp G 00030
+X+ You have a sure feeling that you will soon find the entrace to the %i.
+X+ You *know* you can do it!
+X+ %E
+X+ %Cp G 00031
+X+ Once again you enter this place and once again you are sure you will succeed.
+X+ %E
+X+ %Cp G 00040
+X+ You now almost smell %o.
+X+ %E
+X+ %Cp G 00041
+X+ Once again you sense %o.
+X+ %E
+X+ %Cp G 00050
+X+ You will never retrieve %o!
+X+ %E
+X+ %Cp G 00051
+X+ You're doomed! You will end your life as a litte programmer slave earning
+X+ $1000 ... per year! ... before taxes!
+X+ %E
+X+ %Cp G 00052
+X+ You will never succeed! You could give up now as well!
+X+ %E
+X+ %Cp G 00053
+X+ I will now get %o back from you and then I will make you the MS-DOS
+X+ Project Manager. This will be enough torture for you!
+X+ %E
+X+ %Cp G 00060
+X+ FORMAT C: /V /S
+X+ %E
+X+ %Cp G 00061
+X+ You will die now, as sure as if you quaffed a potion of cyanide!
+X+ %E
+X+ %Cp G 00062
+X+ I think I'll be generous. I will let you have a little fun with my
+X+ pet succubus before you die ...
+X+ %E
+X+ %Cc G 00063
+X+ "Perhaps you should consider the following qoute from Terry Pratchett:
+X+ 
+X+ 	"But I don't know how to use a sword!"
+X+ 
+X+ 	"Put the blunt end in your hand and the sharp end in the enemy!"
+X+ 
+X+ 	"There must be more to it than that!"
+X+ 
+X+ 	"Remember which end is which."
+X+ %E
+X+ %Cp G 00064
+X+ "What? You said 'Microsloth'? Then die, bastard!"
+X+ %E
+X+ %Cp G 00065
+X+ "I will soon format your body, mind and soul!"
+X+ %E
+X+ %Cp G 00066
+X+ "I've got an idea: we can greatly speed this up (and save much pain
+X+ for you). You just have to take your sword and push it into your
+X+ stomach. Or, if you prefer, take a COBOL programming course."
+X+ %E
+X+ %Cp G 00067
+X+ "Don't worry, your pains will soon be over!"
+X+ %E
+X+ %Cp G 00068
+X+ "I'm wondering all the time why somebody like you does something like this.
+X+ Does pain excite you or what? Well, I have a *great* sortiment of whips handy!"
+X+ %E
+X+ %Cp G 00069
+X+ "Nobody will ever need more than 640 KB of RAM."
+X+ %E
+X+ %Cc G 00070
+X+ You feel the power of %o flow through your body. Although you know
+X+ you have to return it to %l, you now feel like you could continue
+X+ developing NetHack on your own now.
+X+ %E
+X+ %Cp G 00080
+X+ You see %n lying dead in a puddle of blood. Not a second do you 
+X+ regret what you've done.
+X+ %E
+X+ %Cc G 00081
+X+ "You've finally got %o back! I am very grateful for what you've done.
+X+ 
+X+ Yet, I am an old man and I will not long more be able to supervise
+X+ NetHack. Therefore I pass the duty on to your young and responsible
+X+ hands. Take the sources and expand them at your leisure, but be
+X+ careful to maintain game balance.
+X+ 
+X+ My ultimate secret is: Nothing is true. Everything is allowed."
+X+ %E
+X+ %Cp G 00090
+X+ Latest news regarding the Amulet Of Yendor?
+X+ %E
+X+ %Cc G 00091
+X+ "Now I see you with the Amulet Of Yendor shining brightly in your
+X+ pack. Honestly, I didn't believe you'd (or anyone else, for that
+X+ matter) would manage to tear it from the hands of Moloch.
+X+ 
+X+ Your way is up now, back to the first level of the Dungeon, and
+X+ beyond there. You now must leave the dungeon as you've entered
+X+ it.
+X+ 
+X+ Then you will get to four planes, dedicated to the four arcane elements
+X+ of earth, air, fire and water. If thou successfully pass all these,
+X+ you will eventually reach the stars (or astra, as the Greek called
+X+ them). This is where the sacred High Temples of the aligned gods
+X+ are located. 
+X+ 
+X+ Return the amulet to %d at His altar, and you will be richly rewarded."
+X+ %E
+X+ #
+X  #	Healer
+X  #
+X  %Cc H 00001
+X***************
+X*** 2800,2807 ****
+X  It is written in the Book of %d:
+X  
+X      After the Creation, the cruel god Moloch rebelled
+X!     against the authority of Marduk the Creator.
+X!     Moloch stole from Marduk the most powerful of all
+X      the artifacts of the gods, the Amulet of Yendor,
+X      and he hid it in the dark cavities of Gehennom, the
+X      Under World, where he now lurks, and bides his time.
+X--- 3026,3034 ----
+X  It is written in the Book of %d:
+X  
+X      After the Creation, the cruel god Moloch rebelled
+X!     against the holy and well-deserved authority 
+X!     of the Creator %m.
+X!     Moloch stole from %M the most powerful of all
+X      the artifacts of the gods, the Amulet of Yendor,
+X      and he hid it in the dark cavities of Gehennom, the
+X      Under World, where he now lurks, and bides his time.
+X***************
+X*** 2824,2829 ****
+X--- 3051,3080 ----
+X  %Cp - 00003
+X  You again sense %l pleading for help.
+X  %E
+X+ %Cc - 09999
+X+ You read the following text in the Nethack sources ...
+X+ 
+X+ boolean
+X+ revive_nasty(x, y, msg)
+X+ int x,y;
+X+ const char *msg;
+X+ {
+X+     register struct obj *otmp, *otmp2;
+X+     struct monst *mtmp;
+X+     coord cc;
+X+     boolean revived = FALSE;
+X+ 
+X+     /* prevent freeobj() of revivable corpses */
+X+     for(otmp = level.objects[x][y]; otmp; otmp = otmp2) {
+X+ 	otmp2 = otmp->nexthere;
+X+ 	if (otmp->otyp == CORPSE &&
+X+ 	    (is_rider(&mons[otmp->corpsenm]) ||
+X+ 	     otmp->corpsenm == PM_WIZARD_OF_YENDOR)) {
+X+ 	    /* move any living monster already at that location */
+X+ 	    if((mtmp = m_at(x,y)) && enexto(&cc, x, y, mtmp->data))
+X+ 
+X+ ... and so on
+X+ %E
+X  #
+X  #	Angelic maledictions.
+X  #
+X***************
+X*** 2945,2950 ****
+X--- 3196,3203 ----
+X   %N:	return("neutral");
+X   %L:	return("lawful");
+X   %x:	return((Blind) ? "sense" : "see");
+X+  %m:	return((pl_character[0] == 'E') ? "Eru Iluvatar" : ((pl_character[0] == 'G') ? "team of Babbage, Turing and Zuse" : "Marduk"));
+X+  %M:	return((pl_character[0] == 'G') ? "Them" : "Him");
+X   %%:	return(percent_sign);
+X   a suffix:	return an(root);
+X   A suffix:	return An(root);
+X*** /tmp/tmp.1285	Sat May 28 21:14:27 1994
+X--- ./dat/Makefile	Sun May 22 19:05:30 1994
+X***************
+X*** 33,43 ****
+X  
+X  spec_levs: ../util/lev_comp \
+X  	bigroom.des castle.des endgame.des gehennom.des knox.des medusa.des \
+X! 	mines.des oracle.des tower.des yendor.des
+X  	../util/lev_comp bigroom.des
+X  	../util/lev_comp castle.des
+X  	../util/lev_comp endgame.des
+X  	../util/lev_comp gehennom.des
+X  	../util/lev_comp knox.des
+X  	../util/lev_comp medusa.des
+X  	../util/lev_comp mines.des
+X--- 33,48 ----
+X  
+X  spec_levs: ../util/lev_comp \
+X  	bigroom.des castle.des endgame.des gehennom.des knox.des medusa.des \
+X! 	mines.des oracle.des tower.des yendor.des forge.des key.des dragon.des \
+X! 	hitch.des
+X  	../util/lev_comp bigroom.des
+X  	../util/lev_comp castle.des
+X+ 	../util/lev_comp dragon.des
+X  	../util/lev_comp endgame.des
+X+ 	../util/lev_comp forge.des
+X  	../util/lev_comp gehennom.des
+X+ 	../util/lev_comp hitch.des
+X+ 	../util/lev_comp key.des
+X  	../util/lev_comp knox.des
+X  	../util/lev_comp medusa.des
+X  	../util/lev_comp mines.des
+X***************
+X*** 47,58 ****
+X  	touch spec_levs
+X  
+X  quest_levs: ../util/lev_comp \
+X! 	Arch.des Barb.des Caveman.des Elf.des Healer.des Knight.des \
+X  	Priest.des Rogue.des Samurai.des Tourist.des Valkyrie.des Wizard.des
+X  	../util/lev_comp Arch.des
+X  	../util/lev_comp Barb.des
+X  	../util/lev_comp Caveman.des
+X  	../util/lev_comp Elf.des
+X  	../util/lev_comp Healer.des
+X  	../util/lev_comp Knight.des
+X  	../util/lev_comp Priest.des
+X--- 52,64 ----
+X  	touch spec_levs
+X  
+X  quest_levs: ../util/lev_comp \
+X! 	Arch.des Barb.des Caveman.des Elf.des Geek.des Healer.des Knight.des \
+X  	Priest.des Rogue.des Samurai.des Tourist.des Valkyrie.des Wizard.des
+X  	../util/lev_comp Arch.des
+X  	../util/lev_comp Barb.des
+X  	../util/lev_comp Caveman.des
+X  	../util/lev_comp Elf.des
+X+ 	../util/lev_comp Geek.des
+X  	../util/lev_comp Healer.des
+X  	../util/lev_comp Knight.des
+X  	../util/lev_comp Priest.des
+X*** /tmp/tmp.1285	Sat May 28 21:15:47 1994
+X--- ./include/unixconf.h	Sat Jan 22 00:00:00 1994
+X***************
+X*** 19,39 ****
+X   */
+X  
+X  /* define exactly one of the following four choices */
+X! #define BSD		/* define for 4.n BSD  */
+X  			/* also for relatives like SunOS, Linux and DG/UX */
+X  /* #define ULTRIX	/* define for Ultrix v3.0 or higher (but not lower) */
+X  			/* Use BSD for < v3.0 */
+X  			/* "ULTRIX" not to be confused with "ultrix" */
+X! /* #define SYSV		/* define for System V */
+X  /* #define HPUX		/* Hewlett-Packard's Unix, version 6.5 or higher */
+X  			/* use SYSV for < v6.5 */
+X  
+X  
+X  /* define any of the following that are appropriate */
+X  /* #define SVR4		/* use in addition to SYSV for System V Release 4 */
+X! #define NETWORK	/* if running on a networked system */
+X  			/* e.g. Suns sharing a playground through NFS */
+X! #define SUNOS4	/* SunOS 4.x */
+X  /* #define LINUX  /* Another Unix clone running on Intel processors */
+X  /* #define GENIX	/* Yet Another Unix Clone */
+X  /* #define HISX		/* Bull Unix for XPS Machines */
+X--- 19,39 ----
+X   */
+X  
+X  /* define exactly one of the following four choices */
+X! /* #define BSD		/* define for 4.n BSD  */
+X  			/* also for relatives like SunOS, Linux and DG/UX */
+X  /* #define ULTRIX	/* define for Ultrix v3.0 or higher (but not lower) */
+X  			/* Use BSD for < v3.0 */
+X  			/* "ULTRIX" not to be confused with "ultrix" */
+X! #define SYSV		/* define for System V */
+X  /* #define HPUX		/* Hewlett-Packard's Unix, version 6.5 or higher */
+X  			/* use SYSV for < v6.5 */
+X  
+X  
+X  /* define any of the following that are appropriate */
+X  /* #define SVR4		/* use in addition to SYSV for System V Release 4 */
+X! /* #define NETWORK	/* if running on a networked system */
+X  			/* e.g. Suns sharing a playground through NFS */
+X! /* #define SUNOS4	/* SunOS 4.x */
+X  /* #define LINUX  /* Another Unix clone running on Intel processors */
+X  /* #define GENIX	/* Yet Another Unix Clone */
+X  /* #define HISX		/* Bull Unix for XPS Machines */
+X***************
+X*** 41,47 ****
+X  /* #define UNIXPC	/* use in addition to SYSV for AT&T 7300/3B1 */
+X  /* #define AIX_31	/* In AIX 3.1 (IBM RS/6000) use BSD ioctl's to gain
+X  			   job control (note that AIX is SYSV otherwise) */
+X! /* #define TEXTCOLOR	/* Use System V r3.2 terminfo color support */
+X  			/* or ANSI color support on termcap systems */
+X  			/* or X11 color	*/
+X  /* #define POSIX_JOB_CONTROL	/* use System V POSIX job control */
+X--- 41,47 ----
+X  /* #define UNIXPC	/* use in addition to SYSV for AT&T 7300/3B1 */
+X  /* #define AIX_31	/* In AIX 3.1 (IBM RS/6000) use BSD ioctl's to gain
+X  			   job control (note that AIX is SYSV otherwise) */
+X! #define TEXTCOLOR	/* Use System V r3.2 terminfo color support */
+X  			/* or ANSI color support on termcap systems */
+X  			/* or X11 color	*/
+X  /* #define POSIX_JOB_CONTROL	/* use System V POSIX job control */
+X***************
+X*** 86,93 ****
+X   * If defined, it can be overridden by the environment variable PAGER.
+X   * Hack will use its internal pager if DEF_PAGER is not defined.
+X   * (This might be preferable for security reasons.)
+X!  * #define DEF_PAGER	".../mydir/mypager"
+X!  */
+X  
+X  
+X  
+X--- 86,93 ----
+X   * If defined, it can be overridden by the environment variable PAGER.
+X   * Hack will use its internal pager if DEF_PAGER is not defined.
+X   * (This might be preferable for security reasons.)
+X!  */ 
+X! #define DEF_PAGER	"/usr/bin/pg"
+X  
+X  
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:15:53 1994
+X--- ./include/artifact.h	Thu Apr 21 16:58:32 1994
+X***************
+X*** 31,37 ****
+X  #define SPFX_DFLAG1 0x0400000	/* attack bonus on monsters w/ mflags1 flag */
+X  #define SPFX_DFLAG2 0x0800000	/* attack bonus on monsters w/ mflags2 flag */
+X  #define SPFX_DALIGN 0x1000000	/* attack bonus on non-aligned monsters  */
+X! 
+X  #define SPFX_DBONUS 0x1F00000	/* attack bonus mask */
+X  
+X  struct artifact {
+X--- 31,38 ----
+X  #define SPFX_DFLAG1 0x0400000	/* attack bonus on monsters w/ mflags1 flag */
+X  #define SPFX_DFLAG2 0x0800000	/* attack bonus on monsters w/ mflags2 flag */
+X  #define SPFX_DALIGN 0x1000000	/* attack bonus on non-aligned monsters  */
+X! #define SPFX_PROTEC 0x2000000	/* protects you if worn (+2 to AC) */
+X! #define SPFX_TOUCH  0x4000000	/* artifact doesn't care if touched */
+X  #define SPFX_DBONUS 0x1F00000	/* attack bonus mask */
+X  
+X  struct artifact {
+X***************
+X*** 54,58 ****
+X--- 55,61 ----
+X  #define CHARGE_OBJ	(LAST_PROP+5)
+X  #define LEV_TELE	(LAST_PROP+6)
+X  #define CREATE_PORTAL	(LAST_PROP+7)
+X+ #define IDENTIFY	(LAST_PROP+8)
+X+ #define DRAGON_BREATH	(LAST_PROP+9)
+X  
+X  #endif /* ARTIFACT_H */
+X*** /tmp/tmp.1285	Sat May 28 21:15:55 1994
+X--- ./include/artilist.h	Wed Apr 27 18:56:05 1994
+X***************
+X*** 135,140 ****
+X--- 135,175 ----
+X  	(SPFX_RESTR|SPFX_DFLAG2), 0, M2_UNDEAD,
+X  	PHYS(5,0),	NO_DFNS,	NO_CARY,	0, A_LAWFUL,	 0  ),
+X  
+X+ A("Mumakbane",			LONG_SWORD,
+X+ 	(SPFX_RESTR|SPFX_DMONS), 0, PM_MUMAK,
+X+ 	FIRE(5,60),	NO_DFNS,	NO_CARY,
+X+ 	0, 		A_NEUTRAL,	0 ),
+X+ 
+X+ A("Wormbiter",			CRYSKNIFE,
+X+ 	(SPFX_RESTR|SPFX_DCLAS), 0, S_WORM,
+X+ 	PHYS(5,0),	NO_DFNS,	NO_CARY,
+X+ 	0,		A_NEUTRAL,	0 ),
+X+ 
+X+ A("Shocker",			ELECTRIC_SWORD,
+X+ 	SPFX_RESTR, 0, 0,
+X+ 	ELEC(3,0),	NO_DFNS,	NO_CARY,
+X+ 	0,		A_NEUTRAL,	0 ),
+X+ 
+X+ A("Scales of the Dragon Lord",	GRAY_DRAGON_SCALE_MAIL,
+X+ 	(SPFX_NOGEN|SPFX_RESTR|SPFX_PROTEC), 0, 0,
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	DRAGON_BREATH,	A_CHAOTIC,	0 ),
+X+ 
+X+ A("The Burned Moth Relay",	RELAY,
+X+ 	(SPFX_RESTR), SPFX_PROTEC, 0, 	
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	0,		A_NEUTRAL,	0 ),
+X+ 
+X+ A("Wand Of Might",		WAN_WISHING,
+X+ 	(SPFX_RESTR|SPFX_TOUCH),	0,		0,
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	0,		A_NONE,		0 ),
+X+ 
+X+ A("The Key Of Access",		SKELETON_KEY,
+X+ 	(SPFX_RESTR|SPFX_NOGEN),	0,		0,
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	CREATE_PORTAL,	A_NONE,		0 ),
+X+ 
+X  #ifdef MULDGN
+X  /*
+X   *	The artifacts for the quest dungeon, all self-willed.
+X***************
+X*** 160,165 ****
+X--- 195,206 ----
+X  		(SPFX_ESP|SPFX_REGEN|SPFX_HSPDAM), 0,
+X  	NO_ATTK,	NO_DFNS,	NO_CARY,
+X  	TAMING,		A_CHAOTIC,	'E' ),
+X+ 
+X+ A("The Nethack Sources",	PACK_OF_FLOPPIES,
+X+ 	(SPFX_NOGEN | SPFX_RESTR | SPFX_INTEL),
+X+ 		 (SPFX_SEARCH | SPFX_ESP | SPFX_REGEN), 0,
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	IDENTIFY,	A_NEUTRAL,	'G' ),
+X  
+X  A("The Staff of Aesculapius",	QUARTERSTAFF,
+X  	(SPFX_NOGEN|SPFX_RESTR|SPFX_ATTK|SPFX_INTEL|SPFX_DRLI|SPFX_REGEN), 0,0,
+X*** /tmp/tmp.1285	Sat May 28 21:16:10 1994
+X--- ./include/extern.h	Thu Jan  1 00:00:00 1970
+X***************
+X*** 68,73 ****
+X--- 68,74 ----
+X  E const char *FDECL(artiname, (int));
+X  E struct obj *FDECL(mk_artifact, (struct obj *,ALIGNTYP_P));
+X  E const char *FDECL(artifact_name, (const char *,short *));
+X+ E int FDECL(artifact_name2no, (const char *name));
+X  E boolean FDECL(exist_artifact, (int,const char *));
+X  E void FDECL(artifact_exists, (struct obj *,const char *,BOOLEAN_P));
+X  E int NDECL(nartifact_exist);
+X***************
+X*** 82,87 ****
+X--- 83,91 ----
+X  E boolean FDECL(artifact_hit, (struct monst *,struct monst *,
+X  				struct obj *,int *,int));
+X  E int NDECL(doinvoke);
+X+ E boolean FDECL(nogen_nrartifact,(int artino));
+X+ E boolean FDECL(exists_nrartifact,(int artino));
+X+ E int FDECL(nrartifact_obtype,(int artino));
+X  
+X  /* ### attrib.c ### */
+X  
+X***************
+X*** 879,884 ****
+X--- 883,889 ----
+X  E int FDECL(weight, (struct obj *));
+X  E void FDECL(mkgold, (long,int,int));
+X  E struct obj *FDECL(mkcorpstat, (int,struct permonst *,int,int,BOOLEAN_P));
+X+ E struct obj *FDECL(mkcorpstat_, (int,int,BOOLEAN_P));
+X  E struct obj *FDECL(mk_tt_object, (int,int,int));
+X  E struct obj *FDECL(mk_named_object, (int,struct permonst *,int,int,char *,int));
+X  E void FDECL(bless, (struct obj *));
+X***************
+X*** 1202,1207 ****
+X--- 1207,1213 ----
+X  /* ### pickup.c ### */
+X  
+X  E int FDECL(collect_obj_classes, (char *,struct obj *,BOOLEAN_P,BOOLEAN_P));
+X+ E int FDECL(put_into_container,(struct obj *,struct obj *));
+X  #ifdef OVERLAY
+X  E int FDECL(ck_bag, (struct obj *));
+X  E int FDECL(in_container, (struct obj *));
+X***************
+X*** 1422,1427 ****
+X--- 1428,1444 ----
+X  E void FDECL(savefruitchn, (int,int));
+X  #endif
+X  
+X+ /* ### school.c ### */
+X+ 
+X+ E boolean FDECL(is_principal, (struct monst *));
+X+ E boolean FDECL(is_teacher, (struct monst *));
+X+ E boolean FDECL(is_educator, (struct monst *));
+X+ #ifdef SOUNDS
+X+ E void FDECL(pupil_sound, (struct monst *));
+X+ E void FDECL(teacher_sound, (struct monst *));
+X+ E void FDECL(principal_sound, (struct monst *));
+X+ #endif
+X+ 
+X  /* ### shk.c ### */
+X  
+X  E char *FDECL(shkname, (struct monst *));
+X***************
+X*** 1488,1493 ****
+X--- 1505,1513 ----
+X  E void NDECL(rndcurse);
+X  E void NDECL(attrcurse);
+X  
+X+ /* ### smith.c ### */
+X+ E void FDECL(smith_selling, (struct monst *));
+X+ 
+X  /* ### sounds.c ### */
+X  
+X  #ifdef SOUNDS
+X***************
+X*** 1497,1502 ****
+X--- 1517,1523 ----
+X  E void FDECL(whimper, (struct monst *));
+X  E void FDECL(beg, (struct monst *));
+X  #endif
+X+ E struct monst *FDECL(qname, (struct monst *));		/* see sounds.c */
+X  E int NDECL(dotalk);
+X  
+X  /* ### sp_lev.c ### */
+X***************
+X*** 1511,1516 ****
+X--- 1532,1538 ----
+X  
+X  /* ### spell.c ### */
+X  
+X+ E boolean FDECL(spell_known, (int));
+X  #ifdef OVERLAY
+X  E int NDECL(learn);
+X  #endif
+X*** /tmp/tmp.1285	Sat May 28 21:16:17 1994
+X--- ./include/mkroom.h	Sat Jan 22 00:00:00 1994
+X***************
+X*** 58,76 ****
+X  #define ZOO		 8	/* floor covered with treasure and monsters */
+X  #define DELPHI		 9	/* contains Oracle and peripherals */
+X  #define TEMPLE		10	/* contains a shrine */
+X  #define SHOPBASE	11	/* everything above this is a shop */
+X! #define ARMORSHOP	12	/* specific shop defines for level compiler */
+X! #define SCROLLSHOP	13
+X! #define POTIONSHOP	14
+X! #define WEAPONSHOP	15
+X! #define FOODSHOP	16
+X! #define RINGSHOP	17
+X! #define WANDSHOP	18
+X! #define TOOLSHOP	19
+X! #define BOOKSHOP	20
+X! #define UNIQUESHOP	21	/* shops here & above not randomly gen'd. */
+X! #define CANDLESHOP	21
+X! #define MAXRTYPE	21	/* maximum valid room type */
+X  
+X  /* Special type for search_special() */
+X  #define ANY_TYPE	(-1)
+X--- 58,81 ----
+X  #define ZOO		 8	/* floor covered with treasure and monsters */
+X  #define DELPHI		 9	/* contains Oracle and peripherals */
+X  #define TEMPLE		10	/* contains a shrine */
+X+ #ifdef DOUGLAS_ADAMS
+X+ #define DOUGROOM	11	/* Adams, creeping 42's etc. */
+X+ #define SHOPBASE	12
+X+ #else
+X  #define SHOPBASE	11	/* everything above this is a shop */
+X! #endif
+X! #define ARMORSHOP	(SHOPBASE+1)/*specific shop defines for level compiler*/
+X! #define SCROLLSHOP	(SHOPBASE+2)
+X! #define POTIONSHOP	(SHOPBASE+3)
+X! #define WEAPONSHOP	(SHOPBASE+4)
+X! #define FOODSHOP	(SHOPBASE+5)
+X! #define RINGSHOP	(SHOPBASE+6)
+X! #define WANDSHOP	(SHOPBASE+7)
+X! #define TOOLSHOP	(SHOPBASE+8)
+X! #define BOOKSHOP	(SHOPBASE+9)
+X! #define UNIQUESHOP	(SHOPBASE+10)/*shops here & above not randomly gen'd. */
+X! #define CANDLESHOP	(SHOPBASE+10)
+X! #define MAXRTYPE	(SHOPBASE+10)	/* maximum valid room type */
+X  
+X  /* Special type for search_special() */
+X  #define ANY_TYPE	(-1)
+X*** /tmp/tmp.1285	Sat May 28 21:16:18 1994
+X--- ./include/monattk.h	Sat Mar 26 16:16:18 1994
+X***************
+X*** 22,27 ****
+X--- 22,28 ----
+X  #define AT_EXPL		13		/* explodes - proximity */
+X  #define AT_GAZE		14		/* gaze - ranged */
+X  #define AT_TENT		15		/* tentacles */
+X+ #define AT_TALK		42		/* talks to you, i.e. Marvin */
+X  
+X  #define AT_WEAP		254		/* uses weapon */
+X  #define AT_MAGC		255		/* uses magic spell(s) */
+X***************
+X*** 71,76 ****
+X--- 72,81 ----
+X  #define AD_DETH		36		/* for Death only */
+X  #define AD_PEST		37		/* for Pestilence only */
+X  #define AD_FAMN		38		/* for Famine only */
+X+ 
+X+ #ifdef DOUGLAS_ADAMS
+X+ #define AD_DEPR		42		/* depression --- random bad effect */
+X+ #endif
+X  
+X  #define AD_CLRC		240		/* random clerical spell */
+X  #define AD_SPEL		241		/* random magic spell */
+X*** /tmp/tmp.1285	Sat May 28 21:16:20 1994
+X--- ./include/monflag.h	Sun Apr 10 14:37:28 1994
+X***************
+X*** 47,53 ****
+X  #define MS_SELL		34	/* demand payment, complain about shoplifters */
+X  #define MS_ORACLE	35	/* do a consultation */
+X  #define MS_PRIEST	36	/* ask for contribution; do cleansing */
+X! 
+X  
+X  #define MR_FIRE         0x01    /* resists fire */
+X  #define MR_COLD         0x02    /* resists cold */
+X--- 47,61 ----
+X  #define MS_SELL		34	/* demand payment, complain about shoplifters */
+X  #define MS_ORACLE	35	/* do a consultation */
+X  #define MS_PRIEST	36	/* ask for contribution; do cleansing */
+X! #ifdef DOUGLAS_ADAMS
+X! /* MS_DOUGLAS_ADAMS used to be 42, however I fear the DevTeam eventually 
+X! ** reaching that number.  - sk */
+X! #define MS_DOUGLAS_ADAMS 95	/* "42"; "Nice day"; etc. */
+X! #endif
+X! #define MS_PUPIL 	96
+X! #define MS_TEACHER	97
+X! #define MS_PRINCIPAL	98
+X! #define MS_SMITH	99
+X  
+X  #define MR_FIRE         0x01    /* resists fire */
+X  #define MR_COLD         0x02    /* resists cold */
+X*** /tmp/tmp.1285	Sat May 28 21:16:21 1994
+X--- ./include/monsym.h	Wed Apr 13 19:41:05 1994
+X***************
+X*** 145,151 ****
+X  #define DEF_WORM_TAIL	'~'
+X  #define DEF_MIMIC_DEF	']'
+X  
+X! 
+X  #define G_UNIQ		0x1000		/* generated only once */
+X  #define G_NOHELL	0x0800		/* not generated in "hell" */
+X  #define G_HELL		0x0400		/* generated only in "hell" */
+X--- 145,151 ----
+X  #define DEF_WORM_TAIL	'~'
+X  #define DEF_MIMIC_DEF	']'
+X  
+X! #define G_ROGUE		0x2000		/* only for the rogue level */
+X  #define G_UNIQ		0x1000		/* generated only once */
+X  #define G_NOHELL	0x0800		/* not generated in "hell" */
+X  #define G_HELL		0x0400		/* generated only in "hell" */
+X*** /tmp/tmp.1285	Sat May 28 21:16:24 1994
+X--- ./include/obj.h	Thu Apr 21 18:09:44 1994
+X***************
+X*** 5,11 ****
+X  #ifndef OBJ_H
+X  #define OBJ_H
+X  
+X! /* #define obj obj_nh	/* uncomment for SCO UNIX, which has a conflicting
+X  			 * typedef for "obj" in <sys/types.h> */
+X  
+X  struct obj {
+X--- 5,11 ----
+X  #ifndef OBJ_H
+X  #define OBJ_H
+X  
+X! #define obj obj_nh	/* uncomment for SCO UNIX, which has a conflicting
+X  			 * typedef for "obj" in <sys/types.h> */
+X  
+X  struct obj {
+X***************
+X*** 57,63 ****
+X  	Bitfield(oinvis,1);	/* not yet implemented */
+X  	Bitfield(greased,1);	/* covered with grease */
+X  	Bitfield(onamelth,6);
+X! 
+X  	int	corpsenm;	/* type of corpse is mons[corpsenm] */
+X  #define leashmon  corpsenm	/* gets m_id of attached pet */
+X  #define spestudied corpsenm	/* how many times a spellbook has been studied */
+X--- 57,63 ----
+X  	Bitfield(oinvis,1);	/* not yet implemented */
+X  	Bitfield(greased,1);	/* covered with grease */
+X  	Bitfield(onamelth,6);
+X! 	Bitfield(selfmade,1);	/* made with chemistry set or magic marker */
+X  	int	corpsenm;	/* type of corpse is mons[corpsenm] */
+X  #define leashmon  corpsenm	/* gets m_id of attached pet */
+X  #define spestudied corpsenm	/* how many times a spellbook has been studied */
+X*** /tmp/tmp.1285	Sat May 28 21:16:29 1994
+X--- ./include/prop.h	Fri Mar 18 21:24:55 1994
+X***************
+X*** 54,59 ****
+X  #define MAGICAL_BREATHING	47
+X  #define HALF_SPDAM		48
+X  #define HALF_PHDAM		49
+X! #define LAST_PROP		(HALF_PHDAM)		/* the last property */
+X  
+X  #endif /* PROP_H */
+X--- 54,60 ----
+X  #define MAGICAL_BREATHING	47
+X  #define HALF_SPDAM		48
+X  #define HALF_PHDAM		49
+X! #define SECOND_CHANCE		50
+X! #define LAST_PROP		(SECOND_CHANCE)		/* the last property */
+X  
+X  #endif /* PROP_H */
+X*** /tmp/tmp.1285	Sat May 28 21:16:30 1994
+X--- ./include/qtext.h	Wed Mar 23 11:50:14 1994
+X***************
+X*** 6,12 ****
+X  #ifndef QTEXT_H
+X  #define QTEXT_H
+X  
+X! #define N_HDR	13		/* number of classes + 1 */
+X  #define COMMON_ID	'-'	/* common message id value */
+X  
+X  struct qtmsg {
+X--- 6,12 ----
+X  #ifndef QTEXT_H
+X  #define QTEXT_H
+X  
+X! #define N_HDR	14		/* number of classes + 1 */
+X  #define COMMON_ID	'-'	/* common message id value */
+X  
+X  struct qtmsg {
+X***************
+X*** 18,24 ****
+X  
+X  #ifdef MAKEDEFS_C
+X  
+X! #define N_MSG	100		/* arbitrary */
+X  
+X  struct msghdr {
+X  	int	n_msg;
+X--- 18,25 ----
+X  
+X  #ifdef MAKEDEFS_C
+X  
+X! /*#define N_MSG	100		/* arbitrary */
+X! #define N_MSG 300
+X  
+X  struct msghdr {
+X  	int	n_msg;
+X*** /tmp/tmp.1285	Sat May 28 21:16:35 1994
+X--- ./include/system.h	Sat Jan 22 00:00:00 1994
+X***************
+X*** 135,141 ****
+X  # ifdef POSIX_TYPES
+X  E int FDECL(write, (int, const void *,unsigned));
+X  # else
+X! E int FDECL(write, (int,genericptr_t,unsigned));
+X  # endif
+X  #endif /* ULTRIX */
+X  #ifndef	__SASC_60
+X--- 135,141 ----
+X  # ifdef POSIX_TYPES
+X  E int FDECL(write, (int, const void *,unsigned));
+X  # else
+X! /* E int FDECL(write, (int,genericptr_t,unsigned)); */
+X  # endif
+X  #endif /* ULTRIX */
+X  #ifndef	__SASC_60
+X***************
+X*** 309,315 ****
+X  E uid_t NDECL(getuid);
+X  E gid_t NDECL(getgid);
+X  # else
+X! E int NDECL(getpid);
+X  # endif
+X  # ifdef VMS
+X  E int NDECL(getppid);
+X--- 309,315 ----
+X  E uid_t NDECL(getuid);
+X  E gid_t NDECL(getgid);
+X  # else
+X! /* E int NDECL(getpid); */
+X  # endif
+X  # ifdef VMS
+X  E int NDECL(getppid);
+X*** /tmp/tmp.1285	Sat May 28 21:16:47 1994
+X--- ./include/you.h	Sun May 22 19:53:46 1994
+X***************
+X*** 178,183 ****
+X--- 178,185 ----
+X  	Bitfield(uinvulnerable,1);	/* you're invulnerable (praying) */
+X  	Bitfield(usleep,1);		/* you're sleeping */
+X  
+X+ 	int uinvul_time;		/* time you are invulnerable */
+X+ 
+X  	unsigned udg_cnt;		/* how long you have been demigod */
+X  	struct u_event	uevent;		/* certain events have happened */
+X  	struct u_have	uhave;		/* you're carrying special objects */
+X***************
+X*** 197,203 ****
+X  #define LUCKMIN		(-10)
+X  	schar	udaminc;
+X  	schar	uac;
+X! 	int	uhp,uhpmax;
+X  	int	uen, uenmax;		/* magical energy - M. Stephenson */
+X  	int ugangr;			/* if the gods are angry at you */
+X  	int ublessed, ublesscnt;	/* blessing/duration from #pray */
+X--- 199,205 ----
+X  #define LUCKMIN		(-10)
+X  	schar	udaminc;
+X  	schar	uac;
+X! 	int	uhp,uhpmax,uhplast;
+X  	int	uen, uenmax;		/* magical energy - M. Stephenson */
+X  	int ugangr;			/* if the gods are angry at you */
+X  	int ublessed, ublesscnt;	/* blessing/duration from #pray */
+X*** /tmp/tmp.1285	Sat May 28 21:16:48 1994
+X--- ./include/youprop.h	Sun May 22 19:53:46 1994
+X***************
+X*** 128,132 ****
+X--- 128,133 ----
+X  				      breathless(uasmon))
+X  #define Half_spell_damage	u.uprops[HALF_SPDAM].p_flgs
+X  #define Half_physical_damage	u.uprops[HALF_PHDAM].p_flgs
+X+ #define Second_chance		u.uprops[SECOND_CHANCE].p_flgs
+X  
+X  #endif /* YOUPROP_H */
+X*** /tmp/tmp.1285	Sat May 28 21:16:56 1994
+X--- ./util/lev_main.c	Sun Apr 10 18:20:39 1994
+X***************
+X*** 630,635 ****
+X--- 630,637 ----
+X  {
+X  	register int i;
+X  
+X+ /*	printf("%i monsters, %i objects\n",nmons,nobj); */
+X+ 
+X  	/* Ok, We got the whole part, now we store it. */
+X  
+X  	/* The Regions */
+X*** /tmp/tmp.1285	Sat May 28 21:17:01 1994
+X--- ./util/Makefile	Sun Apr 10 17:30:40 1994
+X***************
+X*** 15,21 ****
+X  
+X  # if you are using gcc as your compiler,
+X  #	uncomment the CC definition below if it's not in your environment
+X! # CC = gcc
+X  #
+X  #	For Bull DPX/2 systems at B.O.S. 2.0 or higher use the following:
+X  #
+X--- 15,21 ----
+X  
+X  # if you are using gcc as your compiler,
+X  #	uncomment the CC definition below if it's not in your environment
+X! CC = cc
+X  #
+X  #	For Bull DPX/2 systems at B.O.S. 2.0 or higher use the following:
+X  #
+X***************
+X*** 59,74 ****
+X  # flags for debugging:
+X  # CFLAGS = -g -I../include
+X  
+X! CFLAGS = -g -I../include
+X! LFLAGS =
+X!  
+X  
+X  # yacc/lex programs to use to generate *_comp.h, *_lex.c, and *_yacc.c.
+X  # if, instead of yacc/lex you have bison/flex, comment/uncomment the following.
+X! YACC     = yacc
+X! LEX      = lex
+X! # YACC     = bison -y
+X! # LEX      = flex
+X   
+X  # these are the names of the output files from YACC/LEX. Under MS-DOS
+X  # and similar systems, they may differ
+X--- 59,74 ----
+X  # flags for debugging:
+X  # CFLAGS = -g -I../include
+X  
+X! CFLAGS = -g -I../include -DDOUGLAS_ADAMS
+X! LFLAGS = 
+X! LIBS = -lPW 
+X  
+X  # yacc/lex programs to use to generate *_comp.h, *_lex.c, and *_yacc.c.
+X  # if, instead of yacc/lex you have bison/flex, comment/uncomment the following.
+X! # YACC     = yacc
+X! # LEX      = lex
+X! YACC     = bison -y
+X! LEX      = flex
+X   
+X  # these are the names of the output files from YACC/LEX. Under MS-DOS
+X  # and similar systems, they may differ
+X***************
+X*** 113,123 ****
+X  # YACCDIST = -l
+X  YACCDIST =
+X  
+X  
+X  #	dependencies for makedefs
+X  #
+X  makedefs:	$(MAKEOBJS)
+X! 	$(CC) $(LFLAGS) -o makedefs $(MAKEOBJS)
+X  
+X  makedefs.o:  ../include/config.h ../include/permonst.h ../include/objclass.h \
+X  		../include/monsym.h ../include/artilist.h \
+X--- 113,124 ----
+X  # YACCDIST = -l
+X  YACCDIST =
+X  
+X+ all:	makedefs lev_comp dgn_comp recover
+X  
+X  #	dependencies for makedefs
+X  #
+X  makedefs:	$(MAKEOBJS)
+X! 	$(CC) $(LFLAGS) -o makedefs $(MAKEOBJS) $(LIBS)
+X  
+X  makedefs.o:  ../include/config.h ../include/permonst.h ../include/objclass.h \
+X  		../include/monsym.h ../include/artilist.h \
+X***************
+X*** 147,153 ****
+X  #	dependencies for lev_comp
+X  #
+X  lev_comp:  $(SPLEVOBJS)
+X! 	$(CC) $(LFLAGS) -o lev_comp $(SPLEVOBJS)
+X  
+X  lev_yacc.o:  ../include/hack.h ../include/sp_lev.h
+X  lev_main.o:  ../include/hack.h ../include/sp_lev.h ../include/termcap.h
+X--- 148,154 ----
+X  #	dependencies for lev_comp
+X  #
+X  lev_comp:  $(SPLEVOBJS)
+X! 	$(CC) $(LFLAGS) -o lev_comp $(SPLEVOBJS) $(LIBS)
+X  
+X  lev_yacc.o:  ../include/hack.h ../include/sp_lev.h
+X  lev_main.o:  ../include/hack.h ../include/sp_lev.h ../include/termcap.h
+X***************
+X*** 180,186 ****
+X  #	dependencies for dgn_comp
+X  #
+X  dgn_comp:  $(DGNCOMPOBJS)
+X! 	$(CC) $(LFLAGS) -o dgn_comp $(DGNCOMPOBJS)
+X  
+X  dgn_yacc.o:  ../include/config.h ../include/dgn_file.h
+X  dgn_main.o:  ../include/config.h
+X--- 181,187 ----
+X  #	dependencies for dgn_comp
+X  #
+X  dgn_comp:  $(DGNCOMPOBJS)
+X! 	$(CC) $(LFLAGS) -o dgn_comp $(DGNCOMPOBJS) $(LIBS)
+X  
+X  dgn_yacc.o:  ../include/config.h ../include/dgn_file.h
+X  dgn_main.o:  ../include/config.h
+X***************
+X*** 211,217 ****
+X  #	dependencies for recover
+X  #
+X  recover: $(RECOVOBJS)
+X! 	$(CC) $(LFLAGS) -o recover $(RECOVOBJS)
+X  
+X  recover.o: ../include/config.h
+X  
+X--- 212,218 ----
+X  #	dependencies for recover
+X  #
+X  recover: $(RECOVOBJS)
+X! 	$(CC) $(LFLAGS) -o recover $(RECOVOBJS) $(LIBS)
+X  
+X  recover.o: ../include/config.h
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:17:10 1994
+X--- ./src/apply.c	Sat May 14 19:57:14 1994
+X***************
+X*** 642,647 ****
+X--- 642,650 ----
+X  			(ttmp->ttyp == MAGIC_PORTAL || !Can_dig_down(&u.uz))) {
+X  		pline("The %s here is too hard to dig in.",
+X  			surface(dpx,dpy));
+X+ 		if (Invocation_lev(&u.uz) && !u.uevent.invoked) {
+X+ 			You("see the Amulet Of Yendor briefly flash between your feet.");
+X+ 		}
+X  		return(0);
+X  	    } else if (sobj_at(BOULDER, dpx, dpy)) {
+X  		pline("There isn't enough room to dig here.");
+X***************
+X*** 943,949 ****
+X  	boolean nohole = !Can_dig_down(&u.uz);
+X  
+X  	if (ttmp && (ttmp->ttyp == MAGIC_PORTAL || nohole)) {
+X! 		pline("The %s here is too hard to dig in.", surface(u.ux,u.uy));
+X  
+X  	} else if (is_pool(u.ux, u.uy) || is_lava(u.ux, u.uy)) {
+X  		pline("The %s sloshes furiously for a moment, then subsides.",
+X--- 946,956 ----
+X  	boolean nohole = !Can_dig_down(&u.uz);
+X  
+X  	if (ttmp && (ttmp->ttyp == MAGIC_PORTAL || nohole)) {
+X! 		if (Invocation_lev(&u.uz) && !u.uevent.invoked) {
+X! 			You("see the Amulet Of Yendor briefly flash between your feet.");
+X! 		} else {
+X! 			pline("The %s here is too hard to dig in.", surface(u.ux,u.uy));
+X! 		}
+X  
+X  	} else if (is_pool(u.ux, u.uy) || is_lava(u.ux, u.uy)) {
+X  		pline("The %s sloshes furiously for a moment, then subsides.",
+X***************
+X*** 1860,1865 ****
+X--- 1867,1873 ----
+X  	    can->owt = weight(can);
+X  	    can->known = 1;
+X  	    can->spe = -1;  /* Mark tinned tins. No spinach allowed... */
+X+ 	    can->selfmade = TRUE;
+X  	    if (carried(corpse)) {
+X  		if(corpse->unpaid) {
+X  		    verbalize("You tin it, you bought it!");
+X***************
+X*** 2038,2043 ****
+X--- 2046,2177 ----
+X  	}
+X  }
+X  
+X+ void use_floppies(struct obj *obj)
+X+ {
+X+ 	char *softwares[] = {
+X+ 		"Microsoft Windows 3.1",
+X+ 		"Bill Gates",
+X+ 		"Leisure Suit Larry V",
+X+ 		"LINUX 1.00",
+X+ 		"your NetHack patches",
+X+ 		"nothing of importance"
+X+ 	};
+X+ 	int x;
+X+ 
+X+ 	if (pl_character[0] != 'G') {
+X+ 		pline("If only you knew what the heck this is ... ");
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	pline("Due to years of experience with computers, you can read the");
+X+ 	pline("disks' contents by merely looking at the magnetic surface ...");
+X+ 
+X+ 	if (Blind) {
+X+ 		pline("Yet, without seeing, not even you can read anyting.");
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	if (obj->oartifact == ART_NETHACK_SOURCES) {
+X+ 		com_pager(9999);
+X+ 	} else {
+X+ 		x = rn2(sizeof(softwares) / sizeof(softwares[0]));
+X+ 		pline("You see %s on the disk",softwares[x]);
+X+ 		if (x == 0) {		/* Windows */
+X+ 			pline("You shriek in pain!");
+X+ 			make_confused(HConfusion+rn2(50)+50,TRUE);
+X+ 		} else if (x == 1) {	/* Bill Gates */
+X+ 			pline("You feel horrible!");
+X+ 			/* nothing happens (yet ...) */
+X+ 		}
+X+ 	}
+X+ }
+X+ 
+X+ static int
+X+ potion_charge_cost(struct obj *pot)
+X+ {
+X+ 	int cost;
+X+ 
+X+ 	cost = objects[pot->otyp].oc_cost / 150;
+X+ 	if (cost < 1) cost = 1;
+X+ 	return(cost);
+X+ }
+X+ 
+X+ static void
+X+ use_chemistry_set(struct obj *chemset)
+X+ {
+X+ 	struct obj *bottle;
+X+ 	static char bottles[] = { TOOL_CLASS, 0 };
+X+ 	char namebuf[BUFSZ],potbuf[BUFSZ];
+X+ 	struct obj *new_obj;
+X+ 	int cost;
+X+ 	char c;
+X+ 
+X+ 	if (!spell_known(SPE_CHEMISTRY)) {
+X+ 		pline("Huh? You don't understand anything about such stuff!");
+X+ 		return;
+X+ 	}
+X+ 	makeknown(CHEMISTRY_SET);
+X+ 
+X+ 	bottle = getobj(bottles,"hold the resulting potion in");
+X+ 	if (!bottle) return;
+X+ 	if (bottle->otyp != BOTTLE) {
+X+ 		pline("Exactly how are you going to do this?");
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	getlin("What potion do you want to make?",namebuf);
+X+ 	if (!namebuf[0] || namebuf[0] == '\033') return;
+X+ 
+X+ 	potbuf[0] = 0;
+X+ 	if (strncmp(namebuf,"potion of",9) != 0) {
+X+ 		strcpy(potbuf,"potion of ");
+X+ 	}
+X+ 	strcat(potbuf,namebuf);
+X+ 	new_obj = readobjnam(potbuf);
+X+ 
+X+ 	if (!new_obj || new_obj->oclass != POTION_CLASS) {
+X+ 		goto blast_him;
+X+ 	}
+X+ 	if (!(objects[new_obj->otyp].oc_name_known) && 
+X+ 	    !(objects[new_obj->otyp].oc_uname)) {
+X+ 		You("don't know how to make such a potion!");
+X+ 		c =yn_function("Do you want to give it a try anyway?","yn",'n');
+X+ 		if (c != 'y') {	
+X+ 			obfree(new_obj,(struct obj *) 0);
+X+ 			return;
+X+ 		}
+X+ 		if (rnl(5)) {
+X+ 			useup(bottle);
+X+ 			goto blast_him;
+X+ 		}
+X+ 	}
+X+ 	new_obj->selfmade = TRUE;
+X+ 	new_obj->cursed = bottle->cursed || chemset->cursed;
+X+ 	new_obj->blessed = bottle->blessed || chemset->blessed;
+X+ 	if (new_obj->blessed && new_obj->cursed) {
+X+ 		new_obj->blessed = new_obj->cursed = FALSE;
+X+ 	}
+X+ 	cost = potion_charge_cost(new_obj);
+X+ 	if (cost > chemset->spe) {
+X+ 		goto blast_him;
+X+ 	}
+X+ 	chemset->spe -= cost;
+X+ 	useup(bottle);
+X+ 
+X+ 	if (!chemset->blessed && !rn2(chemset->cursed ? 2 : 10)) {
+X+ blast_him:
+X+ 		pline("You seem to have made a mistake!");
+X+ 		pline("The bottle explodes!");
+X+ 		losehp(rnd(chemset->cursed ? 25 : 10),"alchemic blast",KILLED_BY_AN);
+X+ 		obfree(new_obj,(struct obj *) 0);
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	if (!(objects[new_obj->otyp].oc_name_known)) makeknown(new_obj->otyp);
+X+ 	hold_another_object(new_obj,"Oops! Where did you put that potion?",(const char *) 0,(const char *) 0);
+X+ 	You("have done it!");
+X+ }
+X+ 
+X  int
+X  doapply()
+X  {
+X***************
+X*** 2066,2073 ****
+X--- 2200,2210 ----
+X  	case SACK:
+X  	case BAG_OF_HOLDING:
+X  	case OILSKIN_SACK:
+X+ 	case SCHROEDINGER_S_BOX:
+X+ 	case BAG_OF_DIGESTION:
+X  		res = use_container(obj, 1);
+X  		break;
+X+ 
+X  	case BAG_OF_TRICKS:
+X  		if(obj->spe > 0) {
+X  			register int cnt = 1;
+X***************
+X*** 2209,2214 ****
+X--- 2346,2403 ----
+X  		} else
+X  		    pline(nothing_happens);
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	case HITCHHIKER_S_GUIDE_TO_THE_GALA:
+X+ 		if (HHallucination) {
+X+ 			pline("You carelessly push the buttons. On the screen is a text ... ");
+X+ 			outrumor(-1,42);	/* always false */
+X+ 		} else {
+X+ 			pline("So many knobs to turn! So many buttons to press!");
+X+ 			make_confused(HConfusion+rn2(10),TRUE);
+X+ 		}
+X+ 		break;
+X+ 
+X+ 	case RELAY:
+X+ 		if (obj->oartifact == ART_BURNED_MOTH_RELAY) {	
+X+ 			pline("There's a little badly burned moth in that relay!");
+X+ 			makeknown(RELAY);
+X+ 			if (pl_character[0] == 'G') {
+X+ 				You("feel remembered of %s.",Hallucination ? "when the net was flat" : "the old times");
+X+ 				break;
+X+ 			}
+X+ 		}	/* fall through */
+X+ 		
+X+ 	case DIODE:
+X+ 	case TRANSISTOR:
+X+ 	case IC:
+X+ 		pline("You don't understand anything about electronics !!!");
+X+ 		break;
+X+ #endif
+X+ 
+X+ 	case GOD_O_METER:
+X+ 		if (Blind) {
+X+ 			pline("Being blind, you cannot see it.");
+X+ 		} else if (!obj->blessed) {
+X+ 			You("feel uncomfortable.");
+X+ 			u.ublesscnt += rn2((obj->cursed) ? 200 : 100);
+X+ 		} else {
+X+ 			You("see a%s flash from the device.",(u.ublesscnt>0) ? " black" : "n amber");
+X+ #ifdef WIZARD
+X+ 			if (wizard) {
+X+ 				Your("prayer timeout is %i.",u.ublesscnt);
+X+ 			}
+X+ #endif
+X+ 		}
+X+ 		break;
+X+ 
+X+ 	case PACK_OF_FLOPPIES:
+X+ 		use_floppies(obj);
+X+ 		break;
+X+ 
+X+ 	case CHEMISTRY_SET:
+X+ 		use_chemistry_set(obj);
+X+ 		break;
+X+ 
+X  	default:
+X  		pline("Sorry, I don't know how to use that.");
+X  	xit:
+X*** /tmp/tmp.1285	Sat May 28 21:17:12 1994
+X--- ./src/attrib.c	Fri Apr 15 20:44:40 1994
+X***************
+X*** 53,58 ****
+X--- 53,64 ----
+X  		     {	 1, &(HSleep_resistance), "", "" },
+X  		     {	 0, 0, 0, 0 } },
+X  
+X+ 	g_abil[] = { {   1, &(HPoison_resistance), "", "" },
+X+ 		     {   1, &(HShock_resistance), "", "" },
+X+ 		     {   8, &(HTeleport_control), "controlled", "helpless" },
+X+ 		     {  15, &(Warning), "sensitive", "careless" },
+X+ 		     {   0, 0, 0, 0, } },
+X+ 
+X  	h_abil[] = { {	 1, &(HPoison_resistance), "", "" },
+X  		     {	15, &(Warning), "sensitive", "" },
+X  		     {	 0, 0, 0, 0 } },
+X***************
+X*** 117,122 ****
+X--- 123,132 ----
+X  		   {	30, 10, 10, 20, 20, 10 },
+X  		    { A_CHAOTIC, 10 },  15, 10, 11,  2, e_abil },
+X  
+X+ 	g_attr = { {    10, 10, 10,  8,  9,  7 },  /* Geek (hacker) */
+X+ 		   {    30, 15, 15, 10, 20, 10 },
+X+ 		    { A_NEUTRAL, 10 }, 12, 10, 20, 2, g_abil },
+X+ 
+X  	h_attr = { {	 7,  7, 13,  7, 11, 16 },  /* Healer (druid) */
+X  		   {	15, 20, 20, 15, 25, 10 },
+X  		    { A_NEUTRAL, 10 },  13, 10, 20,  2, h_abil },
+X***************
+X*** 491,496 ****
+X--- 501,508 ----
+X  			break;
+X  	    case 'E':	attr = &e_attr;
+X  			break;
+X+ 	    case 'G':	attr = &g_attr;
+X+ 			break;
+X  	    case 'H':	attr = &h_attr;
+X  			break;
+X  	    case 'K':	attr = &k_attr;
+X***************
+X*** 528,535 ****
+X  	else u.ualign.type = attr->align.type;
+X  }
+X  
+X! void
+X! init_attr(np)
+X  	register int	np;
+X  {
+X  	register int	i, x, tryct;
+X--- 540,547 ----
+X  	else u.ualign.type = attr->align.type;
+X  }
+X  
+X! static void
+X! init_attr_(np)
+X  	register int	np;
+X  {
+X  	register int	i, x, tryct;
+X***************
+X*** 578,583 ****
+X--- 590,689 ----
+X  	    np++;
+X  	}
+X  }
+X+ 
+X+ static char get_acception(void)
+X+ {
+X+ 	char c;
+X+ 
+X+ 	pline("St:");
+X+ 	if (ACURR(A_STR) > 118) {
+X+ 		pline("%2d",ACURR(A_STR) - 100);
+X+ 	} else if (ACURR(A_STR) == 118) {
+X+ 		pline("18/**");
+X+ 	} else if (ACURR(A_STR) > 18) {
+X+ 		pline("18/%02d",ACURR(A_STR) - 18);
+X+ 	} else {
+X+ 		pline("%-1d",ACURR(A_STR));
+X+ 	}
+X+ 	pline(" Dx:%-1d Co:%-1d In:%-1d Wi:%-1d Ch:%-1d  ",ACURR(A_DEX),ACURR(A_CON),ACURR(A_INT),ACURR(A_WIS),ACURR(A_CHA));
+X+ 	c = yn_function("Accept?","ynrq",'n');
+X+ 	return(c);
+X+ }
+X+ 
+X+ void init_attr(int np)
+X+ {
+X+ 	char c;
+X+ 	boolean forced,askforce,ok,done;
+X+ 	schar att;
+X+ 	int aval;
+X+ 	char buf[BUFSZ];
+X+ 	int i;
+X+ 
+X+ 	askforce = TRUE;
+X+ 	done = FALSE;
+X+ 	do {
+X+ 		if (askforce) {		
+X+ 			askforce = FALSE;
+X+ 			c = yn_function("Do you want to force anything?","yn",'n');
+X+ 			if (c == 'n') {
+X+ 				forced = FALSE;
+X+ 			} else {
+X+ 				forced = TRUE;
+X+ 				c = yn_function("What do you want to force?","sdciwh",'\0');
+X+ 				switch (c) {
+X+ 					case 's':	att = A_STR;	break;
+X+ 					case 'd':	att = A_DEX;	break;
+X+ 					case 'c':	att = A_CON;	break;
+X+ 					case 'i':	att = A_INT;	break;
+X+ 					case 'w':	att = A_WIS;	break;
+X+ 					case 'h':
+X+ 					default:	att = A_CHA;	break;
+X+ 				}
+X+ 				while (1) {
+X+ 					ok = TRUE;
+X+ 					getlin("What is the minimum value?",buf);
+X+ 					i = 0;
+X+ 					while (buf[i]) {
+X+ 						if (!isdigit(buf[i])) ok = FALSE;
+X+ 						i++;
+X+ 					}
+X+ 					if (!ok) continue;
+X+ 					aval = atoi(buf);
+X+ 					if (aval < ATTRMIN(att) || aval > ATTRMAX(att)) continue;
+X+ 					break;
+X+ 				}
+X+ 			}
+X+ 		}
+X+ 		i = 0;
+X+ 		ok = FALSE;
+X+ 		pline("Trying ... ");
+X+ 		while (i < 2000 && !ok) {
+X+ 			init_attr_(np);
+X+ 			if (forced) {
+X+ 				if (ACURR(att) >= aval) ok = TRUE;
+X+ 			} else {
+X+ 				ok = TRUE;
+X+ 			}
+X+ 			i++;
+X+ 		}
+X+ 		if (!ok) {
+X+ 			c = yn_function("This doesn't seem to work. Try again?","yn",'n');
+X+ 			if (c == 'n') askforce = TRUE;
+X+ 			done = FALSE;
+X+ 			continue;
+X+ 		}
+X+ 		c = get_acception();
+X+ 		switch (c) {
+X+ 			case 'y':	done = TRUE;
+X+ 					break;
+X+ 			case 'r':	askforce = TRUE;  /* fall through */
+X+ 			case 'n':	done = FALSE;
+X+ 					break;
+X+ 			case 'q':	exit_nhwindows(NULL);
+X+ 					terminate(0);
+X+ 		}
+X+ 	} while (!done);			
+X+ }	
+X  
+X  void
+X  redist_attr() {
+X*** /tmp/tmp.1285	Sat May 28 21:17:14 1994
+X--- ./src/artifact.c	Thu Apr 21 16:59:47 1994
+X***************
+X*** 40,45 ****
+X--- 40,47 ----
+X  static void
+X  hack_artifacts()
+X  {
+X+ 	struct artifact *a;
+X+ 
+X  	/* Excalibur can be used by any lawful character, not just knights */
+X  	if (pl_character[0] != 'K')
+X  	    artilist[ART_EXCALIBUR].class = '\0';
+X***************
+X*** 48,53 ****
+X--- 50,59 ----
+X  	if (pl_character[0] == 'P')
+X  	    artilist[ART_MITRE_OF_HOLINESS].alignment = u.ualignbase[1];
+X  #endif
+X+ 
+X+ 	for (a=artilist+1;a->otyp;a++) {
+X+ 		if (a->alignment == A_NONE) a->alignment = u.ualignbase[1];
+X+ 	}
+X  }
+X  
+X  /* zero out the artifact existence list */
+X***************
+X*** 160,165 ****
+X--- 166,192 ----
+X      return NULL;
+X  }
+X  
+X+ int
+X+ artifact_name2no(name)
+X+ const char *name;
+X+ {
+X+ 	register const struct artifact *a;
+X+ 	register int i;
+X+ 	register const char *aname;
+X+ 
+X+ 	if (!strncmpi(name,"the ",4)) name += 4;
+X+ 
+X+ 	for (a = artilist+1,i=1; a->otyp; a++,i++) {
+X+ 		aname = a->name;
+X+ 		if (!strncmpi(aname,"the ",4)) aname += 4;
+X+ 		if (!strcmpi(name, aname)) {
+X+ 			return(i);
+X+ 		}	
+X+ 	}
+X+ 
+X+ 	return(0);
+X+ }
+X+ 
+X  boolean
+X  exist_artifact(otyp, name)
+X  register int otyp;
+X***************
+X*** 389,394 ****
+X--- 416,430 ----
+X  	    if (on) Half_physical_damage |= wp_mask;
+X  	    else Half_physical_damage &= ~wp_mask;
+X  	}
+X+ 	if (spfx & SPFX_PROTEC) {
+X+ 	    if (on) {
+X+ 		u.ublessed += 2;
+X+ 		Protection |= FROMOUTSIDE;
+X+ 	    } else {
+X+ 	    	u.ublessed -= 2;
+X+ 		if (u.ublessed <= 0) Protection &= ~FROMOUTSIDE;
+X+ 	    }
+X+ 	}
+X  
+X  	if(wp_mask == W_ART && !on && oart->inv_prop) {
+X  	    /* might have to turn off invoked power too */
+X***************
+X*** 415,420 ****
+X--- 451,457 ----
+X      boolean yours = (mon == &youmonst);
+X  
+X      if(!oart) return 1;
+X+     if (oart->spfx & SPFX_TOUCH) return 1;
+X  
+X      badclass = (oart->class && (!yours || oart->class != pl_character[0]));
+X      badalign = (oart->spfx & SPFX_RESTR) &&
+X***************
+X*** 853,861 ****
+X  				return ((boolean)(youattack || vis));
+X  			}
+X  			*dmgptr = mdef->mhp;
+X! 			pline(behead_msg[rn2(SIZE(behead_msg))],
+X! 			      artilist[ART_VORPAL_BLADE].name,
+X! 			      mon_nam(mdef));
+X  			otmp->dknown = TRUE;
+X  			return TRUE;
+X  		} else {
+X--- 890,902 ----
+X  				return ((boolean)(youattack || vis));
+X  			}
+X  			*dmgptr = mdef->mhp;
+X! 			if (mdef->data == &mons[PM_JABBERWOCK]) {
+X! 				pline("The vorpal blade goes snicker-snack!");
+X! 			} else {
+X! 				pline(behead_msg[rn2(SIZE(behead_msg))],
+X! 				      artilist[ART_VORPAL_BLADE].name,
+X! 				      mon_nam(mdef));
+X! 			}
+X  			otmp->dknown = TRUE;
+X  			return TRUE;
+X  		} else {
+X***************
+X*** 979,984 ****
+X--- 1020,1033 ----
+X  	    obfree(pseudo, (struct obj *)0);	/* now, get rid of it */
+X  	    break;
+X  	  }
+X+ 	case IDENTIFY: {
+X+ 		struct obj *pseudo = mksobj(SPE_IDENTIFY, FALSE, FALSE);
+X+ 		pseudo->blessed = pseudo->cursed = 0;
+X+ 		pseudo->quan = 42L;		/* do not let useup get it */
+X+ 		(void) seffects(pseudo);
+X+ 		obfree(pseudo, (struct obj *) 0);
+X+ 		break;
+X+ 	    }
+X  	case HEALING: {
+X  	    int healamt = (u.uhpmax + 1 - u.uhp) / 2;
+X  	    if(healamt || Sick || (Blinded > 1))
+X***************
+X*** 1019,1024 ****
+X--- 1068,1078 ----
+X  	case LEV_TELE:
+X  	    level_tele();
+X  	    break;
+X+ 	case DRAGON_BREATH:
+X+ 	    getdir(NULL);
+X+ 	    buzz(20+AD_FIRE-1,6,u.ux,u.uy,u.dx,u.dy);
+X+ 	/*       ^^^^^^^^^^^^ - see zap.c / ZT_* defines */
+X+ 	    break;
+X  	case CREATE_PORTAL: {
+X  	    register int i;
+X  	    d_level newlev;
+X***************
+X*** 1122,1127 ****
+X--- 1176,1196 ----
+X      }
+X  
+X      return 1;
+X+ }
+X+ 
+X+ boolean nogen_nrartifact(int artino)
+X+ {
+X+ 	return(artilist[artino].spfx & SPFX_NOGEN);
+X+ }
+X+ 
+X+ boolean exists_nrartifact(int artino)
+X+ {
+X+ 	return(artiexist[artino]);
+X+ }
+X+ 
+X+ int nrartifact_obtype(int artino)
+X+ {
+X+ 	return(artilist[artino].otyp);
+X  }
+X  
+X  #endif /* OVLB */
+X*** /tmp/tmp.1285	Sat May 28 21:17:17 1994
+X--- ./src/cmd.c	Fri Mar 18 22:22:17 1994
+X***************
+X*** 534,539 ****
+X--- 534,541 ----
+X  	if (Stoned) you_are("turning to stone");
+X  	if (Lifesaved)
+X  		enl_msg("Your life ", "will be", "would have been", " saved");
+X+ 	if (Second_chance)
+X+   	  enl_msg("You ","will be", "would have been"," given a second chance");
+X  	if (Adornment) you_are("adorned");
+X  	if (Warning) you_are("warned");
+X  	if (Protection) you_are("protected");
+X*** /tmp/tmp.1285	Sat May 28 21:17:18 1994
+X--- ./src/botl.c	Wed Mar 23 14:45:38 1994
+X***************
+X*** 105,110 ****
+X--- 105,123 ----
+X  	{"Ernil",	"Elentariel"},	/* prince (S.), elf-maiden (Q.) */
+X  	{"Elentar",	"Elentari"}	/* Star-king, -queen (Q.) */
+X    } },
+X+ 
+X+   {					'G',0,  PM_GEEK, {
+X+ 	{"Newbie",			0},
+X+ 	{"BASIC Programmer", 		"BASIC Programmeress"},
+X+ 	{"C Programmer",		"C Programmeress"},
+X+ 	{"Hacker",			"Hackeress"},
+X+ 	{"NetHacker",			"NetHackeress"},
+X+ 	{"Nethack Programmer",		"Nethack Programmeress"},
+X+ 	{"he who uses",			"she who uses"},
+X+ 	{"he who knows",		"she who knows"},
+X+ 	{"he who learns",		"she who learns"},
+X+   } },
+X+ 
+X    {					'H',0,	PM_HEALER, {
+X  	{"Rhizotomist",  0},
+X  	{"Empiric",	0},
+X***************
+X*** 244,249 ****
+X--- 257,273 ----
+X  	return(rank_of(u.ulevel, pl_character[0], flags.female));
+X  }
+X  
+X+ STATIC_OVL boolean without_the()
+X+ {
+X+ 	char *s;
+X+ 
+X+ 	s = rank();
+X+ 
+X+ 	if ((s[0] == 'H' || s[0] == 'h') && s[1] == 'e') return(TRUE);
+X+ 	if ((s[0] == 'S' || s[0] == 's') && s[1] == 'h' && s[2] == 'e') return(TRUE);
+X+ 	return(FALSE);
+X+ }
+X+ 
+X  int
+X  title_to_mon(str, rank_indx, title_length)
+X  const char *str;
+X***************
+X*** 317,323 ****
+X  	Strcpy(newbot1, plname);
+X  	if('a' <= newbot1[0] && newbot1[0] <= 'z') newbot1[0] += 'A'-'a';
+X  	newbot1[10] = 0;
+X! 	Sprintf(nb = eos(newbot1)," the ");
+X  #ifdef POLYSELF
+X  	if (u.mtimedone) {
+X  		char mbot[BUFSZ];
+X--- 341,351 ----
+X  	Strcpy(newbot1, plname);
+X  	if('a' <= newbot1[0] && newbot1[0] <= 'z') newbot1[0] += 'A'-'a';
+X  	newbot1[10] = 0;
+X! 	if (without_the()) {
+X! 		Sprintf(nb = eos(newbot1),", ");
+X! 	} else {
+X! 		Sprintf(nb = eos(newbot1)," the ");
+X! 	}
+X  #ifdef POLYSELF
+X  	if (u.mtimedone) {
+X  		char mbot[BUFSZ];
+X***************
+X*** 394,399 ****
+X--- 422,428 ----
+X  	Sprintf(nb = eos(newbot2),
+X  		"%c:%-2ld HP:%d(%d) Pw:%d(%d) AC:%-2d", oc_syms[GOLD_CLASS],
+X  		u.ugold, hp, hpmax, u.uen, u.uenmax, u.uac);
+X+ 	if (wizard) Sprintf(nb = eos(newbot2)," HPL:%d",u.uhplast);
+X  #ifdef POLYSELF
+X  	if (u.mtimedone)
+X  		Sprintf(nb = eos(nb), " HD:%d", mons[u.umonnum].mlevel);
+X*** /tmp/tmp.1285	Sat May 28 21:17:19 1994
+X--- ./src/do_name.c	Sun Dec 26 12:03:53 1993
+X***************
+X*** 617,623 ****
+X--- 617,625 ----
+X  	"Terminator",				/* The Terminator */
+X  	"boomer",				/* Bubblegum Crisis */
+X  	"Dalek",				/* Dr. Who ("Exterminate!") */
+X+ #ifndef DOUGLAS_ADAMS	 /* then real monsters */
+X  	"microscopic space fleet", "Ravenous Bugblatter Beast of Traal",
+X+ #endif
+X  						/* HGttG */
+X  	"teenage mutant ninja turtle",		/* TMNT */
+X  	"samurai rabbit",			/* Usagi Yojimbo */
+X*** /tmp/tmp.1285	Sat May 28 21:17:21 1994
+X--- ./src/do.c	Fri Apr 15 22:53:52 1994
+X***************
+X*** 32,37 ****
+X--- 32,38 ----
+X  
+X  STATIC_PTR int FDECL(drop, (struct obj *));
+X  STATIC_PTR int NDECL(wipeoff);
+X+ STATIC_PTR void NDECL(lose_comp_objects);
+X  
+X  #ifdef OVL2
+X  static int NDECL(currentlevel_rewrite);
+X***************
+X*** 59,64 ****
+X--- 60,87 ----
+X  #endif /* OVLB */
+X  #ifdef OVL0
+X  
+X+ STATIC_PTR void
+X+ lose_comp_objects()
+X+ {
+X+ 	struct obj *otmp,*on;
+X+ 	int x;
+X+ 
+X+ 	x = 0;
+X+ 	for (otmp=invent;otmp;) {
+X+ 		on = otmp->nobj;
+X+ 		if (otmp->otyp == RIN_TIMELY_BACKUP 
+X+ 		||  otmp->otyp == SCR_ROOT_PASSWORD_DETECTION
+X+ 		||  otmp->otyp == AMULET_OF_DATA_STORAGE
+X+ 		||  otmp->otyp == WAN_BUGGING ) {
+X+ 			pline("%s%s vanish%s!",(x++) ? "" : "All of a sudden, ",doname(otmp),(otmp->quan > 1) ? "" : "es");
+X+ 			setnotworn(otmp);
+X+ 			freeinv(otmp);
+X+ 			obfree(otmp, (struct obj *) 0);
+X+ 		}
+X+ 		otmp = on;
+X+ 	}
+X+ }
+X+ 
+X  /* Called when a boulder is dropped, thrown, or pushed.  If it ends up
+X   * in a pool, it either fills the pool up or sinks away.  In either case,
+X   * it's gone for good...  If the destination is not a pool, returns FALSE.
+X***************
+X*** 281,286 ****
+X--- 304,316 ----
+X  		pline("The water's force seems %ser now.",
+X  			(obj->spe<0) ? "small" : "great");
+X  		break;
+X+ 	    case RIN_HEALTH:
+X+ 		pline("The water's quality seems %screased.",
+X+ 			(obj->spe<0) ? "de" : "in");
+X+ 		break;
+X+ 	    case RIN_TIMELY_BACKUP:
+X+ 		pline("The sink seems undestroyable.");
+X+ 		break;
+X  	    default:
+X  		ideed = FALSE;
+X  		break;
+X***************
+X*** 465,471 ****
+X  register struct obj *obj;
+X  {
+X  	if (!u.uswallow && flooreffects(obj,u.ux,u.uy,"drop")) return;
+X! 	if(obj->otyp == CRYSKNIFE)
+X  		obj->otyp = WORM_TOOTH;
+X  	(void) snuff_candle(obj);
+X  	/* uswallow check done by GAN 01/29/87 */
+X--- 495,501 ----
+X  register struct obj *obj;
+X  {
+X  	if (!u.uswallow && flooreffects(obj,u.ux,u.uy,"drop")) return;
+X! 	if(obj->otyp == CRYSKNIFE && !obj->oartifact)
+X  		obj->otyp = WORM_TOOTH;
+X  	(void) snuff_candle(obj);
+X  	/* uswallow check done by GAN 01/29/87 */
+X***************
+X*** 870,875 ****
+X--- 900,906 ----
+X  	if (Punished) placebc();
+X  	losedogs();
+X  	obj_delivery();
+X+ 	lose_comp_objects();
+X  
+X  	initrack();
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:17:22 1994
+X--- ./src/decl.c	Sat Mar 19 14:45:41 1994
+X***************
+X*** 229,237 ****
+X  struct tc_gbl_data tc_gbl_data = { 0,0, 0,0 };	/* AS,AE, LI,CO */
+X  
+X  #ifdef TOURIST
+X! const char NEARDATA *pl_classes = "ABCEHKPRSTVW";
+X  #else
+X! const char NEARDATA *pl_classes = "ABCEHKPRSVW";
+X  #endif
+X  
+X  /* dummy routine used to force linkage */
+X--- 229,237 ----
+X  struct tc_gbl_data tc_gbl_data = { 0,0, 0,0 };	/* AS,AE, LI,CO */
+X  
+X  #ifdef TOURIST
+X! const char NEARDATA *pl_classes = "ABCEGHKPRSTVW";
+X  #else
+X! const char NEARDATA *pl_classes = "ABCEGHKPRSVW";
+X  #endif
+X  
+X  /* dummy routine used to force linkage */
+X*** /tmp/tmp.1285	Sat May 28 21:17:26 1994
+X--- ./src/do_wear.c	Sun Apr 10 15:52:13 1994
+X***************
+X*** 347,352 ****
+X--- 347,353 ----
+X  
+X      switch(uarmg->otyp) {
+X  	case LEATHER_GLOVES:
+X+ 	case GAUNTLETS_OF_TYPING:
+X  		break;
+X  	case GAUNTLETS_OF_FUMBLING:
+X  		if (!oldprop)
+X***************
+X*** 374,379 ****
+X--- 375,381 ----
+X  
+X      switch(uarmg->otyp) {
+X  	case LEATHER_GLOVES:
+X+ 	case GAUNTLETS_OF_TYPING:
+X  		break;
+X  	case GAUNTLETS_OF_FUMBLING:
+X  		if (!oldprop)
+X***************
+X*** 484,489 ****
+X--- 486,492 ----
+X  	case AMULET_OF_REFLECTION:
+X  	case AMULET_OF_MAGICAL_BREATHING:
+X  	case FAKE_AMULET_OF_YENDOR:
+X+ 	case AMULET_OF_SECOND_CHANCE:
+X  		break;
+X  	case AMULET_OF_CHANGE:
+X  		makeknown(AMULET_OF_CHANGE);
+X***************
+X*** 503,508 ****
+X--- 506,514 ----
+X  	case AMULET_OF_RESTFUL_SLEEP:
+X  		Sleeping = rnd(100);
+X  		break;
+X+ 	case AMULET_OF_DATA_STORAGE:
+X+ 		You("feel full of knowledge.");
+X+ 		break;
+X  	case AMULET_OF_YENDOR:
+X  		break;
+X      }
+X***************
+X*** 520,525 ****
+X--- 526,532 ----
+X  	case AMULET_OF_LIFE_SAVING:
+X  	case AMULET_VERSUS_POISON:
+X  	case AMULET_OF_REFLECTION:
+X+ 	case AMULET_OF_SECOND_CHANCE:
+X  	case FAKE_AMULET_OF_YENDOR:
+X  		break;
+X  	case AMULET_OF_MAGICAL_BREATHING:
+X***************
+X*** 548,553 ****
+X--- 555,563 ----
+X  	case AMULET_OF_RESTFUL_SLEEP:
+X  		Sleeping = 0;
+X  		break;
+X+ 	case AMULET_OF_DATA_STORAGE:
+X+ 		You("feel intellectually poor.");
+X+ 		break;
+X  	case AMULET_OF_YENDOR:
+X  		break;
+X      }
+X***************
+X*** 642,647 ****
+X--- 652,668 ----
+X  			obj->known = TRUE;
+X  		}
+X  		break;
+X+ 	case RIN_HEALTH:
+X+ 		ABON(A_CON) += obj->spe;
+X+ 		flags.botl = 1;
+X+ 		if (obj->spe || objects[RIN_HEALTH].oc_name_known) {
+X+ 			makeknown(RIN_HEALTH);
+X+ 			obj->known = TRUE;
+X+ 		}
+X+ 		break;
+X+ 	case RIN_TIMELY_BACKUP:
+X+ 		You("feel absolutely safe.");
+X+ 		break;
+X      }
+X  }
+X  
+X***************
+X*** 715,720 ****
+X--- 736,748 ----
+X  		 * change shape again -dgk
+X  		 */
+X  		restartcham();
+X+ 		break;
+X+ 	case RIN_HEALTH:
+X+ 		ABON(A_CON) -= obj->spe;
+X+ 		flags.botl = 1;
+X+ 		break;
+X+ 	case RIN_TIMELY_BACKUP:
+X+ 		You("feel unsafe.");
+X  		break;
+X      }
+X  }
+X*** /tmp/tmp.1285	Sat May 28 21:17:30 1994
+X--- ./src/dothrow.c	Fri Apr 15 22:47:29 1994
+X***************
+X*** 432,438 ****
+X  		    return(1);
+X  		}
+X  		if(flooreffects(obj,bhitpos.x,bhitpos.y,"fall")) return(1);
+X! 		if(obj->otyp == CRYSKNIFE)
+X  			obj->otyp = WORM_TOOTH;
+X  	        if(mon && mon->isshk && obj->otyp == PICK_AXE) {
+X  		        mpickobj(mon, obj);
+X--- 432,438 ----
+X  		    return(1);
+X  		}
+X  		if(flooreffects(obj,bhitpos.x,bhitpos.y,"fall")) return(1);
+X! 		if(obj->otyp == CRYSKNIFE && !obj->oartifact)
+X  			obj->otyp = WORM_TOOTH;
+X  	        if(mon && mon->isshk && obj->otyp == PICK_AXE) {
+X  		        mpickobj(mon, obj);
+X*** /tmp/tmp.1285	Sat May 28 21:17:34 1994
+X--- ./src/eat.c	Sat Apr 23 14:38:53 1994
+X***************
+X*** 708,713 ****
+X--- 708,720 ----
+X  	    case PM_WRAITH:
+X  		pluslvl();
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case PM_CREEPING___:
+X+ 		pline("You feel appropriately 42!");
+X+ 		pluslvl();
+X+ 		make_hallucinated(HHallucination+rn1(10,50),TRUE,0L);
+X+ 		break;
+X+ #endif
+X  #ifdef POLYSELF
+X  	    case PM_HUMAN_WERERAT:
+X  		u.ulycn = PM_WERERAT;
+X***************
+X*** 1328,1333 ****
+X--- 1335,1348 ----
+X  		u.ublessed += otmp->spe;
+X  		flags.botl = 1;
+X  		break;
+X+ 	    case RIN_HEALTH:
+X+ 		if (adjattrib(A_CON, otmp->spe, -1)) 
+X+ 			makeknown(typ);
+X+ 		break;
+X+ 	    case RIN_TIMELY_BACKUP:
+X+ 		You("feel very, very safe.");
+X+ 		/* do something ... */
+X+ 		break;
+X  	}
+X  }
+X  
+X***************
+X*** 1429,1434 ****
+X--- 1444,1454 ----
+X  #endif
+X  		}
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case PEANUT_BAG:
+X+ 		adjattrib(A_CON,rn2(2)+1,-1);
+X+ 		break;
+X+ #endif
+X  	}
+X  	return;
+X  }
+X***************
+X*** 1690,1696 ****
+X  		    if (victual.canchoke &&
+X  			/* a one-gulp food will not survive a stop */
+X  				victual.reqtime > 1) {
+X! 			if(yn("Stop eating?") == 'y')
+X  			{
+X  				reset_eat();
+X  				nomovemsg = NULL;
+X--- 1710,1716 ----
+X  		    if (victual.canchoke &&
+X  			/* a one-gulp food will not survive a stop */
+X  				victual.reqtime > 1) {
+X! 			if(yn_function("Stop eating?","yn",'y') == 'y')
+X  			{
+X  				reset_eat();
+X  				nomovemsg = NULL;
+X*** /tmp/tmp.1285	Sat May 28 21:17:35 1994
+X--- ./src/end.c	Thu May 12 13:49:54 1994
+X***************
+X*** 307,313 ****
+X  int how;
+X  {
+X  	u.uswldtim = 0;
+X! 	u.uhp = u.uhpmax;
+X  	if (u.uhunger < 500) {
+X  	    u.uhunger = 500;
+X  	    newuhs(FALSE);
+X--- 307,318 ----
+X  int how;
+X  {
+X  	u.uswldtim = 0;
+X! 	if (Second_chance) {
+X! 		u.uhp = u.uhplast;
+X! 	} else {
+X! 		u.uhp = u.uhpmax;
+X! 	}
+X! 	u.uhplast = u.uhp;
+X  	if (u.uhunger < 500) {
+X  	    u.uhunger = 500;
+X  	    newuhs(FALSE);
+X***************
+X*** 357,362 ****
+X--- 362,391 ----
+X      return valuables;
+X  }
+X  
+X+ static void
+X+ kill_ravenous_beasts(int how)
+X+ {
+X+ 	int count;
+X+ 	struct monst *mtmp,*mtmp2;
+X+ 
+X+ 	count = 0;
+X+ 	for (mtmp=fmon;mtmp;mtmp=mtmp2) {
+X+ 		mtmp2 = mtmp->nmon;
+X+ 		if (mtmp->data == &mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL]) {
+X+ 			count++;
+X+ 			mondied(mtmp);
+X+ 		}
+X+ 	}
+X+ 
+X+ 	if (count > 0) {
+X+ 		pline("Just before your consciousness passes, you hear %s.",count == 1 ? "a scream" : "several screams");
+X+ 	}
+X+ 
+X+ 	if (how == GENOCIDED) {
+X+ 		mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL].geno |= G_GENOD;
+X+ 	}
+X+ }
+X+ 	
+X  /* Be careful not to call panic from here! */
+X  void
+X  done(how)
+X***************
+X*** 368,373 ****
+X--- 397,404 ----
+X  	winid endwin = WIN_ERR;
+X  	boolean have_windows = flags.window_inited;
+X  
+X+ 	if (how < PANICKED) kill_ravenous_beasts(how);
+X+ 
+X  	/* kilbuf: used to copy killer in case it comes from something like
+X  	 *	xname(), which would otherwise get overwritten when we call
+X  	 *	xname() when listing possessions
+X***************
+X*** 387,405 ****
+X  	}
+X  #endif
+X  	if (how < PANICKED) u.umortality++;
+X! 	if (Lifesaved && how <= GENOCIDED) {
+X  		pline("But wait...");
+X! 		makeknown(AMULET_OF_LIFE_SAVING);
+X! 		Your("medallion %s!",
+X  		      !Blind ? "begins to glow" : "feels warm");
+X  		if (how == CHOKING) You("vomit ...");
+X  		You("feel much better!");
+X! 		pline("The medallion crumbles to dust!");
+X! 		useup(uamul);
+X  
+X  		(void) adjattrib(A_CON, -1, TRUE);
+X  		if(u.uhpmax <= 0) u.uhpmax = 10;	/* arbitrary */
+X  		savelife(how);
+X  		if (how == GENOCIDED)
+X  			pline("Unfortunately you are still genocided...");
+X  		else {
+X--- 418,439 ----
+X  	}
+X  #endif
+X  	if (how < PANICKED) u.umortality++;
+X! 	if ((Second_chance || Lifesaved) && how <= GENOCIDED) {
+X  		pline("But wait...");
+X! 		makeknown(Lifesaved ? AMULET_OF_LIFE_SAVING : AMULET_OF_SECOND_CHANCE);
+X! 		Your("%s %s!", Lifesaved ? "medallion" : "amulet",
+X  		      !Blind ? "begins to glow" : "feels warm");
+X  		if (how == CHOKING) You("vomit ...");
+X  		You("feel much better!");
+X! 		pline("The amulet crumbles to dust!");
+X! /*		useup(uamul); */
+X  
+X  		(void) adjattrib(A_CON, -1, TRUE);
+X  		if(u.uhpmax <= 0) u.uhpmax = 10;	/* arbitrary */
+X  		savelife(how);
+X+ /* useup() had to be moved for savelife() to distingush between Lifesaved */
+X+ /* and Second_chance */
+X+ 		useup(uamul);
+X  		if (how == GENOCIDED)
+X  			pline("Unfortunately you are still genocided...");
+X  		else {
+X***************
+X*** 771,780 ****
+X  		    }
+X  		    putstr(klwin, 0, buf);
+X  		}
+X! 	    /*
+X! 	     * if (Hallucination)
+X! 	     *     putstr(klwin, 0, "and a partridge in a pear tree");
+X! 	     */
+X  	    if (ntypes > 1) {
+X  		putstr(klwin, 0, "");
+X  		Sprintf(buf, "%ld creatures vanquished.", total_killed);
+X--- 805,815 ----
+X  		    }
+X  		    putstr(klwin, 0, buf);
+X  		}
+X! 	   
+X! /* Why not ? */ 
+X! 	       if (Hallucination)
+X! 	           putstr(klwin, 0, "and a partridge in a pear tree");
+X! 	     
+X  	    if (ntypes > 1) {
+X  		putstr(klwin, 0, "");
+X  		Sprintf(buf, "%ld creatures vanquished.", total_killed);
+X*** /tmp/tmp.1285	Sat May 28 21:17:40 1994
+X--- ./src/hack.c	Sun Apr 10 17:45:30 1994
+X***************
+X*** 1230,1235 ****
+X--- 1230,1240 ----
+X  		    if(monstinroom(&mons[PM_ORACLE], roomno))
+X  			verbalize("Hello, %s, welcome to Delphi!", plname);
+X  		    break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 		case DOUGROOM:
+X+ 		    You("feel 42.");
+X+ 		    break;
+X+ #endif
+X  		case TEMPLE:
+X  		    intemple(roomno + ROOMOFFSET);
+X  		    /* fall through */
+X***************
+X*** 1483,1489 ****
+X  	register int nval;
+X  {
+X  	if(multi < nval) return;	/* This is a bug fix by ab@unido */
+X! 	u.uinvulnerable = FALSE;	/* Kludge to avoid ctrl-C bug -dlc */
+X  	u.usleep = 0;
+X  	multi = nval;
+X  	flags.mv = flags.run = 0;
+X--- 1488,1494 ----
+X  	register int nval;
+X  {
+X  	if(multi < nval) return;	/* This is a bug fix by ab@unido */
+X! 	if (!u.uinvul_time) u.uinvulnerable = FALSE;	/* Kludge to avoid ctrl-C bug -dlc */
+X  	u.usleep = 0;
+X  	multi = nval;
+X  	flags.mv = flags.run = 0;
+X***************
+X*** 1507,1512 ****
+X--- 1512,1518 ----
+X  		return;
+X  	}
+X  #endif
+X+ 	u.uhplast = u.uhp;
+X  	u.uhp -= n;
+X  	if(u.uhp > u.uhpmax)
+X  		u.uhpmax = u.uhp;	/* perhaps n was negative */
+X*** /tmp/tmp.1285	Sat May 28 21:17:48 1994
+X--- ./src/makemon.c	Sun May 22 20:04:32 1994
+X***************
+X*** 13,19 ****
+X  
+X  #define uncommon(ptr) \
+X  	(((ptr)->geno & (G_GENOD | G_EXTINCT | G_NOGEN | G_UNIQ)) || \
+X! 	 (!Inhell ? ((ptr)->geno & G_HELL) : ((ptr)->maligntyp > A_NEUTRAL)))
+X  
+X  #ifdef OVL0
+X  static boolean NDECL(cmavail);
+X--- 13,20 ----
+X  
+X  #define uncommon(ptr) \
+X  	(((ptr)->geno & (G_GENOD | G_EXTINCT | G_NOGEN | G_UNIQ)) || \
+X! 	 (!Inhell ? ((ptr)->geno & G_HELL) : ((ptr)->maligntyp > A_NEUTRAL)) \
+X! 	|| Is_rogue_level(&u.uz) ? (!((ptr)->geno & G_ROGUE)) : ((ptr)->geno & G_ROGUE) )
+X  
+X  #ifdef OVL0
+X  static boolean NDECL(cmavail);
+X***************
+X*** 436,441 ****
+X--- 437,450 ----
+X  	switch(ptr->mlet) {
+X  
+X  	    case S_HUMAN:
+X+ #ifdef DOUGLAS_ADAMS
+X+ 		if (monsndx(ptr) == PM_FORD_PERFECT || monsndx(ptr) == PM_ARTHUR_DENT) {
+X+ 			mongets(mtmp,PEANUT_BAG);
+X+ 		} 
+X+ 		if (monsndx(ptr) == PM_FORD_PERFECT) {
+X+ 			mongets(mtmp,TOWEL);
+X+ 		}
+X+ #endif
+X  		if(is_mercenary(ptr)) {
+X  		    register int mac;
+X  #ifdef MUSE
+X***************
+X*** 510,521 ****
+X--- 519,540 ----
+X  				(void) mongets(mtmp, TIN_WHISTLE);
+X  		} else if (ptr == &mons[PM_SHOPKEEPER]) {
+X  		    (void) mongets(mtmp,SKELETON_KEY);
+X+ 		} else if (is_educator(mtmp)) {
+X+ 		    if (!rn2(5) || is_principal(mtmp)) {
+X+ 			/* They're going to need it :-) */
+X+ 			mongets(mtmp,rn2(3) ? RING_MAIL : PLATE_MAIL);
+X+ 		    }
+X  		}
+X  		break;
+X  
+X  	    case S_NYMPH:
+X  		if(!rn2(2)) (void) mongets(mtmp, MIRROR);
+X  		if(!rn2(2)) (void) mongets(mtmp, POT_OBJECT_DETECTION);
+X+ 		if (ptr == &mons[PM_NYMPH_QUEEN]) {
+X+ 			struct obj *otmp = mksobj(SKELETON_KEY,TRUE,FALSE);
+X+ 			otmp = oname(otmp,artiname(ART_KEY_OF_ACCESS),0);
+X+ 			mpickobj(mtmp,otmp);
+X+ 		}
+X  		break;
+X  
+X  	    case S_GIANT:
+X***************
+X*** 538,562 ****
+X  		}
+X  		break;
+X  	    case S_QUANTMECH:
+X! 		if (!rn2(20)) {
+X! 			struct obj *cat;
+X  
+X! 			otmp = mksobj(LARGE_BOX, FALSE, FALSE);
+X! 	/* actually, whether this is a corpse or a live cat shouldn't
+X! 	   really be decided until the box is opened... */
+X! 			cat = mksobj(CORPSE, FALSE, FALSE);
+X! 			cat->corpsenm = PM_HOUSECAT;
+X! 			cat->owt = weight(cat);
+X! 			cat = oname(cat, "Schroedinger's Cat", FALSE);
+X! 			cat->nobj = otmp->cobj;
+X! 			otmp->cobj = cat;
+X  			otmp->owt = weight(otmp);
+X! 			mpickobj(mtmp, otmp);
+X  		}
+X  		break;
+X! 	    case S_LEPRECHAUN:
+X! 		mtmp->mgold = (long) d(level_difficulty(), 30);
+X  		break;
+X  	    default:
+X  		break;
+X  	}
+X--- 557,643 ----
+X  		}
+X  		break;
+X  	    case S_QUANTMECH:
+X! 		if (ptr == &mons[PM_QUANTUM_MECHANIC] && !rn2(10)) {/* was 20 */
+X! /*
+X! **			struct obj *cat;
+X! **
+X! **			otmp = mksobj(LARGE_BOX, FALSE, FALSE);
+X! **	   actually, whether this is a corpse or a live cat shouldn't
+X! **	   really be decided until the box is opened... 
+X! **			cat = mksobj(CORPSE, FALSE, FALSE);
+X! **			cat->corpsenm = PM_HOUSECAT;
+X! **			cat->owt = weight(cat);
+X! **			cat = oname(cat, "Schroedinger's Cat", FALSE);
+X! **			cat->nobj = otmp->cobj;
+X! **			otmp->cobj = cat;
+X! **			otmp->owt = weight(otmp);
+X! **			mpickobj(mtmp, otmp);
+X! */
+X! 
+X! 		/* We now do the real thing ... */
+X! 			otmp = mksobj(SCHROEDINGER_S_BOX,TRUE,FALSE);
+X! 			mpickobj(mtmp,otmp);
+X! 		}
+X! 		break;
+X! 	    case S_LEPRECHAUN: {
+X! 		int n;
+X! 
+X! 		if (ptr == &mons[PM_LEPRECHAUN_KING]) {
+X! 			n = 500;
+X! 		} else if (ptr == &mons[PM_LEPRECHAUN_ELDER]) {
+X! 			n = 50;
+X! 		} else {
+X! 			n = 30;	/* as it was before ... */
+X! 		}
+X! 		mtmp->mgold = (long) d(level_difficulty(), n);
+X! 		} break;
+X! #ifdef DOUGLAS_ADAMS
+X! 	    case S_ANGEL:
+X! 		if (monsndx(ptr) == PM_DOUGLAS_ADAMS) {
+X! 			mongets(mtmp,HITCHHIKER_S_GUIDE_TO_THE_GALA);
+X! 		}
+X! 		break;
+X! 
+X! 	    case S_XORN:
+X! 		if (monsndx(ptr) == PM_MARVIN) {
+X! 			int i;
+X! 			int t[3] = {DIODE, TRANSISTOR, IC};
+X! 			for (i=0;i<3;i++) {
+X! 				otmp = mksobj(t[i],FALSE,FALSE);
+X! 				otmp->quan = rn2(7) + 1;
+X! 				otmp->owt = weight(otmp);
+X! 				mpickobj(mtmp,otmp);
+X! 			}
+X! 		}
+X! 		break;
+X  
+X! 	    case S_XAN:
+X! 		if (monsndx(ptr) == PM_DEEP_THOUGHT) {
+X! 			otmp = mksobj(IC,FALSE,FALSE);
+X! 			otmp->quan = 42;
+X  			otmp->owt = weight(otmp);
+X! 			mpickobj(mtmp,otmp);
+X  		}
+X  		break;
+X! 
+X! 	    case S_YETI:
+X! 		if (monsndx(ptr) == PM_ZAPHOD_BREEBLEBROX) {
+X! 			otmp = mksobj(POT_PAN_GALACTIC_GARGLE_BLASTE,FALSE,FALSE);
+X! 			otmp->quan = d(2,4);
+X! 			otmp->owt = weight(otmp);
+X! 			mpickobj(mtmp,otmp);
+X! 		}
+X  		break;
+X+ #endif
+X+ 	    case S_DRAGON:
+X+ 		if (ptr == &mons[PM_DRAGON_LORD]) {
+X+ 			struct obj *otmp;
+X+ 			otmp = mksobj(GRAY_DRAGON_SCALE_MAIL,TRUE,FALSE);
+X+ 			otmp = oname(otmp,artiname(ART_SCALES_OF_THE_DRAGON_LORD),0);
+X+ 			mpickobj(mtmp,otmp);
+X+ 		}
+X+ 		break;
+X+ 
+X  	    default:
+X  		break;
+X  	}
+X***************
+X*** 679,684 ****
+X--- 760,768 ----
+X  		case S_MIMIC:
+X  			set_mimic_sym(mtmp);
+X  			break;
+X+ 		case S_XORN:
+X+ 			if (mtmp->data == &mons[PM_XEROC]) set_mimic_sym(mtmp);
+X+ 			break;
+X  		case S_SPIDER:
+X  		case S_SNAKE:
+X  			if(in_mklev)
+X***************
+X*** 689,695 ****
+X  			break;
+X  		case S_STALKER:
+X  		case S_EEL:
+X! 			mtmp->minvis = TRUE;
+X  			break;
+X  		case S_LEPRECHAUN:
+X  			mtmp->msleep = TRUE;
+X--- 773,784 ----
+X  			break;
+X  		case S_STALKER:
+X  		case S_EEL:
+X! 			if (ptr != &mons[PM_ICE_MONSTER] &&
+X! 			    ptr != &mons[PM_BABELFISH])
+X! 				mtmp->minvis = TRUE;
+X! 			break;
+X! 		case S_PUDDING:
+X! 			if (ptr == &mons[PM_PHANTOM]) mtmp->minvis = TRUE;
+X  			break;
+X  		case S_LEPRECHAUN:
+X  			mtmp->msleep = TRUE;
+X***************
+X*** 719,724 ****
+X--- 808,815 ----
+X  	} else if (ptr == &mons[PM_WIZARD_OF_YENDOR]) {
+X  		mtmp->iswiz = TRUE;
+X  		flags.no_of_wizards++;
+X+ 	} else if (ptr == &mons[PM_QUANTUM_MECHANIC]) {
+X+ 		mtmp = qname(mtmp);		/* see sounds.c */
+X  	} else if (ptr == &mons[PM_VLAD_THE_IMPALER])
+X  		(void) mongets(mtmp, CANDELABRUM_OF_INVOCATION);
+X  #ifdef MULDGN
+X*** /tmp/tmp.1285	Sat May 28 21:17:49 1994
+X--- ./src/mhitm.c	Sat Mar 26 16:18:26 1994
+X***************
+X*** 231,236 ****
+X--- 231,237 ----
+X  	    case AT_TUCH:
+X  	    case AT_BUTT:
+X  	    case AT_TENT:
+X+ 	    case AT_TALK:
+X  		dieroll = rnd(20 + i);
+X  		strike = (tmp > dieroll);
+X  		if (strike)
+X***************
+X*** 846,851 ****
+X--- 847,861 ----
+X  	    case AD_STCK:
+X  	    case AD_WRAP: /* monsters cannot grab one another, it's too hard */
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case AD_DEPR:
+X+ 		pline("%s talks to %s!", Monnam(magr), mon_nam(mdef));
+X+ 		if (!rn2(5)) {
+X+ 			pline("%s is depressed!",Monnam(mdef));
+X+ 			tmp = rn1(10,6);
+X+ 		}
+X+ 		break;
+X+ #endif
+X  	    default:	tmp = 0;
+X  			break;
+X  	}
+X*** /tmp/tmp.1285	Sat May 28 21:17:50 1994
+X--- ./src/mhitu.c	Sun Apr 10 15:31:25 1994
+X***************
+X*** 80,85 ****
+X--- 80,88 ----
+X  		case AT_EXPL:
+X  			pline("%s explodes!", Monnam(mtmp));
+X  			break;
+X+ 		case AT_TALK:
+X+ 			pline("%s talks to you!",Monnam(mtmp));
+X+ 			break;
+X  		default:
+X  			pline("%s hits!", Monnam(mtmp));
+X  	    }
+X***************
+X*** 393,399 ****
+X  	if(!mtmp->cham && is_demon(mdat) && !range2
+X  	   && mtmp->data != &mons[PM_BALROG]
+X  	   && mtmp->data != &mons[PM_SUCCUBUS]
+X! 	   && mtmp->data != &mons[PM_INCUBUS])
+X  	    if(!mtmp->mcan && !rn2(13))	msummon(mdat);
+X  
+X  /*	Special lycanthrope handling code */
+X--- 396,404 ----
+X  	if(!mtmp->cham && is_demon(mdat) && !range2
+X  	   && mtmp->data != &mons[PM_BALROG]
+X  	   && mtmp->data != &mons[PM_SUCCUBUS]
+X! 	   && mtmp->data != &mons[PM_INCUBUS]
+X! 	   && mtmp->data != &mons[PM_NEWS_DAEMON]
+X! 	   && mtmp->data != &mons[PM_PRINTER_DAEMON])
+X  	    if(!mtmp->mcan && !rn2(13))	msummon(mdat);
+X  
+X  /*	Special lycanthrope handling code */
+X***************
+X*** 548,553 ****
+X--- 553,563 ----
+X  			if(range2) sum[i] = spitmu(mtmp, mattk);
+X  			/* Note: spitmu takes care of displacement */
+X  			break;
+X+ 		case AT_TALK:
+X+ 			if (!ranged) {
+X+ 				pline("%s talks to you!",youseeit ? Monnam(mtmp) : "It");
+X+ 				sum[i] = hitmu(mtmp,mattk);
+X+ 			}
+X  		case AT_WEAP:
+X  			if(range2) {
+X  #ifdef REINCARNATION
+X***************
+X*** 891,896 ****
+X--- 901,907 ----
+X  	    case AD_SLEE:
+X  		hitmsg(mtmp, mattk);
+X  		if(ctmp && multi >= 0 && !rn2(5)) {
+X+ 		    if (is_educator(mtmp) && rn2(5)) break;
+X  		    if (Sleep_resistance) break;
+X  		    nomul(-rnd(10));
+X  		    u.usleep = 1;
+X***************
+X*** 965,970 ****
+X--- 976,984 ----
+X  		}
+X  		break;
+X  	    case AD_DRLI:
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    drain_life:
+X+ #endif
+X  		hitmsg(mtmp, mattk);
+X  		if (ctmp && !rn2(3)
+X  #ifdef POLYSELF
+X***************
+X*** 1333,1338 ****
+X--- 1347,1387 ----
+X  		morehungry(rn1(40,40));
+X  		/* plus the normal damage */
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case AD_DEPR:
+X+ 		You("feel depressed.");
+X+ 		switch(rn2(6) + u.uluck) {
+X+ 			case 0:
+X+ 				goto drain_life;
+X+ 				break;
+X+ 			case 1:
+X+ 				(void) adjattrib(A_CON, -1, FALSE);
+X+ 				if (ABASE(A_CON) < ATTRMIN(A_CON)) {
+X+ 					killer = "depression";
+X+ 					killer_format = KILLED_BY;
+X+ 					done(DIED);
+X+ 					/* lifesaved */
+X+ 					ABASE(A_CON) = ATTRMIN(A_CON);
+X+ 				}
+X+ 				break;
+X+ 			case 2:
+X+ 				(void) adjattrib(A_INT, -1, FALSE);
+X+ 				if (ABASE(A_INT) < ATTRMIN(A_CON)) {
+X+ 					killer = "depression";
+X+ 					killer_format = KILLED_BY;
+X+ 					done(DIED);
+X+ 					/* lifesaved */
+X+ 					ABASE(A_INT) = ATTRMIN(A_INT);
+X+ 				}
+X+ 				break;
+X+ 			default:
+X+ 				pline("But the feeling subsides.");
+X+ 				break;
+X+ 		}
+X+ 		dmg = 0;
+X+ 		break;
+X+ #endif
+X+ 
+X  	    default:	dmg = 0;
+X  			break;
+X  	}
+X***************
+X*** 1703,1708 ****
+X--- 1752,1758 ----
+X  		return;
+X  	}
+X  #endif
+X+ 	u.uhplast = u.uhp;
+X  	u.uhp -= n;
+X  	flags.botl = 1;
+X  	if(u.uhp < 1)
+X*** /tmp/tmp.1285	Sat May 28 21:17:52 1994
+X--- ./src/mklev.c	Sun Dec 26 16:22:02 1993
+X***************
+X*** 719,724 ****
+X--- 719,727 ----
+X  	else if(depth(&u.uz) > 4 && !rn2(6)) mkroom(COURT);
+X  	else if(depth(&u.uz) > 6 && !rn2(7)) mkroom(ZOO);
+X  	else if(depth(&u.uz) > 8 && !rn2(5)) mkroom(TEMPLE);
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	else if(depth(&u.uz) > 10 && !rn2(5)) mkroom(DOUGROOM);
+X+ #endif
+X  	else if(depth(&u.uz) > 9 && !rn2(5) &&
+X  	   !(mons[PM_KILLER_BEE].geno & (G_GENOD | G_EXTINCT))) mkroom(BEEHIVE);
+X  	else if(depth(&u.uz) > 11 && !rn2(6)) mkroom(MORGUE);
+X*** /tmp/tmp.1285	Sat May 28 21:17:55 1994
+X--- ./src/mondata.c	Sat Mar 19 15:03:34 1994
+X***************
+X*** 315,320 ****
+X--- 315,321 ----
+X  		case 'C': if (flags.female) return &mons[PM_CAVEWOMAN];
+X  			else return &mons[PM_CAVEMAN];
+X  		case 'E': return &mons[PM_ELF];
+X+ 		case 'G': return &mons[PM_GEEK];
+X  		case 'H': return &mons[PM_HEALER];
+X  		case 'K': return &mons[PM_KNIGHT];
+X  		case 'P': if (flags.female) return &mons[PM_PRIESTESS];
+X*** /tmp/tmp.1285	Sat May 28 21:17:56 1994
+X--- ./src/mkobj.c	Sat Apr 23 14:15:03 1994
+X***************
+X*** 145,150 ****
+X--- 145,151 ----
+X  		case SACK:
+X  		case OILSKIN_SACK:
+X  		case BAG_OF_HOLDING:	n = 1; break;
+X+ 		case BAG_OF_DIGESTION:		/* makes sense, doesn't it ? */
+X  		default:		n = 0; break;
+X  	}
+X  
+X***************
+X*** 237,242 ****
+X--- 238,244 ----
+X  	otmp->oclass = let;
+X  	otmp->otyp = otyp;
+X  	otmp->dknown = index(dknowns, let) ? 0 : 1;
+X+ 	otmp->selfmade = FALSE;
+X  	if (!objects[otmp->otyp].oc_uses_known)
+X  		otmp->known = 1;
+X  	if (init) switch (let) {
+X***************
+X*** 337,342 ****
+X--- 339,347 ----
+X  		case HORN_OF_PLENTY:
+X  		case BAG_OF_TRICKS:	otmp->spe = rnd(20);
+X  					break;
+X+ 		case CHEMISTRY_SET:	otmp->spe = rn1(10,10);
+X+ 					blessorcurse(otmp,4);
+X+ 					break;
+X  		case FIGURINE:	{	int tryct2 = 0;
+X  					do
+X  					    otmp->corpsenm = rndmonnum();
+X***************
+X*** 632,637 ****
+X--- 637,661 ----
+X  	if(otmp)  {
+X  		if(ptr)	otmp->corpsenm = monsndx(ptr);
+X  		else	otmp->corpsenm = rndmonnum();
+X+ 		otmp->owt = weight(otmp);
+X+ 	}
+X+ 	return(otmp);
+X+ }
+X+ 
+X+ struct obj *
+X+ mkcorpstat_(objtype, mnum, init)
+X+ int objtype;
+X+ int mnum;
+X+ boolean init;
+X+ {
+X+ 	register struct obj *otmp;
+X+ 
+X+ 	if (objtype != CORPSE && objtype != STATUE) {
+X+ 		impossible("making corpstat_ type %d",objtype);
+X+ 	}
+X+ 	otmp = mksobj(objtype,init,FALSE);
+X+ 	if (otmp) {
+X+ 		otmp->corpsenm = mnum;
+X  		otmp->owt = weight(otmp);
+X  	}
+X  	return(otmp);
+X*** /tmp/tmp.1285	Sat May 28 21:17:58 1994
+X--- ./src/mkroom.c	Sun May 22 19:42:39 1994
+X***************
+X*** 9,14 ****
+X--- 9,17 ----
+X   *	has_dnstairs() -- return TRUE if given room has a down staircase
+X   *	has_upstairs() -- return TRUE if given room has an up staircase
+X   *	courtmon() -- generate a court monster
+X+ #ifdef DOUGLAS_ADAMS
+X+  *	douglas_adams_mon() -- create a Douglas-Adams_Monster
+X+ #endif
+X   *	save_rooms() -- save rooms into file fd
+X   *	rest_rooms() -- restore rooms from file fd
+X   */
+X***************
+X*** 22,27 ****
+X--- 25,33 ----
+X  static void NDECL(mktemple);
+X  static coord * FDECL(shrine_pos, (int));
+X  static struct permonst * NDECL(morguemon);
+X+ #ifdef DOUGLAS_ADAMS
+X+ struct permonst * NDECL(douglas_adams_mon);
+X+ #endif
+X  #ifdef ARMY
+X  static struct permonst * NDECL(squadmon);
+X  #endif
+X***************
+X*** 59,64 ****
+X--- 65,73 ----
+X  	case BARRACKS:	mkzoo(BARRACKS); break;
+X  	case SWAMP:	mkswamp(); break;
+X  	case TEMPLE:	mktemple(); break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	case DOUGROOM:	mkzoo(DOUGROOM); break;
+X+ #endif
+X  	default:	impossible("Tried to make a room of type %d.", roomtype);
+X      }
+X  }
+X***************
+X*** 109,114 ****
+X--- 118,130 ----
+X  				mkswamp();
+X  				return;
+X  			}
+X+ #ifdef DOUGLAS_ADAMS
+X+ 			if (*ep == 'd' || *ep == 'D') {
+X+ 				mkzoo(DOUGROOM);
+X+ 				return;
+X+ 			}
+X+ #endif
+X+ 
+X  			for(i=0; shtypes[i].name; i++)
+X  				if(*ep == def_oc_syms[(int)shtypes[i].symb])
+X  				    goto gottype;
+X***************
+X*** 284,289 ****
+X--- 300,308 ----
+X  		    (type == BEEHIVE) ?
+X  			(sx == tx && sy == ty ? &mons[PM_QUEEN_BEE] : 
+X  			 &mons[PM_KILLER_BEE]) :
+X+ #ifdef DOUGLAS_ADAMS
+X+ 		    (type == DOUGROOM) ? douglas_adams_mon() : 
+X+ #endif
+X  		    (struct permonst *) 0,
+X  		   sx, sy);
+X  		if(mon) {
+X***************
+X*** 351,356 ****
+X--- 370,380 ----
+X  	      case BEEHIVE:
+X  		  level.flags.has_beehive = 1;
+X  		  break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	      case DOUGROOM:
+X+ 		  level.flags.has_zoo = 1;
+X+ 		  break;
+X+ #endif
+X  	}
+X  }
+X  
+X***************
+X*** 610,615 ****
+X--- 634,687 ----
+X  	else if (i > 15)	return(mkclass(S_GNOME,0));
+X  	else			return(mkclass(S_KOBOLD,0));
+X  }
+X+ 
+X+ #ifdef DOUGLAS_ADAMS
+X+ struct permonst *
+X+ douglas_adams_mon()
+X+ {
+X+ /* The uniques are now needed for the Hitchhiker's Level. */
+X+ 	struct permonst *monsters[] = {
+X+ 		&mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL],
+X+ /*		&mons[PM_DOUGLAS_ADAMS], */
+X+ /*		&mons[PM_FORD_PERFECT], */
+X+ /*		&mons[PM_ARTHUR_DENT], */
+X+ 		&mons[PM_CREEPING___],
+X+ 		&mons[PM_MICROSCOPIC_SPACE_FLEET],
+X+ 		&mons[PM_VOGON],
+X+ 		&mons[PM_VOGON_LORD],
+X+ /*		&mons[PM_MR__PROSSER], */
+X+ /*		&mons[PM_PROSTETNIK_VOGON_JELTZ], */
+X+ /*		&mons[PM_ZAPHOD_BREEBLEBROX], */
+X+ /*		&mons[PM_DEEP_THOUGHT], */
+X+ 		&mons[PM_BABELFISH],
+X+ 		&mons[PM_MARVIN],
+X+ 		&mons[PM_ALGOLIAN_SUNTIGER],
+X+ /*		&mons[PM_EDDIE], */
+X+ 	};
+X+ 	struct permonst *m;
+X+ 	int max = sizeof(monsters) / sizeof(monsters[0]);
+X+ 	int cnt;
+X+ 
+X+ 	cnt = 100;
+X+ 	while (cnt--) {
+X+ 		m = monsters[rn2(max)];
+X+ 		if (
+X+ 			((m->geno & G_UNIQ) && rn2(10)) ||
+X+ 			(m->geno & G_EXTINCT) ||
+X+ 			(m->geno & G_GENOD) ||
+X+ 			(m==&mons[PM_VOGON_LORD] && rn2(30)<level_difficulty())
+X+ 		) {
+X+ 			continue;
+X+ 		} else break;
+X+ 	}
+X+ 	if (cnt > 0) {
+X+ 		if (m->geno & G_UNIQ) m->geno |= G_EXTINCT;
+X+ 		return(m);
+X+ 	} else {
+X+ 		return((struct permonst *) NULL);
+X+ 	}
+X+ }
+X+ #endif
+X  
+X  #ifdef ARMY
+X  #define	    NSTYPES	(PM_CAPTAIN-PM_SOLDIER+1)
+X*** /tmp/tmp.1285	Sat May 28 21:17:59 1994
+X--- ./src/mon.c	Sun May 22 18:43:42 1994
+X***************
+X*** 69,74 ****
+X--- 69,77 ----
+X  		}
+X  		goto default_1;
+X  
+X+ 	    case PM_YOUNG_UNICORN:
+X+ 		if (rn2(2)) goto default_1;
+X+ 		/* fall through */
+X  	    case PM_WHITE_UNICORN:
+X  	    case PM_GRAY_UNICORN:
+X  	    case PM_BLACK_UNICORN:
+X***************
+X*** 153,158 ****
+X--- 156,181 ----
+X  			obj = mksobj_at(LEATHER_ARMOR, x, y, TRUE);
+X  		mtmp->mnamelth = 0;
+X  		break;
+X+ 	    case PM_BUG:
+X+ 	    case PM_HEISENBUG:
+X+ 		if (!rn2((mndx == PM_BUG) ? 6 : 3)) {
+X+ 			obj = mksobj_at(PACK_OF_FLOPPIES, x, y, TRUE);
+X+ 		}
+X+ 		break;
+X+ 	    case PM_PDP___:	/* PDP-11 */
+X+ 	    case PM_PDP__:	/* PDP-9 */
+X+ 	    case PM_VAX:
+X+ 	    case PM_CRAY:
+X+ 	    	num = rn2(10) + 5;
+X+ 		while (num--) {
+X+ 			obj = mksobj_at(!rn2(3) ? DIODE : (!rn2(2) ? TRANSISTOR : IC), x, y, TRUE);
+X+ 		}
+X+ 		break;
+X+ 	    case PM_ALGOLIAN_SUNTIGER:
+X+ 		if (!rn2(3)) {
+X+  			mksobj_at(TOOTH_OF_AN_ALGOLIAN_SUNTIGER,x, y, TRUE);
+X+ 		}
+X+ 		goto default_1;
+X  	    default_1:
+X  	    default:
+X  		if (mdat->geno & G_NOCORPSE)
+X***************
+X*** 1539,1545 ****
+X  	for (mtmp = fmon; mtmp; mtmp = mtmp->nmon) {
+X  		if (mtmp->data == &mons[PM_CHAMELEON])
+X  			mtmp->cham = 1;
+X! 		if(mtmp->data->mlet == S_MIMIC && mtmp->msleep &&
+X  				cansee(mtmp->mx, mtmp->my)) {
+X  			set_mimic_sym(mtmp);
+X  			newsym(mtmp->mx,mtmp->my);
+X--- 1562,1568 ----
+X  	for (mtmp = fmon; mtmp; mtmp = mtmp->nmon) {
+X  		if (mtmp->data == &mons[PM_CHAMELEON])
+X  			mtmp->cham = 1;
+X! 		if((mtmp->data->mlet == S_MIMIC || mtmp->data == &mons[PM_XEROC]) && mtmp->msleep &&
+X  				cansee(mtmp->mx, mtmp->my)) {
+X  			set_mimic_sym(mtmp);
+X  			newsym(mtmp->mx,mtmp->my);
+X***************
+X*** 1556,1562 ****
+X  	   cansee(mtmp->mx, mtmp->my) || rn2(3) || (mtmp == u.ustuck))
+X  		return(FALSE);
+X  
+X! 	if(mtmp->data->mlet == S_MIMIC) {
+X  		set_mimic_sym(mtmp);
+X  		return(TRUE);
+X  	} else
+X--- 1579,1585 ----
+X  	   cansee(mtmp->mx, mtmp->my) || rn2(3) || (mtmp == u.ustuck))
+X  		return(FALSE);
+X  
+X! 	if(mtmp->data->mlet == S_MIMIC || mtmp->data == &mons[PM_XEROC]) {
+X  		set_mimic_sym(mtmp);
+X  		return(TRUE);
+X  	} else
+X***************
+X*** 1647,1653 ****
+X  	if (!mtmp->mhpmax) mtmp->mhpmax = 1;
+X  
+X  	mtmp->data = mdat;
+X! 	mtmp->minvis = !!(mdat->mlet == S_STALKER);
+X  	if (!hides_under(mdat) || !OBJ_AT(mtmp->mx, mtmp->my))
+X  		mtmp->mundetected = 0;
+X  	if (u.ustuck == mtmp) {
+X--- 1670,1678 ----
+X  	if (!mtmp->mhpmax) mtmp->mhpmax = 1;
+X  
+X  	mtmp->data = mdat;
+X! 	mtmp->minvis = !!(mdat == &mons[PM_STALKER] ||
+X! 		 mdat == &mons[PM_PHANTOM]);
+X! /*	mtmp->minvis = !!(mdat->mlet == S_STALKER); */
+X  	if (!hides_under(mdat) || !OBJ_AT(mtmp->mx, mtmp->my))
+X  		mtmp->mundetected = 0;
+X  	if (u.ustuck == mtmp) {
+X*** /tmp/tmp.1285	Sat May 28 21:18:00 1994
+X--- ./src/monst.c	Sun May 22 19:42:08 1994
+X***************
+X*** 96,101 ****
+X--- 96,111 ----
+X   * unconsciously. Use your common sense.
+X   */
+X  
+X+ #define ROGUE_MONST_ATTR(name,sym,level,ac,atk1,atk2,atk3,atk4,a1,a2,a3) \
+X+ 	{ name, sym, level, 10,(10-ac),0,0,(G_GENO | G_ROGUE | G_NOCORPSE | 2),\
+X+ 	  { { atk1, atk2, atk3, atk4 }, NO_ATTK, NO_ATTK, NO_ATTK, \
+X+ 	    NO_ATTK, NO_ATTK }, \
+X+ 	  0, 0, 0, MS_SILENT, MZ_MEDIUM, 0, 0, \
+X+ 	  a1, a2, a3, C(GRAY) }, 
+X+ 
+X+ #define ROGUE_MONST(name,sym,level,ac,atk1,atk2,atk3,atk4) \
+X+    ROGUE_MONST_ATTR(name,sym,level,ac,atk1,atk2,atk3,atk4,M1_ANIMAL,M2_HOSTILE,0)
+X+ 
+X  #ifndef SPLITMON_2
+X  NEARDATA struct permonst mons[] = {
+X  /*	ants	*/
+X***************
+X*** 129,134 ****
+X--- 139,151 ----
+X  	  10, 10, 0, MS_SILENT, MZ_LARGE, MR_POISON, MR_POISON,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_POIS | M1_CARNIVORE,
+X  	  M2_HOSTILE, 0, C(BLACK) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "Ravenous Bugblatter Beast Of Traal", S_ANT, 12, 32, -2, 0, 0, (G_GENO | 1),
+X+            { { AT_BITE , AD_PHYS, 3, 6 }, NO_ATTK, NO_ATTK,
+X+               NO_ATTK, NO_ATTK, NO_ATTK },
+X+            100, 100, 0, MS_BURBLE, MZ_GIGANTIC, 0, 0, M1_ANIMAL | M1_CARNIVORE,
+X+ 	   M2_NEUTER | M2_HOSTILE,0,C(GREEN) },
+X+ #endif
+X  	{ "queen bee", S_ANT, 9, 24, -4, 0, 0, (G_GENO | G_NOGEN),
+X  	  { { AT_STNG, AD_DRST, 1, 8 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 267,272 ****
+X--- 284,295 ----
+X  	  200, 200, 0, MS_MEW, MZ_SMALL, 0, 0,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE,
+X  	  M2_DOMESTIC, 0, C(HI_DOMESTIC) },
+X+ 	{ "Schroedinger's Cat", S_FELINE, 4, 16, 5, 0, 0, G_NOGEN,
+X+ 	  { { AT_BITE, AD_PHYS, 1, 6}, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  200, 200, 0, MS_MEW, MZ_SMALL, 0, 0,
+X+ 	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, 
+X+ 	  M2_NOPOLY | M2_DOMESTIC | M2_PNAME, 0, C(HI_DOMESTIC) },
+X  	{ "jaguar", S_FELINE, 4, 15, 6, 0, 0, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 1, 4 }, { AT_CLAW, AD_PHYS, 1, 4 },
+X  	    { AT_BITE, AD_PHYS, 1, 8 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 285,290 ****
+X--- 308,318 ----
+X  	  600, 300, 0, MS_GROWL, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE,
+X  	  M2_HOSTILE, 0, C(YELLOW) },
+X+ 	{ "algolian suntiger", S_FELINE, 8, 14, 4, 0, 0, (G_GENO | 1),
+X+ 	  { { AT_CLAW, AD_PHYS, 2, 4 }, { AT_BITE, AD_PHYS, 6, 6 },
+X+ 	    { AT_GAZE, AD_STUN, 1, 1 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  800, 800, 0, MS_DOUGLAS_ADAMS, MZ_LARGE, 0, 0, 
+X+ 	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(YELLOW) },
+X  /*	gremlins	*/
+X  	{ "gremlin", S_GREMLIN, 5, 12, 2, 25, -9, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 1, 6 }, { AT_CLAW, AD_PHYS, 1, 6 },
+X***************
+X*** 416,421 ****
+X--- 444,459 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  60, 30, 0, MS_LAUGH, MZ_TINY, 0, 0,
+X  	  M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_GREEDY, 0, C(GREEN) },
+X+ 	{ "leprechaun elder", S_LEPRECHAUN, 10, 18, 8, 20, 0, (G_GENO | 1),
+X+ 	  { { AT_CLAW, AD_SGLD, 2, 4 }, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  60, 30, 0, MS_LAUGH, MZ_TINY, 0, 0,
+X+ 	  M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_GREEDY, 0, C(RED) },
+X+ 	{ "leprechaun king", S_LEPRECHAUN, 12, 18, 8, 20, 0, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_CLAW, AD_SGLD, 4, 4 }, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  60, 30, 0, MS_LAUGH, MZ_SMALL, 0, 0,
+X+ 	  M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_GREEDY, 0, C(HI_LORD) },
+X  /*	mimics	*/
+X  	{ "small mimic", S_MIMIC, 7, 3, 7, 0, 0, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 3, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 457,462 ****
+X--- 495,506 ----
+X  	  600, 300, 0, MS_SEDUCE, MZ_HUMAN,
+X  	  0, 0, M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_FEMALE | M2_COLLECT,
+X  	  0, C(BROWN) },
+X+ 	{ "nymph queen", S_NYMPH, 12, 12, 8, 30, 0, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_CLAW, AD_SITM, 0, 0 }, { AT_CLAW, AD_SEDU, 0, 0 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  600, 300, 0, MS_SEDUCE, MZ_HUMAN, 0, 0,
+X+ 	  M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_FEMALE | M2_COLLECT, 0,
+X+ 	  C(HI_LORD) },
+X  /*	orcs	*/
+X  	{ "goblin", S_ORC,  0, 6, MARM(10,6), 0, -3, (G_GENO | 2),
+X  	  { { AT_WEAP, AD_PHYS, 1, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 529,535 ****
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  2500, 500, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_THICK_HIDE | M1_NOHANDS | M1_CARNIVORE,
+X! 	  M2_HOSTILE | M2_STRONG, 0, C(GRAY) },
+X  	{ "leocrotta", S_QUADRUPED, 6, 18, 4, 10, 0, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 2, 6 }, { AT_BITE, AD_PHYS, 2, 6 },
+X  	    { AT_CLAW, AD_PHYS, 2, 6 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X--- 573,579 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  2500, 500, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_THICK_HIDE | M1_NOHANDS | M1_CARNIVORE,
+X! 	  M2_HOSTILE | M2_STRONG, 0, C(BROWN) },
+X  	{ "leocrotta", S_QUADRUPED, 6, 18, 4, 10, 0, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 2, 6 }, { AT_BITE, AD_PHYS, 2, 6 },
+X  	    { AT_CLAW, AD_PHYS, 2, 6 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 554,559 ****
+X--- 598,609 ----
+X  	  3800, 800, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_THICK_HIDE | M1_NOHANDS | M1_HERBIVORE,
+X  	  M2_HOSTILE | M2_STRONG, 0, C(GRAY) },
+X+ 	{ "giant mumak", S_QUADRUPED, 10, 9, 0, 0, -4, (G_GENO | 1),
+X+ 	  { { AT_BUTT, AD_PHYS, 8, 12 }, { AT_CLAW, AD_PHYS, 12, 12 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  4000, 1000, 0, MS_SILENT, MZ_HUGE, 0, 0,
+X+ 	  M1_ANIMAL | M1_THICK_HIDE | M1_NOHANDS | M1_CARNIVORE, 
+X+ 	  M2_HOSTILE | M2_STRONG, 0, C(BROWN) },
+X  /*	rodents 	*/
+X  	{ "sewer rat",	S_RODENT, 0, 12, 7, 0, 0, (G_GENO | G_SGROUP | 1),
+X  	  { { AT_BITE, AD_PHYS, 1, 3 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 618,623 ****
+X--- 668,679 ----
+X  	  M1_HIDE | M1_ANIMAL | M1_NOEYES | M1_NOLIMBS | M1_NOHEAD |
+X  	  M1_CARNIVORE, M2_HOSTILE | M2_STALK | M2_STRONG, 0, C(GREEN) },
+X  /*	unicorns	*/
+X+ 	{ "young unicorn", S_UNICORN, 3, 20, 5, 40, 0, (G_GENO | 1),
+X+ 	  { { AT_BUTT, AD_PHYS, 1, 6 }, { AT_KICK, AD_PHYS, 1, 3 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  650, 150, 0, MS_NEIGH, MZ_MEDIUM, MR_POISON, MR_POISON,
+X+ 	  M1_NOHANDS | M1_HERBIVORE,
+X+ 	  M2_WANDER | M2_JEWELS | M2_HOSTILE, 0, C(GRAY) },
+X  	{ "white unicorn", S_UNICORN, 4, 24, 2, 70, 7, (G_GENO | 2),
+X  	  { { AT_BUTT, AD_PHYS, 1, 12 }, { AT_KICK, AD_PHYS, 1, 6 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 728,733 ****
+X--- 784,845 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  300, 300, 0, MS_BUZZ, MZ_TINY, MR_POISON, MR_POISON,
+X  	  M1_FLY | M1_ANIMAL | M1_NOHANDS | M1_POIS, M2_HOSTILE, 0, C(RED) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "microscopic space fleet", S_XAN, 3, 5, 10, 0, 0,
+X+           (G_GENO | G_LGROUP | G_NOCORPSE | 3),
+X+ 	  { { AT_TUCH, AD_ELEC, 2, 4 }, NO_ATTK, NO_ATTK,
+X+             NO_ATTK, NO_ATTK, NO_ATTK },
+X+           0, 0, 0, MS_BUZZ, MZ_TINY, 0, 0,
+X+ 	  M1_FLY | M1_BREATHLESS | M1_MINDLESS | M1_METALLIVORE, 
+X+ 	  M2_NEUTER | M2_HOSTILE, 0, C(CYAN) },
+X+ 	{ "Deep Thought", S_XAN, 8, 0, -2 /* real much metal */, 0, 0,
+X+ 	  G_UNIQ | G_NOGEN | G_NOCORPSE, { {AT_NONE, AD_ELEC, 8, 4}, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK},
+X+ 	  0, 0, 0,MS_DOUGLAS_ADAMS,MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_PNAME, 0, C(HI_DOMESTIC) },
+X+ 	{ "Eddie", S_XAN, 8, 0, -2, 0, 0, G_UNIQ | G_NOGEN | G_NOCORPSE,
+X+ 	  { { AT_NONE, AD_ELEC, 8, 4}, { AT_NONE, AD_DEPR, 1, 3},
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  0, 0, 0, MS_DOUGLAS_ADAMS,MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_PNAME, 0, C(HI_LORD)/*:-)*/ },
+X+ #endif
+X+ 	{ "bug", S_XAN, 8, 10, 10, 0, 0, (G_NOCORPSE | 1),
+X+ 	  { { AT_TUCH, AD_ELEC, 2, 8}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_SMALL, MR_ELEC, MR_ELEC, 
+X+ 	  M1_AMORPHOUS | M1_CONCEAL | M1_NOEYES | M1_NOHANDS | M1_BREATHLESS |
+X+ 	  M1_NOLIMBS | M1_THICK_HIDE, M2_NEUTER | M2_HOSTILE, 0, C(BROWN) }, 
+X+ 	{ "heisenbug", S_XAN, 10, 35, 10, 0, 0, (G_NOCORPSE | 1),
+X+ 	  { { AT_TUCH, AD_ELEC, 4, 8}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_MEDIUM, MR_ELEC, MR_ELEC,
+X+ 	  M1_AMORPHOUS | M1_WALLWALK |M1_BREATHLESS | M1_TPORT | M1_TPORT_CNTRL,
+X+ 	  M2_NEUTER | M2_HOSTILE, 0, C(YELLOW) },
+X+ 	{ "PDP-11", S_XAN, 8, 1, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 2, 4}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS | 
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(WHITE) },
+X+ 	{ "PDP-9", S_XAN, 10, 1, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 4, 4}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(WHITE) },
+X+ 	{ "VAX", S_XAN, 12, 1, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 6, 4}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS | 
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(BRIGHT_GREEN) },
+X+ 	{ "walking disk drive", S_XAN, 14, 50, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 4, 4}, { AT_HUGS, AD_PHYS, 2, 4},
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(WHITE) },
+X+ 	{ "Cray", S_XAN, 15, 1, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 8, 6}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(WHITE) },
+X  /*	lights */
+X  	{ "yellow light", S_LIGHT, 3, 15, 0, 0, 0, (G_NOCORPSE| G_GENO | 4),
+X  	  { { AT_EXPL, AD_BLND, 10, 20 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 785,790 ****
+X--- 897,914 ----
+X  	  M2_NOPOLY | M2_MINION | M2_STALK | M2_STRONG | M2_NASTY | M2_LORD |
+X  	  M2_COLLECT | M2_MAGIC,
+X  	  0, C(HI_LORD) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "Douglas Adams", S_ANGEL, 22, 12, 6, 0, -30, (G_UNIQ | G_NOGEN),
+X+ 	  { { AT_CLAW, AD_PHYS, 4, 6}, { AT_BUTT, AD_DRIN, 1, 1 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK},
+X+ 	WT_HUMAN, 600, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN, MR_ELEC, /* computers :-) */
+X+ 	0, M1_FLY /* has missed the floor */ | M1_MINDLESS | M1_HUMANOID,
+X+ 	M2_NOPOLY | M2_LORD | M2_MALE | M2_PNAME | M2_COLLECT | M2_HOSTILE,
+X+ 	0, C(HI_LORD) },
+X+ #endif
+X+ 
+X+ 	ROGUE_MONST("aquator",S_ANGEL,9,8,AT_TUCH,AD_RUST,0,0)
+X+ 
+X  /*	Bats	*/
+X  	{ "bat", S_BAT, 0, 22, 8, 0, 0, (G_GENO | G_SGROUP | 1),
+X  	  { { AT_BITE, AD_PHYS, 1, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 820,825 ****
+X--- 944,951 ----
+X  	    { AT_KICK, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  2550, 500, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_HUMANOID, M2_STRONG | M2_GREEDY | M2_COLLECT, 0, C(CYAN) },
+X+ 	ROGUE_MONST("centaur",S_CENTAUR,7,5,AT_KICK,AD_PHYS,3,6)
+X+ 
+X  /*	Dragons.  The order of the dragons is VERY IMPORTANT.  Quite a few
+X  	pieces of code depend on gray being first and yellow being last.
+X  	The code also depends on the *order* being the same as that for
+X***************
+X*** 945,950 ****
+X--- 1071,1102 ----
+X  	  M1_CARNIVORE | M1_ACID,
+X  	  M2_HOSTILE | M2_STRONG | M2_NASTY | M2_GREEDY | M2_JEWELS | M2_MAGIC,
+X  	  0, C(YELLOW) },
+X+ /* There are many similarities between the Chromatic Dragon, the Dragon Lord,
+X+ ** and an ancient multi-hued dragon ... */
+X+ 	{ "ancient multi-hued dragon", S_DRAGON, 18, 9, -1, 20, 7, (G_GENO | 1),
+X+ 	  { { AT_BREA, AD_RBRE, 8, 6 }, { AT_BITE, AD_PHYS, 6, 8 },
+X+ 	    { AT_CLAW, AD_PHYS, 2, 4 }, { AT_CLAW, AD_PHYS, 2, 4 },
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  WT_DRAGON, 1500, 0, MS_ROAR, MZ_GIGANTIC,
+X+ 	  MR_FIRE | MR_COLD | MR_ELEC | MR_DISINT | MR_POISON | MR_STONE,
+X+ 	  MR_FIRE | MR_COLD | MR_ELEC | MR_DISINT | MR_POISON | MR_STONE,
+X+ 	  M1_FLY | M1_THICK_HIDE | M1_NOHANDS | M1_SEE_INVIS | M1_OVIPAROUS |
+X+ 	  M1_CARNIVORE | M1_ACID | M1_POIS,
+X+ 	  M2_HOSTILE | M2_STRONG | M2_NASTY | M2_GREEDY | M2_JEWELS | M2_MAGIC,
+X+ 	  0, C(WHITE) /* because white is the combination of all colors ... */},
+X+ 	{ "Dragon Lord", S_DRAGON, 25, 12, -3, 50, 7, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_BREA, AD_RBRE, 8, 8 }, { AT_BITE, AD_PHYS, 8, 8 },
+X+ 	    { AT_CLAW, AD_PHYS, 2, 6 }, { AT_CLAW, AD_PHYS, 2, 6 },
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  WT_DRAGON, 1500, 0, MS_ROAR, MZ_GIGANTIC,
+X+ 	  MR_FIRE | MR_COLD | MR_ELEC | MR_DISINT | MR_POISON | MR_STONE,
+X+ 	  MR_FIRE | MR_COLD | MR_ELEC | MR_DISINT | MR_POISON | MR_STONE,
+X+ 	  M1_FLY | M1_THICK_HIDE | M1_NOHANDS | M1_SEE_INVIS | M1_OVIPAROUS |
+X+ 	  M1_CARNIVORE | M1_ACID | M1_POIS,
+X+ 	  M2_HOSTILE | M2_STRONG | M2_NASTY | M2_GREEDY | M2_JEWELS | M2_MAGIC,
+X+ 	  0, C(HI_LORD) },
+X+ 	ROGUE_MONST("dragon",S_DRAGON,20,9,AT_BREA,AD_FIRE,4,10)
+X+ 
+X  /*	Elementals	*/
+X  	{ "air elemental", S_ELEMENTAL, 8, 36, 2, 30, 0, (G_NOCORPSE | 1),
+X  	  { { AT_ENGL, AD_PHYS, 2, 10 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 974,979 ****
+X--- 1126,1132 ----
+X  	  M1_NOEYES | M1_NOLIMBS | M1_NOHEAD | M1_MINDLESS | M1_AMPHIBIOUS |
+X  	  M1_SWIM,
+X  	  M2_STRONG | M2_NEUTER, 0, C(BLUE) },
+X+ 	ROGUE_MONST("emu",S_ELEMENTAL,1,4,AT_BITE,AD_PHYS,1,4)
+X  /*	Fungi	*/
+X  	{ "brown mold", S_FUNGUS, 1, 0, 9, 0, 0, (G_GENO | 1),
+X  	  { { AT_NONE, AD_COLD, 0, 6 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1017,1022 ****
+X--- 1170,1177 ----
+X  	  M1_BREATHLESS | M1_NOEYES | M1_NOLIMBS | M1_NOHEAD | M1_MINDLESS |
+X  	  M1_OMNIVORE,
+X  	  M2_HOSTILE | M2_NEUTER, 0, C(MAGENTA) },
+X+ 	ROGUE_MONST("venus flytrap",S_FUNGUS,12,6,AT_TUCH,AD_STCK,1,1)
+X+ 
+X  /*	Gnomes	*/
+X  	{ "gnome", S_GNOME, 1, 6, MARM(10,5), 4, 0, (G_GENO | G_SGROUP | 1),
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1038,1043 ****
+X--- 1193,1199 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  750, 150, 0, MS_ORC, MZ_SMALL, 0, 0,
+X  	  M1_HUMANOID, M2_PRINCE | M2_MALE | M2_COLLECT, 0, C(HI_LORD) },
+X+ 	ROGUE_MONST("griffin",S_GNOME,19,8,AT_BITE,AD_PHYS,6,5)
+X  #ifdef SPLITMON_1
+X  };
+X  #endif
+X***************
+X*** 1118,1123 ****
+X--- 1274,1281 ----
+X  	  900, 400, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_FLY | M1_SEE_INVIS,
+X  	  M2_WANDER | M2_STALK | M2_HOSTILE | M2_STRONG, 0, C(WHITE) },
+X+ 	ROGUE_MONST("ice monster",S_STALKER,2,1,AT_NONE,AD_PLYS,0,20)
+X+ 
+X  /*	Jabberwock */
+X  	{ "jabberwock", S_JABBERWOCK, 15, 12, -2, 50, 0, (G_GENO | 1),
+X  	  { { AT_BITE, AD_PHYS, 2, 10 }, { AT_BITE, AD_PHYS, 2, 10 },
+X***************
+X*** 1156,1163 ****
+X--- 1314,1330 ----
+X  	  WT_HUMAN, 200, 0, MS_ARREST, MZ_HUMAN, 0, 0, M1_HUMANOID,
+X  	  M2_HUMAN | M2_WANDER | M2_HOSTILE | M2_STRONG | M2_MALE | M2_COLLECT,
+X  	  0, C(HI_LORD) },
+X+ 	ROGUE_MONST("kestrel",S_KOP,1,4,AT_BITE,AD_PHYS,1,4)
+X+ 
+X  #endif
+X  /*	Liches	 */
+X+ 	{ "baby lich", S_LICH, 7, 6, 5, 10, -6, (G_GENO | 1),
+X+ 	  { { AT_TUCH, AD_COLD, 3, 2 }, NO_ATTK, NO_ATTK, NO_ATTK,
+X+  	    NO_ATTK, NO_ATTK },
+X+ 	  600, 50, 0, MS_MUMBLE, MZ_HUMAN,
+X+ 	  MR_COLD | MR_SLEEP, 0,
+X+ 	  M1_BREATHLESS | M1_HUMANOID | M1_POIS, M2_UNDEAD | M2_HOSTILE, 
+X+ 	  0, C(YELLOW) },
+X  	{ "lich", S_LICH, 11, 6, 0, 30, -9, (G_GENO | 1),
+X  	  { { AT_TUCH, AD_COLD, 1, 10 }, { AT_MAGC, AD_SPEL, 0, 0 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1279,1284 ****
+X--- 1446,1453 ----
+X  	  2600, 400, 0, MS_MUMBLE, MZ_HUGE, MR_POISON, MR_POISON,
+X  	  M1_NOLIMBS | M1_SLITHY | M1_THICK_HIDE | M1_OVIPAROUS | M1_POIS,
+X  	  M2_STRONG, 0, C(GREEN) },
+X+ 	ROGUE_MONST("nymph",S_NAGA,10,1,AT_CLAW,AD_SITM,0,0)
+X+ 
+X  /*	Ogres	*/
+X  	{ "ogre", S_OGRE, 5, 10, 5, 0, -3, (G_SGROUP | G_GENO | 1),
+X  	  { { AT_WEAP, AD_PHYS, 2, 5 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1326,1337 ****
+X--- 1495,1510 ----
+X  	  M1_BREATHLESS | M1_AMORPHOUS | M1_NOEYES | M1_NOLIMBS | M1_NOHEAD |
+X  	  M1_MINDLESS | M1_OMNIVORE | M1_ACID,
+X  	  M2_HOSTILE | M2_NEUTER, 0, C(BLACK) },
+X+ 	ROGUE_MONST("phantom",S_PUDDING,15,7,AT_BITE,AD_PHYS,4,5)
+X+ 
+X  /*	Quantum Mechanics	*/
+X  	{ "quantum mechanic", S_QUANTMECH, 7, 12, 3, 10, 0, (G_GENO | 3),
+X  	  { { AT_CLAW, AD_TLPT, 1, 4 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  WT_HUMAN, 20, 0, MS_HUMANOID, MZ_HUMAN, MR_POISON, 0,
+X  	  M1_HUMANOID | M1_POIS | M1_TPORT, M2_HOSTILE, 0, C(CYAN) },
+X+ 	ROGUE_MONST("quagga",S_QUANTMECH,8,7,AT_BITE,AD_PHYS,6,2)
+X+ 
+X  /*	Rust Monster	*/
+X  	{ "rust monster", S_RUSTMONST, 5, 18, 2, 0, 0, (G_GENO | 2),
+X  	  { { AT_TUCH, AD_RUST, 0, 0 }, { AT_TUCH, AD_RUST, 0, 0 },
+X***************
+X*** 1339,1344 ****
+X--- 1512,1519 ----
+X  	  1000, 250, 0, MS_SILENT, MZ_MEDIUM, 0, 0,
+X  	  M1_SWIM | M1_ANIMAL | M1_NOHANDS | M1_METALLIVORE, M2_HOSTILE,
+X  	  0, C(BROWN) },
+X+ 	ROGUE_MONST("rattlesnake",S_RUSTMONST,3,7,AT_BITE,AD_DRST,2,4)
+X+ 
+X  /*	Snakes	*/
+X  	{ "garter snake", S_SNAKE, 1, 8, 8, 0, 0, (G_LGROUP | G_GENO | 1),
+X  	  { { AT_BITE, AD_PHYS, 1, 2 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1424,1429 ****
+X--- 1599,1611 ----
+X  	  WT_HUMAN, 400, 0, MS_VAMPIRE, MZ_HUMAN, MR_SLEEP | MR_POISON, 0,
+X  	  M1_FLY | M1_BREATHLESS | M1_HUMANOID | M1_POIS | M1_REGEN,
+X  	  M2_UNDEAD | M2_STALK | M2_HOSTILE | M2_STRONG | M2_NASTY, 0, C(RED) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "vogon", S_VAMPIRE, 8, 10, 10, 0, 0, (G_GENO | 1),
+X+ 	  { { AT_CLAW, AD_PHYS, 1, 2}, {AT_TENT, AD_STUN, 0, 0},
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+           300, 300, 0, MS_BURBLE, MZ_HUMAN, 0, 0,
+X+ 	  M1_SWIM | M1_HUMANOID | M1_POIS, M2_HOSTILE, 0, C(GREEN) },
+X+ #endif
+X  	{ "vampire lord", S_VAMPIRE, 12, 14, 0, 50, -9, (G_GENO | 1),
+X  	  { { AT_CLAW, AD_PHYS, 1, 8 }, { AT_BITE, AD_DRLI, 1, 8 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1431,1436 ****
+X--- 1613,1630 ----
+X  	  M1_FLY | M1_BREATHLESS | M1_HUMANOID | M1_POIS | M1_REGEN,
+X  	  M2_UNDEAD | M2_STALK | M2_HOSTILE | M2_STRONG | M2_NASTY |
+X  	  M2_LORD | M2_MALE, 0, C(BLUE) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "vogon lord", S_VAMPIRE, 14, 8, 8, 0, 0, (G_GENO | 1),
+X+ 	  { { AT_CLAW, AD_PHYS, 2, 4 }, {AT_TENT, AD_DRLI, 1, 4 },
+X+             NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  400, 400, 0, MS_BURBLE, MZ_HUMAN, 0, 0,
+X+ 	  M1_SWIM | M1_HUMANOID | M1_POIS, M2_HOSTILE, 0, C(BRIGHT_GREEN) },
+X+ 	{ "Prostetnik Vogon Jeltz", S_VAMPIRE, 18, 6, 8, 0,0,(G_UNIQ | G_NOGEN),
+X+ 	  { { AT_CLAW, AD_PHYS, 4, 4}, {AT_TENT, AD_DRLI, 1, 4 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  400, 400, 0, MS_BURBLE, MZ_HUMAN, 0, 0,
+X+ 	  M1_SWIM | M1_HUMANOID | M1_POIS, M2_HOSTILE | M2_PNAME, 0,C(HI_LORD)},
+X+ #endif
+X  	{ "Vlad the Impaler", S_VAMPIRE, 14, 18, -3, 80, -10,
+X  	  (G_NOGEN | G_NOCORPSE | G_UNIQ),
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, { AT_BITE, AD_DRLI, 1, 6 },
+X***************
+X*** 1469,1474 ****
+X--- 1663,1677 ----
+X  	  MR_FIRE | MR_COLD | MR_STONE, MR_FIRE | MR_COLD | MR_STONE,
+X  	  M1_BREATHLESS | M1_WALLWALK | M1_THICK_HIDE | M1_METALLIVORE,
+X  	  M2_HOSTILE | M2_STRONG, 0, C(BROWN) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "Marvin", S_XORN, 10, 10, 0, 0, 0, (G_UNIQ | G_NOGEN | G_NOCORPSE),
+X+ 	  { { AT_TALK, AD_DEPR, 1, 3}, {AT_TUCH, AD_ELEC, 1, 1},
+X+   	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK},
+X+ 	  0, 0, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN, 0, 0, M1_HUMANOID|M1_METALLIVORE,
+X+ 	  M2_PNAME | M2_MALE | M2_HOSTILE, 0, C(BRIGHT_CYAN) },
+X+ #endif
+X+ 	ROGUE_MONST_ATTR("xeroc",S_XORN,16,5,AT_CLAW,AD_PHYS,2,7,M1_ANIMAL|M1_HIDE,M2_HOSTILE,0)
+X+ 	
+X  /*	Yeti, Apes and other large beasts */
+X  	{ "ape", S_YETI, 4, 12, 6, 0, 0, (G_GENO | G_SGROUP | 2),
+X  	  { { AT_CLAW, AD_PHYS, 1, 3 }, { AT_CLAW, AD_PHYS, 1, 3 },
+X***************
+X*** 1500,1505 ****
+X--- 1703,1715 ----
+X  	  1550, 750, 0, MS_GROWL, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_HUMANOID | M1_SEE_INVIS | M1_OMNIVORE,
+X  	  M2_STRONG, 0, C(GRAY) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "Zaphod Breeblebrox", S_YETI, 8, 10, 10, 0, 0, (G_UNIQ | G_NOGEN),
+X+ 	  { { AT_WEAP, AD_PHYS, 1, 6}, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK},
+X+ 	  400, 400, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN, 0, 0,
+X+ 	  M1_HUMANOID, M2_MALE | M2_PNAME | M2_HOSTILE, 0, C(GREEN) },
+X+ #endif 
+X  /*	Zombies 	*/
+X  	{ "kobold zombie", S_ZOMBIE, 0, 6, 10, 0, -2, (G_GENO | G_NOCORPSE | 1),
+X  	  { { AT_CLAW, AD_PHYS, 1, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1539,1544 ****
+X--- 1749,1766 ----
+X  	  MR_COLD | MR_SLEEP | MR_POISON, 0,
+X  	  M1_BREATHLESS | M1_MINDLESS | M1_HUMANOID,
+X  	  M2_UNDEAD | M2_STALK | M2_HOSTILE, 0, C(HI_DOMESTIC) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ /* The creeping 42 is occassionally peaceful, to reduce the advantage
+X+ ** of killing them for gain levels 
+X+ ** it cannot be genocided - not because genociding them would be unbalancing,
+X+ ** but because not genociding them (cursed genocide scroll) would be. */
+X+ 	{ "creeping 42", S_ZOMBIE, 4, 10, 10, 0, 0, (1), 
+X+           { { AT_CLAW, AD_PHYS, 1, 4}, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+           42, 42, 0, MS_DOUGLAS_ADAMS, MZ_SMALL, 0, 0, 
+X+ 	  M1_AMORPHOUS | M1_WALLWALK | M1_HIDE | M1_BREATHLESS,
+X+ 	  M2_NEUTER, 0, C(YELLOW) },
+X+ #endif
+X  	{ "ettin zombie", S_ZOMBIE, 6, 8, 6, 0, -4, (G_GENO | G_NOCORPSE | 1),
+X  	  { { AT_CLAW, AD_PHYS, 1, 10 }, { AT_CLAW, AD_PHYS, 1, 10 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1562,1567 ****
+X--- 1784,1791 ----
+X  	  M1_BREATHLESS | M1_MINDLESS | M1_HUMANOID | M1_THICK_HIDE,
+X  	  M2_UNDEAD | M2_WANDER | M2_HOSTILE | M2_STRONG | M2_COLLECT,
+X  	  0, C(WHITE) },
+X+ 	ROGUE_MONST("zombie",S_ZOMBIE,4,2,AT_CLAW,AD_PHYS,2,4)
+X+ 
+X  /*	Golems	*/
+X  	{ "straw golem", S_GOLEM, 3, 12, 10, 0, 0, (G_GENO | G_NOCORPSE | 1),
+X  	  { { AT_CLAW, AD_PHYS, 1, 2 }, { AT_CLAW, AD_PHYS, 1, 2 },
+X***************
+X*** 1677,1682 ****
+X--- 1901,1929 ----
+X  	  MR_SLEEP, MR_SLEEP, M1_HUMANOID | M1_OMNIVORE,
+X  	  M2_ELF | M2_STRONG | M2_PRINCE | M2_MALE | M2_COLLECT, 0,
+X  	  C(HI_LORD) },
+X+ /* these are for the special "school" level written by me */
+X+ 	{ "pupil", S_HUMAN, 4, 10, 10, 0, 0, G_NOGEN,
+X+           { { AT_WEAP, AD_PHYS, 1, 1}, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  /* sleep resistance keeps them from sleeping in lessons :-) */
+X+ 	  WT_HUMAN, 400, 0, MS_PUPIL, MZ_HUMAN, MR_SLEEP, MR_SLEEP,
+X+  	  M1_HUMANOID | M1_OMNIVORE, 
+X+ 	  M2_HUMAN | M2_COLLECT | M2_HOSTILE, 0, C(HI_DOMESTIC) },
+X+ 	{ "teacher", S_HUMAN, 8, 10, 10, 0, 0, G_NOGEN,
+X+ 	  { { AT_WEAP, AD_PHYS, 2, 4 }, { AT_TALK, AD_SLEE, 1, 1 },
+X+  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_TEACHER, MZ_HUMAN, MR_SLEEP | MR_POISON,
+X+ 	  /* teachers have to be proof against their own attempts to put */
+X+ 	  /* pupils to sleep; they're poisonous as well ... */
+X+ 	  MR_SLEEP | MR_POISON, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_HUMAN | M2_COLLECT | M2_HOSTILE, 0, C(HI_LORD) },
+X+ 	{ "principal", S_HUMAN, 12, 10, 10, 30, 0, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_WEAP, AD_PHYS, 4, 8}, { AT_TALK, AD_DRIN, 2, 2},
+X+ 	    { AT_TALK, AD_SLEE, 1, 1},  NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_PRINCIPAL, MZ_HUMAN, MR_SLEEP | MR_POISON,
+X+ 	  MR_SLEEP | MR_POISON, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_HUMAN | M2_COLLECT | M2_STALK | M2_HOSTILE, 0, C(HI_LORD) },
+X+ 
+X  	{ "nurse", S_HUMAN, 11, 6, 0, 0, 0, (G_GENO | 3),
+X  	  { { AT_CLAW, AD_HEAL, 2, 6 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1691,1696 ****
+X--- 1938,1949 ----
+X  	  M2_NOPOLY | M2_HUMAN | M2_PEACEFUL | M2_STRONG |
+X  	  M2_COLLECT | M2_MAGIC,
+X  	  0, C(HI_DOMESTIC) },
+X+ 	{ "blacksmith", S_HUMAN, 12, 18, 0, 0, 0, G_NOGEN, 
+X+ 	  { { AT_WEAP, AD_PHYS, 4, 4 }, { AT_WEAP, AD_PHYS, 4, 4 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_SMITH, MZ_HUMAN, 0, 0,
+X+ 	  M1_HUMANOID | M1_OMNIVORE, 
+X+  	  M2_NOPOLY | M2_HUMAN | M2_PEACEFUL | M2_STRONG, 0, C(HI_DOMESTIC) },
+X  	{ "guard", S_HUMAN, 12, 12, MARM(10,-1), 40, 10, G_NOGEN,
+X  	  { { AT_WEAP, AD_PHYS, 4, 10 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1698,1703 ****
+X--- 1951,1980 ----
+X  	  0, 0, M1_HUMANOID | M1_OMNIVORE,
+X  	  M2_NOPOLY | M2_HUMAN | M2_MERC | M2_PEACEFUL | M2_STRONG | M2_COLLECT,
+X  	  0, C(BLUE) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	/* ------||---- --> THIS IS ***NOT*** A TYPO !!!! */
+X+ 	{ "Ford Perfect", S_HUMAN, 8, 10, 10, 0, 0, G_UNIQ | G_NOGEN,
+X+ 	  { { AT_CLAW, AD_PHYS, 2, 4}, NO_ATTK, NO_ATTK,
+X+             NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN,
+X+ 	  0, 0, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_MALE | M2_PNAME | M2_HUMAN, 0,
+X+ 	  C(HI_DOMESTIC) },
+X+ 	{ "Arthur Dent", S_HUMAN, 9, 10, 10, 0, 0, G_UNIQ | G_NOGEN,
+X+ 	  { { AT_CLAW, AD_PHYS, 2, 4}, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN,
+X+ 	  0, 0, M1_HUMANOID | M1_OMNIVORE, 
+X+ 	  M2_NOPOLY | M2_MALE | M2_PNAME | M2_HUMAN, 0,
+X+ 	  C(HI_DOMESTIC) },
+X+ 	{ "Mr. Prosser", S_HUMAN, 10, 10, 10, 0, 0, G_UNIQ | G_NOGEN,
+X+ 	  { { AT_SPIT, AD_ACID, 2, 4}, {AT_BREA, AD_FIRE, 1, 1},
+X+ 	    { AT_CLAW, AD_PHYS, 2, 4}, NO_ATTK, NO_ATTK, NO_ATTK },
+X+           WT_HUMAN, 400, 0, MS_WAIL, MZ_HUMAN,
+X+ 	  0, 0, M1_HUMANOID | M1_METALLIVORE,
+X+ 	  M2_NOPOLY | M2_MALE | M2_PNAME | M2_HUMAN | M2_HOSTILE, 0,
+X+ 	  C(HI_DOMESTIC) },
+X+ #endif
+X  	{ "oracle", S_HUMAN, 12, 0, 0, 50, 0, G_NOGEN | G_UNIQ,
+X  	  { { AT_NONE, AD_MAGM, 0, 4 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1890,1895 ****
+X--- 2167,2182 ----
+X  	  MR_FIRE | MR_POISON, 0, M1_HUMANOID | M1_FLY | M1_POIS,
+X  	  M2_DEMON | M2_STALK | M2_HOSTILE | M2_NASTY | M2_MALE, 0, C(GRAY) },
+X  #endif
+X+ 	{ "news daemon", S_DEMON, 6, 12, 0, 0, 0, (G_NOCORPSE | G_NOGEN),
+X+ 	  { { AT_BITE, AD_PHYS, 2, 4 }, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUMAN, 0, 0, M1_FLY | M1_UNSOLID,
+X+ 	  M2_DEMON | M2_NASTY | M2_NEUTER | M2_HOSTILE, 0, C(BRIGHT_BLUE) },
+X+ 	{ "printer daemon", S_DEMON, 6, 12, 0, 0, 0, (G_NOCORPSE | G_NOGEN),
+X+ 	  { { AT_BITE, AD_PHYS, 2, 6 }, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUMAN, 0, 0, M1_FLY | M1_UNSOLID,
+X+ 	  M2_DEMON | M2_NASTY | M2_NEUTER | M2_HOSTILE, 0, C(BRIGHT_BLUE) },
+X  	{ "erinyes", S_DEMON, 7, 12, 2, 30, 10,
+X  	  (G_HELL | G_NOCORPSE | G_SGROUP | 2),
+X  	  { { AT_WEAP, AD_DRST, 2, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1965,1970 ****
+X--- 2252,2263 ----
+X  	  M2_DEMON | M2_STALK | M2_HOSTILE | M2_STRONG | M2_NASTY | M2_COLLECT,
+X  	  0, C(RED) },
+X  	/* Named demon lords & princes plus Arch-Devils */
+X+ 	{ "UNIX Kernel", S_DEMON, 28, 10, 0, 20, -3, (G_NOGEN | G_UNIQ | G_NOCORPSE),
+X+ 	  { { AT_BITE, AD_PHYS, 4, 8 }, { AT_CLAW, AD_STUN, 2, 2 },
+X+ 	    { AT_KICK, AD_DRLI, 3, 3 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 0, 0, MS_BUZZ, MZ_HUMAN, 0, 0, 
+X+ 	  M1_UNSOLID | M1_FLY, M2_NOPOLY | M2_DEMON | M2_HOSTILE | M2_LORD 
+X+ 	  | M2_NEUTER, 0, C(BRIGHT_BLUE) },
+X  	{ "Juiblex", S_DEMON, 50, 3, -7, 65, -15,
+X  	  (G_HELL | G_NOCORPSE | G_NOGEN | G_UNIQ),
+X  	  { { AT_ENGL, AD_DISE, 4, 10 }, { AT_SPIT, AD_ACID, 3, 6 },
+X***************
+X*** 2083,2088 ****
+X--- 2376,2387 ----
+X  	  M1_HUMANOID | M1_FLY | M1_POIS,
+X  	  M2_NOPOLY | M2_STALK | M2_COLLECT, 0, C(YELLOW) },
+X  /*	sea monsters		*/
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "babelfish", S_EEL, 4, 8, 10, 0, 0, (G_GENO | 1),
+X+ 	  { NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK},
+X+ 	  50, 50, 0, MS_SILENT, MZ_TINY, 0, 0, M1_SWIM | M1_ANIMAL |
+X+ 	  M1_HERBIVORE, M2_HOSTILE, 0, C(ORANGE_COLORED) },
+X+ #endif
+X  	{ "giant eel", S_EEL, 5, 9, -1, 0, 0, (G_GENO | G_NOGEN),
+X  	  { { AT_BITE, AD_PHYS, 3, 6 }, { AT_TUCH, AD_WRAP, 0, 0 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2114,2119 ****
+X--- 2413,2423 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  10, 20, 0, MS_SQEEK, MZ_TINY, 0, 0,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(GREEN) },
+X+ 	{ "deminewt", S_LIZARD, 2, 6, 7, 0, 0, (G_GENO | 2),
+X+ 	  { { AT_BITE, AD_PHYS, 2, 2}, NO_ATTK, NO_ATTK, 
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  10, 20, 0, MS_SQEEK, MZ_TINY, 0, 0,
+X+ 	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(RED) },
+X  	{ "iguana", S_LIZARD, 2, 6, 7, 0, 0, (G_GENO | 5),
+X  	  { { AT_BITE, AD_PHYS, 1, 4 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2130,2135 ****
+X--- 2434,2444 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  10, 40, 0, MS_SILENT, MZ_TINY, MR_STONE, MR_STONE,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(GREEN) },
+X+ 	{ "master newt", S_LIZARD, 6, 6, 6, 10, 0, (G_GENO | 2),
+X+ 	  { { AT_BITE, AD_PHYS, 2, 6}, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  10, 40, 0, MS_SQEEK, MZ_MEDIUM, 0, 0,
+X+ 	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(HI_LORD) },
+X  	{ "chameleon", S_LIZARD, 6, 5, 6, 10, 0, (G_GENO | 2),
+X  	  { { AT_BITE, AD_PHYS, 4, 2 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2179,2184 ****
+X--- 2488,2499 ----
+X  	  WT_ELF, 350, 0, MS_HUMANOID, MZ_HUMAN, MR_SLEEP, MR_SLEEP,
+X  	  M1_HUMANOID | M1_OMNIVORE | M1_SEE_INVIS,
+X  	  M2_NOPOLY | M2_ELF | M2_STRONG | M2_COLLECT, 0, C(HI_DOMESTIC) },
+X+ 	{ "geek", S_HUMAN, 1, 10, 10, 2, 2, G_NOGEN,
+X+ 	  { { AT_WEAP, AD_PHYS, 1, 8 }, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_HUMANOID, MZ_HUMAN, MR_POISON | MR_ELEC,
+X+           MR_POISON | MR_ELEC, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_HUMAN | M2_STRONG | M2_COLLECT, 0, C(HI_DOMESTIC) },
+X  	{ "healer", S_HUMAN, 1, 10, 10, 1, 0, G_NOGEN,
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2280,2285 ****
+X--- 2595,2607 ----
+X  	  M1_HUMANOID | M1_SEE_INVIS | M1_OMNIVORE,
+X  	  M2_NOPOLY | M2_ELF | M2_HUMAN | M2_PNAME | M2_PEACEFUL | M2_STRONG |
+X  	  M2_FEMALE | M2_COLLECT | M2_MAGIC, M3_CLOSE, C(HI_LORD) },
+X+ 	{ "The Dev Team", S_HUMAN, 20, 12, 0, 80, 0, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_WEAP, AD_PHYS, 1, 8 }, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_LEADER, MZ_HUMAN, MR_POISON | MR_ELEC,
+X+ 	  MR_POISON | MR_ELEC, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_HUMAN | M2_PNAME | M2_PEACEFUL | M2_STRONG |
+X+ 	  M2_NEUTER | M2_COLLECT | M2_MAGIC, M3_CLOSE, C(HI_LORD) },
+X  	{ "Hippocrates", S_HUMAN, 20, 12, 0, 40, 0, (G_NOGEN | G_UNIQ),
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2381,2386 ****
+X--- 2703,2716 ----
+X  	  M2_NOPOLY | M2_ORC | M2_HOSTILE | M2_STRONG | M2_STALK | M2_NASTY |
+X  	  M2_MALE | M2_GREEDY | M2_JEWELS | M2_COLLECT | M2_MAGIC,
+X  	  M3_WANTSARTI | M3_WAITFORU, C(HI_LORD) },
+X+ 	{ "Bill Gates", S_HUMAN, 20, 10, 10, 0, -15, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_WEAP, AD_PHYS, 4, 8 }, { AT_BITE, AD_PHYS, 6, 8 },
+X+ 	    { AT_TENT, AD_DRIN, 2, 1 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_NEMESIS, MZ_HUMAN, 0, 0, 
+X+ 	  M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_HUMAN | M2_STRONG | M2_STALK | M2_PNAME | 
+X+ 	  M2_HOSTILE | M2_NASTY | M2_MALE, M3_WANTSARTI | M3_WAITFORU,
+X+ 	  C(HI_LORD) },
+X  	{ "Cyclops", S_GIANT, 18, 10, 0, 0, -15, (G_NOGEN | G_UNIQ),
+X  	  { { AT_WEAP, AD_PHYS, 4, 8 }, { AT_WEAP, AD_PHYS, 4, 8 },
+X  	    { AT_CLAW, AD_SAMU, 2, 6 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2474,2479 ****
+X--- 2804,2815 ----
+X  	  WT_ELF, 350, 0, MS_GUARDIAN, MZ_HUMAN, MR_SLEEP, MR_SLEEP,
+X  	  M1_HUMANOID | M1_OMNIVORE,
+X  	  M2_NOPOLY | M2_ELF | M2_PEACEFUL | M2_COLLECT, 0, C(HI_DOMESTIC) },
+X+ 	{ "hacker", S_HUMAN, 5, 12, 10, 10, 1, G_NOGEN,
+X+ 	  { { AT_WEAP, AD_PHYS, 2, 4 }, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_GUARDIAN, MZ_HUMAN, 0, 0,
+X+ 	  M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_HUMAN | M2_PEACEFUL, 0, C(HI_DOMESTIC) },
+X  	{ "attendant", S_HUMAN, 5, 10, 10, 10, 3, G_NOGEN,
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X*** /tmp/tmp.1285	Sat May 28 21:18:03 1994
+X--- ./src/monmove.c	Sun Apr 17 13:13:18 1994
+X***************
+X*** 923,929 ****
+X  	    /* Place a segment at the old position. */
+X  	    if (mtmp->wormno) worm_move(mtmp);
+X  	} else {
+X! 	    if(ptr->mlet == S_UNICORN && rn2(2)) {
+X  		rloc(mtmp);
+X  		return(1);
+X  	    }
+X--- 923,929 ----
+X  	    /* Place a segment at the old position. */
+X  	    if (mtmp->wormno) worm_move(mtmp);
+X  	} else {
+X! 	    if(ptr->mlet == S_UNICORN && ptr != &mons[PM_YOUNG_UNICORN] && rn2(2)) {
+X  		rloc(mtmp);
+X  		return(1);
+X  	    }
+X*** /tmp/tmp.1285	Sat May 28 21:18:07 1994
+X--- ./src/objects.c	Sun May 22 19:53:26 1994
+X***************
+X*** 89,102 ****
+X  WEAPON("spear",         NULL,           1, 1, 0, 50, 30,  3, 6, 8, 0, IRON, HI_METAL),
+X  WEAPON("elven spear",   "runed spear",  0, 1, 0, 10, 30,  3, 7, 8, 0, IRON, HI_METAL),
+X  WEAPON("orcish spear",  "crude spear",  0, 1, 0, 13, 30,  3, 5, 8, 0, IRON, BLACK),
+X! WEAPON("dwarvish spear", "stout spear", 0, 1, 0, 12, 35,  3, 8, 8, 0, IRON, HI_METAL),
+X  WEAPON("javelin",       "throwing spear",0,1, 0, 10, 20,  3, 6, 6, 0, IRON, HI_METAL),
+X  WEAPON("trident",       NULL,           1, 0, 0,  8, 25,  5, 6, 4, 0, IRON, HI_METAL),
+X  						/* +1 small, +2d4 large */
+X  WEAPON("lance",         NULL,           1, 0, 0,  8,180, 10, 6, 8, 0, IRON, HI_METAL),
+X  
+X  /* blades */
+X! WEAPON("dagger",        NULL,           1, 1, 0, 25, 10,  4,  4,  3, 2, IRON, HI_METAL),
+X  WEAPON("elven dagger",  "runed dagger", 0, 1, 0,  8, 10,  4,  5,  3, 2, IRON, HI_METAL),
+X  WEAPON("orcish dagger", "crude dagger", 0, 1, 0, 10, 10,  4,  3,  3, 2, IRON, BLACK),
+X  WEAPON("athame",        NULL,           1, 1, 0,  0, 10,  4,  4,  3, 2, IRON, HI_METAL),
+X--- 89,102 ----
+X  WEAPON("spear",         NULL,           1, 1, 0, 50, 30,  3, 6, 8, 0, IRON, HI_METAL),
+X  WEAPON("elven spear",   "runed spear",  0, 1, 0, 10, 30,  3, 7, 8, 0, IRON, HI_METAL),
+X  WEAPON("orcish spear",  "crude spear",  0, 1, 0, 13, 30,  3, 5, 8, 0, IRON, BLACK),
+X! WEAPON("dwarvish spear", "stout spear", 0, 1, 0, 12, 30,  3, 8, 8, 0, IRON, HI_METAL),
+X  WEAPON("javelin",       "throwing spear",0,1, 0, 10, 20,  3, 6, 6, 0, IRON, HI_METAL),
+X  WEAPON("trident",       NULL,           1, 0, 0,  8, 25,  5, 6, 4, 0, IRON, HI_METAL),
+X  						/* +1 small, +2d4 large */
+X  WEAPON("lance",         NULL,           1, 0, 0,  8,180, 10, 6, 8, 0, IRON, HI_METAL),
+X  
+X  /* blades */
+X! WEAPON("dagger",        NULL,           1, 1, 0, 20, 10,  4,  4,  3, 2, IRON, HI_METAL),
+X  WEAPON("elven dagger",  "runed dagger", 0, 1, 0,  8, 10,  4,  5,  3, 2, IRON, HI_METAL),
+X  WEAPON("orcish dagger", "crude dagger", 0, 1, 0, 10, 10,  4,  3,  3, 2, IRON, BLACK),
+X  WEAPON("athame",        NULL,           1, 1, 0,  0, 10,  4,  4,  3, 2, IRON, HI_METAL),
+X***************
+X*** 105,113 ****
+X  WEAPON("stiletto",      NULL,           1, 1, 0,  5,  5,  4,  3,  2, 0, IRON, HI_METAL),
+X  WEAPON("worm tooth",    NULL,           1, 0, 0,  0, 20,  2,  2,  2, 0, 0, WHITE),
+X  WEAPON("crysknife",     NULL,           1, 0, 0,  0, 20,100, 10, 10, 3, MINERAL, WHITE),
+X  WEAPON("dwarvish mattock",      "heavy pick",
+X  					0, 0, 1, 13,120, 50,12, 8,-1, IRON, HI_METAL),
+X! WEAPON("axe",           NULL,           1, 0, 0, 40, 60,  8,  6,  4, 0, IRON, HI_METAL),
+X  WEAPON("battle-axe","double-headed axe",0, 0, 1, 10,120, 40,  8,  6, 0, IRON, HI_METAL),
+X  						/* "double-bitted" ? */
+X  
+X--- 105,115 ----
+X  WEAPON("stiletto",      NULL,           1, 1, 0,  5,  5,  4,  3,  2, 0, IRON, HI_METAL),
+X  WEAPON("worm tooth",    NULL,           1, 0, 0,  0, 20,  2,  2,  2, 0, 0, WHITE),
+X  WEAPON("crysknife",     NULL,           1, 0, 0,  0, 20,100, 10, 10, 3, MINERAL, WHITE),
+X+ WEAPON("tooth of an algolian suntiger",	"very sharp tooth",
+X+ 					0, 0, 0,  5, 10,500, 20, 20, 5, 0, WHITE),
+X  WEAPON("dwarvish mattock",      "heavy pick",
+X  					0, 0, 1, 13,120, 50,12, 8,-1, IRON, HI_METAL),
+X! WEAPON("axe",           NULL,           1, 0, 0, 35, 60,  8,  6,  4, 0, IRON, HI_METAL),
+X  WEAPON("battle-axe","double-headed axe",0, 0, 1, 10,120, 40,  8,  6, 0, IRON, HI_METAL),
+X  						/* "double-bitted" ? */
+X  
+X***************
+X*** 126,135 ****
+X  WEAPON("elven broadsword", "runed broadsword",
+X  					0, 0, 0,  4, 70, 10,  6,  6, 0, IRON, HI_METAL),
+X  						/* +d4 small, +1 large */
+X! WEAPON("long sword", NULL,		1, 0, 0, 50, 40, 15,  8, 12, 0, IRON, HI_METAL),
+X! WEAPON("two-handed sword", NULL,	1, 0, 1, 22,150, 50, 12,  6, 0, IRON, HI_METAL),
+X  						/* +2d6 large */
+X  WEAPON("katana", "samurai sword",	0, 0, 0,  4, 40, 80, 10, 12, 1, IRON, HI_METAL),
+X  /* two set-up-for-artifacts swords */
+X  						/* +2d6 large */
+X  WEAPON("tsurugi", "long samurai sword", 0, 0, 1,  0, 60,500, 16,  8, 2, METAL, HI_METAL),
+X--- 128,138 ----
+X  WEAPON("elven broadsword", "runed broadsword",
+X  					0, 0, 0,  4, 70, 10,  6,  6, 0, IRON, HI_METAL),
+X  						/* +d4 small, +1 large */
+X! WEAPON("long sword", NULL,		1, 0, 0, 45, 40, 15,  8, 12, 0, IRON, HI_METAL),
+X! WEAPON("two-handed sword", NULL,	1, 0, 1, 27,150, 50, 12,  6, 0, IRON, HI_METAL),
+X  						/* +2d6 large */
+X  WEAPON("katana", "samurai sword",	0, 0, 0,  4, 40, 80, 10, 12, 1, IRON, HI_METAL),
+X+ WEAPON("electric sword", NULL,		1, 0, 0,  5, 60,200, 12, 16, 2, IRON, HI_METAL),
+X  /* two set-up-for-artifacts swords */
+X  						/* +2d6 large */
+X  WEAPON("tsurugi", "long samurai sword", 0, 0, 1,  0, 60,500, 16,  8, 2, METAL, HI_METAL),
+X***************
+X*** 341,353 ****
+X  
+X  /* gloves */
+X  ARMOR("leather gloves", "old gloves",
+X! 	0, 0, 0, 0,	       16, 1, 10,   8,	9, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of fumbling", "padded gloves",
+X! 	0, 1, 0, FUMBLING,	8, 1, 10,  50,	9, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of power", "riding gloves",
+X! 	0, 1, 0, 0,		8, 1, 30,  50,	9, 0, IRON,    BROWN),
+X  ARMOR("gauntlets of dexterity", "fencing gloves",
+X! 	0, 1, 0, 0,		8, 1, 10,  50,	9, 0, LEATHER, HI_LEATHER),
+X  
+X  /* boots */
+X  ARMOR("low boots", "walking shoes",
+X--- 344,358 ----
+X  
+X  /* gloves */
+X  ARMOR("leather gloves", "old gloves",
+X! 	0, 0, 0, 0,	       15, 1, 10,   8,	9, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of fumbling", "padded gloves",
+X! 	0, 1, 0, FUMBLING,	7, 1, 10,  50,	9, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of power", "riding gloves",
+X! 	0, 1, 0, 0,		7, 1, 30,  50,	9, 0, IRON,    BROWN),
+X! ARMOR("gauntlets of typing", "brand-new gloves",
+X! 	0, 1, 0, 0,		4, 1, 10,  50,  8, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of dexterity", "fencing gloves",
+X! 	0, 1, 0, 0,		7, 1, 10,  50,	9, 0, LEATHER, HI_LEATHER),
+X  
+X  /* boots */
+X  ARMOR("low boots", "walking shoes",
+X***************
+X*** 403,408 ****
+X--- 408,415 ----
+X  RING("see invisible",     "engagement", SEE_INVIS,      150, 1, 0, IRON,     HI_METAL),
+X  RING("protection from shape changers", "shiny", PROT_FROM_SHAPE_CHANGERS,
+X  							100, 1, 0, IRON,     BRIGHT_CYAN),
+X+ RING("health",		  "glass",	0,		150, 1, 1, GLASS,	HI_GLASS),
+X+ RING("timely backup",	  "rusty",	0,		150, 1, 0, IRON,     BROWN),
+X  #undef RING
+X  
+X  /* amulets ... - THE Amulet comes last because it is special */
+X***************
+X*** 410,423 ****
+X  		OBJ(name,desc), BITS(0,0,0,0,1,0,0,0,0,0,IRON), power, \
+X  		AMULET_CLASS, prob, 0, 20, 150, 0, 0, 0, 0, 20, HI_METAL )
+X  
+X! AMULET("amulet of ESP",           "circular",   TELEPAT,    180),
+X! AMULET("amulet of life saving",   "spherical",  LIFESAVED,   80),
+X! AMULET("amulet of strangulation", "oval",       STRANGLED,  140),
+X! AMULET("amulet of restful sleep", "triangular", SLEEPING,   140),
+X  AMULET("amulet versus poison",    "pyramidal",  POISON_RES, 170),
+X! AMULET("amulet of change",        "square",     0,          140),
+X  						/* POLYMORPH */
+X  AMULET("amulet of reflection",    "hexagonal",  REFLECTING,  80),
+X  AMULET("amulet of magical breathing", "octagonal",	MAGICAL_BREATHING, 70),
+X  OBJECT(OBJ("cheap plastic imitation of the Amulet of Yendor",
+X  	"Amulet of Yendor"), BITS(0,0,1,0,0,0,0,0,0,0,PLASTIC), 0,
+X--- 417,432 ----
+X  		OBJ(name,desc), BITS(0,0,0,0,1,0,0,0,0,0,IRON), power, \
+X  		AMULET_CLASS, prob, 0, 20, 150, 0, 0, 0, 0, 20, HI_METAL )
+X  
+X! AMULET("amulet of ESP",           "circular",   TELEPAT,    140),
+X! AMULET("amulet of life saving",   "spherical",  LIFESAVED,   70),
+X! AMULET("amulet of strangulation", "oval",       STRANGLED,  100),
+X! AMULET("amulet of restful sleep", "triangular", SLEEPING,   120),
+X  AMULET("amulet versus poison",    "pyramidal",  POISON_RES, 170),
+X! AMULET("amulet of change",        "square",     0,          100),
+X  						/* POLYMORPH */
+X  AMULET("amulet of reflection",    "hexagonal",  REFLECTING,  80),
+X+ AMULET("amulet of second chance", "tetraedical",SECOND_CHANCE, 150),
+X+ AMULET("amulet of data storage",  "icosaedrical", 0,		0),
+X  AMULET("amulet of magical breathing", "octagonal",	MAGICAL_BREATHING, 70),
+X  OBJECT(OBJ("cheap plastic imitation of the Amulet of Yendor",
+X  	"Amulet of Yendor"), BITS(0,0,1,0,0,0,0,0,0,0,PLASTIC), 0,
+X***************
+X*** 441,477 ****
+X  		TOOL_CLASS, prob, 0, \
+X  		wt, cost, sdam, ldam, hitbon, 0, wt, color )
+X  /* containers */
+X! CONTAINER("large box",	    NULL,   1, 0, 0,  40,350,   8, WOOD, HI_WOOD),
+X! CONTAINER("chest",	    NULL,   1, 0, 0,  35,600,  16, WOOD, HI_WOOD),
+X  CONTAINER("ice box",	    NULL,   1, 0, 0,   5,900,  42, PLASTIC, WHITE),
+X! CONTAINER("sack",	    "bag",  0, 0, 0,  35, 15,   2, CLOTH, HI_CLOTH),
+X  CONTAINER("oilskin sack",   "bag",  0, 0, 0,   5, 15, 100, CLOTH, HI_CLOTH),
+X  CONTAINER("bag of holding", "bag",  0, 1, 0,  20, 15, 100, CLOTH, HI_CLOTH),
+X  CONTAINER("bag of tricks",  "bag",  0, 1, 1,  20, 15, 100, CLOTH, HI_CLOTH),
+X  #undef CONTAINER
+X  /* lock opening tools */
+X  TOOL("skeleton key",    "key",  0, 0, 0, 0,  80,  3,    10, IRON, HI_METAL),
+X  #ifdef TOURIST
+X! TOOL("lock pick",       NULL,   1, 0, 0, 0,  60,  4,    20, IRON, HI_METAL),
+X  TOOL("credit card",     NULL,   1, 0, 0, 0,  15,  1,    10, PLASTIC, WHITE),
+X  #else
+X! TOOL("lock pick",       NULL,   1, 0, 0, 0,  75,  4,    20, IRON, HI_METAL),
+X  #endif
+X  /* light sources */
+X  TOOL("tallow candle", "candle", 0, 1, 0, 0,  20,  2,    10, WAX, WHITE),
+X  TOOL("wax candle",    "candle", 0, 1, 0, 0,   5,  2,    20, WAX, WHITE),
+X  #ifdef WALKIES
+X  TOOL("brass lantern",   NULL,   1, 0, 0, 0,  30,100,    10, COPPER, YELLOW),
+X! TOOL("oil lamp",        "lamp", 0, 0, 0, 0,  45, 80,    10, COPPER, YELLOW),
+X  #else
+X  TOOL("brass lantern",   NULL,   1, 0, 0, 0,  45,100,    10, COPPER, YELLOW),
+X! TOOL("oil lamp",        "lamp", 0, 0, 0, 0,  75, 80,    10, COPPER, YELLOW),
+X  #endif
+X! TOOL("magic lamp",      "lamp", 0, 0, 1, 0,  15, 80,    50, COPPER, YELLOW),
+X  /* other tools */
+X  #ifdef TOURIST
+X  TOOL("expensive camera", NULL,  1, 0, 0, 0,  15, 30,   200, PLASTIC, BLACK),
+X! TOOL("mirror", "looking glass", 0, 0, 0, 0,  45, 13,    10, GLASS, SILVER),
+X  #else
+X  TOOL("mirror", "looking glass", 0, 0, 0, 0,  60, 13,    10, GLASS, SILVER),
+X  #endif
+X--- 450,490 ----
+X  		TOOL_CLASS, prob, 0, \
+X  		wt, cost, sdam, ldam, hitbon, 0, wt, color )
+X  /* containers */
+X! CONTAINER("large box",	    NULL,   1, 0, 0,  25,350,   8, WOOD, HI_WOOD),
+X! CONTAINER("chest",	    NULL,   1, 0, 0,  25,600,  16, WOOD, HI_WOOD),
+X  CONTAINER("ice box",	    NULL,   1, 0, 0,   5,900,  42, PLASTIC, WHITE),
+X! CONTAINER("Schroedinger's Box","large box",
+X! 				    0, 0, 0,   0,350, 100, WOOD, HI_WOOD),
+X! CONTAINER("sack",	    "bag",  0, 0, 0,  25, 15,   2, CLOTH, HI_CLOTH),
+X  CONTAINER("oilskin sack",   "bag",  0, 0, 0,   5, 15, 100, CLOTH, HI_CLOTH),
+X  CONTAINER("bag of holding", "bag",  0, 1, 0,  20, 15, 100, CLOTH, HI_CLOTH),
+X+ CONTAINER("bag of digestion","bag", 0, 1, 0,  10, 15, 100, CLOTH, HI_CLOTH),
+X  CONTAINER("bag of tricks",  "bag",  0, 1, 1,  20, 15, 100, CLOTH, HI_CLOTH),
+X+ 
+X  #undef CONTAINER
+X  /* lock opening tools */
+X  TOOL("skeleton key",    "key",  0, 0, 0, 0,  80,  3,    10, IRON, HI_METAL),
+X  #ifdef TOURIST
+X! TOOL("lock pick",       NULL,   1, 0, 0, 0,  40,  4,    20, IRON, HI_METAL),
+X  TOOL("credit card",     NULL,   1, 0, 0, 0,  15,  1,    10, PLASTIC, WHITE),
+X  #else
+X! TOOL("lock pick",       NULL,   1, 0, 0, 0,  55,  4,    20, IRON, HI_METAL),
+X  #endif
+X  /* light sources */
+X  TOOL("tallow candle", "candle", 0, 1, 0, 0,  20,  2,    10, WAX, WHITE),
+X  TOOL("wax candle",    "candle", 0, 1, 0, 0,   5,  2,    20, WAX, WHITE),
+X  #ifdef WALKIES
+X  TOOL("brass lantern",   NULL,   1, 0, 0, 0,  30,100,    10, COPPER, YELLOW),
+X! TOOL("oil lamp",        "lamp", 0, 0, 0, 0,  20, 80,    10, COPPER, YELLOW),
+X  #else
+X  TOOL("brass lantern",   NULL,   1, 0, 0, 0,  45,100,    10, COPPER, YELLOW),
+X! TOOL("oil lamp",        "lamp", 0, 0, 0, 0,  20, 80,    10, COPPER, YELLOW),
+X  #endif
+X! TOOL("magic lamp",      "lamp", 0, 0, 1, 0,  80, 80,    50, COPPER, YELLOW),
+X  /* other tools */
+X  #ifdef TOURIST
+X  TOOL("expensive camera", NULL,  1, 0, 0, 0,  15, 30,   200, PLASTIC, BLACK),
+X! TOOL("mirror", "looking glass", 0, 0, 0, 0,  40, 13,    10, GLASS, SILVER),
+X  #else
+X  TOOL("mirror", "looking glass", 0, 0, 0, 0,  60, 13,    10, GLASS, SILVER),
+X  #endif
+X***************
+X*** 479,498 ****
+X  				0, 0, 1, 1,  15,150,	60, GLASS, HI_GLASS),
+X  TOOL("blindfold",       NULL,   1, 0, 0, 0,  55,  2,    20, CLOTH, BLACK),
+X  #ifdef WALKIES
+X! TOOL("towel",           NULL,   1, 0, 0, 0,  50,  2,    50, CLOTH, MAGENTA),
+X! TOOL("leash",           NULL,   1, 0, 0, 0,  70, 12,    20, LEATHER, HI_LEATHER),
+X  #else
+X! TOOL("towel",           NULL,   1, 0, 0, 0,  75,  3,    50, CLOTH, MAGENTA),
+X  #endif
+X  TOOL("stethoscope",     NULL,   1, 0, 0, 0,  25,  4,    75, IRON, HI_METAL),
+X  TOOL("tinning kit",     NULL,   1, 0, 0, 0,  15,100,    30, IRON, HI_METAL),
+X  TOOL("tin opener",      NULL,   1, 0, 0, 0,  35,  4,    30, IRON, HI_METAL),
+X  TOOL("can of grease",   NULL,   1, 0, 0, 1,  15, 15,    20, IRON, HI_METAL),
+X! TOOL("figurine",        NULL,   1, 0, 1, 0,  25, 50,    80, MINERAL, HI_MINERAL),
+X  TOOL("magic marker",    NULL,   1, 0, 1, 1,  15,  2,    50, PLASTIC, RED),
+X  /* instruments */
+X  TOOL("tin whistle",   "whistle",
+X! 				0, 0, 0, 0, 105,  3,	10, METAL, HI_METAL),
+X  TOOL("magic whistle", "whistle",
+X  				0, 0, 1, 0,  30,  3,	10, METAL, HI_METAL),
+X  /* "If tin whistles are made out of tin, what do they make foghorns out of?" */
+X--- 492,529 ----
+X  				0, 0, 1, 1,  15,150,	60, GLASS, HI_GLASS),
+X  TOOL("blindfold",       NULL,   1, 0, 0, 0,  55,  2,    20, CLOTH, BLACK),
+X  #ifdef WALKIES
+X! TOOL("towel",           NULL,   1, 0, 0, 0,  40,  2,    50, CLOTH, MAGENTA),
+X! TOOL("leash",           NULL,   1, 0, 0, 0,  40, 12,    20, LEATHER, HI_LEATHER),
+X  #else
+X! TOOL("towel",           NULL,   1, 0, 0, 0,  55,  3,    50, CLOTH, MAGENTA),
+X  #endif
+X  TOOL("stethoscope",     NULL,   1, 0, 0, 0,  25,  4,    75, IRON, HI_METAL),
+X  TOOL("tinning kit",     NULL,   1, 0, 0, 0,  15,100,    30, IRON, HI_METAL),
+X  TOOL("tin opener",      NULL,   1, 0, 0, 0,  35,  4,    30, IRON, HI_METAL),
+X  TOOL("can of grease",   NULL,   1, 0, 0, 1,  15, 15,    20, IRON, HI_METAL),
+X! TOOL("figurine",        NULL,   1, 0, 1, 0,  15, 50,    80, MINERAL, HI_MINERAL),
+X  TOOL("magic marker",    NULL,   1, 0, 1, 1,  15,  2,    50, PLASTIC, RED),
+X+ TOOL("Hitchhiker's Guide To The Galaxy", "highly-complicated electronic device",
+X+ 				0, 0, 0, 0,   0, 42,  1000, IRON, HI_METAL),
+X+ TOOL("diode",		"two-wired thing",
+X+ 				0, 1, 0, 0,   0,  5,    50, IRON, WHITE),
+X+ TOOL("transistor",	"three-wired thing",
+X+ 				0, 1, 0, 0,   0,  5,   100, IRON, WHITE),
+X+ TOOL("IC",              "many-wired thing",
+X+ 				0, 1, 0, 0,   0,  5,  5000, IRON, WHITE),
+X+ TOOL("pack of floppies",	"box containing little plastic cards",
+X+ 				0, 1, 0, 0,   2, 30,   300,PLASTIC, RED),
+X+ TOOL("god-o-meter",	"highly-complicated electronic device",
+X+ 				0, 0, 0, 0,  18, 50,   500, IRON, HI_METAL),
+X+ TOOL("relay",		"four-wired thing",	
+X+ 				0, 1, 0, 0,   2,  8,   100, IRON, WHITE),
+X+ TOOL("bottle",		NULL,
+X+ 				1, 1, 0, 0,  20, 20,     5, GLASS, HI_METAL),
+X+ TOOL("chemistry set",	"box of obscure-looking glass devices",
+X+ 				0, 0, 0, 1,  50,200,   500, GLASS, ORANGE_COLORED),
+X  /* instruments */
+X  TOOL("tin whistle",   "whistle",
+X! 				0, 0, 0, 0, 73,  3,	10, METAL, HI_METAL),
+X  TOOL("magic whistle", "whistle",
+X  				0, 0, 1, 0,  30,  3,	10, METAL, HI_METAL),
+X  /* "If tin whistles are made out of tin, what do they make foghorns out of?" */
+X***************
+X*** 556,561 ****
+X--- 587,595 ----
+X  #else
+X  	FOOD("slice of pizza",      75, 1,  3, 0, VEGGY, 250, RED),
+X  #endif
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	FOOD("peanut bag",	     0, 3, 10, 0, VEGGY, 800, HI_ORGANIC),
+X+ #endif
+X  	/* human food */
+X  	FOOD("lump of royal jelly",  0, 1,  2, 0, VEGGY, 200, YELLOW),
+X  	FOOD("cream pie",           25, 1, 10, 0, VEGGY, 100, WHITE),
+X***************
+X*** 564,570 ****
+X  	FOOD("pancake",             25, 2,  2, 0, VEGGY, 200, YELLOW),
+X  	FOOD("lembas wafer",        20, 2,  5, 0, VEGGY, 800, WHITE),
+X  	FOOD("cram ration",         20, 3, 15, 0, VEGGY, 600, HI_ORGANIC),
+X! 	FOOD("food ration",        381, 5, 20, 0, VEGGY, 800, HI_ORGANIC),
+X  #ifdef ARMY
+X  	FOOD("K-ration",             0, 1, 10, 0, VEGGY, 400, HI_ORGANIC),
+X  	FOOD("C-ration",             0, 1, 10, 0, VEGGY, 300, HI_ORGANIC),
+X--- 598,605 ----
+X  	FOOD("pancake",             25, 2,  2, 0, VEGGY, 200, YELLOW),
+X  	FOOD("lembas wafer",        20, 2,  5, 0, VEGGY, 800, WHITE),
+X  	FOOD("cram ration",         20, 3, 15, 0, VEGGY, 600, HI_ORGANIC),
+X! 	FOOD("food ration",        331, 5, 20, 0, VEGGY, 800, HI_ORGANIC),
+X! 	FOOD("Hacker's Food",	    50, 1, 20, 0, VEGGY, 800, HI_METAL),
+X  #ifdef ARMY
+X  	FOOD("K-ration",             0, 1, 10, 0, VEGGY, 400, HI_ORGANIC),
+X  	FOOD("C-ration",             0, 1, 10, 0, VEGGY, 300, HI_ORGANIC),
+X***************
+X*** 578,600 ****
+X  		POTION_CLASS, prob, 0, 20, cost, 0, 0, 0, 0, 10, color )
+X  POTION("gain ability",      "ruby",           1, 0,          45, 300, RED),
+X  POTION("restore ability",   "pink",           1, 0,          45, 100, BRIGHT_MAGENTA),
+X! POTION("confusion",         "orange",         1, CONFUSION,  45, 100, ORANGE_COLORED),
+X! POTION("blindness",         "yellow",         1, BLINDED,    45, 150, YELLOW),
+X  POTION("paralysis",         "emerald",        1, 0,          45, 300, BRIGHT_GREEN),
+X  POTION("speed",             "dark green",     1, FAST,       45, 200, GREEN),
+X  POTION("levitation",        "cyan",           1, LEVITATION, 45, 200, CYAN),
+X! POTION("hallucination",     "sky blue",       1, HALLUC,     45, 100, CYAN),
+X! POTION("invisibility",      "brilliant blue", 1, INVIS,      45, 150, BRIGHT_BLUE),
+X  POTION("see invisible",     "magenta",        1, SEE_INVIS,  45,  50, MAGENTA),
+X! POTION("healing",           "purple-red",     1, 0,          65, 100, MAGENTA),
+X  POTION("extra healing",     "puce",           1, 0,          50, 100, RED),
+X  POTION("gain level",        "milky",          1, 0,          20, 300, WHITE),
+X  POTION("enlightenment",     "swirly",         1, 0,          20, 200, BROWN),
+X! POTION("monster detection", "bubbly",         1, 0,          45, 150, WHITE),
+X! POTION("object detection",  "smoky",          1, 0,          45, 150, GRAY),
+X! POTION("gain energy",       "cloudy",         1, 0,          45, 150, WHITE),
+X! POTION("booze",             "brown",          0, 0,          45,  50, BROWN),
+X! POTION("sickness",          "fizzy",          0, 0,          45,  50, CYAN),
+X  POTION("fruit juice",       "dark",           0, 0,          45,  50, BLACK),
+X  POTION("water",             "clear",          0, 0,         125, 100, CYAN),
+X  #undef POTION
+X--- 613,644 ----
+X  		POTION_CLASS, prob, 0, 20, cost, 0, 0, 0, 0, 10, color )
+X  POTION("gain ability",      "ruby",           1, 0,          45, 300, RED),
+X  POTION("restore ability",   "pink",           1, 0,          45, 100, BRIGHT_MAGENTA),
+X! POTION("confusion",         "orange",         1, CONFUSION,  35, 100, ORANGE_COLORED),
+X! POTION("blindness",         "yellow",         1, BLINDED,    40, 150, YELLOW),
+X  POTION("paralysis",         "emerald",        1, 0,          45, 300, BRIGHT_GREEN),
+X  POTION("speed",             "dark green",     1, FAST,       45, 200, GREEN),
+X  POTION("levitation",        "cyan",           1, LEVITATION, 45, 200, CYAN),
+X! POTION("hallucination",     "sky blue",       1, HALLUC,     35, 100, CYAN),
+X! POTION("invisibility",      "brilliant blue", 1, INVIS,      40, 150, BRIGHT_BLUE),
+X  POTION("see invisible",     "magenta",        1, SEE_INVIS,  45,  50, MAGENTA),
+X! POTION("healing",           "purple-red",     1, 0,          50, 100, MAGENTA),
+X  POTION("extra healing",     "puce",           1, 0,          50, 100, RED),
+X  POTION("gain level",        "milky",          1, 0,          20, 300, WHITE),
+X  POTION("enlightenment",     "swirly",         1, 0,          20, 200, BROWN),
+X! POTION("monster detection", "bubbly",         1, 0,          35, 150, WHITE),
+X! POTION("object detection",  "smoky",          1, 0,          35, 150, GRAY),
+X! POTION("gain energy",       "cloudy",         1, 0,          40, 150, WHITE),
+X! POTION("extreme power",	    "turquoise",      1, 0, 	     20, 300, CYAN),
+X! POTION("recovery",	    "blood-red",      1, 0,          20, 300, RED),
+X! POTION("invulnerability",   "blood-green",    1, 0, 	     10, 500, GREEN),
+X! POTION("heroism",	    "tan",	      1, 0,           5, 700, BROWN),
+X! POTION("booze",             "brown",          0, 0,          30,  50, BROWN),
+X! POTION("sickness",          "fizzy",          0, 0,          35,  50, CYAN),
+X! POTION("cyanide",	    "vermillion",     0, 0,           0,  50, RED),
+X! POTION("radium",	    "crimson",        0, 0,           0,  50, RED),
+X! POTION("Jolt Cola",	    "illegal",	      0, 0,          30,  50, BROWN),
+X! POTION("Pan Galactic Gargle Blaster",
+X! 			    "shining",	      0, 0,          10, 100, WHITE),
+X  POTION("fruit juice",       "dark",           0, 0,          45,  50, BLACK),
+X  POTION("water",             "clear",          0, 0,         125, 100, CYAN),
+X  #undef POTION
+X***************
+X*** 603,627 ****
+X  #define SCROLL(name,text,mgc,prob,cost) OBJECT( \
+X  		OBJ(name,text), BITS(0,1,0,0,mgc,0,0,0,0,0,PAPER), 0, \
+X  		SCROLL_CLASS, prob, 0, 5, cost, 0, 0, 0, 0, 6, HI_PAPER )
+X! 	SCROLL("enchant armor",         "ZELGO MER",            1,  63,  80),
+X! 	SCROLL("destroy armor",         "JUYED AWK YACC",       1,  45, 100),
+X  	SCROLL("confuse monster",       "NR 9",                 1,  53, 100),
+X  	SCROLL("scare monster",         "XIXAXA XOXAXA XUXAXA", 1,  35, 100),
+X  	SCROLL("remove curse",          "PRATYAVAYAH",          1,  65,  80),
+X! 	SCROLL("enchant weapon",        "DAIYEN FOOELS",        1,  85,  60),
+X  	SCROLL("create monster",        "LEP GEX VEN ZEA",      1,  45, 200),
+X  	SCROLL("taming",                "PRIRUTSENIE",          1,  15, 200),
+X  	SCROLL("genocide",              "ELBIB YLOH",           1,  15, 300),
+X! 	SCROLL("light",                 "VERR YED HORRE",       1,  95,  50),
+X  	SCROLL("teleportation",         "VENZAR BORGAVVE",      1,  55, 100),
+X  	SCROLL("gold detection",        "THARR",                1,  33, 100),
+X  	SCROLL("food detection",        "YUM YUM",              1,  25, 100),
+X! 	SCROLL("identify",              "KERNOD WEL",           1, 185,  20),
+X  	SCROLL("magic mapping",         "ELAM EBOW",            1,  45, 100),
+X! 	SCROLL("amnesia",               "DUAM XNAHT",           1,  35, 200),
+X! 	SCROLL("fire",                  "ANDOVA BEGARIN",       1,  48, 100),
+X! 	SCROLL("punishment",            "VE FORBRYDERNE",       1,  15, 300),
+X  	SCROLL("charging",              "HACKEM MUCHE",         1,  15, 300),
+X  	SCROLL(NULL,			"VELOX NEB",            1,   0, 100),
+X  	SCROLL(NULL,			"FOOBIE BLETCH",        1,   0, 100),
+X  	SCROLL(NULL,			"TEMOV",                1,   0, 100),
+X--- 647,678 ----
+X  #define SCROLL(name,text,mgc,prob,cost) OBJECT( \
+X  		OBJ(name,text), BITS(0,1,0,0,mgc,0,0,0,0,0,PAPER), 0, \
+X  		SCROLL_CLASS, prob, 0, 5, cost, 0, 0, 0, 0, 6, HI_PAPER )
+X! 	SCROLL("enchant armor",         "ZELGO MER",            1,  53,  80),
+X! 	SCROLL("destroy armor",         "JUYED AWK YACC",       1,  20, 100),
+X  	SCROLL("confuse monster",       "NR 9",                 1,  53, 100),
+X  	SCROLL("scare monster",         "XIXAXA XOXAXA XUXAXA", 1,  35, 100),
+X  	SCROLL("remove curse",          "PRATYAVAYAH",          1,  65,  80),
+X! 	SCROLL("enchant weapon",        "DAIYEN FOOELS",        1,  80,  60),
+X  	SCROLL("create monster",        "LEP GEX VEN ZEA",      1,  45, 200),
+X  	SCROLL("taming",                "PRIRUTSENIE",          1,  15, 200),
+X  	SCROLL("genocide",              "ELBIB YLOH",           1,  15, 300),
+X! 	SCROLL("light",                 "VERR YED HORRE",       1,  65,  50),
+X  	SCROLL("teleportation",         "VENZAR BORGAVVE",      1,  55, 100),
+X  	SCROLL("gold detection",        "THARR",                1,  33, 100),
+X  	SCROLL("food detection",        "YUM YUM",              1,  25, 100),
+X! 	SCROLL("identify",              "KERNOD WEL",           1, 180,  20),
+X  	SCROLL("magic mapping",         "ELAM EBOW",            1,  45, 100),
+X! 	SCROLL("amnesia",               "DUAM XNAHT",           1,  20, 200),
+X! 	SCROLL("fire",                  "ANDOVA BEGARIN",       1,  28, 100),
+X! 	SCROLL("punishment",            "VE FORBRYDERNE",       1,  10, 300),
+X  	SCROLL("charging",              "HACKEM MUCHE",         1,  15, 300),
+X+ 	SCROLL("mass murder",		"ENEMATZU MEMALEZU",	1,  20, 200),
+X+ 	SCROLL("undo genocide",		"42",			1,   5, 500),
+X+ 	SCROLL("reverse identify",	"OH CAPTAIN MY CAPTAIN",1,  40,  30),
+X+ /*	SCROLL("wishing",		"TRICK 13",		1,   0, 400), */
+X+ 	SCROLL("consecration",		"MAY THE FORCE BE WITH YOU",
+X+ 								1,  50, 300),
+X+ 	SCROLL("root password detection","XYZZY",		1,   0,1000),
+X  	SCROLL(NULL,			"VELOX NEB",            1,   0, 100),
+X  	SCROLL(NULL,			"FOOBIE BLETCH",        1,   0, 100),
+X  	SCROLL(NULL,			"TEMOV",                1,   0, 100),
+X***************
+X*** 646,672 ****
+X  SPELL("cone of cold",    "dog eared",   10,  8, 5, 1, RAY,       HI_PAPER),
+X  SPELL("sleep",           "mottled",     50,  1, 1, 1, RAY,       HI_PAPER),
+X  SPELL("finger of death", "stained",      5, 10, 7, 1, RAY,       HI_PAPER),
+X! SPELL("light",           "cloth",       45,  1, 1, 1, NODIR,     HI_CLOTH),
+X! SPELL("detect monsters", "leather",     45,  1, 1, 1, NODIR,     HI_LEATHER),
+X  SPELL("healing",         "white",       40,  2, 1, 1, IMMEDIATE, WHITE),
+X  SPELL("knock",           "pink",        36,  1, 1, 1, IMMEDIATE, BRIGHT_MAGENTA),
+X! SPELL("force bolt",      "red",         35,  2, 1, 1, IMMEDIATE, RED),
+X! SPELL("confuse monster", "orange",      37,  2, 2, 1, IMMEDIATE, ORANGE_COLORED),
+X! SPELL("cure blindness",  "yellow",      27,  2, 2, 1, IMMEDIATE, YELLOW),
+X  SPELL("slow monster",    "light green", 37,  2, 2, 1, IMMEDIATE, BRIGHT_GREEN),
+X! SPELL("wizard lock",     "dark green",  35,  3, 2, 1, IMMEDIATE, GREEN),
+X! SPELL("create monster",  "turquoise",   37,  3, 2, 1, NODIR,     BRIGHT_CYAN),
+X! SPELL("detect food",     "cyan",        37,  3, 2, 1, NODIR,     CYAN),
+X  SPELL("cause fear",      "light blue",  25,  3, 3, 1, NODIR,     BRIGHT_BLUE),
+X  SPELL("clairvoyance",    "dark blue",   15,  3, 3, 1, NODIR,     BLUE),
+X  SPELL("cure sickness",   "indigo",      32,  3, 3, 1, NODIR,     BLUE),
+X  SPELL("charm monster",   "magenta",     20,  3, 3, 1, IMMEDIATE, MAGENTA),
+X! SPELL("haste self",      "purple",      33,  4, 3, 1, NODIR,     MAGENTA),
+X! SPELL("detect unseen",   "violet",      20,  4, 3, 1, NODIR,     MAGENTA),
+X! SPELL("levitation",      "tan",         20,  4, 4, 1, NODIR,     BROWN),
+X  SPELL("extra healing",   "plaid",       35,  5, 3, 1, IMMEDIATE, GREEN),
+X  SPELL("restore ability", "light brown", 25,  5, 4, 1, NODIR,     BROWN),
+X! SPELL("invisibility",    "dark brown",  32,  5, 4, 1, NODIR,     BROWN),
+X  SPELL("detect treasure", "gray",        25,  5, 4, 1, NODIR,     GRAY),
+X  SPELL("remove curse",    "white",       25,  5, 5, 1, NODIR,     WHITE),
+X  SPELL("magic mapping",   "dusty",       18,  7, 5, 1, NODIR,     HI_PAPER),
+X--- 697,723 ----
+X  SPELL("cone of cold",    "dog eared",   10,  8, 5, 1, RAY,       HI_PAPER),
+X  SPELL("sleep",           "mottled",     50,  1, 1, 1, RAY,       HI_PAPER),
+X  SPELL("finger of death", "stained",      5, 10, 7, 1, RAY,       HI_PAPER),
+X! SPELL("light",           "cloth",       35,  1, 1, 1, NODIR,     HI_CLOTH),
+X! SPELL("detect monsters", "leather",     35,  1, 1, 1, NODIR,     HI_LEATHER),
+X  SPELL("healing",         "white",       40,  2, 1, 1, IMMEDIATE, WHITE),
+X  SPELL("knock",           "pink",        36,  1, 1, 1, IMMEDIATE, BRIGHT_MAGENTA),
+X! SPELL("force bolt",      "red",         30,  2, 1, 1, IMMEDIATE, RED),
+X! SPELL("confuse monster", "orange",      30,  2, 2, 1, IMMEDIATE, ORANGE_COLORED),
+X! SPELL("cure blindness",  "yellow",      24,  2, 2, 1, IMMEDIATE, YELLOW),
+X  SPELL("slow monster",    "light green", 37,  2, 2, 1, IMMEDIATE, BRIGHT_GREEN),
+X! SPELL("wizard lock",     "dark green",  25,  3, 2, 1, IMMEDIATE, GREEN),
+X! SPELL("create monster",  "turquoise",   27,  3, 2, 1, NODIR,     BRIGHT_CYAN),
+X! SPELL("detect food",     "cyan",        27,  3, 2, 1, NODIR,     CYAN),
+X  SPELL("cause fear",      "light blue",  25,  3, 3, 1, NODIR,     BRIGHT_BLUE),
+X  SPELL("clairvoyance",    "dark blue",   15,  3, 3, 1, NODIR,     BLUE),
+X  SPELL("cure sickness",   "indigo",      32,  3, 3, 1, NODIR,     BLUE),
+X  SPELL("charm monster",   "magenta",     20,  3, 3, 1, IMMEDIATE, MAGENTA),
+X! SPELL("haste self",      "purple",      20,  4, 3, 1, NODIR,     MAGENTA),
+X! SPELL("detect unseen",   "violet",      15,  4, 3, 1, NODIR,     MAGENTA),
+X! SPELL("levitation",      "tan",         18,  4, 4, 1, NODIR,     BROWN),
+X  SPELL("extra healing",   "plaid",       35,  5, 3, 1, IMMEDIATE, GREEN),
+X  SPELL("restore ability", "light brown", 25,  5, 4, 1, NODIR,     BROWN),
+X! SPELL("invisibility",    "dark brown",  27,  5, 4, 1, NODIR,     BROWN),
+X  SPELL("detect treasure", "gray",        25,  5, 4, 1, NODIR,     GRAY),
+X  SPELL("remove curse",    "white",       25,  5, 5, 1, NODIR,     WHITE),
+X  SPELL("magic mapping",   "dusty",       18,  7, 5, 1, NODIR,     HI_PAPER),
+X***************
+X*** 676,681 ****
+X--- 727,734 ----
+X  SPELL("teleport away",   "gold",        15,  6, 6, 1, IMMEDIATE, HI_GOLD),
+X  SPELL("create familiar", "glittering",  10,  7, 6, 1, NODIR,     WHITE),
+X  SPELL("cancellation",    "shining",     15,  8, 7, 1, IMMEDIATE, WHITE),
+X+ SPELL("finger",		 "old",		40,  3, 2, 1, IMMEDIATE, HI_PAPER),
+X+ SPELL("chemistry",	 "brand-new",	50, 10, 1, 1, NODIR,     HI_PAPER),
+X  SPELL(NULL,		 "dull",         0,  0, 0, 1, 0,         HI_PAPER),
+X  SPELL(NULL,		 "thin",         0,  0, 0, 1, 0,         HI_PAPER),
+X  SPELL(NULL,		 "thick",        0,  0, 0, 1, 0,         HI_PAPER),
+X***************
+X*** 690,718 ****
+X  #define WAND(name,typ,prob,cost,mgc,dir,metal,color) OBJECT( \
+X  		OBJ(name,typ), BITS(0,0,1,0,mgc,1,0,0,0,dir,metal), 0, WAND_CLASS, \
+X  		prob, 0, 7, cost, 0, 0, 0, 0, 30, color )
+X! WAND("light",           "glass",        95, 100, 1, NODIR,     GLASS,    HI_GLASS),
+X! WAND("secret door detection", "balsa",  50, 150, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("create monster",  "maple",        45, 200, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("wishing",         "pine",          5, 500, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("nothing",         "oak",          25, 100, 0, IMMEDIATE, WOOD,     HI_WOOD),
+X! WAND("striking",        "ebony",        75, 150, 1, IMMEDIATE, WOOD,     HI_WOOD),
+X  WAND("make invisible",  "marble",       45, 150, 1, IMMEDIATE, MINERAL,  HI_MINERAL),
+X  WAND("slow monster",    "tin",          55, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X! WAND("speed monster",   "brass",        55, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+X! WAND("undead turning",  "copper",       55, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+X  WAND("polymorph",       "silver",       45, 200, 1, IMMEDIATE, SILVER,   HI_SILVER),
+X  WAND("cancellation",    "platinum",     45, 200, 1, IMMEDIATE, PLATINUM, WHITE),
+X  WAND("teleportation",   "iridium",      45, 200, 1, IMMEDIATE, METAL,    BRIGHT_CYAN),
+X  WAND("opening",         "zinc",         25, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X  WAND("locking",         "aluminum",     25, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X! WAND("probing",         "uranium",      30, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X  WAND("digging",         "iron",         55, 150, 1, RAY,       IRON,     HI_METAL),
+X  WAND("magic missile",   "steel",        50, 150, 1, RAY,       IRON,     HI_METAL),
+X  WAND("fire",            "hexagonal",    40, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND("cold",            "short",        40, 175, 1, RAY,       IRON,     HI_METAL),
+X! WAND("sleep",           "runed",        50, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND("death",           "long",          5, 500, 1, RAY,       IRON,     HI_METAL),
+X  WAND("lightning",       "curved",       40, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND(NULL,		"forked",        0, 150, 1, 0,         WOOD,     HI_WOOD),
+X  WAND(NULL,		"spiked",        0, 150, 1, 0,         IRON,     HI_METAL),
+X  WAND(NULL,		"jeweled",       0, 150, 1, 0,         IRON,     HI_MINERAL),
+X--- 743,777 ----
+X  #define WAND(name,typ,prob,cost,mgc,dir,metal,color) OBJECT( \
+X  		OBJ(name,typ), BITS(0,0,1,0,mgc,1,0,0,0,dir,metal), 0, WAND_CLASS, \
+X  		prob, 0, 7, cost, 0, 0, 0, 0, 30, color )
+X! WAND("light",           "glass",        75, 100, 1, NODIR,     GLASS,    HI_GLASS),
+X! WAND("secret door detection", "balsa",  30, 150, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("create monster",  "maple",        45, 200, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("wishing",         "pine",          5, 500, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("nothing",         "oak",          25, 100, 0, IMMEDIATE, WOOD,     HI_WOOD),
+X! WAND("striking",        "ebony",        25, 150, 1, IMMEDIATE, WOOD,     HI_WOOD),
+X  WAND("make invisible",  "marble",       45, 150, 1, IMMEDIATE, MINERAL,  HI_MINERAL),
+X  WAND("slow monster",    "tin",          55, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X! WAND("speed monster",   "brass",        45, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+X! WAND("undead turning",  "copper",       45, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+X  WAND("polymorph",       "silver",       45, 200, 1, IMMEDIATE, SILVER,   HI_SILVER),
+X  WAND("cancellation",    "platinum",     45, 200, 1, IMMEDIATE, PLATINUM, WHITE),
+X  WAND("teleportation",   "iridium",      45, 200, 1, IMMEDIATE, METAL,    BRIGHT_CYAN),
+X  WAND("opening",         "zinc",         25, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X  WAND("locking",         "aluminum",     25, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X! WAND("probing",         "uranium",      15, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X  WAND("digging",         "iron",         55, 150, 1, RAY,       IRON,     HI_METAL),
+X  WAND("magic missile",   "steel",        50, 150, 1, RAY,       IRON,     HI_METAL),
+X  WAND("fire",            "hexagonal",    40, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND("cold",            "short",        40, 175, 1, RAY,       IRON,     HI_METAL),
+X! WAND("sleep",           "runed",        45, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND("death",           "long",          5, 500, 1, RAY,       IRON,     HI_METAL),
+X  WAND("lightning",       "curved",       40, 175, 1, RAY,       IRON,     HI_METAL),
+X+ WAND("acid",		"bent",		40, 200, 1, RAY,       METAL,	 HI_METAL),
+X+ WAND("draining",	"octogonal",	40, 250, 1, IMMEDIATE, IRON,	 HI_METAL),
+X+ WAND("wonder",		"elven-lettered",
+X+ 					50, 150, 1, NODIR,     IRON,	 HI_METAL),
+X+ WAND("bugging",		"wooden",
+X+ 					 0, 200, 1, NODIR,     WOOD,	 HI_METAL),
+X  WAND(NULL,		"forked",        0, 150, 1, 0,         WOOD,     HI_WOOD),
+X  WAND(NULL,		"spiked",        0, 150, 1, 0,         IRON,     HI_METAL),
+X  WAND(NULL,		"jeweled",       0, 150, 1, 0,         IRON,     HI_MINERAL),
+X*** /tmp/tmp.1285	Sat May 28 21:18:08 1994
+X--- ./src/options.c	Wed Mar 30 16:52:09 1994
+X***************
+X*** 288,295 ****
+X  	obj_descr[SLIME_MOLD].oc_name = "fruit";
+X  #endif
+X  	if (flags.female)  {	/* should have been set in NETHACKOPTIONS */
+X  		roles[2] = "Cavewoman";
+X! 		roles[6] = "Priestess";
+X  	}
+X  }
+X  
+X--- 288,297 ----
+X  	obj_descr[SLIME_MOLD].oc_name = "fruit";
+X  #endif
+X  	if (flags.female)  {	/* should have been set in NETHACKOPTIONS */
+X+ #ifndef SCO_CC
+X  		roles[2] = "Cavewoman";
+X! 		roles[7] = "Priestess";
+X! #endif
+X  	}
+X  }
+X  
+X***************
+X*** 1141,1147 ****
+X  }
+X  
+X  /* data for option_help() */
+X! static const char *opt_intro[] = {
+X  	"",
+X  	"                 NetHack Options Help:",
+X  	"",
+X--- 1143,1149 ----
+X  }
+X  
+X  /* data for option_help() */
+X! static /* const */ char *opt_intro[] = {
+X  	"",
+X  	"                 NetHack Options Help:",
+X  	"",
+X***************
+X*** 1181,1187 ****
+X--- 1183,1193 ----
+X      } else
+X  #endif
+X  	Sprintf(buf, "Set options as OPTIONS=<options> in %s;", configfile);
+X+ #ifdef SCO_CC
+X+     opt_intro[CONFIG_SLOT][0] = 0;
+X+ #else
+X      opt_intro[CONFIG_SLOT] = (const char *) buf;
+X+ #endif
+X      for (i = 0; opt_intro[i]; i++)
+X  	putstr(datawin, 0, opt_intro[i]);
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:18:09 1994
+X--- ./src/mplayer.c	Sat Mar 19 15:14:07 1994
+X***************
+X*** 154,159 ****
+X--- 154,162 ----
+X  		case PM_ELF:
+X  		    weapon = ELVEN_SHORT_SWORD;
+X  		    break;
+X+ 		case PM_GEEK:
+X+ 		    weapon = ELECTRIC_SWORD;
+X+ 		    break;
+X  		case PM_HEALER:
+X  		    weapon = SCALPEL;
+X  		    break;
+X*** /tmp/tmp.1285	Sat May 28 21:18:11 1994
+X--- ./src/objnam.c	Sun May 22 15:09:54 1994
+X***************
+X*** 5,11 ****
+X  #include "hack.h"
+X  
+X  /* "an uncursed partly eaten guardian naga hatchling corpse" */
+X! #define	PREFIX	50
+X  #define SCHAR_LIM 127
+X  
+X  STATIC_DCL char *FDECL(strprepend,(char *,const char *));
+X--- 5,13 ----
+X  #include "hack.h"
+X  
+X  /* "an uncursed partly eaten guardian naga hatchling corpse" */
+X! /* "an uncursed 100% eaten ravenous bugblatter beast of traal corpse" */
+X! /* #define	PREFIX	50 */
+X! #define	PREFIX	120		/* just to be sure */
+X  #define SCHAR_LIM 127
+X  
+X  STATIC_DCL char *FDECL(strprepend,(char *,const char *));
+X***************
+X*** 415,421 ****
+X  {
+X  	boolean ispoisoned = FALSE;
+X  	char prefix[PREFIX];
+X! 	char tmpbuf[PREFIX+1];
+X  	/* when we have to add something at the start of prefix instead of the
+X  	 * end (Strcat is used on the end)
+X  	 */
+X--- 417,423 ----
+X  {
+X  	boolean ispoisoned = FALSE;
+X  	char prefix[PREFIX];
+X! 	char tmpbuf[PREFIX+1],tmpbuf2[PREFIX+1];
+X  	/* when we have to add something at the start of prefix instead of the
+X  	 * end (Strcat is used on the end)
+X  	 */
+X***************
+X*** 440,445 ****
+X--- 442,451 ----
+X  	} else
+X  		Strcpy(prefix, "a ");
+X  
+X+ 	if (obj->selfmade) {
+X+ 		Strcat(prefix,"selfmade ");
+X+ 	}
+X+ 
+X  	if (obj->bknown && 
+X  	    obj->oclass != GOLD_CLASS &&
+X  	    (obj->otyp != POT_WATER || !objects[POT_WATER].oc_name_known
+X***************
+X*** 561,568 ****
+X  		}
+X  		break;
+X  	case FOOD_CLASS:
+X! 		if (obj->oeaten)
+X! 		    Strcat(prefix, "partly eaten ");
+X  		if (obj->otyp == CORPSE) {
+X  		    if (type_is_pname(&mons[obj->corpsenm])) {
+X  			Sprintf(prefix, "%s ",
+X--- 567,582 ----
+X  		}
+X  		break;
+X  	case FOOD_CLASS:
+X! 		if (obj->oeaten) {
+X! /*		    Strcat(prefix, "partly eaten "); */
+X! 		    float total;
+X! 		    total = (float) (obj->otyp == CORPSE) ? 
+X! 			mons[obj->corpsenm].cnutrit :
+X! 			objects[obj->otyp].oc_nutrition ;
+X! 		    sprintf(tmpbuf2,"%2.0f%% eaten ",
+X! 			100.0 - (100.0 * ((float) obj->oeaten) / total));
+X! 		    Strcat(prefix, tmpbuf2);
+X! 		}
+X  		if (obj->otyp == CORPSE) {
+X  		    if (type_is_pname(&mons[obj->corpsenm])) {
+X  			Sprintf(prefix, "%s ",
+X***************
+X*** 1075,1081 ****
+X  	/* find "cloves of garlic", "worthless pieces of blue glass" */
+X  	if ((p = strstri(bp, "s of ")) != 0) {
+X  	    /* but don't singularize "gauntlets" */
+X! 	    if (BSTRNCMP(bp, p-8, "gauntlet", 8))
+X  		while ((*p = *(p+1)) != 0) p++;
+X  	    return bp;
+X  	}
+X--- 1089,1099 ----
+X  	/* find "cloves of garlic", "worthless pieces of blue glass" */
+X  	if ((p = strstri(bp, "s of ")) != 0) {
+X  	    /* but don't singularize "gauntlets" */
+X! 	    if (BSTRNCMP(bp, p-8, "gauntlet", 8)
+X! #ifdef DOUGLAS_ADAMS
+X! 		&& BSTRNCMP(bp, p-7, "peanuts", 7)
+X! #endif
+X! 	    )
+X  		while ((*p = *(p+1)) != 0) p++;
+X  	    return bp;
+X  	}
+X*** /tmp/tmp.1285	Sat May 28 21:18:12 1994
+X--- ./src/pickup.c	Sat Apr 23 14:36:14 1994
+X***************
+X*** 15,20 ****
+X--- 15,22 ----
+X  static void FDECL(check_here, (BOOLEAN_P));
+X  static int FDECL(pickup_object, (struct obj *,struct obj *));
+X  static boolean FDECL(mbag_explodes, (struct obj *,int));
+X+ STATIC_PTR void FDECL(collapse_box_waveform, (struct obj *));
+X+ STATIC_PTR int FDECL(in_container_,(struct obj *,BOOLEAN_P));
+X  STATIC_PTR int FDECL(in_container,(struct obj *));
+X  STATIC_PTR int FDECL(ck_bag,(struct obj *));
+X  STATIC_PTR int FDECL(out_container,(struct obj *));
+X***************
+X*** 652,660 ****
+X  static NEARDATA struct obj *current_container;
+X  #define Icebox (current_container->otyp == ICE_BOX)
+X  
+X  STATIC_PTR int
+X! in_container(obj)
+X  register struct obj *obj;
+X  {
+X  	register struct obj *gold;
+X  	boolean is_gold = (obj->otyp == GOLD_PIECE);
+X--- 654,673 ----
+X  static NEARDATA struct obj *current_container;
+X  #define Icebox (current_container->otyp == ICE_BOX)
+X  
+X+ int put_into_container(struct obj *container, struct obj *obj)
+X+ {
+X+ 	struct obj *t;
+X+ 
+X+ 	t = current_container;
+X+ 	current_container = container;
+X+ 	in_container_(obj,FALSE);
+X+ 	current_container = t;
+X+ }
+X+ 
+X  STATIC_PTR int
+X! in_container_(obj,invobj)
+X  register struct obj *obj;
+X+ boolean invobj;
+X  {
+X  	register struct obj *gold;
+X  	boolean is_gold = (obj->otyp == GOLD_PIECE);
+X***************
+X*** 718,724 ****
+X  		return 0;
+X  	}
+X  
+X! 	freeinv(obj);
+X  
+X  	if (is_gold) {	/* look for other gold within the container */
+X  		for (gold = current_container->cobj; gold; gold = gold->nobj)
+X--- 731,737 ----
+X  		return 0;
+X  	}
+X  
+X! 	if (invobj) freeinv(obj);
+X  
+X  	if (is_gold) {	/* look for other gold within the container */
+X  		for (gold = current_container->cobj; gold; gold = gold->nobj)
+X***************
+X*** 736,742 ****
+X  	current_container->owt = weight(current_container);
+X  
+X  	Strcpy(buf, the(xname(current_container)));
+X! 	You("put %s into %s.", doname(obj), buf);
+X  
+X  	if (floor_container && costly_spot(u.ux, u.uy)) {
+X  		sellobj_state(TRUE);
+X--- 749,755 ----
+X  	current_container->owt = weight(current_container);
+X  
+X  	Strcpy(buf, the(xname(current_container)));
+X! 	if (invobj) You("put %s into %s.", doname(obj), buf);
+X  
+X  	if (floor_container && costly_spot(u.ux, u.uy)) {
+X  		sellobj_state(TRUE);
+X***************
+X*** 780,785 ****
+X--- 793,805 ----
+X  }
+X  
+X  STATIC_PTR int
+X+ in_container(obj)
+X+ register struct obj *obj;
+X+ {
+X+ 	in_container_(obj,TRUE);
+X+ }
+X+ 
+X+ STATIC_PTR int
+X  ck_bag(obj)
+X  struct obj *obj;
+X  {
+X***************
+X*** 864,869 ****
+X--- 884,911 ----
+X  	return 1;
+X  }
+X  
+X+ STATIC_PTR void
+X+ collapse_box_waveform(obj)
+X+ register struct obj *obj;
+X+ {
+X+ 	struct obj *otmp;
+X+ 
+X+ 	pline("The waveform of the box collapses. ");
+X+ 	obj->otyp = LARGE_BOX;
+X+ 	
+X+ 	otmp = mksobj(POT_RADIUM,TRUE,FALSE);
+X+ 	put_into_container(obj,otmp);
+X+ 
+X+ 	if (rn2(100) > 50) {
+X+ 		otmp = mkcorpstat_(CORPSE,PM_SCHROEDINGER_S_CAT,TRUE);
+X+ 		put_into_container(obj,otmp);
+X+ 	} else {
+X+ 		otmp = mksobj(POT_CYANIDE,TRUE,FALSE);
+X+ 		put_into_container(obj,otmp);
+X+ 		makemon(&mons[PM_SCHROEDINGER_S_CAT],u.ux,u.uy);
+X+ 	}
+X+ }
+X+ 
+X  /* for getobj: allow counts, allow all types, expect food */
+X  static NEARDATA const char frozen_food[] =
+X  	{ ALLOW_COUNT, ALL_CLASSES, FOOD_CLASS, 0 };
+X***************
+X*** 882,887 ****
+X--- 924,931 ----
+X  	long loss = 0L;
+X  	register struct monst *shkp;
+X  
+X+ 	if (obj->otyp == SCHROEDINGER_S_BOX) collapse_box_waveform(obj);
+X+ 
+X  	current_container = obj;	/* for use by in/out_container */
+X  	if (current_container->olocked) {
+X  		pline("%s seems to be locked.", The(xname(current_container)));
+X***************
+X*** 889,899 ****
+X  		return 0;
+X  	}
+X  	/* Count the number of contained objects. Sometimes toss objects if */
+X! 	/* a cursed magic bag.						    */
+X  	prev = (struct obj *) 0;
+X  	for (curr = obj->cobj; curr; curr = otmp) {
+X  	    otmp = curr->nobj;
+X! 	    if (Is_mbag(obj) && obj->cursed && !rn2(13)) {
+X  		if (curr->known)
+X  		    pline("%s to have vanished!", The(aobjnam(curr,"seem")));
+X  		else
+X--- 933,944 ----
+X  		return 0;
+X  	}
+X  	/* Count the number of contained objects. Sometimes toss objects if */
+X! 	/* a cursed magic bag or a bag of digestion			    */
+X  	prev = (struct obj *) 0;
+X  	for (curr = obj->cobj; curr; curr = otmp) {
+X  	    otmp = curr->nobj;
+X! 	    if ((Is_mbag(obj) && obj->cursed && !rn2(13)) || 
+X! 		 (obj->otyp == BAG_OF_DIGESTION && !rn2(obj->blessed ? 20 : (obj->cursed ? 2 : 10)))) {
+X  		if (curr->known)
+X  		    pline("%s to have vanished!", The(aobjnam(curr,"seem")));
+X  		else
+X*** /tmp/tmp.1285	Sat May 28 21:18:13 1994
+X--- ./src/pager.c	Wed Mar 30 16:54:06 1994
+X***************
+X*** 570,576 ****
+X  }
+X  
+X  /* data for help_menu() */
+X! static const char *help_menu_items[] = {
+X  	"Information available:",
+X  	"",
+X  	"a.  Long description of the game and commands.",
+X--- 570,576 ----
+X  }
+X  
+X  /* data for help_menu() */
+X! static /* const */ char *help_menu_items[] = {
+X  	"Information available:",
+X  	"",
+X  	"a.  Long description of the game and commands.",
+X*** /tmp/tmp.1285	Sat May 28 21:18:16 1994
+X--- ./src/pray.c	Wed Apr 13 19:22:55 1994
+X***************
+X*** 38,43 ****
+X--- 38,44 ----
+X  {'C', /* Babylonian */		"Anu", "Ishtar", "Anshar"},
+X  {'E', /* Elven */		"Solonor Thelandira",
+X  					"Aerdrie Faenya", "Erevan Ilesere"},
+X+ {'G', /* Computerian */		"UNIX", "the PDP-7", "VMS"},
+X  {'H', /* Greek */		"Athena", "Hermes", "Poseidon"},
+X  {'K', /* Celtic */		"Lugh", "Brigit", "Macannan Mac Lir"},
+X  {'P', /* Chinese */		"Shan Lai Ching", "Chih Sung-tzu", "Huan Ti"},
+X***************
+X*** 660,666 ****
+X  		    verbalize("Thou shalt be my Envoy of Balance!");
+X  		    if (uwep && uwep->oartifact == ART_VORPAL_BLADE) {
+X  			obj = uwep;	/* to be blessed and rustproofed */
+X! 			Your("%s goes snicker-snack!", xname(obj));
+X  			obj->dknown = TRUE;
+X  		    } else if (!exist_artifact(LONG_SWORD,
+X  						artiname(ART_VORPAL_BLADE))) {
+X--- 661,669 ----
+X  		    verbalize("Thou shalt be my Envoy of Balance!");
+X  		    if (uwep && uwep->oartifact == ART_VORPAL_BLADE) {
+X  			obj = uwep;	/* to be blessed and rustproofed */
+X! 			/* Your("%s goes snicker-snack!", xname(obj)); */
+X! 			/* snicker-snack is now for Jabberwock decapitation. */
+X! 			You("take your vorpal sword in hand.");
+X  			obj->dknown = TRUE;
+X  		    } else if (!exist_artifact(LONG_SWORD,
+X  						artiname(ART_VORPAL_BLADE))) {
+X*** /tmp/tmp.1285	Sat May 28 21:18:18 1994
+X--- ./src/potion.c	Sun May 22 20:05:04 1994
+X***************
+X*** 182,187 ****
+X--- 182,202 ----
+X  	}
+X  }
+X  
+X+ /* For game balance we don't always want a bottle made. */
+X+ static void make_bottle(boolean certain)
+X+ {
+X+ 	struct obj *otmp;
+X+ 
+X+ 	if (certain || !rn2(8)) {
+X+ 		otmp = mksobj(BOTTLE,TRUE,TRUE);
+X+ /* We do not transfer curses/blessings, assuming that these a property
+X+ ** of the actual potion, not the bottle. */
+X+ 		otmp->cursed = otmp->blessed = FALSE;
+X+ 		You("are left with the empty bottle.");
+X+ 		hold_another_object(otmp,"Oops! It drops to the floor!",(const char *) 0, (const char *) 0);
+X+ 	}
+X+ }
+X+ 
+X  static void
+X  ghost_from_bottle()
+X  {
+X***************
+X*** 189,194 ****
+X--- 204,210 ----
+X  
+X  	if (!mtmp) {
+X  		pline("This bottle turns out to be empty.");
+X+ 		make_bottle(TRUE);
+X  		return;
+X  	}
+X  	if (Blind) {
+X***************
+X*** 201,206 ****
+X--- 217,223 ----
+X  	    You("are frightened to death, and unable to move.");
+X  	nomul(-3);
+X  	nomovemsg = "You regain your composure.";
+X+ 	make_bottle(FALSE);
+X  }
+X  
+X  int
+X***************
+X*** 269,274 ****
+X--- 286,292 ----
+X  			docall(otmp);
+X  	}
+X  	useup(otmp);
+X+ 	make_bottle(FALSE);
+X  	return(1);
+X  }
+X  
+X***************
+X*** 278,283 ****
+X--- 296,323 ----
+X  {
+X  	register int i, ii, isdone;
+X  
+X+ 	if (otmp->selfmade && !(5-rnl(6))) {
+X+ 		pline("That potion was bad!");
+X+ 		switch(rnl(5)) {
+X+ 			case 0:
+X+ 			case 1:
+X+ 			case 2:
+X+ 				break;
+X+ 
+X+ 			case 3:
+X+ 				if (Poison_resistance) break;
+X+ 				You("feel sick.");
+X+ 				losehp(rnd(20),"bad chemical knowledge",KILLED_BY);
+X+ 				break;
+X+ 
+X+ 			case 4:
+X+ 				make_sick((long)(10+rn2(10)),FALSE);
+X+ 				u.usick_cause = "a bad potion";
+X+ 				break;
+X+ 		}
+X+ 		return(-1);
+X+ 	}
+X+ 
+X  	switch(otmp->otyp){
+X  	case POT_RESTORE_ABILITY:
+X  	case SPE_RESTORE_ABILITY:
+X***************
+X*** 382,389 ****
+X  		break;
+X  	case POT_ENLIGHTENMENT:
+X  		if(otmp->cursed) {
+X  			unkn++;
+X! 			You("have an uneasy feeling...");
+X  		} else {
+X  			if (otmp->blessed) {
+X  				(void) adjattrib(A_INT, 1, FALSE);
+X--- 422,438 ----
+X  		break;
+X  	case POT_ENLIGHTENMENT:
+X  		if(otmp->cursed) {
+X+ 			int x,y;
+X+ 
+X  			unkn++;
+X! /* I've got a better idea :-) */
+X! /*			You("have an uneasy feeling..."); */
+X! 			You("feel enlightened.");
+X! 			for (x=1;x<COLNO;x++) {
+X! 				for (y=0;y<ROWNO;y++) {
+X! 					levl[x][y].lit = TRUE;
+X! 				}
+X! 			}			
+X  		} else {
+X  			if (otmp->blessed) {
+X  				(void) adjattrib(A_INT, 1, FALSE);
+X***************
+X*** 659,664 ****
+X--- 708,826 ----
+X  			exercise(A_WIS, TRUE);
+X  		}
+X  		break;
+X+ 	case POT_CYANIDE:
+X+ 		pline("CN(-) + HCl <==> HCN + Cl(-) ");
+X+ 		killer_format = KILLED_BY;
+X+ 		killer = "drinking cyanide";
+X+ 		done(DIED);
+X+ 		break;
+X+ 	case POT_RADIUM:
+X+ 		pline("This was radioactive radium!");
+X+ 		make_sick(10,TRUE);
+X+ 		break;
+X+ 	case POT_JOLT_COLA:
+X+ 		You("are jolted back to your senses.");
+X+ 		if (otmp->cursed) {
+X+ 			You("feel bad.");
+X+ 			u.uhp -= rn2(10);
+X+ 			if (u.uhp < 1) u.uhp = 1;	/* can't kill you */
+X+ 		} else {
+X+ 			if (Hallucination) make_hallucinated(0L,FALSE,0L);
+X+ 			if (otmp->blessed && !rn2(10)) {
+X+ 				pluslvl();
+X+ 			} else {
+X+ 				u.uhp += 5;
+X+ 				if (u.uhp > u.uhpmax) {
+X+ 					if (otmp->blessed) u.uhpmax++;
+X+ 					u.uhp = u.uhpmax;
+X+ 				}
+X+ 			}
+X+ 		}
+X+ 		break;
+X+ 
+X+ 	case POT_EXTREME_POWER:
+X+ 	{
+X+ 		int x;
+X+ 
+X+ 		x = rn2(otmp->blessed ? 20 : 10) + 1;
+X+ 		if (otmp->cursed) {
+X+ 			unkn++;
+X+ 			You("have a bad taste in your mouth.");
+X+ 			if (x >= u.uhp) x = u.uhp-1;
+X+ 			losehp(x,"",0);		/* can't kill you */
+X+ 			u.uhpmax -= x;
+X+ 			break;
+X+ 		}
+X+ 		You("feel %spowerful!",otmp->blessed ? "very " : "");
+X+ 		u.uhp += x;
+X+ 		u.uhpmax += x;
+X+ 	} break;
+X+ 
+X+ 	case POT_RECOVERY: 
+X+ 		if (otmp->cursed) {
+X+ 			unkn++;
+X+ 			You("decide to recover yourself.");
+X+ 			pline("Nothing happens, however.");
+X+ 			break;
+X+ 		}	
+X+ 		if (otmp->blessed) u.uhpmax += rn2(5);
+X+ 		u.uhp = u.uhpmax;
+X+ 		You("feel much, much better.");
+X+ 		break;
+X+ 
+X+ 	case POT_INVULNERABILITY:
+X+ 		if (otmp->cursed) {
+X+ 			You("feel invulnerable for a moment.");
+X+ 			break;
+X+ 		}	
+X+ 		You("are surrounded by a shimmering light.");
+X+ 		u.uinvul_time = 5 + rn2(otmp->blessed ? 20 : 10);
+X+ 		u.uinvulnerable = TRUE;
+X+ 		break;
+X+ 
+X+ 	case POT_HEROISM: {
+X+ 		/* a total overhaul ... */
+X+ 		int time;
+X+ 
+X+ 		if (otmp->cursed) {
+X+ 			You("feel cowardly.");
+X+ 			if (u.uinvul_time > 1) u.uinvul_time = 1;
+X+ 			break;
+X+ 		}
+X+ 		You("are surrounded by a strong shimmering aura.");
+X+ 		time = 10 + rn2(otmp->blessed ? 20 : 10);
+X+ 		u.uinvul_time += time;
+X+ 		u.uinvulnerable = TRUE;
+X+ 		Fast += time;
+X+ 		HSee_invisible += time;
+X+ 		if (!rnl(3)) make_blinded(Blinded+time,TRUE);	
+X+ 		u.uhpmax += rn2(5);
+X+ 		u.uhp = u.uhpmax;
+X+ 		} break;
+X+ 
+X+ 	case POT_PAN_GALACTIC_GARGLE_BLASTE:
+X+ 		You("feel like having your brain smashed out by a slice of lemon wrapped");
+X+ 		pline("around a large gold brick.");
+X+ 		if (otmp->cursed || !rn2(4)) {
+X+ 			adjattrib(A_INT,-1,-1);
+X+ 		}
+X+ 		make_confused(HConfusion + d(6,7));	/* 6d7 is max. 42 */
+X+ 		if (otmp->blessed || !rn2(4) || u.ulycn != -1) {
+X+ 			if (u.ulycn != -1) {
+X+ 				You("feel purified.");
+X+ 				if (uasmon == &mons[u.ulycn]) {
+X+ 					rehumanize();
+X+ 				}
+X+ 				u.ulycn = -1;
+X+ 			}
+X+ 			You("feel remembered of %s.",
+X+ 			Hallucination ? "Zaphod Breeblebrox"
+X+ 				      : "very, very strong liquor.");
+X+ 			if (u.uhp < u.uhpmax) u.uhp++;
+X+ 			pline("Strangely, you feel better that before.");
+X+ 		}
+X+ 		break;	
+X+ 				
+X  	default:
+X  		impossible("What a funny potion! (%u)", otmp->otyp);
+X  		return(0);
+X***************
+X*** 769,774 ****
+X--- 931,955 ----
+X  		if (canseemon(mon))
+X  		    pline("%s looks rather ill.", Monnam(mon));
+X  		break;
+X+ 	case POT_CYANIDE:
+X+ 		if (!resist(mon,POTION_CLASS,0,NOTELL)) {
+X+ 			if (mon->mhp < 10) {
+X+ 				killed(mon);
+X+ 			} else {
+X+ 				mon->mhp = 1;
+X+ 			}
+X+ 		}
+X+ 		if (canseemon(mon)) {
+X+ 			pline("%s looks very, very sick.", Monnam(mon));
+X+ 		}
+X+ 		break;
+X+ 	case POT_RADIUM:
+X+ 		if (!resist(mon,POTION_CLASS,0,NOTELL)) {
+X+ 			mon->mhp /= 4;
+X+ 			if (mon->mhp < 1) killed(mon);
+X+ 		}
+X+ 		if (canseemon(mon)) pline("%s looks very sick.",Monnam(mon));
+X+ 		break;
+X  	case POT_CONFUSION:
+X  	case POT_BOOZE:
+X  		if(!resist(mon, POTION_CLASS, 0, NOTELL))  mon->mconf = TRUE;
+X***************
+X*** 888,893 ****
+X--- 1069,1088 ----
+X  			exercise(A_CON, FALSE);
+X  		}
+X  		break;
+X+ 	case POT_CYANIDE:
+X+ 		if (u.uhp < 10) {
+X+ 			/* DEATH */
+X+ 			losehp(10,"a potion of cyanide",KILLED_BY);
+X+ 		} else {
+X+ 			u.uhp = 1;
+X+ 		}
+X+ 		You("feel very, very sick!");
+X+ 		break;
+X+ 	case POT_RADIUM:
+X+ 		u.uhp /= 4;
+X+ 		if (u.uhp < 1) u.uhp = 1;		/* be generous */
+X+ 		You("feel very sick!");
+X+ 		break;
+X  	case POT_HALLUCINATION:
+X  		You("have a momentary vision.");
+X  		break;
+X***************
+X*** 956,961 ****
+X--- 1151,1157 ----
+X  		case POT_HALLUCINATION:
+X  		case POT_BLINDNESS:
+X  		case POT_CONFUSION:
+X+ 		case POT_CYANIDE:
+X  			if (o2->otyp == POT_HEALING ||
+X  			    o2->otyp == POT_EXTRA_HEALING)
+X  				return TRUE;
+X***************
+X*** 965,971 ****
+X  			if (o2->otyp == POT_SICKNESS ||
+X  			    o2->otyp == POT_HALLUCINATION ||
+X  			    o2->otyp == POT_BLINDNESS ||
+X! 			    o2->otyp == POT_CONFUSION)
+X  				return TRUE;
+X  	}
+X  
+X--- 1161,1168 ----
+X  			if (o2->otyp == POT_SICKNESS ||
+X  			    o2->otyp == POT_HALLUCINATION ||
+X  			    o2->otyp == POT_BLINDNESS ||
+X! 			    o2->otyp == POT_CONFUSION ||
+X! 			    o2->otyp == POT_CYANIDE)
+X  				return TRUE;
+X  	}
+X  
+X***************
+X*** 1021,1026 ****
+X--- 1218,1231 ----
+X  			obj->otyp = SCR_BLANK_PAPER;
+X  			return TRUE;
+X  		} else break;
+X+ 	    case TOOL_CLASS:
+X+ 		if (obj->otyp == BOTTLE) {
+X+ 			pline("The bottle%s filled with water.",obj->quan > 1 ? "s are" : " is");
+X+ 			obj->oclass = POTION_CLASS;
+X+ 			obj->otyp = POT_WATER;
+X+ 			/* retain curses/blessings etc. */
+X+ 			return(TRUE);
+X+ 		} else break;
+X  	    case SPBOOK_CLASS:
+X  		if (obj->otyp != SPE_BLANK_PAPER) {
+X  
+X***************
+X*** 1235,1240 ****
+X--- 1440,1446 ----
+X  
+X  	if(!(mtmp = makemon(&mons[PM_DJINNI], u.ux, u.uy))){
+X  		pline("It turns out to be empty.");
+X+ 		make_bottle(TRUE);
+X  		return;
+X  	}
+X  
+X***************
+X*** 1265,1270 ****
+X--- 1471,1477 ----
+X  	default: verbalize("You disturbed me, fool!");
+X  		break;
+X  	}
+X+ 	make_bottle(FALSE);
+X  }
+X  
+X  #endif /* OVLB */
+X*** /tmp/tmp.1285	Sat May 28 21:18:21 1994
+X--- ./src/questpgr.c	Thu Mar 24 12:58:50 1994
+X***************
+X*** 182,187 ****
+X--- 182,193 ----
+X  	  PM_URUK_HAI, PM_OGRE, S_ORC, S_OGRE,
+X  	  ART_PALANTIR_OF_WESTERNESSE },
+X  
+X+ /* G */ { "the Microsoft headquarter",
+X+ 	  "the Development Team's location",
+X+ 	  PM_THE_DEV_TEAM, PM_BILL_GATES, PM_HACKER,
+X+ 	  PM_BUG, PM_GRID_BUG,S_XAN,S_EYE,
+X+ 	  ART_NETHACK_SOURCES },
+X+ 	
+X  /* H */ { "the Temple of Coeus",
+X  	  "the Temple of Epidaurus",
+X  	  PM_HIPPOCRATES, PM_CYCLOPS, PM_ATTENDANT,
+X***************
+X*** 244,263 ****
+X  	    case 'B':	return(1);
+X  	    case 'C':	return(2);
+X  	    case 'E':	return((unsigned)(3+flags.female));
+X! 	    case 'H':	return(5);
+X! 	    case 'K':	return(6);
+X! 	    case 'P':	return(7);
+X! 	    case 'R':	return(8);
+X! 	    case 'S':	return(9);
+X  #ifdef TOURIST
+X! 	    case 'T':	return(10);
+X  	    case 'V':	return(11);
+X  	    case 'W':	return(12);
+X  	    default:	return(13);
+X- #else
+X- 	    case 'V':	return(10);
+X- 	    case 'W':	return(11);
+X- 	    default:	return(12);
+X  #endif
+X  	}
+X  }
+X--- 250,270 ----
+X  	    case 'B':	return(1);
+X  	    case 'C':	return(2);
+X  	    case 'E':	return((unsigned)(3+flags.female));
+X! 	    case 'G':	return(5);
+X! 	    case 'H':	return(6);
+X! 	    case 'K':	return(7);
+X! 	    case 'P':	return(8);
+X! 	    case 'R':	return(9);
+X! 	    case 'S':	return(10);
+X  #ifdef TOURIST
+X! 	    case 'T':	return(11);
+X! 	    case 'V':	return(12);
+X! 	    case 'W':	return(13);
+X! 	    default:	return(14);
+X! #else
+X  	    case 'V':	return(11);
+X  	    case 'W':	return(12);
+X  	    default:	return(13);
+X  #endif
+X  	}
+X  }
+X***************
+X*** 369,374 ****
+X--- 376,387 ----
+X  	    case 'L':	str = "lawful";
+X  			break;
+X  	    case 'x':	str = Blind ? "sense" : "see";
+X+ 			break;
+X+ 	    case 'm':	str = (pl_character[0] == 'E') ? "Eru Iluvatar" : 
+X+ 		((pl_character[0] == 'G') ? "team of Babbage, Zuse and Turing": 
+X+ 		"Marduk" );
+X+ 			break;
+X+ 	    case 'M':	str = (pl_character[0] == 'G') ? "Them" : "Him";
+X  			break;
+X  	    case '%':	str = "%";
+X  			break;
+X*** /tmp/tmp.1285	Sat May 28 21:18:23 1994
+X--- ./src/rumors.c	Sun Dec 26 22:07:05 1993
+X***************
+X*** 131,149 ****
+X  outrumor(truth, cookie)
+X  int truth; /* 1=true, -1=false, 0=either */
+X  boolean cookie;
+X  {
+X  	static const char fortune_msg[] =
+X  		"This cookie has a scrap of paper inside.";
+X  	const char *line;
+X  
+X  	if (cookie && Blind) {
+X! 		pline(fortune_msg);
+X  		pline("What a pity that you cannot read it!");
+X  		return;
+X  	}
+X  	line = getrumor(truth);
+X  	if (!*line)
+X  		line = "NetHack rumors file closed for renovation.";
+X  	if (cookie) {
+X  		pline(fortune_msg);
+X  		pline("It reads:");
+X--- 131,175 ----
+X  outrumor(truth, cookie)
+X  int truth; /* 1=true, -1=false, 0=either */
+X  boolean cookie;
+X+ #ifdef DOUGLAS_ADAMS
+X+ /* or magic cookie (no pun intended) 42 for HHGTTG */
+X+ #endif
+X  {
+X  	static const char fortune_msg[] =
+X  		"This cookie has a scrap of paper inside.";
+X  	const char *line;
+X  
+X  	if (cookie && Blind) {
+X! #ifdef DOUGLAS_ADAMS
+X! 		if (cookie != 42)
+X! #endif
+X! 			pline(fortune_msg);
+X  		pline("What a pity that you cannot read it!");
+X  		return;
+X  	}
+X  	line = getrumor(truth);
+X  	if (!*line)
+X  		line = "NetHack rumors file closed for renovation.";
+X+ 
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	switch(cookie) {
+X+ 		case 42:		/* HHGttG */
+X+ 			pline(line);
+X+ 			break;
+X+ 
+X+ 		case 0:			/* Oracle */
+X+ 			pline("True to her word, the Oracle casually says: ");
+X+ 			verbalize("%s",line);
+X+ 			exercise(A_WIS, TRUE);
+X+ 			break;
+X+ 
+X+ 		default:		/* cookie */
+X+ 			pline(fortune_msg);
+X+ 			pline("It reads:");
+X+ 			pline("%s", line);
+X+ 			break;
+X+ 	}
+X+ #else
+X  	if (cookie) {
+X  		pline(fortune_msg);
+X  		pline("It reads:");
+X***************
+X*** 155,160 ****
+X--- 181,187 ----
+X  		verbalize("%s", line);
+X  		exercise(A_WIS, TRUE);
+X  	}
+X+ #endif
+X  }
+X  
+X  static void
+X*** /tmp/tmp.1285	Sat May 28 21:18:24 1994
+X--- ./src/read.c	Thu Apr 21 17:30:00 1994
+X***************
+X*** 25,30 ****
+X--- 25,31 ----
+X  static void FDECL(p_glow1,(struct obj *));
+X  static void FDECL(p_glow2,(struct obj *,const char *));
+X  static void FDECL(forget,(BOOLEAN_P));
+X+ static void FDECL(undo_genocide,(void));
+X  
+X  #endif /* OVLB */
+X  
+X***************
+X*** 52,57 ****
+X--- 53,60 ----
+X  	    outrumor(bcsign(scroll), TRUE);
+X  	    useup(scroll);
+X  	    return(1);
+X+ 	} else if (scroll->otyp == PACK_OF_FLOPPIES) {
+X+ 		use_floppies(scroll);
+X  	} else if (scroll->oclass != SCROLL_CLASS
+X  		&& scroll->oclass != SPBOOK_CLASS) {
+X  	    pline(silly_thing_to, "read");
+X***************
+X*** 282,287 ****
+X--- 285,291 ----
+X  	    case HORN_OF_PLENTY:
+X  	    case BAG_OF_TRICKS:
+X  	    case CAN_OF_GREASE:
+X+ 	    case CHEMISTRY_SET:
+X  		if (is_cursed) stripspe(obj);
+X  		else if (is_blessed) {
+X  		    if (obj->spe <= 10)
+X***************
+X*** 823,828 ****
+X--- 827,951 ----
+X  		}
+X  		punish(sobj);
+X  		break;
+X+ 	case SCR_MASS_MURDER:
+X+ 		known = TRUE;
+X+ 		You("have found a scroll of mass murder.");
+X+ 		do_genocide(sobj->cursed ? 4 : 5);
+X+ 		break;
+X+ 	case SCR_UNDO_GENOCIDE:
+X+ 		known = TRUE;
+X+ 		You("have found a scroll of undo genocide.");
+X+ 		undo_genocide();
+X+ 		break;
+X+ 	case SCR_REVERSE_IDENTIFY:
+X+ 		known = TRUE;
+X+ 		You("have found a scroll of reverse identify.");
+X+ 		{
+X+ 			int i,j,n;
+X+ 			long oldgold;
+X+ 			char buf[BUFSZ];
+X+ 
+X+ 			n = (sobj->blessed) ? rn2(5)+1 : 1;
+X+ 			for (i=0;i<n;i++) {
+X+ 				for (j=0;j<=5;j++) {
+X+ 					if (j >= 5) {
+X+ 						pline(thats_enough_tries);
+X+ 						goto revid_end;
+X+ 					}
+X+ 					getlin("What do you want to identify?",buf);
+X+ 					if (buf[0] == 0) continue;
+X+ 					oldgold = u.ugold;
+X+ 					otmp = readobjnam(buf);
+X+ 					if (u.ugold != oldgold) {
+X+ pline("Don't you date cheat me again! -- Your fault!");
+X+ 						/* Make them pay */
+X+ 						u.ugold = oldgold / 2;
+X+ 						continue;
+X+ 					}
+X+ 					if (otmp == &zeroobj || otmp == (struct obj *) 0) {
+X+ 						pline("That doesn't exist.");
+X+ 						continue;
+X+ 					}
+X+ 					break;
+X+ 				}
+X+ 				strcpy(buf,xname(otmp));
+X+ 				makeknown(otmp->otyp);
+X+ 				pline("The %s is a %s.",buf,xname(otmp));
+X+ 				if (otmp->oartifact) artifact_unexist(otmp);
+X+ 			}
+X+ 		}
+X+ revid_end:
+X+ 		break;
+X+ 
+X+ /*
+X+ 	case SCR_WISHING: 
+X+ 		known = TRUE;
+X+ 		pline("You have found a scroll of wishing!");
+X+ 		if (sobj->cursed || (!sobj->blessed && Luck+rn2(5) < 0)) {
+X+ 			pline("Unfortuantely, nothing happens.");
+X+ 			break;
+X+ 		}
+X+ 		makewish();
+X+ 		break;
+X+ */
+X+ 
+X+ 	case SCR_CONSECRATION:
+X+ 	{
+X+ 		aligntyp al,ual;
+X+ 		char c;
+X+ 		char a;
+X+ 		int x,y;
+X+ 
+X+ 		if (Is_astralevel(&u.uz)) {
+X+ 			You("sense the wrath of the gods.");
+X+ 			u.ualign.record--;
+X+ 			break;
+X+ 		}
+X+ 		if (levl[u.ux][u.uy].typ != ROOM) {
+X+ 			pline("You feel claustrophobic!");
+X+ 			break;
+X+ 		}
+X+ 		known = TRUE;
+X+ 		pline("You build an altar.");
+X+ 		if (is_demon(uasmon)) {
+X+ 			al = A_CHAOTIC;
+X+ 		} else if (sobj->cursed) {
+X+ 			al = A_NONE;
+X+ 		} else if (sobj->blessed) {
+X+ 			ual = u.ualign.type;
+X+ 			a = (ual==A_LAWFUL) ? 'l' : ((ual==A_NEUTRAL) ? 'n' : 'c');
+X+ 			c = yn_function("Which alignment do you want to consectrate the altar to?","lncm",a);
+X+ 			al = A_NONE;
+X+ 			switch (c) {
+X+ 				case 'l':
+X+ 					al = A_LAWFUL;		break;
+X+ 				case 'n':
+X+ 					al = A_NEUTRAL;		break;
+X+ 				case 'c':
+X+ 					al = A_CHAOTIC;		break;
+X+ 				case 'm':
+X+ 					al = A_NONE;		break;
+X+ 			}
+X+ 		} else {
+X+ 			al = u.ualign.type;
+X+ 		}
+X+ 		pline("Pronouncing arcane formulas, you consecrate the altar to %s.",(al == A_NONE) ? "Moloch" : align_gname(al));
+X+ 		levl[u.ux][u.uy].typ = ALTAR;
+X+ 		levl[u.ux][u.uy].altarmask = Align2amask(al);
+X+ 		x = (al == ual) ? 1 : ((al == A_NONE) ? -3 : -1);
+X+ 		y = -rn2(x * 100);
+X+ 		u.ualign.record += x;
+X+ 		u.ublesscnt += y;
+X+ 		if (u.ublesscnt < 0) u.ublesscnt = 0;
+X+ 		pline("You feel %s%scomfortable.",(abs(x)>1) ? "very " : "", (x<0) ? "un" : "");
+X+ 	} break;
+X+ 
+X+ 	case SCR_ROOT_PASSWORD_DETECTION:
+X+ 		You("sense the computer's root password.");
+X+ 		pline("It is: %s.", sobj->cursed ? "jsdfljfdsh" : (sobj->blessed ? "memalezu" : "xyzzy"));
+X+ 		pline("(No warranty implied.)");
+X+ 		break;
+X+ 
+X  	default:
+X  		impossible("What weird effect is this? (%u)", sobj->otyp);
+X  	}
+X***************
+X*** 1019,1032 ****
+X  
+X  #define REALLY 1
+X  #define PLAYER 2
+X  void
+X  do_genocide(how)
+X  int how;
+X  /* 0 = no genocide; create monsters (cursed scroll) */
+X  /* 1 = normal genocide */
+X  /* 3 = forced genocide of player */
+X  {
+X! 	char buf[BUFSZ];
+X  	register int	i, j, killplayer = 0;
+X  	register struct permonst *ptr;
+X  	register struct monst *mtmp, *mtmp2;
+X--- 1142,1157 ----
+X  
+X  #define REALLY 1
+X  #define PLAYER 2
+X+ #define MASS_MURDER 4
+X  void
+X  do_genocide(how)
+X  int how;
+X  /* 0 = no genocide; create monsters (cursed scroll) */
+X  /* 1 = normal genocide */
+X  /* 3 = forced genocide of player */
+X+ /* x|4 = mass murder; no genocide */
+X  {
+X! 	char buf[BUFSZ],bx[BUFSZ];
+X  	register int	i, j, killplayer = 0;
+X  	register struct permonst *ptr;
+X  	register struct monst *mtmp, *mtmp2;
+X***************
+X*** 1041,1048 ****
+X  		    pline(thats_enough_tries);
+X  		    return;
+X  		}
+X! 		getlin("What monster do you want to genocide? [type the name]",
+X! 			buf);
+X  
+X  		i = name_to_mon(buf);
+X  		if(i == -1 || (mons[i].geno & G_GENOD)) {
+X--- 1166,1173 ----
+X  		    pline(thats_enough_tries);
+X  		    return;
+X  		}
+X! 		sprintf(bx,"What monster do you want to %s? [type the name]",(how & MASS_MURDER) ? "mass murder" : "genocide");
+X! 		getlin(bx,buf);
+X  
+X  		i = name_to_mon(buf);
+X  		if(i == -1 || (mons[i].geno & G_GENOD)) {
+X***************
+X*** 1081,1091 ****
+X  	    }
+X  	} else Strcpy(buf,ptr->mname); /* make sure we have standard singular */
+X  	if (how & REALLY) {
+X! 	    pline("Wiped out all %s.", makeplural(buf));
+X  	    if(killplayer) {
+X  		u.uhp = -1;
+X  		killer_format = KILLED_BY_AN;
+X! 		killer = "genocide spell";
+X  #ifdef POLYSELF
+X  	/* Polymorphed characters will die as soon as they're rehumanized. */
+X  		if(u.umonnum >= 0)	You("feel dead inside.");
+X--- 1206,1216 ----
+X  	    }
+X  	} else Strcpy(buf,ptr->mname); /* make sure we have standard singular */
+X  	if (how & REALLY) {
+X! 	    pline("%s all %s.",(how & MASS_MURDER) ? "Killed" : "Wiped out", makeplural(buf));
+X  	    if(killplayer) {
+X  		u.uhp = -1;
+X  		killer_format = KILLED_BY_AN;
+X! 		killer = (how & MASS_MURDER) ? "mass murder spell " : "genocide spell";
+X  #ifdef POLYSELF
+X  	/* Polymorphed characters will die as soon as they're rehumanized. */
+X  		if(u.umonnum >= 0)	You("feel dead inside.");
+X***************
+X*** 1097,1103 ****
+X  #ifdef POLYSELF
+X  	    else if (ptr == uasmon) rehumanize();
+X  #endif
+X! 	    ptr->geno |= G_GENOD;
+X  	    for(mtmp = fmon; mtmp; mtmp = mtmp2) {
+X  		mtmp2 = mtmp->nmon;
+X  		if(mtmp->data == ptr)
+X--- 1222,1228 ----
+X  #ifdef POLYSELF
+X  	    else if (ptr == uasmon) rehumanize();
+X  #endif
+X! 	    if (!(how & MASS_MURDER)) ptr->geno |= G_GENOD;
+X  	    for(mtmp = fmon; mtmp; mtmp = mtmp2) {
+X  		mtmp2 = mtmp->nmon;
+X  		if(mtmp->data == ptr)
+X***************
+X*** 1115,1120 ****
+X--- 1240,1272 ----
+X  			dealloc_obj(otmp);
+X  		}
+X  	    }
+X+ 	}
+X+ }
+X+ 
+X+ void undo_genocide(void)
+X+ {
+X+ 	int i;
+X+ 	char buf[BUFSZ];
+X+ 	int mn;
+X+ 
+X+ 	for (i=0;i<5;i++) {
+X+ 		if (i >= 5) {
+X+ 			pline(thats_enough_tries);
+X+ 			return;
+X+ 		}
+X+ 		getlin("Which monster do you want to ungenocide [type the name]",buf);
+X+ 		mn = name_to_mon(buf);
+X+ 		if (mn == -1) {
+X+ 			pline("Such creatures do not exist in this world.");
+X+ 			continue;
+X+ 		}
+X+ 		if (!(mons[mn].geno & G_GENOD)) {
+X+ 			pline("This creature has not been genocided.");
+X+ 			continue;
+X+ 		}
+X+ 		mons[mn].geno &= ~G_GENOD;
+X+ 		pline("The race of %s now exist again.",makeplural(buf));
+X+ 		break;
+X  	}
+X  }
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:18:29 1994
+X--- ./src/shk.c	Sun May 22 19:33:48 1994
+X***************
+X*** 2287,2292 ****
+X--- 2287,2293 ----
+X  		break;
+X  	}
+X  	if (obj->oartifact) tmp *= 25L;
+X+ 	if (obj->otyp == IC && obj->cursed) tmp /= 20L;	
+X  	return tmp;
+X  }
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:18:32 1994
+X--- ./src/sp_lev.c	Wed Mar 30 22:14:05 1994
+X***************
+X*** 10,16 ****
+X   */
+X  
+X  #include "hack.h"
+X! /*#define DEBUG 	/* uncomment to enable code debugging */
+X  
+X  #ifdef DEBUG
+X  # ifdef WIZARD
+X--- 10,16 ----
+X   */
+X  
+X  #include "hack.h"
+X! /* #define DEBUG 	/* uncomment to enable code debugging */
+X  
+X  #ifdef DEBUG
+X  # ifdef WIZARD
+X***************
+X*** 714,719 ****
+X--- 714,732 ----
+X  	mktrap(t->type, 1, (struct mkroom*) 0, &tm);
+X  }
+X  
+X+ #ifdef DEBUG
+X+ static void
+X+ dump_monster(monster *m)
+X+ {
+X+ 	if (!m) {
+X+ 		debugpline("MONSTER: (null)");
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	debugpline("MONSTER %lx:'%c',\"%s\",(%i,%i),\"%s\"",m,m->class,mons[m->id].mname,m->x,m->y,m->name ? m->name : "");
+X+ }
+X+ #endif
+X+ 
+X  /* 
+X   * Create a monster in a room.
+X   */
+X***************
+X*** 729,734 ****
+X--- 742,751 ----
+X  	aligntyp	amask;
+X  	struct permonst *pm;
+X  
+X+ #ifdef DEBUG
+X+ 	dump_monster(m);
+X+ #endif
+X+ 
+X  	if (m->class >= 0) {
+X  	    class = (char) def_char_to_monclass((char)m->class);
+X  	    if (class == MAXMCLASSES) goto bad_class;
+X***************
+X*** 736,742 ****
+X  	    class = (char) def_char_to_monclass(rmonst[- m->class - 1]);
+X  	    if (class == MAXMCLASSES) {
+X  bad_class:
+X! 		panic("create_monster: unknown monster class '%c'", m->class);
+X  	    }
+X  	} else
+X  	    class = 0;
+X--- 753,765 ----
+X  	    class = (char) def_char_to_monclass(rmonst[- m->class - 1]);
+X  	    if (class == MAXMCLASSES) {
+X  bad_class:
+X! #ifdef DEBUG
+X! 		impossible
+X! #else
+X! 		panic
+X! #endif
+X! 			("create_monster (%i,%i) : unknown monster class '%c'",m->x,m->y,m->class);
+X! 		return;
+X  	    }
+X  	} else
+X  	    class = 0;
+X***************
+X*** 858,863 ****
+X--- 881,899 ----
+X  	}
+X  }
+X  
+X+ #ifdef DEBUG
+X+ static void
+X+ dump_object(o)
+X+ object *o;
+X+ {
+X+ 	if (!o) {
+X+ 		debugpline("OBJECT: (null)");
+X+ 		return;
+X+ 	}
+X+ 	debugpline("OBJECT %lx: '%c',\"%s\",(%i,%i)",o,o->class,OBJ_NAME(objects[o->id]),o->x,o->y);
+X+ }
+X+ #endif
+X+ 
+X  /* 
+X   * Create an object in a room.
+X   */
+X***************
+X*** 871,876 ****
+X--- 907,916 ----
+X  	schar	x,y;
+X  	char	c;
+X  
+X+ #ifdef DEBUG
+X+ 	dump_object(o);
+X+ #endif
+X+ 
+X  	x = o->x; y = o->y;
+X  	if (croom)
+X  	    get_room_loc(&x, &y, croom);
+X***************
+X*** 895,902 ****
+X  	     */
+X  	    char oclass = (char) def_char_to_objclass(c);
+X  
+X! 	    if (oclass == MAXOCLASSES)
+X! 		panic("create_object:  unexpected object class '%c'",c);
+X  	    otmp = mkobj_at(oclass, x, y, TRUE);
+X  	}
+X  
+X--- 935,949 ----
+X  	     */
+X  	    char oclass = (char) def_char_to_objclass(c);
+X  
+X! 	    if (oclass == MAXOCLASSES) {
+X! #ifdef DEBUG
+X! 		impossible
+X! #else
+X! 		panic
+X! #endif
+X! 			("create_object:  unexpected object class '%c'",c);
+X! 		return;
+X! 	    }
+X  	    otmp = mkobj_at(oclass, x, y, TRUE);
+X  	}
+X  
+X***************
+X*** 1330,1335 ****
+X--- 1377,1385 ----
+X  		case BEEHIVE:
+X  		case MORGUE:
+X  		case BARRACKS:
+X+ #ifdef DOUGLAS_ADAMS
+X+ 		case DOUGROOM:
+X+ #endif
+X  		    fill_zoo(croom);
+X  		    break;
+X  	    }
+X***************
+X*** 1339,1344 ****
+X--- 1389,1397 ----
+X  		level.flags.has_vault = TRUE;
+X  		break;
+X  	    case ZOO:
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case DOUGROOM:
+X+ #endif
+X  		level.flags.has_zoo = TRUE;
+X  		break;
+X  	    case COURT:
+X***************
+X*** 1489,1494 ****
+X--- 1542,1552 ----
+X  		/* The traps */
+X  		for(i = 0; i<r->ntrap; i++)
+X  		    create_trap(r->traps[i], aroom);
+X+ 
+X+ #ifdef DEBUG
+X+ 		debugpline("%i monsters, %i objects",r->nmonster,r->nobject);
+X+ 		more();
+X+ #endif
+X  
+X  		/* The monsters */
+X  		for(i = 0; i<r->nmonster; i++)
+X*** /tmp/tmp.1285	Sat May 28 21:18:35 1994
+X--- ./src/sounds.c	Sun May 22 19:48:28 1994
+X***************
+X*** 317,322 ****
+X--- 317,351 ----
+X  
+X  #ifdef OVLB
+X  
+X+ /* The Quantum Mechanic names were removed from 3.1 -- this is copied from
+X+ ** 3.0. I honestly do not know why the DevTeam (tm) did that.
+X+ **
+X+ ** Whoever takes this out again shall be dodged by a UNIX demon until
+X+ ** time_t's warp-around.
+X+ */
+X+ 
+X+ /* for the connoisseurs ... */
+X+ static const char *Qmen[] = {
+X+ 	"Max",      /* Born */
+X+ 	"Wolfgang", /* Pauli */
+X+ 	"Louis",    /* de Broglie */
+X+ 	"Erwin",    /* Schroedinger */
+X+ 	"Werner",   /* Heisenberg */
+X+ 	"Niels",    /* Bohr */
+X+ 	"Paul",     /* Dirac */
+X+ 	"Pascual",  /* Jordan */
+X+ 	"Dick",     /* Feynman */
+X+ 	"Sam" }; /* Beckett ("Oh, boy." :-) */
+X+ 
+X+ struct monst *
+X+ qname(mtmp)
+X+ struct monst *mtmp;
+X+ {
+X+ 	return(christen_monst(mtmp, Qmen[rn2(SIZE(Qmen))]));
+X+ }
+X+ 
+X+ /* end of copy from 3.0 */
+X+ 
+X  static int
+X  domonnoise(mtmp)
+X  register struct monst *mtmp;
+X***************
+X*** 581,586 ****
+X--- 610,653 ----
+X  		pline_msg = "is busy reading a copy of Sandman #9.";
+X  	    else verbalize("Who do you think you are, War?");
+X  	    break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	case MS_DOUGLAS_ADAMS:
+X+             {
+X+ 	   	 static const char *da_msgs[] = {
+X+ 			"42",
+X+ 			"It's a nice day today!",
+X+ 			"Have a Pan Galactic Gargle Blaster?",
+X+ 			"Time is relative. Lunchtime doubly so.",
+X+ 			"This is some strange usage of the word 'safe' that I wasn't aware of.",
+X+ 		};
+X+ 		if (mtmp->data == &mons[PM_MARVIN]) {
+X+ 			verbalize("Life, loathe it or ignore it, you cannot like it.");
+X+ 		} else if (mtmp->data == &mons[PM_DEEP_THOUGHT]) {
+X+ 			verbalize("6*9 = 42");
+X+ 		} else if (mtmp->data == &mons[PM_EDDIE]) {
+X+ 			verbalize("I'm feeling just great, guys!");
+X+ 		} else {
+X+ 			verbalize(da_msgs[rn2(SIZE(da_msgs))]);
+X+ 		}
+X+ 	    }
+X+ 	    break;
+X+ #endif
+X+ 	case MS_PUPIL:
+X+ 		pupil_sound(mtmp);
+X+ 		break;
+X+ 
+X+ 	case MS_TEACHER:
+X+ 		teacher_sound(mtmp);
+X+ 		break;
+X+ 
+X+ 	case MS_PRINCIPAL:
+X+ 		principal_sound(mtmp);
+X+ 		break;
+X+ 
+X+ 	case MS_SMITH:
+X+ 		smith_selling(mtmp);
+X+ 		break;
+X+ 
+X  #endif /* SOUNDS */
+X      }
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:18:36 1994
+X--- ./src/spell.c	Thu May 12 13:31:24 1994
+X***************
+X*** 20,25 ****
+X--- 20,38 ----
+X  static char FDECL(spellet, (int));
+X  static char NDECL(dospellmenu);
+X  
+X+ boolean
+X+ spell_known(int sbook_id)
+X+ {
+X+ 	int i;
+X+ 
+X+ 	i = 0;
+X+ 	while (spl_book[i].sp_id != NO_SPELL && i < MAXSPELL) {
+X+ 		if (spl_book[i].sp_id == sbook_id) return(TRUE);
+X+ 		i++;
+X+ 	}
+X+ 	return(FALSE);
+X+ }
+X+ 
+X  static void
+X  cursed_book(lev)
+X  	register int	lev;
+X***************
+X*** 224,230 ****
+X  			/* ie 1 or 2 uses w/ most potent */
+X  			spl_book[i].sp_uses = rn1(1,9-spl_book[i].sp_lev);
+X  			book->spestudied++;
+X! 			You("add the spell to your repertoire.");
+X  			makeknown((int)booktype);
+X  			break;
+X  		}
+X--- 237,243 ----
+X  			/* ie 1 or 2 uses w/ most potent */
+X  			spl_book[i].sp_uses = rn1(1,9-spl_book[i].sp_lev);
+X  			book->spestudied++;
+X! 			You("add the %s to your repertoire.",booktype == SPE_CHEMISTRY ? "knowledge" : "spell");
+X  			makeknown((int)booktype);
+X  			break;
+X  		}
+X***************
+X*** 281,286 ****
+X--- 294,300 ----
+X  	case SPE_EXTRA_HEALING:
+X  	case SPE_CHARM_MONSTER:
+X  	case SPE_CLAIRVOYANCE:
+X+ 	case SPE_FINGER:
+X  /* level 4 spells */
+X  	case SPE_LEVITATION:
+X  	case SPE_RESTORE_ABILITY:
+X***************
+X*** 306,311 ****
+X--- 320,326 ----
+X  	case SPE_CANCELLATION:
+X  	case SPE_FINGER_OF_DEATH:
+X  	case SPE_BOOK_OF_THE_DEAD:
+X+ 	case SPE_CHEMISTRY:
+X  		delay = -8 * objects[booktype].oc_delay;
+X  		break;
+X  /* impossible */
+X***************
+X*** 417,422 ****
+X--- 432,442 ----
+X  	boolean confused = (Confusion != 0);
+X  	struct obj *pseudo;
+X  
+X+ 	if (spellid(spell) == SPE_CHEMISTRY) {
+X+ 		You("call upon your chemical knowledge. Nothing happens.");
+X+ 		return(1);
+X+ 	}
+X+ 
+X  	/* note that trying to cast it decrements the # of uses,    */
+X  	/* even if the mage does not have enough food/energy to use */
+X  	/* the spell */
+X***************
+X*** 496,501 ****
+X--- 516,522 ----
+X  	case SPE_DETECT_UNSEEN:
+X  	case SPE_HEALING:
+X  	case SPE_EXTRA_HEALING:
+X+ 	case SPE_FINGER:
+X  		if (!(objects[pseudo->otyp].oc_dir == NODIR)) {
+X  			if (atme) u.dx = u.dy = u.dz = 0;
+X  			else (void) getdir(NULL);
+X***************
+X*** 607,613 ****
+X  	add_menu(tmpwin, 0, 0, "");
+X  
+X  	for(i = 1; i <= maxs; i++) {
+X! 		Sprintf(buf, "%c %c %s (%d)",
+X  			spellet(i), (spelluses(i)) ? '-' : '*',
+X  			spellname(i), spellev(i));
+X  		add_menu(tmpwin, spellet(i), 0, buf);
+X--- 628,635 ----
+X  	add_menu(tmpwin, 0, 0, "");
+X  
+X  	for(i = 1; i <= maxs; i++) {
+X! 		Sprintf(buf, spellid(i) == SPE_CHEMISTRY ? "%c %c %s" 
+X!                                                          : "%c %c %s (%d)",
+X  			spellet(i), (spelluses(i)) ? '-' : '*',
+X  			spellname(i), spellev(i));
+X  		add_menu(tmpwin, spellet(i), 0, buf);
+X*** /tmp/tmp.1285	Sat May 28 21:18:37 1994
+X--- ./src/timeout.c	Sun Apr 10 16:00:04 1994
+X***************
+X*** 112,117 ****
+X--- 112,124 ----
+X  	    else if(u.uluck < baseluck && (nostone || time_luck > 0))
+X  		u.uluck++;
+X  	}
+X+ 	if (u.uinvul_time) {
+X+ 		u.uinvul_time--;
+X+ 		if (u.uinvul_time <= 0) {
+X+ 			u.uinvulnerable = FALSE;	
+X+ 			You("feel fragile!");
+X+ 		}
+X+ 	}
+X  	if(u.uinvulnerable) return; /* things past this point could kill you */
+X  	if(Stoned) stoned_dialogue();
+X  	if(Vomiting) vomiting_dialogue();
+X*** /tmp/tmp.1285	Sat May 28 21:18:38 1994
+X--- ./src/topten.c	Sat Mar 19 15:14:20 1994
+X***************
+X*** 32,40 ****
+X  #define dealloc_ttentry(ttent) free((genericptr_t) (ttent))
+X  #define	NAMSZ	10
+X  #define	DTHSZ	60
+X! #define	PERSMAX	 3		/* entries per name/uid per char. allowed */
+X! #define	POINTSMIN	1	/* must be > 0 */
+X! #define	ENTRYMAX	100	/* must be >= 10 */
+X  
+X  #if !defined(MICRO) && !defined(MAC)
+X  #define	PERS_IS_UID		/* delete for PERSMAX per name; now per uid */
+X--- 32,40 ----
+X  #define dealloc_ttentry(ttent) free((genericptr_t) (ttent))
+X  #define	NAMSZ	10
+X  #define	DTHSZ	60
+X! #define	PERSMAX	 10		/* entries per name/uid per char. allowed */
+X! #define	POINTSMIN	314	/* must be > 0 */
+X! #define	ENTRYMAX	420	/* must be >= 10 */
+X  
+X  #if !defined(MICRO) && !defined(MAC)
+X  #define	PERS_IS_UID		/* delete for PERSMAX per name; now per uid */
+X***************
+X*** 682,687 ****
+X--- 682,688 ----
+X  		case 'B': return PM_BARBARIAN;
+X  		case 'C': return (fem ? PM_CAVEWOMAN : PM_CAVEMAN);
+X  		case 'E': return PM_ELF;
+X+ 		case 'G': return PM_GEEK;
+X  		case 'H': return PM_HEALER;
+X  		case 'F':	/* accept old Fighter class */
+X  		case 'K': return PM_KNIGHT;
+X*** /tmp/tmp.1285	Sat May 28 21:18:40 1994
+X--- ./src/trap.c	Fri Mar 18 22:27:14 1994
+X***************
+X*** 2608,2614 ****
+X  		    else if(obj == uright) Ring_gone(obj);
+X  		    else if(obj == ublindf) Blindf_off(obj);
+X  		    else if(obj == uwep) uwepgone();
+X! 		    if(Lifesaved
+X  #ifdef WIZARD
+X  		       || wizard
+X  #endif
+X--- 2608,2614 ----
+X  		    else if(obj == uright) Ring_gone(obj);
+X  		    else if(obj == ublindf) Blindf_off(obj);
+X  		    else if(obj == uwep) uwepgone();
+X! 		    if(Lifesaved || Second_chance
+X  #ifdef WIZARD
+X  		       || wizard
+X  #endif
+X*** /tmp/tmp.1285	Sat May 28 21:18:41 1994
+X--- ./src/u_init.c	Fri Apr 15 20:46:20 1994
+X***************
+X*** 29,35 ****
+X  			/* roles[2] and [6] are changed for females */
+X  			/* in all cases, the corresponding male and female */
+X  			/* roles must start with the same letter */
+X! 	"Archeologist", "Barbarian", "Caveman", "Elf", "Healer", "Knight",
+X  	"Priest", "Rogue", "Samurai",
+X  #ifdef TOURIST
+X  	"Tourist",
+X--- 29,35 ----
+X  			/* roles[2] and [6] are changed for females */
+X  			/* in all cases, the corresponding male and female */
+X  			/* roles must start with the same letter */
+X! 	"Archeologist", "Barbarian", "Caveman", "Elf", "Geek", "Healer", "Knight",
+X  	"Priest", "Rogue", "Samurai",
+X  #ifdef TOURIST
+X  	"Tourist",
+X***************
+X*** 85,90 ****
+X--- 85,101 ----
+X  	{ 0, 0, 0, 0, 0, 0 }
+X  };
+X  
+X+ static struct trobj Geek[] = {
+X+ 	{ ELECTRIC_SWORD, 1, WEAPON_CLASS, 1, 1, 1 },
+X+ #define G_IC 1
+X+ 	{ IC, 0, TOOL_CLASS, 7, 1, UNDEF_BLESS },	/* quan is var. */
+X+ 	{ GAUNTLETS_OF_TYPING, 1, ARMOR_CLASS, 1, 1, UNDEF_BLESS },
+X+ 	{ POT_JOLT_COLA, 0, POTION_CLASS, 4, 1, UNDEF_BLESS },
+X+ 	{ HACKER_S_FOOD, 0, FOOD_CLASS, 2, 1, UNDEF_BLESS },
+X+ 	{ PACK_OF_FLOPPIES, 0, TOOL_CLASS, 1, 1, UNDEF_BLESS },
+X+ 	{ 0, 0, 0, 0, 0, 0 }
+X+ };
+X+ 
+X  static struct trobj Healer[] = {
+X  	{ SCALPEL, 0, WEAPON_CLASS, 1, 1, UNDEF_BLESS },
+X  	{ LEATHER_GLOVES, 1, ARMOR_CLASS, 1, 1, UNDEF_BLESS },
+X***************
+X*** 308,314 ****
+X  	u.ugrave_arise = -1;
+X  
+X  	u.ulevel = 0;	/* set up some of the initial attributes */
+X! 	u.uhp = u.uhpmax = newhp();
+X  	adjabil(0,1);
+X  	u.ulevel = 1;
+X  
+X--- 319,325 ----
+X  	u.ugrave_arise = -1;
+X  
+X  	u.ulevel = 0;	/* set up some of the initial attributes */
+X! 	u.uhp = u.uhpmax = u.uhplast = newhp();
+X  	adjabil(0,1);
+X  	u.ulevel = 1;
+X  
+X***************
+X*** 403,408 ****
+X--- 414,431 ----
+X  		knows_object(ELVEN_SHIELD);
+X  		knows_object(ELVEN_BOOTS);
+X  		knows_object(ELVEN_CLOAK);
+X+ 		break;
+X+ 	case 'G':
+X+ 		u.umonster = PM_GEEK;
+X+ 		Geek[G_IC].trquan = rn2(7) + 1;
+X+ 		ini_inv(Geek);
+X+ 		knows_class(WEAPON_CLASS);
+X+ 		knows_class(ARMOR_CLASS);
+X+ 		knows_object(PACK_OF_FLOPPIES);
+X+ 		knows_object(POT_JOLT_COLA);
+X+ 		knows_object(DIODE);
+X+ 		knows_object(TRANSISTOR);
+X+ 		knows_object(IC);
+X  		break;
+X  	case 'H':
+X  		u.umonster = PM_HEALER;
+X*** /tmp/tmp.1285	Sat May 28 21:18:42 1994
+X--- ./src/wield.c	Fri Apr 15 22:48:07 1994
+X***************
+X*** 178,184 ****
+X  	}
+X  
+X  	if(uwep->otyp == CRYSKNIFE && amount < 0) {
+X! 		uwep->otyp = WORM_TOOTH;
+X  		Your("weapon seems duller now.");
+X  		return(1);
+X  	}
+X--- 178,184 ----
+X  	}
+X  
+X  	if(uwep->otyp == CRYSKNIFE && amount < 0) {
+X! 		if (!uwep->oartifact) uwep->otyp = WORM_TOOTH;
+X  		Your("weapon seems duller now.");
+X  		return(1);
+X  	}
+X*** /tmp/tmp.1285	Sat May 28 21:18:43 1994
+X--- ./src/uhitm.c	Thu Apr 14 17:25:37 1994
+X***************
+X*** 185,190 ****
+X--- 185,202 ----
+X  	return tmp;
+X  }
+X  
+X+ /* Attack made with Stormbringer */
+X+ static void attract_vortices(void)
+X+ {
+X+ 	int n;
+X+ 
+X+ 	if (rn2(100)) return;
+X+ 	n = rn2(7) - Luck;
+X+ 	while (n-- > 0) {
+X+ 		makemon(mkclass(S_VORTEX,0),u.ux,u.uy);
+X+ 	}
+X+ }
+X+ 
+X  /* try to attack; return FALSE if monster evaded */
+X  /* u.dx and u.dy must be set */
+X  boolean
+X***************
+X*** 234,239 ****
+X--- 246,255 ----
+X  		} else return(FALSE);
+X  	}
+X  
+X+ 	if (uwep && uwep->oartifact == ART_STORMBRINGER) {
+X+ 		attract_vortices();
+X+ 	}
+X+ 
+X  	/* moved code to a separate function to share with dokick */
+X  	if(special_case(mtmp)) return(TRUE);
+X  
+X***************
+X*** 759,765 ****
+X  
+X  	if (is_demon(uasmon) && !rn2(13) && !uwep
+X  		&& u.umonnum != PM_SUCCUBUS && u.umonnum != PM_INCUBUS
+X! 		&& u.umonnum != PM_BALROG) {
+X  	    struct monst *dtmp;
+X  	    pline("Some hell-p has arrived!");
+X  	    if((dtmp = makemon(!rn2(6) ? &mons[ndemon(u.ualign.type)] :
+X--- 775,782 ----
+X  
+X  	if (is_demon(uasmon) && !rn2(13) && !uwep
+X  		&& u.umonnum != PM_SUCCUBUS && u.umonnum != PM_INCUBUS
+X! 		&& u.umonnum != PM_BALROG && u.umonnum != PM_NEWS_DAEMON
+X! 		&& u.umonnum != PM_PRINTER_DAEMON) {
+X  	    struct monst *dtmp;
+X  	    pline("Some hell-p has arrived!");
+X  	    if((dtmp = makemon(!rn2(6) ? &mons[ndemon(u.ualign.type)] :
+X***************
+X*** 1057,1062 ****
+X--- 1074,1085 ----
+X  		    mdef->mfrozen = rnd(10);
+X  		}
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case AD_DEPR:
+X+ 		pline("%s seems vaguely bored.",Monnam(mdef));
+X+ 		break;
+X+ #endif
+X+ 
+X  	    default:	tmp = 0;
+X  			break;
+X  	}
+X***************
+X*** 1394,1399 ****
+X--- 1417,1426 ----
+X  				|| u.usym==S_ORC
+X  				|| u.usym==S_GNOME
+X  				)) goto use_weapon;
+X+ 
+X+ 		case AT_TALK:
+X+ 			You("talk to %s. But you don't seem to be too convincing.",mon_nam(mon));
+X+ 			break;
+X  
+X  		case AT_NONE:
+X  			continue;
+X*** /tmp/tmp.1285	Sat May 28 21:18:46 1994
+X--- ./src/weapon.c	Sat Mar 19 20:39:58 1994
+X***************
+X*** 279,285 ****
+X  #endif
+X  	  {TSURUGI,1}, {RUNESWORD,0},
+X  	  {DWARVISH_MATTOCK,1}, {TWO_HANDED_SWORD,1}, {BATTLE_AXE,1},
+X! 	  {KATANA,0}, {UNICORN_HORN,1}, {CRYSKNIFE,0},
+X  	  {TRIDENT,0}, {LONG_SWORD,0}, {ELVEN_BROADSWORD,0}, {BROADSWORD,0},
+X  	  {LUCERN_HAMMER,1}, {SCIMITAR,1}, {SILVER_SABER,0}, {HALBERD,1},
+X  	  {PARTISAN,1}, {LANCE,1}, {FAUCHARD,1}, {BILL_GUISARME,1},
+X--- 279,285 ----
+X  #endif
+X  	  {TSURUGI,1}, {RUNESWORD,0},
+X  	  {DWARVISH_MATTOCK,1}, {TWO_HANDED_SWORD,1}, {BATTLE_AXE,1},
+X! 	  {KATANA,0}, {UNICORN_HORN,1}, {CRYSKNIFE,0}, {ELECTRIC_SWORD,0},
+X  	  {TRIDENT,0}, {LONG_SWORD,0}, {ELVEN_BROADSWORD,0}, {BROADSWORD,0},
+X  	  {LUCERN_HAMMER,1}, {SCIMITAR,1}, {SILVER_SABER,0}, {HALBERD,1},
+X  	  {PARTISAN,1}, {LANCE,1}, {FAUCHARD,1}, {BILL_GUISARME,1},
+X***************
+X*** 293,299 ****
+X  	  {RUBBER_HOSE,0},
+X  #endif /* KOPS */
+X  	  {WAR_HAMMER,0}, {ELVEN_DAGGER,0}, {DAGGER,0}, {ORCISH_DAGGER,0},
+X! 	  {ATHAME,0}, {SCALPEL,0}, {KNIFE,0}, {WORM_TOOTH,0}, {BULLWHIP,0}
+X  	};
+X  
+X  struct obj *
+X--- 293,299 ----
+X  	  {RUBBER_HOSE,0},
+X  #endif /* KOPS */
+X  	  {WAR_HAMMER,0}, {ELVEN_DAGGER,0}, {DAGGER,0}, {ORCISH_DAGGER,0},
+X! 	  {ATHAME,0}, {SCALPEL,0}, {KNIFE,0}, {WORM_TOOTH,0}, {BULLWHIP,0},
+X  	};
+X  
+X  struct obj *
+X*** /tmp/tmp.1285	Sat May 28 21:18:53 1994
+X--- ./src/write.c	Thu Apr 21 18:10:45 1994
+X***************
+X*** 39,44 ****
+X--- 39,45 ----
+X  		return(12);
+X  /*		break; */
+X  	case SCR_IDENTIFY:
+X+ 	case SCR_REVERSE_IDENTIFY:
+X  		return(14);
+X  /*		break; */
+X  	case SCR_ENCHANT_ARMOR:
+X***************
+X*** 50,61 ****
+X--- 51,68 ----
+X  	case SCR_SCARE_MONSTER:
+X  	case SCR_TAMING:
+X  	case SCR_TELEPORTATION:
+X+ 	case SCR_MASS_MURDER:
+X+ 	case SCR_CONSECRATION:
+X  		return(20);
+X  /*		break; */
+X  	case SCR_GENOCIDE:
+X  		return(30);
+X  /*		break; */
+X+ 	case SCR_UNDO_GENOCIDE:
+X+ 		return(50);
+X+ /*		break; */
+X  	case SCR_BLANK_PAPER:
+X+ 	case SCR_ROOT_PASSWORD_DETECTION:
+X  	default:
+X  		impossible("You can't write such a weird scroll!");
+X  	}
+X***************
+X*** 186,191 ****
+X--- 193,199 ----
+X  	/* success */
+X  	new_obj->blessed = (curseval > 0);
+X  	new_obj->cursed = (curseval < 0);
+X+ 	new_obj->selfmade = TRUE;
+X  #ifdef MAIL
+X  	if (new_obj->otyp == SCR_MAIL) new_obj->spe = 1;
+X  #endif
+X*** /tmp/tmp.1285	Sat May 28 21:18:54 1994
+X--- ./src/zap.c	Fri May 13 13:04:17 1994
+X***************
+X*** 13,18 ****
+X--- 13,19 ----
+X  
+X  static NEARDATA boolean obj_zapped;
+X  static NEARDATA int poly_zapped;
+X+ static NEARDATA boolean wan_wonder;
+X  
+X  #ifdef MUSE
+X  /* kludge to use mondied instead of killed */
+X***************
+X*** 56,62 ****
+X  	"death ray",
+X  	"bolt of lightning",
+X  	"",
+X! 	"",
+X  	"",
+X  	"",
+X  
+X--- 57,63 ----
+X  	"death ray",
+X  	"bolt of lightning",
+X  	"",
+X! 	"blow of acid",
+X  	"",
+X  	"",
+X  
+X***************
+X*** 188,193 ****
+X--- 189,195 ----
+X  		break;
+X  	case WAN_PROBING:
+X  		makeknown(otyp);
+X+ 	case SPE_FINGER:
+X  		mstatusline(mtmp);
+X  		break;
+X  	case WAN_OPENING:
+X***************
+X*** 212,217 ****
+X--- 214,225 ----
+X  			     sgn(u.ualign.type));
+X  		}
+X   		break;
+X+ 	case WAN_DRAINING: 
+X+ 		dmg = mtmp->mhpmax / 2;
+X+ 		hit("wand",mtmp,exclam(dmg));
+X+ 		resist(mtmp,otmp->oclass,dmg,TELL);
+X+ 		losehp(dmg,"excessive draining",KILLED_BY);
+X+ 		break;
+X  	case WAN_LOCKING:
+X  	case SPE_KNOCK:
+X  	case SPE_WIZARD_LOCK:
+X***************
+X*** 331,336 ****
+X--- 339,350 ----
+X  				flags.botl = 1;
+X  			}
+X  			break;
+X+ 		case RIN_HEALTH:
+X+ 			if ((obj->owornmask & W_RING) && u_ring) {
+X+ 				ABON(A_STR) -= obj->spe;
+X+ 				flags.botl = 1;
+X+ 			}
+X+ 			break;
+X  		case RIN_INCREASE_DAMAGE:
+X  			if ((obj->owornmask & W_RING) && u_ring)
+X  				u.udaminc -= obj->spe;
+X***************
+X*** 769,774 ****
+X--- 783,790 ----
+X  	case WAN_SPEED_MONSTER:
+X  	case WAN_NOTHING:
+X  	case WAN_PROBING:
+X+ 	case WAN_DRAINING:
+X+ 	case SPE_FINGER:
+X  	case SPE_HEALING:
+X  	case SPE_EXTRA_HEALING:
+X  		res = 0;
+X***************
+X*** 861,866 ****
+X--- 877,901 ----
+X  			}
+X  			makewish();
+X  			break;
+X+ 		case WAN_WONDER:
+X+ 			getdir(NULL);
+X+ 			do {
+X+ 				obj->otyp = WAN_LIGHT + rn2(WAN_WONDER - WAN_LIGHT);
+X+ 			} while (obj->otyp == WAN_WONDER || 
+X+ 				(obj->otyp == WAN_WISHING && rnl(10)));
+X+ 			wan_wonder = TRUE;
+X+ 			weffects(obj);
+X+ 			wan_wonder = FALSE;
+X+ 			obj->otyp = WAN_WONDER;
+X+ 			break;
+X+ 		case WAN_BUGGING: {
+X+ 			int i;
+X+ 
+X+ 			i = rn2(6) + 1;
+X+ 			while (i--) {
+X+ 				(void) makemon(&mons[rn2(3) ? PM_BUG : PM_HEISENBUG], u.ux,u.uy);
+X+ 			}
+X+ 		} break;
+X  	}
+X  	if (!objects[obj->otyp].oc_name_known &&
+X  	    (!Blind || obj->otyp == WAN_WISHING)) {
+X***************
+X*** 936,941 ****
+X--- 971,993 ----
+X  		    }
+X  		    makeknown(obj->otyp);
+X  		    break;
+X+ 		case WAN_DRAINING:
+X+ 		    /* theoretically we would have to take away half of */
+X+ 		    /* u.uhpmax _twice_, but I don't want to be unfair ... */
+X+ 		    makeknown(WAN_DRAINING);
+X+ 		    damage = u.uhpmax / 2;
+X+ 		    if (damage < 1) damage = 1;
+X+ 		    break;
+X+ 		case WAN_ACID:
+X+ 		    makeknown(WAN_ACID);
+X+ 		    if (Antimagic) {
+X+ 			shieldeff(u.ux,u.uy);
+X+ 			pline("Ugh!");
+X+ 		    } else {
+X+ 			pline("The acid burns!");
+X+ 			damage = d(8,6);
+X+ 		   }
+X+ 		   break;
+X  		case WAN_LIGHTNING:
+X  		    makeknown(WAN_LIGHTNING);
+X  		    if (!Shock_resistance) {
+X***************
+X*** 1114,1119 ****
+X--- 1166,1172 ----
+X  		    break;
+X  		case WAN_PROBING:
+X  		    makeknown(WAN_PROBING);
+X+ 		case SPE_FINGER:
+X  		    ustatusline();
+X  		    break;
+X  		default: impossible("object %d used?",obj->otyp);
+X***************
+X*** 1347,1357 ****
+X  			    buzz((int) obj->otyp - WAN_MAGIC_MISSILE,
+X  				(obj->otyp == WAN_MAGIC_MISSILE) ? 2 : 6,
+X  				 u.ux, u.uy, u.dx, u.dy);
+X  			} else
+X  			    impossible("weffects: unexpected spell or wand");
+X  			break;
+X  		}
+X! 		if(!objects[obj->otyp].oc_name_known) {
+X  			makeknown(obj->otyp);
+X  			more_experienced(0,10);
+X  		}
+X--- 1400,1412 ----
+X  			    buzz((int) obj->otyp - WAN_MAGIC_MISSILE,
+X  				(obj->otyp == WAN_MAGIC_MISSILE) ? 2 : 6,
+X  				 u.ux, u.uy, u.dx, u.dy);
+X+ 			} else if (obj->otyp == WAN_ACID) {
+X+ 			    buzz(ZT_ACID,6,u.ux,u.uy,u.dx,u.dy);
+X  			} else
+X  			    impossible("weffects: unexpected spell or wand");
+X  			break;
+X  		}
+X! 		if(!objects[obj->otyp].oc_name_known && !obj->otyp == WAN_WONDER && !wan_wonder) {
+X  			makeknown(obj->otyp);
+X  			more_experienced(0,10);
+X  		}
+X*** /tmp/tmp.1285	Sat May 28 21:18:56 1994
+X--- ./src/Makefile	Sun Apr 10 14:39:00 1994
+X***************
+X*** 51,57 ****
+X  #	if you get setcgtty() warnings during execution, you are feeding gcc
+X  #		a non-ANSI <sys/ioctl.h> -- either run fixincludes on it or use
+X  #		-traditional in CFLAGS
+X! # CC = gcc
+X  #
+X  #	For Bull DPX/2 systems at B.O.S. 2.0 or higher use the following:
+X  #
+X--- 51,57 ----
+X  #	if you get setcgtty() warnings during execution, you are feeding gcc
+X  #		a non-ANSI <sys/ioctl.h> -- either run fixincludes on it or use
+X  #		-traditional in CFLAGS
+X! CC = cc -DSCO_CC
+X  #
+X  #	For Bull DPX/2 systems at B.O.S. 2.0 or higher use the following:
+X  #
+X***************
+X*** 91,97 ****
+X  # flags for debugging:
+X  # CFLAGS = -g -I../include
+X  
+X! CFLAGS = -g -I../include
+X  LFLAGS =
+X  
+X  
+X--- 91,97 ----
+X  # flags for debugging:
+X  # CFLAGS = -g -I../include
+X  
+X! CFLAGS = -g -I../include -D_POSIX_SOURCE -DDOUGLAS_ADAMS
+X  LFLAGS =
+X  
+X  
+X***************
+X*** 112,119 ****
+X  	winmisc.o winstat.o wintext.o winval.o
+X  #
+X  # 
+X! WINSRC = $(WINTTYSRC)
+X! WINOBJ = $(WINTTYOBJ)
+X  
+X  # on some systems the termcap library is in -ltermcap or -lcurses
+X  # on 386 Xenix, the -ltermlib tputs() seems not to work; use -lcurses instead
+X--- 112,119 ----
+X  	winmisc.o winstat.o wintext.o winval.o
+X  #
+X  # 
+X! WINSRC = $(WINTTYSRC) $(WINX11SRC)
+X! WINOBJ = $(WINTTYOBJ) $(WINX11OBJ)
+X  
+X  # on some systems the termcap library is in -ltermcap or -lcurses
+X  # on 386 Xenix, the -ltermlib tputs() seems not to work; use -lcurses instead
+X***************
+X*** 130,140 ****
+X  WINTTYLIB = -ltermlib
+X  #
+X  # libraries for X11
+X! WINX11LIB = -lXaw -lXmu -lXext -lXt -lX11
+X  # WINX11LIB = -lXaw -lXmu -lXt -lX11
+X  #
+X  #
+X! WINLIB = $(WINTTYLIB)
+X  
+X  # any other strange libraries your system needs (for Sysunix only -- the more
+X  # specialized targets should already be right)
+X--- 130,140 ----
+X  WINTTYLIB = -ltermlib
+X  #
+X  # libraries for X11
+X! WINX11LIB = -lXaw -lXmu -lXext -lXt -lX11 -lsocket
+X  # WINX11LIB = -lXaw -lXmu -lXt -lX11
+X  #
+X  #
+X! WINLIB = $(WINTTYLIB) $(WINX11LIB)
+X  
+X  # any other strange libraries your system needs (for Sysunix only -- the more
+X  # specialized targets should already be right)
+X***************
+X*** 150,156 ****
+X  # Linux NetHack uses some bsd style ioctl functions, thus it is necessary to
+X  # use the bsd libs.
+X  # LIBS = -lbsd
+X! LIBS =
+X  
+X  # make NetHack
+X  GAME     = nethack
+X--- 150,156 ----
+X  # Linux NetHack uses some bsd style ioctl functions, thus it is necessary to
+X  # use the bsd libs.
+X  # LIBS = -lbsd
+X! LIBS = /usr/local/lib/libemu.a
+X  
+X  # make NetHack
+X  GAME     = nethack
+X***************
+X*** 186,192 ****
+X  	   save.c shk.c shknam.c sit.c sounds.c sp_lev.c spell.c steal.c\
+X  	   timeout.c topten.c track.c trap.c u_init.c uhitm.c vault.c\
+X  	   version.c vision.c weapon.c were.c wield.c windows.c wizard.c\
+X! 	   worm.c worn.c write.c zap.c
+X  
+X  # all operating-system-dependent .c (for dependencies and such)
+X  SYSCSRC = ../sys/atari/tos.c ../sys/share/pcmain.c ../sys/share/pcsys.c \
+X--- 186,192 ----
+X  	   save.c shk.c shknam.c sit.c sounds.c sp_lev.c spell.c steal.c\
+X  	   timeout.c topten.c track.c trap.c u_init.c uhitm.c vault.c\
+X  	   version.c vision.c weapon.c were.c wield.c windows.c wizard.c\
+X! 	   worm.c worn.c write.c zap.c school.c smith.c
+X  
+X  # all operating-system-dependent .c (for dependencies and such)
+X  SYSCSRC = ../sys/atari/tos.c ../sys/share/pcmain.c ../sys/share/pcsys.c \
+X***************
+X*** 236,242 ****
+X  	save.o shk.o shknam.o sit.o sounds.o sp_lev.o spell.o steal.o\
+X  	timeout.o topten.o track.o trap.o u_init.o uhitm.o vault.o\
+X  	vision.o vis_tab.o weapon.o were.o wield.o windows.o wizard.o\
+X! 	worm.o worn.o write.o zap.o\
+X  	$(RANDOBJ) $(SYSOBJ) $(WINOBJ) version.o
+X  # the .o files from the HACKCSRC, SYSSRC, and WINSRC lists
+X  
+X--- 236,242 ----
+X  	save.o shk.o shknam.o sit.o sounds.o sp_lev.o spell.o steal.o\
+X  	timeout.o topten.o track.o trap.o u_init.o uhitm.o vault.o\
+X  	vision.o vis_tab.o weapon.o were.o wield.o windows.o wizard.o\
+X! 	worm.o worn.o write.o zap.o school.o smith.o\
+X  	$(RANDOBJ) $(SYSOBJ) $(WINOBJ) version.o
+X  # the .o files from the HACKCSRC, SYSSRC, and WINSRC lists
+X  
+X***************
+X*** 245,251 ****
+X  
+X  Sysunix:	$(HOBJ) Makefile
+X  	@echo "Loading ..."
+X! 	@$(CC) $(LFLAGS) -o $(GAME) $(HOBJ) $(WINLIB) $(LIBS)
+X  	@touch Sysunix
+X  
+X  Sys3B2:	$(HOBJ) Makefile
+X--- 245,251 ----
+X  
+X  Sysunix:	$(HOBJ) Makefile
+X  	@echo "Loading ..."
+X! 	$(CC) $(LFLAGS) -o $(GAME) $(HOBJ) $(WINLIB) $(LIBS)
+X  	@touch Sysunix
+X  
+X  Sys3B2:	$(HOBJ) Makefile
+X*** /tmp/tmp.1285	Sat May 28 21:22:57 1994
+X--- ./win/tty/wintty.c	Wed Mar 30 17:10:26 1994
+X***************
+X*** 1217,1223 ****
+X  
+X      if(str) {
+X  	cw->canresp = (char*) alloc(strlen(str)+2);
+X! 	cw->canresp[0] = ch;			/* this could be NUL? */
+X  	Strcpy(&cw->canresp[1], str);
+X  	Strcat(cw->resp, str);
+X      }
+X--- 1217,1223 ----
+X  
+X      if(str) {
+X  	cw->canresp = (char*) alloc(strlen(str)+2);
+X! 	((char *)cw->canresp)[0] = ch;			/* this could be NUL? */
+X  	Strcpy(&cw->canresp[1], str);
+X  	Strcat(cw->resp, str);
+X      }
+X*** /tmp/tmp.1285	Sat May 28 21:23:14 1994
+X--- ./win/X11/winX.c	Fri Mar 18 19:47:09 1994
+X***************
+X*** 836,842 ****
+X  		    &app_context,
+X  		    "NetHack",		/* application class */
+X  		    (XrmOptionDescList)0, 0,	/* options list */
+X! 		    &i, av,		/* command line args */
+X  		    (String *)0,	/* fallback resources */
+X  		    (ArgList)args, num_args);
+X      XtOverrideTranslations(toplevel,
+X--- 836,842 ----
+X  		    &app_context,
+X  		    "NetHack",		/* application class */
+X  		    (XrmOptionDescList)0, 0,	/* options list */
+X! 		    &i, (char **) av,		/* command line args */
+X  		    (String *)0,	/* fallback resources */
+X  		    (ArgList)args, num_args);
+X      XtOverrideTranslations(toplevel,
+X*** /tmp/tmp.1285	Sat May 28 21:23:16 1994
+X--- ./Makefile	Sun May 22 19:05:38 1994
+X***************
+X*** 15,26 ****
+X  
+X  # make NetHack
+X  GAME     = nethack
+X! GAMEUID  = games
+X  GAMEGRP  = bin
+X  
+X  # Permissions - some places use setgid instead of setuid, for instance
+X  # See also the option "SECURE" in include/config.h
+X! GAMEPERM = 04755
+X  FILEPERM = 0644
+X  EXEPERM  = 0755
+X  DIRPERM  = 0755
+X--- 15,26 ----
+X  
+X  # make NetHack
+X  GAME     = nethack
+X! GAMEUID  = sebast
+X  GAMEGRP  = bin
+X  
+X  # Permissions - some places use setgid instead of setuid, for instance
+X  # See also the option "SECURE" in include/config.h
+X! GAMEPERM = 0755
+X  FILEPERM = 0644
+X  EXEPERM  = 0755
+X  DIRPERM  = 0755
+X***************
+X*** 32,41 ****
+X  # therefore there should not be anything in GAMEDIR that you want to keep
+X  # (if there is, you'll have to do the installation by hand or modify the
+X  # instructions)
+X! # GAMEDIR  = /usr/games/lib/$(GAME)dir
+X! # SHELLDIR = /usr/games
+X  GAMEDIR = /ntd
+X! SHELLDIR = /u/local/sh
+X  
+X  DATHELP = help hh cmdhelp history opthelp wizhelp
+X  VARDAT = data oracles options quest.dat rumors
+X--- 32,40 ----
+X  # therefore there should not be anything in GAMEDIR that you want to keep
+X  # (if there is, you'll have to do the installation by hand or modify the
+X  # instructions)
+X! # GAMEDIR  = /u2/local/lib/$(GAME)testdir
+X  GAMEDIR = /ntd
+X! SHELLDIR = /u2/local/sh
+X  
+X  DATHELP = help hh cmdhelp history opthelp wizhelp
+X  VARDAT = data oracles options quest.dat rumors
+X***************
+X*** 43,49 ****
+X  SPEC_LEVS = asmodeus.lev baalz.lev bigroom.lev castle.lev fakewiz?.lev \
+X  	juiblex.lev knox.lev medusa-?.lev mine_end.lev minefill.lev \
+X  	minetown.lev oracle.lev orcus.lev sanctum.lev tower?.lev valley.lev \
+X! 	wizard?.lev astral.lev air.lev earth.lev fire.lev water.lev
+X  QUEST_LEVS = ?-goal.lev ?-fill?.lev ?-locate.lev ?-start.lev
+X  
+X  SCRIPT = dungeon
+X--- 42,49 ----
+X  SPEC_LEVS = asmodeus.lev baalz.lev bigroom.lev castle.lev fakewiz?.lev \
+X  	juiblex.lev knox.lev medusa-?.lev mine_end.lev minefill.lev \
+X  	minetown.lev oracle.lev orcus.lev sanctum.lev tower?.lev valley.lev \
+X! 	wizard?.lev astral.lev air.lev earth.lev fire.lev water.lev school.lev \
+X! 	forge.lev compu.lev dragon.lev key.lev hitch.lev
+X  QUEST_LEVS = ?-goal.lev ?-fill?.lev ?-locate.lev ?-start.lev
+X  
+X  SCRIPT = dungeon
+END_OF_patch.pa
+if test 256107 -ne `wc -c <patch.pa`; then
+    echo shar: \"patch.pa\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/Geek.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/Geek.des\"
+else
+echo shar: Extracting \"./dat/Geek.des\" \(11692 characters\)
+sed "s/^X//" >./dat/Geek.des <<'END_OF_./dat/Geek.des'
+X# Geek.des
+X# The Geek quest
+X# 03/19/94 by Sebastian Klein
+X
+X# --- start level ---
+X
+XMAZE: "G-start",' '
+XFLAGS: noteleport,hardfloor
+XGEOMETRY: center,center
+X
+X#         1         2         3         4         5         6         7
+X#123456789012345678901234567890123456789012345678901234567890123456789012345
+X
+XMAP
+X............................................................................
+X............................................................................
+X..........................|-------------------------|.......................
+X..........................|.........................|.......................
+X..........................|-------------+-----------|.......................
+X............................................................................
+X............................................................................
+X............................................................................
+X..........................|-------------------------|-|.....................
+X..........................|.........................|.|.....................
+X..........................|.........................|.|.....................
+X..........................|.........................|.|.....................
+X..........................|.........................+.+.....................
+X..........................|.........................|.|.....................
+X..........................|.........................|.|.....................
+X..........................|.........................|.|.....................
+X..........................|-------------------------|-|.....................
+X............................................................................
+X............................................................................
+X............................................................................
+XENDMAP
+X
+XREGION:(00,00,75,19),lit,"ordinary"
+X
+XBRANCH:(60,18,60,18),(0,0,0,0)
+X
+XSTAIR:(27,03),down
+X
+XDOOR:locked,(40,04)
+XDOOR:locked,(54,12)
+XDOOR:locked,(52,12)
+X
+XMONSTER:'@',"The Dev Team",(38,12)
+X
+XMONSTER:'@',"hacker",(37,11)
+XMONSTER:'@',"hacker",(38,11)
+XMONSTER:'@',"hacker",(39,11)
+XMONSTER:'@',"hacker",(37,12)
+XMONSTER:'@',"hacker",(39,12)
+XMONSTER:'@',"hacker",(37,13)
+XMONSTER:'@',"hacker",(38,13)
+XMONSTER:'@',"hacker",(39,13)
+X
+X# For the textwork care has to be exercised that there are no
+X# rock moles, dwarves with pick-axes etc. to break the walls.
+X
+X# "May the force be with you"
+XMONSTER:'M',random,(27,03)
+XMONSTER:'a',random,(28,03)
+XMONSTER:'y',random,(29,03)
+XMONSTER:':',random,(30,03)
+XMONSTER:'t',random,(31,03)
+XMONSTER:'h',"hobbit",(32,03)
+XMONSTER:'e',random,(33,03)
+XMONSTER:':',random,(34,03)
+XMONSTER:'f',random,(35,03)
+XMONSTER:'o',random,(36,03)
+XMONSTER:'r',"sewer rat",(37,03)
+XMONSTER:'c',random,(38,03)
+XMONSTER:'e',random,(39,03)
+XMONSTER:':',random,(40,03)
+XMONSTER:'b',random,(41,03)
+XMONSTER:'e',random,(42,03)
+XMONSTER:':',random,(43,03)
+XMONSTER:'w',random,(44,03)
+XMONSTER:'i',random,(45,03)
+XMONSTER:'t',random,(46,03)
+XMONSTER:'h',"hobbit",(47,03)
+XMONSTER:':',random,(48,03)
+XMONSTER:'y',random,(49,03)
+XMONSTER:'o',random,(50,03)
+XMONSTER:'u',"young unicorn",(51,03)
+X
+X# "WELCOME"
+XMONSTER:'W',"wraith",(53,09)
+XMONSTER:'E',random,(53,10)
+XMONSTER:'L',"baby lich",(53,11) 
+XMONSTER:'C',random,(53,12)
+XMONSTER:'O',random,(53,12)
+XMONSTER:'M',random,(53,13)
+XMONSTER:'E',random,(53,14)
+X
+X# To ensure that the player can see the artwork 
+XOBJECT:'"',"amulet of ESP",random
+XOBJECT:'(',"blindfold",random
+X
+XOBJECT:'!',"Jolt Cola",random
+XOBJECT:'!',"Jolt Cola",random
+XOBJECT:'/',"digging",random
+X
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+X
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+X
+X# --- locate level ---
+X
+X# looks harmless but *IS* tough!!!
+X
+XMAZE: "G-locate",' '
+XFLAGS: hardfloor
+XGEOMETRY: center,center
+X
+X#         1         2         3         4         5         6         7
+X#123456789012345678901234567890123456789012345678901234567890123456789012345
+X
+XMAP
+X............................................................................
+X............................................................................
+X............................................................................
+X............................................................................
+X.....--------------------------|............|--------------------------.....
+X...............................|............|...............................
+X...-------------------------|..|............|..|-------------------------...
+X............................|..|............|..|............................
+X.---------------------|--|..|..|............|..|..|--|---------------------.
+X......................|..|..|..|............|..|..|..|......................
+X.---------------------|--|..|..|............|..|..|--|---------------------.
+X............................|..|............|..|............................
+X...-------------------------|..|............|..|-------------------------...
+X...............................|............|...............................
+X.....--------------------------|............|--------------------------.....
+X............................................................................
+X............................................................................
+X............................................................................
+X............................................................................
+X............................................................................
+XENDMAP
+X
+XRANDOM_PLACES: (24,09), (27,09), (30,09), (45,09), (48,09), (51,09)
+X
+XREGION:(00,00,75,19),lit,"ordinary"
+X
+X# the niches 
+XSTAIR:place[0],down
+XOBJECT:'"',"amulet of life saving",place[1]
+XOBJECT:'"',"amulet of strangulation",place[2]
+XMONSTER:'m',"giant mimic",place[3], m_feature "staircase down"
+XMONSTER:'m',"giant mimic",place[4], m_feature "staircase down"
+XTRAP:"polymorph",place[5]
+X
+XSTAIR:random,up
+X
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+X
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+X
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+X
+X# --- the goal level ---
+X
+XMAZE: "G-goal", ' '
+XGEOMETRY:center,center
+X
+X#         1         2         3         4         5         6         7
+X#123456789012345678901234567890123456789012345678901234567890123456789012345
+X
+XMAP
+X............................................................................
+X.-------------------------------------------------------------------------|.
+X..........................................................................|.
+X....|-----------------------------------------------------------------|...|.
+X....|.................................................................|...|.
+X....|...|---------------------------------------------------------|...|...|.
+X....|...|...+.....................................................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|........................\............................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|-----------------------------------------------------|...|...|.
+X....|...|.............................................................|...|.
+X....|...|-------------------------------------------------------------|...|.
+X....|.....................................................................|.
+X....|---------------------------------------------------------------------|.
+X............................................................................
+X............................................................................
+XENDMAP
+X
+XREGION:(0,0,75,19),lit,"ordinary"
+X
+XSTAIR:(75,19),up
+X
+XDOOR:locked,(12,06)
+X
+X# that's what's this all about :-)
+XOBJECT:'(',"pack of floppies",(37,09),blessed,0,"The Nethack Sources"
+XMONSTER:'@',"Bill Gates",(37,09)
+X
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+X
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+X
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+X
+X# --- fill a ---
+X
+XLEVEL: "G-filla"
+X
+XROOM: "ordinary", random, random, random, random
+XSTAIR: random,up
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XSTAIR: random,down
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XRANDOM_CORRIDORS
+X
+X
+X# --- fill b ---
+X
+XLEVEL: "G-fillb"
+X
+XROOM: "ordinary", random, random, random, random
+XSTAIR: random,up
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XSTAIR: random,down
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XRANDOM_CORRIDORS
+END_OF_./dat/Geek.des
+if test 11692 -ne `wc -c <./dat/Geek.des`; then
+    echo shar: \"./dat/Geek.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/spec_levs -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/spec_levs\"
+else
+echo shar: Extracting \"./dat/spec_levs\" \(0 character\)
+sed "s/^X//" >./dat/spec_levs <<'END_OF_./dat/spec_levs'
+END_OF_./dat/spec_levs
+if test 0 -ne `wc -c <./dat/spec_levs`; then
+    echo shar: \"./dat/spec_levs\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/dragon.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/dragon.des\"
+else
+echo shar: Extracting \"./dat/dragon.des\" \(1902 characters\)
+sed "s/^X//" >./dat/dragon.des <<'END_OF_./dat/dragon.des'
+X# The Draconian Level
+X# still to be done ...
+X
+XMAZE: "dragon", ' '
+X# FLAGS:
+XGEOMETRY: center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+X----------------------------------------------------------------------------
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|--------------------------------------------------------------------------|
+XENDMAP
+X
+XRANDOM_MONSTERS: 'D'
+X
+XSTAIR: random,up
+XSTAIR: random,down
+X
+XMONSTER:'D',"Dragon Lord",random,hostile
+X
+END_OF_./dat/dragon.des
+if test 1902 -ne `wc -c <./dat/dragon.des`; then
+    echo shar: \"./dat/dragon.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/rulebar -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/rulebar\"
+else
+echo shar: Extracting \"./dat/rulebar\" \(150 characters\)
+sed "s/^X//" >./dat/rulebar <<'END_OF_./dat/rulebar'
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+END_OF_./dat/rulebar
+if test 150 -ne `wc -c <./dat/rulebar`; then
+    echo shar: \"./dat/rulebar\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/forge.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/forge.des\"
+else
+echo shar: Extracting \"./dat/forge.des\" \(1870 characters\)
+sed "s/^X//" >./dat/forge.des <<'END_OF_./dat/forge.des'
+X# the forge
+X
+XMAZE:"forge",' '
+XGEOMETRY:center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.......LLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.........LLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.......LLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLL...|............LLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLL.....|..............LLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLL..L...|................LLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLL........|.................LLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLL............................................LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLL....}...|.................LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLL......|...............LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLL....|..............LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XENDMAP
+X
+XSTAIR:(56,02),up
+XSTAIR:(62,02),down
+X
+XREGION:(00,00,75,19),lit,"ordinary"
+X
+XMONSTER:'@',"blacksmith",(25,10),"Duri"
+X
+END_OF_./dat/forge.des
+if test 1870 -ne `wc -c <./dat/forge.des`; then
+    echo shar: \"./dat/forge.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/quest_levs -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/quest_levs\"
+else
+echo shar: Extracting \"./dat/quest_levs\" \(0 character\)
+sed "s/^X//" >./dat/quest_levs <<'END_OF_./dat/quest_levs'
+END_OF_./dat/quest_levs
+if test 0 -ne `wc -c <./dat/quest_levs`; then
+    echo shar: \"./dat/quest_levs\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/template.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/template.des\"
+else
+echo shar: Extracting \"./dat/template.des\" \(1772 characters\)
+sed "s/^X//" >./dat/template.des <<'END_OF_./dat/template.des'
+X# whatever ...
+X
+XMAZE: "template", ' '
+XFLAGS:
+XGEOMETRY: center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+X----------------------------------------------------------------------------
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|--------------------------------------------------------------------------|
+XENDMAP
+X
+X
+END_OF_./dat/template.des
+if test 1772 -ne `wc -c <./dat/template.des`; then
+    echo shar: \"./dat/template.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/key.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/key.des\"
+else
+echo shar: Extracting \"./dat/key.des\" \(2973 characters\)
+sed "s/^X//" >./dat/key.des <<'END_OF_./dat/key.des'
+X# This is where you might get the Key Of Access
+X# The level is somewhat inspired by the Rogue Quest.
+X
+XMAZE: "key", ' '
+X# we cannot use noteleport - this would prevent the nymphs and leprechauns
+X# from teleporting, too.
+XFLAGS: nommap
+XGEOMETRY: center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+X----------------------------------------------------------------------------
+X|..S...+}....S.......|}|.|L.....IIIPPPCCCAAAAAAAAA.....S...................|
+X|---...|}....|..|-S--|}|.|L..............AAAAAAAAA.....|-----------------|.|
+X|......|}.|..|-S-....S}|.|L.....IIIP......AAAAAAAA.....|.................|.|
+X|---S---}.|..|II|..---}|.|L.....IIIPPP...AAAAAAAAA.....|.|-------------|.|.|
+X|}}}.}}}}.|..|CC|..|}}}|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.............|.|.|
+X|.........|..|AA|..|}|-|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|---------|.|.|.|
+X|----------------S--}|...|L.....IIIPPPCCCA...AAAAA.....|.|.|.........|.|.|.|
+X|}}}}}}}}}}}}}}}}}.}}|...|L.....IIIPPPCCCAA..AAAAA.....|.|.|.|-----|.|.|.|.|
+X|-----------------.--|...|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+X|................|.|.....|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+X|.|..|..|..|.....S.|.....|L.....IIIP..CCCAAA....AA.....|.|.|.|S----|.|.|.|.|
+X|.|--|--|--|-----|-|.....|L.....IIIP.PCCCAA....AAA.....|.|.|.|.......|.|.|.|
+X|........................|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|-------|.|.|.|
+X|-----------------------.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|...........|.|.|
+X|...S..................S.|L.....IIIPPPCCCA....AAAA.....|.|.------------|.|.|
+X|...---------------------|L.....IIIPPPCCCAAAAAAAAA.....|.|...............|.|
+X|........................|L.....IIIPPPCCCAAAAA.........|.|---------------|.|
+X|........................S......IIIPPPCCCAAAAAAAAA.....|...................|
+X|--------------------------------------------------------------------------|
+XENDMAP
+X
+XRANDOM_MONSTERS: 'l', 'n'
+XREGION:(00,00,75,19),unlit,"ordinary"
+XNON_DIGGABLE:(00,00,75,19)
+X
+XSTAIR:(01,01),up
+XSTAIR:(01,06),down		
+X
+XDOOR:locked,(03,01)
+XDOOR:open,(07,01)
+XDOOR:locked,(04,04)
+XDOOR:locked,(13,01)
+XDOOR:locked,(15,03)
+XDOOR:locked,(21,03)
+XDOOR:locked,(17,07)
+XDOOR:locked,(17,11)
+XDOOR:locked,(25,18)
+XDOOR:locked,(18,02)
+XDOOR:locked,(04,15)
+XDOOR:locked,(23,15)
+XDOOR:locked,(62,11)
+XDOOR:locked,(62,11)
+X
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',"nymph queen",(64,09),hostile,awake
+X
+XTRAP:"board",(62,12)
+XTRAP:"board",(63,12)
+X
+END_OF_./dat/key.des
+if test 2973 -ne `wc -c <./dat/key.des`; then
+    echo shar: \"./dat/key.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/hitch.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/hitch.des\"
+else
+echo shar: Extracting \"./dat/hitch.des\" \(3509 characters\)
+sed "s/^X//" >./dat/hitch.des <<'END_OF_./dat/hitch.des'
+X# This is the Hitchhiker's Level. It is created to the honour of Douglas
+X# Noel Adams and his works.
+X
+XMAZE: "hitch", ' '
+XFLAGS: nommap
+XGEOMETRY: center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+X----------------------------------------------------------------------------
+X|..........................................................................|
+X|..............|.........................|--------|........................|
+X|..............|.......................--|........|--......................|
+X|..............|.....................--|............|--....................|
+X|..............|.....................|................|-.............|.....|
+X|..............|......|................................|.............-.....|
+X|..............|......|................................|...........-|.|-...|
+X|..............|......|...............................-|..........-|...|-..|
+X|..............|......|..............................-|...........|.....|..|
+X|..............|......|............................--|...........----+----.|
+X|..............|------|-------...................--|.............|||...|||.|
+X|................PPPPP|.......................---|................|.....|..|
+X|................PPPPP|....................---|...................|.....|..|
+X|.....................|.............|------|......................|.....|..|
+X|.....................|.............|......................................|
+X|-------..............|.............|-----------------------...............|
+X|......|...................................................................|
+X|......+...................................................................|
+X|--------------------------------------------------------------------------|
+XENDMAP
+X
+XREGION: (00,00,75,19),unlit,"ordinary"
+X
+XSTAIR:(15,01),up
+XSTAIR:(37,15),down
+X
+XMONSTER: 'A',"Douglas Adams",(22,05),hostile,asleep
+XMONSTER: '@',"Ford Perfect",(16,10),hostile,asleep
+XMONSTER: '@',"Arthur Dent",(17,10),hostile,asleep
+XMONSTER: '@',"Mr. Prosser",(18,10),hostile,awake
+X
+XMONSTER: 'a', "Ravenous Bugblatter Beast Of Traal",random,hostile,awake
+XMONSTER: 'Z', "creeping 42",random
+XMONSTER: 'Z', "creeping 42",random
+XMONSTER: 'Z', "creeping 42",random
+XMONSTER: 'x', "microscopic space fleet",random
+XMONSTER: 'f', "algolian suntiger",random
+XMONSTER: 'f', "algolian suntiger",random,hostile,asleep
+X
+X# The Vogon Headquarter
+XDOOR: locked, (07,18)
+XMONSTER: 'V',"Prostetnik Vogon Jeltz",(01,17),hostile,asleep
+XMONSTER: 'V',"vogon lord",(01,18),hostile,asleep
+XMONSTER: 'V',"vogon",(02,17),hostile,asleep
+XMONSTER: 'V',"vogon lord",(02,18),hostile,asleep
+XMONSTER: 'V',"vogon",(03,17),hostile,asleep
+XMONSTER: 'V',"vogon",(03,18),hostile,asleep
+XMONSTER: 'V',"vogon",(04,17),hostile,asleep
+XMONSTER: 'V',"vogon",(04,18),hostile,asleep
+XMONSTER: 'V',"vogon lord",(05,17),hostile,asleep
+XMONSTER: 'V',"vogon",(05,18),hostile,asleep
+XMONSTER: 'V',"vogon",(06,17),hostile,asleep
+XMONSTER: 'V',"vogon lord",(06,18),hostile,asleep
+X
+X# The Heart Of Gold
+XDOOR: closed, (69,10)
+XMONSTER: 'Y',"Zaphod Breeblebrox",(69,07),hostile,awake
+XMONSTER: 'x',"Deep Thought",(67,09),hostile,awake
+XMONSTER: 'x',"Eddie",(71,09),hostile,awake
+XMONSTER: 'X',"Marvin",(69,08),hostile,asleep
+X
+X# The Aquarium
+X# (random for ; will find water positions)
+XMONSTER: ';',"babelfish",random,hostile,awake
+XMONSTER: ';',"babelfish",random,hostile,awake
+XMONSTER: ';',"babelfish",random,hostile,awake
+X
+END_OF_./dat/hitch.des
+if test 3509 -ne `wc -c <./dat/hitch.des`; then
+    echo shar: \"./dat/hitch.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/Sysunix -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/Sysunix\"
+else
+echo shar: Extracting \"./src/Sysunix\" \(0 character\)
+sed "s/^X//" >./src/Sysunix <<'END_OF_./src/Sysunix'
+END_OF_./src/Sysunix
+if test 0 -ne `wc -c <./src/Sysunix`; then
+    echo shar: \"./src/Sysunix\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/.gdbinit -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/.gdbinit\"
+else
+echo shar: Extracting \"./src/.gdbinit\" \(26 characters\)
+sed "s/^X//" >./src/.gdbinit <<'END_OF_./src/.gdbinit'
+Xset args -D -V -u wizard
+X
+END_OF_./src/.gdbinit
+if test 26 -ne `wc -c <./src/.gdbinit`; then
+    echo shar: \"./src/.gdbinit\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/school.c -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/school.c\"
+else
+echo shar: Extracting \"./src/school.c\" \(4814 characters\)
+sed "s/^X//" >./src/school.c <<'END_OF_./src/school.c'
+X/* 	SCCS Id: @(#)school.c 	3.1 	94/26/03	*/
+X/* NetHack may be freely redistributed.  See license for details. */
+X/* Copyright 1994, Sebastian Klein */
+X
+X#include "hack.h"
+X#include <stdio.h>
+X
+X#ifdef SOUNDS
+X#ifdef OVL0
+X
+Xstatic char *pupil_msgs[] = {
+X	"Today no homework ... *please*",
+X	"six times nine is ... um ... uh ... ... forty-two",
+X	"you ... Strange word",	/* You're not expected to understand this ... */
+X	"Bugger off!",
+X	"*uck off!",
+X	"What are the newest news about the Super Information Highway?",
+X	"What do you want?",
+X	"Do the world a favour---jump out of the 20th story of the Uni-Center!",
+X	NULL
+X};
+X
+Xstatic char *baumert_msgs[] = {
+X	"No chance! Every day you'll get homework!",
+X	"Is it really true? Does really _everybody_ have the homework?",
+X	"That usage of the word 'goes' does harm to my ears!",
+X	NULL
+X};
+X
+Xstatic char *gier_msgs[] = {
+X	"Your attitude is really unacceptable!",
+X	"The \"Stigel-Brauerei\" was founded 1492. Well, in that year was that affair with that guy, Columbus, but that really isn't important.",
+X	"Why are you going? I'm only 20 minutes late!",
+X	NULL
+X};
+X
+Xstatic char *dickler_msgs[] = {
+X	"Where's your problem? I'll be happy to help you",
+X	"You didn't understand? Then let's begin again ... (*sigh*)",
+X	NULL
+X};
+X
+Xstatic char *overbeck_msgs[] = {
+X	"No homework yet? - This can be changed!",
+X	"Overbecks - das Ueberbier",
+X	NULL
+X};
+X
+Xstatic char *klomp_msgs[] = {
+X	"How about dehydrating carbonhydrates today?",
+X	"Back when I was a pupil, the following thing happened ...",
+X	"Back when I was studying chemistry, the following thing happened ...",
+X	NULL
+X};
+X
+Xstatic char *alers_msgs[] = {
+X	"... dann ist die Scheisse am dampfen",
+X	"NIKI forever!",
+X	"Pascal forever!",
+X	"Yes ... I know that everything is easier in C, but I simply love Pascal ...",
+X	NULL
+X};
+X
+Xstatic char *geis_haastert_msgs[] = {
+X	"You have Str:0 (at most), so bugger off!",
+X	"Do it - who cares about the odd broken bone?",
+X	"You are sick because you were running for 30 minutes? So run another hour!",
+X	"Shall I help you? (takes the whip)",
+X	NULL
+X};
+X
+Xstatic char *koerfgen_msgs[] = {
+X	"We'll do that diagonally. *grin* (wipes sweat off head)",
+X	"*grin*",
+X	"You know, (*grin*) we'll have to do something now! (*grin*)",
+X	NULL
+X};
+X
+Xstatic char *ennen_msgs[] = {
+X	"How about a pupil experiment - cut off your ears?",
+X	"Yet another pupil experiment: the consequences of KCN ingested.",
+X	NULL
+X};
+X
+Xstatic char *ellerhold_msgs[] = {
+X	"Don't expect to get away without homework!",
+X	"No homework in the holidays? You must have something to do, after all!",
+X	"The low level of you all is really beyond acception!",
+X	NULL
+X};
+X
+Xstatic char *hartstone_msgs[] = {
+X	"There was endless work in the supervision and administration of the farm ...",
+X	/* it's really a shame that I can't think of more messages for him */
+X	NULL
+X};
+X
+Xstatic char *generic_msgs[] = {
+X	"I expect you to do your homework _regularly_ and _carefully_!",
+X	"The level of work is really very low nowadays!",
+X	"In _our_ times pupils were real pupils and teachers were real teachers!",
+X	"Back when pupils where real pupils and teachers were real teachers, everything was better!",
+X	NULL
+X};
+X
+Xstatic struct teacher_msg_desc {
+X	char *teacher_name;
+X	char **messages;
+X} teacher_msgs[] = {
+X	{ "Mr. Baumert",	baumert_msgs },
+X	{ "Mr. Gier",		gier_msgs },
+X	{ "Mrs. Dickler",	dickler_msgs },
+X	{ "Mr. Overbeck",	overbeck_msgs },
+X	{ "Mr. Klomp",		klomp_msgs },
+X	{ "Mr. Alers",		alers_msgs },
+X	{ "Mr. Geis",		geis_haastert_msgs },
+X	{ "Mrs. Haastert",	geis_haastert_msgs },
+X	{ "Mr. Koerfgen",	koerfgen_msgs },
+X	{ "Mr. Ennen",		ennen_msgs },
+X	{ "Mr. Ellerhold",	ellerhold_msgs },
+X	{ "Mr. Hartstone",	hartstone_msgs },
+X	{ NULL,			generic_msgs }
+X};
+X
+Xstatic char *principal_msgs[] = {
+X	"What's up?",
+X	"I really feel sick - there are so many things to do!",
+X	"Help me, I faint!",
+X	"We'll do that in groups of one person!",
+X	NULL
+X};
+X
+Xboolean is_principal(struct monst *mon)
+X{
+X	return(mon->mnum == PM_PRINCIPAL);
+X}
+X
+Xboolean is_teacher(struct monst *mon)
+X{
+X	return(mon->mnum == PM_TEACHER);
+X}
+X
+Xboolean is_educator(struct monst *mon)
+X{
+X	return(is_teacher(mon) || is_principal(mon));
+X}
+X
+Xstatic void select_message(char **msgs)
+X{
+X	int i;
+X
+X	i = 0;
+X	while (msgs[i] != NULL) i++;
+X	verbalize(msgs[rn2(i)]);
+X
+X}
+X
+Xstatic void select_teacher_message(struct teacher_msg_desc *mmsgs,char *tname)
+X{
+X	int i;
+X
+X	i = 0;
+X	while (mmsgs[i].teacher_name != NULL) {
+X		if (strcmp(mmsgs[i].teacher_name,tname) == 0) {
+X			select_message(mmsgs[i].messages);
+X			return;
+X		}
+X		i++;
+X	}
+X	select_message(mmsgs[i].messages);
+X}
+X
+Xvoid pupil_sound(struct monst *mon)
+X{
+X	select_message(pupil_msgs);
+X}
+X
+Xvoid teacher_sound(struct monst *mon)
+X{
+X	select_teacher_message(teacher_msgs,NAME(mon));
+X}
+X
+Xvoid principal_sound(struct monst *mon)
+X{
+X	select_message(principal_msgs);
+X}
+X
+X#endif /* OVL0 */
+X
+X#endif /* SOUNDS */
+X
+X/* school.c */
+X
+END_OF_./src/school.c
+if test 4814 -ne `wc -c <./src/school.c`; then
+    echo shar: \"./src/school.c\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/smith.c -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/smith.c\"
+else
+echo shar: Extracting \"./src/smith.c\" \(7937 characters\)
+sed "s/^X//" >./src/smith.c <<'END_OF_./src/smith.c'
+X/* 	SCCS Id: @(#)smith.c 	3.1 	94/10/04	*/
+X/* NetHack may be freely redistributed.  See license for details. */
+X/* Copyright 1994, Sebastian Klein */
+X
+X#include "hack.h"
+X#include <stdio.h>
+X#include <ctype.h>
+X
+X#ifdef OVL0
+X
+Xstatic int time_finished = -1;
+Xstatic struct obj *weapon = NULL;
+X
+Xstatic char *not_interested = "signalize that you are not interested anymore.";
+X
+Xstruct prices_t
+X{
+X	int artifact;
+X	long price;
+X};
+X
+X/* the code relies on that a) the artifacts are presented in ascending */
+X/*			      order of price */
+X/*		       and b) no two given artifacts have the same price. */
+Xstatic struct prices_t prices[] = {
+X	{ ART_STING,			500 },
+X	{ ART_ORCRIST,			600 },
+X	{ ART_MUMAKBANE,		1000 },
+X	{ ART_SHOCKER,			2000 },
+X	{ ART_GRIMTOOTH,		2500 },
+X	{ ART_CLEAVER,			3000 },
+X	{ ART_OGRESMASHER,		3500 },
+X	{ ART_TROLLSBANE,		4000 },
+X	{ ART_WORMBITER,		4500 },
+X	{ ART_DRAGONBANE,		5000 },
+X	{ ART_WEREBANE,			5200 },
+X	{ ART_FIRE_BRAND,		6500 },
+X	{ ART_FROST_BRAND,		6750 },
+X	{ ART_SUNSWORD,			7000 },
+X	{ ART_MAGICBANE,		8000 },
+X	{ ART_GIANTSLAYER,		8500 },
+X	{ ART_DEMONBANE,		9000 },
+X	{ ART_SNICKERSNEE,		9500 },
+X	{ ART_EXCALIBUR,		10000 },
+X	{ ART_MJOLLNIR,			11000 },
+X	{ ART_STORMBRINGER,		12000 },
+X	{ ART_VORPAL_BLADE,		15000 },
+X	{ ART_GRAYSWANDIR,		17500 },
+X	{ 0,				0 }
+X};
+X
+Xstatic boolean acceptable_artifact(int artifact)
+X{
+X	if (exists_nrartifact(artifact)) return(FALSE);
+X	if (nogen_nrartifact(artifact)) return(FALSE);
+X	return(TRUE);
+X}
+X
+Xstatic int artiid2i(int artifact)
+X{
+X	int i;
+X
+X	i = 0;
+X	while (prices[i].artifact > 0) {
+X		if (prices[i].artifact == artifact) return(i);
+X		i++;
+X	}
+X	return(-1);
+X}
+X
+X/* consistent with shk.c */
+Xstatic long adjust_gold(long amount)
+X{
+X	long x;
+X
+X	x = amount;
+X	if (ACURR(A_CHA) > 18) 		x *= 2L;
+X	else if (ACURR(A_CHA) > 17)	x += x / 3L;
+X	else if (ACURR(A_CHA) > 15)	x += x / 4L;
+X	else if (ACURR(A_CHA) < 6)	x /= 2L;
+X	else if (ACURR(A_CHA) < 8)	x -= x / 2L;
+X	else if (ACURR(A_CHA) < 11)	x -= x / 3L;
+X	if (x <= 0L) x = 1L;
+X	return(x);
+X}
+X
+Xstatic long unadjust_gold(long ramount)
+X{
+X	long x;
+X
+X	x = ramount;
+X	if (ACURR(A_CHA) > 18)		x /= 2L;
+X	else if (ACURR(A_CHA) > 17)	x -= x / 3L;
+X	else if (ACURR(A_CHA) > 15)	x -= x / 4L;
+X	else if (ACURR(A_CHA) < 6)	x *= 2L;
+X	else if (ACURR(A_CHA) < 8)	x += x / 2L;
+X	else if (ACURR(A_CHA) < 11)	x += x / 3L;
+X	if (x <= 0L) x = 1L;
+X	return(x);
+X}
+X
+Xstatic void apply_extras(struct obj *o,int extras)
+X{
+X	boolean id;
+X
+X	id = FALSE;
+X	while (extras > 0) {
+X		switch(rn2(5)) {
+X			case 0:	if (!o->blessed) {
+X					o->cursed = FALSE;
+X					o->blessed = TRUE;
+X					break;
+X				} /* else fallthrough */
+X			case 1: if (!id) {
+X					makeknown(o->otyp);
+X					o->known = o->dknown = o->bknown = TRUE;
+X					o->rknown = id = TRUE;
+X					break;
+X				} /* else fallthrough */
+X			case 2:	if (!o->oerodeproof) {
+X					o->oerodeproof = TRUE;
+X					o->greased = FALSE;
+X					break;
+X				} /* else fallthrough (twice) */
+X			case 3: if (!o->greased && !o->oerodeproof) {
+X					o->greased = TRUE;
+X					break;
+X				} /* else fallthrough */
+X			case 4: o->spe++;
+X				break;
+X		}
+X		extras--;
+X	}
+X	if (o->spe > 5) o->spe = 5;
+X}
+X
+Xstatic boolean select_weapon(long ramount)
+X{
+X	struct obj *otmp;
+X	int i,j;
+X
+X	if (ramount < prices[0].price) {
+X		verbalize("What? That little? You're never going to get a personal weapon for that!");
+X		if (ramount >= 100) {	
+X			verbalize("But you may have this.");
+X			otmp = mksobj(LONG_SWORD,TRUE,FALSE);
+X			otmp->spe = rn2(5) ? 0 : 1;
+X			otmp->oeroded = 1;		
+X			hold_another_object(otmp,"Oops! %s out of your grasp!",The(aobjnam(otmp,"slip")),(const char *) 0);
+X			return(TRUE);
+X		} else {
+X			return(FALSE);
+X		}
+X	}
+X
+X	i = 0;
+X	while (ramount > prices[i].price && prices[i].artifact != 0) i++;
+X	if (prices[i].artifact == 0) i--;
+X
+X	j = 0;
+X	while (i >= 0 && j <= 4 && !acceptable_artifact(prices[i].artifact)) {
+X		j++;
+X		i--;
+X	}
+X	if (!acceptable_artifact(prices[i].artifact)) {
+X		verbalize("I'm sorry, but I am out of stock in this price class.");
+X		return(FALSE);
+X	}
+X
+X	weapon = mksobj(nrartifact_obtype(prices[i].artifact),TRUE,FALSE);
+X	weapon = oname(weapon,artiname(prices[i].artifact),0);
+X	weapon->cursed = FALSE;
+X	apply_extras(weapon,j);
+X
+X	return(TRUE);
+X}
+X
+Xstatic void make_buy1()
+X{
+X	char artname[BUFSZ],buf[BUFSZ];
+X	int artino,artiind;
+X	boolean ok;
+X	int i;
+X	int extras;
+X	long amount;
+X	char c;
+X	int time_to_take;
+X
+X	if (weapon != NULL) {
+X		impossible("weapon left over? (1)");
+X		weapon = NULL;
+X	}
+X
+X	ok = FALSE;
+X	do {
+X		getlin("How do you want me to call your new artifact?",artname);
+X		if (artname[0] == 0) {
+X			You(not_interested);
+X			return;
+X		}			
+X		artino = artifact_name2no(artname);
+X		if (!artino) {
+X			verbalize
+X("I think this is a dull name. I really can't associate anything with it.");
+X			continue;
+X		}
+X		if (exists_nrartifact(artino)) {
+X			verbalize
+X("I have already used that name and I never use the same name again.");
+X			continue;
+X		}
+X		artiind = artiid2i(artino);
+X		if (!acceptable_artifact(artino) || artiind == -1) {
+X			verbalize
+X			("I don't know ... I don't think that's a good name.");
+X			continue;
+X		}
+X		ok = TRUE;
+X	} while(!ok);
+X
+X	getlin("How many extras do you want?",buf);
+X	i = 0;
+X	while (buf[i] != 0) {
+X		if (!isdigit(buf[i])) {
+X			verbalize("What a strange number this is!");
+X			return;
+X		}
+X		i++;
+X	}
+X	extras = atoi(buf);
+X	if (extras > 6) {
+X		verbalize("Sorry, but I cannot offer more that 6 extras!");
+X		return;
+X	}
+X
+X	amount = unadjust_gold(prices[artiind].price + extras*1000L);
+X
+X	verbalize("That will cost you %li zorkmids.",amount);
+X	if (u.ugold < amount) {
+X		pline("Unfortunately, you don't have enough money.");
+X		You(not_interested);
+X		return;
+X	}
+X	c = yn_function("Accept?","yn",'y');
+X	if (tolower(c) == 'n') {
+X		You(not_interested);
+X		return;
+X	}
+X	u.ugold -= amount;
+X
+X	weapon = mksobj(nrartifact_obtype(prices[artiind].artifact),TRUE,FALSE);
+X	weapon = oname(weapon,artiname(prices[artiind].artifact),0);
+X	weapon->cursed = FALSE;
+X	apply_extras(weapon,extras);
+X
+X	time_to_take = adjust_gold(amount) / 10;
+X	verbalize("I'll immediately start working. Please come back in approximately %i00 turns.",time_to_take / 100);
+X	verbalize("to receive your new weapon.");
+X#ifdef WIZARD
+X	pline("(%i)",time_to_take);
+X#endif
+X	time_finished = moves + time_to_take;
+X}
+X
+Xstatic void make_buy2()
+X{
+X	char buf[BUFSZ];
+X	int ok;
+X	int i;
+X	long amount;
+X	int time_to_take;
+X
+X
+X	if (weapon != NULL) {
+X		impossible("weapon left over (2)?");
+X		weapon = NULL;
+X	}
+X
+X	do {
+X		ok = 1;
+X		getlin("How much money are you willing to invest?",buf);
+X		i = 0;
+X		if (buf[0] == 0) {
+X			You(not_interested);
+X			return;
+X		}
+X		while (buf[i] != 0) {
+X	 		if (!isdigit(buf[i])) ok = 0;
+X			i++;
+X		}
+X		if (!ok) {
+X			verbalize("Please talk English to me!");
+X			continue;
+X		}
+X		amount = atol(buf);
+X		if (amount <= 0) {
+X			You(not_interested);
+X			return;
+X		}
+X		if (amount > u.ugold) {
+X			You("don't have that much money!");
+X			ok = 0;
+X			continue;
+X		}
+X	} while (!ok);
+X
+X	if (select_weapon(adjust_gold(amount))) {
+X		u.ugold -= amount;
+X		You("hand the smith %li zorkmids.",amount);
+X	}
+X
+X	if (!weapon) return;
+X
+X	time_to_take = adjust_gold(amount) / 10;
+X	
+X	verbalize("I will immediately start working. Please come back in approximately %i00 turns",time_to_take / 100);
+X	verbalize("to receive your new weapon.");
+X#ifdef WIZARD
+X	if (wizard) pline("(%i)",time_to_take);
+X#endif
+X	time_finished = moves + time_to_take;
+X}
+X
+Xstatic void hand_object(void)
+X{
+X	if (weapon == NULL) {
+X		impossible("no blade to give?");
+X		return;
+X	}
+X
+X	verbalize("This is your blade. It shall be known as %s from now on.",artiname(weapon->oartifact));
+X	hold_another_object(weapon,"Oops! You accidentally drop your new blade!",(const char *) 0,(const char *) 0);
+X	time_finished = -1;
+X	weapon = NULL;
+X}
+X
+Xvoid smith_selling(struct monst *smith)
+X{
+X	if (time_finished == -1) {
+X		if (ACURR(A_CHA) > 14) {
+X			make_buy1();
+X		} else {
+X			make_buy2();
+X		}
+X	} else if (time_finished <= moves) {
+X		hand_object();
+X	} else {
+X		verbalize("I'm working. Please don't disturb me again!");
+X		time_finished += 5;	/* he was interrupted */
+X	}
+X}
+X
+X#endif /* OVL0 */
+X
+X/* smith.c */
+X
+END_OF_./src/smith.c
+if test 7937 -ne `wc -c <./src/smith.c`; then
+    echo shar: \"./src/smith.c\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/link -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/link\"
+else
+echo shar: Extracting \"./src/link\" \(72 characters\)
+sed "s/^X//" >./src/link <<'END_OF_./src/link'
+Xrm -f nethack.a
+Xnethack_arcmd
+Xnethack_l2cmd
+X>cc
+Xchmod +x cc
+Xmake
+Xrm cc
+X
+END_OF_./src/link
+if test 72 -ne `wc -c <./src/link`; then
+    echo shar: \"./src/link\" unpacked with wrong size!
+fi
+chmod +x ./src/link
+# end of overwriting check
+fi
+if test -f ./README.DNA -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./README.DNA\"
+else
+echo shar: Extracting \"./README.DNA\" \(6577 characters\)
+sed "s/^X//" >./README.DNA <<'END_OF_./README.DNA'
+XThis is a NetHack 3.1.3 extension featuring several monster fashioned
+Xafter the Hitchhiker trilogy (five volumes) by Douglas Adams. It contains,
+Xamong other things, 14 new monsters and 5 new objects.
+X
+X				* * *
+X
+XI hereby declare these patches to be in the Public Domain, therefore
+Xyou (yes, _you_) are free to do with them what you want. However, I
+Xdo not assume any liability, explicit or implicit, for any damages
+Xcaused by bugs in these patches.
+XI hereby certify that I, at the time of signing this statement, am 
+Xin a state of sound body and mind.
+X				Cologne 03/11/94, Sebastian Peter Klein
+X
+X(However notice the NetHack license implications of applying my patch
+Xto the nethack sources)
+X
+X				* * *
+X
+XTo apply the patches, use patch from your nethack root directory.
+XNotice that all changes are surrounded by #ifdef DOUGLAS_ADAMS (already
+Xautomagically patched in the Makefile s).
+X
+X				* * *
+X
+XSpoilers for all the features of these patches follow ...
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+XNew monsters:
+X	- Ravenous Bugblatter Beast of Traal ('a')
+X		Nothing really remarkable here (well, almost nothing ...),
+X		although these are somewhat hard to kill. The towel 
+X		trick is not yet implemented. :-)
+X
+X	- microscopic space fleet ('x')
+X		These monsters appear in large groups and zap you. This
+X		is their only attack. While rather benign to players
+X		past the few levels, they can turn your precious wands
+X		to dust, which is the only threat they really pose.
+X
+X	- Deep Thought ('x', unique)
+X		This poor computer doesn't pose a threat at all, as it
+X		cannot move. When being asked, it will try to convince you
+X		that 6*9=42.
+X
+X	- Douglas Adams ('A', unique)
+X		He is not the guy you would want to get in trouble with
+X		(at least not in NetHack :-). He flies, for he has missed
+X		the floor, and is electricity resistant, something developed
+X		in his long experience with computers. 
+X		He will carry the Hitchhiker's Guide to the Galaxy.
+X		NOTE to the real DNA: If you should ever get these little
+X		patches into your hands, please don't get upset about the
+X		somewhat unflattering description of yourself and rather
+X		remember that _you_ are the person who set all the
+X		trouble off ... :-)
+X
+X	- vogon ('V')
+X		These, being very vampire-like, really deserve the letter
+X		assigned to them. They do little damage however and are,
+X		as opposed to their lords, rather harmless.
+X
+X	- vogon lord ('V')
+X		These are _rather_ tough and can suck out your brains and
+X		your life, much like a mind flayer. They may pose a real
+X		threat. Beware!
+X
+X	- Prostetnik Vogon Jeltz ('V')
+X		Even more tough that the vogon lord is that vogon who
+X		is responsible for the extinction of the galaxy's worst
+X		poetry.
+X
+X	- Marvin ('X')
+X		"Life, loathe it or ignore it, you cannot like it."
+X		That's this guy's attitude towards life. His depression,
+X		which he is well able to inflict upon others as well,
+X		might prove more deadly than many a sword.
+X
+X	- Zaphod Breeblebrox ('Y', unique)
+X		This guy is no real problem, in spite of his two heads
+X		and three arms.
+X
+X	- creeping 42 ('Z')
+X		This is the incarnated Answer. It will go everywhere to
+X		distribute the Holy Message. If you eat a dead creeping 42,
+X		you will gain some more knowledge my being given a glimpse
+X		on The Answer. Due to this overwhelming experience, your
+X		vision will be temporarily blurred.
+X
+X	- Ford Perfect ('@', unique)
+X		He is from Beteigeuze. And, yes, his name _really_ is
+X		Ford Perfect.
+X		Note to DNA: Why do you write such crap? You can't even
+X		spell the name of one of your main characters!
+X		:-) :-) :-) :-)	:-) :-) :-) :-) :-) :-) :-) :-) :-) :-) :-)
+X		
+X	- Arthur Dent ('@', unique)
+X		Mostly Harmless.
+X
+X	- Mr. Prosser ('@', unique)
+X		Mostly Harmful.
+X
+X	- babelfish (';')
+X		These are probably the strangest creatures of the Galaxy.
+X		Little is known of them, and that, what is known, is found
+X		in the holy tome of Douglas Adams, "The Hitchhikers Guide
+X		to the Galaxy" which I am forbidden to quote from here,
+X		lest I be sued for copyright infringement.
+X
+XNew objects:
+X	- The Hitchhiker's Guide to the Galaxy (unidentified: highly-complicated electronic device)
+X		When applying it, you will be overwhelmed by its complexity
+X		and get confused for a few turns. When you're hallucinating
+X		however, you'll happily push the buttons and get an (always
+X		false) fortune message. 
+X		Douglas Adams carries this.
+X
+X	- diode (two-wired thing)
+X	- transistor (three-wired thing)
+X	- IC (many-wired thing)
+X		These are small electronic devices used to build computers
+X		and roboters. However, as you don't understand the first
+X		thing about electronics, these aren't of any use to you.
+X		However they, and especially the ICs, are very expensive
+X		and therefore can be sold in shops for a rather large price.
+X		Both Deep Thought and Marvin leave these behind.
+X
+X	- peanut bag
+X		Peanuts provide nutrition and may be essential in some
+X		situations. It particularly might increase your constitution.
+X
+XOther new features:
+X	- The 42 room
+X		Yet another monster room, filled with all of the above
+X		monsters.
+X
+X	- monster chatting
+X		Chatting with a DNA-monster might be fun :-)
+X
+X	- creeping 42 & peanut eating 
+X		see above
+X
+X	- new attack damage type: depression
+X		When Marvin attacks you, you may get depressed. Then
+X		one of the following thing happens:
+X			- you are drained one level
+X			- your constitution is lowered by one (you die
+X			  if it goes below 3)
+X			- your intelligence is lowered by one (may kill
+X			  you as well)
+X			- nothing ("The feeling subsides")
+X
+X	- SHOPTYPE
+X		  When you are in wizard mode, including a 'd' in SHOPTYPE
+X		  ensures a "42"-room to be generated on each level.
+X
+X
+X				* * *
+X
+XAll those ideas (obviously) owe a lot to the works of Douglas Noel Adams.
+XI would like to explicitly thank him here, because I believe that he 
+Xis one of the best authors ever existing on this world. I don't think
+Xthat he'll dislike this work of mine, and if he does, I don't care either :-)
+XSeriously, Douglas, if you have any suggestions, I'd love to hear them.
+X
+X				* * *
+X
+XAt Mar 14,1994, 10.15am, I (will post)/(post)/(have posted) these patches to
+Xcomp.sources.games and alt.sources. It will be the first piece of 
+Xsoftware I contribute to the World Of The Internet. May it be of use
+Xand fun for those daring to install it.
+XReports of bugs and suggestions of new features are always welcome
+X(send them to sebast@axposf.pa.dec.com). Flames be sent to the bit bucket.
+X
+X					Sebastian Klein
+X					sebast@axposf.pa.dec.com
+X					Mar 11, 1994
+X
+X... and may the Force be with you!
+X
+X--------------------------------- cut here ------------------------------------
+X
+END_OF_./README.DNA
+if test 6577 -ne `wc -c <./README.DNA`; then
+    echo shar: \"./README.DNA\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./README.nh-tng -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./README.nh-tng\"
+else
+echo shar: Extracting \"./README.nh-tng\" \(17555 characters\)
+sed "s/^X//" >./README.nh-tng <<'END_OF_./README.nh-tng'
+XNetHack: The Next Generation 1.0
+X~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+X
+X0. Contents:
+X	0. Contents
+X	1. What is this?
+X	2. What does NHTNG include?
+X	3. How do you install NHTNG?
+X	4. To which extent are NHTNG and vanilla NetHack comparable?
+X	5. On Forcing stats
+X	6. The Legal Stuff
+X	7. Dedication
+X	=== SPOILER WARNING ===
+X	8. What *exactly* does NHTNG include?
+X	9. Rationale of some of the new features in terms of Game Balance
+X	   and Plausibility
+X
+X1. What is this?
+X
+X	Nethack:The Next Generation (NHTNG) is a set of patches
+X	for NetHack 3.1.3. It is highly inofficial and should not be
+X	confused with vanilla NetHack.
+X
+X2. What does NHTNG include?
+X
+X	- Various Douglas-Adams like monsters and objects (see README.DNA).
+X	- A new character class, the Geek, with assorted Quest Levels.
+X	- Six new levels
+X	- 58 new monsters
+X	- 38 new objects
+X	- Some fortunes come true.
+X	- Eight new artifacts, among them non-quest non-weapon artifacts.
+X	- A selector for ability preference.
+X	- Special monsters for the rogue level
+X	- and much, much more.
+X	- The Nethack&DouglasAdams patches I released on Mar 14,1994
+X	  are incorporated into NHTNG as well.
+X
+X3. How do you install NHTNG?
+X
+X	a. Before starting, read the legal stuff (point 6). 
+X	b. You will need a patch program that understands context
+X	   diffs (GNU patch, for example).
+X	c. Uncompress the original 3.1.3 sources. It is important that
+X	   you start with a clean source tree.
+X	d. Install the Makefiles as instructed in sys/unix/Install.unx
+X	e. Uncompress the archive containing NHTNG. To do this, go to
+X	   the main NH313 directory and then type for a shar archive:
+X		$ sh <nh313.tng.shar
+X	   or the following for a gzipped tar archive:
+X		$ gzip -dc <nh313.tng.tar.z | tar xvf -
+X	f. Step c will have created, among others, a file named patch.pa
+X	   It contains the actual patches to the NH313 sources. To
+X	   apply them, type:
+X		$ patch <patch.pa
+X	g. Now follow the DevTeam's instructions for configuring, compiling
+X	   and installing NetHack. DO NOT copy the Makefiles again (as you
+X	   did in step d)
+X	h. Have fun!
+X
+X4. To which extent are NHTNG and vanilla NetHack comparable?
+X	In NHTNG there are both features making the game easier and
+X	making it harder. I suspect, however, that on a large scale
+X	NHTHG will be somewhat easier. Since I have never ascended
+X	with NHTNG (and in fact, not with vanilla NH313, either), I
+X	unfortunately cannot really do more than guess on that.
+X
+X5. On Forcing Stats
+X	"Oh darn, why has this newly-born Valkyrie only Str: 10 ?!?"
+X	In situtations as the above, how many times did you quit
+X	the game to try again? How often did it take you ten times
+X	or more until you had what you wanted? You're now shown the
+X	stats of your new character and then you can accept them
+X	or not (in which case you roll again).
+X	You even can do what I call "forcing a stat". That means that
+X	you tell the game that any combination of stats where Xx is
+X	lower than 42 is totally unacceptable to you. When you indicate
+X	that you want to force something, you're first asked for
+X	the stat you want (you can't force more than one). The answer
+X	is given according to the following key:
+X		s - Strength (St)
+X		d - Dexterity (Dx)
+X		c - Constitution (Co)
+X		i - Intelligence (In)
+X		w - Wisdom (Wi)
+X		h - Charisma (Ch)
+X	Then you're asked for the minimum value (for Strength, 19 means
+X	18/01, 20 = 18/02 etc.), after which all rolls are guranteed
+X	to satisfy your condition.
+X	Some players might object to this extension as a means of cheating
+X	or inappropriate manipulation of the stats. I believe that this is
+X	not the case, because of:
+X		a) It doesn't give you any real advantage over repeatedly
+X		   running and then immediately quitting the game. Remember
+X		   that all my extension does is rolling dice until
+X		   the required conditions are met.
+X		b) Remember that you were (or, actually, your character
+X		   was) "heralded from birth as the instrument of XXX".
+X		   But guess the reasons because of which you were
+X		   selected. Surely you were tested on your various
+X		   abilities and then chosen. My 'forcing' just
+X		   simulates this.
+X
+X6. The Legal stuff
+X	I, being of sound mind and body, do write down on this day of
+X	the twentieth of May in the year nineteenhundredninetyfour,
+X	for all to see, that these patches of Nethack shall be placed
+X	in the Public Domain and therefore free to use for anybody
+X	without any restriction. However, I disclaim any liability
+X	for any damage or consequences caused by these patches or
+X	bugs in them. By using this software you agree to be 
+X	bound by these terms.
+X	However, note that in the act of applying my patches to 
+X	the actual NetHack sources causes the resulting program
+X	to be completely bound to the NetHack license agreement
+X	as stored in dat/license.
+X
+X7. Dedication
+X	| :hacker: [originally, someone who makes furniture with an axe] n.   |
+X   	| 1. A person who enjoys exploring the details of programmable        |
+X   	| systems and how to stretch their capabilities, as opposed to most   |
+X   	| users, who prefer to learn only the minimum necessary.  2. One who  |
+X   	| programs enthusiastically (even obsessively) or who enjoys          |
+X   	| programming rather than just theorizing about programming.  3. A    |
+X   	| person capable of appreciating {hack value}.  4. A person who is    |
+X   	| good at programming quickly.  5. An expert at a particular program, |
+X  	|  or one who frequently does work using it or on it; as in `a UNIX   |
+X   	| hacker'.  (Definitions 1 through 5 are correlated, and people who   |
+X   	| fit them congregate.)  6. An expert or enthusiast of any kind.  One |
+X   	| might be an astronomy hacker, for example.  7. One who enjoys the   |
+X   	| intellectual challenge of creatively overcoming or circumventing    |
+X   	| limitations.  8. [deprecated] A malicious meddler who tries to      |
+X   	| discover sensitive information by poking around.  Hence `password   |
+X   	| hacker', `network hacker'.  The correct term is {cracker}.          |
+X					- The Jargon File, version 3.0.0
+X	| 9. A hack or nethack player.					      |
+X
+X	I hereby dedicate Nethack - The Next Generation to all hackers
+X	in this world, by any definition of 'hacker' you care to name.
+X	I have really enjoyed programming this piece of software and I 
+X	believe it is now truly ready to be shared with the world of
+X	the USENET. I hope that you enjoy using this piece of software,
+X	which is the second one I release to the USENET. Of course, I 
+X	am also always interested in bug reports (or, preferrably,
+X	fixes :-), suggestions, enhancements etc.
+X
+X	At this point I would like to thank the NetHack Development Team
+X	for making this marvellous game real and to maintain it. It is
+X	only from people like you that such a game can emerge and it were
+X	your efforts which inspired me to enjoy this game not only
+X	in the way of playing it but also in the way of enhancing it
+X	and eventually make my own 'play on NetHack' available on USENET. 
+X	I encourage everyone to do the same.
+X
+X	On Mon May 30, 1994, 9:56am MESZ I will release this to USENET.
+X	May you enjoy it!
+X
+X							05/20/94
+X							Sebastian Klein
+X							aus001@rrz.uni-koeln.de
+X
+X8. (P.S.) What *exacty* does NHTNG include?
+X	(The following material contains only spoilers. If you do not want
+X	to be spoiled, don't read any further. I really believe that stopping
+X	here might enhance your fun - so DO NOT READ ANY FURTHER!)
+X
+X	There's a truck full of spoilers driving past. Jump in front of it? [yn]
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+XDO NOT READ!!! 
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X	You're spoiled to death. You have been warned.
+X
+X	The Geek Class:
+X		Class Name:	Geek
+X		Alignment:	Neutral
+X		Abilities:
+X			Str	Dex	Con 	Int	Wis	Cha
+X			10+30%	10+15%	10+15%	8+10%	9+20%	7+10%
+X
+X		Intrinsics:					(Level)
+X			Poison resistance			1
+X			Shock resistance			1
+X			Teleport control			8
+X			Warning					15
+X
+X		Starting Equipment:
+X			a blessed +1 electric sword
+X			(1..7) ICs
+X			+1 gauntlets of typing
+X			4 potions of Jolt Cola
+X			2 Hacker's Foods
+X			a pack of floppies
+X
+X		Quest Leader:		The DevTeam
+X		Quest Nemesis:		Bill Gates
+X		Quest Artifact:		The Nethack Sources 
+X					(#invoke = IDENTIFY)
+X
+X		The Geek is a mixture between a hacker, as defined in the
+X		Jargon File and a NetHack player. I would have preferred
+X		to call the class "Hacker" but the Healers strongly 
+X		disapproved of that.
+X
+X	New monsters:
+X		Ravenous Bugblatter Beast Of Traal
+X		Schroedinger's Cat
+X		algolian suntiger
+X		leprechaun elder
+X		leprechaun king
+X		nymph queen
+X		giant mumak
+X		young unicorn
+X		Deep Thought
+X		Eddie
+X		bug
+X		heisenbug
+X		PDP-11
+X		PDP-9
+X		VAX
+X		walking disk drive
+X		cray
+X		Douglas Adams
+X		ancient multi-hued dragon
+X		Dragon Lord
+X		baby lich
+X		vogon
+X		vogon lord
+X		Prostetnik Vogon Jeltz
+X		Marvin
+X		Zaphod Breeblebrox
+X		creeping 42
+X		pupil
+X		teacher
+X		principal
+X		blacksmith
+X		Ford Perfect
+X		Arthur Dent
+X		Mr. Prosser
+X		news daemon
+X		printer daemon
+X		UNIX Kernel
+X		babelfish
+X		deminewt
+X		masternewt
+X		geek
+X		The Dev Team
+X		Bill Gates
+X		hacker
+X	
+X	The Rogue Monsters:
+X		aquator		centaur		dragon		emu
+X		venus flytrap	griffin		ice monster	kestrel
+X		nymph		phantom		quagga		rattlesnake
+X		xeroc		zombie
+X
+X	58 new monsters.
+X
+X	New Objects:
+X		electric sword			Nothing special
+X		tooth of an algolian suntiger	A very good weapon indeed
+X		gauntlets of typing		Nothing special
+X		ring of health			Increases Constitution
+X		ring of timely backup		See Computer Level
+X		amulet of second chance		
+X			The Amulet Of Second Chance is much like the
+X			amulet of life saving, but it doesn't bring
+X			you to max HP again, but only to the HPs you
+X			had before the final hit. Great for those
+X			who think "Well, I have 30HP left. I can
+X			surely take one more hit from that mumak."
+X		amulet of data storage		See Computer Level	
+X		Schroedinger's Box
+X			This contains a potion of radium + either:
+X				- a live cat + a potion of cyanide
+X			or
+X				- a cat corpse.
+X			What of the two is inside is not determined
+X			until the box is opened.
+X		bag of digestion		Eats your stuff
+X		Hitchhiker's Guide t.t. Galaxy	see README.DNA
+X		diode,transistor,IC		see README.DNA
+X		pack of floppies
+X			They have a random content. If it is MS Windows,
+X			you will get confused if you're a geek and 
+X			(a)pply them.
+X		god-o-meter
+X			If blessed, it tells you whether your prayer
+X			timeout has expired. If uncursed/cursed, your
+X			timeout is prolonged.
+X		relay				Artifact prototype
+X		bottle				see Chemistry below
+X		chemistry set			see Chemistry below
+X		Hacker's Food			a food ration for geeks
+X		potion of extreme power		gives you rn2(10) HP
+X		potion of recovery		puts you back to max HP
+X		potion of invulnerability	makes you invulnerable 
+X		potion of heroism		
+X			gives you several intrinsics + invulnerability
+X			for a short period of time.
+X		potion of cyanide		kills you
+X		potion of radium		makes you sick
+X		potion of Jolt Cola		gives you 5 HP up to max
+X		potion of Pan Galactic Gargle Blaster
+X			You can guess that yourself :-)
+X		scroll of mass murder	
+X			kills all monsters present of a type, like genocide,
+X			but doesn't prevent future creation of them.
+X		scroll of undo genocide		permit creation of a mon again
+X		scroll of reverse identify
+X			This scroll asks you what you want to identify.
+X			You do not need a sample of the item, however. It
+X			suffices to answer with something like "loadstone",
+X			"wand of wishing" or even "smoky potion".
+X		scroll of consecration		makes an altar
+X		scroll of root pwd detection	see Computer Level below
+X		spellbook of finger		like wand of probing
+X		spellbook of chemistry		see Chemistry below
+X		wand of acid			shoots an acid ray
+X		wand of draining
+X			This takes away from the hit monster half of
+X			its max HP. However, the amount taken is 
+X			subtracted from your own HP as well, so care
+X			is advised. This wand is inspired by Angband.
+X		wand of wonder
+X			This does the effect of a random wand class
+X			(with a bias against wishing). This is 
+X			inspired by Angband as well.
+X		wand of bugging			see Computer Level below
+X
+X		38 new objects.		
+X
+X	New Levels:
+X		The Forge:
+X			Here is where the blacksmith Duri lives. (The name
+X			Duri is taken from the short story "Blades" by Sonia
+X			Orin Lyris, published in the Quanta Magazine, 
+X			December 1989). He makes artifacts for you, but
+X			it might cost a lot.
+X	
+X		The School:
+X			This level is in memorial of my days at school
+X			(which includes today :-). The teachers' names
+X			are verbatim and their character as well. Note
+X			that it is not by chance that this is in
+X			Gehennom.
+X
+X		Computer Level:
+X			This level contains various dangerous computers.
+X			Some objects, namely:
+X				- ring of timely backup
+X				- scroll of root password detection
+X				- amulet of data storage
+X				- wand of bugging
+X			can only be found on this level and will vanish
+X			from your pack once you go up or down. The wand
+X			of bugging creates bugs and heisenbugs, the other
+X			three items only display cute messages.
+X
+X		Key Level: 
+X			This level is full of leprechauns and nymphs,
+X			all awake and waiting to steal your stuff. You
+X			will eventually be able to kill the nymph
+X			queen and get the Key Of Access (see below).
+X
+X		Dragon Level:
+X			This level contains the Dragon Lord with his
+X			unique scales.
+X
+X		The Hitchhiker's Level:
+X			In the honour of Douglas Noel Adams and his
+X			works this level has been created. 
+X
+X	New Artifacts:
+X		Name		Type		#invoke	Damage	A C
+X		~~~~		~~~~		~~~~~~~	~~~~~~	~ ~
+X		Mumakbane	long sword	- 	Fire	N -
+X							(vs. mumakil)
+X		Wormbiter	crysknife	-	Phys	N -
+X							(vs. worms)
+X		Shocker		electric sword	-	Elec	N -
+X
+X		Scales Of The Dragon Lord	red dragon scale mail
+X						DRAGON_BREATH	C -
+X		Burned Moth Relay	relay	-	-	- -
+X
+X		Wand Of Might	wand of wishing	-	-	- -
+X
+X		The Key Of Access	key	CREATE_PORTAL	- -
+X
+X		The Nethack Sources	pack of floppies
+X		(G Quest Artifact)		IDENTIFY	N G
+X
+X		8 new artifacts.
+X
+X	Chemistry:
+X		There has been created a way to create potions, similiar
+X		to the blank paper/magic marker combination for scrolls
+X		and spellbooks. Before you can use it, you must have met
+X		the following conditions:
+X			- Read a spellbook of chemistry. Reading it once
+X			  is enough - it doesn't wear off like ordinary
+X			  spells (save amnesia).
+X			- Have a chemistry set. It corresponds to the
+X			  magic marker for scrolls. It is charged and
+X			  therefore can be used only a limited amount
+X			  of times. Charge diminuation is dependent
+X			  on the price of the potion.
+X			- Have a bottle to hold the newly made potion.
+X			  It corresponds to the scroll/spellbook of
+X			  blank paper.
+X			- Have identified the potion you want to make 
+X			  (unless you're lucky).
+X		The potion created will be marked as 'selfmade' in the
+X		inventory (and so will be selfmade scrolls, spellbooks
+X		and tins, now). If you quaff a selfmade potion, there is
+X		a chance (luck-dependent) that something bad (posioned
+X		from a mistake in making the potion) will happen.
+X
+X9. Rationale of some of the new features in terms of Game Balance and
+X   Plausibility 
+X
+X- The Hitchhiker's features (hitch level, "42" room etc.)
+X	None of the features presented herein have any significant use,
+X	with two notable exceptions:
+X		- Eating a creeping 42 corpse making you gain a level
+X		  Serious abuse (cursed genocide) is prevented by making
+X		  the creeping 42 un-genocideable. Minor spoilage of 
+X		  game balance is diminushed by making it usually peaceful,
+X		  thereby increasing the price of getting its corpse.
+X		- Killing a babelfish gives an extraordinarily high amount
+X		  of Xp, usually providing a gain level to lowlevel
+X		  characters.
+X		  This is included (or, rather, not removed) as an extra
+X		  gimmick for those ambitioned enough to find out. As
+X		  babelfishes are sufficiently rare, there's no real harm 
+X	 	  done.
+X
+X- Various 'parody' items (compu room, Geek class etc.) that might drive
+X  the game to the point of being ridicolous
+XWell, NetHack as it is consists of elements taken from many different
+Xauthors and fantasies, for example:
+X	- Herbert ("Dune") --> crysknife etc.
+X	- Tolkien ("The Lord Of The Rings") --> elves, orcs, hobbits etc.
+X	- Greek mythology --> Medusa etc.
+X	- other mythologies --> Asmodeus, Juiblex and many others.
+XAll I have done is adding elements taken from other, possibly from more
+Xrecent, sources:
+X	- Adams ("The Hitchhiker's Guide to the Galaxy") --> 42, Deep Thought,
+X		Arthur Dent, algolian suntiger etc.
+X	- Computer Folklore --> Geek, PDP-11, UNIX, news daemon etc.
+X	- NetHack itself --> Stormbringer attracting vortices
+X	- myself --> pupil, deminewt, Douglas Adams etc.
+XI strongly believe that those added things enhance the game a lot. It
+Xcertainly does not become ridicolous.
+X
+X- Ring of Health
+XSomeone on USENET has objected to my ring of health, increasing constitution.
+XHe said that, since Co is only significant when you gain a level, you would
+Xhave a permanent gain from wearing the ring only when you're about to go up.
+XI believe this to be irrelevant, however, since there are many rings doing
+Xexactly this: for example, the extra HP gained by wearing a ring of 
+Xregeneration do *not* vanish again once you remove the ring again. 
+XMy ring of health fills a niche in which it nicely fits.
+X
+X- potion of invulerability too powerful?
+XCome to think of it, it is not really *that* powerful. If you're surrounded
+Xit only delays your fate by several turns. If there's only one mumak (or
+XArchon) there trying to blast you, it is indeed the most valueable thing
+Xto have, however. But, remember, that it is also very rare and expensive,
+Xso you're not likely to get more that at most one or two per full game.
+X
+X================================= END OF FILE =================================
+END_OF_./README.nh-tng
+if test 17555 -ne `wc -c <./README.nh-tng`; then
+    echo shar: \"./README.nh-tng\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+echo shar: End of shell archive.
+exit 0
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\nhTNG.shar SlashTNG-master\Nethack - The Next Generation (original patch)\nhTNG.shar
--- slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\nhTNG.shar	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\Nethack - The Next Generation (original patch)\nhTNG.shar	Mon May 30 16:00:00 1994
@@ -0,0 +1,9842 @@
+
+#! /bin/sh
+# This is a shell archive.  Remove anything before this line, then unpack
+# it by saving it into a file and typing "sh file".  To overwrite existing
+# files, type "sh file -c".  You can also feed this as standard input via
+# unshar, or by typing "sh <file", e.g..  If this archive is complete, you
+# will see the following message at the end:
+#		"End of shell archive."
+# Contents:  patch.pa ./dat/Geek.des ./dat/spec_levs ./dat/dragon.des
+#   ./dat/rulebar ./dat/forge.des ./dat/quest_levs ./dat/template.des
+#   ./dat/key.des ./dat/hitch.des ./src/Sysunix ./src/.gdbinit
+#   ./src/school.c ./src/smith.c ./src/link ./README.DNA
+#   ./README.nh-tng
+# Wrapped by aus001@rs3.rrz.uni-koeln.de on Sat May 28 21:23:20 1994
+PATH=/bin:/usr/bin:/usr/ucb ; export PATH
+if test -f patch.pa -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"patch.pa\"
+else
+echo shar: Extracting \"patch.pa\" \(256107 characters\)
+sed "s/^X//" >patch.pa <<'END_OF_patch.pa'
+X*** /tmp/tmp.1285	Sat May 28 21:13:53 1994
+X--- ./dat/dungeon.def	Sun May 22 19:04:57 1994
+X***************
+X*** 23,29 ****
+X  LEVEL:		"castle" "none" @ (-1, 0)
+X  CHAINBRANCH:	"Gehennom" "castle" + (0, 0) no_down
+X  BRANCH:		"The Elemental Planes" @ (1, 0) no_down up
+X! 
+X  #
+X  #	Gehennom
+X  #
+X--- 23,30 ----
+X  LEVEL:		"castle" "none" @ (-1, 0)
+X  CHAINBRANCH:	"Gehennom" "castle" + (0, 0) no_down
+X  BRANCH:		"The Elemental Planes" @ (1, 0) no_down up
+X! LEVEL:		"forge" "F" @ (15, 5) 80 
+X! LEVEL:		"hitch" "H" @ (-3, 2)
+X  #
+X  #	Gehennom
+X  #
+X***************
+X*** 57,63 ****
+X  LEVEL:		"orcus" "O" @ (15, 5)
+X  LEVEL:		"fakewiz1" "F" @ (-6,4)
+X  LEVEL:		"fakewiz2" "G" @ (-6,4)
+X! 
+X  #
+X  #	The Mines of the Gnomes of Zurich.
+X  #
+X--- 58,67 ----
+X  LEVEL:		"orcus" "O" @ (15, 5)
+X  LEVEL:		"fakewiz1" "F" @ (-6,4)
+X  LEVEL:		"fakewiz2" "G" @ (-6,4)
+X! LEVEL:		"school" "S" @ (8, 5) 80
+X! LEVEL:		"compu" "C" @ (8, 5) 80 
+X! LEVEL:		"key" "K" @ (5, 5) 80
+X! LEVEL:		"dragon" "D" @ (1, 5) 60
+X  #
+X  #	The Mines of the Gnomes of Zurich.
+X  #
+X*** /tmp/tmp.1285	Sat May 28 21:13:59 1994
+X--- ./dat/oracles.txt	Sun May 15 14:00:08 1994
+X***************
+X*** 97,99 ****
+X--- 97,108 ----
+X  calm, thy safety will be aided greatly, but beware lest thy clumsy feet scuff
+X  the inscription, cancelling its potence.
+X  -----
+X+ It is said that, if thou hast managed to accomplish the great quest thou
+X+ set out to, and hast gotten the Amulet manufactured by Marduk in the
+X+ beginning of Time, thy way is the way up. Thou willst then face four
+X+ planes, before hidden in the mists of time, dedicated to the four
+X+ elements the world consists of. If, by great power and bravery on thy
+X+ part, thou managest to survive them, thou willst reach the High Temples
+X+ of the Aligned Gods. It is up to thee then to return to the gods
+X+ what belongs to the gods.
+X+ -----
+X*** /tmp/tmp.1285	Sat May 28 21:14:00 1994
+X--- ./dat/rumors.fal	Sun May 15 14:29:39 1994
+X***************
+X*** 3,13 ****
+X--- 3,15 ----
+X  2nd Law of Hacking:  first in, first out.
+X  3rd Law of Hacking:  the last blow counts most.
+X  4th Law of Hacking:  you will find the exit at the entrance.
+X+ A babelfish lets you understand a leocrotta.
+X  A chameleon imitating a mail daemon often delivers scrolls of fire.
+X  A cockatrice corpse is guaranteed to be untainted!
+X  A dead cockatrice is just a dead lizard.
+X  A dragon is just a snake that ate a scroll of fire.
+X  A fading corridor enlightens your insight.
+X+ A game to rule them all, a game to find them, a game to bring them all ...
+X  A glowing potion is too hot to drink.
+X  A good amulet may protect you against guards.
+X  A lizard corpse is a good thing to turn undead.
+X***************
+X*** 108,113 ****
+X--- 110,116 ----
+X  Never ask a shopkeeper for a price list.
+X  Never burn a tree, unless you like getting whacked with a +5 shovel.
+X  Never eat with glowing hands!
+X+ Never kill a Nazgul - Sauron will get terribly upset!
+X  Never mind the monsters hitting you:  they just replace the charwomen.
+X  Never play leapfrog with a unicorn.
+X  Never step on a cursed engraving.
+X***************
+X*** 193,199 ****
+X  They say that a potion of yogurt is a cancelled potion of sickness.
+X  They say that a purple worm is not a baby purple dragon.
+X  They say that a quivering blob tastes different than a gelatinous cube.
+X- They say that a runed broadsword named Stormbringer attracts vortices.
+X  They say that a scroll of summoning has other names.
+X  They say that a shaman can bestow blessings but usually doesn't.
+X  They say that a shaman will bless you for an eye of newt and wing of bat.
+X--- 196,201 ----
+X***************
+X*** 326,331 ****
+X--- 328,334 ----
+X  They say that you should call your armor `rustproof'.
+X  They say that you should name your dog Spuds to have a cool pet.
+X  They say that you should name your weapon after your first monster kill.
+X+ They say that you should not bother flaming USENETters, they're fire resistant.
+X  They say that you should never introduce a rope golem to a succubus.
+X  They say that you should never sleep near invisible ring wraiths.
+X  They say that you should never try to leave the dungeon with a bag of gems.
+X*** /tmp/tmp.1285	Sat May 28 21:14:01 1994
+X--- ./dat/rumors.tru	Sun May 22 16:16:38 1994
+X***************
+X*** 1,3 ****
+X--- 1,4 ----
+X+ A babelfish might remind you of a wraith.
+X  A blindfold can be very useful if you're telepathic.
+X  A candelabrum affixed with seven candles shows the way with a magical light.
+X  A crystal plate mail will not rust.
+X***************
+X*** 7,12 ****
+X--- 8,14 ----
+X  A potion of blindness lets you see invisible things.
+X  A priest can get the gods to listen easily.
+X  A priestess and a virgin you might be, but that unicorn won't care.
+X+ A Ravenous Bugblatter Beast Of Traal seems to be concerned about your life.
+X  A ring of conflict is a bad thing if there is a nurse in the room.
+X  A short sword is not as good as a long sword.
+X  A succubus will go farther than a nymph.
+X***************
+X*** 39,44 ****
+X--- 41,47 ----
+X  Don't mess with shopkeepers, or you'll get the Guild after you.
+X  Dragons never whip their children; they wouldn't feel it!
+X  Eat your carrots.  They're good for your eyes.
+X+ Eating a creeping 42 is not really like eating a wraith.
+X  Eating a freezing sphere is like eating a yeti.
+X  Eating a killer bee is like eating a scorpion.
+X  Eating a tengu is like eating a nymph.
+X***************
+X*** 58,63 ****
+X--- 61,67 ----
+X  Getting hungry?  Stop wearing rings!
+X  Gods expect the best from their priesthood.
+X  Gods look down their noses at demigods.
+X+ Greek mythology is often very vivid.
+X  Handle your flasks carefully -- there might be a ghost inside!
+X  Holy water has many uses.
+X  Hunger is a confusing experience for a dog!
+X***************
+X*** 108,115 ****
+X--- 112,121 ----
+X  Potions don't usually mix, but sometimes...
+X  Psst!  It's done with mirrors!
+X  Put on a ring of teleportation:  it will take you away from onslaught.
+X+ Quantum mechanics know about quantum mechanics.
+X  Rays aren't boomerangs, of course, but still...
+X  Read the manual before entering the cave -- you might get killed otherwise.
+X+ Reading Adams might be fun -- even if it doesn't help you.
+X  Reading Herbert might be enlightening in one case.
+X  Reading Tolkien might help you.
+X  Reading scrolls after drinking booze can give confusing results.
+X***************
+X*** 168,173 ****
+X--- 174,180 ----
+X  They say that a polymorph trap is magic and magic protection prevents it.
+X  They say that a potion of healing can cancel a potion of sickness.
+X  They say that a potion of monster detection sometimes works both ways.
+X+ They say that a runed broadsword named Stormbringer attracts vortices.
+X  They say that a sink looks different from high above the floor.
+X  They say that a summoned demon could improve your game.
+X  They say that a tin of wraith meat is a rare dining experience.
+X***************
+X*** 187,192 ****
+X--- 194,200 ----
+X  They say that by listening carefully, you can hear a secret door!
+X  They say that carrots and carrot juice may improve your vision.
+X  They say that cave spiders are not considered expensive health food.
+X+ They say that chemical knowledge is useless without proper equipment.
+X  They say that demigods must leave behind their prized earthly possessions.
+X  They say that disturbing a djinni can be a costly mistake.
+X  They say that dragon scales can be quite enchanting.
+X***************
+X*** 249,254 ****
+X--- 257,263 ----
+X  They say that sinks run hot and cold and many flavors in between.
+X  They say that snake charmers aren't charismatic, just musical.
+X  They say that soldiers are always prepared and usually protected.
+X+ They say that some bags are hungry.
+X  They say that some eggs could hatch in your pack, lucky or not.
+X  They say that some fire ants will make you a hot meal.
+X  They say that some horns play hot music and others are too cool for words.
+X*** /tmp/tmp.1285	Sat May 28 21:14:15 1994
+X--- ./dat/castle.des	Thu Apr 21 19:03:38 1994
+X***************
+X*** 129,135 ****
+X  OBJECT:object[3],random,(54,11)
+X  OBJECT:object[3],random,(55,11)
+X  # THE WAND OF WISHING in 1 of the 4 towers
+X! OBJECT:'/',"wishing",place[0]
+X  # Prevent monsters from eating it.  (@'s never eat objects)
+X  ENGRAVING:place[0],burn,"Elbereth"
+X  # The treasure of the lord
+X--- 129,135 ----
+X  OBJECT:object[3],random,(54,11)
+X  OBJECT:object[3],random,(55,11)
+X  # THE WAND OF WISHING in 1 of the 4 towers
+X! OBJECT:'/',"wishing",place[0],uncursed,3,"Wand Of Might"
+X  # Prevent monsters from eating it.  (@'s never eat objects)
+X  ENGRAVING:place[0],burn,"Elbereth"
+X  # The treasure of the lord
+X*** /tmp/tmp.1285	Sat May 28 21:14:18 1994
+X--- ./dat/gehennom.des	Wed Apr 27 18:14:14 1994
+X***************
+X*** 644,646 ****
+X--- 644,1182 ----
+X  MONSTER:'V',random,random
+X  MONSTER:'V',random,random
+X  STAIR:(63,15),up
+X+ 
+X+ #
+X+ # ... and finally: a school
+X+ # It is probably no coincidence that it is in hell :-)
+X+ #
+X+ # I had to comment out many pupils - weird things seem to happen when
+X+ # there are more than 127 monsters (lev_comp bug/feature ?)
+X+ 
+X+ MAZE: "school", ' '
+X+ MESSAGE: "You feel reminded of your days of learning ..."
+X+ GEOMETRY: center,center
+X+ 
+X+ #         1         2         3         4         5         6         7
+X+ # 23456789012345678901234567890123456789012345678901234567890123456789012345
+X+ MAP
+X+ |--|        |-------|-----|-----|-----|-----|-----|-----|-----|-----|------|
+X+ |..+########+.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+ |--|        |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+             |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+      #######+.......|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+---|
+X+      #      |..............................................................|
+X+      #      |..............................................................|
+X+      #      |.......|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+--|--+---|
+X+ |----+----| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+ |.........| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+ |.........| |.......|.....|.....|.....|.....|.....|.....|.....|.....|......|
+X+ |.........| |.......|-----|-----|-----|-----|-----|-----|-----|-----|------|
+X+ |.........| |..............................................................|
+X+ |.........| |..............................................................|
+X+ |.........| |.......|--+----------------------------+--|--+----------------|
+X+ |.........| |.......|..................................|...................|
+X+ |.........| |.......|..................................+...................|
+X+ |.........| |.......|..................................|...............\...|
+X+ |.........| |.......|..................................|...................|
+X+ |---------| |--------------------------------------------------------------|
+X+ ENDMAP
+X+ 
+X+ # the antechamber
+X+ REGION:(01,01,02,01),unlit,"ordinary"
+X+ # the actual school
+X+ REGION:(13,01,74,18),lit,"ordinary"
+X+ # the gym
+X+ REGION:(01,09,09,18),lit,"ordinary"
+X+ 
+X+ # Stairs: up in the antechamber, down behind the principal's throne
+X+ STAIR:(01,01),up
+X+ STAIR:(72,17),down
+X+ 
+X+ # main doors
+X+ DOOR:locked,(12,01)
+X+ DOOR:locked,(12,04)
+X+ # the classes
+X+ DOOR:locked,(23,04)
+X+ DOOR:locked,(29,04)
+X+ DOOR:locked,(35,04)
+X+ DOOR:locked,(41,04)
+X+ DOOR:locked,(47,04)
+X+ DOOR:locked,(53,04)
+X+ DOOR:locked,(59,04)
+X+ DOOR:locked,(65,04)
+X+ DOOR:locked,(71,04)
+X+ DOOR:locked,(23,07)
+X+ DOOR:locked,(29,07)
+X+ DOOR:locked,(35,07)
+X+ DOOR:locked,(41,07)
+X+ DOOR:locked,(47,07)
+X+ DOOR:locked,(53,07)
+X+ DOOR:locked,(59,07)
+X+ DOOR:locked,(65,07)
+X+ DOOR:locked,(71,07)
+X+ # the Teacher's Room
+X+ DOOR:locked,(23,14)
+X+ DOOR:locked,(52,14)
+X+ # the Principal's Office
+X+ DOOR:locked,(58,14)
+X+ DOOR:locked,(55,16)
+X+ # the Gym
+X+ DOOR:locked,(05,08)
+X+ 
+X+ # Engravings: the classes and other rooms
+X+ ENGRAVING:(23,05),burn,"C101"
+X+ ENGRAVING:(29,05),burn,"C102"
+X+ ENGRAVING:(35,05),burn,"C103"
+X+ ENGRAVING:(41,05),burn,"C104"
+X+ ENGRAVING:(47,05),burn,"C105"
+X+ ENGRAVING:(53,05),burn,"C106"
+X+ ENGRAVING:(59,05),burn,"C107"
+X+ ENGRAVING:(65,05),burn,"C108"
+X+ ENGRAVING:(71,05),burn,"C109"
+X+ ENGRAVING:(23,06),burn,"C201"
+X+ ENGRAVING:(29,06),burn,"C202"
+X+ ENGRAVING:(35,06),burn,"C203"
+X+ ENGRAVING:(41,06),burn,"C204"
+X+ ENGRAVING:(47,06),burn,"Library"
+X+ ENGRAVING:(53,06),burn,"B111 (Biology)"
+X+ ENGRAVING:(59,06),burn,"B115 (Chemical Storage)"
+X+ ENGRAVING:(65,06),burn,"B116 (Chemistry)"
+X+ ENGRAVING:(71,06),burn,"C311 (Computers)"
+X+ ENGRAVING:(23,13),burn,"Teacher's Room"
+X+ ENGRAVING:(52,13),burn,"Teacher's Room"
+X+ ENGRAVING:(58,13),burn,"Principal's Office"
+X+ ENGRAVING:(05,07),burn,"Abandon all hope, ye who enter here!"
+X+ ENGRAVING:(11,01),burn,"KILLER HIGH SCHOOL"
+X+ 
+X+ # Room C101, in memorial of my old kind but tough English teacher 
+X+ # Mr. Baumert
+X+ MONSTER:'@',"teacher",(23,03),"Mr. Baumert",peaceful
+X+ MONSTER:'@',"pupil",(21,01)
+X+ MONSTER:'@',"pupil",(22,01)
+X+ MONSTER:'@',"pupil",(23,01)
+X+ MONSTER:'@',"pupil",(24,01)
+X+ # MONSTER:'@',"pupil",(25,01)
+X+ # MONSTER:'@',"pupil",(21,02)
+X+ # MONSTER:'@',"pupil",(22,02)
+X+ # MONSTER:'@',"pupil",(23,02)
+X+ # MONSTER:'@',"pupil",(24,02)
+X+ # MONSTER:'@',"pupil",(25,02)
+X+ # MONSTER:'@',"pupil",(21,03)
+X+ # MONSTER:'@',"pupil",(22,03)
+X+ # MONSTER:'@',"pupil",(24,03)
+X+ # MONSTER:'@',"pupil",(25,03)
+X+ 
+X+ # Room C102, Mr. Gier. I have always loved his blasts of sleep.
+X+ MONSTER:'@',"teacher",(29,03),"Mr. Gier",hostile
+X+ MONSTER:'@',"pupil",(27,01)
+X+ MONSTER:'@',"pupil",(28,01)
+X+ MONSTER:'@',"pupil",(29,01)
+X+ MONSTER:'@',"pupil",(30,01)
+X+ MONSTER:'@',"pupil",(31,01)
+X+ # MONSTER:'@',"pupil",(27,02)
+X+ # MONSTER:'@',"pupil",(28,02)
+X+ # MONSTER:'@',"pupil",(29,02)
+X+ # MONSTER:'@',"pupil",(30,02)
+X+ # MONSTER:'@',"pupil",(31,02)
+X+ # MONSTER:'@',"pupil",(27,03)
+X+ # MONSTER:'@',"pupil",(28,03)
+X+ # MONSTER:'@',"pupil",(30,03)
+X+ # MONSTER:'@',"pupil",(31,03)
+X+ 
+X+ # Room C103. Mrs. Dickler. Her capabilities in explaining maths 
+X+ # were always of use.
+X+ MONSTER:'@',"teacher",(35,03),"Mrs. Dickler"
+X+ MONSTER:'@',"pupil",(33,01)
+X+ MONSTER:'@',"pupil",(34,01)
+X+ MONSTER:'@',"pupil",(35,01)
+X+ MONSTER:'@',"pupil",(36,01)
+X+ # MONSTER:'@',"pupil",(37,01)
+X+ # MONSTER:'@',"pupil",(33,02)
+X+ # MONSTER:'@',"pupil",(34,02)
+X+ # MONSTER:'@',"pupil",(35,02)
+X+ # MONSTER:'@',"pupil",(36,02)
+X+ # MONSTER:'@',"pupil",(37,02)
+X+ # MONSTER:'@',"pupil",(33,03)
+X+ # MONSTER:'@',"pupil",(34,03)
+X+ # MONSTER:'@',"pupil",(36,03)
+X+ # MONSTER:'@',"pupil",(37,03)
+X+ 
+X+ # Room C104. Mrs. Wessel. Thank you for being so kind ...
+X+ MONSTER:'@',"teacher",(41,03),"Mrs. Wessel"
+X+ MONSTER:'@',"pupil",(39,01)
+X+ MONSTER:'@',"pupil",(40,01)
+X+ MONSTER:'@',"pupil",(41,01)
+X+ MONSTER:'@',"pupil",(42,01)
+X+ # MONSTER:'@',"pupil",(43,01)
+X+ # MONSTER:'@',"pupil",(39,02)
+X+ # MONSTER:'@',"pupil",(40,02)
+X+ # MONSTER:'@',"pupil",(41,02)
+X+ # MONSTER:'@',"pupil",(42,02)
+X+ # MONSTER:'@',"pupil",(43,02)
+X+ # MONSTER:'@',"pupil",(39,03)
+X+ # MONSTER:'@',"pupil",(40,03)
+X+ # MONSTER:'@',"pupil",(42,03)
+X+ # MONSTER:'@',"pupil",(43,03)
+X+ 
+X+ # C105. Mr. Koerfgen - I have always loved your acid blasts
+X+ # Guess why there are so many corpses here :-)
+X+ MONSTER:'@',"teacher",(47,03),"Mr. Koerfgen",hostile
+X+ OBJECT:'/',"acid",(47,03)
+X+ MONSTER:'@',"pupil",(45,01)
+X+ OBJECT:'%',"corpse",(46,01),"pupil",0
+X+ MONSTER:'@',"pupil",(47,01)
+X+ OBJECT:'%',"corpse",(48,01),"pupil",0
+X+ MONSTER:'@',"pupil",(49,01)
+X+ OBJECT:'%',"corpse",(45,02),"pupil",0
+X+ # MONSTER:'@',"pupil",(46,02)
+X+ OBJECT:'%',"corpse",(47,02),"pupil",0
+X+ # MONSTER:'@',"pupil",(48,02)
+X+ OBJECT:'%',"corpse",(49,02),"pupil",0
+X+ # MONSTER:'@',"pupil",(45,03)
+X+ OBJECT:'%',"corpse",(46,03),"pupil",0
+X+ # MONSTER:'@',"pupil",(48,03)
+X+ OBJECT:'%',"corpse",(49,03),"pupil",0
+X+ 
+X+ # C106 is the residence of Mr. Schuster.
+X+ MONSTER:'@',"teacher",(53,03),"Mr. Schuster"
+X+ MONSTER:'@',"pupil",(51,01)
+X+ MONSTER:'@',"pupil",(52,01)
+X+ MONSTER:'@',"pupil",(53,01)
+X+ MONSTER:'@',"pupil",(54,01)
+X+ MONSTER:'@',"pupil",(55,01)
+X+ # MONSTER:'@',"pupil",(51,02)
+X+ # MONSTER:'@',"pupil",(52,02)
+X+ # MONSTER:'@',"pupil",(53,02)
+X+ # MONSTER:'@',"pupil",(54,02)
+X+ # MONSTER:'@',"pupil",(55,02)
+X+ # MONSTER:'@',"pupil",(51,03)
+X+ # MONSTER:'@',"pupil",(52,03)
+X+ # MONSTER:'@',"pupil",(54,03)
+X+ # MONSTER:'@',"pupil",(55,03)
+X+ 
+X+ # The room C107 is dedicated to the memorial of Mr. Marre who 
+X+ # perhaps was the most amusing and kind teacher known to mankind ...
+X+ MONSTER:'@',"teacher",(53,03),"Mr. Marre",peaceful
+X+ MONSTER:'@',"pupil",(51,01)
+X+ MONSTER:'@',"pupil",(52,01)
+X+ MONSTER:'@',"pupil",(53,01)
+X+ MONSTER:'@',"pupil",(54,01)
+X+ MONSTER:'@',"pupil",(55,01)
+X+ MONSTER:'@',"pupil",(51,02)
+X+ MONSTER:'@',"pupil",(52,02)
+X+ # MONSTER:'@',"pupil",(53,02)
+X+ # MONSTER:'@',"pupil",(54,02)
+X+ # MONSTER:'@',"pupil",(55,02)
+X+ # MONSTER:'@',"pupil",(51,03)
+X+ # MONSTER:'@',"pupil",(52,03)
+X+ # MONSTER:'@',"pupil",(54,03)
+X+ # MONSTER:'@',"pupil",(55,03)
+X+ 
+X+ # Room C108 is the torture chamber of another funny chemistry teacher,
+X+ # Mr. Ennen
+X+ MONSTER:'@',"teacher",(65,03),"Mr. Ennen"
+X+ MONSTER:'@',"pupil",(63,01)
+X+ MONSTER:'@',"pupil",(64,01)
+X+ MONSTER:'@',"pupil",(65,01)
+X+ MONSTER:'@',"pupil",(66,01)
+X+ MONSTER:'@',"pupil",(67,01)
+X+ MONSTER:'@',"pupil",(63,02)
+X+ # MONSTER:'@',"pupil",(64,02)
+X+ # MONSTER:'@',"pupil",(65,02)
+X+ # MONSTER:'@',"pupil",(66,02)
+X+ # MONSTER:'@',"pupil",(67,02)
+X+ # MONSTER:'@',"pupil",(63,03)
+X+ # MONSTER:'@',"pupil",(64,03)
+X+ # MONSTER:'@',"pupil",(66,03)
+X+ # MONSTER:'@',"pupil",(67,03)
+X+ 
+X+ # Room C109 is dedicated to Mr. Lewald, our former principal who was
+X+ # so kind to all - perhaps too kind ...
+X+ # Should me make him a principal in MONSTER: or not?
+X+ MONSTER:'@',"teacher",(71,03),"Mr. Lewald"
+X+ MONSTER:'@',"pupil",(69,01)
+X+ MONSTER:'@',"pupil",(70,01)
+X+ MONSTER:'@',"pupil",(71,01)
+X+ MONSTER:'@',"pupil",(72,01)
+X+ MONSTER:'@',"pupil",(73,01)
+X+ # MONSTER:'@',"pupil",(74,01)
+X+ # MONSTER:'@',"pupil",(69,02)
+X+ # MONSTER:'@',"pupil",(70,02)
+X+ # MONSTER:'@',"pupil",(71,02)
+X+ # MONSTER:'@',"pupil",(72,02)
+X+ # MONSTER:'@',"pupil",(73,02)
+X+ # MONSTER:'@',"pupil",(74,02)
+X+ # MONSTER:'@',"pupil",(69,03)
+X+ # MONSTER:'@',"pupil",(70,03)
+X+ # MONSTER:'@',"pupil",(72,03)
+X+ # MONSTER:'@',"pupil",(73,03)
+X+ # MONSTER:'@',"pupil",(74,03)
+X+ 
+X+ # Room C201 - Mr. Bitterberg
+X+ # Mr. Bitterberg, should you ever read this, I congratulate you for finally
+X+ # being convinced to use The One True Operating System, UNIX, and The One
+X+ # True Computer Game, Nethack.
+X+ MONSTER:'@',"teacher",(23,08),"Mr. Bitterberg"
+X+ MONSTER:'@',"pupil",(21,08)
+X+ MONSTER:'@',"pupil",(22,08)
+X+ MONSTER:'@',"pupil",(24,08)
+X+ # MONSTER:'@',"pupil",(25,08)
+X+ # MONSTER:'@',"pupil",(21,09)
+X+ # MONSTER:'@',"pupil",(22,09)
+X+ # MONSTER:'@',"pupil",(23,09)
+X+ # MONSTER:'@',"pupil",(24,09)
+X+ # MONSTER:'@',"pupil",(25,09)
+X+ # MONSTER:'@',"pupil",(21,10)
+X+ # MONSTER:'@',"pupil",(22,10)
+X+ # MONSTER:'@',"pupil",(23,10)
+X+ # MONSTER:'@',"pupil",(24,10)
+X+ # MONSTER:'@',"pupil",(25,10)
+X+ 
+X+ # Room C202 - Mr. Ellerhold
+X+ # He teaches Music, yet he is the most demanding teacher of the whole
+X+ # school, much to the dislike of the pupils (and that's the reason
+X+ # why there are so few pupils left).
+X+ MONSTER:'@',"teacher",(29,08),"Mr. Ellerhold"
+X+ MONSTER:'@',"pupil",(27,08)
+X+ MONSTER:'@',"pupil",(28,08)
+X+ 
+X+ # Room C203 - Mr. Hartstone
+X+ # He is very funny, in fact he is the teacher most entertaining to listen
+X+ # to ...
+X+ MONSTER:'@',"teacher",(35,08),"Mr. Hartstone",peaceful
+X+ MONSTER:'@',"pupil",(33,08)
+X+ MONSTER:'@',"pupil",(34,08)
+X+ MONSTER:'@',"pupil",(36,08)
+X+ MONSTER:'@',"pupil",(37,08)
+X+ MONSTER:'@',"pupil",(33,09)
+X+ MONSTER:'@',"pupil",(34,09)
+X+ # MONSTER:'@',"pupil",(35,09)
+X+ # MONSTER:'@',"pupil",(36,09)
+X+ # MONSTER:'@',"pupil",(37,09)
+X+ # MONSTER:'@',"pupil",(33,10)
+X+ # MONSTER:'@',"pupil",(34,10)
+X+ # MONSTER:'@',"pupil",(35,10)
+X+ # MONSTER:'@',"pupil",(36,10)
+X+ # MONSTER:'@',"pupil",(37,10)
+X+ 
+X+ # Room C204 - Mrs. Ludwig. She is one (perhaps the only) exception to
+X+ # the rule regarding PE teachers stated below ...
+X+ MONSTER:'@',"teacher",(41,08),"Mrs. Ludwig",peaceful
+X+ MONSTER:'@',"pupil",(39,08)
+X+ MONSTER:'@',"pupil",(40,08)
+X+ MONSTER:'@',"pupil",(42,08)
+X+ MONSTER:'@',"pupil",(43,08)
+X+ MONSTER:'@',"pupil",(39,09)
+X+ MONSTER:'@',"pupil",(40,09)
+X+ # MONSTER:'@',"pupil",(41,09)
+X+ # MONSTER:'@',"pupil",(42,09)
+X+ # MONSTER:'@',"pupil",(43,09)
+X+ # MONSTER:'@',"pupil",(39,10)
+X+ # MONSTER:'@',"pupil",(40,10)
+X+ # MONSTER:'@',"pupil",(41,10)
+X+ # MONSTER:'@',"pupil",(42,10)
+X+ # MONSTER:'@',"pupil",(43,10)
+X+ 
+X+ # The library, also the residence of Mrs. Meurer 
+X+ MONSTER:'@',"teacher",(47,08),"Mrs. Meurer"
+X+ OBJECT:'?',random,(45,08)
+X+ OBJECT:'?',random,(46,08)
+X+ OBJECT:'+',random,(47,08)
+X+ OBJECT:'?',random,(48,08)
+X+ OBJECT:'?',random,(49,08)
+X+ OBJECT:'?',random,(45,09)
+X+ OBJECT:'?',random,(46,09)
+X+ OBJECT:'+',random,(47,09)
+X+ OBJECT:'?',random,(48,09)
+X+ OBJECT:'?',random,(49,09)
+X+ OBJECT:'?',random,(45,10)
+X+ OBJECT:'?',random,(46,10)
+X+ OBJECT:'+',random,(47,10)
+X+ OBJECT:'?',random,(48,10)
+X+ OBJECT:'?',random,(49,10)
+X+ 
+X+ # The biology room (B111), occupied by Mr. Overbeck, who always was
+X+ # kind and always had time for a joke
+X+ # Mr. Overbeck is not peaceful - so let's have fun with polymorph ...
+X+ MONSTER:'@',"teacher",(53,08),"Mr. Overbeck"
+X+ OBJECT:'/',"polymorph",(53,08)
+X+ # He has a wand of polymorph and always was *very* generous in its usage ...
+X+ # the following are the (former) pupils.
+X+ MONSTER:random,random,(51,08)
+X+ MONSTER:random,random,(52,08)
+X+ MONSTER:random,random,(54,08)
+X+ MONSTER:random,random,(55,08)
+X+ MONSTER:random,random,(51,09)
+X+ MONSTER:random,random,(52,09)
+X+ MONSTER:random,random,(53,09)
+X+ # MONSTER:random,random,(54,09)
+X+ # MONSTER:random,random,(55,09)
+X+ # MONSTER:random,random,(51,10)
+X+ # MONSTER:random,random,(52,10)
+X+ # MONSTER:random,random,(53,10)
+X+ # MONSTER:random,random,(54,10)
+X+ # MONSTER:random,random,(55,10)
+X+ 
+X+ # The chemical storage (B115)
+X+ OBJECT:'!',random,(57,08)
+X+ OBJECT:'!',random,(58,08)
+X+ OBJECT:'!',random,(59,08)
+X+ OBJECT:'!',random,(60,08)
+X+ OBJECT:'!',random,(61,08)
+X+ OBJECT:'!',random,(57,09)
+X+ OBJECT:'!',random,(58,09)
+X+ OBJECT:'!',random,(59,09)
+X+ OBJECT:'!',random,(60,09)
+X+ OBJECT:'!',random,(61,09)
+X+ OBJECT:'!',random,(57,10)
+X+ OBJECT:'!',random,(58,10)
+X+ OBJECT:'!',random,(59,10)
+X+ OBJECT:'!',random,(60,10)
+X+ OBJECT:'!',random,(61,10)
+X+ 
+X+ # The chemistry room (B116) is occupied by Mr. Klomp, the teacher I believe to
+X+ # be most balanced between teaching, kindness and humour.
+X+ MONSTER:'@',"teacher",(65,08),"Mr. Klomp",peaceful
+X+ MONSTER:'@',"pupil",(63,08)
+X+ MONSTER:'@',"pupil",(64,08)
+X+ MONSTER:'@',"pupil",(66,08)
+X+ MONSTER:'@',"pupil",(67,08)
+X+ MONSTER:'@',"pupil",(63,09)
+X+ MONSTER:'@',"pupil",(64,09)
+X+ MONSTER:'@',"pupil",(65,09)
+X+ # MONSTER:'@',"pupil",(66,09)
+X+ # MONSTER:'@',"pupil",(67,09)
+X+ # MONSTER:'@',"pupil",(63,10)
+X+ # MONSTER:'@',"pupil",(64,10)
+X+ # MONSTER:'@',"pupil",(65,10)
+X+ # MONSTER:'@',"pupil",(66,10)
+X+ # MONSTER:'@',"pupil",(67,10)
+X+ 
+X+ # The computer room (C311), and, with it, Mr. Alers
+X+ MONSTER:'@',"teacher",(71,08),"Mr. Alers",peaceful
+X+ MONSTER:'@',"pupil",(69,08)
+X+ MONSTER:'@',"pupil",(70,08)
+X+ MONSTER:'@',"pupil",(72,08)
+X+ MONSTER:'@',"pupil",(73,08)
+X+ MONSTER:'@',"pupil",(74,08)
+X+ MONSTER:'@',"pupil",(69,09)
+X+ MONSTER:'@',"pupil",(70,09)
+X+ MONSTER:'@',"pupil",(71,09)
+X+ MONSTER:'@',"pupil",(72,09)
+X+ # MONSTER:'@',"pupil",(73,09)
+X+ # MONSTER:'@',"pupil",(74,09)
+X+ # MONSTER:'@',"pupil",(69,10)
+X+ # MONSTER:'@',"pupil",(70,10)
+X+ # MONSTER:'@',"pupil",(71,10)
+X+ # MONSTER:'@',"pupil",(72,10)
+X+ # MONSTER:'@',"pupil",(73,10)
+X+ # MONSTER:'@',"pupil",(74,08)
+X+ OBJECT:'(',"pack of floppies",(69,08)
+X+ OBJECT:'(',"pack of floppies",(70,08)
+X+ OBJECT:'(',"pack of floppies",(71,08)
+X+ OBJECT:'(',"pack of floppies",(72,08)
+X+ OBJECT:'(',"pack of floppies",(73,08)
+X+ OBJECT:'(',"pack of floppies",(74,08)
+X+ OBJECT:'(',"pack of floppies",(69,09)
+X+ OBJECT:'(',"pack of floppies",(70,09)
+X+ OBJECT:'(',"pack of floppies",(71,09)
+X+ OBJECT:'(',"pack of floppies",(72,09)
+X+ OBJECT:'(',"pack of floppies",(73,09)
+X+ OBJECT:'(',"pack of floppies",(74,09)
+X+ OBJECT:'(',"pack of floppies",(69,10)
+X+ OBJECT:'(',"pack of floppies",(70,10)
+X+ OBJECT:'(',"pack of floppies",(71,10)
+X+ OBJECT:'(',"pack of floppies",(72,10)
+X+ OBJECT:'(',"pack of floppies",(73,10)
+X+ OBJECT:'(',"pack of floppies",(74,10)
+X+ 
+X+ # the Teacher's Room
+X+ MONSTER:'@',"teacher",(30,16),"Mr. Biciste"
+X+ 
+X+ # the Principal
+X+ MONSTER:'@',"principal",(71,17),"Mr. Gemein"
+X+ MONSTER:'@',"teacher",(70,17),"Mr. Haas"
+X+ 
+X+ # the Gym
+X+ # it contains such crap as Mr. Geis and Mrs. Haastert
+X+ # Remember the old rule that all PE teachers are sadists.
+X+ # (with very few exceptions)
+X+ MONSTER:'@',"teacher",(02,12),"Mr. Geis"
+X+ MONSTER:'@',"teacher",(08,15),"Mrs. Haastert"
+X+ MONSTER:'@',"pupil",(01,09)
+X+ MONSTER:'@',"pupil",(02,10)
+X+ MONSTER:'@',"pupil",(03,11)
+X+ MONSTER:'@',"pupil",(04,12)
+X+ MONSTER:'@',"pupil",(05,13)
+X+ MONSTER:'@',"pupil",(06,14)
+X+ MONSTER:'@',"pupil",(07,15)
+X+ MONSTER:'@',"pupil",(08,16)
+X+ MONSTER:'@',"pupil",(09,17)
+X+ # MONSTER:'@',"pupil",(01,18)
+X+ # MONSTER:'@',"pupil",(02,09)
+X+ # MONSTER:'@',"pupil",(01,10)
+X+ # MONSTER:'@',"pupil",(01,11)
+X+ # MONSTER:'@',"pupil",(01,12)
+X+ # MONSTER:'@',"pupil",(01,13)
+X+ # This is the ultimate fate of those addicted to sports ...
+X+ MONSTER:'Z',"human zombie",(01,14)
+X+ MONSTER:'Z',"human zombie",(01,15)
+X+ MONSTER:'Z',"human zombie",(01,16)
+X+ MONSTER:'Z',"human zombie",(01,17)
+X+ MONSTER:'Z',"skeleton",(01,18)
+X+ 
+X+ # The Computer Land
+X+ MAZE: "compu", ' '
+X+ GEOMETRY: center,center
+X+ #         1         2         3         4         5         6         7
+X+ # 23456789012345678901234567890123456789012345678901234567890123456789012345
+X+ MAP
+X+ |--------------------------------------------------------------------------|
+X+ |....|.....................................................................|
+X+ |-+--|.....................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |..........................................................................|
+X+ |.....................................................................|--+-|
+X+ |.....................................................................|....|
+X+ |--------------------------------------------------------------------------|
+X+ ENDMAP
+X+ 
+X+ DOOR:locked,(02,02)
+X+ STAIR:(01,01),up
+X+ DOOR:locked,(73,17)
+X+ STAIR:(74,18),down
+X+ 
+X+ MONSTER:'x',"PDP-9",random
+X+ MONSTER:'x',"PDP-11",random
+X+ MONSTER:'x',"VAX",random
+X+ MONSTER:'x',"Cray",random
+X+ MONSTER:'&',"news daemon",random
+X+ MONSTER:'&',"printer daemon",random
+X+ MONSTER:'&',"UNIX Kernel",random
+X+ 
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"bug",random
+X+ MONSTER:'x',"heisenbug",random
+X+ MONSTER:'x',"heisenbug",random
+X+ 
+X+ OBJECT:'=',"timely backup",random
+X+ OBJECT:'?',"root password detection",random
+X+ OBJECT:'"',"amulet of data storage",random
+X+ OBJECT:'/',"bugging",random
+X+ 
+X*** /tmp/tmp.1285	Sat May 28 21:14:24 1994
+X--- ./dat/data.base	Sun May 22 19:51:39 1994
+X***************
+X*** 102,107 ****
+X--- 102,136 ----
+X  		pentacle).   Traditionally, the  athame  is  a double-edged,
+X  		black-handled,  cross-hilted   dagger  of  between  six  and
+X  		eighteen inches length.
+X+ babelfish
+X+ 		"The Babel fish," said The Hitch  Hiker's Guide  to  the  Galaxy
+X+ 		quietly,  "is  small,  yellow  and  leech-like, and probably the
+X+ 		oddest thing in the Universe. It feeds on brainwave  energy  not
+X+ 		from  its  carrier  but  from  those around  it.  It absorbs all
+X+ 		unconscious mental frequencies  from this  brainwave  energy  to
+X+ 		nourish  itself  with.  It then  excretes  into  the mind of its
+X+ 		carrier a telepathic matrix formed  by  combining the  conscious
+X+ 		thought frequencies with nerve signals picked up from the speech
+X+ 		centres of the brain which  has  supplied  them.  The  practical
+X+ 		upshot of all this is that if you stick a Babel fish in your ear
+X+ 		you can instantly understand anything said to you in any form of
+X+ 		language.  The  speech  patterns  you actually  hear  decode the
+X+ 		brainwave matrix which has been fed into your mind by your Babel
+X+ 		fish.
+X+ 		[...] 
+X+ 		"Meanwhile, the poor Babel  fish, by  effectively  removing  all
+X+ 		barriers  to communication between different races and cultures,
+X+ 		has caused more and bloddier wars  than  anything  else  in  the
+X+ 		history of creation."
+X+ 		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+X+ bug
+X+ 	 	n. An unwanted  and  unintended  property of a  program or piece
+X+ 	 	of hardware, esp. one that causes it to malfunction.  Antonym of
+X+ 	  	{feature}.   Examples: "There's a bug  in the editor:  it writes
+X+ 		things out backwards." "The system crashed because of a hardware
+X+ 	  	bug."   "Fred is a winner, but he has a few bugs" (i.e., Fred is
+X+ 	   	a good guy, but he has a few personality problems).
+X+ 		[ The Jargon File, version 3.0.0 ]
+X  *centaur
+X  		Of all the monsters put together by  the  Greek  imagination
+X  		the  Centaurs (Kentauroi) constituted a class in themselves.
+X***************
+X*** 144,149 ****
+X--- 173,313 ----
+X  		sicken and die.
+X  		[ Mythical Beasts by Deirdre Headon (The Leprechaun Library)
+X  		  and other sources ]
+X+ creeping 42
+X+ 		These are the incarnations of The Answer (although nobody
+X+ 		knows the question). Eating the dead body of one gives
+X+ 		you a short, but insightful glimpse on the answer, thereby
+X+ 		greatly increasing your experience in life. However the
+X+ 		shock will cause your vision to blur temporarily.
+X+ Cray
+X+ 		:cray: /kray/ n. 1. (properly, capitalized) One of the line of
+X+ 		supercomputers designed by Cray Research. 2.Any supercomputer at
+X+ 		all.  3. The {canonical} {number-crunching} machine.
+X+ 
+X+ 		The term is actually the lowercased last name of Seymour Cray, a
+X+ 		noted computer architect and co-founder of the company. Numerous
+X+ 		vivid legends surround him, some true and some admittedly invented
+X+ 		by Cray Research brass to shape their corporate culture and image.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X+ Deep Thought
+X+ 		"O people waiting in the Shadow of Deep Thought!" he cried  out.
+X+ 		"Honoured Descendants of Vroomfondel and Majikthise,the Greatest
+X+ 		and Most Truly Interesting Pundits the Universe has  ever  known
+X+ 		... The Time of Waiting is over!"
+X+ 		[...] 
+X+ 		"Seven and a half million years our  race  has waited  for  this
+X+ 		Great  and  Hopefully Enlightening Day!" cried the cheer leader.
+X+ 		"The Day of the Answer!"
+X+ 		[...] 
+X+ 		"The time is nearly upon us," said one, and Arthur was surprised
+X+ 		to see a word suddenly materialize in thin air just by the man's
+X+ 		neck. The word was Loonquawl, and it flashed a couple  of  times
+X+ 		and then disappeared again. Before Arthur was able to assimilate
+X+ 		this the other man spoke and the word  Phouchg  appeared by  his
+X+ 		neck.
+X+  
+X+ 		"Seventy-five thousand generations ago, our ancestors  set  this
+X+ 		program in motion," the second man said,"and in all that time we
+X+ 		will be the first to hear the computer speak."
+X+  
+X+ 		"An awesome prospect, Phouchg," agreed the first man, and Arthur
+X+ 		suddenly   realized   that  he  was  watching  a recording  with
+X+ 		subtitles.
+X+  
+X+ 		"We are the ones who will hear," said Phouchg,"the answer to the
+X+ 		great question of Life ...!"
+X+  
+X+ 		"The Universe ...!" said Loonquawl.
+X+  
+X+ 		"And Everything ...!"
+X+  
+X+ 		"Shhh," said Loonquawl with  a  slight  gesture, "I  think  Deep
+X+ 		Thought is preparing to speak!"
+X+  
+X+ 		There was a  moment's expectant  pause whilst panels slowly came
+X+ 		to life on the front of  the  console. Lights flashed on and off
+X+ 		experimentally and settled down into a businesslike  pattern.  A
+X+ 		soft low hum came from the communication channel.
+X+  
+X+ 		"Good morning," said Deep Thought at last.
+X+  
+X+ 		"Er ... Good morning, O Deep Thought," said Loonquawl nervously,
+X+ 		"do you have ... er, that is ..."
+X+  
+X+ 		"An answer for you?" interrupted Deep Thought majestically."Yes.
+X+ 		I have."
+X+  
+X+ 		The two men shivered with expectancy. Their waiting had not been
+X+ 		in vain.
+X+  
+X+ 		"There really is one?" breathed Phouchg.
+X+  
+X+ 		"There really is one," confirmed Deep Thought.
+X+  
+X+ 		"To Everything? To the great Question of Life, the  Universe and
+X+ 		Everything?"
+X+  
+X+ 		"Yes."
+X+  
+X+ 		Both of the men had been trained for this moment,their lives had
+X+ 		been  a  preparation  for it, they had been selected at birth as
+X+ 		those who would witness the  answer,  but  even  so  they  found
+X+ 		themselves gasping and squirming like excited children.
+X+  
+X+ 		"And you're ready to give it to us?" urged Loonquawl.
+X+  
+X+ 		"I am."
+X+  
+X+ 		"Now?"
+X+  
+X+ 		"Now," said Deep Thought.
+X+  
+X+ 		They both licked their dry lips.
+X+  
+X+ 		"Though I don't think," added Deep Thought,"that you're going to
+X+ 		like it."
+X+  
+X+ 		"Doesn't matter!" said Phouchg. "We must know it! Now!"
+X+  
+X+ 		"Now?" inquired Deep Thought.
+X+  
+X+ 		"Yes! Now ..."
+X+  
+X+ 		"Alright," said the computer and settled into silence again. The
+X+ 		two men fidgeted. The tension was unbearable.
+X+  
+X+ 		"You're really not going to like it," observed Deep Thought.
+X+  
+X+ 		"Tell us!"
+X+  
+X+ 		"Alright," said Deep Thought. "The Answer to the  Great Question
+X+ 		..."
+X+  
+X+ 		"Yes ...!"
+X+  
+X+ 		"Of Life, the Universe and Everything ..." said Deep Thought.
+X+  
+X+ 		"Yes ...!"
+X+  
+X+ 		"Is ..." said Deep Thought, and paused.
+X+  
+X+ 		"Yes ...!"
+X+  
+X+ 		"Is ..."
+X+  
+X+ 		"Yes ...!!!...?"
+X+  
+X+ 		"Forty-two," said Deep Thought, with infinite majesty and calm.
+X+ 
+X+ 		[ The Hitchhiker's Guide To The Galaxy by Douglas Adams ]
+X+ Douglas Adams
+X+ 		Note to the real Douglas Adams: should you really ever read
+X+ 		this text, please do not get upset about how you and your
+X+ 		characters are represented in this work, but rather remember
+X+ 		that it was you (yes, *you*) who started all this stuff!
+X+ 		"All IMNSHO, constructive comments by e-mail, flame and
+X+ 		murder threats to /dev/null, don't bother with flames,
+X+ 		I'm fire resistant."
+X  *dragon
+X  		In the West  the dragon was  the  natural  enemy   of   man.
+X  		Although  preferring  to live in bleak and desolate regions,
+X***************
+X*** 155,160 ****
+X--- 319,347 ----
+X  		thrashings  of  its  tail,  the  most   deadly  part  of its
+X  		serpent-like body.
+X  		[Mythical Beasts by Deirdre Headon (The Leprechaun Library)]
+X+ Eddie
+X+ 		"Hi there! This is Eddie your shipboard computer, and I'm feeling
+X+ 		just  great  guys,  and  I know I'm just going to get a bundle of
+X+ 		kicks out of any programme you care to run through me."
+X+  
+X+ 		Arthur looked inquiringly at Trillian. She motioned him  to  come
+X+ 		on in but keep quiet.
+X+  
+X+ 		"Computer,"  said  Zaphod,  "tell  us  again  what  our   present
+X+ 		trajectory is."
+X+  
+X+ 		"A real pleasure feller," it burbled, "we are currently in  orbit
+X+ 		at an altitude of three hundred miles around the legendary planet
+X+ 		of Magrathea."
+X+  
+X+ 		"Proving nothing," said Ford. "I wouldn't trust that computer  to
+X+ 		speak my weight."
+X+  
+X+ 	"	I can do that for you, sure," enthused  the  computer,  punching
+X+ 		out  more  tickertape.  "I  can  even  work  out  you personality
+X+ 		problems to ten decimal places if it will help."
+X+ 
+X+ 			[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
+X  *elemental
+X  		Elementals are manifestations of the  basic  nature  of  the
+X  		universe.   There  are four known forms of elementals:  air,
+X***************
+X*** 162,167 ****
+X--- 349,376 ----
+X  		necessity  for  a fifth type, the spirit elemental, but none
+X  		have ever been encountered, at least on this  plane  of  ex-
+X  		istence.
+X+ Ford Perfect
+X+ Ford Prefect
+X+ 		By a curious coincidence,  None  at  all  is  exactly  how  much
+X+ 		suspicion  the ape-descendant  Arthur  Dent  had that one of his
+X+ 		closest friends was not descended from an ape, but was  in  fact
+X+ 		from  a  small planet in the vicinity of Betelgeuse and not from
+X+ 		Guildford as he usually claimed.
+X+  
+X+ 		Arthur Dent had never, ever suspected this.
+X+  
+X+ 		This friend of his had first arrived on the planet some  fifteen
+X+ 		Earth  years previously, and he had worked hard to blend himself
+X+ 		into Earth society - with, it must be said,  some  success.  For
+X+ 		instance he had spent those fifteen years pretending to be an out
+X+ 		of work actor, which was plausible enough.
+X+  
+X+ 		He had made one careless blunder though,because he had skimped a
+X+ 		bit on his preparatory research. The information he had gathered
+X+ 		had  led him to  choose the name "Ford Prefect" [sic]  as  being
+X+ 		inconspicuous.
+X+ 
+X+ 		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams]
+X  *giant
+X  giant humanoid
+X  		Giants have always walked the earth, though they are rare in
+X***************
+X*** 212,217 ****
+X--- 421,441 ----
+X  gunyoki
+X  		The samurai's last meal  before battle.  It was usually made
+X  		up of cooked chestnuts, dried seaweed, and sake.
+X+ heisenbug
+X+ 		:heisenbug:
+X+ 		/hi:'zen-buhg/ [from Heisenberg's Uncertainty
+X+ 		Principle in quantum physics] n. A bug that disappears or alters
+X+ 		its behavior when one attempts to probe or isolate it.(This usage
+X+ 		is not even particularly fanciful; the use of a debugger sometimes
+X+ 		alters a program's operating environment significantly enough
+X+ 		that buggy code, such as that which relies on the values of
+X+ 		uninitialized memory, behaves quite differently.)  Antonym of
+X+ 		{Bohr bug}; see also {mandelbug}, {schroedinbug}.  In C,
+X+ 		nine out of ten heisenbugs result from uninitialized auto
+X+  		variables, {fandango on core} phenomena (esp. lossage related
+X+ 		to corruption of the malloc {arena}) or errors that {smash
+X+ 		the stack}.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X  hobbit
+X  		Hobbits  are  an unobtrusive  but very ancient people,  more
+X  		numerous formerly than they are today;  for they love  peace
+X***************
+X*** 323,329 ****
+X  		for Elves at any time.
+X  koto
+X  		A Japanese harp.
+X! leprechaun
+X  		The Irish Leprechaun is the Faeries' shoemaker and is  known
+X  		under  various names  in different parts of Ireland:  Cluri-
+X  		caune in Cork, Lurican in Kerry, Lurikeen in Kildare and Lu-
+X--- 547,553 ----
+X  		for Elves at any time.
+X  koto
+X  		A Japanese harp.
+X! *leprechaun*
+X  		The Irish Leprechaun is the Faeries' shoemaker and is  known
+X  		under  various names  in different parts of Ireland:  Cluri-
+X  		caune in Cork, Lurican in Kerry, Lurikeen in Kildare and Lu-
+X***************
+X*** 381,386 ****
+X--- 605,611 ----
+X  		of _mithril_ did not tarnish  or grow dim.
+X  			   [ The Fellowship of the Ring, by J.R.R. Tolkien ]
+X  mumak*
+X+ giant mumak
+X  		... the Mumak of Harad was indeed  a beast of vast bulk, and
+X  		the like of him  does not walk now in Middle-Earth;  his kin
+X  		that live still in latter days are but memories of his girth
+X***************
+X*** 412,417 ****
+X--- 637,665 ----
+X  					   [ The Hobbit, by J.R.R. Tolkien ]
+X  osaku
+X  		The osaku is a small tool for picking locks.
+X+ PDP-*
+X+ 		:PDP-10:
+X+ 		[Programmed Data Processor model 10] n. The machine that
+X+ 		made timesharing real. It looms large in hacker folklore because
+X+ 		of its adoption in the mid-1970s by many university computing
+X+ 		facilities and research labs,including the MIT AI Lab, Stanford,
+X+ 		and CMU.  Some aspects of the instruction set (most notably the
+X+ 		bit-field instructions) are still considered unsurpassed. The 10
+X+ 		was eventually eclipsed by the VAX machines (descendants of the
+X+ 		PDP-11) when DEC recognized that the 10 and VAX product lines were
+X+ 		competing with each other and decided to concentrate its software
+X+ 		development effort on the more profitable VAX. The machine was
+X+ 		finally dropped from DEC's line in 1983,following the failure of
+X+ 		the Jupiter Project at DEC to build a viable new model.  (Some
+X+ 		attempts by other companies to market clones came to nothing;see
+X+ 		{Foonly} and {Mars}.)  This event spelled the doom of
+X+ 		{{ITS}} and the technical cultures that had spawned the original
+X+ 		Jargon File, but by mid-1991 it had become something of a badge of
+X+ 		honorable old-timerhood among hackers to have cut one's teeth on a
+X+ 		PDP-10.  See {{TOPS-10}}, {{ITS}}, {AOS}, {BLT}, {DDT},
+X+ 		{DPB}, {EXCH}, {HAKMEM}, {JFCL}, {LDB}, {pop},
+X+ 		{push}, {Appendix A}.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X  piercer
+X  		Ye Piercer doth look like unto  a  stalactyte,  and  hangeth
+X  		from  the  roofs of caves and caverns.  Unto the height of a
+X***************
+X*** 421,426 ****
+X--- 669,688 ----
+X  		it  to kill and devour it, though in any other way they move
+X  		but exceeding slow.
+X  						   [ the Bestiary of Xygag ]
+X+ Prostetnik Vogon Jeltz
+X+ 		Prostetnic Vogon Jeltz was not a pleasant sight, even  for other
+X+ 		Vogons.  His  highly  domed nose  rose  high above a small piggy
+X+ 		forehead.His dark green rubbery skin was thick enough for him to
+X+ 		play the game of Vogon Civil Service politics, and play it well,
+X+ 		and waterproof enough for him  to  survive indefinitely  at  sea
+X+ 		depths of up to a thousand feet with no ill effects.
+X+ 		Not that he ever went swimming of course.His busy schedule would
+X+ 		not allow it.
+X+ 		[...] 
+X+ 		Prostetnic Vogon Jeltz was a fairly typical Vogon in that he was
+X+ 		thoroughly vile. Also, he did not like hitch hikers.
+X+ 
+X+ 		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+X  quantum mechanic
+X  		These creatures are not native to this universe;  they  seem
+X  		to have strangely derived powers, and unknown motives.
+X***************
+X*** 472,477 ****
+X--- 734,757 ----
+X  		belligerent tengus were supposed to have  been  man's  first
+X  		instructors in the use of arms.
+X  		[Mythical Beasts by Deirdre Headon (The Leprechaun Library)]
+X+ towel
+X+ Ravenous Bugblatter Beast Of Traal
+X+ 		A towel, it says, is about the most massively  useful  thing  an
+X+ 		interstellar hitch hiker can have. Partly it has great practical
+X+ 		value-you can wrap it around you for warmth as you bound across
+X+ 		the cold moons of Jaglan Beta;you can lie on it on the brilliant
+X+ 		marble-sanded beaches of Santraginus V, inhaling the  heady  sea
+X+ 		vapours; you can sleep under it beneath the stars which shine so
+X+ 		redly on the desert world of Kakrafoon; use it  to  sail a  mini
+X+ 		raft  down the slow heavy river Moth; wet it for use in hand-to-
+X+ 		hand-combat;wrap it round your head to ward off noxious fumes or
+X+ 		to  avoid  the gaze of the Ravenous Bugblatter Beast of Traal (a
+X+ 		mindboggingly stupid animal,it assumes that if you can't see it,
+X+ 		it  can't see  you - daft as a bush, but very ravenous); you can
+X+ 		wave your towel in emergencies as  a  distress  signal,  and  of
+X+ 		course  dry  yourself off  with it if it still seems to be clean
+X+ 		enough.
+X+ 		[ The Hitchhiker's Guide To The Galaxy, by Douglas Adams ]
+X  tsurugi
+X  		The tsurugi,  also known  as  the long samurai sword,  is an
+X  		extremely  sharp,  two-handed blade favored  by the samurai.
+X***************
+X*** 501,509 ****
+X--- 781,856 ----
+X  		in her lap, and in this docile mood, the maiden  may  secure
+X  		it with a golden rope.
+X  		[Mythical Beasts by Deirdre Headon (The Leprechaun Library)]
+X+ *UNIX*
+X+ 		:UNIX:: /yoo'niks/ [In the authors' words, "A weak pun on
+X+ 		Multics"] n. (also `Unix') An interactive time-sharing system
+X+ 		invented in 1969 by Ken Thompson after Bell Labs left the Multics
+X+ 		project,originally so he could play games on his scavengedPDP-7.
+X+ 		Dennis Ritchie the inventor of C,is considered a co-author of the
+X+ 		system.  The turning point in UNIX's history came when it was
+X+ 		reimplemented almost entirely in C during 1972--1974, making it the
+X+ 		first source-portable OS.  UNIX subsequently underwent mutations
+X+ 		and expansions at the hands of many different people,resulting in
+X+ 		a uniquely flexible and developer-friendly environment. By 1991,
+X+ 		UNIX had become the most widely used multiuser general-purpose
+X+ 		operating system in the world.Many people consider this the most
+X+ 		important victory yet of hackerdom over industry opposition (but
+X+ 		see {UNIX weenie} and {UNIX conspiracy} for an opposing point
+X+ 		of view).  See {Version 7}, {BSD}, {USG UNIX}.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X+ VAX
+X+ 		:VAX: /vaks/ n. 1. [from Virtual Address eXtension] The most
+X+ 		successful minicomputer design in industry history, possibly
+X+ 		excepting its immediate ancestor, the PDP-11.Between its release
+X+ 		in 1978 and its eclipse by {killer micro}s after about 1986, the
+X+ 		VAX was probably the hacker's favorite machine of them all, esp.
+X+ 		after the 1982 release of 4.2 BSD UNIX (see {BSD}).  Esp.
+X+ 		noted for its large,assembler-programmer-friendly instruction set
+X+ 		--- an asset that became a liability after the RISC revolution.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X+ vogon
+X+ vogon lord
+X+ 		                                     [...] Billions of years ago
+X+ 		when the Vogons had first crawled out of the  sluggish  primeval
+X+ 		seas  of  Vogsphere,  and  had  lain panting  and heaving on the
+X+ 		planet's virgin shores...when the first rays of the bright young
+X+ 		Vogsol  sun had shone across them that morning, it was as if the
+X+ 		forces of evolution ad simply given up on them there  and  then,
+X+ 		had  turned aside in disgust and written them off as an ugly and
+X+ 		unfortunate mistake. They never evolved again; they should never
+X+ 		have survived.
+X+ 		[...] 
+X+ 		Meanwhile, the natural forces on the planet  Vogsphere had  been
+X+ 		working  overtime  to  make  up  for their earlier blunder. They
+X+ 		brought forth scintillating jewelled scuttling crabs, which  the
+X+ 		Vogons  ate,  smashing  their  shells  with  iron mallets;  tall
+X+ 		aspiring trees with breathtaking slenderness and colour which the
+X+ 		Vogons  cut down and burned the crab meat with; elegant gazelle-
+X+ 		like creatures with silken coats and dewy eyes which the  Vogons
+X+ 		would  catch  and  sit on. They were no use as transport because
+X+ 		their backs would snap instantly, but the  Vogons  sat  on  them
+X+ 		anyway.
+X+ 
+X+ 		[ The Hitchhiker's Guide to the Galaxy by Douglas Adams ] 
+X  wakizashi
+X  		The samurai  warrior  traditionally  wears  two  swords; the
+X  		wakizashi is the shorter of the two.  See also katana.
+X+ walking disk drive
+X+ 		:walking drives: n. An occasional failure mode of magnetic-disk
+X+ 		drives back in the days when they were huge, clunky {washing
+X+ 		machine}s.  Those old {dinosaur} parts carried terrific angular
+X+ 		momentum;the combination of a misaligned spindle or worn bearings
+X+ 		and stick-slip interactions with the floor could cause them to
+X+ 		`walk' across a room, lurching alternate corners forward a couple
+X+ 		of millimeters at a time.  There is a legend about a drive that
+X+ 		walked over to the only door to the computer room and jammed it
+X+ 		shut; the staff had to cut a hole in the wall in order to get at
+X+ 		it!  Walking could also be induced by certain patterns of drive
+X+ 		access(a fast seek across the whole width of the disk,followed by
+X+ 		a slow seek in the other direction).  Some bands of old-time
+X+ 		hackers figured out how to induce disk-accessing patterns that
+X+ 		would do this to particular drive models and held disk-drive races.
+X+ 		[ The Jargon File, version 3.0.0 ]
+X  *long worm
+X  worm tooth
+X  crysknife
+X*** /tmp/tmp.1285	Sat May 28 21:14:26 1994
+X--- ./dat/quest.txt	Sun May 22 16:02:13 1994
+X***************
+X*** 965,970 ****
+X--- 965,1196 ----
+X  "Thus will you fulfill your destiny."
+X  %E
+X  #
+X+ #	Geek
+X+ #
+X+ %Cc G 00001
+X+ You now enter what is pretty known to you - it is the location of
+X+ the Holy Development Team, which in a year-long effort developed
+X+ the computer game "NetHack". 
+X+ 
+X+ With a sudden feeling of melancholy you remember the patches you
+X+ yourself wrote and contributed to that game. You truly believe
+X+ that this game is the best of all games known to mankind.
+X+ 
+X+ However -- something has changed. At first you cannot tell what,
+X+ but then you notice. Everywhere there are hostile monsters like
+X+ the ones you used to program in NetHack, but, now in reality.
+X+ 
+X+ What the heck is going on here?!
+X+ %E
+X+ %Cp G 00002
+X+ Once again you approach %H.
+X+ %E
+X+ %Cp G 00003
+X+ As you again approach %H you fear it might be the last time you see this place.
+X+ %E
+X+ %Cp G 00005
+X+ "Written any patches lately?"
+X+ %E
+X+ %Cp G 00006
+X+ "Do _you_ know what erf(3M) does?"
+X+ %E
+X+ %Cc G 00007
+X+ "How do you like this implementation of the Ravenous Bugblatter of Traal"
+X+ You reply, "Be careful not to get sued for copyright infringement!"
+X+ %E
+X+ %Cp G 00008
+X+ :-)
+X+ %E
+X+ %Cp G 00009
+X+ "May the force be with you!"
+X+ %E
+X+ %Cc G 00010
+X+ "It is a pleasure to see you again, %p.
+X+ 
+X+ Horrible things have happened since our last meeting and I really need
+X+ a brave %R to clean up things for once and all.
+X+ 
+X+ Let me see whether you are really able to cope with the task ... "
+X+ %E
+X+ %Cp G 00011
+X+ "Please stand still while I finger(1) your state ..."
+X+ %E
+X+ %Cp G 00012
+X+ $ finger %p
+X+ %E
+X+ %Cc G 00013
+X+ "This was too much. You'll never attain the state of Hackishness.
+X+ Now begone!"
+X+ %E
+X+ %Cc G 00014
+X+ "I see you fighting %n and finally being done in by him, who we call
+X+ The Dark Lord Of Software.
+X+ No, I can't let you go like this, I really can't see a chance of a 
+X+ %r fighting against Him. 
+X+ I can only ask you to train some more until you have achieved the
+X+ %R's state of ability."
+X+ %E
+X+ %Cc G 00015
+X+ "Foo!
+X+ You have strayed from the path of %d!
+X+ Trying to destroy %n in this state of mind would mean the sure death
+X+ of your hackish soul!
+X+ Purify yourself, until you're again piously aligned with Our God,
+X+ and then come again and I will admit you."
+X+ %E
+X+ %Cc G 00016
+X+ "I now see that you are truly worthy to fight %n, my %s.
+X+ 
+X+ Half a year ago, a young programmer, known to everybody as %n, came
+X+ to me to get a hackish education. I was suspicious from the first
+X+ moment on, but I admitted him for testing and let him stay.
+X+ 
+X+ Several days later, upon waking up, I found %o to be missing.
+X+ %n was away as well.
+X+ 
+X+ You are my last hope. If you fail to regain %o, NetHack development
+X+ is doomed to stop forever!"
+X+ %E
+X+ %Cp G 00020
+X+ "May %d protect you!"
+X+ %E
+X+ %Cp G 00021
+X+ "Remember, He is completely evil, yet not invulnerable!"
+X+ %E
+X+ %Cp G 00022
+X+ :-)
+X+ %E
+X+ %Cp G 00023
+X+ "I know you can do it!"
+X+ %E
+X+ %Cp G 00024
+X+ "Our fate is up to you now."
+X+ %E
+X+ %Cp G 00025
+X+ "A level being seemingly harmless may prove to be fatal by monsters
+X+ suddenly transforming one into another"
+X+ %E
+X+ %Cp G 00026
+X+ "It is rumoured that %n filled His lair with deadly traps."
+X+ %E
+X+ %Cp G 00027
+X+ "Do you know what 'memalezu' means?"
+X+ %E
+X+ %Cp G 00028
+X+ "They say that you can escape the dungeon by teleporting to level 0."
+X+ %E
+X+ %Cp G 00029
+X+ "Nobody here has an idea what to use a silver bell for."
+X+ %E
+X+ %Cp G 00030
+X+ You have a sure feeling that you will soon find the entrace to the %i.
+X+ You *know* you can do it!
+X+ %E
+X+ %Cp G 00031
+X+ Once again you enter this place and once again you are sure you will succeed.
+X+ %E
+X+ %Cp G 00040
+X+ You now almost smell %o.
+X+ %E
+X+ %Cp G 00041
+X+ Once again you sense %o.
+X+ %E
+X+ %Cp G 00050
+X+ You will never retrieve %o!
+X+ %E
+X+ %Cp G 00051
+X+ You're doomed! You will end your life as a litte programmer slave earning
+X+ $1000 ... per year! ... before taxes!
+X+ %E
+X+ %Cp G 00052
+X+ You will never succeed! You could give up now as well!
+X+ %E
+X+ %Cp G 00053
+X+ I will now get %o back from you and then I will make you the MS-DOS
+X+ Project Manager. This will be enough torture for you!
+X+ %E
+X+ %Cp G 00060
+X+ FORMAT C: /V /S
+X+ %E
+X+ %Cp G 00061
+X+ You will die now, as sure as if you quaffed a potion of cyanide!
+X+ %E
+X+ %Cp G 00062
+X+ I think I'll be generous. I will let you have a little fun with my
+X+ pet succubus before you die ...
+X+ %E
+X+ %Cc G 00063
+X+ "Perhaps you should consider the following qoute from Terry Pratchett:
+X+ 
+X+ 	"But I don't know how to use a sword!"
+X+ 
+X+ 	"Put the blunt end in your hand and the sharp end in the enemy!"
+X+ 
+X+ 	"There must be more to it than that!"
+X+ 
+X+ 	"Remember which end is which."
+X+ %E
+X+ %Cp G 00064
+X+ "What? You said 'Microsloth'? Then die, bastard!"
+X+ %E
+X+ %Cp G 00065
+X+ "I will soon format your body, mind and soul!"
+X+ %E
+X+ %Cp G 00066
+X+ "I've got an idea: we can greatly speed this up (and save much pain
+X+ for you). You just have to take your sword and push it into your
+X+ stomach. Or, if you prefer, take a COBOL programming course."
+X+ %E
+X+ %Cp G 00067
+X+ "Don't worry, your pains will soon be over!"
+X+ %E
+X+ %Cp G 00068
+X+ "I'm wondering all the time why somebody like you does something like this.
+X+ Does pain excite you or what? Well, I have a *great* sortiment of whips handy!"
+X+ %E
+X+ %Cp G 00069
+X+ "Nobody will ever need more than 640 KB of RAM."
+X+ %E
+X+ %Cc G 00070
+X+ You feel the power of %o flow through your body. Although you know
+X+ you have to return it to %l, you now feel like you could continue
+X+ developing NetHack on your own now.
+X+ %E
+X+ %Cp G 00080
+X+ You see %n lying dead in a puddle of blood. Not a second do you 
+X+ regret what you've done.
+X+ %E
+X+ %Cc G 00081
+X+ "You've finally got %o back! I am very grateful for what you've done.
+X+ 
+X+ Yet, I am an old man and I will not long more be able to supervise
+X+ NetHack. Therefore I pass the duty on to your young and responsible
+X+ hands. Take the sources and expand them at your leisure, but be
+X+ careful to maintain game balance.
+X+ 
+X+ My ultimate secret is: Nothing is true. Everything is allowed."
+X+ %E
+X+ %Cp G 00090
+X+ Latest news regarding the Amulet Of Yendor?
+X+ %E
+X+ %Cc G 00091
+X+ "Now I see you with the Amulet Of Yendor shining brightly in your
+X+ pack. Honestly, I didn't believe you'd (or anyone else, for that
+X+ matter) would manage to tear it from the hands of Moloch.
+X+ 
+X+ Your way is up now, back to the first level of the Dungeon, and
+X+ beyond there. You now must leave the dungeon as you've entered
+X+ it.
+X+ 
+X+ Then you will get to four planes, dedicated to the four arcane elements
+X+ of earth, air, fire and water. If thou successfully pass all these,
+X+ you will eventually reach the stars (or astra, as the Greek called
+X+ them). This is where the sacred High Temples of the aligned gods
+X+ are located. 
+X+ 
+X+ Return the amulet to %d at His altar, and you will be richly rewarded."
+X+ %E
+X+ #
+X  #	Healer
+X  #
+X  %Cc H 00001
+X***************
+X*** 2800,2807 ****
+X  It is written in the Book of %d:
+X  
+X      After the Creation, the cruel god Moloch rebelled
+X!     against the authority of Marduk the Creator.
+X!     Moloch stole from Marduk the most powerful of all
+X      the artifacts of the gods, the Amulet of Yendor,
+X      and he hid it in the dark cavities of Gehennom, the
+X      Under World, where he now lurks, and bides his time.
+X--- 3026,3034 ----
+X  It is written in the Book of %d:
+X  
+X      After the Creation, the cruel god Moloch rebelled
+X!     against the holy and well-deserved authority 
+X!     of the Creator %m.
+X!     Moloch stole from %M the most powerful of all
+X      the artifacts of the gods, the Amulet of Yendor,
+X      and he hid it in the dark cavities of Gehennom, the
+X      Under World, where he now lurks, and bides his time.
+X***************
+X*** 2824,2829 ****
+X--- 3051,3080 ----
+X  %Cp - 00003
+X  You again sense %l pleading for help.
+X  %E
+X+ %Cc - 09999
+X+ You read the following text in the Nethack sources ...
+X+ 
+X+ boolean
+X+ revive_nasty(x, y, msg)
+X+ int x,y;
+X+ const char *msg;
+X+ {
+X+     register struct obj *otmp, *otmp2;
+X+     struct monst *mtmp;
+X+     coord cc;
+X+     boolean revived = FALSE;
+X+ 
+X+     /* prevent freeobj() of revivable corpses */
+X+     for(otmp = level.objects[x][y]; otmp; otmp = otmp2) {
+X+ 	otmp2 = otmp->nexthere;
+X+ 	if (otmp->otyp == CORPSE &&
+X+ 	    (is_rider(&mons[otmp->corpsenm]) ||
+X+ 	     otmp->corpsenm == PM_WIZARD_OF_YENDOR)) {
+X+ 	    /* move any living monster already at that location */
+X+ 	    if((mtmp = m_at(x,y)) && enexto(&cc, x, y, mtmp->data))
+X+ 
+X+ ... and so on
+X+ %E
+X  #
+X  #	Angelic maledictions.
+X  #
+X***************
+X*** 2945,2950 ****
+X--- 3196,3203 ----
+X   %N:	return("neutral");
+X   %L:	return("lawful");
+X   %x:	return((Blind) ? "sense" : "see");
+X+  %m:	return((pl_character[0] == 'E') ? "Eru Iluvatar" : ((pl_character[0] == 'G') ? "team of Babbage, Turing and Zuse" : "Marduk"));
+X+  %M:	return((pl_character[0] == 'G') ? "Them" : "Him");
+X   %%:	return(percent_sign);
+X   a suffix:	return an(root);
+X   A suffix:	return An(root);
+X*** /tmp/tmp.1285	Sat May 28 21:14:27 1994
+X--- ./dat/Makefile	Sun May 22 19:05:30 1994
+X***************
+X*** 33,43 ****
+X  
+X  spec_levs: ../util/lev_comp \
+X  	bigroom.des castle.des endgame.des gehennom.des knox.des medusa.des \
+X! 	mines.des oracle.des tower.des yendor.des
+X  	../util/lev_comp bigroom.des
+X  	../util/lev_comp castle.des
+X  	../util/lev_comp endgame.des
+X  	../util/lev_comp gehennom.des
+X  	../util/lev_comp knox.des
+X  	../util/lev_comp medusa.des
+X  	../util/lev_comp mines.des
+X--- 33,48 ----
+X  
+X  spec_levs: ../util/lev_comp \
+X  	bigroom.des castle.des endgame.des gehennom.des knox.des medusa.des \
+X! 	mines.des oracle.des tower.des yendor.des forge.des key.des dragon.des \
+X! 	hitch.des
+X  	../util/lev_comp bigroom.des
+X  	../util/lev_comp castle.des
+X+ 	../util/lev_comp dragon.des
+X  	../util/lev_comp endgame.des
+X+ 	../util/lev_comp forge.des
+X  	../util/lev_comp gehennom.des
+X+ 	../util/lev_comp hitch.des
+X+ 	../util/lev_comp key.des
+X  	../util/lev_comp knox.des
+X  	../util/lev_comp medusa.des
+X  	../util/lev_comp mines.des
+X***************
+X*** 47,58 ****
+X  	touch spec_levs
+X  
+X  quest_levs: ../util/lev_comp \
+X! 	Arch.des Barb.des Caveman.des Elf.des Healer.des Knight.des \
+X  	Priest.des Rogue.des Samurai.des Tourist.des Valkyrie.des Wizard.des
+X  	../util/lev_comp Arch.des
+X  	../util/lev_comp Barb.des
+X  	../util/lev_comp Caveman.des
+X  	../util/lev_comp Elf.des
+X  	../util/lev_comp Healer.des
+X  	../util/lev_comp Knight.des
+X  	../util/lev_comp Priest.des
+X--- 52,64 ----
+X  	touch spec_levs
+X  
+X  quest_levs: ../util/lev_comp \
+X! 	Arch.des Barb.des Caveman.des Elf.des Geek.des Healer.des Knight.des \
+X  	Priest.des Rogue.des Samurai.des Tourist.des Valkyrie.des Wizard.des
+X  	../util/lev_comp Arch.des
+X  	../util/lev_comp Barb.des
+X  	../util/lev_comp Caveman.des
+X  	../util/lev_comp Elf.des
+X+ 	../util/lev_comp Geek.des
+X  	../util/lev_comp Healer.des
+X  	../util/lev_comp Knight.des
+X  	../util/lev_comp Priest.des
+X*** /tmp/tmp.1285	Sat May 28 21:15:47 1994
+X--- ./include/unixconf.h	Sat Jan 22 00:00:00 1994
+X***************
+X*** 19,39 ****
+X   */
+X  
+X  /* define exactly one of the following four choices */
+X! #define BSD		/* define for 4.n BSD  */
+X  			/* also for relatives like SunOS, Linux and DG/UX */
+X  /* #define ULTRIX	/* define for Ultrix v3.0 or higher (but not lower) */
+X  			/* Use BSD for < v3.0 */
+X  			/* "ULTRIX" not to be confused with "ultrix" */
+X! /* #define SYSV		/* define for System V */
+X  /* #define HPUX		/* Hewlett-Packard's Unix, version 6.5 or higher */
+X  			/* use SYSV for < v6.5 */
+X  
+X  
+X  /* define any of the following that are appropriate */
+X  /* #define SVR4		/* use in addition to SYSV for System V Release 4 */
+X! #define NETWORK	/* if running on a networked system */
+X  			/* e.g. Suns sharing a playground through NFS */
+X! #define SUNOS4	/* SunOS 4.x */
+X  /* #define LINUX  /* Another Unix clone running on Intel processors */
+X  /* #define GENIX	/* Yet Another Unix Clone */
+X  /* #define HISX		/* Bull Unix for XPS Machines */
+X--- 19,39 ----
+X   */
+X  
+X  /* define exactly one of the following four choices */
+X! /* #define BSD		/* define for 4.n BSD  */
+X  			/* also for relatives like SunOS, Linux and DG/UX */
+X  /* #define ULTRIX	/* define for Ultrix v3.0 or higher (but not lower) */
+X  			/* Use BSD for < v3.0 */
+X  			/* "ULTRIX" not to be confused with "ultrix" */
+X! #define SYSV		/* define for System V */
+X  /* #define HPUX		/* Hewlett-Packard's Unix, version 6.5 or higher */
+X  			/* use SYSV for < v6.5 */
+X  
+X  
+X  /* define any of the following that are appropriate */
+X  /* #define SVR4		/* use in addition to SYSV for System V Release 4 */
+X! /* #define NETWORK	/* if running on a networked system */
+X  			/* e.g. Suns sharing a playground through NFS */
+X! /* #define SUNOS4	/* SunOS 4.x */
+X  /* #define LINUX  /* Another Unix clone running on Intel processors */
+X  /* #define GENIX	/* Yet Another Unix Clone */
+X  /* #define HISX		/* Bull Unix for XPS Machines */
+X***************
+X*** 41,47 ****
+X  /* #define UNIXPC	/* use in addition to SYSV for AT&T 7300/3B1 */
+X  /* #define AIX_31	/* In AIX 3.1 (IBM RS/6000) use BSD ioctl's to gain
+X  			   job control (note that AIX is SYSV otherwise) */
+X! /* #define TEXTCOLOR	/* Use System V r3.2 terminfo color support */
+X  			/* or ANSI color support on termcap systems */
+X  			/* or X11 color	*/
+X  /* #define POSIX_JOB_CONTROL	/* use System V POSIX job control */
+X--- 41,47 ----
+X  /* #define UNIXPC	/* use in addition to SYSV for AT&T 7300/3B1 */
+X  /* #define AIX_31	/* In AIX 3.1 (IBM RS/6000) use BSD ioctl's to gain
+X  			   job control (note that AIX is SYSV otherwise) */
+X! #define TEXTCOLOR	/* Use System V r3.2 terminfo color support */
+X  			/* or ANSI color support on termcap systems */
+X  			/* or X11 color	*/
+X  /* #define POSIX_JOB_CONTROL	/* use System V POSIX job control */
+X***************
+X*** 86,93 ****
+X   * If defined, it can be overridden by the environment variable PAGER.
+X   * Hack will use its internal pager if DEF_PAGER is not defined.
+X   * (This might be preferable for security reasons.)
+X!  * #define DEF_PAGER	".../mydir/mypager"
+X!  */
+X  
+X  
+X  
+X--- 86,93 ----
+X   * If defined, it can be overridden by the environment variable PAGER.
+X   * Hack will use its internal pager if DEF_PAGER is not defined.
+X   * (This might be preferable for security reasons.)
+X!  */ 
+X! #define DEF_PAGER	"/usr/bin/pg"
+X  
+X  
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:15:53 1994
+X--- ./include/artifact.h	Thu Apr 21 16:58:32 1994
+X***************
+X*** 31,37 ****
+X  #define SPFX_DFLAG1 0x0400000	/* attack bonus on monsters w/ mflags1 flag */
+X  #define SPFX_DFLAG2 0x0800000	/* attack bonus on monsters w/ mflags2 flag */
+X  #define SPFX_DALIGN 0x1000000	/* attack bonus on non-aligned monsters  */
+X! 
+X  #define SPFX_DBONUS 0x1F00000	/* attack bonus mask */
+X  
+X  struct artifact {
+X--- 31,38 ----
+X  #define SPFX_DFLAG1 0x0400000	/* attack bonus on monsters w/ mflags1 flag */
+X  #define SPFX_DFLAG2 0x0800000	/* attack bonus on monsters w/ mflags2 flag */
+X  #define SPFX_DALIGN 0x1000000	/* attack bonus on non-aligned monsters  */
+X! #define SPFX_PROTEC 0x2000000	/* protects you if worn (+2 to AC) */
+X! #define SPFX_TOUCH  0x4000000	/* artifact doesn't care if touched */
+X  #define SPFX_DBONUS 0x1F00000	/* attack bonus mask */
+X  
+X  struct artifact {
+X***************
+X*** 54,58 ****
+X--- 55,61 ----
+X  #define CHARGE_OBJ	(LAST_PROP+5)
+X  #define LEV_TELE	(LAST_PROP+6)
+X  #define CREATE_PORTAL	(LAST_PROP+7)
+X+ #define IDENTIFY	(LAST_PROP+8)
+X+ #define DRAGON_BREATH	(LAST_PROP+9)
+X  
+X  #endif /* ARTIFACT_H */
+X*** /tmp/tmp.1285	Sat May 28 21:15:55 1994
+X--- ./include/artilist.h	Wed Apr 27 18:56:05 1994
+X***************
+X*** 135,140 ****
+X--- 135,175 ----
+X  	(SPFX_RESTR|SPFX_DFLAG2), 0, M2_UNDEAD,
+X  	PHYS(5,0),	NO_DFNS,	NO_CARY,	0, A_LAWFUL,	 0  ),
+X  
+X+ A("Mumakbane",			LONG_SWORD,
+X+ 	(SPFX_RESTR|SPFX_DMONS), 0, PM_MUMAK,
+X+ 	FIRE(5,60),	NO_DFNS,	NO_CARY,
+X+ 	0, 		A_NEUTRAL,	0 ),
+X+ 
+X+ A("Wormbiter",			CRYSKNIFE,
+X+ 	(SPFX_RESTR|SPFX_DCLAS), 0, S_WORM,
+X+ 	PHYS(5,0),	NO_DFNS,	NO_CARY,
+X+ 	0,		A_NEUTRAL,	0 ),
+X+ 
+X+ A("Shocker",			ELECTRIC_SWORD,
+X+ 	SPFX_RESTR, 0, 0,
+X+ 	ELEC(3,0),	NO_DFNS,	NO_CARY,
+X+ 	0,		A_NEUTRAL,	0 ),
+X+ 
+X+ A("Scales of the Dragon Lord",	GRAY_DRAGON_SCALE_MAIL,
+X+ 	(SPFX_NOGEN|SPFX_RESTR|SPFX_PROTEC), 0, 0,
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	DRAGON_BREATH,	A_CHAOTIC,	0 ),
+X+ 
+X+ A("The Burned Moth Relay",	RELAY,
+X+ 	(SPFX_RESTR), SPFX_PROTEC, 0, 	
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	0,		A_NEUTRAL,	0 ),
+X+ 
+X+ A("Wand Of Might",		WAN_WISHING,
+X+ 	(SPFX_RESTR|SPFX_TOUCH),	0,		0,
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	0,		A_NONE,		0 ),
+X+ 
+X+ A("The Key Of Access",		SKELETON_KEY,
+X+ 	(SPFX_RESTR|SPFX_NOGEN),	0,		0,
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	CREATE_PORTAL,	A_NONE,		0 ),
+X+ 
+X  #ifdef MULDGN
+X  /*
+X   *	The artifacts for the quest dungeon, all self-willed.
+X***************
+X*** 160,165 ****
+X--- 195,206 ----
+X  		(SPFX_ESP|SPFX_REGEN|SPFX_HSPDAM), 0,
+X  	NO_ATTK,	NO_DFNS,	NO_CARY,
+X  	TAMING,		A_CHAOTIC,	'E' ),
+X+ 
+X+ A("The Nethack Sources",	PACK_OF_FLOPPIES,
+X+ 	(SPFX_NOGEN | SPFX_RESTR | SPFX_INTEL),
+X+ 		 (SPFX_SEARCH | SPFX_ESP | SPFX_REGEN), 0,
+X+ 	NO_ATTK,	NO_DFNS,	NO_CARY,
+X+ 	IDENTIFY,	A_NEUTRAL,	'G' ),
+X  
+X  A("The Staff of Aesculapius",	QUARTERSTAFF,
+X  	(SPFX_NOGEN|SPFX_RESTR|SPFX_ATTK|SPFX_INTEL|SPFX_DRLI|SPFX_REGEN), 0,0,
+X*** /tmp/tmp.1285	Sat May 28 21:16:10 1994
+X--- ./include/extern.h	Thu Jan  1 00:00:00 1970
+X***************
+X*** 68,73 ****
+X--- 68,74 ----
+X  E const char *FDECL(artiname, (int));
+X  E struct obj *FDECL(mk_artifact, (struct obj *,ALIGNTYP_P));
+X  E const char *FDECL(artifact_name, (const char *,short *));
+X+ E int FDECL(artifact_name2no, (const char *name));
+X  E boolean FDECL(exist_artifact, (int,const char *));
+X  E void FDECL(artifact_exists, (struct obj *,const char *,BOOLEAN_P));
+X  E int NDECL(nartifact_exist);
+X***************
+X*** 82,87 ****
+X--- 83,91 ----
+X  E boolean FDECL(artifact_hit, (struct monst *,struct monst *,
+X  				struct obj *,int *,int));
+X  E int NDECL(doinvoke);
+X+ E boolean FDECL(nogen_nrartifact,(int artino));
+X+ E boolean FDECL(exists_nrartifact,(int artino));
+X+ E int FDECL(nrartifact_obtype,(int artino));
+X  
+X  /* ### attrib.c ### */
+X  
+X***************
+X*** 879,884 ****
+X--- 883,889 ----
+X  E int FDECL(weight, (struct obj *));
+X  E void FDECL(mkgold, (long,int,int));
+X  E struct obj *FDECL(mkcorpstat, (int,struct permonst *,int,int,BOOLEAN_P));
+X+ E struct obj *FDECL(mkcorpstat_, (int,int,BOOLEAN_P));
+X  E struct obj *FDECL(mk_tt_object, (int,int,int));
+X  E struct obj *FDECL(mk_named_object, (int,struct permonst *,int,int,char *,int));
+X  E void FDECL(bless, (struct obj *));
+X***************
+X*** 1202,1207 ****
+X--- 1207,1213 ----
+X  /* ### pickup.c ### */
+X  
+X  E int FDECL(collect_obj_classes, (char *,struct obj *,BOOLEAN_P,BOOLEAN_P));
+X+ E int FDECL(put_into_container,(struct obj *,struct obj *));
+X  #ifdef OVERLAY
+X  E int FDECL(ck_bag, (struct obj *));
+X  E int FDECL(in_container, (struct obj *));
+X***************
+X*** 1422,1427 ****
+X--- 1428,1444 ----
+X  E void FDECL(savefruitchn, (int,int));
+X  #endif
+X  
+X+ /* ### school.c ### */
+X+ 
+X+ E boolean FDECL(is_principal, (struct monst *));
+X+ E boolean FDECL(is_teacher, (struct monst *));
+X+ E boolean FDECL(is_educator, (struct monst *));
+X+ #ifdef SOUNDS
+X+ E void FDECL(pupil_sound, (struct monst *));
+X+ E void FDECL(teacher_sound, (struct monst *));
+X+ E void FDECL(principal_sound, (struct monst *));
+X+ #endif
+X+ 
+X  /* ### shk.c ### */
+X  
+X  E char *FDECL(shkname, (struct monst *));
+X***************
+X*** 1488,1493 ****
+X--- 1505,1513 ----
+X  E void NDECL(rndcurse);
+X  E void NDECL(attrcurse);
+X  
+X+ /* ### smith.c ### */
+X+ E void FDECL(smith_selling, (struct monst *));
+X+ 
+X  /* ### sounds.c ### */
+X  
+X  #ifdef SOUNDS
+X***************
+X*** 1497,1502 ****
+X--- 1517,1523 ----
+X  E void FDECL(whimper, (struct monst *));
+X  E void FDECL(beg, (struct monst *));
+X  #endif
+X+ E struct monst *FDECL(qname, (struct monst *));		/* see sounds.c */
+X  E int NDECL(dotalk);
+X  
+X  /* ### sp_lev.c ### */
+X***************
+X*** 1511,1516 ****
+X--- 1532,1538 ----
+X  
+X  /* ### spell.c ### */
+X  
+X+ E boolean FDECL(spell_known, (int));
+X  #ifdef OVERLAY
+X  E int NDECL(learn);
+X  #endif
+X*** /tmp/tmp.1285	Sat May 28 21:16:17 1994
+X--- ./include/mkroom.h	Sat Jan 22 00:00:00 1994
+X***************
+X*** 58,76 ****
+X  #define ZOO		 8	/* floor covered with treasure and monsters */
+X  #define DELPHI		 9	/* contains Oracle and peripherals */
+X  #define TEMPLE		10	/* contains a shrine */
+X  #define SHOPBASE	11	/* everything above this is a shop */
+X! #define ARMORSHOP	12	/* specific shop defines for level compiler */
+X! #define SCROLLSHOP	13
+X! #define POTIONSHOP	14
+X! #define WEAPONSHOP	15
+X! #define FOODSHOP	16
+X! #define RINGSHOP	17
+X! #define WANDSHOP	18
+X! #define TOOLSHOP	19
+X! #define BOOKSHOP	20
+X! #define UNIQUESHOP	21	/* shops here & above not randomly gen'd. */
+X! #define CANDLESHOP	21
+X! #define MAXRTYPE	21	/* maximum valid room type */
+X  
+X  /* Special type for search_special() */
+X  #define ANY_TYPE	(-1)
+X--- 58,81 ----
+X  #define ZOO		 8	/* floor covered with treasure and monsters */
+X  #define DELPHI		 9	/* contains Oracle and peripherals */
+X  #define TEMPLE		10	/* contains a shrine */
+X+ #ifdef DOUGLAS_ADAMS
+X+ #define DOUGROOM	11	/* Adams, creeping 42's etc. */
+X+ #define SHOPBASE	12
+X+ #else
+X  #define SHOPBASE	11	/* everything above this is a shop */
+X! #endif
+X! #define ARMORSHOP	(SHOPBASE+1)/*specific shop defines for level compiler*/
+X! #define SCROLLSHOP	(SHOPBASE+2)
+X! #define POTIONSHOP	(SHOPBASE+3)
+X! #define WEAPONSHOP	(SHOPBASE+4)
+X! #define FOODSHOP	(SHOPBASE+5)
+X! #define RINGSHOP	(SHOPBASE+6)
+X! #define WANDSHOP	(SHOPBASE+7)
+X! #define TOOLSHOP	(SHOPBASE+8)
+X! #define BOOKSHOP	(SHOPBASE+9)
+X! #define UNIQUESHOP	(SHOPBASE+10)/*shops here & above not randomly gen'd. */
+X! #define CANDLESHOP	(SHOPBASE+10)
+X! #define MAXRTYPE	(SHOPBASE+10)	/* maximum valid room type */
+X  
+X  /* Special type for search_special() */
+X  #define ANY_TYPE	(-1)
+X*** /tmp/tmp.1285	Sat May 28 21:16:18 1994
+X--- ./include/monattk.h	Sat Mar 26 16:16:18 1994
+X***************
+X*** 22,27 ****
+X--- 22,28 ----
+X  #define AT_EXPL		13		/* explodes - proximity */
+X  #define AT_GAZE		14		/* gaze - ranged */
+X  #define AT_TENT		15		/* tentacles */
+X+ #define AT_TALK		42		/* talks to you, i.e. Marvin */
+X  
+X  #define AT_WEAP		254		/* uses weapon */
+X  #define AT_MAGC		255		/* uses magic spell(s) */
+X***************
+X*** 71,76 ****
+X--- 72,81 ----
+X  #define AD_DETH		36		/* for Death only */
+X  #define AD_PEST		37		/* for Pestilence only */
+X  #define AD_FAMN		38		/* for Famine only */
+X+ 
+X+ #ifdef DOUGLAS_ADAMS
+X+ #define AD_DEPR		42		/* depression --- random bad effect */
+X+ #endif
+X  
+X  #define AD_CLRC		240		/* random clerical spell */
+X  #define AD_SPEL		241		/* random magic spell */
+X*** /tmp/tmp.1285	Sat May 28 21:16:20 1994
+X--- ./include/monflag.h	Sun Apr 10 14:37:28 1994
+X***************
+X*** 47,53 ****
+X  #define MS_SELL		34	/* demand payment, complain about shoplifters */
+X  #define MS_ORACLE	35	/* do a consultation */
+X  #define MS_PRIEST	36	/* ask for contribution; do cleansing */
+X! 
+X  
+X  #define MR_FIRE         0x01    /* resists fire */
+X  #define MR_COLD         0x02    /* resists cold */
+X--- 47,61 ----
+X  #define MS_SELL		34	/* demand payment, complain about shoplifters */
+X  #define MS_ORACLE	35	/* do a consultation */
+X  #define MS_PRIEST	36	/* ask for contribution; do cleansing */
+X! #ifdef DOUGLAS_ADAMS
+X! /* MS_DOUGLAS_ADAMS used to be 42, however I fear the DevTeam eventually 
+X! ** reaching that number.  - sk */
+X! #define MS_DOUGLAS_ADAMS 95	/* "42"; "Nice day"; etc. */
+X! #endif
+X! #define MS_PUPIL 	96
+X! #define MS_TEACHER	97
+X! #define MS_PRINCIPAL	98
+X! #define MS_SMITH	99
+X  
+X  #define MR_FIRE         0x01    /* resists fire */
+X  #define MR_COLD         0x02    /* resists cold */
+X*** /tmp/tmp.1285	Sat May 28 21:16:21 1994
+X--- ./include/monsym.h	Wed Apr 13 19:41:05 1994
+X***************
+X*** 145,151 ****
+X  #define DEF_WORM_TAIL	'~'
+X  #define DEF_MIMIC_DEF	']'
+X  
+X! 
+X  #define G_UNIQ		0x1000		/* generated only once */
+X  #define G_NOHELL	0x0800		/* not generated in "hell" */
+X  #define G_HELL		0x0400		/* generated only in "hell" */
+X--- 145,151 ----
+X  #define DEF_WORM_TAIL	'~'
+X  #define DEF_MIMIC_DEF	']'
+X  
+X! #define G_ROGUE		0x2000		/* only for the rogue level */
+X  #define G_UNIQ		0x1000		/* generated only once */
+X  #define G_NOHELL	0x0800		/* not generated in "hell" */
+X  #define G_HELL		0x0400		/* generated only in "hell" */
+X*** /tmp/tmp.1285	Sat May 28 21:16:24 1994
+X--- ./include/obj.h	Thu Apr 21 18:09:44 1994
+X***************
+X*** 5,11 ****
+X  #ifndef OBJ_H
+X  #define OBJ_H
+X  
+X! /* #define obj obj_nh	/* uncomment for SCO UNIX, which has a conflicting
+X  			 * typedef for "obj" in <sys/types.h> */
+X  
+X  struct obj {
+X--- 5,11 ----
+X  #ifndef OBJ_H
+X  #define OBJ_H
+X  
+X! #define obj obj_nh	/* uncomment for SCO UNIX, which has a conflicting
+X  			 * typedef for "obj" in <sys/types.h> */
+X  
+X  struct obj {
+X***************
+X*** 57,63 ****
+X  	Bitfield(oinvis,1);	/* not yet implemented */
+X  	Bitfield(greased,1);	/* covered with grease */
+X  	Bitfield(onamelth,6);
+X! 
+X  	int	corpsenm;	/* type of corpse is mons[corpsenm] */
+X  #define leashmon  corpsenm	/* gets m_id of attached pet */
+X  #define spestudied corpsenm	/* how many times a spellbook has been studied */
+X--- 57,63 ----
+X  	Bitfield(oinvis,1);	/* not yet implemented */
+X  	Bitfield(greased,1);	/* covered with grease */
+X  	Bitfield(onamelth,6);
+X! 	Bitfield(selfmade,1);	/* made with chemistry set or magic marker */
+X  	int	corpsenm;	/* type of corpse is mons[corpsenm] */
+X  #define leashmon  corpsenm	/* gets m_id of attached pet */
+X  #define spestudied corpsenm	/* how many times a spellbook has been studied */
+X*** /tmp/tmp.1285	Sat May 28 21:16:29 1994
+X--- ./include/prop.h	Fri Mar 18 21:24:55 1994
+X***************
+X*** 54,59 ****
+X  #define MAGICAL_BREATHING	47
+X  #define HALF_SPDAM		48
+X  #define HALF_PHDAM		49
+X! #define LAST_PROP		(HALF_PHDAM)		/* the last property */
+X  
+X  #endif /* PROP_H */
+X--- 54,60 ----
+X  #define MAGICAL_BREATHING	47
+X  #define HALF_SPDAM		48
+X  #define HALF_PHDAM		49
+X! #define SECOND_CHANCE		50
+X! #define LAST_PROP		(SECOND_CHANCE)		/* the last property */
+X  
+X  #endif /* PROP_H */
+X*** /tmp/tmp.1285	Sat May 28 21:16:30 1994
+X--- ./include/qtext.h	Wed Mar 23 11:50:14 1994
+X***************
+X*** 6,12 ****
+X  #ifndef QTEXT_H
+X  #define QTEXT_H
+X  
+X! #define N_HDR	13		/* number of classes + 1 */
+X  #define COMMON_ID	'-'	/* common message id value */
+X  
+X  struct qtmsg {
+X--- 6,12 ----
+X  #ifndef QTEXT_H
+X  #define QTEXT_H
+X  
+X! #define N_HDR	14		/* number of classes + 1 */
+X  #define COMMON_ID	'-'	/* common message id value */
+X  
+X  struct qtmsg {
+X***************
+X*** 18,24 ****
+X  
+X  #ifdef MAKEDEFS_C
+X  
+X! #define N_MSG	100		/* arbitrary */
+X  
+X  struct msghdr {
+X  	int	n_msg;
+X--- 18,25 ----
+X  
+X  #ifdef MAKEDEFS_C
+X  
+X! /*#define N_MSG	100		/* arbitrary */
+X! #define N_MSG 300
+X  
+X  struct msghdr {
+X  	int	n_msg;
+X*** /tmp/tmp.1285	Sat May 28 21:16:35 1994
+X--- ./include/system.h	Sat Jan 22 00:00:00 1994
+X***************
+X*** 135,141 ****
+X  # ifdef POSIX_TYPES
+X  E int FDECL(write, (int, const void *,unsigned));
+X  # else
+X! E int FDECL(write, (int,genericptr_t,unsigned));
+X  # endif
+X  #endif /* ULTRIX */
+X  #ifndef	__SASC_60
+X--- 135,141 ----
+X  # ifdef POSIX_TYPES
+X  E int FDECL(write, (int, const void *,unsigned));
+X  # else
+X! /* E int FDECL(write, (int,genericptr_t,unsigned)); */
+X  # endif
+X  #endif /* ULTRIX */
+X  #ifndef	__SASC_60
+X***************
+X*** 309,315 ****
+X  E uid_t NDECL(getuid);
+X  E gid_t NDECL(getgid);
+X  # else
+X! E int NDECL(getpid);
+X  # endif
+X  # ifdef VMS
+X  E int NDECL(getppid);
+X--- 309,315 ----
+X  E uid_t NDECL(getuid);
+X  E gid_t NDECL(getgid);
+X  # else
+X! /* E int NDECL(getpid); */
+X  # endif
+X  # ifdef VMS
+X  E int NDECL(getppid);
+X*** /tmp/tmp.1285	Sat May 28 21:16:47 1994
+X--- ./include/you.h	Sun May 22 19:53:46 1994
+X***************
+X*** 178,183 ****
+X--- 178,185 ----
+X  	Bitfield(uinvulnerable,1);	/* you're invulnerable (praying) */
+X  	Bitfield(usleep,1);		/* you're sleeping */
+X  
+X+ 	int uinvul_time;		/* time you are invulnerable */
+X+ 
+X  	unsigned udg_cnt;		/* how long you have been demigod */
+X  	struct u_event	uevent;		/* certain events have happened */
+X  	struct u_have	uhave;		/* you're carrying special objects */
+X***************
+X*** 197,203 ****
+X  #define LUCKMIN		(-10)
+X  	schar	udaminc;
+X  	schar	uac;
+X! 	int	uhp,uhpmax;
+X  	int	uen, uenmax;		/* magical energy - M. Stephenson */
+X  	int ugangr;			/* if the gods are angry at you */
+X  	int ublessed, ublesscnt;	/* blessing/duration from #pray */
+X--- 199,205 ----
+X  #define LUCKMIN		(-10)
+X  	schar	udaminc;
+X  	schar	uac;
+X! 	int	uhp,uhpmax,uhplast;
+X  	int	uen, uenmax;		/* magical energy - M. Stephenson */
+X  	int ugangr;			/* if the gods are angry at you */
+X  	int ublessed, ublesscnt;	/* blessing/duration from #pray */
+X*** /tmp/tmp.1285	Sat May 28 21:16:48 1994
+X--- ./include/youprop.h	Sun May 22 19:53:46 1994
+X***************
+X*** 128,132 ****
+X--- 128,133 ----
+X  				      breathless(uasmon))
+X  #define Half_spell_damage	u.uprops[HALF_SPDAM].p_flgs
+X  #define Half_physical_damage	u.uprops[HALF_PHDAM].p_flgs
+X+ #define Second_chance		u.uprops[SECOND_CHANCE].p_flgs
+X  
+X  #endif /* YOUPROP_H */
+X*** /tmp/tmp.1285	Sat May 28 21:16:56 1994
+X--- ./util/lev_main.c	Sun Apr 10 18:20:39 1994
+X***************
+X*** 630,635 ****
+X--- 630,637 ----
+X  {
+X  	register int i;
+X  
+X+ /*	printf("%i monsters, %i objects\n",nmons,nobj); */
+X+ 
+X  	/* Ok, We got the whole part, now we store it. */
+X  
+X  	/* The Regions */
+X*** /tmp/tmp.1285	Sat May 28 21:17:01 1994
+X--- ./util/Makefile	Sun Apr 10 17:30:40 1994
+X***************
+X*** 15,21 ****
+X  
+X  # if you are using gcc as your compiler,
+X  #	uncomment the CC definition below if it's not in your environment
+X! # CC = gcc
+X  #
+X  #	For Bull DPX/2 systems at B.O.S. 2.0 or higher use the following:
+X  #
+X--- 15,21 ----
+X  
+X  # if you are using gcc as your compiler,
+X  #	uncomment the CC definition below if it's not in your environment
+X! CC = cc
+X  #
+X  #	For Bull DPX/2 systems at B.O.S. 2.0 or higher use the following:
+X  #
+X***************
+X*** 59,74 ****
+X  # flags for debugging:
+X  # CFLAGS = -g -I../include
+X  
+X! CFLAGS = -g -I../include
+X! LFLAGS =
+X!  
+X  
+X  # yacc/lex programs to use to generate *_comp.h, *_lex.c, and *_yacc.c.
+X  # if, instead of yacc/lex you have bison/flex, comment/uncomment the following.
+X! YACC     = yacc
+X! LEX      = lex
+X! # YACC     = bison -y
+X! # LEX      = flex
+X   
+X  # these are the names of the output files from YACC/LEX. Under MS-DOS
+X  # and similar systems, they may differ
+X--- 59,74 ----
+X  # flags for debugging:
+X  # CFLAGS = -g -I../include
+X  
+X! CFLAGS = -g -I../include -DDOUGLAS_ADAMS
+X! LFLAGS = 
+X! LIBS = -lPW 
+X  
+X  # yacc/lex programs to use to generate *_comp.h, *_lex.c, and *_yacc.c.
+X  # if, instead of yacc/lex you have bison/flex, comment/uncomment the following.
+X! # YACC     = yacc
+X! # LEX      = lex
+X! YACC     = bison -y
+X! LEX      = flex
+X   
+X  # these are the names of the output files from YACC/LEX. Under MS-DOS
+X  # and similar systems, they may differ
+X***************
+X*** 113,123 ****
+X  # YACCDIST = -l
+X  YACCDIST =
+X  
+X  
+X  #	dependencies for makedefs
+X  #
+X  makedefs:	$(MAKEOBJS)
+X! 	$(CC) $(LFLAGS) -o makedefs $(MAKEOBJS)
+X  
+X  makedefs.o:  ../include/config.h ../include/permonst.h ../include/objclass.h \
+X  		../include/monsym.h ../include/artilist.h \
+X--- 113,124 ----
+X  # YACCDIST = -l
+X  YACCDIST =
+X  
+X+ all:	makedefs lev_comp dgn_comp recover
+X  
+X  #	dependencies for makedefs
+X  #
+X  makedefs:	$(MAKEOBJS)
+X! 	$(CC) $(LFLAGS) -o makedefs $(MAKEOBJS) $(LIBS)
+X  
+X  makedefs.o:  ../include/config.h ../include/permonst.h ../include/objclass.h \
+X  		../include/monsym.h ../include/artilist.h \
+X***************
+X*** 147,153 ****
+X  #	dependencies for lev_comp
+X  #
+X  lev_comp:  $(SPLEVOBJS)
+X! 	$(CC) $(LFLAGS) -o lev_comp $(SPLEVOBJS)
+X  
+X  lev_yacc.o:  ../include/hack.h ../include/sp_lev.h
+X  lev_main.o:  ../include/hack.h ../include/sp_lev.h ../include/termcap.h
+X--- 148,154 ----
+X  #	dependencies for lev_comp
+X  #
+X  lev_comp:  $(SPLEVOBJS)
+X! 	$(CC) $(LFLAGS) -o lev_comp $(SPLEVOBJS) $(LIBS)
+X  
+X  lev_yacc.o:  ../include/hack.h ../include/sp_lev.h
+X  lev_main.o:  ../include/hack.h ../include/sp_lev.h ../include/termcap.h
+X***************
+X*** 180,186 ****
+X  #	dependencies for dgn_comp
+X  #
+X  dgn_comp:  $(DGNCOMPOBJS)
+X! 	$(CC) $(LFLAGS) -o dgn_comp $(DGNCOMPOBJS)
+X  
+X  dgn_yacc.o:  ../include/config.h ../include/dgn_file.h
+X  dgn_main.o:  ../include/config.h
+X--- 181,187 ----
+X  #	dependencies for dgn_comp
+X  #
+X  dgn_comp:  $(DGNCOMPOBJS)
+X! 	$(CC) $(LFLAGS) -o dgn_comp $(DGNCOMPOBJS) $(LIBS)
+X  
+X  dgn_yacc.o:  ../include/config.h ../include/dgn_file.h
+X  dgn_main.o:  ../include/config.h
+X***************
+X*** 211,217 ****
+X  #	dependencies for recover
+X  #
+X  recover: $(RECOVOBJS)
+X! 	$(CC) $(LFLAGS) -o recover $(RECOVOBJS)
+X  
+X  recover.o: ../include/config.h
+X  
+X--- 212,218 ----
+X  #	dependencies for recover
+X  #
+X  recover: $(RECOVOBJS)
+X! 	$(CC) $(LFLAGS) -o recover $(RECOVOBJS) $(LIBS)
+X  
+X  recover.o: ../include/config.h
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:17:10 1994
+X--- ./src/apply.c	Sat May 14 19:57:14 1994
+X***************
+X*** 642,647 ****
+X--- 642,650 ----
+X  			(ttmp->ttyp == MAGIC_PORTAL || !Can_dig_down(&u.uz))) {
+X  		pline("The %s here is too hard to dig in.",
+X  			surface(dpx,dpy));
+X+ 		if (Invocation_lev(&u.uz) && !u.uevent.invoked) {
+X+ 			You("see the Amulet Of Yendor briefly flash between your feet.");
+X+ 		}
+X  		return(0);
+X  	    } else if (sobj_at(BOULDER, dpx, dpy)) {
+X  		pline("There isn't enough room to dig here.");
+X***************
+X*** 943,949 ****
+X  	boolean nohole = !Can_dig_down(&u.uz);
+X  
+X  	if (ttmp && (ttmp->ttyp == MAGIC_PORTAL || nohole)) {
+X! 		pline("The %s here is too hard to dig in.", surface(u.ux,u.uy));
+X  
+X  	} else if (is_pool(u.ux, u.uy) || is_lava(u.ux, u.uy)) {
+X  		pline("The %s sloshes furiously for a moment, then subsides.",
+X--- 946,956 ----
+X  	boolean nohole = !Can_dig_down(&u.uz);
+X  
+X  	if (ttmp && (ttmp->ttyp == MAGIC_PORTAL || nohole)) {
+X! 		if (Invocation_lev(&u.uz) && !u.uevent.invoked) {
+X! 			You("see the Amulet Of Yendor briefly flash between your feet.");
+X! 		} else {
+X! 			pline("The %s here is too hard to dig in.", surface(u.ux,u.uy));
+X! 		}
+X  
+X  	} else if (is_pool(u.ux, u.uy) || is_lava(u.ux, u.uy)) {
+X  		pline("The %s sloshes furiously for a moment, then subsides.",
+X***************
+X*** 1860,1865 ****
+X--- 1867,1873 ----
+X  	    can->owt = weight(can);
+X  	    can->known = 1;
+X  	    can->spe = -1;  /* Mark tinned tins. No spinach allowed... */
+X+ 	    can->selfmade = TRUE;
+X  	    if (carried(corpse)) {
+X  		if(corpse->unpaid) {
+X  		    verbalize("You tin it, you bought it!");
+X***************
+X*** 2038,2043 ****
+X--- 2046,2177 ----
+X  	}
+X  }
+X  
+X+ void use_floppies(struct obj *obj)
+X+ {
+X+ 	char *softwares[] = {
+X+ 		"Microsoft Windows 3.1",
+X+ 		"Bill Gates",
+X+ 		"Leisure Suit Larry V",
+X+ 		"LINUX 1.00",
+X+ 		"your NetHack patches",
+X+ 		"nothing of importance"
+X+ 	};
+X+ 	int x;
+X+ 
+X+ 	if (pl_character[0] != 'G') {
+X+ 		pline("If only you knew what the heck this is ... ");
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	pline("Due to years of experience with computers, you can read the");
+X+ 	pline("disks' contents by merely looking at the magnetic surface ...");
+X+ 
+X+ 	if (Blind) {
+X+ 		pline("Yet, without seeing, not even you can read anyting.");
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	if (obj->oartifact == ART_NETHACK_SOURCES) {
+X+ 		com_pager(9999);
+X+ 	} else {
+X+ 		x = rn2(sizeof(softwares) / sizeof(softwares[0]));
+X+ 		pline("You see %s on the disk",softwares[x]);
+X+ 		if (x == 0) {		/* Windows */
+X+ 			pline("You shriek in pain!");
+X+ 			make_confused(HConfusion+rn2(50)+50,TRUE);
+X+ 		} else if (x == 1) {	/* Bill Gates */
+X+ 			pline("You feel horrible!");
+X+ 			/* nothing happens (yet ...) */
+X+ 		}
+X+ 	}
+X+ }
+X+ 
+X+ static int
+X+ potion_charge_cost(struct obj *pot)
+X+ {
+X+ 	int cost;
+X+ 
+X+ 	cost = objects[pot->otyp].oc_cost / 150;
+X+ 	if (cost < 1) cost = 1;
+X+ 	return(cost);
+X+ }
+X+ 
+X+ static void
+X+ use_chemistry_set(struct obj *chemset)
+X+ {
+X+ 	struct obj *bottle;
+X+ 	static char bottles[] = { TOOL_CLASS, 0 };
+X+ 	char namebuf[BUFSZ],potbuf[BUFSZ];
+X+ 	struct obj *new_obj;
+X+ 	int cost;
+X+ 	char c;
+X+ 
+X+ 	if (!spell_known(SPE_CHEMISTRY)) {
+X+ 		pline("Huh? You don't understand anything about such stuff!");
+X+ 		return;
+X+ 	}
+X+ 	makeknown(CHEMISTRY_SET);
+X+ 
+X+ 	bottle = getobj(bottles,"hold the resulting potion in");
+X+ 	if (!bottle) return;
+X+ 	if (bottle->otyp != BOTTLE) {
+X+ 		pline("Exactly how are you going to do this?");
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	getlin("What potion do you want to make?",namebuf);
+X+ 	if (!namebuf[0] || namebuf[0] == '\033') return;
+X+ 
+X+ 	potbuf[0] = 0;
+X+ 	if (strncmp(namebuf,"potion of",9) != 0) {
+X+ 		strcpy(potbuf,"potion of ");
+X+ 	}
+X+ 	strcat(potbuf,namebuf);
+X+ 	new_obj = readobjnam(potbuf);
+X+ 
+X+ 	if (!new_obj || new_obj->oclass != POTION_CLASS) {
+X+ 		goto blast_him;
+X+ 	}
+X+ 	if (!(objects[new_obj->otyp].oc_name_known) && 
+X+ 	    !(objects[new_obj->otyp].oc_uname)) {
+X+ 		You("don't know how to make such a potion!");
+X+ 		c =yn_function("Do you want to give it a try anyway?","yn",'n');
+X+ 		if (c != 'y') {	
+X+ 			obfree(new_obj,(struct obj *) 0);
+X+ 			return;
+X+ 		}
+X+ 		if (rnl(5)) {
+X+ 			useup(bottle);
+X+ 			goto blast_him;
+X+ 		}
+X+ 	}
+X+ 	new_obj->selfmade = TRUE;
+X+ 	new_obj->cursed = bottle->cursed || chemset->cursed;
+X+ 	new_obj->blessed = bottle->blessed || chemset->blessed;
+X+ 	if (new_obj->blessed && new_obj->cursed) {
+X+ 		new_obj->blessed = new_obj->cursed = FALSE;
+X+ 	}
+X+ 	cost = potion_charge_cost(new_obj);
+X+ 	if (cost > chemset->spe) {
+X+ 		goto blast_him;
+X+ 	}
+X+ 	chemset->spe -= cost;
+X+ 	useup(bottle);
+X+ 
+X+ 	if (!chemset->blessed && !rn2(chemset->cursed ? 2 : 10)) {
+X+ blast_him:
+X+ 		pline("You seem to have made a mistake!");
+X+ 		pline("The bottle explodes!");
+X+ 		losehp(rnd(chemset->cursed ? 25 : 10),"alchemic blast",KILLED_BY_AN);
+X+ 		obfree(new_obj,(struct obj *) 0);
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	if (!(objects[new_obj->otyp].oc_name_known)) makeknown(new_obj->otyp);
+X+ 	hold_another_object(new_obj,"Oops! Where did you put that potion?",(const char *) 0,(const char *) 0);
+X+ 	You("have done it!");
+X+ }
+X+ 
+X  int
+X  doapply()
+X  {
+X***************
+X*** 2066,2073 ****
+X--- 2200,2210 ----
+X  	case SACK:
+X  	case BAG_OF_HOLDING:
+X  	case OILSKIN_SACK:
+X+ 	case SCHROEDINGER_S_BOX:
+X+ 	case BAG_OF_DIGESTION:
+X  		res = use_container(obj, 1);
+X  		break;
+X+ 
+X  	case BAG_OF_TRICKS:
+X  		if(obj->spe > 0) {
+X  			register int cnt = 1;
+X***************
+X*** 2209,2214 ****
+X--- 2346,2403 ----
+X  		} else
+X  		    pline(nothing_happens);
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	case HITCHHIKER_S_GUIDE_TO_THE_GALA:
+X+ 		if (HHallucination) {
+X+ 			pline("You carelessly push the buttons. On the screen is a text ... ");
+X+ 			outrumor(-1,42);	/* always false */
+X+ 		} else {
+X+ 			pline("So many knobs to turn! So many buttons to press!");
+X+ 			make_confused(HConfusion+rn2(10),TRUE);
+X+ 		}
+X+ 		break;
+X+ 
+X+ 	case RELAY:
+X+ 		if (obj->oartifact == ART_BURNED_MOTH_RELAY) {	
+X+ 			pline("There's a little badly burned moth in that relay!");
+X+ 			makeknown(RELAY);
+X+ 			if (pl_character[0] == 'G') {
+X+ 				You("feel remembered of %s.",Hallucination ? "when the net was flat" : "the old times");
+X+ 				break;
+X+ 			}
+X+ 		}	/* fall through */
+X+ 		
+X+ 	case DIODE:
+X+ 	case TRANSISTOR:
+X+ 	case IC:
+X+ 		pline("You don't understand anything about electronics !!!");
+X+ 		break;
+X+ #endif
+X+ 
+X+ 	case GOD_O_METER:
+X+ 		if (Blind) {
+X+ 			pline("Being blind, you cannot see it.");
+X+ 		} else if (!obj->blessed) {
+X+ 			You("feel uncomfortable.");
+X+ 			u.ublesscnt += rn2((obj->cursed) ? 200 : 100);
+X+ 		} else {
+X+ 			You("see a%s flash from the device.",(u.ublesscnt>0) ? " black" : "n amber");
+X+ #ifdef WIZARD
+X+ 			if (wizard) {
+X+ 				Your("prayer timeout is %i.",u.ublesscnt);
+X+ 			}
+X+ #endif
+X+ 		}
+X+ 		break;
+X+ 
+X+ 	case PACK_OF_FLOPPIES:
+X+ 		use_floppies(obj);
+X+ 		break;
+X+ 
+X+ 	case CHEMISTRY_SET:
+X+ 		use_chemistry_set(obj);
+X+ 		break;
+X+ 
+X  	default:
+X  		pline("Sorry, I don't know how to use that.");
+X  	xit:
+X*** /tmp/tmp.1285	Sat May 28 21:17:12 1994
+X--- ./src/attrib.c	Fri Apr 15 20:44:40 1994
+X***************
+X*** 53,58 ****
+X--- 53,64 ----
+X  		     {	 1, &(HSleep_resistance), "", "" },
+X  		     {	 0, 0, 0, 0 } },
+X  
+X+ 	g_abil[] = { {   1, &(HPoison_resistance), "", "" },
+X+ 		     {   1, &(HShock_resistance), "", "" },
+X+ 		     {   8, &(HTeleport_control), "controlled", "helpless" },
+X+ 		     {  15, &(Warning), "sensitive", "careless" },
+X+ 		     {   0, 0, 0, 0, } },
+X+ 
+X  	h_abil[] = { {	 1, &(HPoison_resistance), "", "" },
+X  		     {	15, &(Warning), "sensitive", "" },
+X  		     {	 0, 0, 0, 0 } },
+X***************
+X*** 117,122 ****
+X--- 123,132 ----
+X  		   {	30, 10, 10, 20, 20, 10 },
+X  		    { A_CHAOTIC, 10 },  15, 10, 11,  2, e_abil },
+X  
+X+ 	g_attr = { {    10, 10, 10,  8,  9,  7 },  /* Geek (hacker) */
+X+ 		   {    30, 15, 15, 10, 20, 10 },
+X+ 		    { A_NEUTRAL, 10 }, 12, 10, 20, 2, g_abil },
+X+ 
+X  	h_attr = { {	 7,  7, 13,  7, 11, 16 },  /* Healer (druid) */
+X  		   {	15, 20, 20, 15, 25, 10 },
+X  		    { A_NEUTRAL, 10 },  13, 10, 20,  2, h_abil },
+X***************
+X*** 491,496 ****
+X--- 501,508 ----
+X  			break;
+X  	    case 'E':	attr = &e_attr;
+X  			break;
+X+ 	    case 'G':	attr = &g_attr;
+X+ 			break;
+X  	    case 'H':	attr = &h_attr;
+X  			break;
+X  	    case 'K':	attr = &k_attr;
+X***************
+X*** 528,535 ****
+X  	else u.ualign.type = attr->align.type;
+X  }
+X  
+X! void
+X! init_attr(np)
+X  	register int	np;
+X  {
+X  	register int	i, x, tryct;
+X--- 540,547 ----
+X  	else u.ualign.type = attr->align.type;
+X  }
+X  
+X! static void
+X! init_attr_(np)
+X  	register int	np;
+X  {
+X  	register int	i, x, tryct;
+X***************
+X*** 578,583 ****
+X--- 590,689 ----
+X  	    np++;
+X  	}
+X  }
+X+ 
+X+ static char get_acception(void)
+X+ {
+X+ 	char c;
+X+ 
+X+ 	pline("St:");
+X+ 	if (ACURR(A_STR) > 118) {
+X+ 		pline("%2d",ACURR(A_STR) - 100);
+X+ 	} else if (ACURR(A_STR) == 118) {
+X+ 		pline("18/**");
+X+ 	} else if (ACURR(A_STR) > 18) {
+X+ 		pline("18/%02d",ACURR(A_STR) - 18);
+X+ 	} else {
+X+ 		pline("%-1d",ACURR(A_STR));
+X+ 	}
+X+ 	pline(" Dx:%-1d Co:%-1d In:%-1d Wi:%-1d Ch:%-1d  ",ACURR(A_DEX),ACURR(A_CON),ACURR(A_INT),ACURR(A_WIS),ACURR(A_CHA));
+X+ 	c = yn_function("Accept?","ynrq",'n');
+X+ 	return(c);
+X+ }
+X+ 
+X+ void init_attr(int np)
+X+ {
+X+ 	char c;
+X+ 	boolean forced,askforce,ok,done;
+X+ 	schar att;
+X+ 	int aval;
+X+ 	char buf[BUFSZ];
+X+ 	int i;
+X+ 
+X+ 	askforce = TRUE;
+X+ 	done = FALSE;
+X+ 	do {
+X+ 		if (askforce) {		
+X+ 			askforce = FALSE;
+X+ 			c = yn_function("Do you want to force anything?","yn",'n');
+X+ 			if (c == 'n') {
+X+ 				forced = FALSE;
+X+ 			} else {
+X+ 				forced = TRUE;
+X+ 				c = yn_function("What do you want to force?","sdciwh",'\0');
+X+ 				switch (c) {
+X+ 					case 's':	att = A_STR;	break;
+X+ 					case 'd':	att = A_DEX;	break;
+X+ 					case 'c':	att = A_CON;	break;
+X+ 					case 'i':	att = A_INT;	break;
+X+ 					case 'w':	att = A_WIS;	break;
+X+ 					case 'h':
+X+ 					default:	att = A_CHA;	break;
+X+ 				}
+X+ 				while (1) {
+X+ 					ok = TRUE;
+X+ 					getlin("What is the minimum value?",buf);
+X+ 					i = 0;
+X+ 					while (buf[i]) {
+X+ 						if (!isdigit(buf[i])) ok = FALSE;
+X+ 						i++;
+X+ 					}
+X+ 					if (!ok) continue;
+X+ 					aval = atoi(buf);
+X+ 					if (aval < ATTRMIN(att) || aval > ATTRMAX(att)) continue;
+X+ 					break;
+X+ 				}
+X+ 			}
+X+ 		}
+X+ 		i = 0;
+X+ 		ok = FALSE;
+X+ 		pline("Trying ... ");
+X+ 		while (i < 2000 && !ok) {
+X+ 			init_attr_(np);
+X+ 			if (forced) {
+X+ 				if (ACURR(att) >= aval) ok = TRUE;
+X+ 			} else {
+X+ 				ok = TRUE;
+X+ 			}
+X+ 			i++;
+X+ 		}
+X+ 		if (!ok) {
+X+ 			c = yn_function("This doesn't seem to work. Try again?","yn",'n');
+X+ 			if (c == 'n') askforce = TRUE;
+X+ 			done = FALSE;
+X+ 			continue;
+X+ 		}
+X+ 		c = get_acception();
+X+ 		switch (c) {
+X+ 			case 'y':	done = TRUE;
+X+ 					break;
+X+ 			case 'r':	askforce = TRUE;  /* fall through */
+X+ 			case 'n':	done = FALSE;
+X+ 					break;
+X+ 			case 'q':	exit_nhwindows(NULL);
+X+ 					terminate(0);
+X+ 		}
+X+ 	} while (!done);			
+X+ }	
+X  
+X  void
+X  redist_attr() {
+X*** /tmp/tmp.1285	Sat May 28 21:17:14 1994
+X--- ./src/artifact.c	Thu Apr 21 16:59:47 1994
+X***************
+X*** 40,45 ****
+X--- 40,47 ----
+X  static void
+X  hack_artifacts()
+X  {
+X+ 	struct artifact *a;
+X+ 
+X  	/* Excalibur can be used by any lawful character, not just knights */
+X  	if (pl_character[0] != 'K')
+X  	    artilist[ART_EXCALIBUR].class = '\0';
+X***************
+X*** 48,53 ****
+X--- 50,59 ----
+X  	if (pl_character[0] == 'P')
+X  	    artilist[ART_MITRE_OF_HOLINESS].alignment = u.ualignbase[1];
+X  #endif
+X+ 
+X+ 	for (a=artilist+1;a->otyp;a++) {
+X+ 		if (a->alignment == A_NONE) a->alignment = u.ualignbase[1];
+X+ 	}
+X  }
+X  
+X  /* zero out the artifact existence list */
+X***************
+X*** 160,165 ****
+X--- 166,192 ----
+X      return NULL;
+X  }
+X  
+X+ int
+X+ artifact_name2no(name)
+X+ const char *name;
+X+ {
+X+ 	register const struct artifact *a;
+X+ 	register int i;
+X+ 	register const char *aname;
+X+ 
+X+ 	if (!strncmpi(name,"the ",4)) name += 4;
+X+ 
+X+ 	for (a = artilist+1,i=1; a->otyp; a++,i++) {
+X+ 		aname = a->name;
+X+ 		if (!strncmpi(aname,"the ",4)) aname += 4;
+X+ 		if (!strcmpi(name, aname)) {
+X+ 			return(i);
+X+ 		}	
+X+ 	}
+X+ 
+X+ 	return(0);
+X+ }
+X+ 
+X  boolean
+X  exist_artifact(otyp, name)
+X  register int otyp;
+X***************
+X*** 389,394 ****
+X--- 416,430 ----
+X  	    if (on) Half_physical_damage |= wp_mask;
+X  	    else Half_physical_damage &= ~wp_mask;
+X  	}
+X+ 	if (spfx & SPFX_PROTEC) {
+X+ 	    if (on) {
+X+ 		u.ublessed += 2;
+X+ 		Protection |= FROMOUTSIDE;
+X+ 	    } else {
+X+ 	    	u.ublessed -= 2;
+X+ 		if (u.ublessed <= 0) Protection &= ~FROMOUTSIDE;
+X+ 	    }
+X+ 	}
+X  
+X  	if(wp_mask == W_ART && !on && oart->inv_prop) {
+X  	    /* might have to turn off invoked power too */
+X***************
+X*** 415,420 ****
+X--- 451,457 ----
+X      boolean yours = (mon == &youmonst);
+X  
+X      if(!oart) return 1;
+X+     if (oart->spfx & SPFX_TOUCH) return 1;
+X  
+X      badclass = (oart->class && (!yours || oart->class != pl_character[0]));
+X      badalign = (oart->spfx & SPFX_RESTR) &&
+X***************
+X*** 853,861 ****
+X  				return ((boolean)(youattack || vis));
+X  			}
+X  			*dmgptr = mdef->mhp;
+X! 			pline(behead_msg[rn2(SIZE(behead_msg))],
+X! 			      artilist[ART_VORPAL_BLADE].name,
+X! 			      mon_nam(mdef));
+X  			otmp->dknown = TRUE;
+X  			return TRUE;
+X  		} else {
+X--- 890,902 ----
+X  				return ((boolean)(youattack || vis));
+X  			}
+X  			*dmgptr = mdef->mhp;
+X! 			if (mdef->data == &mons[PM_JABBERWOCK]) {
+X! 				pline("The vorpal blade goes snicker-snack!");
+X! 			} else {
+X! 				pline(behead_msg[rn2(SIZE(behead_msg))],
+X! 				      artilist[ART_VORPAL_BLADE].name,
+X! 				      mon_nam(mdef));
+X! 			}
+X  			otmp->dknown = TRUE;
+X  			return TRUE;
+X  		} else {
+X***************
+X*** 979,984 ****
+X--- 1020,1033 ----
+X  	    obfree(pseudo, (struct obj *)0);	/* now, get rid of it */
+X  	    break;
+X  	  }
+X+ 	case IDENTIFY: {
+X+ 		struct obj *pseudo = mksobj(SPE_IDENTIFY, FALSE, FALSE);
+X+ 		pseudo->blessed = pseudo->cursed = 0;
+X+ 		pseudo->quan = 42L;		/* do not let useup get it */
+X+ 		(void) seffects(pseudo);
+X+ 		obfree(pseudo, (struct obj *) 0);
+X+ 		break;
+X+ 	    }
+X  	case HEALING: {
+X  	    int healamt = (u.uhpmax + 1 - u.uhp) / 2;
+X  	    if(healamt || Sick || (Blinded > 1))
+X***************
+X*** 1019,1024 ****
+X--- 1068,1078 ----
+X  	case LEV_TELE:
+X  	    level_tele();
+X  	    break;
+X+ 	case DRAGON_BREATH:
+X+ 	    getdir(NULL);
+X+ 	    buzz(20+AD_FIRE-1,6,u.ux,u.uy,u.dx,u.dy);
+X+ 	/*       ^^^^^^^^^^^^ - see zap.c / ZT_* defines */
+X+ 	    break;
+X  	case CREATE_PORTAL: {
+X  	    register int i;
+X  	    d_level newlev;
+X***************
+X*** 1122,1127 ****
+X--- 1176,1196 ----
+X      }
+X  
+X      return 1;
+X+ }
+X+ 
+X+ boolean nogen_nrartifact(int artino)
+X+ {
+X+ 	return(artilist[artino].spfx & SPFX_NOGEN);
+X+ }
+X+ 
+X+ boolean exists_nrartifact(int artino)
+X+ {
+X+ 	return(artiexist[artino]);
+X+ }
+X+ 
+X+ int nrartifact_obtype(int artino)
+X+ {
+X+ 	return(artilist[artino].otyp);
+X  }
+X  
+X  #endif /* OVLB */
+X*** /tmp/tmp.1285	Sat May 28 21:17:17 1994
+X--- ./src/cmd.c	Fri Mar 18 22:22:17 1994
+X***************
+X*** 534,539 ****
+X--- 534,541 ----
+X  	if (Stoned) you_are("turning to stone");
+X  	if (Lifesaved)
+X  		enl_msg("Your life ", "will be", "would have been", " saved");
+X+ 	if (Second_chance)
+X+   	  enl_msg("You ","will be", "would have been"," given a second chance");
+X  	if (Adornment) you_are("adorned");
+X  	if (Warning) you_are("warned");
+X  	if (Protection) you_are("protected");
+X*** /tmp/tmp.1285	Sat May 28 21:17:18 1994
+X--- ./src/botl.c	Wed Mar 23 14:45:38 1994
+X***************
+X*** 105,110 ****
+X--- 105,123 ----
+X  	{"Ernil",	"Elentariel"},	/* prince (S.), elf-maiden (Q.) */
+X  	{"Elentar",	"Elentari"}	/* Star-king, -queen (Q.) */
+X    } },
+X+ 
+X+   {					'G',0,  PM_GEEK, {
+X+ 	{"Newbie",			0},
+X+ 	{"BASIC Programmer", 		"BASIC Programmeress"},
+X+ 	{"C Programmer",		"C Programmeress"},
+X+ 	{"Hacker",			"Hackeress"},
+X+ 	{"NetHacker",			"NetHackeress"},
+X+ 	{"Nethack Programmer",		"Nethack Programmeress"},
+X+ 	{"he who uses",			"she who uses"},
+X+ 	{"he who knows",		"she who knows"},
+X+ 	{"he who learns",		"she who learns"},
+X+   } },
+X+ 
+X    {					'H',0,	PM_HEALER, {
+X  	{"Rhizotomist",  0},
+X  	{"Empiric",	0},
+X***************
+X*** 244,249 ****
+X--- 257,273 ----
+X  	return(rank_of(u.ulevel, pl_character[0], flags.female));
+X  }
+X  
+X+ STATIC_OVL boolean without_the()
+X+ {
+X+ 	char *s;
+X+ 
+X+ 	s = rank();
+X+ 
+X+ 	if ((s[0] == 'H' || s[0] == 'h') && s[1] == 'e') return(TRUE);
+X+ 	if ((s[0] == 'S' || s[0] == 's') && s[1] == 'h' && s[2] == 'e') return(TRUE);
+X+ 	return(FALSE);
+X+ }
+X+ 
+X  int
+X  title_to_mon(str, rank_indx, title_length)
+X  const char *str;
+X***************
+X*** 317,323 ****
+X  	Strcpy(newbot1, plname);
+X  	if('a' <= newbot1[0] && newbot1[0] <= 'z') newbot1[0] += 'A'-'a';
+X  	newbot1[10] = 0;
+X! 	Sprintf(nb = eos(newbot1)," the ");
+X  #ifdef POLYSELF
+X  	if (u.mtimedone) {
+X  		char mbot[BUFSZ];
+X--- 341,351 ----
+X  	Strcpy(newbot1, plname);
+X  	if('a' <= newbot1[0] && newbot1[0] <= 'z') newbot1[0] += 'A'-'a';
+X  	newbot1[10] = 0;
+X! 	if (without_the()) {
+X! 		Sprintf(nb = eos(newbot1),", ");
+X! 	} else {
+X! 		Sprintf(nb = eos(newbot1)," the ");
+X! 	}
+X  #ifdef POLYSELF
+X  	if (u.mtimedone) {
+X  		char mbot[BUFSZ];
+X***************
+X*** 394,399 ****
+X--- 422,428 ----
+X  	Sprintf(nb = eos(newbot2),
+X  		"%c:%-2ld HP:%d(%d) Pw:%d(%d) AC:%-2d", oc_syms[GOLD_CLASS],
+X  		u.ugold, hp, hpmax, u.uen, u.uenmax, u.uac);
+X+ 	if (wizard) Sprintf(nb = eos(newbot2)," HPL:%d",u.uhplast);
+X  #ifdef POLYSELF
+X  	if (u.mtimedone)
+X  		Sprintf(nb = eos(nb), " HD:%d", mons[u.umonnum].mlevel);
+X*** /tmp/tmp.1285	Sat May 28 21:17:19 1994
+X--- ./src/do_name.c	Sun Dec 26 12:03:53 1993
+X***************
+X*** 617,623 ****
+X--- 617,625 ----
+X  	"Terminator",				/* The Terminator */
+X  	"boomer",				/* Bubblegum Crisis */
+X  	"Dalek",				/* Dr. Who ("Exterminate!") */
+X+ #ifndef DOUGLAS_ADAMS	 /* then real monsters */
+X  	"microscopic space fleet", "Ravenous Bugblatter Beast of Traal",
+X+ #endif
+X  						/* HGttG */
+X  	"teenage mutant ninja turtle",		/* TMNT */
+X  	"samurai rabbit",			/* Usagi Yojimbo */
+X*** /tmp/tmp.1285	Sat May 28 21:17:21 1994
+X--- ./src/do.c	Fri Apr 15 22:53:52 1994
+X***************
+X*** 32,37 ****
+X--- 32,38 ----
+X  
+X  STATIC_PTR int FDECL(drop, (struct obj *));
+X  STATIC_PTR int NDECL(wipeoff);
+X+ STATIC_PTR void NDECL(lose_comp_objects);
+X  
+X  #ifdef OVL2
+X  static int NDECL(currentlevel_rewrite);
+X***************
+X*** 59,64 ****
+X--- 60,87 ----
+X  #endif /* OVLB */
+X  #ifdef OVL0
+X  
+X+ STATIC_PTR void
+X+ lose_comp_objects()
+X+ {
+X+ 	struct obj *otmp,*on;
+X+ 	int x;
+X+ 
+X+ 	x = 0;
+X+ 	for (otmp=invent;otmp;) {
+X+ 		on = otmp->nobj;
+X+ 		if (otmp->otyp == RIN_TIMELY_BACKUP 
+X+ 		||  otmp->otyp == SCR_ROOT_PASSWORD_DETECTION
+X+ 		||  otmp->otyp == AMULET_OF_DATA_STORAGE
+X+ 		||  otmp->otyp == WAN_BUGGING ) {
+X+ 			pline("%s%s vanish%s!",(x++) ? "" : "All of a sudden, ",doname(otmp),(otmp->quan > 1) ? "" : "es");
+X+ 			setnotworn(otmp);
+X+ 			freeinv(otmp);
+X+ 			obfree(otmp, (struct obj *) 0);
+X+ 		}
+X+ 		otmp = on;
+X+ 	}
+X+ }
+X+ 
+X  /* Called when a boulder is dropped, thrown, or pushed.  If it ends up
+X   * in a pool, it either fills the pool up or sinks away.  In either case,
+X   * it's gone for good...  If the destination is not a pool, returns FALSE.
+X***************
+X*** 281,286 ****
+X--- 304,316 ----
+X  		pline("The water's force seems %ser now.",
+X  			(obj->spe<0) ? "small" : "great");
+X  		break;
+X+ 	    case RIN_HEALTH:
+X+ 		pline("The water's quality seems %screased.",
+X+ 			(obj->spe<0) ? "de" : "in");
+X+ 		break;
+X+ 	    case RIN_TIMELY_BACKUP:
+X+ 		pline("The sink seems undestroyable.");
+X+ 		break;
+X  	    default:
+X  		ideed = FALSE;
+X  		break;
+X***************
+X*** 465,471 ****
+X  register struct obj *obj;
+X  {
+X  	if (!u.uswallow && flooreffects(obj,u.ux,u.uy,"drop")) return;
+X! 	if(obj->otyp == CRYSKNIFE)
+X  		obj->otyp = WORM_TOOTH;
+X  	(void) snuff_candle(obj);
+X  	/* uswallow check done by GAN 01/29/87 */
+X--- 495,501 ----
+X  register struct obj *obj;
+X  {
+X  	if (!u.uswallow && flooreffects(obj,u.ux,u.uy,"drop")) return;
+X! 	if(obj->otyp == CRYSKNIFE && !obj->oartifact)
+X  		obj->otyp = WORM_TOOTH;
+X  	(void) snuff_candle(obj);
+X  	/* uswallow check done by GAN 01/29/87 */
+X***************
+X*** 870,875 ****
+X--- 900,906 ----
+X  	if (Punished) placebc();
+X  	losedogs();
+X  	obj_delivery();
+X+ 	lose_comp_objects();
+X  
+X  	initrack();
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:17:22 1994
+X--- ./src/decl.c	Sat Mar 19 14:45:41 1994
+X***************
+X*** 229,237 ****
+X  struct tc_gbl_data tc_gbl_data = { 0,0, 0,0 };	/* AS,AE, LI,CO */
+X  
+X  #ifdef TOURIST
+X! const char NEARDATA *pl_classes = "ABCEHKPRSTVW";
+X  #else
+X! const char NEARDATA *pl_classes = "ABCEHKPRSVW";
+X  #endif
+X  
+X  /* dummy routine used to force linkage */
+X--- 229,237 ----
+X  struct tc_gbl_data tc_gbl_data = { 0,0, 0,0 };	/* AS,AE, LI,CO */
+X  
+X  #ifdef TOURIST
+X! const char NEARDATA *pl_classes = "ABCEGHKPRSTVW";
+X  #else
+X! const char NEARDATA *pl_classes = "ABCEGHKPRSVW";
+X  #endif
+X  
+X  /* dummy routine used to force linkage */
+X*** /tmp/tmp.1285	Sat May 28 21:17:26 1994
+X--- ./src/do_wear.c	Sun Apr 10 15:52:13 1994
+X***************
+X*** 347,352 ****
+X--- 347,353 ----
+X  
+X      switch(uarmg->otyp) {
+X  	case LEATHER_GLOVES:
+X+ 	case GAUNTLETS_OF_TYPING:
+X  		break;
+X  	case GAUNTLETS_OF_FUMBLING:
+X  		if (!oldprop)
+X***************
+X*** 374,379 ****
+X--- 375,381 ----
+X  
+X      switch(uarmg->otyp) {
+X  	case LEATHER_GLOVES:
+X+ 	case GAUNTLETS_OF_TYPING:
+X  		break;
+X  	case GAUNTLETS_OF_FUMBLING:
+X  		if (!oldprop)
+X***************
+X*** 484,489 ****
+X--- 486,492 ----
+X  	case AMULET_OF_REFLECTION:
+X  	case AMULET_OF_MAGICAL_BREATHING:
+X  	case FAKE_AMULET_OF_YENDOR:
+X+ 	case AMULET_OF_SECOND_CHANCE:
+X  		break;
+X  	case AMULET_OF_CHANGE:
+X  		makeknown(AMULET_OF_CHANGE);
+X***************
+X*** 503,508 ****
+X--- 506,514 ----
+X  	case AMULET_OF_RESTFUL_SLEEP:
+X  		Sleeping = rnd(100);
+X  		break;
+X+ 	case AMULET_OF_DATA_STORAGE:
+X+ 		You("feel full of knowledge.");
+X+ 		break;
+X  	case AMULET_OF_YENDOR:
+X  		break;
+X      }
+X***************
+X*** 520,525 ****
+X--- 526,532 ----
+X  	case AMULET_OF_LIFE_SAVING:
+X  	case AMULET_VERSUS_POISON:
+X  	case AMULET_OF_REFLECTION:
+X+ 	case AMULET_OF_SECOND_CHANCE:
+X  	case FAKE_AMULET_OF_YENDOR:
+X  		break;
+X  	case AMULET_OF_MAGICAL_BREATHING:
+X***************
+X*** 548,553 ****
+X--- 555,563 ----
+X  	case AMULET_OF_RESTFUL_SLEEP:
+X  		Sleeping = 0;
+X  		break;
+X+ 	case AMULET_OF_DATA_STORAGE:
+X+ 		You("feel intellectually poor.");
+X+ 		break;
+X  	case AMULET_OF_YENDOR:
+X  		break;
+X      }
+X***************
+X*** 642,647 ****
+X--- 652,668 ----
+X  			obj->known = TRUE;
+X  		}
+X  		break;
+X+ 	case RIN_HEALTH:
+X+ 		ABON(A_CON) += obj->spe;
+X+ 		flags.botl = 1;
+X+ 		if (obj->spe || objects[RIN_HEALTH].oc_name_known) {
+X+ 			makeknown(RIN_HEALTH);
+X+ 			obj->known = TRUE;
+X+ 		}
+X+ 		break;
+X+ 	case RIN_TIMELY_BACKUP:
+X+ 		You("feel absolutely safe.");
+X+ 		break;
+X      }
+X  }
+X  
+X***************
+X*** 715,720 ****
+X--- 736,748 ----
+X  		 * change shape again -dgk
+X  		 */
+X  		restartcham();
+X+ 		break;
+X+ 	case RIN_HEALTH:
+X+ 		ABON(A_CON) -= obj->spe;
+X+ 		flags.botl = 1;
+X+ 		break;
+X+ 	case RIN_TIMELY_BACKUP:
+X+ 		You("feel unsafe.");
+X  		break;
+X      }
+X  }
+X*** /tmp/tmp.1285	Sat May 28 21:17:30 1994
+X--- ./src/dothrow.c	Fri Apr 15 22:47:29 1994
+X***************
+X*** 432,438 ****
+X  		    return(1);
+X  		}
+X  		if(flooreffects(obj,bhitpos.x,bhitpos.y,"fall")) return(1);
+X! 		if(obj->otyp == CRYSKNIFE)
+X  			obj->otyp = WORM_TOOTH;
+X  	        if(mon && mon->isshk && obj->otyp == PICK_AXE) {
+X  		        mpickobj(mon, obj);
+X--- 432,438 ----
+X  		    return(1);
+X  		}
+X  		if(flooreffects(obj,bhitpos.x,bhitpos.y,"fall")) return(1);
+X! 		if(obj->otyp == CRYSKNIFE && !obj->oartifact)
+X  			obj->otyp = WORM_TOOTH;
+X  	        if(mon && mon->isshk && obj->otyp == PICK_AXE) {
+X  		        mpickobj(mon, obj);
+X*** /tmp/tmp.1285	Sat May 28 21:17:34 1994
+X--- ./src/eat.c	Sat Apr 23 14:38:53 1994
+X***************
+X*** 708,713 ****
+X--- 708,720 ----
+X  	    case PM_WRAITH:
+X  		pluslvl();
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case PM_CREEPING___:
+X+ 		pline("You feel appropriately 42!");
+X+ 		pluslvl();
+X+ 		make_hallucinated(HHallucination+rn1(10,50),TRUE,0L);
+X+ 		break;
+X+ #endif
+X  #ifdef POLYSELF
+X  	    case PM_HUMAN_WERERAT:
+X  		u.ulycn = PM_WERERAT;
+X***************
+X*** 1328,1333 ****
+X--- 1335,1348 ----
+X  		u.ublessed += otmp->spe;
+X  		flags.botl = 1;
+X  		break;
+X+ 	    case RIN_HEALTH:
+X+ 		if (adjattrib(A_CON, otmp->spe, -1)) 
+X+ 			makeknown(typ);
+X+ 		break;
+X+ 	    case RIN_TIMELY_BACKUP:
+X+ 		You("feel very, very safe.");
+X+ 		/* do something ... */
+X+ 		break;
+X  	}
+X  }
+X  
+X***************
+X*** 1429,1434 ****
+X--- 1444,1454 ----
+X  #endif
+X  		}
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case PEANUT_BAG:
+X+ 		adjattrib(A_CON,rn2(2)+1,-1);
+X+ 		break;
+X+ #endif
+X  	}
+X  	return;
+X  }
+X***************
+X*** 1690,1696 ****
+X  		    if (victual.canchoke &&
+X  			/* a one-gulp food will not survive a stop */
+X  				victual.reqtime > 1) {
+X! 			if(yn("Stop eating?") == 'y')
+X  			{
+X  				reset_eat();
+X  				nomovemsg = NULL;
+X--- 1710,1716 ----
+X  		    if (victual.canchoke &&
+X  			/* a one-gulp food will not survive a stop */
+X  				victual.reqtime > 1) {
+X! 			if(yn_function("Stop eating?","yn",'y') == 'y')
+X  			{
+X  				reset_eat();
+X  				nomovemsg = NULL;
+X*** /tmp/tmp.1285	Sat May 28 21:17:35 1994
+X--- ./src/end.c	Thu May 12 13:49:54 1994
+X***************
+X*** 307,313 ****
+X  int how;
+X  {
+X  	u.uswldtim = 0;
+X! 	u.uhp = u.uhpmax;
+X  	if (u.uhunger < 500) {
+X  	    u.uhunger = 500;
+X  	    newuhs(FALSE);
+X--- 307,318 ----
+X  int how;
+X  {
+X  	u.uswldtim = 0;
+X! 	if (Second_chance) {
+X! 		u.uhp = u.uhplast;
+X! 	} else {
+X! 		u.uhp = u.uhpmax;
+X! 	}
+X! 	u.uhplast = u.uhp;
+X  	if (u.uhunger < 500) {
+X  	    u.uhunger = 500;
+X  	    newuhs(FALSE);
+X***************
+X*** 357,362 ****
+X--- 362,391 ----
+X      return valuables;
+X  }
+X  
+X+ static void
+X+ kill_ravenous_beasts(int how)
+X+ {
+X+ 	int count;
+X+ 	struct monst *mtmp,*mtmp2;
+X+ 
+X+ 	count = 0;
+X+ 	for (mtmp=fmon;mtmp;mtmp=mtmp2) {
+X+ 		mtmp2 = mtmp->nmon;
+X+ 		if (mtmp->data == &mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL]) {
+X+ 			count++;
+X+ 			mondied(mtmp);
+X+ 		}
+X+ 	}
+X+ 
+X+ 	if (count > 0) {
+X+ 		pline("Just before your consciousness passes, you hear %s.",count == 1 ? "a scream" : "several screams");
+X+ 	}
+X+ 
+X+ 	if (how == GENOCIDED) {
+X+ 		mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL].geno |= G_GENOD;
+X+ 	}
+X+ }
+X+ 	
+X  /* Be careful not to call panic from here! */
+X  void
+X  done(how)
+X***************
+X*** 368,373 ****
+X--- 397,404 ----
+X  	winid endwin = WIN_ERR;
+X  	boolean have_windows = flags.window_inited;
+X  
+X+ 	if (how < PANICKED) kill_ravenous_beasts(how);
+X+ 
+X  	/* kilbuf: used to copy killer in case it comes from something like
+X  	 *	xname(), which would otherwise get overwritten when we call
+X  	 *	xname() when listing possessions
+X***************
+X*** 387,405 ****
+X  	}
+X  #endif
+X  	if (how < PANICKED) u.umortality++;
+X! 	if (Lifesaved && how <= GENOCIDED) {
+X  		pline("But wait...");
+X! 		makeknown(AMULET_OF_LIFE_SAVING);
+X! 		Your("medallion %s!",
+X  		      !Blind ? "begins to glow" : "feels warm");
+X  		if (how == CHOKING) You("vomit ...");
+X  		You("feel much better!");
+X! 		pline("The medallion crumbles to dust!");
+X! 		useup(uamul);
+X  
+X  		(void) adjattrib(A_CON, -1, TRUE);
+X  		if(u.uhpmax <= 0) u.uhpmax = 10;	/* arbitrary */
+X  		savelife(how);
+X  		if (how == GENOCIDED)
+X  			pline("Unfortunately you are still genocided...");
+X  		else {
+X--- 418,439 ----
+X  	}
+X  #endif
+X  	if (how < PANICKED) u.umortality++;
+X! 	if ((Second_chance || Lifesaved) && how <= GENOCIDED) {
+X  		pline("But wait...");
+X! 		makeknown(Lifesaved ? AMULET_OF_LIFE_SAVING : AMULET_OF_SECOND_CHANCE);
+X! 		Your("%s %s!", Lifesaved ? "medallion" : "amulet",
+X  		      !Blind ? "begins to glow" : "feels warm");
+X  		if (how == CHOKING) You("vomit ...");
+X  		You("feel much better!");
+X! 		pline("The amulet crumbles to dust!");
+X! /*		useup(uamul); */
+X  
+X  		(void) adjattrib(A_CON, -1, TRUE);
+X  		if(u.uhpmax <= 0) u.uhpmax = 10;	/* arbitrary */
+X  		savelife(how);
+X+ /* useup() had to be moved for savelife() to distingush between Lifesaved */
+X+ /* and Second_chance */
+X+ 		useup(uamul);
+X  		if (how == GENOCIDED)
+X  			pline("Unfortunately you are still genocided...");
+X  		else {
+X***************
+X*** 771,780 ****
+X  		    }
+X  		    putstr(klwin, 0, buf);
+X  		}
+X! 	    /*
+X! 	     * if (Hallucination)
+X! 	     *     putstr(klwin, 0, "and a partridge in a pear tree");
+X! 	     */
+X  	    if (ntypes > 1) {
+X  		putstr(klwin, 0, "");
+X  		Sprintf(buf, "%ld creatures vanquished.", total_killed);
+X--- 805,815 ----
+X  		    }
+X  		    putstr(klwin, 0, buf);
+X  		}
+X! 	   
+X! /* Why not ? */ 
+X! 	       if (Hallucination)
+X! 	           putstr(klwin, 0, "and a partridge in a pear tree");
+X! 	     
+X  	    if (ntypes > 1) {
+X  		putstr(klwin, 0, "");
+X  		Sprintf(buf, "%ld creatures vanquished.", total_killed);
+X*** /tmp/tmp.1285	Sat May 28 21:17:40 1994
+X--- ./src/hack.c	Sun Apr 10 17:45:30 1994
+X***************
+X*** 1230,1235 ****
+X--- 1230,1240 ----
+X  		    if(monstinroom(&mons[PM_ORACLE], roomno))
+X  			verbalize("Hello, %s, welcome to Delphi!", plname);
+X  		    break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 		case DOUGROOM:
+X+ 		    You("feel 42.");
+X+ 		    break;
+X+ #endif
+X  		case TEMPLE:
+X  		    intemple(roomno + ROOMOFFSET);
+X  		    /* fall through */
+X***************
+X*** 1483,1489 ****
+X  	register int nval;
+X  {
+X  	if(multi < nval) return;	/* This is a bug fix by ab@unido */
+X! 	u.uinvulnerable = FALSE;	/* Kludge to avoid ctrl-C bug -dlc */
+X  	u.usleep = 0;
+X  	multi = nval;
+X  	flags.mv = flags.run = 0;
+X--- 1488,1494 ----
+X  	register int nval;
+X  {
+X  	if(multi < nval) return;	/* This is a bug fix by ab@unido */
+X! 	if (!u.uinvul_time) u.uinvulnerable = FALSE;	/* Kludge to avoid ctrl-C bug -dlc */
+X  	u.usleep = 0;
+X  	multi = nval;
+X  	flags.mv = flags.run = 0;
+X***************
+X*** 1507,1512 ****
+X--- 1512,1518 ----
+X  		return;
+X  	}
+X  #endif
+X+ 	u.uhplast = u.uhp;
+X  	u.uhp -= n;
+X  	if(u.uhp > u.uhpmax)
+X  		u.uhpmax = u.uhp;	/* perhaps n was negative */
+X*** /tmp/tmp.1285	Sat May 28 21:17:48 1994
+X--- ./src/makemon.c	Sun May 22 20:04:32 1994
+X***************
+X*** 13,19 ****
+X  
+X  #define uncommon(ptr) \
+X  	(((ptr)->geno & (G_GENOD | G_EXTINCT | G_NOGEN | G_UNIQ)) || \
+X! 	 (!Inhell ? ((ptr)->geno & G_HELL) : ((ptr)->maligntyp > A_NEUTRAL)))
+X  
+X  #ifdef OVL0
+X  static boolean NDECL(cmavail);
+X--- 13,20 ----
+X  
+X  #define uncommon(ptr) \
+X  	(((ptr)->geno & (G_GENOD | G_EXTINCT | G_NOGEN | G_UNIQ)) || \
+X! 	 (!Inhell ? ((ptr)->geno & G_HELL) : ((ptr)->maligntyp > A_NEUTRAL)) \
+X! 	|| Is_rogue_level(&u.uz) ? (!((ptr)->geno & G_ROGUE)) : ((ptr)->geno & G_ROGUE) )
+X  
+X  #ifdef OVL0
+X  static boolean NDECL(cmavail);
+X***************
+X*** 436,441 ****
+X--- 437,450 ----
+X  	switch(ptr->mlet) {
+X  
+X  	    case S_HUMAN:
+X+ #ifdef DOUGLAS_ADAMS
+X+ 		if (monsndx(ptr) == PM_FORD_PERFECT || monsndx(ptr) == PM_ARTHUR_DENT) {
+X+ 			mongets(mtmp,PEANUT_BAG);
+X+ 		} 
+X+ 		if (monsndx(ptr) == PM_FORD_PERFECT) {
+X+ 			mongets(mtmp,TOWEL);
+X+ 		}
+X+ #endif
+X  		if(is_mercenary(ptr)) {
+X  		    register int mac;
+X  #ifdef MUSE
+X***************
+X*** 510,521 ****
+X--- 519,540 ----
+X  				(void) mongets(mtmp, TIN_WHISTLE);
+X  		} else if (ptr == &mons[PM_SHOPKEEPER]) {
+X  		    (void) mongets(mtmp,SKELETON_KEY);
+X+ 		} else if (is_educator(mtmp)) {
+X+ 		    if (!rn2(5) || is_principal(mtmp)) {
+X+ 			/* They're going to need it :-) */
+X+ 			mongets(mtmp,rn2(3) ? RING_MAIL : PLATE_MAIL);
+X+ 		    }
+X  		}
+X  		break;
+X  
+X  	    case S_NYMPH:
+X  		if(!rn2(2)) (void) mongets(mtmp, MIRROR);
+X  		if(!rn2(2)) (void) mongets(mtmp, POT_OBJECT_DETECTION);
+X+ 		if (ptr == &mons[PM_NYMPH_QUEEN]) {
+X+ 			struct obj *otmp = mksobj(SKELETON_KEY,TRUE,FALSE);
+X+ 			otmp = oname(otmp,artiname(ART_KEY_OF_ACCESS),0);
+X+ 			mpickobj(mtmp,otmp);
+X+ 		}
+X  		break;
+X  
+X  	    case S_GIANT:
+X***************
+X*** 538,562 ****
+X  		}
+X  		break;
+X  	    case S_QUANTMECH:
+X! 		if (!rn2(20)) {
+X! 			struct obj *cat;
+X  
+X! 			otmp = mksobj(LARGE_BOX, FALSE, FALSE);
+X! 	/* actually, whether this is a corpse or a live cat shouldn't
+X! 	   really be decided until the box is opened... */
+X! 			cat = mksobj(CORPSE, FALSE, FALSE);
+X! 			cat->corpsenm = PM_HOUSECAT;
+X! 			cat->owt = weight(cat);
+X! 			cat = oname(cat, "Schroedinger's Cat", FALSE);
+X! 			cat->nobj = otmp->cobj;
+X! 			otmp->cobj = cat;
+X  			otmp->owt = weight(otmp);
+X! 			mpickobj(mtmp, otmp);
+X  		}
+X  		break;
+X! 	    case S_LEPRECHAUN:
+X! 		mtmp->mgold = (long) d(level_difficulty(), 30);
+X  		break;
+X  	    default:
+X  		break;
+X  	}
+X--- 557,643 ----
+X  		}
+X  		break;
+X  	    case S_QUANTMECH:
+X! 		if (ptr == &mons[PM_QUANTUM_MECHANIC] && !rn2(10)) {/* was 20 */
+X! /*
+X! **			struct obj *cat;
+X! **
+X! **			otmp = mksobj(LARGE_BOX, FALSE, FALSE);
+X! **	   actually, whether this is a corpse or a live cat shouldn't
+X! **	   really be decided until the box is opened... 
+X! **			cat = mksobj(CORPSE, FALSE, FALSE);
+X! **			cat->corpsenm = PM_HOUSECAT;
+X! **			cat->owt = weight(cat);
+X! **			cat = oname(cat, "Schroedinger's Cat", FALSE);
+X! **			cat->nobj = otmp->cobj;
+X! **			otmp->cobj = cat;
+X! **			otmp->owt = weight(otmp);
+X! **			mpickobj(mtmp, otmp);
+X! */
+X! 
+X! 		/* We now do the real thing ... */
+X! 			otmp = mksobj(SCHROEDINGER_S_BOX,TRUE,FALSE);
+X! 			mpickobj(mtmp,otmp);
+X! 		}
+X! 		break;
+X! 	    case S_LEPRECHAUN: {
+X! 		int n;
+X! 
+X! 		if (ptr == &mons[PM_LEPRECHAUN_KING]) {
+X! 			n = 500;
+X! 		} else if (ptr == &mons[PM_LEPRECHAUN_ELDER]) {
+X! 			n = 50;
+X! 		} else {
+X! 			n = 30;	/* as it was before ... */
+X! 		}
+X! 		mtmp->mgold = (long) d(level_difficulty(), n);
+X! 		} break;
+X! #ifdef DOUGLAS_ADAMS
+X! 	    case S_ANGEL:
+X! 		if (monsndx(ptr) == PM_DOUGLAS_ADAMS) {
+X! 			mongets(mtmp,HITCHHIKER_S_GUIDE_TO_THE_GALA);
+X! 		}
+X! 		break;
+X! 
+X! 	    case S_XORN:
+X! 		if (monsndx(ptr) == PM_MARVIN) {
+X! 			int i;
+X! 			int t[3] = {DIODE, TRANSISTOR, IC};
+X! 			for (i=0;i<3;i++) {
+X! 				otmp = mksobj(t[i],FALSE,FALSE);
+X! 				otmp->quan = rn2(7) + 1;
+X! 				otmp->owt = weight(otmp);
+X! 				mpickobj(mtmp,otmp);
+X! 			}
+X! 		}
+X! 		break;
+X  
+X! 	    case S_XAN:
+X! 		if (monsndx(ptr) == PM_DEEP_THOUGHT) {
+X! 			otmp = mksobj(IC,FALSE,FALSE);
+X! 			otmp->quan = 42;
+X  			otmp->owt = weight(otmp);
+X! 			mpickobj(mtmp,otmp);
+X  		}
+X  		break;
+X! 
+X! 	    case S_YETI:
+X! 		if (monsndx(ptr) == PM_ZAPHOD_BREEBLEBROX) {
+X! 			otmp = mksobj(POT_PAN_GALACTIC_GARGLE_BLASTE,FALSE,FALSE);
+X! 			otmp->quan = d(2,4);
+X! 			otmp->owt = weight(otmp);
+X! 			mpickobj(mtmp,otmp);
+X! 		}
+X  		break;
+X+ #endif
+X+ 	    case S_DRAGON:
+X+ 		if (ptr == &mons[PM_DRAGON_LORD]) {
+X+ 			struct obj *otmp;
+X+ 			otmp = mksobj(GRAY_DRAGON_SCALE_MAIL,TRUE,FALSE);
+X+ 			otmp = oname(otmp,artiname(ART_SCALES_OF_THE_DRAGON_LORD),0);
+X+ 			mpickobj(mtmp,otmp);
+X+ 		}
+X+ 		break;
+X+ 
+X  	    default:
+X  		break;
+X  	}
+X***************
+X*** 679,684 ****
+X--- 760,768 ----
+X  		case S_MIMIC:
+X  			set_mimic_sym(mtmp);
+X  			break;
+X+ 		case S_XORN:
+X+ 			if (mtmp->data == &mons[PM_XEROC]) set_mimic_sym(mtmp);
+X+ 			break;
+X  		case S_SPIDER:
+X  		case S_SNAKE:
+X  			if(in_mklev)
+X***************
+X*** 689,695 ****
+X  			break;
+X  		case S_STALKER:
+X  		case S_EEL:
+X! 			mtmp->minvis = TRUE;
+X  			break;
+X  		case S_LEPRECHAUN:
+X  			mtmp->msleep = TRUE;
+X--- 773,784 ----
+X  			break;
+X  		case S_STALKER:
+X  		case S_EEL:
+X! 			if (ptr != &mons[PM_ICE_MONSTER] &&
+X! 			    ptr != &mons[PM_BABELFISH])
+X! 				mtmp->minvis = TRUE;
+X! 			break;
+X! 		case S_PUDDING:
+X! 			if (ptr == &mons[PM_PHANTOM]) mtmp->minvis = TRUE;
+X  			break;
+X  		case S_LEPRECHAUN:
+X  			mtmp->msleep = TRUE;
+X***************
+X*** 719,724 ****
+X--- 808,815 ----
+X  	} else if (ptr == &mons[PM_WIZARD_OF_YENDOR]) {
+X  		mtmp->iswiz = TRUE;
+X  		flags.no_of_wizards++;
+X+ 	} else if (ptr == &mons[PM_QUANTUM_MECHANIC]) {
+X+ 		mtmp = qname(mtmp);		/* see sounds.c */
+X  	} else if (ptr == &mons[PM_VLAD_THE_IMPALER])
+X  		(void) mongets(mtmp, CANDELABRUM_OF_INVOCATION);
+X  #ifdef MULDGN
+X*** /tmp/tmp.1285	Sat May 28 21:17:49 1994
+X--- ./src/mhitm.c	Sat Mar 26 16:18:26 1994
+X***************
+X*** 231,236 ****
+X--- 231,237 ----
+X  	    case AT_TUCH:
+X  	    case AT_BUTT:
+X  	    case AT_TENT:
+X+ 	    case AT_TALK:
+X  		dieroll = rnd(20 + i);
+X  		strike = (tmp > dieroll);
+X  		if (strike)
+X***************
+X*** 846,851 ****
+X--- 847,861 ----
+X  	    case AD_STCK:
+X  	    case AD_WRAP: /* monsters cannot grab one another, it's too hard */
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case AD_DEPR:
+X+ 		pline("%s talks to %s!", Monnam(magr), mon_nam(mdef));
+X+ 		if (!rn2(5)) {
+X+ 			pline("%s is depressed!",Monnam(mdef));
+X+ 			tmp = rn1(10,6);
+X+ 		}
+X+ 		break;
+X+ #endif
+X  	    default:	tmp = 0;
+X  			break;
+X  	}
+X*** /tmp/tmp.1285	Sat May 28 21:17:50 1994
+X--- ./src/mhitu.c	Sun Apr 10 15:31:25 1994
+X***************
+X*** 80,85 ****
+X--- 80,88 ----
+X  		case AT_EXPL:
+X  			pline("%s explodes!", Monnam(mtmp));
+X  			break;
+X+ 		case AT_TALK:
+X+ 			pline("%s talks to you!",Monnam(mtmp));
+X+ 			break;
+X  		default:
+X  			pline("%s hits!", Monnam(mtmp));
+X  	    }
+X***************
+X*** 393,399 ****
+X  	if(!mtmp->cham && is_demon(mdat) && !range2
+X  	   && mtmp->data != &mons[PM_BALROG]
+X  	   && mtmp->data != &mons[PM_SUCCUBUS]
+X! 	   && mtmp->data != &mons[PM_INCUBUS])
+X  	    if(!mtmp->mcan && !rn2(13))	msummon(mdat);
+X  
+X  /*	Special lycanthrope handling code */
+X--- 396,404 ----
+X  	if(!mtmp->cham && is_demon(mdat) && !range2
+X  	   && mtmp->data != &mons[PM_BALROG]
+X  	   && mtmp->data != &mons[PM_SUCCUBUS]
+X! 	   && mtmp->data != &mons[PM_INCUBUS]
+X! 	   && mtmp->data != &mons[PM_NEWS_DAEMON]
+X! 	   && mtmp->data != &mons[PM_PRINTER_DAEMON])
+X  	    if(!mtmp->mcan && !rn2(13))	msummon(mdat);
+X  
+X  /*	Special lycanthrope handling code */
+X***************
+X*** 548,553 ****
+X--- 553,563 ----
+X  			if(range2) sum[i] = spitmu(mtmp, mattk);
+X  			/* Note: spitmu takes care of displacement */
+X  			break;
+X+ 		case AT_TALK:
+X+ 			if (!ranged) {
+X+ 				pline("%s talks to you!",youseeit ? Monnam(mtmp) : "It");
+X+ 				sum[i] = hitmu(mtmp,mattk);
+X+ 			}
+X  		case AT_WEAP:
+X  			if(range2) {
+X  #ifdef REINCARNATION
+X***************
+X*** 891,896 ****
+X--- 901,907 ----
+X  	    case AD_SLEE:
+X  		hitmsg(mtmp, mattk);
+X  		if(ctmp && multi >= 0 && !rn2(5)) {
+X+ 		    if (is_educator(mtmp) && rn2(5)) break;
+X  		    if (Sleep_resistance) break;
+X  		    nomul(-rnd(10));
+X  		    u.usleep = 1;
+X***************
+X*** 965,970 ****
+X--- 976,984 ----
+X  		}
+X  		break;
+X  	    case AD_DRLI:
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    drain_life:
+X+ #endif
+X  		hitmsg(mtmp, mattk);
+X  		if (ctmp && !rn2(3)
+X  #ifdef POLYSELF
+X***************
+X*** 1333,1338 ****
+X--- 1347,1387 ----
+X  		morehungry(rn1(40,40));
+X  		/* plus the normal damage */
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case AD_DEPR:
+X+ 		You("feel depressed.");
+X+ 		switch(rn2(6) + u.uluck) {
+X+ 			case 0:
+X+ 				goto drain_life;
+X+ 				break;
+X+ 			case 1:
+X+ 				(void) adjattrib(A_CON, -1, FALSE);
+X+ 				if (ABASE(A_CON) < ATTRMIN(A_CON)) {
+X+ 					killer = "depression";
+X+ 					killer_format = KILLED_BY;
+X+ 					done(DIED);
+X+ 					/* lifesaved */
+X+ 					ABASE(A_CON) = ATTRMIN(A_CON);
+X+ 				}
+X+ 				break;
+X+ 			case 2:
+X+ 				(void) adjattrib(A_INT, -1, FALSE);
+X+ 				if (ABASE(A_INT) < ATTRMIN(A_CON)) {
+X+ 					killer = "depression";
+X+ 					killer_format = KILLED_BY;
+X+ 					done(DIED);
+X+ 					/* lifesaved */
+X+ 					ABASE(A_INT) = ATTRMIN(A_INT);
+X+ 				}
+X+ 				break;
+X+ 			default:
+X+ 				pline("But the feeling subsides.");
+X+ 				break;
+X+ 		}
+X+ 		dmg = 0;
+X+ 		break;
+X+ #endif
+X+ 
+X  	    default:	dmg = 0;
+X  			break;
+X  	}
+X***************
+X*** 1703,1708 ****
+X--- 1752,1758 ----
+X  		return;
+X  	}
+X  #endif
+X+ 	u.uhplast = u.uhp;
+X  	u.uhp -= n;
+X  	flags.botl = 1;
+X  	if(u.uhp < 1)
+X*** /tmp/tmp.1285	Sat May 28 21:17:52 1994
+X--- ./src/mklev.c	Sun Dec 26 16:22:02 1993
+X***************
+X*** 719,724 ****
+X--- 719,727 ----
+X  	else if(depth(&u.uz) > 4 && !rn2(6)) mkroom(COURT);
+X  	else if(depth(&u.uz) > 6 && !rn2(7)) mkroom(ZOO);
+X  	else if(depth(&u.uz) > 8 && !rn2(5)) mkroom(TEMPLE);
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	else if(depth(&u.uz) > 10 && !rn2(5)) mkroom(DOUGROOM);
+X+ #endif
+X  	else if(depth(&u.uz) > 9 && !rn2(5) &&
+X  	   !(mons[PM_KILLER_BEE].geno & (G_GENOD | G_EXTINCT))) mkroom(BEEHIVE);
+X  	else if(depth(&u.uz) > 11 && !rn2(6)) mkroom(MORGUE);
+X*** /tmp/tmp.1285	Sat May 28 21:17:55 1994
+X--- ./src/mondata.c	Sat Mar 19 15:03:34 1994
+X***************
+X*** 315,320 ****
+X--- 315,321 ----
+X  		case 'C': if (flags.female) return &mons[PM_CAVEWOMAN];
+X  			else return &mons[PM_CAVEMAN];
+X  		case 'E': return &mons[PM_ELF];
+X+ 		case 'G': return &mons[PM_GEEK];
+X  		case 'H': return &mons[PM_HEALER];
+X  		case 'K': return &mons[PM_KNIGHT];
+X  		case 'P': if (flags.female) return &mons[PM_PRIESTESS];
+X*** /tmp/tmp.1285	Sat May 28 21:17:56 1994
+X--- ./src/mkobj.c	Sat Apr 23 14:15:03 1994
+X***************
+X*** 145,150 ****
+X--- 145,151 ----
+X  		case SACK:
+X  		case OILSKIN_SACK:
+X  		case BAG_OF_HOLDING:	n = 1; break;
+X+ 		case BAG_OF_DIGESTION:		/* makes sense, doesn't it ? */
+X  		default:		n = 0; break;
+X  	}
+X  
+X***************
+X*** 237,242 ****
+X--- 238,244 ----
+X  	otmp->oclass = let;
+X  	otmp->otyp = otyp;
+X  	otmp->dknown = index(dknowns, let) ? 0 : 1;
+X+ 	otmp->selfmade = FALSE;
+X  	if (!objects[otmp->otyp].oc_uses_known)
+X  		otmp->known = 1;
+X  	if (init) switch (let) {
+X***************
+X*** 337,342 ****
+X--- 339,347 ----
+X  		case HORN_OF_PLENTY:
+X  		case BAG_OF_TRICKS:	otmp->spe = rnd(20);
+X  					break;
+X+ 		case CHEMISTRY_SET:	otmp->spe = rn1(10,10);
+X+ 					blessorcurse(otmp,4);
+X+ 					break;
+X  		case FIGURINE:	{	int tryct2 = 0;
+X  					do
+X  					    otmp->corpsenm = rndmonnum();
+X***************
+X*** 632,637 ****
+X--- 637,661 ----
+X  	if(otmp)  {
+X  		if(ptr)	otmp->corpsenm = monsndx(ptr);
+X  		else	otmp->corpsenm = rndmonnum();
+X+ 		otmp->owt = weight(otmp);
+X+ 	}
+X+ 	return(otmp);
+X+ }
+X+ 
+X+ struct obj *
+X+ mkcorpstat_(objtype, mnum, init)
+X+ int objtype;
+X+ int mnum;
+X+ boolean init;
+X+ {
+X+ 	register struct obj *otmp;
+X+ 
+X+ 	if (objtype != CORPSE && objtype != STATUE) {
+X+ 		impossible("making corpstat_ type %d",objtype);
+X+ 	}
+X+ 	otmp = mksobj(objtype,init,FALSE);
+X+ 	if (otmp) {
+X+ 		otmp->corpsenm = mnum;
+X  		otmp->owt = weight(otmp);
+X  	}
+X  	return(otmp);
+X*** /tmp/tmp.1285	Sat May 28 21:17:58 1994
+X--- ./src/mkroom.c	Sun May 22 19:42:39 1994
+X***************
+X*** 9,14 ****
+X--- 9,17 ----
+X   *	has_dnstairs() -- return TRUE if given room has a down staircase
+X   *	has_upstairs() -- return TRUE if given room has an up staircase
+X   *	courtmon() -- generate a court monster
+X+ #ifdef DOUGLAS_ADAMS
+X+  *	douglas_adams_mon() -- create a Douglas-Adams_Monster
+X+ #endif
+X   *	save_rooms() -- save rooms into file fd
+X   *	rest_rooms() -- restore rooms from file fd
+X   */
+X***************
+X*** 22,27 ****
+X--- 25,33 ----
+X  static void NDECL(mktemple);
+X  static coord * FDECL(shrine_pos, (int));
+X  static struct permonst * NDECL(morguemon);
+X+ #ifdef DOUGLAS_ADAMS
+X+ struct permonst * NDECL(douglas_adams_mon);
+X+ #endif
+X  #ifdef ARMY
+X  static struct permonst * NDECL(squadmon);
+X  #endif
+X***************
+X*** 59,64 ****
+X--- 65,73 ----
+X  	case BARRACKS:	mkzoo(BARRACKS); break;
+X  	case SWAMP:	mkswamp(); break;
+X  	case TEMPLE:	mktemple(); break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	case DOUGROOM:	mkzoo(DOUGROOM); break;
+X+ #endif
+X  	default:	impossible("Tried to make a room of type %d.", roomtype);
+X      }
+X  }
+X***************
+X*** 109,114 ****
+X--- 118,130 ----
+X  				mkswamp();
+X  				return;
+X  			}
+X+ #ifdef DOUGLAS_ADAMS
+X+ 			if (*ep == 'd' || *ep == 'D') {
+X+ 				mkzoo(DOUGROOM);
+X+ 				return;
+X+ 			}
+X+ #endif
+X+ 
+X  			for(i=0; shtypes[i].name; i++)
+X  				if(*ep == def_oc_syms[(int)shtypes[i].symb])
+X  				    goto gottype;
+X***************
+X*** 284,289 ****
+X--- 300,308 ----
+X  		    (type == BEEHIVE) ?
+X  			(sx == tx && sy == ty ? &mons[PM_QUEEN_BEE] : 
+X  			 &mons[PM_KILLER_BEE]) :
+X+ #ifdef DOUGLAS_ADAMS
+X+ 		    (type == DOUGROOM) ? douglas_adams_mon() : 
+X+ #endif
+X  		    (struct permonst *) 0,
+X  		   sx, sy);
+X  		if(mon) {
+X***************
+X*** 351,356 ****
+X--- 370,380 ----
+X  	      case BEEHIVE:
+X  		  level.flags.has_beehive = 1;
+X  		  break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	      case DOUGROOM:
+X+ 		  level.flags.has_zoo = 1;
+X+ 		  break;
+X+ #endif
+X  	}
+X  }
+X  
+X***************
+X*** 610,615 ****
+X--- 634,687 ----
+X  	else if (i > 15)	return(mkclass(S_GNOME,0));
+X  	else			return(mkclass(S_KOBOLD,0));
+X  }
+X+ 
+X+ #ifdef DOUGLAS_ADAMS
+X+ struct permonst *
+X+ douglas_adams_mon()
+X+ {
+X+ /* The uniques are now needed for the Hitchhiker's Level. */
+X+ 	struct permonst *monsters[] = {
+X+ 		&mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL],
+X+ /*		&mons[PM_DOUGLAS_ADAMS], */
+X+ /*		&mons[PM_FORD_PERFECT], */
+X+ /*		&mons[PM_ARTHUR_DENT], */
+X+ 		&mons[PM_CREEPING___],
+X+ 		&mons[PM_MICROSCOPIC_SPACE_FLEET],
+X+ 		&mons[PM_VOGON],
+X+ 		&mons[PM_VOGON_LORD],
+X+ /*		&mons[PM_MR__PROSSER], */
+X+ /*		&mons[PM_PROSTETNIK_VOGON_JELTZ], */
+X+ /*		&mons[PM_ZAPHOD_BREEBLEBROX], */
+X+ /*		&mons[PM_DEEP_THOUGHT], */
+X+ 		&mons[PM_BABELFISH],
+X+ 		&mons[PM_MARVIN],
+X+ 		&mons[PM_ALGOLIAN_SUNTIGER],
+X+ /*		&mons[PM_EDDIE], */
+X+ 	};
+X+ 	struct permonst *m;
+X+ 	int max = sizeof(monsters) / sizeof(monsters[0]);
+X+ 	int cnt;
+X+ 
+X+ 	cnt = 100;
+X+ 	while (cnt--) {
+X+ 		m = monsters[rn2(max)];
+X+ 		if (
+X+ 			((m->geno & G_UNIQ) && rn2(10)) ||
+X+ 			(m->geno & G_EXTINCT) ||
+X+ 			(m->geno & G_GENOD) ||
+X+ 			(m==&mons[PM_VOGON_LORD] && rn2(30)<level_difficulty())
+X+ 		) {
+X+ 			continue;
+X+ 		} else break;
+X+ 	}
+X+ 	if (cnt > 0) {
+X+ 		if (m->geno & G_UNIQ) m->geno |= G_EXTINCT;
+X+ 		return(m);
+X+ 	} else {
+X+ 		return((struct permonst *) NULL);
+X+ 	}
+X+ }
+X+ #endif
+X  
+X  #ifdef ARMY
+X  #define	    NSTYPES	(PM_CAPTAIN-PM_SOLDIER+1)
+X*** /tmp/tmp.1285	Sat May 28 21:17:59 1994
+X--- ./src/mon.c	Sun May 22 18:43:42 1994
+X***************
+X*** 69,74 ****
+X--- 69,77 ----
+X  		}
+X  		goto default_1;
+X  
+X+ 	    case PM_YOUNG_UNICORN:
+X+ 		if (rn2(2)) goto default_1;
+X+ 		/* fall through */
+X  	    case PM_WHITE_UNICORN:
+X  	    case PM_GRAY_UNICORN:
+X  	    case PM_BLACK_UNICORN:
+X***************
+X*** 153,158 ****
+X--- 156,181 ----
+X  			obj = mksobj_at(LEATHER_ARMOR, x, y, TRUE);
+X  		mtmp->mnamelth = 0;
+X  		break;
+X+ 	    case PM_BUG:
+X+ 	    case PM_HEISENBUG:
+X+ 		if (!rn2((mndx == PM_BUG) ? 6 : 3)) {
+X+ 			obj = mksobj_at(PACK_OF_FLOPPIES, x, y, TRUE);
+X+ 		}
+X+ 		break;
+X+ 	    case PM_PDP___:	/* PDP-11 */
+X+ 	    case PM_PDP__:	/* PDP-9 */
+X+ 	    case PM_VAX:
+X+ 	    case PM_CRAY:
+X+ 	    	num = rn2(10) + 5;
+X+ 		while (num--) {
+X+ 			obj = mksobj_at(!rn2(3) ? DIODE : (!rn2(2) ? TRANSISTOR : IC), x, y, TRUE);
+X+ 		}
+X+ 		break;
+X+ 	    case PM_ALGOLIAN_SUNTIGER:
+X+ 		if (!rn2(3)) {
+X+  			mksobj_at(TOOTH_OF_AN_ALGOLIAN_SUNTIGER,x, y, TRUE);
+X+ 		}
+X+ 		goto default_1;
+X  	    default_1:
+X  	    default:
+X  		if (mdat->geno & G_NOCORPSE)
+X***************
+X*** 1539,1545 ****
+X  	for (mtmp = fmon; mtmp; mtmp = mtmp->nmon) {
+X  		if (mtmp->data == &mons[PM_CHAMELEON])
+X  			mtmp->cham = 1;
+X! 		if(mtmp->data->mlet == S_MIMIC && mtmp->msleep &&
+X  				cansee(mtmp->mx, mtmp->my)) {
+X  			set_mimic_sym(mtmp);
+X  			newsym(mtmp->mx,mtmp->my);
+X--- 1562,1568 ----
+X  	for (mtmp = fmon; mtmp; mtmp = mtmp->nmon) {
+X  		if (mtmp->data == &mons[PM_CHAMELEON])
+X  			mtmp->cham = 1;
+X! 		if((mtmp->data->mlet == S_MIMIC || mtmp->data == &mons[PM_XEROC]) && mtmp->msleep &&
+X  				cansee(mtmp->mx, mtmp->my)) {
+X  			set_mimic_sym(mtmp);
+X  			newsym(mtmp->mx,mtmp->my);
+X***************
+X*** 1556,1562 ****
+X  	   cansee(mtmp->mx, mtmp->my) || rn2(3) || (mtmp == u.ustuck))
+X  		return(FALSE);
+X  
+X! 	if(mtmp->data->mlet == S_MIMIC) {
+X  		set_mimic_sym(mtmp);
+X  		return(TRUE);
+X  	} else
+X--- 1579,1585 ----
+X  	   cansee(mtmp->mx, mtmp->my) || rn2(3) || (mtmp == u.ustuck))
+X  		return(FALSE);
+X  
+X! 	if(mtmp->data->mlet == S_MIMIC || mtmp->data == &mons[PM_XEROC]) {
+X  		set_mimic_sym(mtmp);
+X  		return(TRUE);
+X  	} else
+X***************
+X*** 1647,1653 ****
+X  	if (!mtmp->mhpmax) mtmp->mhpmax = 1;
+X  
+X  	mtmp->data = mdat;
+X! 	mtmp->minvis = !!(mdat->mlet == S_STALKER);
+X  	if (!hides_under(mdat) || !OBJ_AT(mtmp->mx, mtmp->my))
+X  		mtmp->mundetected = 0;
+X  	if (u.ustuck == mtmp) {
+X--- 1670,1678 ----
+X  	if (!mtmp->mhpmax) mtmp->mhpmax = 1;
+X  
+X  	mtmp->data = mdat;
+X! 	mtmp->minvis = !!(mdat == &mons[PM_STALKER] ||
+X! 		 mdat == &mons[PM_PHANTOM]);
+X! /*	mtmp->minvis = !!(mdat->mlet == S_STALKER); */
+X  	if (!hides_under(mdat) || !OBJ_AT(mtmp->mx, mtmp->my))
+X  		mtmp->mundetected = 0;
+X  	if (u.ustuck == mtmp) {
+X*** /tmp/tmp.1285	Sat May 28 21:18:00 1994
+X--- ./src/monst.c	Sun May 22 19:42:08 1994
+X***************
+X*** 96,101 ****
+X--- 96,111 ----
+X   * unconsciously. Use your common sense.
+X   */
+X  
+X+ #define ROGUE_MONST_ATTR(name,sym,level,ac,atk1,atk2,atk3,atk4,a1,a2,a3) \
+X+ 	{ name, sym, level, 10,(10-ac),0,0,(G_GENO | G_ROGUE | G_NOCORPSE | 2),\
+X+ 	  { { atk1, atk2, atk3, atk4 }, NO_ATTK, NO_ATTK, NO_ATTK, \
+X+ 	    NO_ATTK, NO_ATTK }, \
+X+ 	  0, 0, 0, MS_SILENT, MZ_MEDIUM, 0, 0, \
+X+ 	  a1, a2, a3, C(GRAY) }, 
+X+ 
+X+ #define ROGUE_MONST(name,sym,level,ac,atk1,atk2,atk3,atk4) \
+X+    ROGUE_MONST_ATTR(name,sym,level,ac,atk1,atk2,atk3,atk4,M1_ANIMAL,M2_HOSTILE,0)
+X+ 
+X  #ifndef SPLITMON_2
+X  NEARDATA struct permonst mons[] = {
+X  /*	ants	*/
+X***************
+X*** 129,134 ****
+X--- 139,151 ----
+X  	  10, 10, 0, MS_SILENT, MZ_LARGE, MR_POISON, MR_POISON,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_POIS | M1_CARNIVORE,
+X  	  M2_HOSTILE, 0, C(BLACK) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "Ravenous Bugblatter Beast Of Traal", S_ANT, 12, 32, -2, 0, 0, (G_GENO | 1),
+X+            { { AT_BITE , AD_PHYS, 3, 6 }, NO_ATTK, NO_ATTK,
+X+               NO_ATTK, NO_ATTK, NO_ATTK },
+X+            100, 100, 0, MS_BURBLE, MZ_GIGANTIC, 0, 0, M1_ANIMAL | M1_CARNIVORE,
+X+ 	   M2_NEUTER | M2_HOSTILE,0,C(GREEN) },
+X+ #endif
+X  	{ "queen bee", S_ANT, 9, 24, -4, 0, 0, (G_GENO | G_NOGEN),
+X  	  { { AT_STNG, AD_DRST, 1, 8 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 267,272 ****
+X--- 284,295 ----
+X  	  200, 200, 0, MS_MEW, MZ_SMALL, 0, 0,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE,
+X  	  M2_DOMESTIC, 0, C(HI_DOMESTIC) },
+X+ 	{ "Schroedinger's Cat", S_FELINE, 4, 16, 5, 0, 0, G_NOGEN,
+X+ 	  { { AT_BITE, AD_PHYS, 1, 6}, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  200, 200, 0, MS_MEW, MZ_SMALL, 0, 0,
+X+ 	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, 
+X+ 	  M2_NOPOLY | M2_DOMESTIC | M2_PNAME, 0, C(HI_DOMESTIC) },
+X  	{ "jaguar", S_FELINE, 4, 15, 6, 0, 0, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 1, 4 }, { AT_CLAW, AD_PHYS, 1, 4 },
+X  	    { AT_BITE, AD_PHYS, 1, 8 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 285,290 ****
+X--- 308,318 ----
+X  	  600, 300, 0, MS_GROWL, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE,
+X  	  M2_HOSTILE, 0, C(YELLOW) },
+X+ 	{ "algolian suntiger", S_FELINE, 8, 14, 4, 0, 0, (G_GENO | 1),
+X+ 	  { { AT_CLAW, AD_PHYS, 2, 4 }, { AT_BITE, AD_PHYS, 6, 6 },
+X+ 	    { AT_GAZE, AD_STUN, 1, 1 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  800, 800, 0, MS_DOUGLAS_ADAMS, MZ_LARGE, 0, 0, 
+X+ 	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(YELLOW) },
+X  /*	gremlins	*/
+X  	{ "gremlin", S_GREMLIN, 5, 12, 2, 25, -9, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 1, 6 }, { AT_CLAW, AD_PHYS, 1, 6 },
+X***************
+X*** 416,421 ****
+X--- 444,459 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  60, 30, 0, MS_LAUGH, MZ_TINY, 0, 0,
+X  	  M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_GREEDY, 0, C(GREEN) },
+X+ 	{ "leprechaun elder", S_LEPRECHAUN, 10, 18, 8, 20, 0, (G_GENO | 1),
+X+ 	  { { AT_CLAW, AD_SGLD, 2, 4 }, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  60, 30, 0, MS_LAUGH, MZ_TINY, 0, 0,
+X+ 	  M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_GREEDY, 0, C(RED) },
+X+ 	{ "leprechaun king", S_LEPRECHAUN, 12, 18, 8, 20, 0, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_CLAW, AD_SGLD, 4, 4 }, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  60, 30, 0, MS_LAUGH, MZ_SMALL, 0, 0,
+X+ 	  M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_GREEDY, 0, C(HI_LORD) },
+X  /*	mimics	*/
+X  	{ "small mimic", S_MIMIC, 7, 3, 7, 0, 0, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 3, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 457,462 ****
+X--- 495,506 ----
+X  	  600, 300, 0, MS_SEDUCE, MZ_HUMAN,
+X  	  0, 0, M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_FEMALE | M2_COLLECT,
+X  	  0, C(BROWN) },
+X+ 	{ "nymph queen", S_NYMPH, 12, 12, 8, 30, 0, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_CLAW, AD_SITM, 0, 0 }, { AT_CLAW, AD_SEDU, 0, 0 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  600, 300, 0, MS_SEDUCE, MZ_HUMAN, 0, 0,
+X+ 	  M1_HUMANOID | M1_TPORT, M2_HOSTILE | M2_FEMALE | M2_COLLECT, 0,
+X+ 	  C(HI_LORD) },
+X  /*	orcs	*/
+X  	{ "goblin", S_ORC,  0, 6, MARM(10,6), 0, -3, (G_GENO | 2),
+X  	  { { AT_WEAP, AD_PHYS, 1, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 529,535 ****
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  2500, 500, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_THICK_HIDE | M1_NOHANDS | M1_CARNIVORE,
+X! 	  M2_HOSTILE | M2_STRONG, 0, C(GRAY) },
+X  	{ "leocrotta", S_QUADRUPED, 6, 18, 4, 10, 0, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 2, 6 }, { AT_BITE, AD_PHYS, 2, 6 },
+X  	    { AT_CLAW, AD_PHYS, 2, 6 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X--- 573,579 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  2500, 500, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_THICK_HIDE | M1_NOHANDS | M1_CARNIVORE,
+X! 	  M2_HOSTILE | M2_STRONG, 0, C(BROWN) },
+X  	{ "leocrotta", S_QUADRUPED, 6, 18, 4, 10, 0, (G_GENO | 2),
+X  	  { { AT_CLAW, AD_PHYS, 2, 6 }, { AT_BITE, AD_PHYS, 2, 6 },
+X  	    { AT_CLAW, AD_PHYS, 2, 6 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 554,559 ****
+X--- 598,609 ----
+X  	  3800, 800, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_THICK_HIDE | M1_NOHANDS | M1_HERBIVORE,
+X  	  M2_HOSTILE | M2_STRONG, 0, C(GRAY) },
+X+ 	{ "giant mumak", S_QUADRUPED, 10, 9, 0, 0, -4, (G_GENO | 1),
+X+ 	  { { AT_BUTT, AD_PHYS, 8, 12 }, { AT_CLAW, AD_PHYS, 12, 12 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  4000, 1000, 0, MS_SILENT, MZ_HUGE, 0, 0,
+X+ 	  M1_ANIMAL | M1_THICK_HIDE | M1_NOHANDS | M1_CARNIVORE, 
+X+ 	  M2_HOSTILE | M2_STRONG, 0, C(BROWN) },
+X  /*	rodents 	*/
+X  	{ "sewer rat",	S_RODENT, 0, 12, 7, 0, 0, (G_GENO | G_SGROUP | 1),
+X  	  { { AT_BITE, AD_PHYS, 1, 3 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 618,623 ****
+X--- 668,679 ----
+X  	  M1_HIDE | M1_ANIMAL | M1_NOEYES | M1_NOLIMBS | M1_NOHEAD |
+X  	  M1_CARNIVORE, M2_HOSTILE | M2_STALK | M2_STRONG, 0, C(GREEN) },
+X  /*	unicorns	*/
+X+ 	{ "young unicorn", S_UNICORN, 3, 20, 5, 40, 0, (G_GENO | 1),
+X+ 	  { { AT_BUTT, AD_PHYS, 1, 6 }, { AT_KICK, AD_PHYS, 1, 3 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  650, 150, 0, MS_NEIGH, MZ_MEDIUM, MR_POISON, MR_POISON,
+X+ 	  M1_NOHANDS | M1_HERBIVORE,
+X+ 	  M2_WANDER | M2_JEWELS | M2_HOSTILE, 0, C(GRAY) },
+X  	{ "white unicorn", S_UNICORN, 4, 24, 2, 70, 7, (G_GENO | 2),
+X  	  { { AT_BUTT, AD_PHYS, 1, 12 }, { AT_KICK, AD_PHYS, 1, 6 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 728,733 ****
+X--- 784,845 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  300, 300, 0, MS_BUZZ, MZ_TINY, MR_POISON, MR_POISON,
+X  	  M1_FLY | M1_ANIMAL | M1_NOHANDS | M1_POIS, M2_HOSTILE, 0, C(RED) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "microscopic space fleet", S_XAN, 3, 5, 10, 0, 0,
+X+           (G_GENO | G_LGROUP | G_NOCORPSE | 3),
+X+ 	  { { AT_TUCH, AD_ELEC, 2, 4 }, NO_ATTK, NO_ATTK,
+X+             NO_ATTK, NO_ATTK, NO_ATTK },
+X+           0, 0, 0, MS_BUZZ, MZ_TINY, 0, 0,
+X+ 	  M1_FLY | M1_BREATHLESS | M1_MINDLESS | M1_METALLIVORE, 
+X+ 	  M2_NEUTER | M2_HOSTILE, 0, C(CYAN) },
+X+ 	{ "Deep Thought", S_XAN, 8, 0, -2 /* real much metal */, 0, 0,
+X+ 	  G_UNIQ | G_NOGEN | G_NOCORPSE, { {AT_NONE, AD_ELEC, 8, 4}, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK},
+X+ 	  0, 0, 0,MS_DOUGLAS_ADAMS,MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_PNAME, 0, C(HI_DOMESTIC) },
+X+ 	{ "Eddie", S_XAN, 8, 0, -2, 0, 0, G_UNIQ | G_NOGEN | G_NOCORPSE,
+X+ 	  { { AT_NONE, AD_ELEC, 8, 4}, { AT_NONE, AD_DEPR, 1, 3},
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  0, 0, 0, MS_DOUGLAS_ADAMS,MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_PNAME, 0, C(HI_LORD)/*:-)*/ },
+X+ #endif
+X+ 	{ "bug", S_XAN, 8, 10, 10, 0, 0, (G_NOCORPSE | 1),
+X+ 	  { { AT_TUCH, AD_ELEC, 2, 8}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_SMALL, MR_ELEC, MR_ELEC, 
+X+ 	  M1_AMORPHOUS | M1_CONCEAL | M1_NOEYES | M1_NOHANDS | M1_BREATHLESS |
+X+ 	  M1_NOLIMBS | M1_THICK_HIDE, M2_NEUTER | M2_HOSTILE, 0, C(BROWN) }, 
+X+ 	{ "heisenbug", S_XAN, 10, 35, 10, 0, 0, (G_NOCORPSE | 1),
+X+ 	  { { AT_TUCH, AD_ELEC, 4, 8}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_MEDIUM, MR_ELEC, MR_ELEC,
+X+ 	  M1_AMORPHOUS | M1_WALLWALK |M1_BREATHLESS | M1_TPORT | M1_TPORT_CNTRL,
+X+ 	  M2_NEUTER | M2_HOSTILE, 0, C(YELLOW) },
+X+ 	{ "PDP-11", S_XAN, 8, 1, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 2, 4}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS | 
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(WHITE) },
+X+ 	{ "PDP-9", S_XAN, 10, 1, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 4, 4}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(WHITE) },
+X+ 	{ "VAX", S_XAN, 12, 1, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 6, 4}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS | 
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(BRIGHT_GREEN) },
+X+ 	{ "walking disk drive", S_XAN, 14, 50, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 4, 4}, { AT_HUGS, AD_PHYS, 2, 4},
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(WHITE) },
+X+ 	{ "Cray", S_XAN, 15, 1, -2, 0, 0, (G_NOCORPSE | G_NOGEN | G_GENO),
+X+ 	  { { AT_TUCH, AD_ELEC, 8, 6}, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUGE, 0, 0, M1_NOEYES | M1_NOHANDS |
+X+ 	  M1_NOLIMBS | M1_NOHEAD, M2_NEUTER | M2_HOSTILE, 0, C(WHITE) },
+X  /*	lights */
+X  	{ "yellow light", S_LIGHT, 3, 15, 0, 0, 0, (G_NOCORPSE| G_GENO | 4),
+X  	  { { AT_EXPL, AD_BLND, 10, 20 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 785,790 ****
+X--- 897,914 ----
+X  	  M2_NOPOLY | M2_MINION | M2_STALK | M2_STRONG | M2_NASTY | M2_LORD |
+X  	  M2_COLLECT | M2_MAGIC,
+X  	  0, C(HI_LORD) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "Douglas Adams", S_ANGEL, 22, 12, 6, 0, -30, (G_UNIQ | G_NOGEN),
+X+ 	  { { AT_CLAW, AD_PHYS, 4, 6}, { AT_BUTT, AD_DRIN, 1, 1 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK},
+X+ 	WT_HUMAN, 600, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN, MR_ELEC, /* computers :-) */
+X+ 	0, M1_FLY /* has missed the floor */ | M1_MINDLESS | M1_HUMANOID,
+X+ 	M2_NOPOLY | M2_LORD | M2_MALE | M2_PNAME | M2_COLLECT | M2_HOSTILE,
+X+ 	0, C(HI_LORD) },
+X+ #endif
+X+ 
+X+ 	ROGUE_MONST("aquator",S_ANGEL,9,8,AT_TUCH,AD_RUST,0,0)
+X+ 
+X  /*	Bats	*/
+X  	{ "bat", S_BAT, 0, 22, 8, 0, 0, (G_GENO | G_SGROUP | 1),
+X  	  { { AT_BITE, AD_PHYS, 1, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 820,825 ****
+X--- 944,951 ----
+X  	    { AT_KICK, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  2550, 500, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_HUMANOID, M2_STRONG | M2_GREEDY | M2_COLLECT, 0, C(CYAN) },
+X+ 	ROGUE_MONST("centaur",S_CENTAUR,7,5,AT_KICK,AD_PHYS,3,6)
+X+ 
+X  /*	Dragons.  The order of the dragons is VERY IMPORTANT.  Quite a few
+X  	pieces of code depend on gray being first and yellow being last.
+X  	The code also depends on the *order* being the same as that for
+X***************
+X*** 945,950 ****
+X--- 1071,1102 ----
+X  	  M1_CARNIVORE | M1_ACID,
+X  	  M2_HOSTILE | M2_STRONG | M2_NASTY | M2_GREEDY | M2_JEWELS | M2_MAGIC,
+X  	  0, C(YELLOW) },
+X+ /* There are many similarities between the Chromatic Dragon, the Dragon Lord,
+X+ ** and an ancient multi-hued dragon ... */
+X+ 	{ "ancient multi-hued dragon", S_DRAGON, 18, 9, -1, 20, 7, (G_GENO | 1),
+X+ 	  { { AT_BREA, AD_RBRE, 8, 6 }, { AT_BITE, AD_PHYS, 6, 8 },
+X+ 	    { AT_CLAW, AD_PHYS, 2, 4 }, { AT_CLAW, AD_PHYS, 2, 4 },
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  WT_DRAGON, 1500, 0, MS_ROAR, MZ_GIGANTIC,
+X+ 	  MR_FIRE | MR_COLD | MR_ELEC | MR_DISINT | MR_POISON | MR_STONE,
+X+ 	  MR_FIRE | MR_COLD | MR_ELEC | MR_DISINT | MR_POISON | MR_STONE,
+X+ 	  M1_FLY | M1_THICK_HIDE | M1_NOHANDS | M1_SEE_INVIS | M1_OVIPAROUS |
+X+ 	  M1_CARNIVORE | M1_ACID | M1_POIS,
+X+ 	  M2_HOSTILE | M2_STRONG | M2_NASTY | M2_GREEDY | M2_JEWELS | M2_MAGIC,
+X+ 	  0, C(WHITE) /* because white is the combination of all colors ... */},
+X+ 	{ "Dragon Lord", S_DRAGON, 25, 12, -3, 50, 7, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_BREA, AD_RBRE, 8, 8 }, { AT_BITE, AD_PHYS, 8, 8 },
+X+ 	    { AT_CLAW, AD_PHYS, 2, 6 }, { AT_CLAW, AD_PHYS, 2, 6 },
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  WT_DRAGON, 1500, 0, MS_ROAR, MZ_GIGANTIC,
+X+ 	  MR_FIRE | MR_COLD | MR_ELEC | MR_DISINT | MR_POISON | MR_STONE,
+X+ 	  MR_FIRE | MR_COLD | MR_ELEC | MR_DISINT | MR_POISON | MR_STONE,
+X+ 	  M1_FLY | M1_THICK_HIDE | M1_NOHANDS | M1_SEE_INVIS | M1_OVIPAROUS |
+X+ 	  M1_CARNIVORE | M1_ACID | M1_POIS,
+X+ 	  M2_HOSTILE | M2_STRONG | M2_NASTY | M2_GREEDY | M2_JEWELS | M2_MAGIC,
+X+ 	  0, C(HI_LORD) },
+X+ 	ROGUE_MONST("dragon",S_DRAGON,20,9,AT_BREA,AD_FIRE,4,10)
+X+ 
+X  /*	Elementals	*/
+X  	{ "air elemental", S_ELEMENTAL, 8, 36, 2, 30, 0, (G_NOCORPSE | 1),
+X  	  { { AT_ENGL, AD_PHYS, 2, 10 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 974,979 ****
+X--- 1126,1132 ----
+X  	  M1_NOEYES | M1_NOLIMBS | M1_NOHEAD | M1_MINDLESS | M1_AMPHIBIOUS |
+X  	  M1_SWIM,
+X  	  M2_STRONG | M2_NEUTER, 0, C(BLUE) },
+X+ 	ROGUE_MONST("emu",S_ELEMENTAL,1,4,AT_BITE,AD_PHYS,1,4)
+X  /*	Fungi	*/
+X  	{ "brown mold", S_FUNGUS, 1, 0, 9, 0, 0, (G_GENO | 1),
+X  	  { { AT_NONE, AD_COLD, 0, 6 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1017,1022 ****
+X--- 1170,1177 ----
+X  	  M1_BREATHLESS | M1_NOEYES | M1_NOLIMBS | M1_NOHEAD | M1_MINDLESS |
+X  	  M1_OMNIVORE,
+X  	  M2_HOSTILE | M2_NEUTER, 0, C(MAGENTA) },
+X+ 	ROGUE_MONST("venus flytrap",S_FUNGUS,12,6,AT_TUCH,AD_STCK,1,1)
+X+ 
+X  /*	Gnomes	*/
+X  	{ "gnome", S_GNOME, 1, 6, MARM(10,5), 4, 0, (G_GENO | G_SGROUP | 1),
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1038,1043 ****
+X--- 1193,1199 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  750, 150, 0, MS_ORC, MZ_SMALL, 0, 0,
+X  	  M1_HUMANOID, M2_PRINCE | M2_MALE | M2_COLLECT, 0, C(HI_LORD) },
+X+ 	ROGUE_MONST("griffin",S_GNOME,19,8,AT_BITE,AD_PHYS,6,5)
+X  #ifdef SPLITMON_1
+X  };
+X  #endif
+X***************
+X*** 1118,1123 ****
+X--- 1274,1281 ----
+X  	  900, 400, 0, MS_SILENT, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_FLY | M1_SEE_INVIS,
+X  	  M2_WANDER | M2_STALK | M2_HOSTILE | M2_STRONG, 0, C(WHITE) },
+X+ 	ROGUE_MONST("ice monster",S_STALKER,2,1,AT_NONE,AD_PLYS,0,20)
+X+ 
+X  /*	Jabberwock */
+X  	{ "jabberwock", S_JABBERWOCK, 15, 12, -2, 50, 0, (G_GENO | 1),
+X  	  { { AT_BITE, AD_PHYS, 2, 10 }, { AT_BITE, AD_PHYS, 2, 10 },
+X***************
+X*** 1156,1163 ****
+X--- 1314,1330 ----
+X  	  WT_HUMAN, 200, 0, MS_ARREST, MZ_HUMAN, 0, 0, M1_HUMANOID,
+X  	  M2_HUMAN | M2_WANDER | M2_HOSTILE | M2_STRONG | M2_MALE | M2_COLLECT,
+X  	  0, C(HI_LORD) },
+X+ 	ROGUE_MONST("kestrel",S_KOP,1,4,AT_BITE,AD_PHYS,1,4)
+X+ 
+X  #endif
+X  /*	Liches	 */
+X+ 	{ "baby lich", S_LICH, 7, 6, 5, 10, -6, (G_GENO | 1),
+X+ 	  { { AT_TUCH, AD_COLD, 3, 2 }, NO_ATTK, NO_ATTK, NO_ATTK,
+X+  	    NO_ATTK, NO_ATTK },
+X+ 	  600, 50, 0, MS_MUMBLE, MZ_HUMAN,
+X+ 	  MR_COLD | MR_SLEEP, 0,
+X+ 	  M1_BREATHLESS | M1_HUMANOID | M1_POIS, M2_UNDEAD | M2_HOSTILE, 
+X+ 	  0, C(YELLOW) },
+X  	{ "lich", S_LICH, 11, 6, 0, 30, -9, (G_GENO | 1),
+X  	  { { AT_TUCH, AD_COLD, 1, 10 }, { AT_MAGC, AD_SPEL, 0, 0 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1279,1284 ****
+X--- 1446,1453 ----
+X  	  2600, 400, 0, MS_MUMBLE, MZ_HUGE, MR_POISON, MR_POISON,
+X  	  M1_NOLIMBS | M1_SLITHY | M1_THICK_HIDE | M1_OVIPAROUS | M1_POIS,
+X  	  M2_STRONG, 0, C(GREEN) },
+X+ 	ROGUE_MONST("nymph",S_NAGA,10,1,AT_CLAW,AD_SITM,0,0)
+X+ 
+X  /*	Ogres	*/
+X  	{ "ogre", S_OGRE, 5, 10, 5, 0, -3, (G_SGROUP | G_GENO | 1),
+X  	  { { AT_WEAP, AD_PHYS, 2, 5 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1326,1337 ****
+X--- 1495,1510 ----
+X  	  M1_BREATHLESS | M1_AMORPHOUS | M1_NOEYES | M1_NOLIMBS | M1_NOHEAD |
+X  	  M1_MINDLESS | M1_OMNIVORE | M1_ACID,
+X  	  M2_HOSTILE | M2_NEUTER, 0, C(BLACK) },
+X+ 	ROGUE_MONST("phantom",S_PUDDING,15,7,AT_BITE,AD_PHYS,4,5)
+X+ 
+X  /*	Quantum Mechanics	*/
+X  	{ "quantum mechanic", S_QUANTMECH, 7, 12, 3, 10, 0, (G_GENO | 3),
+X  	  { { AT_CLAW, AD_TLPT, 1, 4 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  WT_HUMAN, 20, 0, MS_HUMANOID, MZ_HUMAN, MR_POISON, 0,
+X  	  M1_HUMANOID | M1_POIS | M1_TPORT, M2_HOSTILE, 0, C(CYAN) },
+X+ 	ROGUE_MONST("quagga",S_QUANTMECH,8,7,AT_BITE,AD_PHYS,6,2)
+X+ 
+X  /*	Rust Monster	*/
+X  	{ "rust monster", S_RUSTMONST, 5, 18, 2, 0, 0, (G_GENO | 2),
+X  	  { { AT_TUCH, AD_RUST, 0, 0 }, { AT_TUCH, AD_RUST, 0, 0 },
+X***************
+X*** 1339,1344 ****
+X--- 1512,1519 ----
+X  	  1000, 250, 0, MS_SILENT, MZ_MEDIUM, 0, 0,
+X  	  M1_SWIM | M1_ANIMAL | M1_NOHANDS | M1_METALLIVORE, M2_HOSTILE,
+X  	  0, C(BROWN) },
+X+ 	ROGUE_MONST("rattlesnake",S_RUSTMONST,3,7,AT_BITE,AD_DRST,2,4)
+X+ 
+X  /*	Snakes	*/
+X  	{ "garter snake", S_SNAKE, 1, 8, 8, 0, 0, (G_LGROUP | G_GENO | 1),
+X  	  { { AT_BITE, AD_PHYS, 1, 2 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1424,1429 ****
+X--- 1599,1611 ----
+X  	  WT_HUMAN, 400, 0, MS_VAMPIRE, MZ_HUMAN, MR_SLEEP | MR_POISON, 0,
+X  	  M1_FLY | M1_BREATHLESS | M1_HUMANOID | M1_POIS | M1_REGEN,
+X  	  M2_UNDEAD | M2_STALK | M2_HOSTILE | M2_STRONG | M2_NASTY, 0, C(RED) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "vogon", S_VAMPIRE, 8, 10, 10, 0, 0, (G_GENO | 1),
+X+ 	  { { AT_CLAW, AD_PHYS, 1, 2}, {AT_TENT, AD_STUN, 0, 0},
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+           300, 300, 0, MS_BURBLE, MZ_HUMAN, 0, 0,
+X+ 	  M1_SWIM | M1_HUMANOID | M1_POIS, M2_HOSTILE, 0, C(GREEN) },
+X+ #endif
+X  	{ "vampire lord", S_VAMPIRE, 12, 14, 0, 50, -9, (G_GENO | 1),
+X  	  { { AT_CLAW, AD_PHYS, 1, 8 }, { AT_BITE, AD_DRLI, 1, 8 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1431,1436 ****
+X--- 1613,1630 ----
+X  	  M1_FLY | M1_BREATHLESS | M1_HUMANOID | M1_POIS | M1_REGEN,
+X  	  M2_UNDEAD | M2_STALK | M2_HOSTILE | M2_STRONG | M2_NASTY |
+X  	  M2_LORD | M2_MALE, 0, C(BLUE) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "vogon lord", S_VAMPIRE, 14, 8, 8, 0, 0, (G_GENO | 1),
+X+ 	  { { AT_CLAW, AD_PHYS, 2, 4 }, {AT_TENT, AD_DRLI, 1, 4 },
+X+             NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  400, 400, 0, MS_BURBLE, MZ_HUMAN, 0, 0,
+X+ 	  M1_SWIM | M1_HUMANOID | M1_POIS, M2_HOSTILE, 0, C(BRIGHT_GREEN) },
+X+ 	{ "Prostetnik Vogon Jeltz", S_VAMPIRE, 18, 6, 8, 0,0,(G_UNIQ | G_NOGEN),
+X+ 	  { { AT_CLAW, AD_PHYS, 4, 4}, {AT_TENT, AD_DRLI, 1, 4 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  400, 400, 0, MS_BURBLE, MZ_HUMAN, 0, 0,
+X+ 	  M1_SWIM | M1_HUMANOID | M1_POIS, M2_HOSTILE | M2_PNAME, 0,C(HI_LORD)},
+X+ #endif
+X  	{ "Vlad the Impaler", S_VAMPIRE, 14, 18, -3, 80, -10,
+X  	  (G_NOGEN | G_NOCORPSE | G_UNIQ),
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, { AT_BITE, AD_DRLI, 1, 6 },
+X***************
+X*** 1469,1474 ****
+X--- 1663,1677 ----
+X  	  MR_FIRE | MR_COLD | MR_STONE, MR_FIRE | MR_COLD | MR_STONE,
+X  	  M1_BREATHLESS | M1_WALLWALK | M1_THICK_HIDE | M1_METALLIVORE,
+X  	  M2_HOSTILE | M2_STRONG, 0, C(BROWN) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "Marvin", S_XORN, 10, 10, 0, 0, 0, (G_UNIQ | G_NOGEN | G_NOCORPSE),
+X+ 	  { { AT_TALK, AD_DEPR, 1, 3}, {AT_TUCH, AD_ELEC, 1, 1},
+X+   	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK},
+X+ 	  0, 0, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN, 0, 0, M1_HUMANOID|M1_METALLIVORE,
+X+ 	  M2_PNAME | M2_MALE | M2_HOSTILE, 0, C(BRIGHT_CYAN) },
+X+ #endif
+X+ 	ROGUE_MONST_ATTR("xeroc",S_XORN,16,5,AT_CLAW,AD_PHYS,2,7,M1_ANIMAL|M1_HIDE,M2_HOSTILE,0)
+X+ 	
+X  /*	Yeti, Apes and other large beasts */
+X  	{ "ape", S_YETI, 4, 12, 6, 0, 0, (G_GENO | G_SGROUP | 2),
+X  	  { { AT_CLAW, AD_PHYS, 1, 3 }, { AT_CLAW, AD_PHYS, 1, 3 },
+X***************
+X*** 1500,1505 ****
+X--- 1703,1715 ----
+X  	  1550, 750, 0, MS_GROWL, MZ_LARGE, 0, 0,
+X  	  M1_ANIMAL | M1_HUMANOID | M1_SEE_INVIS | M1_OMNIVORE,
+X  	  M2_STRONG, 0, C(GRAY) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "Zaphod Breeblebrox", S_YETI, 8, 10, 10, 0, 0, (G_UNIQ | G_NOGEN),
+X+ 	  { { AT_WEAP, AD_PHYS, 1, 6}, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK},
+X+ 	  400, 400, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN, 0, 0,
+X+ 	  M1_HUMANOID, M2_MALE | M2_PNAME | M2_HOSTILE, 0, C(GREEN) },
+X+ #endif 
+X  /*	Zombies 	*/
+X  	{ "kobold zombie", S_ZOMBIE, 0, 6, 10, 0, -2, (G_GENO | G_NOCORPSE | 1),
+X  	  { { AT_CLAW, AD_PHYS, 1, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1539,1544 ****
+X--- 1749,1766 ----
+X  	  MR_COLD | MR_SLEEP | MR_POISON, 0,
+X  	  M1_BREATHLESS | M1_MINDLESS | M1_HUMANOID,
+X  	  M2_UNDEAD | M2_STALK | M2_HOSTILE, 0, C(HI_DOMESTIC) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ /* The creeping 42 is occassionally peaceful, to reduce the advantage
+X+ ** of killing them for gain levels 
+X+ ** it cannot be genocided - not because genociding them would be unbalancing,
+X+ ** but because not genociding them (cursed genocide scroll) would be. */
+X+ 	{ "creeping 42", S_ZOMBIE, 4, 10, 10, 0, 0, (1), 
+X+           { { AT_CLAW, AD_PHYS, 1, 4}, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+           42, 42, 0, MS_DOUGLAS_ADAMS, MZ_SMALL, 0, 0, 
+X+ 	  M1_AMORPHOUS | M1_WALLWALK | M1_HIDE | M1_BREATHLESS,
+X+ 	  M2_NEUTER, 0, C(YELLOW) },
+X+ #endif
+X  	{ "ettin zombie", S_ZOMBIE, 6, 8, 6, 0, -4, (G_GENO | G_NOCORPSE | 1),
+X  	  { { AT_CLAW, AD_PHYS, 1, 10 }, { AT_CLAW, AD_PHYS, 1, 10 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1562,1567 ****
+X--- 1784,1791 ----
+X  	  M1_BREATHLESS | M1_MINDLESS | M1_HUMANOID | M1_THICK_HIDE,
+X  	  M2_UNDEAD | M2_WANDER | M2_HOSTILE | M2_STRONG | M2_COLLECT,
+X  	  0, C(WHITE) },
+X+ 	ROGUE_MONST("zombie",S_ZOMBIE,4,2,AT_CLAW,AD_PHYS,2,4)
+X+ 
+X  /*	Golems	*/
+X  	{ "straw golem", S_GOLEM, 3, 12, 10, 0, 0, (G_GENO | G_NOCORPSE | 1),
+X  	  { { AT_CLAW, AD_PHYS, 1, 2 }, { AT_CLAW, AD_PHYS, 1, 2 },
+X***************
+X*** 1677,1682 ****
+X--- 1901,1929 ----
+X  	  MR_SLEEP, MR_SLEEP, M1_HUMANOID | M1_OMNIVORE,
+X  	  M2_ELF | M2_STRONG | M2_PRINCE | M2_MALE | M2_COLLECT, 0,
+X  	  C(HI_LORD) },
+X+ /* these are for the special "school" level written by me */
+X+ 	{ "pupil", S_HUMAN, 4, 10, 10, 0, 0, G_NOGEN,
+X+           { { AT_WEAP, AD_PHYS, 1, 1}, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  /* sleep resistance keeps them from sleeping in lessons :-) */
+X+ 	  WT_HUMAN, 400, 0, MS_PUPIL, MZ_HUMAN, MR_SLEEP, MR_SLEEP,
+X+  	  M1_HUMANOID | M1_OMNIVORE, 
+X+ 	  M2_HUMAN | M2_COLLECT | M2_HOSTILE, 0, C(HI_DOMESTIC) },
+X+ 	{ "teacher", S_HUMAN, 8, 10, 10, 0, 0, G_NOGEN,
+X+ 	  { { AT_WEAP, AD_PHYS, 2, 4 }, { AT_TALK, AD_SLEE, 1, 1 },
+X+  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_TEACHER, MZ_HUMAN, MR_SLEEP | MR_POISON,
+X+ 	  /* teachers have to be proof against their own attempts to put */
+X+ 	  /* pupils to sleep; they're poisonous as well ... */
+X+ 	  MR_SLEEP | MR_POISON, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_HUMAN | M2_COLLECT | M2_HOSTILE, 0, C(HI_LORD) },
+X+ 	{ "principal", S_HUMAN, 12, 10, 10, 30, 0, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_WEAP, AD_PHYS, 4, 8}, { AT_TALK, AD_DRIN, 2, 2},
+X+ 	    { AT_TALK, AD_SLEE, 1, 1},  NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_PRINCIPAL, MZ_HUMAN, MR_SLEEP | MR_POISON,
+X+ 	  MR_SLEEP | MR_POISON, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_HUMAN | M2_COLLECT | M2_STALK | M2_HOSTILE, 0, C(HI_LORD) },
+X+ 
+X  	{ "nurse", S_HUMAN, 11, 6, 0, 0, 0, (G_GENO | 3),
+X  	  { { AT_CLAW, AD_HEAL, 2, 6 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1691,1696 ****
+X--- 1938,1949 ----
+X  	  M2_NOPOLY | M2_HUMAN | M2_PEACEFUL | M2_STRONG |
+X  	  M2_COLLECT | M2_MAGIC,
+X  	  0, C(HI_DOMESTIC) },
+X+ 	{ "blacksmith", S_HUMAN, 12, 18, 0, 0, 0, G_NOGEN, 
+X+ 	  { { AT_WEAP, AD_PHYS, 4, 4 }, { AT_WEAP, AD_PHYS, 4, 4 },
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_SMITH, MZ_HUMAN, 0, 0,
+X+ 	  M1_HUMANOID | M1_OMNIVORE, 
+X+  	  M2_NOPOLY | M2_HUMAN | M2_PEACEFUL | M2_STRONG, 0, C(HI_DOMESTIC) },
+X  	{ "guard", S_HUMAN, 12, 12, MARM(10,-1), 40, 10, G_NOGEN,
+X  	  { { AT_WEAP, AD_PHYS, 4, 10 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1698,1703 ****
+X--- 1951,1980 ----
+X  	  0, 0, M1_HUMANOID | M1_OMNIVORE,
+X  	  M2_NOPOLY | M2_HUMAN | M2_MERC | M2_PEACEFUL | M2_STRONG | M2_COLLECT,
+X  	  0, C(BLUE) },
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	/* ------||---- --> THIS IS ***NOT*** A TYPO !!!! */
+X+ 	{ "Ford Perfect", S_HUMAN, 8, 10, 10, 0, 0, G_UNIQ | G_NOGEN,
+X+ 	  { { AT_CLAW, AD_PHYS, 2, 4}, NO_ATTK, NO_ATTK,
+X+             NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN,
+X+ 	  0, 0, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_MALE | M2_PNAME | M2_HUMAN, 0,
+X+ 	  C(HI_DOMESTIC) },
+X+ 	{ "Arthur Dent", S_HUMAN, 9, 10, 10, 0, 0, G_UNIQ | G_NOGEN,
+X+ 	  { { AT_CLAW, AD_PHYS, 2, 4}, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN,
+X+ 	  0, 0, M1_HUMANOID | M1_OMNIVORE, 
+X+ 	  M2_NOPOLY | M2_MALE | M2_PNAME | M2_HUMAN, 0,
+X+ 	  C(HI_DOMESTIC) },
+X+ 	{ "Mr. Prosser", S_HUMAN, 10, 10, 10, 0, 0, G_UNIQ | G_NOGEN,
+X+ 	  { { AT_SPIT, AD_ACID, 2, 4}, {AT_BREA, AD_FIRE, 1, 1},
+X+ 	    { AT_CLAW, AD_PHYS, 2, 4}, NO_ATTK, NO_ATTK, NO_ATTK },
+X+           WT_HUMAN, 400, 0, MS_WAIL, MZ_HUMAN,
+X+ 	  0, 0, M1_HUMANOID | M1_METALLIVORE,
+X+ 	  M2_NOPOLY | M2_MALE | M2_PNAME | M2_HUMAN | M2_HOSTILE, 0,
+X+ 	  C(HI_DOMESTIC) },
+X+ #endif
+X  	{ "oracle", S_HUMAN, 12, 0, 0, 50, 0, G_NOGEN | G_UNIQ,
+X  	  { { AT_NONE, AD_MAGM, 0, 4 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 1890,1895 ****
+X--- 2167,2182 ----
+X  	  MR_FIRE | MR_POISON, 0, M1_HUMANOID | M1_FLY | M1_POIS,
+X  	  M2_DEMON | M2_STALK | M2_HOSTILE | M2_NASTY | M2_MALE, 0, C(GRAY) },
+X  #endif
+X+ 	{ "news daemon", S_DEMON, 6, 12, 0, 0, 0, (G_NOCORPSE | G_NOGEN),
+X+ 	  { { AT_BITE, AD_PHYS, 2, 4 }, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUMAN, 0, 0, M1_FLY | M1_UNSOLID,
+X+ 	  M2_DEMON | M2_NASTY | M2_NEUTER | M2_HOSTILE, 0, C(BRIGHT_BLUE) },
+X+ 	{ "printer daemon", S_DEMON, 6, 12, 0, 0, 0, (G_NOCORPSE | G_NOGEN),
+X+ 	  { { AT_BITE, AD_PHYS, 2, 6 }, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK },
+X+ 	  0, 0, 0, MS_BUZZ, MZ_HUMAN, 0, 0, M1_FLY | M1_UNSOLID,
+X+ 	  M2_DEMON | M2_NASTY | M2_NEUTER | M2_HOSTILE, 0, C(BRIGHT_BLUE) },
+X  	{ "erinyes", S_DEMON, 7, 12, 2, 30, 10,
+X  	  (G_HELL | G_NOCORPSE | G_SGROUP | 2),
+X  	  { { AT_WEAP, AD_DRST, 2, 4 }, NO_ATTK, NO_ATTK,
+X***************
+X*** 1965,1970 ****
+X--- 2252,2263 ----
+X  	  M2_DEMON | M2_STALK | M2_HOSTILE | M2_STRONG | M2_NASTY | M2_COLLECT,
+X  	  0, C(RED) },
+X  	/* Named demon lords & princes plus Arch-Devils */
+X+ 	{ "UNIX Kernel", S_DEMON, 28, 10, 0, 20, -3, (G_NOGEN | G_UNIQ | G_NOCORPSE),
+X+ 	  { { AT_BITE, AD_PHYS, 4, 8 }, { AT_CLAW, AD_STUN, 2, 2 },
+X+ 	    { AT_KICK, AD_DRLI, 3, 3 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 0, 0, MS_BUZZ, MZ_HUMAN, 0, 0, 
+X+ 	  M1_UNSOLID | M1_FLY, M2_NOPOLY | M2_DEMON | M2_HOSTILE | M2_LORD 
+X+ 	  | M2_NEUTER, 0, C(BRIGHT_BLUE) },
+X  	{ "Juiblex", S_DEMON, 50, 3, -7, 65, -15,
+X  	  (G_HELL | G_NOCORPSE | G_NOGEN | G_UNIQ),
+X  	  { { AT_ENGL, AD_DISE, 4, 10 }, { AT_SPIT, AD_ACID, 3, 6 },
+X***************
+X*** 2083,2088 ****
+X--- 2376,2387 ----
+X  	  M1_HUMANOID | M1_FLY | M1_POIS,
+X  	  M2_NOPOLY | M2_STALK | M2_COLLECT, 0, C(YELLOW) },
+X  /*	sea monsters		*/
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	{ "babelfish", S_EEL, 4, 8, 10, 0, 0, (G_GENO | 1),
+X+ 	  { NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK},
+X+ 	  50, 50, 0, MS_SILENT, MZ_TINY, 0, 0, M1_SWIM | M1_ANIMAL |
+X+ 	  M1_HERBIVORE, M2_HOSTILE, 0, C(ORANGE_COLORED) },
+X+ #endif
+X  	{ "giant eel", S_EEL, 5, 9, -1, 0, 0, (G_GENO | G_NOGEN),
+X  	  { { AT_BITE, AD_PHYS, 3, 6 }, { AT_TUCH, AD_WRAP, 0, 0 },
+X  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2114,2119 ****
+X--- 2413,2423 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  10, 20, 0, MS_SQEEK, MZ_TINY, 0, 0,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(GREEN) },
+X+ 	{ "deminewt", S_LIZARD, 2, 6, 7, 0, 0, (G_GENO | 2),
+X+ 	  { { AT_BITE, AD_PHYS, 2, 2}, NO_ATTK, NO_ATTK, 
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  10, 20, 0, MS_SQEEK, MZ_TINY, 0, 0,
+X+ 	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(RED) },
+X  	{ "iguana", S_LIZARD, 2, 6, 7, 0, 0, (G_GENO | 5),
+X  	  { { AT_BITE, AD_PHYS, 1, 4 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2130,2135 ****
+X--- 2434,2444 ----
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X  	  10, 40, 0, MS_SILENT, MZ_TINY, MR_STONE, MR_STONE,
+X  	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(GREEN) },
+X+ 	{ "master newt", S_LIZARD, 6, 6, 6, 10, 0, (G_GENO | 2),
+X+ 	  { { AT_BITE, AD_PHYS, 2, 6}, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  10, 40, 0, MS_SQEEK, MZ_MEDIUM, 0, 0,
+X+ 	  M1_ANIMAL | M1_NOHANDS | M1_CARNIVORE, M2_HOSTILE, 0, C(HI_LORD) },
+X  	{ "chameleon", S_LIZARD, 6, 5, 6, 10, 0, (G_GENO | 2),
+X  	  { { AT_BITE, AD_PHYS, 4, 2 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2179,2184 ****
+X--- 2488,2499 ----
+X  	  WT_ELF, 350, 0, MS_HUMANOID, MZ_HUMAN, MR_SLEEP, MR_SLEEP,
+X  	  M1_HUMANOID | M1_OMNIVORE | M1_SEE_INVIS,
+X  	  M2_NOPOLY | M2_ELF | M2_STRONG | M2_COLLECT, 0, C(HI_DOMESTIC) },
+X+ 	{ "geek", S_HUMAN, 1, 10, 10, 2, 2, G_NOGEN,
+X+ 	  { { AT_WEAP, AD_PHYS, 1, 8 }, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_HUMANOID, MZ_HUMAN, MR_POISON | MR_ELEC,
+X+           MR_POISON | MR_ELEC, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_HUMAN | M2_STRONG | M2_COLLECT, 0, C(HI_DOMESTIC) },
+X  	{ "healer", S_HUMAN, 1, 10, 10, 1, 0, G_NOGEN,
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2280,2285 ****
+X--- 2595,2607 ----
+X  	  M1_HUMANOID | M1_SEE_INVIS | M1_OMNIVORE,
+X  	  M2_NOPOLY | M2_ELF | M2_HUMAN | M2_PNAME | M2_PEACEFUL | M2_STRONG |
+X  	  M2_FEMALE | M2_COLLECT | M2_MAGIC, M3_CLOSE, C(HI_LORD) },
+X+ 	{ "The Dev Team", S_HUMAN, 20, 12, 0, 80, 0, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_WEAP, AD_PHYS, 1, 8 }, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_LEADER, MZ_HUMAN, MR_POISON | MR_ELEC,
+X+ 	  MR_POISON | MR_ELEC, M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_HUMAN | M2_PNAME | M2_PEACEFUL | M2_STRONG |
+X+ 	  M2_NEUTER | M2_COLLECT | M2_MAGIC, M3_CLOSE, C(HI_LORD) },
+X  	{ "Hippocrates", S_HUMAN, 20, 12, 0, 40, 0, (G_NOGEN | G_UNIQ),
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2381,2386 ****
+X--- 2703,2716 ----
+X  	  M2_NOPOLY | M2_ORC | M2_HOSTILE | M2_STRONG | M2_STALK | M2_NASTY |
+X  	  M2_MALE | M2_GREEDY | M2_JEWELS | M2_COLLECT | M2_MAGIC,
+X  	  M3_WANTSARTI | M3_WAITFORU, C(HI_LORD) },
+X+ 	{ "Bill Gates", S_HUMAN, 20, 10, 10, 0, -15, (G_NOGEN | G_UNIQ),
+X+ 	  { { AT_WEAP, AD_PHYS, 4, 8 }, { AT_BITE, AD_PHYS, 6, 8 },
+X+ 	    { AT_TENT, AD_DRIN, 2, 1 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_NEMESIS, MZ_HUMAN, 0, 0, 
+X+ 	  M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_HUMAN | M2_STRONG | M2_STALK | M2_PNAME | 
+X+ 	  M2_HOSTILE | M2_NASTY | M2_MALE, M3_WANTSARTI | M3_WAITFORU,
+X+ 	  C(HI_LORD) },
+X  	{ "Cyclops", S_GIANT, 18, 10, 0, 0, -15, (G_NOGEN | G_UNIQ),
+X  	  { { AT_WEAP, AD_PHYS, 4, 8 }, { AT_WEAP, AD_PHYS, 4, 8 },
+X  	    { AT_CLAW, AD_SAMU, 2, 6 }, NO_ATTK, NO_ATTK, NO_ATTK },
+X***************
+X*** 2474,2479 ****
+X--- 2804,2815 ----
+X  	  WT_ELF, 350, 0, MS_GUARDIAN, MZ_HUMAN, MR_SLEEP, MR_SLEEP,
+X  	  M1_HUMANOID | M1_OMNIVORE,
+X  	  M2_NOPOLY | M2_ELF | M2_PEACEFUL | M2_COLLECT, 0, C(HI_DOMESTIC) },
+X+ 	{ "hacker", S_HUMAN, 5, 12, 10, 10, 1, G_NOGEN,
+X+ 	  { { AT_WEAP, AD_PHYS, 2, 4 }, NO_ATTK, NO_ATTK, NO_ATTK,
+X+ 	    NO_ATTK, NO_ATTK },
+X+ 	  WT_HUMAN, 400, 0, MS_GUARDIAN, MZ_HUMAN, 0, 0,
+X+ 	  M1_HUMANOID | M1_OMNIVORE,
+X+ 	  M2_NOPOLY | M2_HUMAN | M2_PEACEFUL, 0, C(HI_DOMESTIC) },
+X  	{ "attendant", S_HUMAN, 5, 10, 10, 10, 3, G_NOGEN,
+X  	  { { AT_WEAP, AD_PHYS, 1, 6 }, NO_ATTK, NO_ATTK,
+X  	    NO_ATTK, NO_ATTK, NO_ATTK },
+X*** /tmp/tmp.1285	Sat May 28 21:18:03 1994
+X--- ./src/monmove.c	Sun Apr 17 13:13:18 1994
+X***************
+X*** 923,929 ****
+X  	    /* Place a segment at the old position. */
+X  	    if (mtmp->wormno) worm_move(mtmp);
+X  	} else {
+X! 	    if(ptr->mlet == S_UNICORN && rn2(2)) {
+X  		rloc(mtmp);
+X  		return(1);
+X  	    }
+X--- 923,929 ----
+X  	    /* Place a segment at the old position. */
+X  	    if (mtmp->wormno) worm_move(mtmp);
+X  	} else {
+X! 	    if(ptr->mlet == S_UNICORN && ptr != &mons[PM_YOUNG_UNICORN] && rn2(2)) {
+X  		rloc(mtmp);
+X  		return(1);
+X  	    }
+X*** /tmp/tmp.1285	Sat May 28 21:18:07 1994
+X--- ./src/objects.c	Sun May 22 19:53:26 1994
+X***************
+X*** 89,102 ****
+X  WEAPON("spear",         NULL,           1, 1, 0, 50, 30,  3, 6, 8, 0, IRON, HI_METAL),
+X  WEAPON("elven spear",   "runed spear",  0, 1, 0, 10, 30,  3, 7, 8, 0, IRON, HI_METAL),
+X  WEAPON("orcish spear",  "crude spear",  0, 1, 0, 13, 30,  3, 5, 8, 0, IRON, BLACK),
+X! WEAPON("dwarvish spear", "stout spear", 0, 1, 0, 12, 35,  3, 8, 8, 0, IRON, HI_METAL),
+X  WEAPON("javelin",       "throwing spear",0,1, 0, 10, 20,  3, 6, 6, 0, IRON, HI_METAL),
+X  WEAPON("trident",       NULL,           1, 0, 0,  8, 25,  5, 6, 4, 0, IRON, HI_METAL),
+X  						/* +1 small, +2d4 large */
+X  WEAPON("lance",         NULL,           1, 0, 0,  8,180, 10, 6, 8, 0, IRON, HI_METAL),
+X  
+X  /* blades */
+X! WEAPON("dagger",        NULL,           1, 1, 0, 25, 10,  4,  4,  3, 2, IRON, HI_METAL),
+X  WEAPON("elven dagger",  "runed dagger", 0, 1, 0,  8, 10,  4,  5,  3, 2, IRON, HI_METAL),
+X  WEAPON("orcish dagger", "crude dagger", 0, 1, 0, 10, 10,  4,  3,  3, 2, IRON, BLACK),
+X  WEAPON("athame",        NULL,           1, 1, 0,  0, 10,  4,  4,  3, 2, IRON, HI_METAL),
+X--- 89,102 ----
+X  WEAPON("spear",         NULL,           1, 1, 0, 50, 30,  3, 6, 8, 0, IRON, HI_METAL),
+X  WEAPON("elven spear",   "runed spear",  0, 1, 0, 10, 30,  3, 7, 8, 0, IRON, HI_METAL),
+X  WEAPON("orcish spear",  "crude spear",  0, 1, 0, 13, 30,  3, 5, 8, 0, IRON, BLACK),
+X! WEAPON("dwarvish spear", "stout spear", 0, 1, 0, 12, 30,  3, 8, 8, 0, IRON, HI_METAL),
+X  WEAPON("javelin",       "throwing spear",0,1, 0, 10, 20,  3, 6, 6, 0, IRON, HI_METAL),
+X  WEAPON("trident",       NULL,           1, 0, 0,  8, 25,  5, 6, 4, 0, IRON, HI_METAL),
+X  						/* +1 small, +2d4 large */
+X  WEAPON("lance",         NULL,           1, 0, 0,  8,180, 10, 6, 8, 0, IRON, HI_METAL),
+X  
+X  /* blades */
+X! WEAPON("dagger",        NULL,           1, 1, 0, 20, 10,  4,  4,  3, 2, IRON, HI_METAL),
+X  WEAPON("elven dagger",  "runed dagger", 0, 1, 0,  8, 10,  4,  5,  3, 2, IRON, HI_METAL),
+X  WEAPON("orcish dagger", "crude dagger", 0, 1, 0, 10, 10,  4,  3,  3, 2, IRON, BLACK),
+X  WEAPON("athame",        NULL,           1, 1, 0,  0, 10,  4,  4,  3, 2, IRON, HI_METAL),
+X***************
+X*** 105,113 ****
+X  WEAPON("stiletto",      NULL,           1, 1, 0,  5,  5,  4,  3,  2, 0, IRON, HI_METAL),
+X  WEAPON("worm tooth",    NULL,           1, 0, 0,  0, 20,  2,  2,  2, 0, 0, WHITE),
+X  WEAPON("crysknife",     NULL,           1, 0, 0,  0, 20,100, 10, 10, 3, MINERAL, WHITE),
+X  WEAPON("dwarvish mattock",      "heavy pick",
+X  					0, 0, 1, 13,120, 50,12, 8,-1, IRON, HI_METAL),
+X! WEAPON("axe",           NULL,           1, 0, 0, 40, 60,  8,  6,  4, 0, IRON, HI_METAL),
+X  WEAPON("battle-axe","double-headed axe",0, 0, 1, 10,120, 40,  8,  6, 0, IRON, HI_METAL),
+X  						/* "double-bitted" ? */
+X  
+X--- 105,115 ----
+X  WEAPON("stiletto",      NULL,           1, 1, 0,  5,  5,  4,  3,  2, 0, IRON, HI_METAL),
+X  WEAPON("worm tooth",    NULL,           1, 0, 0,  0, 20,  2,  2,  2, 0, 0, WHITE),
+X  WEAPON("crysknife",     NULL,           1, 0, 0,  0, 20,100, 10, 10, 3, MINERAL, WHITE),
+X+ WEAPON("tooth of an algolian suntiger",	"very sharp tooth",
+X+ 					0, 0, 0,  5, 10,500, 20, 20, 5, 0, WHITE),
+X  WEAPON("dwarvish mattock",      "heavy pick",
+X  					0, 0, 1, 13,120, 50,12, 8,-1, IRON, HI_METAL),
+X! WEAPON("axe",           NULL,           1, 0, 0, 35, 60,  8,  6,  4, 0, IRON, HI_METAL),
+X  WEAPON("battle-axe","double-headed axe",0, 0, 1, 10,120, 40,  8,  6, 0, IRON, HI_METAL),
+X  						/* "double-bitted" ? */
+X  
+X***************
+X*** 126,135 ****
+X  WEAPON("elven broadsword", "runed broadsword",
+X  					0, 0, 0,  4, 70, 10,  6,  6, 0, IRON, HI_METAL),
+X  						/* +d4 small, +1 large */
+X! WEAPON("long sword", NULL,		1, 0, 0, 50, 40, 15,  8, 12, 0, IRON, HI_METAL),
+X! WEAPON("two-handed sword", NULL,	1, 0, 1, 22,150, 50, 12,  6, 0, IRON, HI_METAL),
+X  						/* +2d6 large */
+X  WEAPON("katana", "samurai sword",	0, 0, 0,  4, 40, 80, 10, 12, 1, IRON, HI_METAL),
+X  /* two set-up-for-artifacts swords */
+X  						/* +2d6 large */
+X  WEAPON("tsurugi", "long samurai sword", 0, 0, 1,  0, 60,500, 16,  8, 2, METAL, HI_METAL),
+X--- 128,138 ----
+X  WEAPON("elven broadsword", "runed broadsword",
+X  					0, 0, 0,  4, 70, 10,  6,  6, 0, IRON, HI_METAL),
+X  						/* +d4 small, +1 large */
+X! WEAPON("long sword", NULL,		1, 0, 0, 45, 40, 15,  8, 12, 0, IRON, HI_METAL),
+X! WEAPON("two-handed sword", NULL,	1, 0, 1, 27,150, 50, 12,  6, 0, IRON, HI_METAL),
+X  						/* +2d6 large */
+X  WEAPON("katana", "samurai sword",	0, 0, 0,  4, 40, 80, 10, 12, 1, IRON, HI_METAL),
+X+ WEAPON("electric sword", NULL,		1, 0, 0,  5, 60,200, 12, 16, 2, IRON, HI_METAL),
+X  /* two set-up-for-artifacts swords */
+X  						/* +2d6 large */
+X  WEAPON("tsurugi", "long samurai sword", 0, 0, 1,  0, 60,500, 16,  8, 2, METAL, HI_METAL),
+X***************
+X*** 341,353 ****
+X  
+X  /* gloves */
+X  ARMOR("leather gloves", "old gloves",
+X! 	0, 0, 0, 0,	       16, 1, 10,   8,	9, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of fumbling", "padded gloves",
+X! 	0, 1, 0, FUMBLING,	8, 1, 10,  50,	9, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of power", "riding gloves",
+X! 	0, 1, 0, 0,		8, 1, 30,  50,	9, 0, IRON,    BROWN),
+X  ARMOR("gauntlets of dexterity", "fencing gloves",
+X! 	0, 1, 0, 0,		8, 1, 10,  50,	9, 0, LEATHER, HI_LEATHER),
+X  
+X  /* boots */
+X  ARMOR("low boots", "walking shoes",
+X--- 344,358 ----
+X  
+X  /* gloves */
+X  ARMOR("leather gloves", "old gloves",
+X! 	0, 0, 0, 0,	       15, 1, 10,   8,	9, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of fumbling", "padded gloves",
+X! 	0, 1, 0, FUMBLING,	7, 1, 10,  50,	9, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of power", "riding gloves",
+X! 	0, 1, 0, 0,		7, 1, 30,  50,	9, 0, IRON,    BROWN),
+X! ARMOR("gauntlets of typing", "brand-new gloves",
+X! 	0, 1, 0, 0,		4, 1, 10,  50,  8, 0, LEATHER, HI_LEATHER),
+X  ARMOR("gauntlets of dexterity", "fencing gloves",
+X! 	0, 1, 0, 0,		7, 1, 10,  50,	9, 0, LEATHER, HI_LEATHER),
+X  
+X  /* boots */
+X  ARMOR("low boots", "walking shoes",
+X***************
+X*** 403,408 ****
+X--- 408,415 ----
+X  RING("see invisible",     "engagement", SEE_INVIS,      150, 1, 0, IRON,     HI_METAL),
+X  RING("protection from shape changers", "shiny", PROT_FROM_SHAPE_CHANGERS,
+X  							100, 1, 0, IRON,     BRIGHT_CYAN),
+X+ RING("health",		  "glass",	0,		150, 1, 1, GLASS,	HI_GLASS),
+X+ RING("timely backup",	  "rusty",	0,		150, 1, 0, IRON,     BROWN),
+X  #undef RING
+X  
+X  /* amulets ... - THE Amulet comes last because it is special */
+X***************
+X*** 410,423 ****
+X  		OBJ(name,desc), BITS(0,0,0,0,1,0,0,0,0,0,IRON), power, \
+X  		AMULET_CLASS, prob, 0, 20, 150, 0, 0, 0, 0, 20, HI_METAL )
+X  
+X! AMULET("amulet of ESP",           "circular",   TELEPAT,    180),
+X! AMULET("amulet of life saving",   "spherical",  LIFESAVED,   80),
+X! AMULET("amulet of strangulation", "oval",       STRANGLED,  140),
+X! AMULET("amulet of restful sleep", "triangular", SLEEPING,   140),
+X  AMULET("amulet versus poison",    "pyramidal",  POISON_RES, 170),
+X! AMULET("amulet of change",        "square",     0,          140),
+X  						/* POLYMORPH */
+X  AMULET("amulet of reflection",    "hexagonal",  REFLECTING,  80),
+X  AMULET("amulet of magical breathing", "octagonal",	MAGICAL_BREATHING, 70),
+X  OBJECT(OBJ("cheap plastic imitation of the Amulet of Yendor",
+X  	"Amulet of Yendor"), BITS(0,0,1,0,0,0,0,0,0,0,PLASTIC), 0,
+X--- 417,432 ----
+X  		OBJ(name,desc), BITS(0,0,0,0,1,0,0,0,0,0,IRON), power, \
+X  		AMULET_CLASS, prob, 0, 20, 150, 0, 0, 0, 0, 20, HI_METAL )
+X  
+X! AMULET("amulet of ESP",           "circular",   TELEPAT,    140),
+X! AMULET("amulet of life saving",   "spherical",  LIFESAVED,   70),
+X! AMULET("amulet of strangulation", "oval",       STRANGLED,  100),
+X! AMULET("amulet of restful sleep", "triangular", SLEEPING,   120),
+X  AMULET("amulet versus poison",    "pyramidal",  POISON_RES, 170),
+X! AMULET("amulet of change",        "square",     0,          100),
+X  						/* POLYMORPH */
+X  AMULET("amulet of reflection",    "hexagonal",  REFLECTING,  80),
+X+ AMULET("amulet of second chance", "tetraedical",SECOND_CHANCE, 150),
+X+ AMULET("amulet of data storage",  "icosaedrical", 0,		0),
+X  AMULET("amulet of magical breathing", "octagonal",	MAGICAL_BREATHING, 70),
+X  OBJECT(OBJ("cheap plastic imitation of the Amulet of Yendor",
+X  	"Amulet of Yendor"), BITS(0,0,1,0,0,0,0,0,0,0,PLASTIC), 0,
+X***************
+X*** 441,477 ****
+X  		TOOL_CLASS, prob, 0, \
+X  		wt, cost, sdam, ldam, hitbon, 0, wt, color )
+X  /* containers */
+X! CONTAINER("large box",	    NULL,   1, 0, 0,  40,350,   8, WOOD, HI_WOOD),
+X! CONTAINER("chest",	    NULL,   1, 0, 0,  35,600,  16, WOOD, HI_WOOD),
+X  CONTAINER("ice box",	    NULL,   1, 0, 0,   5,900,  42, PLASTIC, WHITE),
+X! CONTAINER("sack",	    "bag",  0, 0, 0,  35, 15,   2, CLOTH, HI_CLOTH),
+X  CONTAINER("oilskin sack",   "bag",  0, 0, 0,   5, 15, 100, CLOTH, HI_CLOTH),
+X  CONTAINER("bag of holding", "bag",  0, 1, 0,  20, 15, 100, CLOTH, HI_CLOTH),
+X  CONTAINER("bag of tricks",  "bag",  0, 1, 1,  20, 15, 100, CLOTH, HI_CLOTH),
+X  #undef CONTAINER
+X  /* lock opening tools */
+X  TOOL("skeleton key",    "key",  0, 0, 0, 0,  80,  3,    10, IRON, HI_METAL),
+X  #ifdef TOURIST
+X! TOOL("lock pick",       NULL,   1, 0, 0, 0,  60,  4,    20, IRON, HI_METAL),
+X  TOOL("credit card",     NULL,   1, 0, 0, 0,  15,  1,    10, PLASTIC, WHITE),
+X  #else
+X! TOOL("lock pick",       NULL,   1, 0, 0, 0,  75,  4,    20, IRON, HI_METAL),
+X  #endif
+X  /* light sources */
+X  TOOL("tallow candle", "candle", 0, 1, 0, 0,  20,  2,    10, WAX, WHITE),
+X  TOOL("wax candle",    "candle", 0, 1, 0, 0,   5,  2,    20, WAX, WHITE),
+X  #ifdef WALKIES
+X  TOOL("brass lantern",   NULL,   1, 0, 0, 0,  30,100,    10, COPPER, YELLOW),
+X! TOOL("oil lamp",        "lamp", 0, 0, 0, 0,  45, 80,    10, COPPER, YELLOW),
+X  #else
+X  TOOL("brass lantern",   NULL,   1, 0, 0, 0,  45,100,    10, COPPER, YELLOW),
+X! TOOL("oil lamp",        "lamp", 0, 0, 0, 0,  75, 80,    10, COPPER, YELLOW),
+X  #endif
+X! TOOL("magic lamp",      "lamp", 0, 0, 1, 0,  15, 80,    50, COPPER, YELLOW),
+X  /* other tools */
+X  #ifdef TOURIST
+X  TOOL("expensive camera", NULL,  1, 0, 0, 0,  15, 30,   200, PLASTIC, BLACK),
+X! TOOL("mirror", "looking glass", 0, 0, 0, 0,  45, 13,    10, GLASS, SILVER),
+X  #else
+X  TOOL("mirror", "looking glass", 0, 0, 0, 0,  60, 13,    10, GLASS, SILVER),
+X  #endif
+X--- 450,490 ----
+X  		TOOL_CLASS, prob, 0, \
+X  		wt, cost, sdam, ldam, hitbon, 0, wt, color )
+X  /* containers */
+X! CONTAINER("large box",	    NULL,   1, 0, 0,  25,350,   8, WOOD, HI_WOOD),
+X! CONTAINER("chest",	    NULL,   1, 0, 0,  25,600,  16, WOOD, HI_WOOD),
+X  CONTAINER("ice box",	    NULL,   1, 0, 0,   5,900,  42, PLASTIC, WHITE),
+X! CONTAINER("Schroedinger's Box","large box",
+X! 				    0, 0, 0,   0,350, 100, WOOD, HI_WOOD),
+X! CONTAINER("sack",	    "bag",  0, 0, 0,  25, 15,   2, CLOTH, HI_CLOTH),
+X  CONTAINER("oilskin sack",   "bag",  0, 0, 0,   5, 15, 100, CLOTH, HI_CLOTH),
+X  CONTAINER("bag of holding", "bag",  0, 1, 0,  20, 15, 100, CLOTH, HI_CLOTH),
+X+ CONTAINER("bag of digestion","bag", 0, 1, 0,  10, 15, 100, CLOTH, HI_CLOTH),
+X  CONTAINER("bag of tricks",  "bag",  0, 1, 1,  20, 15, 100, CLOTH, HI_CLOTH),
+X+ 
+X  #undef CONTAINER
+X  /* lock opening tools */
+X  TOOL("skeleton key",    "key",  0, 0, 0, 0,  80,  3,    10, IRON, HI_METAL),
+X  #ifdef TOURIST
+X! TOOL("lock pick",       NULL,   1, 0, 0, 0,  40,  4,    20, IRON, HI_METAL),
+X  TOOL("credit card",     NULL,   1, 0, 0, 0,  15,  1,    10, PLASTIC, WHITE),
+X  #else
+X! TOOL("lock pick",       NULL,   1, 0, 0, 0,  55,  4,    20, IRON, HI_METAL),
+X  #endif
+X  /* light sources */
+X  TOOL("tallow candle", "candle", 0, 1, 0, 0,  20,  2,    10, WAX, WHITE),
+X  TOOL("wax candle",    "candle", 0, 1, 0, 0,   5,  2,    20, WAX, WHITE),
+X  #ifdef WALKIES
+X  TOOL("brass lantern",   NULL,   1, 0, 0, 0,  30,100,    10, COPPER, YELLOW),
+X! TOOL("oil lamp",        "lamp", 0, 0, 0, 0,  20, 80,    10, COPPER, YELLOW),
+X  #else
+X  TOOL("brass lantern",   NULL,   1, 0, 0, 0,  45,100,    10, COPPER, YELLOW),
+X! TOOL("oil lamp",        "lamp", 0, 0, 0, 0,  20, 80,    10, COPPER, YELLOW),
+X  #endif
+X! TOOL("magic lamp",      "lamp", 0, 0, 1, 0,  80, 80,    50, COPPER, YELLOW),
+X  /* other tools */
+X  #ifdef TOURIST
+X  TOOL("expensive camera", NULL,  1, 0, 0, 0,  15, 30,   200, PLASTIC, BLACK),
+X! TOOL("mirror", "looking glass", 0, 0, 0, 0,  40, 13,    10, GLASS, SILVER),
+X  #else
+X  TOOL("mirror", "looking glass", 0, 0, 0, 0,  60, 13,    10, GLASS, SILVER),
+X  #endif
+X***************
+X*** 479,498 ****
+X  				0, 0, 1, 1,  15,150,	60, GLASS, HI_GLASS),
+X  TOOL("blindfold",       NULL,   1, 0, 0, 0,  55,  2,    20, CLOTH, BLACK),
+X  #ifdef WALKIES
+X! TOOL("towel",           NULL,   1, 0, 0, 0,  50,  2,    50, CLOTH, MAGENTA),
+X! TOOL("leash",           NULL,   1, 0, 0, 0,  70, 12,    20, LEATHER, HI_LEATHER),
+X  #else
+X! TOOL("towel",           NULL,   1, 0, 0, 0,  75,  3,    50, CLOTH, MAGENTA),
+X  #endif
+X  TOOL("stethoscope",     NULL,   1, 0, 0, 0,  25,  4,    75, IRON, HI_METAL),
+X  TOOL("tinning kit",     NULL,   1, 0, 0, 0,  15,100,    30, IRON, HI_METAL),
+X  TOOL("tin opener",      NULL,   1, 0, 0, 0,  35,  4,    30, IRON, HI_METAL),
+X  TOOL("can of grease",   NULL,   1, 0, 0, 1,  15, 15,    20, IRON, HI_METAL),
+X! TOOL("figurine",        NULL,   1, 0, 1, 0,  25, 50,    80, MINERAL, HI_MINERAL),
+X  TOOL("magic marker",    NULL,   1, 0, 1, 1,  15,  2,    50, PLASTIC, RED),
+X  /* instruments */
+X  TOOL("tin whistle",   "whistle",
+X! 				0, 0, 0, 0, 105,  3,	10, METAL, HI_METAL),
+X  TOOL("magic whistle", "whistle",
+X  				0, 0, 1, 0,  30,  3,	10, METAL, HI_METAL),
+X  /* "If tin whistles are made out of tin, what do they make foghorns out of?" */
+X--- 492,529 ----
+X  				0, 0, 1, 1,  15,150,	60, GLASS, HI_GLASS),
+X  TOOL("blindfold",       NULL,   1, 0, 0, 0,  55,  2,    20, CLOTH, BLACK),
+X  #ifdef WALKIES
+X! TOOL("towel",           NULL,   1, 0, 0, 0,  40,  2,    50, CLOTH, MAGENTA),
+X! TOOL("leash",           NULL,   1, 0, 0, 0,  40, 12,    20, LEATHER, HI_LEATHER),
+X  #else
+X! TOOL("towel",           NULL,   1, 0, 0, 0,  55,  3,    50, CLOTH, MAGENTA),
+X  #endif
+X  TOOL("stethoscope",     NULL,   1, 0, 0, 0,  25,  4,    75, IRON, HI_METAL),
+X  TOOL("tinning kit",     NULL,   1, 0, 0, 0,  15,100,    30, IRON, HI_METAL),
+X  TOOL("tin opener",      NULL,   1, 0, 0, 0,  35,  4,    30, IRON, HI_METAL),
+X  TOOL("can of grease",   NULL,   1, 0, 0, 1,  15, 15,    20, IRON, HI_METAL),
+X! TOOL("figurine",        NULL,   1, 0, 1, 0,  15, 50,    80, MINERAL, HI_MINERAL),
+X  TOOL("magic marker",    NULL,   1, 0, 1, 1,  15,  2,    50, PLASTIC, RED),
+X+ TOOL("Hitchhiker's Guide To The Galaxy", "highly-complicated electronic device",
+X+ 				0, 0, 0, 0,   0, 42,  1000, IRON, HI_METAL),
+X+ TOOL("diode",		"two-wired thing",
+X+ 				0, 1, 0, 0,   0,  5,    50, IRON, WHITE),
+X+ TOOL("transistor",	"three-wired thing",
+X+ 				0, 1, 0, 0,   0,  5,   100, IRON, WHITE),
+X+ TOOL("IC",              "many-wired thing",
+X+ 				0, 1, 0, 0,   0,  5,  5000, IRON, WHITE),
+X+ TOOL("pack of floppies",	"box containing little plastic cards",
+X+ 				0, 1, 0, 0,   2, 30,   300,PLASTIC, RED),
+X+ TOOL("god-o-meter",	"highly-complicated electronic device",
+X+ 				0, 0, 0, 0,  18, 50,   500, IRON, HI_METAL),
+X+ TOOL("relay",		"four-wired thing",	
+X+ 				0, 1, 0, 0,   2,  8,   100, IRON, WHITE),
+X+ TOOL("bottle",		NULL,
+X+ 				1, 1, 0, 0,  20, 20,     5, GLASS, HI_METAL),
+X+ TOOL("chemistry set",	"box of obscure-looking glass devices",
+X+ 				0, 0, 0, 1,  50,200,   500, GLASS, ORANGE_COLORED),
+X  /* instruments */
+X  TOOL("tin whistle",   "whistle",
+X! 				0, 0, 0, 0, 73,  3,	10, METAL, HI_METAL),
+X  TOOL("magic whistle", "whistle",
+X  				0, 0, 1, 0,  30,  3,	10, METAL, HI_METAL),
+X  /* "If tin whistles are made out of tin, what do they make foghorns out of?" */
+X***************
+X*** 556,561 ****
+X--- 587,595 ----
+X  #else
+X  	FOOD("slice of pizza",      75, 1,  3, 0, VEGGY, 250, RED),
+X  #endif
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	FOOD("peanut bag",	     0, 3, 10, 0, VEGGY, 800, HI_ORGANIC),
+X+ #endif
+X  	/* human food */
+X  	FOOD("lump of royal jelly",  0, 1,  2, 0, VEGGY, 200, YELLOW),
+X  	FOOD("cream pie",           25, 1, 10, 0, VEGGY, 100, WHITE),
+X***************
+X*** 564,570 ****
+X  	FOOD("pancake",             25, 2,  2, 0, VEGGY, 200, YELLOW),
+X  	FOOD("lembas wafer",        20, 2,  5, 0, VEGGY, 800, WHITE),
+X  	FOOD("cram ration",         20, 3, 15, 0, VEGGY, 600, HI_ORGANIC),
+X! 	FOOD("food ration",        381, 5, 20, 0, VEGGY, 800, HI_ORGANIC),
+X  #ifdef ARMY
+X  	FOOD("K-ration",             0, 1, 10, 0, VEGGY, 400, HI_ORGANIC),
+X  	FOOD("C-ration",             0, 1, 10, 0, VEGGY, 300, HI_ORGANIC),
+X--- 598,605 ----
+X  	FOOD("pancake",             25, 2,  2, 0, VEGGY, 200, YELLOW),
+X  	FOOD("lembas wafer",        20, 2,  5, 0, VEGGY, 800, WHITE),
+X  	FOOD("cram ration",         20, 3, 15, 0, VEGGY, 600, HI_ORGANIC),
+X! 	FOOD("food ration",        331, 5, 20, 0, VEGGY, 800, HI_ORGANIC),
+X! 	FOOD("Hacker's Food",	    50, 1, 20, 0, VEGGY, 800, HI_METAL),
+X  #ifdef ARMY
+X  	FOOD("K-ration",             0, 1, 10, 0, VEGGY, 400, HI_ORGANIC),
+X  	FOOD("C-ration",             0, 1, 10, 0, VEGGY, 300, HI_ORGANIC),
+X***************
+X*** 578,600 ****
+X  		POTION_CLASS, prob, 0, 20, cost, 0, 0, 0, 0, 10, color )
+X  POTION("gain ability",      "ruby",           1, 0,          45, 300, RED),
+X  POTION("restore ability",   "pink",           1, 0,          45, 100, BRIGHT_MAGENTA),
+X! POTION("confusion",         "orange",         1, CONFUSION,  45, 100, ORANGE_COLORED),
+X! POTION("blindness",         "yellow",         1, BLINDED,    45, 150, YELLOW),
+X  POTION("paralysis",         "emerald",        1, 0,          45, 300, BRIGHT_GREEN),
+X  POTION("speed",             "dark green",     1, FAST,       45, 200, GREEN),
+X  POTION("levitation",        "cyan",           1, LEVITATION, 45, 200, CYAN),
+X! POTION("hallucination",     "sky blue",       1, HALLUC,     45, 100, CYAN),
+X! POTION("invisibility",      "brilliant blue", 1, INVIS,      45, 150, BRIGHT_BLUE),
+X  POTION("see invisible",     "magenta",        1, SEE_INVIS,  45,  50, MAGENTA),
+X! POTION("healing",           "purple-red",     1, 0,          65, 100, MAGENTA),
+X  POTION("extra healing",     "puce",           1, 0,          50, 100, RED),
+X  POTION("gain level",        "milky",          1, 0,          20, 300, WHITE),
+X  POTION("enlightenment",     "swirly",         1, 0,          20, 200, BROWN),
+X! POTION("monster detection", "bubbly",         1, 0,          45, 150, WHITE),
+X! POTION("object detection",  "smoky",          1, 0,          45, 150, GRAY),
+X! POTION("gain energy",       "cloudy",         1, 0,          45, 150, WHITE),
+X! POTION("booze",             "brown",          0, 0,          45,  50, BROWN),
+X! POTION("sickness",          "fizzy",          0, 0,          45,  50, CYAN),
+X  POTION("fruit juice",       "dark",           0, 0,          45,  50, BLACK),
+X  POTION("water",             "clear",          0, 0,         125, 100, CYAN),
+X  #undef POTION
+X--- 613,644 ----
+X  		POTION_CLASS, prob, 0, 20, cost, 0, 0, 0, 0, 10, color )
+X  POTION("gain ability",      "ruby",           1, 0,          45, 300, RED),
+X  POTION("restore ability",   "pink",           1, 0,          45, 100, BRIGHT_MAGENTA),
+X! POTION("confusion",         "orange",         1, CONFUSION,  35, 100, ORANGE_COLORED),
+X! POTION("blindness",         "yellow",         1, BLINDED,    40, 150, YELLOW),
+X  POTION("paralysis",         "emerald",        1, 0,          45, 300, BRIGHT_GREEN),
+X  POTION("speed",             "dark green",     1, FAST,       45, 200, GREEN),
+X  POTION("levitation",        "cyan",           1, LEVITATION, 45, 200, CYAN),
+X! POTION("hallucination",     "sky blue",       1, HALLUC,     35, 100, CYAN),
+X! POTION("invisibility",      "brilliant blue", 1, INVIS,      40, 150, BRIGHT_BLUE),
+X  POTION("see invisible",     "magenta",        1, SEE_INVIS,  45,  50, MAGENTA),
+X! POTION("healing",           "purple-red",     1, 0,          50, 100, MAGENTA),
+X  POTION("extra healing",     "puce",           1, 0,          50, 100, RED),
+X  POTION("gain level",        "milky",          1, 0,          20, 300, WHITE),
+X  POTION("enlightenment",     "swirly",         1, 0,          20, 200, BROWN),
+X! POTION("monster detection", "bubbly",         1, 0,          35, 150, WHITE),
+X! POTION("object detection",  "smoky",          1, 0,          35, 150, GRAY),
+X! POTION("gain energy",       "cloudy",         1, 0,          40, 150, WHITE),
+X! POTION("extreme power",	    "turquoise",      1, 0, 	     20, 300, CYAN),
+X! POTION("recovery",	    "blood-red",      1, 0,          20, 300, RED),
+X! POTION("invulnerability",   "blood-green",    1, 0, 	     10, 500, GREEN),
+X! POTION("heroism",	    "tan",	      1, 0,           5, 700, BROWN),
+X! POTION("booze",             "brown",          0, 0,          30,  50, BROWN),
+X! POTION("sickness",          "fizzy",          0, 0,          35,  50, CYAN),
+X! POTION("cyanide",	    "vermillion",     0, 0,           0,  50, RED),
+X! POTION("radium",	    "crimson",        0, 0,           0,  50, RED),
+X! POTION("Jolt Cola",	    "illegal",	      0, 0,          30,  50, BROWN),
+X! POTION("Pan Galactic Gargle Blaster",
+X! 			    "shining",	      0, 0,          10, 100, WHITE),
+X  POTION("fruit juice",       "dark",           0, 0,          45,  50, BLACK),
+X  POTION("water",             "clear",          0, 0,         125, 100, CYAN),
+X  #undef POTION
+X***************
+X*** 603,627 ****
+X  #define SCROLL(name,text,mgc,prob,cost) OBJECT( \
+X  		OBJ(name,text), BITS(0,1,0,0,mgc,0,0,0,0,0,PAPER), 0, \
+X  		SCROLL_CLASS, prob, 0, 5, cost, 0, 0, 0, 0, 6, HI_PAPER )
+X! 	SCROLL("enchant armor",         "ZELGO MER",            1,  63,  80),
+X! 	SCROLL("destroy armor",         "JUYED AWK YACC",       1,  45, 100),
+X  	SCROLL("confuse monster",       "NR 9",                 1,  53, 100),
+X  	SCROLL("scare monster",         "XIXAXA XOXAXA XUXAXA", 1,  35, 100),
+X  	SCROLL("remove curse",          "PRATYAVAYAH",          1,  65,  80),
+X! 	SCROLL("enchant weapon",        "DAIYEN FOOELS",        1,  85,  60),
+X  	SCROLL("create monster",        "LEP GEX VEN ZEA",      1,  45, 200),
+X  	SCROLL("taming",                "PRIRUTSENIE",          1,  15, 200),
+X  	SCROLL("genocide",              "ELBIB YLOH",           1,  15, 300),
+X! 	SCROLL("light",                 "VERR YED HORRE",       1,  95,  50),
+X  	SCROLL("teleportation",         "VENZAR BORGAVVE",      1,  55, 100),
+X  	SCROLL("gold detection",        "THARR",                1,  33, 100),
+X  	SCROLL("food detection",        "YUM YUM",              1,  25, 100),
+X! 	SCROLL("identify",              "KERNOD WEL",           1, 185,  20),
+X  	SCROLL("magic mapping",         "ELAM EBOW",            1,  45, 100),
+X! 	SCROLL("amnesia",               "DUAM XNAHT",           1,  35, 200),
+X! 	SCROLL("fire",                  "ANDOVA BEGARIN",       1,  48, 100),
+X! 	SCROLL("punishment",            "VE FORBRYDERNE",       1,  15, 300),
+X  	SCROLL("charging",              "HACKEM MUCHE",         1,  15, 300),
+X  	SCROLL(NULL,			"VELOX NEB",            1,   0, 100),
+X  	SCROLL(NULL,			"FOOBIE BLETCH",        1,   0, 100),
+X  	SCROLL(NULL,			"TEMOV",                1,   0, 100),
+X--- 647,678 ----
+X  #define SCROLL(name,text,mgc,prob,cost) OBJECT( \
+X  		OBJ(name,text), BITS(0,1,0,0,mgc,0,0,0,0,0,PAPER), 0, \
+X  		SCROLL_CLASS, prob, 0, 5, cost, 0, 0, 0, 0, 6, HI_PAPER )
+X! 	SCROLL("enchant armor",         "ZELGO MER",            1,  53,  80),
+X! 	SCROLL("destroy armor",         "JUYED AWK YACC",       1,  20, 100),
+X  	SCROLL("confuse monster",       "NR 9",                 1,  53, 100),
+X  	SCROLL("scare monster",         "XIXAXA XOXAXA XUXAXA", 1,  35, 100),
+X  	SCROLL("remove curse",          "PRATYAVAYAH",          1,  65,  80),
+X! 	SCROLL("enchant weapon",        "DAIYEN FOOELS",        1,  80,  60),
+X  	SCROLL("create monster",        "LEP GEX VEN ZEA",      1,  45, 200),
+X  	SCROLL("taming",                "PRIRUTSENIE",          1,  15, 200),
+X  	SCROLL("genocide",              "ELBIB YLOH",           1,  15, 300),
+X! 	SCROLL("light",                 "VERR YED HORRE",       1,  65,  50),
+X  	SCROLL("teleportation",         "VENZAR BORGAVVE",      1,  55, 100),
+X  	SCROLL("gold detection",        "THARR",                1,  33, 100),
+X  	SCROLL("food detection",        "YUM YUM",              1,  25, 100),
+X! 	SCROLL("identify",              "KERNOD WEL",           1, 180,  20),
+X  	SCROLL("magic mapping",         "ELAM EBOW",            1,  45, 100),
+X! 	SCROLL("amnesia",               "DUAM XNAHT",           1,  20, 200),
+X! 	SCROLL("fire",                  "ANDOVA BEGARIN",       1,  28, 100),
+X! 	SCROLL("punishment",            "VE FORBRYDERNE",       1,  10, 300),
+X  	SCROLL("charging",              "HACKEM MUCHE",         1,  15, 300),
+X+ 	SCROLL("mass murder",		"ENEMATZU MEMALEZU",	1,  20, 200),
+X+ 	SCROLL("undo genocide",		"42",			1,   5, 500),
+X+ 	SCROLL("reverse identify",	"OH CAPTAIN MY CAPTAIN",1,  40,  30),
+X+ /*	SCROLL("wishing",		"TRICK 13",		1,   0, 400), */
+X+ 	SCROLL("consecration",		"MAY THE FORCE BE WITH YOU",
+X+ 								1,  50, 300),
+X+ 	SCROLL("root password detection","XYZZY",		1,   0,1000),
+X  	SCROLL(NULL,			"VELOX NEB",            1,   0, 100),
+X  	SCROLL(NULL,			"FOOBIE BLETCH",        1,   0, 100),
+X  	SCROLL(NULL,			"TEMOV",                1,   0, 100),
+X***************
+X*** 646,672 ****
+X  SPELL("cone of cold",    "dog eared",   10,  8, 5, 1, RAY,       HI_PAPER),
+X  SPELL("sleep",           "mottled",     50,  1, 1, 1, RAY,       HI_PAPER),
+X  SPELL("finger of death", "stained",      5, 10, 7, 1, RAY,       HI_PAPER),
+X! SPELL("light",           "cloth",       45,  1, 1, 1, NODIR,     HI_CLOTH),
+X! SPELL("detect monsters", "leather",     45,  1, 1, 1, NODIR,     HI_LEATHER),
+X  SPELL("healing",         "white",       40,  2, 1, 1, IMMEDIATE, WHITE),
+X  SPELL("knock",           "pink",        36,  1, 1, 1, IMMEDIATE, BRIGHT_MAGENTA),
+X! SPELL("force bolt",      "red",         35,  2, 1, 1, IMMEDIATE, RED),
+X! SPELL("confuse monster", "orange",      37,  2, 2, 1, IMMEDIATE, ORANGE_COLORED),
+X! SPELL("cure blindness",  "yellow",      27,  2, 2, 1, IMMEDIATE, YELLOW),
+X  SPELL("slow monster",    "light green", 37,  2, 2, 1, IMMEDIATE, BRIGHT_GREEN),
+X! SPELL("wizard lock",     "dark green",  35,  3, 2, 1, IMMEDIATE, GREEN),
+X! SPELL("create monster",  "turquoise",   37,  3, 2, 1, NODIR,     BRIGHT_CYAN),
+X! SPELL("detect food",     "cyan",        37,  3, 2, 1, NODIR,     CYAN),
+X  SPELL("cause fear",      "light blue",  25,  3, 3, 1, NODIR,     BRIGHT_BLUE),
+X  SPELL("clairvoyance",    "dark blue",   15,  3, 3, 1, NODIR,     BLUE),
+X  SPELL("cure sickness",   "indigo",      32,  3, 3, 1, NODIR,     BLUE),
+X  SPELL("charm monster",   "magenta",     20,  3, 3, 1, IMMEDIATE, MAGENTA),
+X! SPELL("haste self",      "purple",      33,  4, 3, 1, NODIR,     MAGENTA),
+X! SPELL("detect unseen",   "violet",      20,  4, 3, 1, NODIR,     MAGENTA),
+X! SPELL("levitation",      "tan",         20,  4, 4, 1, NODIR,     BROWN),
+X  SPELL("extra healing",   "plaid",       35,  5, 3, 1, IMMEDIATE, GREEN),
+X  SPELL("restore ability", "light brown", 25,  5, 4, 1, NODIR,     BROWN),
+X! SPELL("invisibility",    "dark brown",  32,  5, 4, 1, NODIR,     BROWN),
+X  SPELL("detect treasure", "gray",        25,  5, 4, 1, NODIR,     GRAY),
+X  SPELL("remove curse",    "white",       25,  5, 5, 1, NODIR,     WHITE),
+X  SPELL("magic mapping",   "dusty",       18,  7, 5, 1, NODIR,     HI_PAPER),
+X--- 697,723 ----
+X  SPELL("cone of cold",    "dog eared",   10,  8, 5, 1, RAY,       HI_PAPER),
+X  SPELL("sleep",           "mottled",     50,  1, 1, 1, RAY,       HI_PAPER),
+X  SPELL("finger of death", "stained",      5, 10, 7, 1, RAY,       HI_PAPER),
+X! SPELL("light",           "cloth",       35,  1, 1, 1, NODIR,     HI_CLOTH),
+X! SPELL("detect monsters", "leather",     35,  1, 1, 1, NODIR,     HI_LEATHER),
+X  SPELL("healing",         "white",       40,  2, 1, 1, IMMEDIATE, WHITE),
+X  SPELL("knock",           "pink",        36,  1, 1, 1, IMMEDIATE, BRIGHT_MAGENTA),
+X! SPELL("force bolt",      "red",         30,  2, 1, 1, IMMEDIATE, RED),
+X! SPELL("confuse monster", "orange",      30,  2, 2, 1, IMMEDIATE, ORANGE_COLORED),
+X! SPELL("cure blindness",  "yellow",      24,  2, 2, 1, IMMEDIATE, YELLOW),
+X  SPELL("slow monster",    "light green", 37,  2, 2, 1, IMMEDIATE, BRIGHT_GREEN),
+X! SPELL("wizard lock",     "dark green",  25,  3, 2, 1, IMMEDIATE, GREEN),
+X! SPELL("create monster",  "turquoise",   27,  3, 2, 1, NODIR,     BRIGHT_CYAN),
+X! SPELL("detect food",     "cyan",        27,  3, 2, 1, NODIR,     CYAN),
+X  SPELL("cause fear",      "light blue",  25,  3, 3, 1, NODIR,     BRIGHT_BLUE),
+X  SPELL("clairvoyance",    "dark blue",   15,  3, 3, 1, NODIR,     BLUE),
+X  SPELL("cure sickness",   "indigo",      32,  3, 3, 1, NODIR,     BLUE),
+X  SPELL("charm monster",   "magenta",     20,  3, 3, 1, IMMEDIATE, MAGENTA),
+X! SPELL("haste self",      "purple",      20,  4, 3, 1, NODIR,     MAGENTA),
+X! SPELL("detect unseen",   "violet",      15,  4, 3, 1, NODIR,     MAGENTA),
+X! SPELL("levitation",      "tan",         18,  4, 4, 1, NODIR,     BROWN),
+X  SPELL("extra healing",   "plaid",       35,  5, 3, 1, IMMEDIATE, GREEN),
+X  SPELL("restore ability", "light brown", 25,  5, 4, 1, NODIR,     BROWN),
+X! SPELL("invisibility",    "dark brown",  27,  5, 4, 1, NODIR,     BROWN),
+X  SPELL("detect treasure", "gray",        25,  5, 4, 1, NODIR,     GRAY),
+X  SPELL("remove curse",    "white",       25,  5, 5, 1, NODIR,     WHITE),
+X  SPELL("magic mapping",   "dusty",       18,  7, 5, 1, NODIR,     HI_PAPER),
+X***************
+X*** 676,681 ****
+X--- 727,734 ----
+X  SPELL("teleport away",   "gold",        15,  6, 6, 1, IMMEDIATE, HI_GOLD),
+X  SPELL("create familiar", "glittering",  10,  7, 6, 1, NODIR,     WHITE),
+X  SPELL("cancellation",    "shining",     15,  8, 7, 1, IMMEDIATE, WHITE),
+X+ SPELL("finger",		 "old",		40,  3, 2, 1, IMMEDIATE, HI_PAPER),
+X+ SPELL("chemistry",	 "brand-new",	50, 10, 1, 1, NODIR,     HI_PAPER),
+X  SPELL(NULL,		 "dull",         0,  0, 0, 1, 0,         HI_PAPER),
+X  SPELL(NULL,		 "thin",         0,  0, 0, 1, 0,         HI_PAPER),
+X  SPELL(NULL,		 "thick",        0,  0, 0, 1, 0,         HI_PAPER),
+X***************
+X*** 690,718 ****
+X  #define WAND(name,typ,prob,cost,mgc,dir,metal,color) OBJECT( \
+X  		OBJ(name,typ), BITS(0,0,1,0,mgc,1,0,0,0,dir,metal), 0, WAND_CLASS, \
+X  		prob, 0, 7, cost, 0, 0, 0, 0, 30, color )
+X! WAND("light",           "glass",        95, 100, 1, NODIR,     GLASS,    HI_GLASS),
+X! WAND("secret door detection", "balsa",  50, 150, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("create monster",  "maple",        45, 200, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("wishing",         "pine",          5, 500, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("nothing",         "oak",          25, 100, 0, IMMEDIATE, WOOD,     HI_WOOD),
+X! WAND("striking",        "ebony",        75, 150, 1, IMMEDIATE, WOOD,     HI_WOOD),
+X  WAND("make invisible",  "marble",       45, 150, 1, IMMEDIATE, MINERAL,  HI_MINERAL),
+X  WAND("slow monster",    "tin",          55, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X! WAND("speed monster",   "brass",        55, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+X! WAND("undead turning",  "copper",       55, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+X  WAND("polymorph",       "silver",       45, 200, 1, IMMEDIATE, SILVER,   HI_SILVER),
+X  WAND("cancellation",    "platinum",     45, 200, 1, IMMEDIATE, PLATINUM, WHITE),
+X  WAND("teleportation",   "iridium",      45, 200, 1, IMMEDIATE, METAL,    BRIGHT_CYAN),
+X  WAND("opening",         "zinc",         25, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X  WAND("locking",         "aluminum",     25, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X! WAND("probing",         "uranium",      30, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X  WAND("digging",         "iron",         55, 150, 1, RAY,       IRON,     HI_METAL),
+X  WAND("magic missile",   "steel",        50, 150, 1, RAY,       IRON,     HI_METAL),
+X  WAND("fire",            "hexagonal",    40, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND("cold",            "short",        40, 175, 1, RAY,       IRON,     HI_METAL),
+X! WAND("sleep",           "runed",        50, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND("death",           "long",          5, 500, 1, RAY,       IRON,     HI_METAL),
+X  WAND("lightning",       "curved",       40, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND(NULL,		"forked",        0, 150, 1, 0,         WOOD,     HI_WOOD),
+X  WAND(NULL,		"spiked",        0, 150, 1, 0,         IRON,     HI_METAL),
+X  WAND(NULL,		"jeweled",       0, 150, 1, 0,         IRON,     HI_MINERAL),
+X--- 743,777 ----
+X  #define WAND(name,typ,prob,cost,mgc,dir,metal,color) OBJECT( \
+X  		OBJ(name,typ), BITS(0,0,1,0,mgc,1,0,0,0,dir,metal), 0, WAND_CLASS, \
+X  		prob, 0, 7, cost, 0, 0, 0, 0, 30, color )
+X! WAND("light",           "glass",        75, 100, 1, NODIR,     GLASS,    HI_GLASS),
+X! WAND("secret door detection", "balsa",  30, 150, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("create monster",  "maple",        45, 200, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("wishing",         "pine",          5, 500, 1, NODIR,     WOOD,     HI_WOOD),
+X  WAND("nothing",         "oak",          25, 100, 0, IMMEDIATE, WOOD,     HI_WOOD),
+X! WAND("striking",        "ebony",        25, 150, 1, IMMEDIATE, WOOD,     HI_WOOD),
+X  WAND("make invisible",  "marble",       45, 150, 1, IMMEDIATE, MINERAL,  HI_MINERAL),
+X  WAND("slow monster",    "tin",          55, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X! WAND("speed monster",   "brass",        45, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+X! WAND("undead turning",  "copper",       45, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+X  WAND("polymorph",       "silver",       45, 200, 1, IMMEDIATE, SILVER,   HI_SILVER),
+X  WAND("cancellation",    "platinum",     45, 200, 1, IMMEDIATE, PLATINUM, WHITE),
+X  WAND("teleportation",   "iridium",      45, 200, 1, IMMEDIATE, METAL,    BRIGHT_CYAN),
+X  WAND("opening",         "zinc",         25, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X  WAND("locking",         "aluminum",     25, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X! WAND("probing",         "uranium",      15, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+X  WAND("digging",         "iron",         55, 150, 1, RAY,       IRON,     HI_METAL),
+X  WAND("magic missile",   "steel",        50, 150, 1, RAY,       IRON,     HI_METAL),
+X  WAND("fire",            "hexagonal",    40, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND("cold",            "short",        40, 175, 1, RAY,       IRON,     HI_METAL),
+X! WAND("sleep",           "runed",        45, 175, 1, RAY,       IRON,     HI_METAL),
+X  WAND("death",           "long",          5, 500, 1, RAY,       IRON,     HI_METAL),
+X  WAND("lightning",       "curved",       40, 175, 1, RAY,       IRON,     HI_METAL),
+X+ WAND("acid",		"bent",		40, 200, 1, RAY,       METAL,	 HI_METAL),
+X+ WAND("draining",	"octogonal",	40, 250, 1, IMMEDIATE, IRON,	 HI_METAL),
+X+ WAND("wonder",		"elven-lettered",
+X+ 					50, 150, 1, NODIR,     IRON,	 HI_METAL),
+X+ WAND("bugging",		"wooden",
+X+ 					 0, 200, 1, NODIR,     WOOD,	 HI_METAL),
+X  WAND(NULL,		"forked",        0, 150, 1, 0,         WOOD,     HI_WOOD),
+X  WAND(NULL,		"spiked",        0, 150, 1, 0,         IRON,     HI_METAL),
+X  WAND(NULL,		"jeweled",       0, 150, 1, 0,         IRON,     HI_MINERAL),
+X*** /tmp/tmp.1285	Sat May 28 21:18:08 1994
+X--- ./src/options.c	Wed Mar 30 16:52:09 1994
+X***************
+X*** 288,295 ****
+X  	obj_descr[SLIME_MOLD].oc_name = "fruit";
+X  #endif
+X  	if (flags.female)  {	/* should have been set in NETHACKOPTIONS */
+X  		roles[2] = "Cavewoman";
+X! 		roles[6] = "Priestess";
+X  	}
+X  }
+X  
+X--- 288,297 ----
+X  	obj_descr[SLIME_MOLD].oc_name = "fruit";
+X  #endif
+X  	if (flags.female)  {	/* should have been set in NETHACKOPTIONS */
+X+ #ifndef SCO_CC
+X  		roles[2] = "Cavewoman";
+X! 		roles[7] = "Priestess";
+X! #endif
+X  	}
+X  }
+X  
+X***************
+X*** 1141,1147 ****
+X  }
+X  
+X  /* data for option_help() */
+X! static const char *opt_intro[] = {
+X  	"",
+X  	"                 NetHack Options Help:",
+X  	"",
+X--- 1143,1149 ----
+X  }
+X  
+X  /* data for option_help() */
+X! static /* const */ char *opt_intro[] = {
+X  	"",
+X  	"                 NetHack Options Help:",
+X  	"",
+X***************
+X*** 1181,1187 ****
+X--- 1183,1193 ----
+X      } else
+X  #endif
+X  	Sprintf(buf, "Set options as OPTIONS=<options> in %s;", configfile);
+X+ #ifdef SCO_CC
+X+     opt_intro[CONFIG_SLOT][0] = 0;
+X+ #else
+X      opt_intro[CONFIG_SLOT] = (const char *) buf;
+X+ #endif
+X      for (i = 0; opt_intro[i]; i++)
+X  	putstr(datawin, 0, opt_intro[i]);
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:18:09 1994
+X--- ./src/mplayer.c	Sat Mar 19 15:14:07 1994
+X***************
+X*** 154,159 ****
+X--- 154,162 ----
+X  		case PM_ELF:
+X  		    weapon = ELVEN_SHORT_SWORD;
+X  		    break;
+X+ 		case PM_GEEK:
+X+ 		    weapon = ELECTRIC_SWORD;
+X+ 		    break;
+X  		case PM_HEALER:
+X  		    weapon = SCALPEL;
+X  		    break;
+X*** /tmp/tmp.1285	Sat May 28 21:18:11 1994
+X--- ./src/objnam.c	Sun May 22 15:09:54 1994
+X***************
+X*** 5,11 ****
+X  #include "hack.h"
+X  
+X  /* "an uncursed partly eaten guardian naga hatchling corpse" */
+X! #define	PREFIX	50
+X  #define SCHAR_LIM 127
+X  
+X  STATIC_DCL char *FDECL(strprepend,(char *,const char *));
+X--- 5,13 ----
+X  #include "hack.h"
+X  
+X  /* "an uncursed partly eaten guardian naga hatchling corpse" */
+X! /* "an uncursed 100% eaten ravenous bugblatter beast of traal corpse" */
+X! /* #define	PREFIX	50 */
+X! #define	PREFIX	120		/* just to be sure */
+X  #define SCHAR_LIM 127
+X  
+X  STATIC_DCL char *FDECL(strprepend,(char *,const char *));
+X***************
+X*** 415,421 ****
+X  {
+X  	boolean ispoisoned = FALSE;
+X  	char prefix[PREFIX];
+X! 	char tmpbuf[PREFIX+1];
+X  	/* when we have to add something at the start of prefix instead of the
+X  	 * end (Strcat is used on the end)
+X  	 */
+X--- 417,423 ----
+X  {
+X  	boolean ispoisoned = FALSE;
+X  	char prefix[PREFIX];
+X! 	char tmpbuf[PREFIX+1],tmpbuf2[PREFIX+1];
+X  	/* when we have to add something at the start of prefix instead of the
+X  	 * end (Strcat is used on the end)
+X  	 */
+X***************
+X*** 440,445 ****
+X--- 442,451 ----
+X  	} else
+X  		Strcpy(prefix, "a ");
+X  
+X+ 	if (obj->selfmade) {
+X+ 		Strcat(prefix,"selfmade ");
+X+ 	}
+X+ 
+X  	if (obj->bknown && 
+X  	    obj->oclass != GOLD_CLASS &&
+X  	    (obj->otyp != POT_WATER || !objects[POT_WATER].oc_name_known
+X***************
+X*** 561,568 ****
+X  		}
+X  		break;
+X  	case FOOD_CLASS:
+X! 		if (obj->oeaten)
+X! 		    Strcat(prefix, "partly eaten ");
+X  		if (obj->otyp == CORPSE) {
+X  		    if (type_is_pname(&mons[obj->corpsenm])) {
+X  			Sprintf(prefix, "%s ",
+X--- 567,582 ----
+X  		}
+X  		break;
+X  	case FOOD_CLASS:
+X! 		if (obj->oeaten) {
+X! /*		    Strcat(prefix, "partly eaten "); */
+X! 		    float total;
+X! 		    total = (float) (obj->otyp == CORPSE) ? 
+X! 			mons[obj->corpsenm].cnutrit :
+X! 			objects[obj->otyp].oc_nutrition ;
+X! 		    sprintf(tmpbuf2,"%2.0f%% eaten ",
+X! 			100.0 - (100.0 * ((float) obj->oeaten) / total));
+X! 		    Strcat(prefix, tmpbuf2);
+X! 		}
+X  		if (obj->otyp == CORPSE) {
+X  		    if (type_is_pname(&mons[obj->corpsenm])) {
+X  			Sprintf(prefix, "%s ",
+X***************
+X*** 1075,1081 ****
+X  	/* find "cloves of garlic", "worthless pieces of blue glass" */
+X  	if ((p = strstri(bp, "s of ")) != 0) {
+X  	    /* but don't singularize "gauntlets" */
+X! 	    if (BSTRNCMP(bp, p-8, "gauntlet", 8))
+X  		while ((*p = *(p+1)) != 0) p++;
+X  	    return bp;
+X  	}
+X--- 1089,1099 ----
+X  	/* find "cloves of garlic", "worthless pieces of blue glass" */
+X  	if ((p = strstri(bp, "s of ")) != 0) {
+X  	    /* but don't singularize "gauntlets" */
+X! 	    if (BSTRNCMP(bp, p-8, "gauntlet", 8)
+X! #ifdef DOUGLAS_ADAMS
+X! 		&& BSTRNCMP(bp, p-7, "peanuts", 7)
+X! #endif
+X! 	    )
+X  		while ((*p = *(p+1)) != 0) p++;
+X  	    return bp;
+X  	}
+X*** /tmp/tmp.1285	Sat May 28 21:18:12 1994
+X--- ./src/pickup.c	Sat Apr 23 14:36:14 1994
+X***************
+X*** 15,20 ****
+X--- 15,22 ----
+X  static void FDECL(check_here, (BOOLEAN_P));
+X  static int FDECL(pickup_object, (struct obj *,struct obj *));
+X  static boolean FDECL(mbag_explodes, (struct obj *,int));
+X+ STATIC_PTR void FDECL(collapse_box_waveform, (struct obj *));
+X+ STATIC_PTR int FDECL(in_container_,(struct obj *,BOOLEAN_P));
+X  STATIC_PTR int FDECL(in_container,(struct obj *));
+X  STATIC_PTR int FDECL(ck_bag,(struct obj *));
+X  STATIC_PTR int FDECL(out_container,(struct obj *));
+X***************
+X*** 652,660 ****
+X  static NEARDATA struct obj *current_container;
+X  #define Icebox (current_container->otyp == ICE_BOX)
+X  
+X  STATIC_PTR int
+X! in_container(obj)
+X  register struct obj *obj;
+X  {
+X  	register struct obj *gold;
+X  	boolean is_gold = (obj->otyp == GOLD_PIECE);
+X--- 654,673 ----
+X  static NEARDATA struct obj *current_container;
+X  #define Icebox (current_container->otyp == ICE_BOX)
+X  
+X+ int put_into_container(struct obj *container, struct obj *obj)
+X+ {
+X+ 	struct obj *t;
+X+ 
+X+ 	t = current_container;
+X+ 	current_container = container;
+X+ 	in_container_(obj,FALSE);
+X+ 	current_container = t;
+X+ }
+X+ 
+X  STATIC_PTR int
+X! in_container_(obj,invobj)
+X  register struct obj *obj;
+X+ boolean invobj;
+X  {
+X  	register struct obj *gold;
+X  	boolean is_gold = (obj->otyp == GOLD_PIECE);
+X***************
+X*** 718,724 ****
+X  		return 0;
+X  	}
+X  
+X! 	freeinv(obj);
+X  
+X  	if (is_gold) {	/* look for other gold within the container */
+X  		for (gold = current_container->cobj; gold; gold = gold->nobj)
+X--- 731,737 ----
+X  		return 0;
+X  	}
+X  
+X! 	if (invobj) freeinv(obj);
+X  
+X  	if (is_gold) {	/* look for other gold within the container */
+X  		for (gold = current_container->cobj; gold; gold = gold->nobj)
+X***************
+X*** 736,742 ****
+X  	current_container->owt = weight(current_container);
+X  
+X  	Strcpy(buf, the(xname(current_container)));
+X! 	You("put %s into %s.", doname(obj), buf);
+X  
+X  	if (floor_container && costly_spot(u.ux, u.uy)) {
+X  		sellobj_state(TRUE);
+X--- 749,755 ----
+X  	current_container->owt = weight(current_container);
+X  
+X  	Strcpy(buf, the(xname(current_container)));
+X! 	if (invobj) You("put %s into %s.", doname(obj), buf);
+X  
+X  	if (floor_container && costly_spot(u.ux, u.uy)) {
+X  		sellobj_state(TRUE);
+X***************
+X*** 780,785 ****
+X--- 793,805 ----
+X  }
+X  
+X  STATIC_PTR int
+X+ in_container(obj)
+X+ register struct obj *obj;
+X+ {
+X+ 	in_container_(obj,TRUE);
+X+ }
+X+ 
+X+ STATIC_PTR int
+X  ck_bag(obj)
+X  struct obj *obj;
+X  {
+X***************
+X*** 864,869 ****
+X--- 884,911 ----
+X  	return 1;
+X  }
+X  
+X+ STATIC_PTR void
+X+ collapse_box_waveform(obj)
+X+ register struct obj *obj;
+X+ {
+X+ 	struct obj *otmp;
+X+ 
+X+ 	pline("The waveform of the box collapses. ");
+X+ 	obj->otyp = LARGE_BOX;
+X+ 	
+X+ 	otmp = mksobj(POT_RADIUM,TRUE,FALSE);
+X+ 	put_into_container(obj,otmp);
+X+ 
+X+ 	if (rn2(100) > 50) {
+X+ 		otmp = mkcorpstat_(CORPSE,PM_SCHROEDINGER_S_CAT,TRUE);
+X+ 		put_into_container(obj,otmp);
+X+ 	} else {
+X+ 		otmp = mksobj(POT_CYANIDE,TRUE,FALSE);
+X+ 		put_into_container(obj,otmp);
+X+ 		makemon(&mons[PM_SCHROEDINGER_S_CAT],u.ux,u.uy);
+X+ 	}
+X+ }
+X+ 
+X  /* for getobj: allow counts, allow all types, expect food */
+X  static NEARDATA const char frozen_food[] =
+X  	{ ALLOW_COUNT, ALL_CLASSES, FOOD_CLASS, 0 };
+X***************
+X*** 882,887 ****
+X--- 924,931 ----
+X  	long loss = 0L;
+X  	register struct monst *shkp;
+X  
+X+ 	if (obj->otyp == SCHROEDINGER_S_BOX) collapse_box_waveform(obj);
+X+ 
+X  	current_container = obj;	/* for use by in/out_container */
+X  	if (current_container->olocked) {
+X  		pline("%s seems to be locked.", The(xname(current_container)));
+X***************
+X*** 889,899 ****
+X  		return 0;
+X  	}
+X  	/* Count the number of contained objects. Sometimes toss objects if */
+X! 	/* a cursed magic bag.						    */
+X  	prev = (struct obj *) 0;
+X  	for (curr = obj->cobj; curr; curr = otmp) {
+X  	    otmp = curr->nobj;
+X! 	    if (Is_mbag(obj) && obj->cursed && !rn2(13)) {
+X  		if (curr->known)
+X  		    pline("%s to have vanished!", The(aobjnam(curr,"seem")));
+X  		else
+X--- 933,944 ----
+X  		return 0;
+X  	}
+X  	/* Count the number of contained objects. Sometimes toss objects if */
+X! 	/* a cursed magic bag or a bag of digestion			    */
+X  	prev = (struct obj *) 0;
+X  	for (curr = obj->cobj; curr; curr = otmp) {
+X  	    otmp = curr->nobj;
+X! 	    if ((Is_mbag(obj) && obj->cursed && !rn2(13)) || 
+X! 		 (obj->otyp == BAG_OF_DIGESTION && !rn2(obj->blessed ? 20 : (obj->cursed ? 2 : 10)))) {
+X  		if (curr->known)
+X  		    pline("%s to have vanished!", The(aobjnam(curr,"seem")));
+X  		else
+X*** /tmp/tmp.1285	Sat May 28 21:18:13 1994
+X--- ./src/pager.c	Wed Mar 30 16:54:06 1994
+X***************
+X*** 570,576 ****
+X  }
+X  
+X  /* data for help_menu() */
+X! static const char *help_menu_items[] = {
+X  	"Information available:",
+X  	"",
+X  	"a.  Long description of the game and commands.",
+X--- 570,576 ----
+X  }
+X  
+X  /* data for help_menu() */
+X! static /* const */ char *help_menu_items[] = {
+X  	"Information available:",
+X  	"",
+X  	"a.  Long description of the game and commands.",
+X*** /tmp/tmp.1285	Sat May 28 21:18:16 1994
+X--- ./src/pray.c	Wed Apr 13 19:22:55 1994
+X***************
+X*** 38,43 ****
+X--- 38,44 ----
+X  {'C', /* Babylonian */		"Anu", "Ishtar", "Anshar"},
+X  {'E', /* Elven */		"Solonor Thelandira",
+X  					"Aerdrie Faenya", "Erevan Ilesere"},
+X+ {'G', /* Computerian */		"UNIX", "the PDP-7", "VMS"},
+X  {'H', /* Greek */		"Athena", "Hermes", "Poseidon"},
+X  {'K', /* Celtic */		"Lugh", "Brigit", "Macannan Mac Lir"},
+X  {'P', /* Chinese */		"Shan Lai Ching", "Chih Sung-tzu", "Huan Ti"},
+X***************
+X*** 660,666 ****
+X  		    verbalize("Thou shalt be my Envoy of Balance!");
+X  		    if (uwep && uwep->oartifact == ART_VORPAL_BLADE) {
+X  			obj = uwep;	/* to be blessed and rustproofed */
+X! 			Your("%s goes snicker-snack!", xname(obj));
+X  			obj->dknown = TRUE;
+X  		    } else if (!exist_artifact(LONG_SWORD,
+X  						artiname(ART_VORPAL_BLADE))) {
+X--- 661,669 ----
+X  		    verbalize("Thou shalt be my Envoy of Balance!");
+X  		    if (uwep && uwep->oartifact == ART_VORPAL_BLADE) {
+X  			obj = uwep;	/* to be blessed and rustproofed */
+X! 			/* Your("%s goes snicker-snack!", xname(obj)); */
+X! 			/* snicker-snack is now for Jabberwock decapitation. */
+X! 			You("take your vorpal sword in hand.");
+X  			obj->dknown = TRUE;
+X  		    } else if (!exist_artifact(LONG_SWORD,
+X  						artiname(ART_VORPAL_BLADE))) {
+X*** /tmp/tmp.1285	Sat May 28 21:18:18 1994
+X--- ./src/potion.c	Sun May 22 20:05:04 1994
+X***************
+X*** 182,187 ****
+X--- 182,202 ----
+X  	}
+X  }
+X  
+X+ /* For game balance we don't always want a bottle made. */
+X+ static void make_bottle(boolean certain)
+X+ {
+X+ 	struct obj *otmp;
+X+ 
+X+ 	if (certain || !rn2(8)) {
+X+ 		otmp = mksobj(BOTTLE,TRUE,TRUE);
+X+ /* We do not transfer curses/blessings, assuming that these a property
+X+ ** of the actual potion, not the bottle. */
+X+ 		otmp->cursed = otmp->blessed = FALSE;
+X+ 		You("are left with the empty bottle.");
+X+ 		hold_another_object(otmp,"Oops! It drops to the floor!",(const char *) 0, (const char *) 0);
+X+ 	}
+X+ }
+X+ 
+X  static void
+X  ghost_from_bottle()
+X  {
+X***************
+X*** 189,194 ****
+X--- 204,210 ----
+X  
+X  	if (!mtmp) {
+X  		pline("This bottle turns out to be empty.");
+X+ 		make_bottle(TRUE);
+X  		return;
+X  	}
+X  	if (Blind) {
+X***************
+X*** 201,206 ****
+X--- 217,223 ----
+X  	    You("are frightened to death, and unable to move.");
+X  	nomul(-3);
+X  	nomovemsg = "You regain your composure.";
+X+ 	make_bottle(FALSE);
+X  }
+X  
+X  int
+X***************
+X*** 269,274 ****
+X--- 286,292 ----
+X  			docall(otmp);
+X  	}
+X  	useup(otmp);
+X+ 	make_bottle(FALSE);
+X  	return(1);
+X  }
+X  
+X***************
+X*** 278,283 ****
+X--- 296,323 ----
+X  {
+X  	register int i, ii, isdone;
+X  
+X+ 	if (otmp->selfmade && !(5-rnl(6))) {
+X+ 		pline("That potion was bad!");
+X+ 		switch(rnl(5)) {
+X+ 			case 0:
+X+ 			case 1:
+X+ 			case 2:
+X+ 				break;
+X+ 
+X+ 			case 3:
+X+ 				if (Poison_resistance) break;
+X+ 				You("feel sick.");
+X+ 				losehp(rnd(20),"bad chemical knowledge",KILLED_BY);
+X+ 				break;
+X+ 
+X+ 			case 4:
+X+ 				make_sick((long)(10+rn2(10)),FALSE);
+X+ 				u.usick_cause = "a bad potion";
+X+ 				break;
+X+ 		}
+X+ 		return(-1);
+X+ 	}
+X+ 
+X  	switch(otmp->otyp){
+X  	case POT_RESTORE_ABILITY:
+X  	case SPE_RESTORE_ABILITY:
+X***************
+X*** 382,389 ****
+X  		break;
+X  	case POT_ENLIGHTENMENT:
+X  		if(otmp->cursed) {
+X  			unkn++;
+X! 			You("have an uneasy feeling...");
+X  		} else {
+X  			if (otmp->blessed) {
+X  				(void) adjattrib(A_INT, 1, FALSE);
+X--- 422,438 ----
+X  		break;
+X  	case POT_ENLIGHTENMENT:
+X  		if(otmp->cursed) {
+X+ 			int x,y;
+X+ 
+X  			unkn++;
+X! /* I've got a better idea :-) */
+X! /*			You("have an uneasy feeling..."); */
+X! 			You("feel enlightened.");
+X! 			for (x=1;x<COLNO;x++) {
+X! 				for (y=0;y<ROWNO;y++) {
+X! 					levl[x][y].lit = TRUE;
+X! 				}
+X! 			}			
+X  		} else {
+X  			if (otmp->blessed) {
+X  				(void) adjattrib(A_INT, 1, FALSE);
+X***************
+X*** 659,664 ****
+X--- 708,826 ----
+X  			exercise(A_WIS, TRUE);
+X  		}
+X  		break;
+X+ 	case POT_CYANIDE:
+X+ 		pline("CN(-) + HCl <==> HCN + Cl(-) ");
+X+ 		killer_format = KILLED_BY;
+X+ 		killer = "drinking cyanide";
+X+ 		done(DIED);
+X+ 		break;
+X+ 	case POT_RADIUM:
+X+ 		pline("This was radioactive radium!");
+X+ 		make_sick(10,TRUE);
+X+ 		break;
+X+ 	case POT_JOLT_COLA:
+X+ 		You("are jolted back to your senses.");
+X+ 		if (otmp->cursed) {
+X+ 			You("feel bad.");
+X+ 			u.uhp -= rn2(10);
+X+ 			if (u.uhp < 1) u.uhp = 1;	/* can't kill you */
+X+ 		} else {
+X+ 			if (Hallucination) make_hallucinated(0L,FALSE,0L);
+X+ 			if (otmp->blessed && !rn2(10)) {
+X+ 				pluslvl();
+X+ 			} else {
+X+ 				u.uhp += 5;
+X+ 				if (u.uhp > u.uhpmax) {
+X+ 					if (otmp->blessed) u.uhpmax++;
+X+ 					u.uhp = u.uhpmax;
+X+ 				}
+X+ 			}
+X+ 		}
+X+ 		break;
+X+ 
+X+ 	case POT_EXTREME_POWER:
+X+ 	{
+X+ 		int x;
+X+ 
+X+ 		x = rn2(otmp->blessed ? 20 : 10) + 1;
+X+ 		if (otmp->cursed) {
+X+ 			unkn++;
+X+ 			You("have a bad taste in your mouth.");
+X+ 			if (x >= u.uhp) x = u.uhp-1;
+X+ 			losehp(x,"",0);		/* can't kill you */
+X+ 			u.uhpmax -= x;
+X+ 			break;
+X+ 		}
+X+ 		You("feel %spowerful!",otmp->blessed ? "very " : "");
+X+ 		u.uhp += x;
+X+ 		u.uhpmax += x;
+X+ 	} break;
+X+ 
+X+ 	case POT_RECOVERY: 
+X+ 		if (otmp->cursed) {
+X+ 			unkn++;
+X+ 			You("decide to recover yourself.");
+X+ 			pline("Nothing happens, however.");
+X+ 			break;
+X+ 		}	
+X+ 		if (otmp->blessed) u.uhpmax += rn2(5);
+X+ 		u.uhp = u.uhpmax;
+X+ 		You("feel much, much better.");
+X+ 		break;
+X+ 
+X+ 	case POT_INVULNERABILITY:
+X+ 		if (otmp->cursed) {
+X+ 			You("feel invulnerable for a moment.");
+X+ 			break;
+X+ 		}	
+X+ 		You("are surrounded by a shimmering light.");
+X+ 		u.uinvul_time = 5 + rn2(otmp->blessed ? 20 : 10);
+X+ 		u.uinvulnerable = TRUE;
+X+ 		break;
+X+ 
+X+ 	case POT_HEROISM: {
+X+ 		/* a total overhaul ... */
+X+ 		int time;
+X+ 
+X+ 		if (otmp->cursed) {
+X+ 			You("feel cowardly.");
+X+ 			if (u.uinvul_time > 1) u.uinvul_time = 1;
+X+ 			break;
+X+ 		}
+X+ 		You("are surrounded by a strong shimmering aura.");
+X+ 		time = 10 + rn2(otmp->blessed ? 20 : 10);
+X+ 		u.uinvul_time += time;
+X+ 		u.uinvulnerable = TRUE;
+X+ 		Fast += time;
+X+ 		HSee_invisible += time;
+X+ 		if (!rnl(3)) make_blinded(Blinded+time,TRUE);	
+X+ 		u.uhpmax += rn2(5);
+X+ 		u.uhp = u.uhpmax;
+X+ 		} break;
+X+ 
+X+ 	case POT_PAN_GALACTIC_GARGLE_BLASTE:
+X+ 		You("feel like having your brain smashed out by a slice of lemon wrapped");
+X+ 		pline("around a large gold brick.");
+X+ 		if (otmp->cursed || !rn2(4)) {
+X+ 			adjattrib(A_INT,-1,-1);
+X+ 		}
+X+ 		make_confused(HConfusion + d(6,7));	/* 6d7 is max. 42 */
+X+ 		if (otmp->blessed || !rn2(4) || u.ulycn != -1) {
+X+ 			if (u.ulycn != -1) {
+X+ 				You("feel purified.");
+X+ 				if (uasmon == &mons[u.ulycn]) {
+X+ 					rehumanize();
+X+ 				}
+X+ 				u.ulycn = -1;
+X+ 			}
+X+ 			You("feel remembered of %s.",
+X+ 			Hallucination ? "Zaphod Breeblebrox"
+X+ 				      : "very, very strong liquor.");
+X+ 			if (u.uhp < u.uhpmax) u.uhp++;
+X+ 			pline("Strangely, you feel better that before.");
+X+ 		}
+X+ 		break;	
+X+ 				
+X  	default:
+X  		impossible("What a funny potion! (%u)", otmp->otyp);
+X  		return(0);
+X***************
+X*** 769,774 ****
+X--- 931,955 ----
+X  		if (canseemon(mon))
+X  		    pline("%s looks rather ill.", Monnam(mon));
+X  		break;
+X+ 	case POT_CYANIDE:
+X+ 		if (!resist(mon,POTION_CLASS,0,NOTELL)) {
+X+ 			if (mon->mhp < 10) {
+X+ 				killed(mon);
+X+ 			} else {
+X+ 				mon->mhp = 1;
+X+ 			}
+X+ 		}
+X+ 		if (canseemon(mon)) {
+X+ 			pline("%s looks very, very sick.", Monnam(mon));
+X+ 		}
+X+ 		break;
+X+ 	case POT_RADIUM:
+X+ 		if (!resist(mon,POTION_CLASS,0,NOTELL)) {
+X+ 			mon->mhp /= 4;
+X+ 			if (mon->mhp < 1) killed(mon);
+X+ 		}
+X+ 		if (canseemon(mon)) pline("%s looks very sick.",Monnam(mon));
+X+ 		break;
+X  	case POT_CONFUSION:
+X  	case POT_BOOZE:
+X  		if(!resist(mon, POTION_CLASS, 0, NOTELL))  mon->mconf = TRUE;
+X***************
+X*** 888,893 ****
+X--- 1069,1088 ----
+X  			exercise(A_CON, FALSE);
+X  		}
+X  		break;
+X+ 	case POT_CYANIDE:
+X+ 		if (u.uhp < 10) {
+X+ 			/* DEATH */
+X+ 			losehp(10,"a potion of cyanide",KILLED_BY);
+X+ 		} else {
+X+ 			u.uhp = 1;
+X+ 		}
+X+ 		You("feel very, very sick!");
+X+ 		break;
+X+ 	case POT_RADIUM:
+X+ 		u.uhp /= 4;
+X+ 		if (u.uhp < 1) u.uhp = 1;		/* be generous */
+X+ 		You("feel very sick!");
+X+ 		break;
+X  	case POT_HALLUCINATION:
+X  		You("have a momentary vision.");
+X  		break;
+X***************
+X*** 956,961 ****
+X--- 1151,1157 ----
+X  		case POT_HALLUCINATION:
+X  		case POT_BLINDNESS:
+X  		case POT_CONFUSION:
+X+ 		case POT_CYANIDE:
+X  			if (o2->otyp == POT_HEALING ||
+X  			    o2->otyp == POT_EXTRA_HEALING)
+X  				return TRUE;
+X***************
+X*** 965,971 ****
+X  			if (o2->otyp == POT_SICKNESS ||
+X  			    o2->otyp == POT_HALLUCINATION ||
+X  			    o2->otyp == POT_BLINDNESS ||
+X! 			    o2->otyp == POT_CONFUSION)
+X  				return TRUE;
+X  	}
+X  
+X--- 1161,1168 ----
+X  			if (o2->otyp == POT_SICKNESS ||
+X  			    o2->otyp == POT_HALLUCINATION ||
+X  			    o2->otyp == POT_BLINDNESS ||
+X! 			    o2->otyp == POT_CONFUSION ||
+X! 			    o2->otyp == POT_CYANIDE)
+X  				return TRUE;
+X  	}
+X  
+X***************
+X*** 1021,1026 ****
+X--- 1218,1231 ----
+X  			obj->otyp = SCR_BLANK_PAPER;
+X  			return TRUE;
+X  		} else break;
+X+ 	    case TOOL_CLASS:
+X+ 		if (obj->otyp == BOTTLE) {
+X+ 			pline("The bottle%s filled with water.",obj->quan > 1 ? "s are" : " is");
+X+ 			obj->oclass = POTION_CLASS;
+X+ 			obj->otyp = POT_WATER;
+X+ 			/* retain curses/blessings etc. */
+X+ 			return(TRUE);
+X+ 		} else break;
+X  	    case SPBOOK_CLASS:
+X  		if (obj->otyp != SPE_BLANK_PAPER) {
+X  
+X***************
+X*** 1235,1240 ****
+X--- 1440,1446 ----
+X  
+X  	if(!(mtmp = makemon(&mons[PM_DJINNI], u.ux, u.uy))){
+X  		pline("It turns out to be empty.");
+X+ 		make_bottle(TRUE);
+X  		return;
+X  	}
+X  
+X***************
+X*** 1265,1270 ****
+X--- 1471,1477 ----
+X  	default: verbalize("You disturbed me, fool!");
+X  		break;
+X  	}
+X+ 	make_bottle(FALSE);
+X  }
+X  
+X  #endif /* OVLB */
+X*** /tmp/tmp.1285	Sat May 28 21:18:21 1994
+X--- ./src/questpgr.c	Thu Mar 24 12:58:50 1994
+X***************
+X*** 182,187 ****
+X--- 182,193 ----
+X  	  PM_URUK_HAI, PM_OGRE, S_ORC, S_OGRE,
+X  	  ART_PALANTIR_OF_WESTERNESSE },
+X  
+X+ /* G */ { "the Microsoft headquarter",
+X+ 	  "the Development Team's location",
+X+ 	  PM_THE_DEV_TEAM, PM_BILL_GATES, PM_HACKER,
+X+ 	  PM_BUG, PM_GRID_BUG,S_XAN,S_EYE,
+X+ 	  ART_NETHACK_SOURCES },
+X+ 	
+X  /* H */ { "the Temple of Coeus",
+X  	  "the Temple of Epidaurus",
+X  	  PM_HIPPOCRATES, PM_CYCLOPS, PM_ATTENDANT,
+X***************
+X*** 244,263 ****
+X  	    case 'B':	return(1);
+X  	    case 'C':	return(2);
+X  	    case 'E':	return((unsigned)(3+flags.female));
+X! 	    case 'H':	return(5);
+X! 	    case 'K':	return(6);
+X! 	    case 'P':	return(7);
+X! 	    case 'R':	return(8);
+X! 	    case 'S':	return(9);
+X  #ifdef TOURIST
+X! 	    case 'T':	return(10);
+X  	    case 'V':	return(11);
+X  	    case 'W':	return(12);
+X  	    default:	return(13);
+X- #else
+X- 	    case 'V':	return(10);
+X- 	    case 'W':	return(11);
+X- 	    default:	return(12);
+X  #endif
+X  	}
+X  }
+X--- 250,270 ----
+X  	    case 'B':	return(1);
+X  	    case 'C':	return(2);
+X  	    case 'E':	return((unsigned)(3+flags.female));
+X! 	    case 'G':	return(5);
+X! 	    case 'H':	return(6);
+X! 	    case 'K':	return(7);
+X! 	    case 'P':	return(8);
+X! 	    case 'R':	return(9);
+X! 	    case 'S':	return(10);
+X  #ifdef TOURIST
+X! 	    case 'T':	return(11);
+X! 	    case 'V':	return(12);
+X! 	    case 'W':	return(13);
+X! 	    default:	return(14);
+X! #else
+X  	    case 'V':	return(11);
+X  	    case 'W':	return(12);
+X  	    default:	return(13);
+X  #endif
+X  	}
+X  }
+X***************
+X*** 369,374 ****
+X--- 376,387 ----
+X  	    case 'L':	str = "lawful";
+X  			break;
+X  	    case 'x':	str = Blind ? "sense" : "see";
+X+ 			break;
+X+ 	    case 'm':	str = (pl_character[0] == 'E') ? "Eru Iluvatar" : 
+X+ 		((pl_character[0] == 'G') ? "team of Babbage, Zuse and Turing": 
+X+ 		"Marduk" );
+X+ 			break;
+X+ 	    case 'M':	str = (pl_character[0] == 'G') ? "Them" : "Him";
+X  			break;
+X  	    case '%':	str = "%";
+X  			break;
+X*** /tmp/tmp.1285	Sat May 28 21:18:23 1994
+X--- ./src/rumors.c	Sun Dec 26 22:07:05 1993
+X***************
+X*** 131,149 ****
+X  outrumor(truth, cookie)
+X  int truth; /* 1=true, -1=false, 0=either */
+X  boolean cookie;
+X  {
+X  	static const char fortune_msg[] =
+X  		"This cookie has a scrap of paper inside.";
+X  	const char *line;
+X  
+X  	if (cookie && Blind) {
+X! 		pline(fortune_msg);
+X  		pline("What a pity that you cannot read it!");
+X  		return;
+X  	}
+X  	line = getrumor(truth);
+X  	if (!*line)
+X  		line = "NetHack rumors file closed for renovation.";
+X  	if (cookie) {
+X  		pline(fortune_msg);
+X  		pline("It reads:");
+X--- 131,175 ----
+X  outrumor(truth, cookie)
+X  int truth; /* 1=true, -1=false, 0=either */
+X  boolean cookie;
+X+ #ifdef DOUGLAS_ADAMS
+X+ /* or magic cookie (no pun intended) 42 for HHGTTG */
+X+ #endif
+X  {
+X  	static const char fortune_msg[] =
+X  		"This cookie has a scrap of paper inside.";
+X  	const char *line;
+X  
+X  	if (cookie && Blind) {
+X! #ifdef DOUGLAS_ADAMS
+X! 		if (cookie != 42)
+X! #endif
+X! 			pline(fortune_msg);
+X  		pline("What a pity that you cannot read it!");
+X  		return;
+X  	}
+X  	line = getrumor(truth);
+X  	if (!*line)
+X  		line = "NetHack rumors file closed for renovation.";
+X+ 
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	switch(cookie) {
+X+ 		case 42:		/* HHGttG */
+X+ 			pline(line);
+X+ 			break;
+X+ 
+X+ 		case 0:			/* Oracle */
+X+ 			pline("True to her word, the Oracle casually says: ");
+X+ 			verbalize("%s",line);
+X+ 			exercise(A_WIS, TRUE);
+X+ 			break;
+X+ 
+X+ 		default:		/* cookie */
+X+ 			pline(fortune_msg);
+X+ 			pline("It reads:");
+X+ 			pline("%s", line);
+X+ 			break;
+X+ 	}
+X+ #else
+X  	if (cookie) {
+X  		pline(fortune_msg);
+X  		pline("It reads:");
+X***************
+X*** 155,160 ****
+X--- 181,187 ----
+X  		verbalize("%s", line);
+X  		exercise(A_WIS, TRUE);
+X  	}
+X+ #endif
+X  }
+X  
+X  static void
+X*** /tmp/tmp.1285	Sat May 28 21:18:24 1994
+X--- ./src/read.c	Thu Apr 21 17:30:00 1994
+X***************
+X*** 25,30 ****
+X--- 25,31 ----
+X  static void FDECL(p_glow1,(struct obj *));
+X  static void FDECL(p_glow2,(struct obj *,const char *));
+X  static void FDECL(forget,(BOOLEAN_P));
+X+ static void FDECL(undo_genocide,(void));
+X  
+X  #endif /* OVLB */
+X  
+X***************
+X*** 52,57 ****
+X--- 53,60 ----
+X  	    outrumor(bcsign(scroll), TRUE);
+X  	    useup(scroll);
+X  	    return(1);
+X+ 	} else if (scroll->otyp == PACK_OF_FLOPPIES) {
+X+ 		use_floppies(scroll);
+X  	} else if (scroll->oclass != SCROLL_CLASS
+X  		&& scroll->oclass != SPBOOK_CLASS) {
+X  	    pline(silly_thing_to, "read");
+X***************
+X*** 282,287 ****
+X--- 285,291 ----
+X  	    case HORN_OF_PLENTY:
+X  	    case BAG_OF_TRICKS:
+X  	    case CAN_OF_GREASE:
+X+ 	    case CHEMISTRY_SET:
+X  		if (is_cursed) stripspe(obj);
+X  		else if (is_blessed) {
+X  		    if (obj->spe <= 10)
+X***************
+X*** 823,828 ****
+X--- 827,951 ----
+X  		}
+X  		punish(sobj);
+X  		break;
+X+ 	case SCR_MASS_MURDER:
+X+ 		known = TRUE;
+X+ 		You("have found a scroll of mass murder.");
+X+ 		do_genocide(sobj->cursed ? 4 : 5);
+X+ 		break;
+X+ 	case SCR_UNDO_GENOCIDE:
+X+ 		known = TRUE;
+X+ 		You("have found a scroll of undo genocide.");
+X+ 		undo_genocide();
+X+ 		break;
+X+ 	case SCR_REVERSE_IDENTIFY:
+X+ 		known = TRUE;
+X+ 		You("have found a scroll of reverse identify.");
+X+ 		{
+X+ 			int i,j,n;
+X+ 			long oldgold;
+X+ 			char buf[BUFSZ];
+X+ 
+X+ 			n = (sobj->blessed) ? rn2(5)+1 : 1;
+X+ 			for (i=0;i<n;i++) {
+X+ 				for (j=0;j<=5;j++) {
+X+ 					if (j >= 5) {
+X+ 						pline(thats_enough_tries);
+X+ 						goto revid_end;
+X+ 					}
+X+ 					getlin("What do you want to identify?",buf);
+X+ 					if (buf[0] == 0) continue;
+X+ 					oldgold = u.ugold;
+X+ 					otmp = readobjnam(buf);
+X+ 					if (u.ugold != oldgold) {
+X+ pline("Don't you date cheat me again! -- Your fault!");
+X+ 						/* Make them pay */
+X+ 						u.ugold = oldgold / 2;
+X+ 						continue;
+X+ 					}
+X+ 					if (otmp == &zeroobj || otmp == (struct obj *) 0) {
+X+ 						pline("That doesn't exist.");
+X+ 						continue;
+X+ 					}
+X+ 					break;
+X+ 				}
+X+ 				strcpy(buf,xname(otmp));
+X+ 				makeknown(otmp->otyp);
+X+ 				pline("The %s is a %s.",buf,xname(otmp));
+X+ 				if (otmp->oartifact) artifact_unexist(otmp);
+X+ 			}
+X+ 		}
+X+ revid_end:
+X+ 		break;
+X+ 
+X+ /*
+X+ 	case SCR_WISHING: 
+X+ 		known = TRUE;
+X+ 		pline("You have found a scroll of wishing!");
+X+ 		if (sobj->cursed || (!sobj->blessed && Luck+rn2(5) < 0)) {
+X+ 			pline("Unfortuantely, nothing happens.");
+X+ 			break;
+X+ 		}
+X+ 		makewish();
+X+ 		break;
+X+ */
+X+ 
+X+ 	case SCR_CONSECRATION:
+X+ 	{
+X+ 		aligntyp al,ual;
+X+ 		char c;
+X+ 		char a;
+X+ 		int x,y;
+X+ 
+X+ 		if (Is_astralevel(&u.uz)) {
+X+ 			You("sense the wrath of the gods.");
+X+ 			u.ualign.record--;
+X+ 			break;
+X+ 		}
+X+ 		if (levl[u.ux][u.uy].typ != ROOM) {
+X+ 			pline("You feel claustrophobic!");
+X+ 			break;
+X+ 		}
+X+ 		known = TRUE;
+X+ 		pline("You build an altar.");
+X+ 		if (is_demon(uasmon)) {
+X+ 			al = A_CHAOTIC;
+X+ 		} else if (sobj->cursed) {
+X+ 			al = A_NONE;
+X+ 		} else if (sobj->blessed) {
+X+ 			ual = u.ualign.type;
+X+ 			a = (ual==A_LAWFUL) ? 'l' : ((ual==A_NEUTRAL) ? 'n' : 'c');
+X+ 			c = yn_function("Which alignment do you want to consectrate the altar to?","lncm",a);
+X+ 			al = A_NONE;
+X+ 			switch (c) {
+X+ 				case 'l':
+X+ 					al = A_LAWFUL;		break;
+X+ 				case 'n':
+X+ 					al = A_NEUTRAL;		break;
+X+ 				case 'c':
+X+ 					al = A_CHAOTIC;		break;
+X+ 				case 'm':
+X+ 					al = A_NONE;		break;
+X+ 			}
+X+ 		} else {
+X+ 			al = u.ualign.type;
+X+ 		}
+X+ 		pline("Pronouncing arcane formulas, you consecrate the altar to %s.",(al == A_NONE) ? "Moloch" : align_gname(al));
+X+ 		levl[u.ux][u.uy].typ = ALTAR;
+X+ 		levl[u.ux][u.uy].altarmask = Align2amask(al);
+X+ 		x = (al == ual) ? 1 : ((al == A_NONE) ? -3 : -1);
+X+ 		y = -rn2(x * 100);
+X+ 		u.ualign.record += x;
+X+ 		u.ublesscnt += y;
+X+ 		if (u.ublesscnt < 0) u.ublesscnt = 0;
+X+ 		pline("You feel %s%scomfortable.",(abs(x)>1) ? "very " : "", (x<0) ? "un" : "");
+X+ 	} break;
+X+ 
+X+ 	case SCR_ROOT_PASSWORD_DETECTION:
+X+ 		You("sense the computer's root password.");
+X+ 		pline("It is: %s.", sobj->cursed ? "jsdfljfdsh" : (sobj->blessed ? "memalezu" : "xyzzy"));
+X+ 		pline("(No warranty implied.)");
+X+ 		break;
+X+ 
+X  	default:
+X  		impossible("What weird effect is this? (%u)", sobj->otyp);
+X  	}
+X***************
+X*** 1019,1032 ****
+X  
+X  #define REALLY 1
+X  #define PLAYER 2
+X  void
+X  do_genocide(how)
+X  int how;
+X  /* 0 = no genocide; create monsters (cursed scroll) */
+X  /* 1 = normal genocide */
+X  /* 3 = forced genocide of player */
+X  {
+X! 	char buf[BUFSZ];
+X  	register int	i, j, killplayer = 0;
+X  	register struct permonst *ptr;
+X  	register struct monst *mtmp, *mtmp2;
+X--- 1142,1157 ----
+X  
+X  #define REALLY 1
+X  #define PLAYER 2
+X+ #define MASS_MURDER 4
+X  void
+X  do_genocide(how)
+X  int how;
+X  /* 0 = no genocide; create monsters (cursed scroll) */
+X  /* 1 = normal genocide */
+X  /* 3 = forced genocide of player */
+X+ /* x|4 = mass murder; no genocide */
+X  {
+X! 	char buf[BUFSZ],bx[BUFSZ];
+X  	register int	i, j, killplayer = 0;
+X  	register struct permonst *ptr;
+X  	register struct monst *mtmp, *mtmp2;
+X***************
+X*** 1041,1048 ****
+X  		    pline(thats_enough_tries);
+X  		    return;
+X  		}
+X! 		getlin("What monster do you want to genocide? [type the name]",
+X! 			buf);
+X  
+X  		i = name_to_mon(buf);
+X  		if(i == -1 || (mons[i].geno & G_GENOD)) {
+X--- 1166,1173 ----
+X  		    pline(thats_enough_tries);
+X  		    return;
+X  		}
+X! 		sprintf(bx,"What monster do you want to %s? [type the name]",(how & MASS_MURDER) ? "mass murder" : "genocide");
+X! 		getlin(bx,buf);
+X  
+X  		i = name_to_mon(buf);
+X  		if(i == -1 || (mons[i].geno & G_GENOD)) {
+X***************
+X*** 1081,1091 ****
+X  	    }
+X  	} else Strcpy(buf,ptr->mname); /* make sure we have standard singular */
+X  	if (how & REALLY) {
+X! 	    pline("Wiped out all %s.", makeplural(buf));
+X  	    if(killplayer) {
+X  		u.uhp = -1;
+X  		killer_format = KILLED_BY_AN;
+X! 		killer = "genocide spell";
+X  #ifdef POLYSELF
+X  	/* Polymorphed characters will die as soon as they're rehumanized. */
+X  		if(u.umonnum >= 0)	You("feel dead inside.");
+X--- 1206,1216 ----
+X  	    }
+X  	} else Strcpy(buf,ptr->mname); /* make sure we have standard singular */
+X  	if (how & REALLY) {
+X! 	    pline("%s all %s.",(how & MASS_MURDER) ? "Killed" : "Wiped out", makeplural(buf));
+X  	    if(killplayer) {
+X  		u.uhp = -1;
+X  		killer_format = KILLED_BY_AN;
+X! 		killer = (how & MASS_MURDER) ? "mass murder spell " : "genocide spell";
+X  #ifdef POLYSELF
+X  	/* Polymorphed characters will die as soon as they're rehumanized. */
+X  		if(u.umonnum >= 0)	You("feel dead inside.");
+X***************
+X*** 1097,1103 ****
+X  #ifdef POLYSELF
+X  	    else if (ptr == uasmon) rehumanize();
+X  #endif
+X! 	    ptr->geno |= G_GENOD;
+X  	    for(mtmp = fmon; mtmp; mtmp = mtmp2) {
+X  		mtmp2 = mtmp->nmon;
+X  		if(mtmp->data == ptr)
+X--- 1222,1228 ----
+X  #ifdef POLYSELF
+X  	    else if (ptr == uasmon) rehumanize();
+X  #endif
+X! 	    if (!(how & MASS_MURDER)) ptr->geno |= G_GENOD;
+X  	    for(mtmp = fmon; mtmp; mtmp = mtmp2) {
+X  		mtmp2 = mtmp->nmon;
+X  		if(mtmp->data == ptr)
+X***************
+X*** 1115,1120 ****
+X--- 1240,1272 ----
+X  			dealloc_obj(otmp);
+X  		}
+X  	    }
+X+ 	}
+X+ }
+X+ 
+X+ void undo_genocide(void)
+X+ {
+X+ 	int i;
+X+ 	char buf[BUFSZ];
+X+ 	int mn;
+X+ 
+X+ 	for (i=0;i<5;i++) {
+X+ 		if (i >= 5) {
+X+ 			pline(thats_enough_tries);
+X+ 			return;
+X+ 		}
+X+ 		getlin("Which monster do you want to ungenocide [type the name]",buf);
+X+ 		mn = name_to_mon(buf);
+X+ 		if (mn == -1) {
+X+ 			pline("Such creatures do not exist in this world.");
+X+ 			continue;
+X+ 		}
+X+ 		if (!(mons[mn].geno & G_GENOD)) {
+X+ 			pline("This creature has not been genocided.");
+X+ 			continue;
+X+ 		}
+X+ 		mons[mn].geno &= ~G_GENOD;
+X+ 		pline("The race of %s now exist again.",makeplural(buf));
+X+ 		break;
+X  	}
+X  }
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:18:29 1994
+X--- ./src/shk.c	Sun May 22 19:33:48 1994
+X***************
+X*** 2287,2292 ****
+X--- 2287,2293 ----
+X  		break;
+X  	}
+X  	if (obj->oartifact) tmp *= 25L;
+X+ 	if (obj->otyp == IC && obj->cursed) tmp /= 20L;	
+X  	return tmp;
+X  }
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:18:32 1994
+X--- ./src/sp_lev.c	Wed Mar 30 22:14:05 1994
+X***************
+X*** 10,16 ****
+X   */
+X  
+X  #include "hack.h"
+X! /*#define DEBUG 	/* uncomment to enable code debugging */
+X  
+X  #ifdef DEBUG
+X  # ifdef WIZARD
+X--- 10,16 ----
+X   */
+X  
+X  #include "hack.h"
+X! /* #define DEBUG 	/* uncomment to enable code debugging */
+X  
+X  #ifdef DEBUG
+X  # ifdef WIZARD
+X***************
+X*** 714,719 ****
+X--- 714,732 ----
+X  	mktrap(t->type, 1, (struct mkroom*) 0, &tm);
+X  }
+X  
+X+ #ifdef DEBUG
+X+ static void
+X+ dump_monster(monster *m)
+X+ {
+X+ 	if (!m) {
+X+ 		debugpline("MONSTER: (null)");
+X+ 		return;
+X+ 	}
+X+ 
+X+ 	debugpline("MONSTER %lx:'%c',\"%s\",(%i,%i),\"%s\"",m,m->class,mons[m->id].mname,m->x,m->y,m->name ? m->name : "");
+X+ }
+X+ #endif
+X+ 
+X  /* 
+X   * Create a monster in a room.
+X   */
+X***************
+X*** 729,734 ****
+X--- 742,751 ----
+X  	aligntyp	amask;
+X  	struct permonst *pm;
+X  
+X+ #ifdef DEBUG
+X+ 	dump_monster(m);
+X+ #endif
+X+ 
+X  	if (m->class >= 0) {
+X  	    class = (char) def_char_to_monclass((char)m->class);
+X  	    if (class == MAXMCLASSES) goto bad_class;
+X***************
+X*** 736,742 ****
+X  	    class = (char) def_char_to_monclass(rmonst[- m->class - 1]);
+X  	    if (class == MAXMCLASSES) {
+X  bad_class:
+X! 		panic("create_monster: unknown monster class '%c'", m->class);
+X  	    }
+X  	} else
+X  	    class = 0;
+X--- 753,765 ----
+X  	    class = (char) def_char_to_monclass(rmonst[- m->class - 1]);
+X  	    if (class == MAXMCLASSES) {
+X  bad_class:
+X! #ifdef DEBUG
+X! 		impossible
+X! #else
+X! 		panic
+X! #endif
+X! 			("create_monster (%i,%i) : unknown monster class '%c'",m->x,m->y,m->class);
+X! 		return;
+X  	    }
+X  	} else
+X  	    class = 0;
+X***************
+X*** 858,863 ****
+X--- 881,899 ----
+X  	}
+X  }
+X  
+X+ #ifdef DEBUG
+X+ static void
+X+ dump_object(o)
+X+ object *o;
+X+ {
+X+ 	if (!o) {
+X+ 		debugpline("OBJECT: (null)");
+X+ 		return;
+X+ 	}
+X+ 	debugpline("OBJECT %lx: '%c',\"%s\",(%i,%i)",o,o->class,OBJ_NAME(objects[o->id]),o->x,o->y);
+X+ }
+X+ #endif
+X+ 
+X  /* 
+X   * Create an object in a room.
+X   */
+X***************
+X*** 871,876 ****
+X--- 907,916 ----
+X  	schar	x,y;
+X  	char	c;
+X  
+X+ #ifdef DEBUG
+X+ 	dump_object(o);
+X+ #endif
+X+ 
+X  	x = o->x; y = o->y;
+X  	if (croom)
+X  	    get_room_loc(&x, &y, croom);
+X***************
+X*** 895,902 ****
+X  	     */
+X  	    char oclass = (char) def_char_to_objclass(c);
+X  
+X! 	    if (oclass == MAXOCLASSES)
+X! 		panic("create_object:  unexpected object class '%c'",c);
+X  	    otmp = mkobj_at(oclass, x, y, TRUE);
+X  	}
+X  
+X--- 935,949 ----
+X  	     */
+X  	    char oclass = (char) def_char_to_objclass(c);
+X  
+X! 	    if (oclass == MAXOCLASSES) {
+X! #ifdef DEBUG
+X! 		impossible
+X! #else
+X! 		panic
+X! #endif
+X! 			("create_object:  unexpected object class '%c'",c);
+X! 		return;
+X! 	    }
+X  	    otmp = mkobj_at(oclass, x, y, TRUE);
+X  	}
+X  
+X***************
+X*** 1330,1335 ****
+X--- 1377,1385 ----
+X  		case BEEHIVE:
+X  		case MORGUE:
+X  		case BARRACKS:
+X+ #ifdef DOUGLAS_ADAMS
+X+ 		case DOUGROOM:
+X+ #endif
+X  		    fill_zoo(croom);
+X  		    break;
+X  	    }
+X***************
+X*** 1339,1344 ****
+X--- 1389,1397 ----
+X  		level.flags.has_vault = TRUE;
+X  		break;
+X  	    case ZOO:
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case DOUGROOM:
+X+ #endif
+X  		level.flags.has_zoo = TRUE;
+X  		break;
+X  	    case COURT:
+X***************
+X*** 1489,1494 ****
+X--- 1542,1552 ----
+X  		/* The traps */
+X  		for(i = 0; i<r->ntrap; i++)
+X  		    create_trap(r->traps[i], aroom);
+X+ 
+X+ #ifdef DEBUG
+X+ 		debugpline("%i monsters, %i objects",r->nmonster,r->nobject);
+X+ 		more();
+X+ #endif
+X  
+X  		/* The monsters */
+X  		for(i = 0; i<r->nmonster; i++)
+X*** /tmp/tmp.1285	Sat May 28 21:18:35 1994
+X--- ./src/sounds.c	Sun May 22 19:48:28 1994
+X***************
+X*** 317,322 ****
+X--- 317,351 ----
+X  
+X  #ifdef OVLB
+X  
+X+ /* The Quantum Mechanic names were removed from 3.1 -- this is copied from
+X+ ** 3.0. I honestly do not know why the DevTeam (tm) did that.
+X+ **
+X+ ** Whoever takes this out again shall be dodged by a UNIX demon until
+X+ ** time_t's warp-around.
+X+ */
+X+ 
+X+ /* for the connoisseurs ... */
+X+ static const char *Qmen[] = {
+X+ 	"Max",      /* Born */
+X+ 	"Wolfgang", /* Pauli */
+X+ 	"Louis",    /* de Broglie */
+X+ 	"Erwin",    /* Schroedinger */
+X+ 	"Werner",   /* Heisenberg */
+X+ 	"Niels",    /* Bohr */
+X+ 	"Paul",     /* Dirac */
+X+ 	"Pascual",  /* Jordan */
+X+ 	"Dick",     /* Feynman */
+X+ 	"Sam" }; /* Beckett ("Oh, boy." :-) */
+X+ 
+X+ struct monst *
+X+ qname(mtmp)
+X+ struct monst *mtmp;
+X+ {
+X+ 	return(christen_monst(mtmp, Qmen[rn2(SIZE(Qmen))]));
+X+ }
+X+ 
+X+ /* end of copy from 3.0 */
+X+ 
+X  static int
+X  domonnoise(mtmp)
+X  register struct monst *mtmp;
+X***************
+X*** 581,586 ****
+X--- 610,653 ----
+X  		pline_msg = "is busy reading a copy of Sandman #9.";
+X  	    else verbalize("Who do you think you are, War?");
+X  	    break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	case MS_DOUGLAS_ADAMS:
+X+             {
+X+ 	   	 static const char *da_msgs[] = {
+X+ 			"42",
+X+ 			"It's a nice day today!",
+X+ 			"Have a Pan Galactic Gargle Blaster?",
+X+ 			"Time is relative. Lunchtime doubly so.",
+X+ 			"This is some strange usage of the word 'safe' that I wasn't aware of.",
+X+ 		};
+X+ 		if (mtmp->data == &mons[PM_MARVIN]) {
+X+ 			verbalize("Life, loathe it or ignore it, you cannot like it.");
+X+ 		} else if (mtmp->data == &mons[PM_DEEP_THOUGHT]) {
+X+ 			verbalize("6*9 = 42");
+X+ 		} else if (mtmp->data == &mons[PM_EDDIE]) {
+X+ 			verbalize("I'm feeling just great, guys!");
+X+ 		} else {
+X+ 			verbalize(da_msgs[rn2(SIZE(da_msgs))]);
+X+ 		}
+X+ 	    }
+X+ 	    break;
+X+ #endif
+X+ 	case MS_PUPIL:
+X+ 		pupil_sound(mtmp);
+X+ 		break;
+X+ 
+X+ 	case MS_TEACHER:
+X+ 		teacher_sound(mtmp);
+X+ 		break;
+X+ 
+X+ 	case MS_PRINCIPAL:
+X+ 		principal_sound(mtmp);
+X+ 		break;
+X+ 
+X+ 	case MS_SMITH:
+X+ 		smith_selling(mtmp);
+X+ 		break;
+X+ 
+X  #endif /* SOUNDS */
+X      }
+X  
+X*** /tmp/tmp.1285	Sat May 28 21:18:36 1994
+X--- ./src/spell.c	Thu May 12 13:31:24 1994
+X***************
+X*** 20,25 ****
+X--- 20,38 ----
+X  static char FDECL(spellet, (int));
+X  static char NDECL(dospellmenu);
+X  
+X+ boolean
+X+ spell_known(int sbook_id)
+X+ {
+X+ 	int i;
+X+ 
+X+ 	i = 0;
+X+ 	while (spl_book[i].sp_id != NO_SPELL && i < MAXSPELL) {
+X+ 		if (spl_book[i].sp_id == sbook_id) return(TRUE);
+X+ 		i++;
+X+ 	}
+X+ 	return(FALSE);
+X+ }
+X+ 
+X  static void
+X  cursed_book(lev)
+X  	register int	lev;
+X***************
+X*** 224,230 ****
+X  			/* ie 1 or 2 uses w/ most potent */
+X  			spl_book[i].sp_uses = rn1(1,9-spl_book[i].sp_lev);
+X  			book->spestudied++;
+X! 			You("add the spell to your repertoire.");
+X  			makeknown((int)booktype);
+X  			break;
+X  		}
+X--- 237,243 ----
+X  			/* ie 1 or 2 uses w/ most potent */
+X  			spl_book[i].sp_uses = rn1(1,9-spl_book[i].sp_lev);
+X  			book->spestudied++;
+X! 			You("add the %s to your repertoire.",booktype == SPE_CHEMISTRY ? "knowledge" : "spell");
+X  			makeknown((int)booktype);
+X  			break;
+X  		}
+X***************
+X*** 281,286 ****
+X--- 294,300 ----
+X  	case SPE_EXTRA_HEALING:
+X  	case SPE_CHARM_MONSTER:
+X  	case SPE_CLAIRVOYANCE:
+X+ 	case SPE_FINGER:
+X  /* level 4 spells */
+X  	case SPE_LEVITATION:
+X  	case SPE_RESTORE_ABILITY:
+X***************
+X*** 306,311 ****
+X--- 320,326 ----
+X  	case SPE_CANCELLATION:
+X  	case SPE_FINGER_OF_DEATH:
+X  	case SPE_BOOK_OF_THE_DEAD:
+X+ 	case SPE_CHEMISTRY:
+X  		delay = -8 * objects[booktype].oc_delay;
+X  		break;
+X  /* impossible */
+X***************
+X*** 417,422 ****
+X--- 432,442 ----
+X  	boolean confused = (Confusion != 0);
+X  	struct obj *pseudo;
+X  
+X+ 	if (spellid(spell) == SPE_CHEMISTRY) {
+X+ 		You("call upon your chemical knowledge. Nothing happens.");
+X+ 		return(1);
+X+ 	}
+X+ 
+X  	/* note that trying to cast it decrements the # of uses,    */
+X  	/* even if the mage does not have enough food/energy to use */
+X  	/* the spell */
+X***************
+X*** 496,501 ****
+X--- 516,522 ----
+X  	case SPE_DETECT_UNSEEN:
+X  	case SPE_HEALING:
+X  	case SPE_EXTRA_HEALING:
+X+ 	case SPE_FINGER:
+X  		if (!(objects[pseudo->otyp].oc_dir == NODIR)) {
+X  			if (atme) u.dx = u.dy = u.dz = 0;
+X  			else (void) getdir(NULL);
+X***************
+X*** 607,613 ****
+X  	add_menu(tmpwin, 0, 0, "");
+X  
+X  	for(i = 1; i <= maxs; i++) {
+X! 		Sprintf(buf, "%c %c %s (%d)",
+X  			spellet(i), (spelluses(i)) ? '-' : '*',
+X  			spellname(i), spellev(i));
+X  		add_menu(tmpwin, spellet(i), 0, buf);
+X--- 628,635 ----
+X  	add_menu(tmpwin, 0, 0, "");
+X  
+X  	for(i = 1; i <= maxs; i++) {
+X! 		Sprintf(buf, spellid(i) == SPE_CHEMISTRY ? "%c %c %s" 
+X!                                                          : "%c %c %s (%d)",
+X  			spellet(i), (spelluses(i)) ? '-' : '*',
+X  			spellname(i), spellev(i));
+X  		add_menu(tmpwin, spellet(i), 0, buf);
+X*** /tmp/tmp.1285	Sat May 28 21:18:37 1994
+X--- ./src/timeout.c	Sun Apr 10 16:00:04 1994
+X***************
+X*** 112,117 ****
+X--- 112,124 ----
+X  	    else if(u.uluck < baseluck && (nostone || time_luck > 0))
+X  		u.uluck++;
+X  	}
+X+ 	if (u.uinvul_time) {
+X+ 		u.uinvul_time--;
+X+ 		if (u.uinvul_time <= 0) {
+X+ 			u.uinvulnerable = FALSE;	
+X+ 			You("feel fragile!");
+X+ 		}
+X+ 	}
+X  	if(u.uinvulnerable) return; /* things past this point could kill you */
+X  	if(Stoned) stoned_dialogue();
+X  	if(Vomiting) vomiting_dialogue();
+X*** /tmp/tmp.1285	Sat May 28 21:18:38 1994
+X--- ./src/topten.c	Sat Mar 19 15:14:20 1994
+X***************
+X*** 32,40 ****
+X  #define dealloc_ttentry(ttent) free((genericptr_t) (ttent))
+X  #define	NAMSZ	10
+X  #define	DTHSZ	60
+X! #define	PERSMAX	 3		/* entries per name/uid per char. allowed */
+X! #define	POINTSMIN	1	/* must be > 0 */
+X! #define	ENTRYMAX	100	/* must be >= 10 */
+X  
+X  #if !defined(MICRO) && !defined(MAC)
+X  #define	PERS_IS_UID		/* delete for PERSMAX per name; now per uid */
+X--- 32,40 ----
+X  #define dealloc_ttentry(ttent) free((genericptr_t) (ttent))
+X  #define	NAMSZ	10
+X  #define	DTHSZ	60
+X! #define	PERSMAX	 10		/* entries per name/uid per char. allowed */
+X! #define	POINTSMIN	314	/* must be > 0 */
+X! #define	ENTRYMAX	420	/* must be >= 10 */
+X  
+X  #if !defined(MICRO) && !defined(MAC)
+X  #define	PERS_IS_UID		/* delete for PERSMAX per name; now per uid */
+X***************
+X*** 682,687 ****
+X--- 682,688 ----
+X  		case 'B': return PM_BARBARIAN;
+X  		case 'C': return (fem ? PM_CAVEWOMAN : PM_CAVEMAN);
+X  		case 'E': return PM_ELF;
+X+ 		case 'G': return PM_GEEK;
+X  		case 'H': return PM_HEALER;
+X  		case 'F':	/* accept old Fighter class */
+X  		case 'K': return PM_KNIGHT;
+X*** /tmp/tmp.1285	Sat May 28 21:18:40 1994
+X--- ./src/trap.c	Fri Mar 18 22:27:14 1994
+X***************
+X*** 2608,2614 ****
+X  		    else if(obj == uright) Ring_gone(obj);
+X  		    else if(obj == ublindf) Blindf_off(obj);
+X  		    else if(obj == uwep) uwepgone();
+X! 		    if(Lifesaved
+X  #ifdef WIZARD
+X  		       || wizard
+X  #endif
+X--- 2608,2614 ----
+X  		    else if(obj == uright) Ring_gone(obj);
+X  		    else if(obj == ublindf) Blindf_off(obj);
+X  		    else if(obj == uwep) uwepgone();
+X! 		    if(Lifesaved || Second_chance
+X  #ifdef WIZARD
+X  		       || wizard
+X  #endif
+X*** /tmp/tmp.1285	Sat May 28 21:18:41 1994
+X--- ./src/u_init.c	Fri Apr 15 20:46:20 1994
+X***************
+X*** 29,35 ****
+X  			/* roles[2] and [6] are changed for females */
+X  			/* in all cases, the corresponding male and female */
+X  			/* roles must start with the same letter */
+X! 	"Archeologist", "Barbarian", "Caveman", "Elf", "Healer", "Knight",
+X  	"Priest", "Rogue", "Samurai",
+X  #ifdef TOURIST
+X  	"Tourist",
+X--- 29,35 ----
+X  			/* roles[2] and [6] are changed for females */
+X  			/* in all cases, the corresponding male and female */
+X  			/* roles must start with the same letter */
+X! 	"Archeologist", "Barbarian", "Caveman", "Elf", "Geek", "Healer", "Knight",
+X  	"Priest", "Rogue", "Samurai",
+X  #ifdef TOURIST
+X  	"Tourist",
+X***************
+X*** 85,90 ****
+X--- 85,101 ----
+X  	{ 0, 0, 0, 0, 0, 0 }
+X  };
+X  
+X+ static struct trobj Geek[] = {
+X+ 	{ ELECTRIC_SWORD, 1, WEAPON_CLASS, 1, 1, 1 },
+X+ #define G_IC 1
+X+ 	{ IC, 0, TOOL_CLASS, 7, 1, UNDEF_BLESS },	/* quan is var. */
+X+ 	{ GAUNTLETS_OF_TYPING, 1, ARMOR_CLASS, 1, 1, UNDEF_BLESS },
+X+ 	{ POT_JOLT_COLA, 0, POTION_CLASS, 4, 1, UNDEF_BLESS },
+X+ 	{ HACKER_S_FOOD, 0, FOOD_CLASS, 2, 1, UNDEF_BLESS },
+X+ 	{ PACK_OF_FLOPPIES, 0, TOOL_CLASS, 1, 1, UNDEF_BLESS },
+X+ 	{ 0, 0, 0, 0, 0, 0 }
+X+ };
+X+ 
+X  static struct trobj Healer[] = {
+X  	{ SCALPEL, 0, WEAPON_CLASS, 1, 1, UNDEF_BLESS },
+X  	{ LEATHER_GLOVES, 1, ARMOR_CLASS, 1, 1, UNDEF_BLESS },
+X***************
+X*** 308,314 ****
+X  	u.ugrave_arise = -1;
+X  
+X  	u.ulevel = 0;	/* set up some of the initial attributes */
+X! 	u.uhp = u.uhpmax = newhp();
+X  	adjabil(0,1);
+X  	u.ulevel = 1;
+X  
+X--- 319,325 ----
+X  	u.ugrave_arise = -1;
+X  
+X  	u.ulevel = 0;	/* set up some of the initial attributes */
+X! 	u.uhp = u.uhpmax = u.uhplast = newhp();
+X  	adjabil(0,1);
+X  	u.ulevel = 1;
+X  
+X***************
+X*** 403,408 ****
+X--- 414,431 ----
+X  		knows_object(ELVEN_SHIELD);
+X  		knows_object(ELVEN_BOOTS);
+X  		knows_object(ELVEN_CLOAK);
+X+ 		break;
+X+ 	case 'G':
+X+ 		u.umonster = PM_GEEK;
+X+ 		Geek[G_IC].trquan = rn2(7) + 1;
+X+ 		ini_inv(Geek);
+X+ 		knows_class(WEAPON_CLASS);
+X+ 		knows_class(ARMOR_CLASS);
+X+ 		knows_object(PACK_OF_FLOPPIES);
+X+ 		knows_object(POT_JOLT_COLA);
+X+ 		knows_object(DIODE);
+X+ 		knows_object(TRANSISTOR);
+X+ 		knows_object(IC);
+X  		break;
+X  	case 'H':
+X  		u.umonster = PM_HEALER;
+X*** /tmp/tmp.1285	Sat May 28 21:18:42 1994
+X--- ./src/wield.c	Fri Apr 15 22:48:07 1994
+X***************
+X*** 178,184 ****
+X  	}
+X  
+X  	if(uwep->otyp == CRYSKNIFE && amount < 0) {
+X! 		uwep->otyp = WORM_TOOTH;
+X  		Your("weapon seems duller now.");
+X  		return(1);
+X  	}
+X--- 178,184 ----
+X  	}
+X  
+X  	if(uwep->otyp == CRYSKNIFE && amount < 0) {
+X! 		if (!uwep->oartifact) uwep->otyp = WORM_TOOTH;
+X  		Your("weapon seems duller now.");
+X  		return(1);
+X  	}
+X*** /tmp/tmp.1285	Sat May 28 21:18:43 1994
+X--- ./src/uhitm.c	Thu Apr 14 17:25:37 1994
+X***************
+X*** 185,190 ****
+X--- 185,202 ----
+X  	return tmp;
+X  }
+X  
+X+ /* Attack made with Stormbringer */
+X+ static void attract_vortices(void)
+X+ {
+X+ 	int n;
+X+ 
+X+ 	if (rn2(100)) return;
+X+ 	n = rn2(7) - Luck;
+X+ 	while (n-- > 0) {
+X+ 		makemon(mkclass(S_VORTEX,0),u.ux,u.uy);
+X+ 	}
+X+ }
+X+ 
+X  /* try to attack; return FALSE if monster evaded */
+X  /* u.dx and u.dy must be set */
+X  boolean
+X***************
+X*** 234,239 ****
+X--- 246,255 ----
+X  		} else return(FALSE);
+X  	}
+X  
+X+ 	if (uwep && uwep->oartifact == ART_STORMBRINGER) {
+X+ 		attract_vortices();
+X+ 	}
+X+ 
+X  	/* moved code to a separate function to share with dokick */
+X  	if(special_case(mtmp)) return(TRUE);
+X  
+X***************
+X*** 759,765 ****
+X  
+X  	if (is_demon(uasmon) && !rn2(13) && !uwep
+X  		&& u.umonnum != PM_SUCCUBUS && u.umonnum != PM_INCUBUS
+X! 		&& u.umonnum != PM_BALROG) {
+X  	    struct monst *dtmp;
+X  	    pline("Some hell-p has arrived!");
+X  	    if((dtmp = makemon(!rn2(6) ? &mons[ndemon(u.ualign.type)] :
+X--- 775,782 ----
+X  
+X  	if (is_demon(uasmon) && !rn2(13) && !uwep
+X  		&& u.umonnum != PM_SUCCUBUS && u.umonnum != PM_INCUBUS
+X! 		&& u.umonnum != PM_BALROG && u.umonnum != PM_NEWS_DAEMON
+X! 		&& u.umonnum != PM_PRINTER_DAEMON) {
+X  	    struct monst *dtmp;
+X  	    pline("Some hell-p has arrived!");
+X  	    if((dtmp = makemon(!rn2(6) ? &mons[ndemon(u.ualign.type)] :
+X***************
+X*** 1057,1062 ****
+X--- 1074,1085 ----
+X  		    mdef->mfrozen = rnd(10);
+X  		}
+X  		break;
+X+ #ifdef DOUGLAS_ADAMS
+X+ 	    case AD_DEPR:
+X+ 		pline("%s seems vaguely bored.",Monnam(mdef));
+X+ 		break;
+X+ #endif
+X+ 
+X  	    default:	tmp = 0;
+X  			break;
+X  	}
+X***************
+X*** 1394,1399 ****
+X--- 1417,1426 ----
+X  				|| u.usym==S_ORC
+X  				|| u.usym==S_GNOME
+X  				)) goto use_weapon;
+X+ 
+X+ 		case AT_TALK:
+X+ 			You("talk to %s. But you don't seem to be too convincing.",mon_nam(mon));
+X+ 			break;
+X  
+X  		case AT_NONE:
+X  			continue;
+X*** /tmp/tmp.1285	Sat May 28 21:18:46 1994
+X--- ./src/weapon.c	Sat Mar 19 20:39:58 1994
+X***************
+X*** 279,285 ****
+X  #endif
+X  	  {TSURUGI,1}, {RUNESWORD,0},
+X  	  {DWARVISH_MATTOCK,1}, {TWO_HANDED_SWORD,1}, {BATTLE_AXE,1},
+X! 	  {KATANA,0}, {UNICORN_HORN,1}, {CRYSKNIFE,0},
+X  	  {TRIDENT,0}, {LONG_SWORD,0}, {ELVEN_BROADSWORD,0}, {BROADSWORD,0},
+X  	  {LUCERN_HAMMER,1}, {SCIMITAR,1}, {SILVER_SABER,0}, {HALBERD,1},
+X  	  {PARTISAN,1}, {LANCE,1}, {FAUCHARD,1}, {BILL_GUISARME,1},
+X--- 279,285 ----
+X  #endif
+X  	  {TSURUGI,1}, {RUNESWORD,0},
+X  	  {DWARVISH_MATTOCK,1}, {TWO_HANDED_SWORD,1}, {BATTLE_AXE,1},
+X! 	  {KATANA,0}, {UNICORN_HORN,1}, {CRYSKNIFE,0}, {ELECTRIC_SWORD,0},
+X  	  {TRIDENT,0}, {LONG_SWORD,0}, {ELVEN_BROADSWORD,0}, {BROADSWORD,0},
+X  	  {LUCERN_HAMMER,1}, {SCIMITAR,1}, {SILVER_SABER,0}, {HALBERD,1},
+X  	  {PARTISAN,1}, {LANCE,1}, {FAUCHARD,1}, {BILL_GUISARME,1},
+X***************
+X*** 293,299 ****
+X  	  {RUBBER_HOSE,0},
+X  #endif /* KOPS */
+X  	  {WAR_HAMMER,0}, {ELVEN_DAGGER,0}, {DAGGER,0}, {ORCISH_DAGGER,0},
+X! 	  {ATHAME,0}, {SCALPEL,0}, {KNIFE,0}, {WORM_TOOTH,0}, {BULLWHIP,0}
+X  	};
+X  
+X  struct obj *
+X--- 293,299 ----
+X  	  {RUBBER_HOSE,0},
+X  #endif /* KOPS */
+X  	  {WAR_HAMMER,0}, {ELVEN_DAGGER,0}, {DAGGER,0}, {ORCISH_DAGGER,0},
+X! 	  {ATHAME,0}, {SCALPEL,0}, {KNIFE,0}, {WORM_TOOTH,0}, {BULLWHIP,0},
+X  	};
+X  
+X  struct obj *
+X*** /tmp/tmp.1285	Sat May 28 21:18:53 1994
+X--- ./src/write.c	Thu Apr 21 18:10:45 1994
+X***************
+X*** 39,44 ****
+X--- 39,45 ----
+X  		return(12);
+X  /*		break; */
+X  	case SCR_IDENTIFY:
+X+ 	case SCR_REVERSE_IDENTIFY:
+X  		return(14);
+X  /*		break; */
+X  	case SCR_ENCHANT_ARMOR:
+X***************
+X*** 50,61 ****
+X--- 51,68 ----
+X  	case SCR_SCARE_MONSTER:
+X  	case SCR_TAMING:
+X  	case SCR_TELEPORTATION:
+X+ 	case SCR_MASS_MURDER:
+X+ 	case SCR_CONSECRATION:
+X  		return(20);
+X  /*		break; */
+X  	case SCR_GENOCIDE:
+X  		return(30);
+X  /*		break; */
+X+ 	case SCR_UNDO_GENOCIDE:
+X+ 		return(50);
+X+ /*		break; */
+X  	case SCR_BLANK_PAPER:
+X+ 	case SCR_ROOT_PASSWORD_DETECTION:
+X  	default:
+X  		impossible("You can't write such a weird scroll!");
+X  	}
+X***************
+X*** 186,191 ****
+X--- 193,199 ----
+X  	/* success */
+X  	new_obj->blessed = (curseval > 0);
+X  	new_obj->cursed = (curseval < 0);
+X+ 	new_obj->selfmade = TRUE;
+X  #ifdef MAIL
+X  	if (new_obj->otyp == SCR_MAIL) new_obj->spe = 1;
+X  #endif
+X*** /tmp/tmp.1285	Sat May 28 21:18:54 1994
+X--- ./src/zap.c	Fri May 13 13:04:17 1994
+X***************
+X*** 13,18 ****
+X--- 13,19 ----
+X  
+X  static NEARDATA boolean obj_zapped;
+X  static NEARDATA int poly_zapped;
+X+ static NEARDATA boolean wan_wonder;
+X  
+X  #ifdef MUSE
+X  /* kludge to use mondied instead of killed */
+X***************
+X*** 56,62 ****
+X  	"death ray",
+X  	"bolt of lightning",
+X  	"",
+X! 	"",
+X  	"",
+X  	"",
+X  
+X--- 57,63 ----
+X  	"death ray",
+X  	"bolt of lightning",
+X  	"",
+X! 	"blow of acid",
+X  	"",
+X  	"",
+X  
+X***************
+X*** 188,193 ****
+X--- 189,195 ----
+X  		break;
+X  	case WAN_PROBING:
+X  		makeknown(otyp);
+X+ 	case SPE_FINGER:
+X  		mstatusline(mtmp);
+X  		break;
+X  	case WAN_OPENING:
+X***************
+X*** 212,217 ****
+X--- 214,225 ----
+X  			     sgn(u.ualign.type));
+X  		}
+X   		break;
+X+ 	case WAN_DRAINING: 
+X+ 		dmg = mtmp->mhpmax / 2;
+X+ 		hit("wand",mtmp,exclam(dmg));
+X+ 		resist(mtmp,otmp->oclass,dmg,TELL);
+X+ 		losehp(dmg,"excessive draining",KILLED_BY);
+X+ 		break;
+X  	case WAN_LOCKING:
+X  	case SPE_KNOCK:
+X  	case SPE_WIZARD_LOCK:
+X***************
+X*** 331,336 ****
+X--- 339,350 ----
+X  				flags.botl = 1;
+X  			}
+X  			break;
+X+ 		case RIN_HEALTH:
+X+ 			if ((obj->owornmask & W_RING) && u_ring) {
+X+ 				ABON(A_STR) -= obj->spe;
+X+ 				flags.botl = 1;
+X+ 			}
+X+ 			break;
+X  		case RIN_INCREASE_DAMAGE:
+X  			if ((obj->owornmask & W_RING) && u_ring)
+X  				u.udaminc -= obj->spe;
+X***************
+X*** 769,774 ****
+X--- 783,790 ----
+X  	case WAN_SPEED_MONSTER:
+X  	case WAN_NOTHING:
+X  	case WAN_PROBING:
+X+ 	case WAN_DRAINING:
+X+ 	case SPE_FINGER:
+X  	case SPE_HEALING:
+X  	case SPE_EXTRA_HEALING:
+X  		res = 0;
+X***************
+X*** 861,866 ****
+X--- 877,901 ----
+X  			}
+X  			makewish();
+X  			break;
+X+ 		case WAN_WONDER:
+X+ 			getdir(NULL);
+X+ 			do {
+X+ 				obj->otyp = WAN_LIGHT + rn2(WAN_WONDER - WAN_LIGHT);
+X+ 			} while (obj->otyp == WAN_WONDER || 
+X+ 				(obj->otyp == WAN_WISHING && rnl(10)));
+X+ 			wan_wonder = TRUE;
+X+ 			weffects(obj);
+X+ 			wan_wonder = FALSE;
+X+ 			obj->otyp = WAN_WONDER;
+X+ 			break;
+X+ 		case WAN_BUGGING: {
+X+ 			int i;
+X+ 
+X+ 			i = rn2(6) + 1;
+X+ 			while (i--) {
+X+ 				(void) makemon(&mons[rn2(3) ? PM_BUG : PM_HEISENBUG], u.ux,u.uy);
+X+ 			}
+X+ 		} break;
+X  	}
+X  	if (!objects[obj->otyp].oc_name_known &&
+X  	    (!Blind || obj->otyp == WAN_WISHING)) {
+X***************
+X*** 936,941 ****
+X--- 971,993 ----
+X  		    }
+X  		    makeknown(obj->otyp);
+X  		    break;
+X+ 		case WAN_DRAINING:
+X+ 		    /* theoretically we would have to take away half of */
+X+ 		    /* u.uhpmax _twice_, but I don't want to be unfair ... */
+X+ 		    makeknown(WAN_DRAINING);
+X+ 		    damage = u.uhpmax / 2;
+X+ 		    if (damage < 1) damage = 1;
+X+ 		    break;
+X+ 		case WAN_ACID:
+X+ 		    makeknown(WAN_ACID);
+X+ 		    if (Antimagic) {
+X+ 			shieldeff(u.ux,u.uy);
+X+ 			pline("Ugh!");
+X+ 		    } else {
+X+ 			pline("The acid burns!");
+X+ 			damage = d(8,6);
+X+ 		   }
+X+ 		   break;
+X  		case WAN_LIGHTNING:
+X  		    makeknown(WAN_LIGHTNING);
+X  		    if (!Shock_resistance) {
+X***************
+X*** 1114,1119 ****
+X--- 1166,1172 ----
+X  		    break;
+X  		case WAN_PROBING:
+X  		    makeknown(WAN_PROBING);
+X+ 		case SPE_FINGER:
+X  		    ustatusline();
+X  		    break;
+X  		default: impossible("object %d used?",obj->otyp);
+X***************
+X*** 1347,1357 ****
+X  			    buzz((int) obj->otyp - WAN_MAGIC_MISSILE,
+X  				(obj->otyp == WAN_MAGIC_MISSILE) ? 2 : 6,
+X  				 u.ux, u.uy, u.dx, u.dy);
+X  			} else
+X  			    impossible("weffects: unexpected spell or wand");
+X  			break;
+X  		}
+X! 		if(!objects[obj->otyp].oc_name_known) {
+X  			makeknown(obj->otyp);
+X  			more_experienced(0,10);
+X  		}
+X--- 1400,1412 ----
+X  			    buzz((int) obj->otyp - WAN_MAGIC_MISSILE,
+X  				(obj->otyp == WAN_MAGIC_MISSILE) ? 2 : 6,
+X  				 u.ux, u.uy, u.dx, u.dy);
+X+ 			} else if (obj->otyp == WAN_ACID) {
+X+ 			    buzz(ZT_ACID,6,u.ux,u.uy,u.dx,u.dy);
+X  			} else
+X  			    impossible("weffects: unexpected spell or wand");
+X  			break;
+X  		}
+X! 		if(!objects[obj->otyp].oc_name_known && !obj->otyp == WAN_WONDER && !wan_wonder) {
+X  			makeknown(obj->otyp);
+X  			more_experienced(0,10);
+X  		}
+X*** /tmp/tmp.1285	Sat May 28 21:18:56 1994
+X--- ./src/Makefile	Sun Apr 10 14:39:00 1994
+X***************
+X*** 51,57 ****
+X  #	if you get setcgtty() warnings during execution, you are feeding gcc
+X  #		a non-ANSI <sys/ioctl.h> -- either run fixincludes on it or use
+X  #		-traditional in CFLAGS
+X! # CC = gcc
+X  #
+X  #	For Bull DPX/2 systems at B.O.S. 2.0 or higher use the following:
+X  #
+X--- 51,57 ----
+X  #	if you get setcgtty() warnings during execution, you are feeding gcc
+X  #		a non-ANSI <sys/ioctl.h> -- either run fixincludes on it or use
+X  #		-traditional in CFLAGS
+X! CC = cc -DSCO_CC
+X  #
+X  #	For Bull DPX/2 systems at B.O.S. 2.0 or higher use the following:
+X  #
+X***************
+X*** 91,97 ****
+X  # flags for debugging:
+X  # CFLAGS = -g -I../include
+X  
+X! CFLAGS = -g -I../include
+X  LFLAGS =
+X  
+X  
+X--- 91,97 ----
+X  # flags for debugging:
+X  # CFLAGS = -g -I../include
+X  
+X! CFLAGS = -g -I../include -D_POSIX_SOURCE -DDOUGLAS_ADAMS
+X  LFLAGS =
+X  
+X  
+X***************
+X*** 112,119 ****
+X  	winmisc.o winstat.o wintext.o winval.o
+X  #
+X  # 
+X! WINSRC = $(WINTTYSRC)
+X! WINOBJ = $(WINTTYOBJ)
+X  
+X  # on some systems the termcap library is in -ltermcap or -lcurses
+X  # on 386 Xenix, the -ltermlib tputs() seems not to work; use -lcurses instead
+X--- 112,119 ----
+X  	winmisc.o winstat.o wintext.o winval.o
+X  #
+X  # 
+X! WINSRC = $(WINTTYSRC) $(WINX11SRC)
+X! WINOBJ = $(WINTTYOBJ) $(WINX11OBJ)
+X  
+X  # on some systems the termcap library is in -ltermcap or -lcurses
+X  # on 386 Xenix, the -ltermlib tputs() seems not to work; use -lcurses instead
+X***************
+X*** 130,140 ****
+X  WINTTYLIB = -ltermlib
+X  #
+X  # libraries for X11
+X! WINX11LIB = -lXaw -lXmu -lXext -lXt -lX11
+X  # WINX11LIB = -lXaw -lXmu -lXt -lX11
+X  #
+X  #
+X! WINLIB = $(WINTTYLIB)
+X  
+X  # any other strange libraries your system needs (for Sysunix only -- the more
+X  # specialized targets should already be right)
+X--- 130,140 ----
+X  WINTTYLIB = -ltermlib
+X  #
+X  # libraries for X11
+X! WINX11LIB = -lXaw -lXmu -lXext -lXt -lX11 -lsocket
+X  # WINX11LIB = -lXaw -lXmu -lXt -lX11
+X  #
+X  #
+X! WINLIB = $(WINTTYLIB) $(WINX11LIB)
+X  
+X  # any other strange libraries your system needs (for Sysunix only -- the more
+X  # specialized targets should already be right)
+X***************
+X*** 150,156 ****
+X  # Linux NetHack uses some bsd style ioctl functions, thus it is necessary to
+X  # use the bsd libs.
+X  # LIBS = -lbsd
+X! LIBS =
+X  
+X  # make NetHack
+X  GAME     = nethack
+X--- 150,156 ----
+X  # Linux NetHack uses some bsd style ioctl functions, thus it is necessary to
+X  # use the bsd libs.
+X  # LIBS = -lbsd
+X! LIBS = /usr/local/lib/libemu.a
+X  
+X  # make NetHack
+X  GAME     = nethack
+X***************
+X*** 186,192 ****
+X  	   save.c shk.c shknam.c sit.c sounds.c sp_lev.c spell.c steal.c\
+X  	   timeout.c topten.c track.c trap.c u_init.c uhitm.c vault.c\
+X  	   version.c vision.c weapon.c were.c wield.c windows.c wizard.c\
+X! 	   worm.c worn.c write.c zap.c
+X  
+X  # all operating-system-dependent .c (for dependencies and such)
+X  SYSCSRC = ../sys/atari/tos.c ../sys/share/pcmain.c ../sys/share/pcsys.c \
+X--- 186,192 ----
+X  	   save.c shk.c shknam.c sit.c sounds.c sp_lev.c spell.c steal.c\
+X  	   timeout.c topten.c track.c trap.c u_init.c uhitm.c vault.c\
+X  	   version.c vision.c weapon.c were.c wield.c windows.c wizard.c\
+X! 	   worm.c worn.c write.c zap.c school.c smith.c
+X  
+X  # all operating-system-dependent .c (for dependencies and such)
+X  SYSCSRC = ../sys/atari/tos.c ../sys/share/pcmain.c ../sys/share/pcsys.c \
+X***************
+X*** 236,242 ****
+X  	save.o shk.o shknam.o sit.o sounds.o sp_lev.o spell.o steal.o\
+X  	timeout.o topten.o track.o trap.o u_init.o uhitm.o vault.o\
+X  	vision.o vis_tab.o weapon.o were.o wield.o windows.o wizard.o\
+X! 	worm.o worn.o write.o zap.o\
+X  	$(RANDOBJ) $(SYSOBJ) $(WINOBJ) version.o
+X  # the .o files from the HACKCSRC, SYSSRC, and WINSRC lists
+X  
+X--- 236,242 ----
+X  	save.o shk.o shknam.o sit.o sounds.o sp_lev.o spell.o steal.o\
+X  	timeout.o topten.o track.o trap.o u_init.o uhitm.o vault.o\
+X  	vision.o vis_tab.o weapon.o were.o wield.o windows.o wizard.o\
+X! 	worm.o worn.o write.o zap.o school.o smith.o\
+X  	$(RANDOBJ) $(SYSOBJ) $(WINOBJ) version.o
+X  # the .o files from the HACKCSRC, SYSSRC, and WINSRC lists
+X  
+X***************
+X*** 245,251 ****
+X  
+X  Sysunix:	$(HOBJ) Makefile
+X  	@echo "Loading ..."
+X! 	@$(CC) $(LFLAGS) -o $(GAME) $(HOBJ) $(WINLIB) $(LIBS)
+X  	@touch Sysunix
+X  
+X  Sys3B2:	$(HOBJ) Makefile
+X--- 245,251 ----
+X  
+X  Sysunix:	$(HOBJ) Makefile
+X  	@echo "Loading ..."
+X! 	$(CC) $(LFLAGS) -o $(GAME) $(HOBJ) $(WINLIB) $(LIBS)
+X  	@touch Sysunix
+X  
+X  Sys3B2:	$(HOBJ) Makefile
+X*** /tmp/tmp.1285	Sat May 28 21:22:57 1994
+X--- ./win/tty/wintty.c	Wed Mar 30 17:10:26 1994
+X***************
+X*** 1217,1223 ****
+X  
+X      if(str) {
+X  	cw->canresp = (char*) alloc(strlen(str)+2);
+X! 	cw->canresp[0] = ch;			/* this could be NUL? */
+X  	Strcpy(&cw->canresp[1], str);
+X  	Strcat(cw->resp, str);
+X      }
+X--- 1217,1223 ----
+X  
+X      if(str) {
+X  	cw->canresp = (char*) alloc(strlen(str)+2);
+X! 	((char *)cw->canresp)[0] = ch;			/* this could be NUL? */
+X  	Strcpy(&cw->canresp[1], str);
+X  	Strcat(cw->resp, str);
+X      }
+X*** /tmp/tmp.1285	Sat May 28 21:23:14 1994
+X--- ./win/X11/winX.c	Fri Mar 18 19:47:09 1994
+X***************
+X*** 836,842 ****
+X  		    &app_context,
+X  		    "NetHack",		/* application class */
+X  		    (XrmOptionDescList)0, 0,	/* options list */
+X! 		    &i, av,		/* command line args */
+X  		    (String *)0,	/* fallback resources */
+X  		    (ArgList)args, num_args);
+X      XtOverrideTranslations(toplevel,
+X--- 836,842 ----
+X  		    &app_context,
+X  		    "NetHack",		/* application class */
+X  		    (XrmOptionDescList)0, 0,	/* options list */
+X! 		    &i, (char **) av,		/* command line args */
+X  		    (String *)0,	/* fallback resources */
+X  		    (ArgList)args, num_args);
+X      XtOverrideTranslations(toplevel,
+X*** /tmp/tmp.1285	Sat May 28 21:23:16 1994
+X--- ./Makefile	Sun May 22 19:05:38 1994
+X***************
+X*** 15,26 ****
+X  
+X  # make NetHack
+X  GAME     = nethack
+X! GAMEUID  = games
+X  GAMEGRP  = bin
+X  
+X  # Permissions - some places use setgid instead of setuid, for instance
+X  # See also the option "SECURE" in include/config.h
+X! GAMEPERM = 04755
+X  FILEPERM = 0644
+X  EXEPERM  = 0755
+X  DIRPERM  = 0755
+X--- 15,26 ----
+X  
+X  # make NetHack
+X  GAME     = nethack
+X! GAMEUID  = sebast
+X  GAMEGRP  = bin
+X  
+X  # Permissions - some places use setgid instead of setuid, for instance
+X  # See also the option "SECURE" in include/config.h
+X! GAMEPERM = 0755
+X  FILEPERM = 0644
+X  EXEPERM  = 0755
+X  DIRPERM  = 0755
+X***************
+X*** 32,41 ****
+X  # therefore there should not be anything in GAMEDIR that you want to keep
+X  # (if there is, you'll have to do the installation by hand or modify the
+X  # instructions)
+X! # GAMEDIR  = /usr/games/lib/$(GAME)dir
+X! # SHELLDIR = /usr/games
+X  GAMEDIR = /ntd
+X! SHELLDIR = /u/local/sh
+X  
+X  DATHELP = help hh cmdhelp history opthelp wizhelp
+X  VARDAT = data oracles options quest.dat rumors
+X--- 32,40 ----
+X  # therefore there should not be anything in GAMEDIR that you want to keep
+X  # (if there is, you'll have to do the installation by hand or modify the
+X  # instructions)
+X! # GAMEDIR  = /u2/local/lib/$(GAME)testdir
+X  GAMEDIR = /ntd
+X! SHELLDIR = /u2/local/sh
+X  
+X  DATHELP = help hh cmdhelp history opthelp wizhelp
+X  VARDAT = data oracles options quest.dat rumors
+X***************
+X*** 43,49 ****
+X  SPEC_LEVS = asmodeus.lev baalz.lev bigroom.lev castle.lev fakewiz?.lev \
+X  	juiblex.lev knox.lev medusa-?.lev mine_end.lev minefill.lev \
+X  	minetown.lev oracle.lev orcus.lev sanctum.lev tower?.lev valley.lev \
+X! 	wizard?.lev astral.lev air.lev earth.lev fire.lev water.lev
+X  QUEST_LEVS = ?-goal.lev ?-fill?.lev ?-locate.lev ?-start.lev
+X  
+X  SCRIPT = dungeon
+X--- 42,49 ----
+X  SPEC_LEVS = asmodeus.lev baalz.lev bigroom.lev castle.lev fakewiz?.lev \
+X  	juiblex.lev knox.lev medusa-?.lev mine_end.lev minefill.lev \
+X  	minetown.lev oracle.lev orcus.lev sanctum.lev tower?.lev valley.lev \
+X! 	wizard?.lev astral.lev air.lev earth.lev fire.lev water.lev school.lev \
+X! 	forge.lev compu.lev dragon.lev key.lev hitch.lev
+X  QUEST_LEVS = ?-goal.lev ?-fill?.lev ?-locate.lev ?-start.lev
+X  
+X  SCRIPT = dungeon
+END_OF_patch.pa
+if test 256107 -ne `wc -c <patch.pa`; then
+    echo shar: \"patch.pa\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/Geek.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/Geek.des\"
+else
+echo shar: Extracting \"./dat/Geek.des\" \(11692 characters\)
+sed "s/^X//" >./dat/Geek.des <<'END_OF_./dat/Geek.des'
+X# Geek.des
+X# The Geek quest
+X# 03/19/94 by Sebastian Klein
+X
+X# --- start level ---
+X
+XMAZE: "G-start",' '
+XFLAGS: noteleport,hardfloor
+XGEOMETRY: center,center
+X
+X#         1         2         3         4         5         6         7
+X#123456789012345678901234567890123456789012345678901234567890123456789012345
+X
+XMAP
+X............................................................................
+X............................................................................
+X..........................|-------------------------|.......................
+X..........................|.........................|.......................
+X..........................|-------------+-----------|.......................
+X............................................................................
+X............................................................................
+X............................................................................
+X..........................|-------------------------|-|.....................
+X..........................|.........................|.|.....................
+X..........................|.........................|.|.....................
+X..........................|.........................|.|.....................
+X..........................|.........................+.+.....................
+X..........................|.........................|.|.....................
+X..........................|.........................|.|.....................
+X..........................|.........................|.|.....................
+X..........................|-------------------------|-|.....................
+X............................................................................
+X............................................................................
+X............................................................................
+XENDMAP
+X
+XREGION:(00,00,75,19),lit,"ordinary"
+X
+XBRANCH:(60,18,60,18),(0,0,0,0)
+X
+XSTAIR:(27,03),down
+X
+XDOOR:locked,(40,04)
+XDOOR:locked,(54,12)
+XDOOR:locked,(52,12)
+X
+XMONSTER:'@',"The Dev Team",(38,12)
+X
+XMONSTER:'@',"hacker",(37,11)
+XMONSTER:'@',"hacker",(38,11)
+XMONSTER:'@',"hacker",(39,11)
+XMONSTER:'@',"hacker",(37,12)
+XMONSTER:'@',"hacker",(39,12)
+XMONSTER:'@',"hacker",(37,13)
+XMONSTER:'@',"hacker",(38,13)
+XMONSTER:'@',"hacker",(39,13)
+X
+X# For the textwork care has to be exercised that there are no
+X# rock moles, dwarves with pick-axes etc. to break the walls.
+X
+X# "May the force be with you"
+XMONSTER:'M',random,(27,03)
+XMONSTER:'a',random,(28,03)
+XMONSTER:'y',random,(29,03)
+XMONSTER:':',random,(30,03)
+XMONSTER:'t',random,(31,03)
+XMONSTER:'h',"hobbit",(32,03)
+XMONSTER:'e',random,(33,03)
+XMONSTER:':',random,(34,03)
+XMONSTER:'f',random,(35,03)
+XMONSTER:'o',random,(36,03)
+XMONSTER:'r',"sewer rat",(37,03)
+XMONSTER:'c',random,(38,03)
+XMONSTER:'e',random,(39,03)
+XMONSTER:':',random,(40,03)
+XMONSTER:'b',random,(41,03)
+XMONSTER:'e',random,(42,03)
+XMONSTER:':',random,(43,03)
+XMONSTER:'w',random,(44,03)
+XMONSTER:'i',random,(45,03)
+XMONSTER:'t',random,(46,03)
+XMONSTER:'h',"hobbit",(47,03)
+XMONSTER:':',random,(48,03)
+XMONSTER:'y',random,(49,03)
+XMONSTER:'o',random,(50,03)
+XMONSTER:'u',"young unicorn",(51,03)
+X
+X# "WELCOME"
+XMONSTER:'W',"wraith",(53,09)
+XMONSTER:'E',random,(53,10)
+XMONSTER:'L',"baby lich",(53,11) 
+XMONSTER:'C',random,(53,12)
+XMONSTER:'O',random,(53,12)
+XMONSTER:'M',random,(53,13)
+XMONSTER:'E',random,(53,14)
+X
+X# To ensure that the player can see the artwork 
+XOBJECT:'"',"amulet of ESP",random
+XOBJECT:'(',"blindfold",random
+X
+XOBJECT:'!',"Jolt Cola",random
+XOBJECT:'!',"Jolt Cola",random
+XOBJECT:'/',"digging",random
+X
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+X
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+X
+X# --- locate level ---
+X
+X# looks harmless but *IS* tough!!!
+X
+XMAZE: "G-locate",' '
+XFLAGS: hardfloor
+XGEOMETRY: center,center
+X
+X#         1         2         3         4         5         6         7
+X#123456789012345678901234567890123456789012345678901234567890123456789012345
+X
+XMAP
+X............................................................................
+X............................................................................
+X............................................................................
+X............................................................................
+X.....--------------------------|............|--------------------------.....
+X...............................|............|...............................
+X...-------------------------|..|............|..|-------------------------...
+X............................|..|............|..|............................
+X.---------------------|--|..|..|............|..|..|--|---------------------.
+X......................|..|..|..|............|..|..|..|......................
+X.---------------------|--|..|..|............|..|..|--|---------------------.
+X............................|..|............|..|............................
+X...-------------------------|..|............|..|-------------------------...
+X...............................|............|...............................
+X.....--------------------------|............|--------------------------.....
+X............................................................................
+X............................................................................
+X............................................................................
+X............................................................................
+X............................................................................
+XENDMAP
+X
+XRANDOM_PLACES: (24,09), (27,09), (30,09), (45,09), (48,09), (51,09)
+X
+XREGION:(00,00,75,19),lit,"ordinary"
+X
+X# the niches 
+XSTAIR:place[0],down
+XOBJECT:'"',"amulet of life saving",place[1]
+XOBJECT:'"',"amulet of strangulation",place[2]
+XMONSTER:'m',"giant mimic",place[3], m_feature "staircase down"
+XMONSTER:'m',"giant mimic",place[4], m_feature "staircase down"
+XTRAP:"polymorph",place[5]
+X
+XSTAIR:random,up
+X
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+X
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+XMONSTER:random,random,random,hostile
+X
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+XTRAP:random,random
+X
+X# --- the goal level ---
+X
+XMAZE: "G-goal", ' '
+XGEOMETRY:center,center
+X
+X#         1         2         3         4         5         6         7
+X#123456789012345678901234567890123456789012345678901234567890123456789012345
+X
+XMAP
+X............................................................................
+X.-------------------------------------------------------------------------|.
+X..........................................................................|.
+X....|-----------------------------------------------------------------|...|.
+X....|.................................................................|...|.
+X....|...|---------------------------------------------------------|...|...|.
+X....|...|...+.....................................................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|........................\............................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|.....................................................|...|...|.
+X....|...|...|-----------------------------------------------------|...|...|.
+X....|...|.............................................................|...|.
+X....|...|-------------------------------------------------------------|...|.
+X....|.....................................................................|.
+X....|---------------------------------------------------------------------|.
+X............................................................................
+X............................................................................
+XENDMAP
+X
+XREGION:(0,0,75,19),lit,"ordinary"
+X
+XSTAIR:(75,19),up
+X
+XDOOR:locked,(12,06)
+X
+X# that's what's this all about :-)
+XOBJECT:'(',"pack of floppies",(37,09),blessed,0,"The Nethack Sources"
+XMONSTER:'@',"Bill Gates",(37,09)
+X
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+XMONSTER:random,random,random
+X
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+XOBJECT:'(',"pack of floppies",random
+X
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+X
+X# --- fill a ---
+X
+XLEVEL: "G-filla"
+X
+XROOM: "ordinary", random, random, random, random
+XSTAIR: random,up
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XSTAIR: random,down
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XRANDOM_CORRIDORS
+X
+X
+X# --- fill b ---
+X
+XLEVEL: "G-fillb"
+X
+XROOM: "ordinary", random, random, random, random
+XSTAIR: random,up
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XSTAIR: random,down
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XROOM: "ordinary", random, random, random, random
+XOBJECT:random,random,random
+XOBJECT:random,random,random
+XMONSTER:random,random,random
+XTRAP:random,random
+X
+XRANDOM_CORRIDORS
+END_OF_./dat/Geek.des
+if test 11692 -ne `wc -c <./dat/Geek.des`; then
+    echo shar: \"./dat/Geek.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/spec_levs -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/spec_levs\"
+else
+echo shar: Extracting \"./dat/spec_levs\" \(0 character\)
+sed "s/^X//" >./dat/spec_levs <<'END_OF_./dat/spec_levs'
+END_OF_./dat/spec_levs
+if test 0 -ne `wc -c <./dat/spec_levs`; then
+    echo shar: \"./dat/spec_levs\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/dragon.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/dragon.des\"
+else
+echo shar: Extracting \"./dat/dragon.des\" \(1902 characters\)
+sed "s/^X//" >./dat/dragon.des <<'END_OF_./dat/dragon.des'
+X# The Draconian Level
+X# still to be done ...
+X
+XMAZE: "dragon", ' '
+X# FLAGS:
+XGEOMETRY: center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+X----------------------------------------------------------------------------
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|--------------------------------------------------------------------------|
+XENDMAP
+X
+XRANDOM_MONSTERS: 'D'
+X
+XSTAIR: random,up
+XSTAIR: random,down
+X
+XMONSTER:'D',"Dragon Lord",random,hostile
+X
+END_OF_./dat/dragon.des
+if test 1902 -ne `wc -c <./dat/dragon.des`; then
+    echo shar: \"./dat/dragon.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/rulebar -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/rulebar\"
+else
+echo shar: Extracting \"./dat/rulebar\" \(150 characters\)
+sed "s/^X//" >./dat/rulebar <<'END_OF_./dat/rulebar'
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+END_OF_./dat/rulebar
+if test 150 -ne `wc -c <./dat/rulebar`; then
+    echo shar: \"./dat/rulebar\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/forge.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/forge.des\"
+else
+echo shar: Extracting \"./dat/forge.des\" \(1870 characters\)
+sed "s/^X//" >./dat/forge.des <<'END_OF_./dat/forge.des'
+X# the forge
+X
+XMAZE:"forge",' '
+XGEOMETRY:center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.......LLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.........LLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.......LLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLL...|............LLLLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLL.....|..............LLLLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLL..L...|................LLLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLL........|.................LLLLLLLLLLLLLLLL.LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLL............................................LLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLL....}...|.................LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLL......|...............LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLL....|..............LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
+XENDMAP
+X
+XSTAIR:(56,02),up
+XSTAIR:(62,02),down
+X
+XREGION:(00,00,75,19),lit,"ordinary"
+X
+XMONSTER:'@',"blacksmith",(25,10),"Duri"
+X
+END_OF_./dat/forge.des
+if test 1870 -ne `wc -c <./dat/forge.des`; then
+    echo shar: \"./dat/forge.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/quest_levs -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/quest_levs\"
+else
+echo shar: Extracting \"./dat/quest_levs\" \(0 character\)
+sed "s/^X//" >./dat/quest_levs <<'END_OF_./dat/quest_levs'
+END_OF_./dat/quest_levs
+if test 0 -ne `wc -c <./dat/quest_levs`; then
+    echo shar: \"./dat/quest_levs\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/template.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/template.des\"
+else
+echo shar: Extracting \"./dat/template.des\" \(1772 characters\)
+sed "s/^X//" >./dat/template.des <<'END_OF_./dat/template.des'
+X# whatever ...
+X
+XMAZE: "template", ' '
+XFLAGS:
+XGEOMETRY: center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+X----------------------------------------------------------------------------
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|..........................................................................|
+X|--------------------------------------------------------------------------|
+XENDMAP
+X
+X
+END_OF_./dat/template.des
+if test 1772 -ne `wc -c <./dat/template.des`; then
+    echo shar: \"./dat/template.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/key.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/key.des\"
+else
+echo shar: Extracting \"./dat/key.des\" \(2973 characters\)
+sed "s/^X//" >./dat/key.des <<'END_OF_./dat/key.des'
+X# This is where you might get the Key Of Access
+X# The level is somewhat inspired by the Rogue Quest.
+X
+XMAZE: "key", ' '
+X# we cannot use noteleport - this would prevent the nymphs and leprechauns
+X# from teleporting, too.
+XFLAGS: nommap
+XGEOMETRY: center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+X----------------------------------------------------------------------------
+X|..S...+}....S.......|}|.|L.....IIIPPPCCCAAAAAAAAA.....S...................|
+X|---...|}....|..|-S--|}|.|L..............AAAAAAAAA.....|-----------------|.|
+X|......|}.|..|-S-....S}|.|L.....IIIP......AAAAAAAA.....|.................|.|
+X|---S---}.|..|II|..---}|.|L.....IIIPPP...AAAAAAAAA.....|.|-------------|.|.|
+X|}}}.}}}}.|..|CC|..|}}}|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.............|.|.|
+X|.........|..|AA|..|}|-|.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|---------|.|.|.|
+X|----------------S--}|...|L.....IIIPPPCCCA...AAAAA.....|.|.|.........|.|.|.|
+X|}}}}}}}}}}}}}}}}}.}}|...|L.....IIIPPPCCCAA..AAAAA.....|.|.|.|-----|.|.|.|.|
+X|-----------------.--|...|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+X|................|.|.....|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|.....|.|.|.|.|
+X|.|..|..|..|.....S.|.....|L.....IIIP..CCCAAA....AA.....|.|.|.|S----|.|.|.|.|
+X|.|--|--|--|-----|-|.....|L.....IIIP.PCCCAA....AAA.....|.|.|.|.......|.|.|.|
+X|........................|L.....IIIPPPCCCAAAAAAAAA.....|.|.|.|-------|.|.|.|
+X|-----------------------.|L.....IIIPPPCCCAAAAAAAAA.....|.|.|...........|.|.|
+X|...S..................S.|L.....IIIPPPCCCA....AAAA.....|.|.------------|.|.|
+X|...---------------------|L.....IIIPPPCCCAAAAAAAAA.....|.|...............|.|
+X|........................|L.....IIIPPPCCCAAAAA.........|.|---------------|.|
+X|........................S......IIIPPPCCCAAAAAAAAA.....|...................|
+X|--------------------------------------------------------------------------|
+XENDMAP
+X
+XRANDOM_MONSTERS: 'l', 'n'
+XREGION:(00,00,75,19),unlit,"ordinary"
+XNON_DIGGABLE:(00,00,75,19)
+X
+XSTAIR:(01,01),up
+XSTAIR:(01,06),down		
+X
+XDOOR:locked,(03,01)
+XDOOR:open,(07,01)
+XDOOR:locked,(04,04)
+XDOOR:locked,(13,01)
+XDOOR:locked,(15,03)
+XDOOR:locked,(21,03)
+XDOOR:locked,(17,07)
+XDOOR:locked,(17,11)
+XDOOR:locked,(25,18)
+XDOOR:locked,(18,02)
+XDOOR:locked,(04,15)
+XDOOR:locked,(23,15)
+XDOOR:locked,(62,11)
+XDOOR:locked,(62,11)
+X
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'l',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',random,random,awake
+XMONSTER:'n',"nymph queen",(64,09),hostile,awake
+X
+XTRAP:"board",(62,12)
+XTRAP:"board",(63,12)
+X
+END_OF_./dat/key.des
+if test 2973 -ne `wc -c <./dat/key.des`; then
+    echo shar: \"./dat/key.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./dat/hitch.des -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./dat/hitch.des\"
+else
+echo shar: Extracting \"./dat/hitch.des\" \(3509 characters\)
+sed "s/^X//" >./dat/hitch.des <<'END_OF_./dat/hitch.des'
+X# This is the Hitchhiker's Level. It is created to the honour of Douglas
+X# Noel Adams and his works.
+X
+XMAZE: "hitch", ' '
+XFLAGS: nommap
+XGEOMETRY: center,center
+X#         1         2         3         4         5         6         7 
+X# 23456789012345678901234567890123456789012345678901234567890123456789012345
+XMAP
+X----------------------------------------------------------------------------
+X|..........................................................................|
+X|..............|.........................|--------|........................|
+X|..............|.......................--|........|--......................|
+X|..............|.....................--|............|--....................|
+X|..............|.....................|................|-.............|.....|
+X|..............|......|................................|.............-.....|
+X|..............|......|................................|...........-|.|-...|
+X|..............|......|...............................-|..........-|...|-..|
+X|..............|......|..............................-|...........|.....|..|
+X|..............|......|............................--|...........----+----.|
+X|..............|------|-------...................--|.............|||...|||.|
+X|................PPPPP|.......................---|................|.....|..|
+X|................PPPPP|....................---|...................|.....|..|
+X|.....................|.............|------|......................|.....|..|
+X|.....................|.............|......................................|
+X|-------..............|.............|-----------------------...............|
+X|......|...................................................................|
+X|......+...................................................................|
+X|--------------------------------------------------------------------------|
+XENDMAP
+X
+XREGION: (00,00,75,19),unlit,"ordinary"
+X
+XSTAIR:(15,01),up
+XSTAIR:(37,15),down
+X
+XMONSTER: 'A',"Douglas Adams",(22,05),hostile,asleep
+XMONSTER: '@',"Ford Perfect",(16,10),hostile,asleep
+XMONSTER: '@',"Arthur Dent",(17,10),hostile,asleep
+XMONSTER: '@',"Mr. Prosser",(18,10),hostile,awake
+X
+XMONSTER: 'a', "Ravenous Bugblatter Beast Of Traal",random,hostile,awake
+XMONSTER: 'Z', "creeping 42",random
+XMONSTER: 'Z', "creeping 42",random
+XMONSTER: 'Z', "creeping 42",random
+XMONSTER: 'x', "microscopic space fleet",random
+XMONSTER: 'f', "algolian suntiger",random
+XMONSTER: 'f', "algolian suntiger",random,hostile,asleep
+X
+X# The Vogon Headquarter
+XDOOR: locked, (07,18)
+XMONSTER: 'V',"Prostetnik Vogon Jeltz",(01,17),hostile,asleep
+XMONSTER: 'V',"vogon lord",(01,18),hostile,asleep
+XMONSTER: 'V',"vogon",(02,17),hostile,asleep
+XMONSTER: 'V',"vogon lord",(02,18),hostile,asleep
+XMONSTER: 'V',"vogon",(03,17),hostile,asleep
+XMONSTER: 'V',"vogon",(03,18),hostile,asleep
+XMONSTER: 'V',"vogon",(04,17),hostile,asleep
+XMONSTER: 'V',"vogon",(04,18),hostile,asleep
+XMONSTER: 'V',"vogon lord",(05,17),hostile,asleep
+XMONSTER: 'V',"vogon",(05,18),hostile,asleep
+XMONSTER: 'V',"vogon",(06,17),hostile,asleep
+XMONSTER: 'V',"vogon lord",(06,18),hostile,asleep
+X
+X# The Heart Of Gold
+XDOOR: closed, (69,10)
+XMONSTER: 'Y',"Zaphod Breeblebrox",(69,07),hostile,awake
+XMONSTER: 'x',"Deep Thought",(67,09),hostile,awake
+XMONSTER: 'x',"Eddie",(71,09),hostile,awake
+XMONSTER: 'X',"Marvin",(69,08),hostile,asleep
+X
+X# The Aquarium
+X# (random for ; will find water positions)
+XMONSTER: ';',"babelfish",random,hostile,awake
+XMONSTER: ';',"babelfish",random,hostile,awake
+XMONSTER: ';',"babelfish",random,hostile,awake
+X
+END_OF_./dat/hitch.des
+if test 3509 -ne `wc -c <./dat/hitch.des`; then
+    echo shar: \"./dat/hitch.des\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/Sysunix -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/Sysunix\"
+else
+echo shar: Extracting \"./src/Sysunix\" \(0 character\)
+sed "s/^X//" >./src/Sysunix <<'END_OF_./src/Sysunix'
+END_OF_./src/Sysunix
+if test 0 -ne `wc -c <./src/Sysunix`; then
+    echo shar: \"./src/Sysunix\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/.gdbinit -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/.gdbinit\"
+else
+echo shar: Extracting \"./src/.gdbinit\" \(26 characters\)
+sed "s/^X//" >./src/.gdbinit <<'END_OF_./src/.gdbinit'
+Xset args -D -V -u wizard
+X
+END_OF_./src/.gdbinit
+if test 26 -ne `wc -c <./src/.gdbinit`; then
+    echo shar: \"./src/.gdbinit\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/school.c -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/school.c\"
+else
+echo shar: Extracting \"./src/school.c\" \(4814 characters\)
+sed "s/^X//" >./src/school.c <<'END_OF_./src/school.c'
+X/* 	SCCS Id: @(#)school.c 	3.1 	94/26/03	*/
+X/* NetHack may be freely redistributed.  See license for details. */
+X/* Copyright 1994, Sebastian Klein */
+X
+X#include "hack.h"
+X#include <stdio.h>
+X
+X#ifdef SOUNDS
+X#ifdef OVL0
+X
+Xstatic char *pupil_msgs[] = {
+X	"Today no homework ... *please*",
+X	"six times nine is ... um ... uh ... ... forty-two",
+X	"you ... Strange word",	/* You're not expected to understand this ... */
+X	"Bugger off!",
+X	"*uck off!",
+X	"What are the newest news about the Super Information Highway?",
+X	"What do you want?",
+X	"Do the world a favour---jump out of the 20th story of the Uni-Center!",
+X	NULL
+X};
+X
+Xstatic char *baumert_msgs[] = {
+X	"No chance! Every day you'll get homework!",
+X	"Is it really true? Does really _everybody_ have the homework?",
+X	"That usage of the word 'goes' does harm to my ears!",
+X	NULL
+X};
+X
+Xstatic char *gier_msgs[] = {
+X	"Your attitude is really unacceptable!",
+X	"The \"Stigel-Brauerei\" was founded 1492. Well, in that year was that affair with that guy, Columbus, but that really isn't important.",
+X	"Why are you going? I'm only 20 minutes late!",
+X	NULL
+X};
+X
+Xstatic char *dickler_msgs[] = {
+X	"Where's your problem? I'll be happy to help you",
+X	"You didn't understand? Then let's begin again ... (*sigh*)",
+X	NULL
+X};
+X
+Xstatic char *overbeck_msgs[] = {
+X	"No homework yet? - This can be changed!",
+X	"Overbecks - das Ueberbier",
+X	NULL
+X};
+X
+Xstatic char *klomp_msgs[] = {
+X	"How about dehydrating carbonhydrates today?",
+X	"Back when I was a pupil, the following thing happened ...",
+X	"Back when I was studying chemistry, the following thing happened ...",
+X	NULL
+X};
+X
+Xstatic char *alers_msgs[] = {
+X	"... dann ist die Scheisse am dampfen",
+X	"NIKI forever!",
+X	"Pascal forever!",
+X	"Yes ... I know that everything is easier in C, but I simply love Pascal ...",
+X	NULL
+X};
+X
+Xstatic char *geis_haastert_msgs[] = {
+X	"You have Str:0 (at most), so bugger off!",
+X	"Do it - who cares about the odd broken bone?",
+X	"You are sick because you were running for 30 minutes? So run another hour!",
+X	"Shall I help you? (takes the whip)",
+X	NULL
+X};
+X
+Xstatic char *koerfgen_msgs[] = {
+X	"We'll do that diagonally. *grin* (wipes sweat off head)",
+X	"*grin*",
+X	"You know, (*grin*) we'll have to do something now! (*grin*)",
+X	NULL
+X};
+X
+Xstatic char *ennen_msgs[] = {
+X	"How about a pupil experiment - cut off your ears?",
+X	"Yet another pupil experiment: the consequences of KCN ingested.",
+X	NULL
+X};
+X
+Xstatic char *ellerhold_msgs[] = {
+X	"Don't expect to get away without homework!",
+X	"No homework in the holidays? You must have something to do, after all!",
+X	"The low level of you all is really beyond acception!",
+X	NULL
+X};
+X
+Xstatic char *hartstone_msgs[] = {
+X	"There was endless work in the supervision and administration of the farm ...",
+X	/* it's really a shame that I can't think of more messages for him */
+X	NULL
+X};
+X
+Xstatic char *generic_msgs[] = {
+X	"I expect you to do your homework _regularly_ and _carefully_!",
+X	"The level of work is really very low nowadays!",
+X	"In _our_ times pupils were real pupils and teachers were real teachers!",
+X	"Back when pupils where real pupils and teachers were real teachers, everything was better!",
+X	NULL
+X};
+X
+Xstatic struct teacher_msg_desc {
+X	char *teacher_name;
+X	char **messages;
+X} teacher_msgs[] = {
+X	{ "Mr. Baumert",	baumert_msgs },
+X	{ "Mr. Gier",		gier_msgs },
+X	{ "Mrs. Dickler",	dickler_msgs },
+X	{ "Mr. Overbeck",	overbeck_msgs },
+X	{ "Mr. Klomp",		klomp_msgs },
+X	{ "Mr. Alers",		alers_msgs },
+X	{ "Mr. Geis",		geis_haastert_msgs },
+X	{ "Mrs. Haastert",	geis_haastert_msgs },
+X	{ "Mr. Koerfgen",	koerfgen_msgs },
+X	{ "Mr. Ennen",		ennen_msgs },
+X	{ "Mr. Ellerhold",	ellerhold_msgs },
+X	{ "Mr. Hartstone",	hartstone_msgs },
+X	{ NULL,			generic_msgs }
+X};
+X
+Xstatic char *principal_msgs[] = {
+X	"What's up?",
+X	"I really feel sick - there are so many things to do!",
+X	"Help me, I faint!",
+X	"We'll do that in groups of one person!",
+X	NULL
+X};
+X
+Xboolean is_principal(struct monst *mon)
+X{
+X	return(mon->mnum == PM_PRINCIPAL);
+X}
+X
+Xboolean is_teacher(struct monst *mon)
+X{
+X	return(mon->mnum == PM_TEACHER);
+X}
+X
+Xboolean is_educator(struct monst *mon)
+X{
+X	return(is_teacher(mon) || is_principal(mon));
+X}
+X
+Xstatic void select_message(char **msgs)
+X{
+X	int i;
+X
+X	i = 0;
+X	while (msgs[i] != NULL) i++;
+X	verbalize(msgs[rn2(i)]);
+X
+X}
+X
+Xstatic void select_teacher_message(struct teacher_msg_desc *mmsgs,char *tname)
+X{
+X	int i;
+X
+X	i = 0;
+X	while (mmsgs[i].teacher_name != NULL) {
+X		if (strcmp(mmsgs[i].teacher_name,tname) == 0) {
+X			select_message(mmsgs[i].messages);
+X			return;
+X		}
+X		i++;
+X	}
+X	select_message(mmsgs[i].messages);
+X}
+X
+Xvoid pupil_sound(struct monst *mon)
+X{
+X	select_message(pupil_msgs);
+X}
+X
+Xvoid teacher_sound(struct monst *mon)
+X{
+X	select_teacher_message(teacher_msgs,NAME(mon));
+X}
+X
+Xvoid principal_sound(struct monst *mon)
+X{
+X	select_message(principal_msgs);
+X}
+X
+X#endif /* OVL0 */
+X
+X#endif /* SOUNDS */
+X
+X/* school.c */
+X
+END_OF_./src/school.c
+if test 4814 -ne `wc -c <./src/school.c`; then
+    echo shar: \"./src/school.c\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/smith.c -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/smith.c\"
+else
+echo shar: Extracting \"./src/smith.c\" \(7937 characters\)
+sed "s/^X//" >./src/smith.c <<'END_OF_./src/smith.c'
+X/* 	SCCS Id: @(#)smith.c 	3.1 	94/10/04	*/
+X/* NetHack may be freely redistributed.  See license for details. */
+X/* Copyright 1994, Sebastian Klein */
+X
+X#include "hack.h"
+X#include <stdio.h>
+X#include <ctype.h>
+X
+X#ifdef OVL0
+X
+Xstatic int time_finished = -1;
+Xstatic struct obj *weapon = NULL;
+X
+Xstatic char *not_interested = "signalize that you are not interested anymore.";
+X
+Xstruct prices_t
+X{
+X	int artifact;
+X	long price;
+X};
+X
+X/* the code relies on that a) the artifacts are presented in ascending */
+X/*			      order of price */
+X/*		       and b) no two given artifacts have the same price. */
+Xstatic struct prices_t prices[] = {
+X	{ ART_STING,			500 },
+X	{ ART_ORCRIST,			600 },
+X	{ ART_MUMAKBANE,		1000 },
+X	{ ART_SHOCKER,			2000 },
+X	{ ART_GRIMTOOTH,		2500 },
+X	{ ART_CLEAVER,			3000 },
+X	{ ART_OGRESMASHER,		3500 },
+X	{ ART_TROLLSBANE,		4000 },
+X	{ ART_WORMBITER,		4500 },
+X	{ ART_DRAGONBANE,		5000 },
+X	{ ART_WEREBANE,			5200 },
+X	{ ART_FIRE_BRAND,		6500 },
+X	{ ART_FROST_BRAND,		6750 },
+X	{ ART_SUNSWORD,			7000 },
+X	{ ART_MAGICBANE,		8000 },
+X	{ ART_GIANTSLAYER,		8500 },
+X	{ ART_DEMONBANE,		9000 },
+X	{ ART_SNICKERSNEE,		9500 },
+X	{ ART_EXCALIBUR,		10000 },
+X	{ ART_MJOLLNIR,			11000 },
+X	{ ART_STORMBRINGER,		12000 },
+X	{ ART_VORPAL_BLADE,		15000 },
+X	{ ART_GRAYSWANDIR,		17500 },
+X	{ 0,				0 }
+X};
+X
+Xstatic boolean acceptable_artifact(int artifact)
+X{
+X	if (exists_nrartifact(artifact)) return(FALSE);
+X	if (nogen_nrartifact(artifact)) return(FALSE);
+X	return(TRUE);
+X}
+X
+Xstatic int artiid2i(int artifact)
+X{
+X	int i;
+X
+X	i = 0;
+X	while (prices[i].artifact > 0) {
+X		if (prices[i].artifact == artifact) return(i);
+X		i++;
+X	}
+X	return(-1);
+X}
+X
+X/* consistent with shk.c */
+Xstatic long adjust_gold(long amount)
+X{
+X	long x;
+X
+X	x = amount;
+X	if (ACURR(A_CHA) > 18) 		x *= 2L;
+X	else if (ACURR(A_CHA) > 17)	x += x / 3L;
+X	else if (ACURR(A_CHA) > 15)	x += x / 4L;
+X	else if (ACURR(A_CHA) < 6)	x /= 2L;
+X	else if (ACURR(A_CHA) < 8)	x -= x / 2L;
+X	else if (ACURR(A_CHA) < 11)	x -= x / 3L;
+X	if (x <= 0L) x = 1L;
+X	return(x);
+X}
+X
+Xstatic long unadjust_gold(long ramount)
+X{
+X	long x;
+X
+X	x = ramount;
+X	if (ACURR(A_CHA) > 18)		x /= 2L;
+X	else if (ACURR(A_CHA) > 17)	x -= x / 3L;
+X	else if (ACURR(A_CHA) > 15)	x -= x / 4L;
+X	else if (ACURR(A_CHA) < 6)	x *= 2L;
+X	else if (ACURR(A_CHA) < 8)	x += x / 2L;
+X	else if (ACURR(A_CHA) < 11)	x += x / 3L;
+X	if (x <= 0L) x = 1L;
+X	return(x);
+X}
+X
+Xstatic void apply_extras(struct obj *o,int extras)
+X{
+X	boolean id;
+X
+X	id = FALSE;
+X	while (extras > 0) {
+X		switch(rn2(5)) {
+X			case 0:	if (!o->blessed) {
+X					o->cursed = FALSE;
+X					o->blessed = TRUE;
+X					break;
+X				} /* else fallthrough */
+X			case 1: if (!id) {
+X					makeknown(o->otyp);
+X					o->known = o->dknown = o->bknown = TRUE;
+X					o->rknown = id = TRUE;
+X					break;
+X				} /* else fallthrough */
+X			case 2:	if (!o->oerodeproof) {
+X					o->oerodeproof = TRUE;
+X					o->greased = FALSE;
+X					break;
+X				} /* else fallthrough (twice) */
+X			case 3: if (!o->greased && !o->oerodeproof) {
+X					o->greased = TRUE;
+X					break;
+X				} /* else fallthrough */
+X			case 4: o->spe++;
+X				break;
+X		}
+X		extras--;
+X	}
+X	if (o->spe > 5) o->spe = 5;
+X}
+X
+Xstatic boolean select_weapon(long ramount)
+X{
+X	struct obj *otmp;
+X	int i,j;
+X
+X	if (ramount < prices[0].price) {
+X		verbalize("What? That little? You're never going to get a personal weapon for that!");
+X		if (ramount >= 100) {	
+X			verbalize("But you may have this.");
+X			otmp = mksobj(LONG_SWORD,TRUE,FALSE);
+X			otmp->spe = rn2(5) ? 0 : 1;
+X			otmp->oeroded = 1;		
+X			hold_another_object(otmp,"Oops! %s out of your grasp!",The(aobjnam(otmp,"slip")),(const char *) 0);
+X			return(TRUE);
+X		} else {
+X			return(FALSE);
+X		}
+X	}
+X
+X	i = 0;
+X	while (ramount > prices[i].price && prices[i].artifact != 0) i++;
+X	if (prices[i].artifact == 0) i--;
+X
+X	j = 0;
+X	while (i >= 0 && j <= 4 && !acceptable_artifact(prices[i].artifact)) {
+X		j++;
+X		i--;
+X	}
+X	if (!acceptable_artifact(prices[i].artifact)) {
+X		verbalize("I'm sorry, but I am out of stock in this price class.");
+X		return(FALSE);
+X	}
+X
+X	weapon = mksobj(nrartifact_obtype(prices[i].artifact),TRUE,FALSE);
+X	weapon = oname(weapon,artiname(prices[i].artifact),0);
+X	weapon->cursed = FALSE;
+X	apply_extras(weapon,j);
+X
+X	return(TRUE);
+X}
+X
+Xstatic void make_buy1()
+X{
+X	char artname[BUFSZ],buf[BUFSZ];
+X	int artino,artiind;
+X	boolean ok;
+X	int i;
+X	int extras;
+X	long amount;
+X	char c;
+X	int time_to_take;
+X
+X	if (weapon != NULL) {
+X		impossible("weapon left over? (1)");
+X		weapon = NULL;
+X	}
+X
+X	ok = FALSE;
+X	do {
+X		getlin("How do you want me to call your new artifact?",artname);
+X		if (artname[0] == 0) {
+X			You(not_interested);
+X			return;
+X		}			
+X		artino = artifact_name2no(artname);
+X		if (!artino) {
+X			verbalize
+X("I think this is a dull name. I really can't associate anything with it.");
+X			continue;
+X		}
+X		if (exists_nrartifact(artino)) {
+X			verbalize
+X("I have already used that name and I never use the same name again.");
+X			continue;
+X		}
+X		artiind = artiid2i(artino);
+X		if (!acceptable_artifact(artino) || artiind == -1) {
+X			verbalize
+X			("I don't know ... I don't think that's a good name.");
+X			continue;
+X		}
+X		ok = TRUE;
+X	} while(!ok);
+X
+X	getlin("How many extras do you want?",buf);
+X	i = 0;
+X	while (buf[i] != 0) {
+X		if (!isdigit(buf[i])) {
+X			verbalize("What a strange number this is!");
+X			return;
+X		}
+X		i++;
+X	}
+X	extras = atoi(buf);
+X	if (extras > 6) {
+X		verbalize("Sorry, but I cannot offer more that 6 extras!");
+X		return;
+X	}
+X
+X	amount = unadjust_gold(prices[artiind].price + extras*1000L);
+X
+X	verbalize("That will cost you %li zorkmids.",amount);
+X	if (u.ugold < amount) {
+X		pline("Unfortunately, you don't have enough money.");
+X		You(not_interested);
+X		return;
+X	}
+X	c = yn_function("Accept?","yn",'y');
+X	if (tolower(c) == 'n') {
+X		You(not_interested);
+X		return;
+X	}
+X	u.ugold -= amount;
+X
+X	weapon = mksobj(nrartifact_obtype(prices[artiind].artifact),TRUE,FALSE);
+X	weapon = oname(weapon,artiname(prices[artiind].artifact),0);
+X	weapon->cursed = FALSE;
+X	apply_extras(weapon,extras);
+X
+X	time_to_take = adjust_gold(amount) / 10;
+X	verbalize("I'll immediately start working. Please come back in approximately %i00 turns.",time_to_take / 100);
+X	verbalize("to receive your new weapon.");
+X#ifdef WIZARD
+X	pline("(%i)",time_to_take);
+X#endif
+X	time_finished = moves + time_to_take;
+X}
+X
+Xstatic void make_buy2()
+X{
+X	char buf[BUFSZ];
+X	int ok;
+X	int i;
+X	long amount;
+X	int time_to_take;
+X
+X
+X	if (weapon != NULL) {
+X		impossible("weapon left over (2)?");
+X		weapon = NULL;
+X	}
+X
+X	do {
+X		ok = 1;
+X		getlin("How much money are you willing to invest?",buf);
+X		i = 0;
+X		if (buf[0] == 0) {
+X			You(not_interested);
+X			return;
+X		}
+X		while (buf[i] != 0) {
+X	 		if (!isdigit(buf[i])) ok = 0;
+X			i++;
+X		}
+X		if (!ok) {
+X			verbalize("Please talk English to me!");
+X			continue;
+X		}
+X		amount = atol(buf);
+X		if (amount <= 0) {
+X			You(not_interested);
+X			return;
+X		}
+X		if (amount > u.ugold) {
+X			You("don't have that much money!");
+X			ok = 0;
+X			continue;
+X		}
+X	} while (!ok);
+X
+X	if (select_weapon(adjust_gold(amount))) {
+X		u.ugold -= amount;
+X		You("hand the smith %li zorkmids.",amount);
+X	}
+X
+X	if (!weapon) return;
+X
+X	time_to_take = adjust_gold(amount) / 10;
+X	
+X	verbalize("I will immediately start working. Please come back in approximately %i00 turns",time_to_take / 100);
+X	verbalize("to receive your new weapon.");
+X#ifdef WIZARD
+X	if (wizard) pline("(%i)",time_to_take);
+X#endif
+X	time_finished = moves + time_to_take;
+X}
+X
+Xstatic void hand_object(void)
+X{
+X	if (weapon == NULL) {
+X		impossible("no blade to give?");
+X		return;
+X	}
+X
+X	verbalize("This is your blade. It shall be known as %s from now on.",artiname(weapon->oartifact));
+X	hold_another_object(weapon,"Oops! You accidentally drop your new blade!",(const char *) 0,(const char *) 0);
+X	time_finished = -1;
+X	weapon = NULL;
+X}
+X
+Xvoid smith_selling(struct monst *smith)
+X{
+X	if (time_finished == -1) {
+X		if (ACURR(A_CHA) > 14) {
+X			make_buy1();
+X		} else {
+X			make_buy2();
+X		}
+X	} else if (time_finished <= moves) {
+X		hand_object();
+X	} else {
+X		verbalize("I'm working. Please don't disturb me again!");
+X		time_finished += 5;	/* he was interrupted */
+X	}
+X}
+X
+X#endif /* OVL0 */
+X
+X/* smith.c */
+X
+END_OF_./src/smith.c
+if test 7937 -ne `wc -c <./src/smith.c`; then
+    echo shar: \"./src/smith.c\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./src/link -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./src/link\"
+else
+echo shar: Extracting \"./src/link\" \(72 characters\)
+sed "s/^X//" >./src/link <<'END_OF_./src/link'
+Xrm -f nethack.a
+Xnethack_arcmd
+Xnethack_l2cmd
+X>cc
+Xchmod +x cc
+Xmake
+Xrm cc
+X
+END_OF_./src/link
+if test 72 -ne `wc -c <./src/link`; then
+    echo shar: \"./src/link\" unpacked with wrong size!
+fi
+chmod +x ./src/link
+# end of overwriting check
+fi
+if test -f ./README.DNA -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./README.DNA\"
+else
+echo shar: Extracting \"./README.DNA\" \(6577 characters\)
+sed "s/^X//" >./README.DNA <<'END_OF_./README.DNA'
+XThis is a NetHack 3.1.3 extension featuring several monster fashioned
+Xafter the Hitchhiker trilogy (five volumes) by Douglas Adams. It contains,
+Xamong other things, 14 new monsters and 5 new objects.
+X
+X				* * *
+X
+XI hereby declare these patches to be in the Public Domain, therefore
+Xyou (yes, _you_) are free to do with them what you want. However, I
+Xdo not assume any liability, explicit or implicit, for any damages
+Xcaused by bugs in these patches.
+XI hereby certify that I, at the time of signing this statement, am 
+Xin a state of sound body and mind.
+X				Cologne 03/11/94, Sebastian Peter Klein
+X
+X(However notice the NetHack license implications of applying my patch
+Xto the nethack sources)
+X
+X				* * *
+X
+XTo apply the patches, use patch from your nethack root directory.
+XNotice that all changes are surrounded by #ifdef DOUGLAS_ADAMS (already
+Xautomagically patched in the Makefile s).
+X
+X				* * *
+X
+XSpoilers for all the features of these patches follow ...
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+XNew monsters:
+X	- Ravenous Bugblatter Beast of Traal ('a')
+X		Nothing really remarkable here (well, almost nothing ...),
+X		although these are somewhat hard to kill. The towel 
+X		trick is not yet implemented. :-)
+X
+X	- microscopic space fleet ('x')
+X		These monsters appear in large groups and zap you. This
+X		is their only attack. While rather benign to players
+X		past the few levels, they can turn your precious wands
+X		to dust, which is the only threat they really pose.
+X
+X	- Deep Thought ('x', unique)
+X		This poor computer doesn't pose a threat at all, as it
+X		cannot move. When being asked, it will try to convince you
+X		that 6*9=42.
+X
+X	- Douglas Adams ('A', unique)
+X		He is not the guy you would want to get in trouble with
+X		(at least not in NetHack :-). He flies, for he has missed
+X		the floor, and is electricity resistant, something developed
+X		in his long experience with computers. 
+X		He will carry the Hitchhiker's Guide to the Galaxy.
+X		NOTE to the real DNA: If you should ever get these little
+X		patches into your hands, please don't get upset about the
+X		somewhat unflattering description of yourself and rather
+X		remember that _you_ are the person who set all the
+X		trouble off ... :-)
+X
+X	- vogon ('V')
+X		These, being very vampire-like, really deserve the letter
+X		assigned to them. They do little damage however and are,
+X		as opposed to their lords, rather harmless.
+X
+X	- vogon lord ('V')
+X		These are _rather_ tough and can suck out your brains and
+X		your life, much like a mind flayer. They may pose a real
+X		threat. Beware!
+X
+X	- Prostetnik Vogon Jeltz ('V')
+X		Even more tough that the vogon lord is that vogon who
+X		is responsible for the extinction of the galaxy's worst
+X		poetry.
+X
+X	- Marvin ('X')
+X		"Life, loathe it or ignore it, you cannot like it."
+X		That's this guy's attitude towards life. His depression,
+X		which he is well able to inflict upon others as well,
+X		might prove more deadly than many a sword.
+X
+X	- Zaphod Breeblebrox ('Y', unique)
+X		This guy is no real problem, in spite of his two heads
+X		and three arms.
+X
+X	- creeping 42 ('Z')
+X		This is the incarnated Answer. It will go everywhere to
+X		distribute the Holy Message. If you eat a dead creeping 42,
+X		you will gain some more knowledge my being given a glimpse
+X		on The Answer. Due to this overwhelming experience, your
+X		vision will be temporarily blurred.
+X
+X	- Ford Perfect ('@', unique)
+X		He is from Beteigeuze. And, yes, his name _really_ is
+X		Ford Perfect.
+X		Note to DNA: Why do you write such crap? You can't even
+X		spell the name of one of your main characters!
+X		:-) :-) :-) :-)	:-) :-) :-) :-) :-) :-) :-) :-) :-) :-) :-)
+X		
+X	- Arthur Dent ('@', unique)
+X		Mostly Harmless.
+X
+X	- Mr. Prosser ('@', unique)
+X		Mostly Harmful.
+X
+X	- babelfish (';')
+X		These are probably the strangest creatures of the Galaxy.
+X		Little is known of them, and that, what is known, is found
+X		in the holy tome of Douglas Adams, "The Hitchhikers Guide
+X		to the Galaxy" which I am forbidden to quote from here,
+X		lest I be sued for copyright infringement.
+X
+XNew objects:
+X	- The Hitchhiker's Guide to the Galaxy (unidentified: highly-complicated electronic device)
+X		When applying it, you will be overwhelmed by its complexity
+X		and get confused for a few turns. When you're hallucinating
+X		however, you'll happily push the buttons and get an (always
+X		false) fortune message. 
+X		Douglas Adams carries this.
+X
+X	- diode (two-wired thing)
+X	- transistor (three-wired thing)
+X	- IC (many-wired thing)
+X		These are small electronic devices used to build computers
+X		and roboters. However, as you don't understand the first
+X		thing about electronics, these aren't of any use to you.
+X		However they, and especially the ICs, are very expensive
+X		and therefore can be sold in shops for a rather large price.
+X		Both Deep Thought and Marvin leave these behind.
+X
+X	- peanut bag
+X		Peanuts provide nutrition and may be essential in some
+X		situations. It particularly might increase your constitution.
+X
+XOther new features:
+X	- The 42 room
+X		Yet another monster room, filled with all of the above
+X		monsters.
+X
+X	- monster chatting
+X		Chatting with a DNA-monster might be fun :-)
+X
+X	- creeping 42 & peanut eating 
+X		see above
+X
+X	- new attack damage type: depression
+X		When Marvin attacks you, you may get depressed. Then
+X		one of the following thing happens:
+X			- you are drained one level
+X			- your constitution is lowered by one (you die
+X			  if it goes below 3)
+X			- your intelligence is lowered by one (may kill
+X			  you as well)
+X			- nothing ("The feeling subsides")
+X
+X	- SHOPTYPE
+X		  When you are in wizard mode, including a 'd' in SHOPTYPE
+X		  ensures a "42"-room to be generated on each level.
+X
+X
+X				* * *
+X
+XAll those ideas (obviously) owe a lot to the works of Douglas Noel Adams.
+XI would like to explicitly thank him here, because I believe that he 
+Xis one of the best authors ever existing on this world. I don't think
+Xthat he'll dislike this work of mine, and if he does, I don't care either :-)
+XSeriously, Douglas, if you have any suggestions, I'd love to hear them.
+X
+X				* * *
+X
+XAt Mar 14,1994, 10.15am, I (will post)/(post)/(have posted) these patches to
+Xcomp.sources.games and alt.sources. It will be the first piece of 
+Xsoftware I contribute to the World Of The Internet. May it be of use
+Xand fun for those daring to install it.
+XReports of bugs and suggestions of new features are always welcome
+X(send them to sebast@axposf.pa.dec.com). Flames be sent to the bit bucket.
+X
+X					Sebastian Klein
+X					sebast@axposf.pa.dec.com
+X					Mar 11, 1994
+X
+X... and may the Force be with you!
+X
+X--------------------------------- cut here ------------------------------------
+X
+END_OF_./README.DNA
+if test 6577 -ne `wc -c <./README.DNA`; then
+    echo shar: \"./README.DNA\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+if test -f ./README.nh-tng -a "${1}" != "-c" ; then 
+  echo shar: Will not over-write existing file \"./README.nh-tng\"
+else
+echo shar: Extracting \"./README.nh-tng\" \(17555 characters\)
+sed "s/^X//" >./README.nh-tng <<'END_OF_./README.nh-tng'
+XNetHack: The Next Generation 1.0
+X~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+X
+X0. Contents:
+X	0. Contents
+X	1. What is this?
+X	2. What does NHTNG include?
+X	3. How do you install NHTNG?
+X	4. To which extent are NHTNG and vanilla NetHack comparable?
+X	5. On Forcing stats
+X	6. The Legal Stuff
+X	7. Dedication
+X	=== SPOILER WARNING ===
+X	8. What *exactly* does NHTNG include?
+X	9. Rationale of some of the new features in terms of Game Balance
+X	   and Plausibility
+X
+X1. What is this?
+X
+X	Nethack:The Next Generation (NHTNG) is a set of patches
+X	for NetHack 3.1.3. It is highly inofficial and should not be
+X	confused with vanilla NetHack.
+X
+X2. What does NHTNG include?
+X
+X	- Various Douglas-Adams like monsters and objects (see README.DNA).
+X	- A new character class, the Geek, with assorted Quest Levels.
+X	- Six new levels
+X	- 58 new monsters
+X	- 38 new objects
+X	- Some fortunes come true.
+X	- Eight new artifacts, among them non-quest non-weapon artifacts.
+X	- A selector for ability preference.
+X	- Special monsters for the rogue level
+X	- and much, much more.
+X	- The Nethack&DouglasAdams patches I released on Mar 14,1994
+X	  are incorporated into NHTNG as well.
+X
+X3. How do you install NHTNG?
+X
+X	a. Before starting, read the legal stuff (point 6). 
+X	b. You will need a patch program that understands context
+X	   diffs (GNU patch, for example).
+X	c. Uncompress the original 3.1.3 sources. It is important that
+X	   you start with a clean source tree.
+X	d. Install the Makefiles as instructed in sys/unix/Install.unx
+X	e. Uncompress the archive containing NHTNG. To do this, go to
+X	   the main NH313 directory and then type for a shar archive:
+X		$ sh <nh313.tng.shar
+X	   or the following for a gzipped tar archive:
+X		$ gzip -dc <nh313.tng.tar.z | tar xvf -
+X	f. Step c will have created, among others, a file named patch.pa
+X	   It contains the actual patches to the NH313 sources. To
+X	   apply them, type:
+X		$ patch <patch.pa
+X	g. Now follow the DevTeam's instructions for configuring, compiling
+X	   and installing NetHack. DO NOT copy the Makefiles again (as you
+X	   did in step d)
+X	h. Have fun!
+X
+X4. To which extent are NHTNG and vanilla NetHack comparable?
+X	In NHTNG there are both features making the game easier and
+X	making it harder. I suspect, however, that on a large scale
+X	NHTHG will be somewhat easier. Since I have never ascended
+X	with NHTNG (and in fact, not with vanilla NH313, either), I
+X	unfortunately cannot really do more than guess on that.
+X
+X5. On Forcing Stats
+X	"Oh darn, why has this newly-born Valkyrie only Str: 10 ?!?"
+X	In situtations as the above, how many times did you quit
+X	the game to try again? How often did it take you ten times
+X	or more until you had what you wanted? You're now shown the
+X	stats of your new character and then you can accept them
+X	or not (in which case you roll again).
+X	You even can do what I call "forcing a stat". That means that
+X	you tell the game that any combination of stats where Xx is
+X	lower than 42 is totally unacceptable to you. When you indicate
+X	that you want to force something, you're first asked for
+X	the stat you want (you can't force more than one). The answer
+X	is given according to the following key:
+X		s - Strength (St)
+X		d - Dexterity (Dx)
+X		c - Constitution (Co)
+X		i - Intelligence (In)
+X		w - Wisdom (Wi)
+X		h - Charisma (Ch)
+X	Then you're asked for the minimum value (for Strength, 19 means
+X	18/01, 20 = 18/02 etc.), after which all rolls are guranteed
+X	to satisfy your condition.
+X	Some players might object to this extension as a means of cheating
+X	or inappropriate manipulation of the stats. I believe that this is
+X	not the case, because of:
+X		a) It doesn't give you any real advantage over repeatedly
+X		   running and then immediately quitting the game. Remember
+X		   that all my extension does is rolling dice until
+X		   the required conditions are met.
+X		b) Remember that you were (or, actually, your character
+X		   was) "heralded from birth as the instrument of XXX".
+X		   But guess the reasons because of which you were
+X		   selected. Surely you were tested on your various
+X		   abilities and then chosen. My 'forcing' just
+X		   simulates this.
+X
+X6. The Legal stuff
+X	I, being of sound mind and body, do write down on this day of
+X	the twentieth of May in the year nineteenhundredninetyfour,
+X	for all to see, that these patches of Nethack shall be placed
+X	in the Public Domain and therefore free to use for anybody
+X	without any restriction. However, I disclaim any liability
+X	for any damage or consequences caused by these patches or
+X	bugs in them. By using this software you agree to be 
+X	bound by these terms.
+X	However, note that in the act of applying my patches to 
+X	the actual NetHack sources causes the resulting program
+X	to be completely bound to the NetHack license agreement
+X	as stored in dat/license.
+X
+X7. Dedication
+X	| :hacker: [originally, someone who makes furniture with an axe] n.   |
+X   	| 1. A person who enjoys exploring the details of programmable        |
+X   	| systems and how to stretch their capabilities, as opposed to most   |
+X   	| users, who prefer to learn only the minimum necessary.  2. One who  |
+X   	| programs enthusiastically (even obsessively) or who enjoys          |
+X   	| programming rather than just theorizing about programming.  3. A    |
+X   	| person capable of appreciating {hack value}.  4. A person who is    |
+X   	| good at programming quickly.  5. An expert at a particular program, |
+X  	|  or one who frequently does work using it or on it; as in `a UNIX   |
+X   	| hacker'.  (Definitions 1 through 5 are correlated, and people who   |
+X   	| fit them congregate.)  6. An expert or enthusiast of any kind.  One |
+X   	| might be an astronomy hacker, for example.  7. One who enjoys the   |
+X   	| intellectual challenge of creatively overcoming or circumventing    |
+X   	| limitations.  8. [deprecated] A malicious meddler who tries to      |
+X   	| discover sensitive information by poking around.  Hence `password   |
+X   	| hacker', `network hacker'.  The correct term is {cracker}.          |
+X					- The Jargon File, version 3.0.0
+X	| 9. A hack or nethack player.					      |
+X
+X	I hereby dedicate Nethack - The Next Generation to all hackers
+X	in this world, by any definition of 'hacker' you care to name.
+X	I have really enjoyed programming this piece of software and I 
+X	believe it is now truly ready to be shared with the world of
+X	the USENET. I hope that you enjoy using this piece of software,
+X	which is the second one I release to the USENET. Of course, I 
+X	am also always interested in bug reports (or, preferrably,
+X	fixes :-), suggestions, enhancements etc.
+X
+X	At this point I would like to thank the NetHack Development Team
+X	for making this marvellous game real and to maintain it. It is
+X	only from people like you that such a game can emerge and it were
+X	your efforts which inspired me to enjoy this game not only
+X	in the way of playing it but also in the way of enhancing it
+X	and eventually make my own 'play on NetHack' available on USENET. 
+X	I encourage everyone to do the same.
+X
+X	On Mon May 30, 1994, 9:56am MESZ I will release this to USENET.
+X	May you enjoy it!
+X
+X							05/20/94
+X							Sebastian Klein
+X							aus001@rrz.uni-koeln.de
+X
+X8. (P.S.) What *exacty* does NHTNG include?
+X	(The following material contains only spoilers. If you do not want
+X	to be spoiled, don't read any further. I really believe that stopping
+X	here might enhance your fun - so DO NOT READ ANY FURTHER!)
+X
+X	There's a truck full of spoilers driving past. Jump in front of it? [yn]
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+XDO NOT READ!!! 
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X
+X	You're spoiled to death. You have been warned.
+X
+X	The Geek Class:
+X		Class Name:	Geek
+X		Alignment:	Neutral
+X		Abilities:
+X			Str	Dex	Con 	Int	Wis	Cha
+X			10+30%	10+15%	10+15%	8+10%	9+20%	7+10%
+X
+X		Intrinsics:					(Level)
+X			Poison resistance			1
+X			Shock resistance			1
+X			Teleport control			8
+X			Warning					15
+X
+X		Starting Equipment:
+X			a blessed +1 electric sword
+X			(1..7) ICs
+X			+1 gauntlets of typing
+X			4 potions of Jolt Cola
+X			2 Hacker's Foods
+X			a pack of floppies
+X
+X		Quest Leader:		The DevTeam
+X		Quest Nemesis:		Bill Gates
+X		Quest Artifact:		The Nethack Sources 
+X					(#invoke = IDENTIFY)
+X
+X		The Geek is a mixture between a hacker, as defined in the
+X		Jargon File and a NetHack player. I would have preferred
+X		to call the class "Hacker" but the Healers strongly 
+X		disapproved of that.
+X
+X	New monsters:
+X		Ravenous Bugblatter Beast Of Traal
+X		Schroedinger's Cat
+X		algolian suntiger
+X		leprechaun elder
+X		leprechaun king
+X		nymph queen
+X		giant mumak
+X		young unicorn
+X		Deep Thought
+X		Eddie
+X		bug
+X		heisenbug
+X		PDP-11
+X		PDP-9
+X		VAX
+X		walking disk drive
+X		cray
+X		Douglas Adams
+X		ancient multi-hued dragon
+X		Dragon Lord
+X		baby lich
+X		vogon
+X		vogon lord
+X		Prostetnik Vogon Jeltz
+X		Marvin
+X		Zaphod Breeblebrox
+X		creeping 42
+X		pupil
+X		teacher
+X		principal
+X		blacksmith
+X		Ford Perfect
+X		Arthur Dent
+X		Mr. Prosser
+X		news daemon
+X		printer daemon
+X		UNIX Kernel
+X		babelfish
+X		deminewt
+X		masternewt
+X		geek
+X		The Dev Team
+X		Bill Gates
+X		hacker
+X	
+X	The Rogue Monsters:
+X		aquator		centaur		dragon		emu
+X		venus flytrap	griffin		ice monster	kestrel
+X		nymph		phantom		quagga		rattlesnake
+X		xeroc		zombie
+X
+X	58 new monsters.
+X
+X	New Objects:
+X		electric sword			Nothing special
+X		tooth of an algolian suntiger	A very good weapon indeed
+X		gauntlets of typing		Nothing special
+X		ring of health			Increases Constitution
+X		ring of timely backup		See Computer Level
+X		amulet of second chance		
+X			The Amulet Of Second Chance is much like the
+X			amulet of life saving, but it doesn't bring
+X			you to max HP again, but only to the HPs you
+X			had before the final hit. Great for those
+X			who think "Well, I have 30HP left. I can
+X			surely take one more hit from that mumak."
+X		amulet of data storage		See Computer Level	
+X		Schroedinger's Box
+X			This contains a potion of radium + either:
+X				- a live cat + a potion of cyanide
+X			or
+X				- a cat corpse.
+X			What of the two is inside is not determined
+X			until the box is opened.
+X		bag of digestion		Eats your stuff
+X		Hitchhiker's Guide t.t. Galaxy	see README.DNA
+X		diode,transistor,IC		see README.DNA
+X		pack of floppies
+X			They have a random content. If it is MS Windows,
+X			you will get confused if you're a geek and 
+X			(a)pply them.
+X		god-o-meter
+X			If blessed, it tells you whether your prayer
+X			timeout has expired. If uncursed/cursed, your
+X			timeout is prolonged.
+X		relay				Artifact prototype
+X		bottle				see Chemistry below
+X		chemistry set			see Chemistry below
+X		Hacker's Food			a food ration for geeks
+X		potion of extreme power		gives you rn2(10) HP
+X		potion of recovery		puts you back to max HP
+X		potion of invulnerability	makes you invulnerable 
+X		potion of heroism		
+X			gives you several intrinsics + invulnerability
+X			for a short period of time.
+X		potion of cyanide		kills you
+X		potion of radium		makes you sick
+X		potion of Jolt Cola		gives you 5 HP up to max
+X		potion of Pan Galactic Gargle Blaster
+X			You can guess that yourself :-)
+X		scroll of mass murder	
+X			kills all monsters present of a type, like genocide,
+X			but doesn't prevent future creation of them.
+X		scroll of undo genocide		permit creation of a mon again
+X		scroll of reverse identify
+X			This scroll asks you what you want to identify.
+X			You do not need a sample of the item, however. It
+X			suffices to answer with something like "loadstone",
+X			"wand of wishing" or even "smoky potion".
+X		scroll of consecration		makes an altar
+X		scroll of root pwd detection	see Computer Level below
+X		spellbook of finger		like wand of probing
+X		spellbook of chemistry		see Chemistry below
+X		wand of acid			shoots an acid ray
+X		wand of draining
+X			This takes away from the hit monster half of
+X			its max HP. However, the amount taken is 
+X			subtracted from your own HP as well, so care
+X			is advised. This wand is inspired by Angband.
+X		wand of wonder
+X			This does the effect of a random wand class
+X			(with a bias against wishing). This is 
+X			inspired by Angband as well.
+X		wand of bugging			see Computer Level below
+X
+X		38 new objects.		
+X
+X	New Levels:
+X		The Forge:
+X			Here is where the blacksmith Duri lives. (The name
+X			Duri is taken from the short story "Blades" by Sonia
+X			Orin Lyris, published in the Quanta Magazine, 
+X			December 1989). He makes artifacts for you, but
+X			it might cost a lot.
+X	
+X		The School:
+X			This level is in memorial of my days at school
+X			(which includes today :-). The teachers' names
+X			are verbatim and their character as well. Note
+X			that it is not by chance that this is in
+X			Gehennom.
+X
+X		Computer Level:
+X			This level contains various dangerous computers.
+X			Some objects, namely:
+X				- ring of timely backup
+X				- scroll of root password detection
+X				- amulet of data storage
+X				- wand of bugging
+X			can only be found on this level and will vanish
+X			from your pack once you go up or down. The wand
+X			of bugging creates bugs and heisenbugs, the other
+X			three items only display cute messages.
+X
+X		Key Level: 
+X			This level is full of leprechauns and nymphs,
+X			all awake and waiting to steal your stuff. You
+X			will eventually be able to kill the nymph
+X			queen and get the Key Of Access (see below).
+X
+X		Dragon Level:
+X			This level contains the Dragon Lord with his
+X			unique scales.
+X
+X		The Hitchhiker's Level:
+X			In the honour of Douglas Noel Adams and his
+X			works this level has been created. 
+X
+X	New Artifacts:
+X		Name		Type		#invoke	Damage	A C
+X		~~~~		~~~~		~~~~~~~	~~~~~~	~ ~
+X		Mumakbane	long sword	- 	Fire	N -
+X							(vs. mumakil)
+X		Wormbiter	crysknife	-	Phys	N -
+X							(vs. worms)
+X		Shocker		electric sword	-	Elec	N -
+X
+X		Scales Of The Dragon Lord	red dragon scale mail
+X						DRAGON_BREATH	C -
+X		Burned Moth Relay	relay	-	-	- -
+X
+X		Wand Of Might	wand of wishing	-	-	- -
+X
+X		The Key Of Access	key	CREATE_PORTAL	- -
+X
+X		The Nethack Sources	pack of floppies
+X		(G Quest Artifact)		IDENTIFY	N G
+X
+X		8 new artifacts.
+X
+X	Chemistry:
+X		There has been created a way to create potions, similiar
+X		to the blank paper/magic marker combination for scrolls
+X		and spellbooks. Before you can use it, you must have met
+X		the following conditions:
+X			- Read a spellbook of chemistry. Reading it once
+X			  is enough - it doesn't wear off like ordinary
+X			  spells (save amnesia).
+X			- Have a chemistry set. It corresponds to the
+X			  magic marker for scrolls. It is charged and
+X			  therefore can be used only a limited amount
+X			  of times. Charge diminuation is dependent
+X			  on the price of the potion.
+X			- Have a bottle to hold the newly made potion.
+X			  It corresponds to the scroll/spellbook of
+X			  blank paper.
+X			- Have identified the potion you want to make 
+X			  (unless you're lucky).
+X		The potion created will be marked as 'selfmade' in the
+X		inventory (and so will be selfmade scrolls, spellbooks
+X		and tins, now). If you quaff a selfmade potion, there is
+X		a chance (luck-dependent) that something bad (posioned
+X		from a mistake in making the potion) will happen.
+X
+X9. Rationale of some of the new features in terms of Game Balance and
+X   Plausibility 
+X
+X- The Hitchhiker's features (hitch level, "42" room etc.)
+X	None of the features presented herein have any significant use,
+X	with two notable exceptions:
+X		- Eating a creeping 42 corpse making you gain a level
+X		  Serious abuse (cursed genocide) is prevented by making
+X		  the creeping 42 un-genocideable. Minor spoilage of 
+X		  game balance is diminushed by making it usually peaceful,
+X		  thereby increasing the price of getting its corpse.
+X		- Killing a babelfish gives an extraordinarily high amount
+X		  of Xp, usually providing a gain level to lowlevel
+X		  characters.
+X		  This is included (or, rather, not removed) as an extra
+X		  gimmick for those ambitioned enough to find out. As
+X		  babelfishes are sufficiently rare, there's no real harm 
+X	 	  done.
+X
+X- Various 'parody' items (compu room, Geek class etc.) that might drive
+X  the game to the point of being ridicolous
+XWell, NetHack as it is consists of elements taken from many different
+Xauthors and fantasies, for example:
+X	- Herbert ("Dune") --> crysknife etc.
+X	- Tolkien ("The Lord Of The Rings") --> elves, orcs, hobbits etc.
+X	- Greek mythology --> Medusa etc.
+X	- other mythologies --> Asmodeus, Juiblex and many others.
+XAll I have done is adding elements taken from other, possibly from more
+Xrecent, sources:
+X	- Adams ("The Hitchhiker's Guide to the Galaxy") --> 42, Deep Thought,
+X		Arthur Dent, algolian suntiger etc.
+X	- Computer Folklore --> Geek, PDP-11, UNIX, news daemon etc.
+X	- NetHack itself --> Stormbringer attracting vortices
+X	- myself --> pupil, deminewt, Douglas Adams etc.
+XI strongly believe that those added things enhance the game a lot. It
+Xcertainly does not become ridicolous.
+X
+X- Ring of Health
+XSomeone on USENET has objected to my ring of health, increasing constitution.
+XHe said that, since Co is only significant when you gain a level, you would
+Xhave a permanent gain from wearing the ring only when you're about to go up.
+XI believe this to be irrelevant, however, since there are many rings doing
+Xexactly this: for example, the extra HP gained by wearing a ring of 
+Xregeneration do *not* vanish again once you remove the ring again. 
+XMy ring of health fills a niche in which it nicely fits.
+X
+X- potion of invulerability too powerful?
+XCome to think of it, it is not really *that* powerful. If you're surrounded
+Xit only delays your fate by several turns. If there's only one mumak (or
+XArchon) there trying to blast you, it is indeed the most valueable thing
+Xto have, however. But, remember, that it is also very rare and expensive,
+Xso you're not likely to get more that at most one or two per full game.
+X
+X================================= END OF FILE =================================
+END_OF_./README.nh-tng
+if test 17555 -ne `wc -c <./README.nh-tng`; then
+    echo shar: \"./README.nh-tng\" unpacked with wrong size!
+fi
+# end of overwriting check
+fi
+echo shar: End of shell archive.
+exit 0
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\nhTNG.txt SlashTNG-master\Nethack - The Next Generation (original patch)\nhTNG.txt
--- slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\nhTNG.txt	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\Nethack - The Next Generation (original patch)\nhTNG.txt	Fri Nov 04 04:38:00 1994
@@ -0,0 +1,519 @@
+
+NetHack: The Next Generation 1.0
+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+
+0. Contents:
+	0. Contents
+	1. What is this?
+	2. What does NHTNG include?
+	3. How do you install NHTNG?
+	4. To which extent are NHTNG and vanilla NetHack comparable?
+	5. On Forcing stats
+	6. The Legal Stuff
+	7. Dedication
+	=== SPOILER WARNING ===
+	8. What *exactly* does NHTNG include?
+	9. Rationale of some of the new features in terms of Game Balance
+	   and Plausibility
+
+1. What is this?
+
+	Nethack:The Next Generation (NHTNG) is a set of patches
+	for NetHack 3.1.3. It is highly inofficial and should not be
+	confused with vanilla NetHack.
+
+2. What does NHTNG include?
+
+	- Various Douglas-Adams like monsters and objects (see README.DNA).
+	- A new character class, the Geek, with assorted Quest Levels.
+	- Six new levels
+	- 58 new monsters
+	- 38 new objects
+	- Some fortunes come true.
+	- Eight new artifacts, among them non-quest non-weapon artifacts.
+	- A selector for ability preference.
+	- Special monsters for the rogue level
+	- and much, much more.
+	- The Nethack&DouglasAdams patches I released on Mar 14,1994
+	  are incorporated into NHTNG as well.
+
+3. How do you install NHTNG?
+
+	a. Before starting, read the legal stuff (point 6). 
+	b. You will need a patch program that understands context
+	   diffs (GNU patch, for example).
+	c. Uncompress the original 3.1.3 sources. It is important that
+	   you start with a clean source tree.
+	d. Install the Makefiles as instructed in sys/unix/Install.unx
+	e. Uncompress the archive containing NHTNG. To do this, go to
+	   the main NH313 directory and then type for a shar archive:
+		$ sh <nh313.tng.shar
+	   or the following for a gzipped tar archive:
+		$ gzip -dc <nh313.tng.tar.z | tar xvf -
+	f. Step c will have created, among others, a file named patch.pa
+	   It contains the actual patches to the NH313 sources. To
+	   apply them, type:
+		$ patch <patch.pa
+	g. Now follow the DevTeam's instructions for configuring, compiling
+	   and installing NetHack. DO NOT copy the Makefiles again (as you
+	   did in step d)
+	h. Have fun!
+
+4. To which extent are NHTNG and vanilla NetHack comparable?
+	In NHTNG there are both features making the game easier and
+	making it harder. I suspect, however, that on a large scale
+	NHTHG will be somewhat easier. Since I have never ascended
+	with NHTNG (and in fact, not with vanilla NH313, either), I
+	unfortunately cannot really do more than guess on that.
+
+5. On Forcing Stats
+	"Oh darn, why has this newly-born Valkyrie only Str: 10 ?!?"
+	In situtations as the above, how many times did you quit
+	the game to try again? How often did it take you ten times
+	or more until you had what you wanted? You're now shown the
+	stats of your new character and then you can accept them
+	or not (in which case you roll again).
+	You even can do what I call "forcing a stat". That means that
+	you tell the game that any combination of stats where Xx is
+	lower than 42 is totally unacceptable to you. When you indicate
+	that you want to force something, you're first asked for
+	the stat you want (you can't force more than one). The answer
+	is given according to the following key:
+		s - Strength (St)
+		d - Dexterity (Dx)
+		c - Constitution (Co)
+		i - Intelligence (In)
+		w - Wisdom (Wi)
+		h - Charisma (Ch)
+	Then you're asked for the minimum value (for Strength, 19 means
+	18/01, 20 = 18/02 etc.), after which all rolls are guranteed
+	to satisfy your condition.
+	Some players might object to this extension as a means of cheating
+	or inappropriate manipulation of the stats. I believe that this is
+	not the case, because of:
+		a) It doesn't give you any real advantage over repeatedly
+		   running and then immediately quitting the game. Remember
+		   that all my extension does is rolling dice until
+		   the required conditions are met.
+		b) Remember that you were (or, actually, your character
+		   was) "heralded from birth as the instrument of XXX".
+		   But guess the reasons because of which you were
+		   selected. Surely you were tested on your various
+		   abilities and then chosen. My 'forcing' just
+		   simulates this.
+
+6. The Legal stuff
+	I, being of sound mind and body, do write down on this day of
+	the twentieth of May in the year nineteenhundredninetyfour,
+	for all to see, that these patches of Nethack shall be placed
+	in the Public Domain and therefore free to use for anybody
+	without any restriction. However, I disclaim any liability
+	for any damage or consequences caused by these patches or
+	bugs in them. By using this software you agree to be 
+	bound by these terms.
+	However, note that in the act of applying my patches to 
+	the actual NetHack sources causes the resulting program
+	to be completely bound to the NetHack license agreement
+	as stored in dat/license.
+
+7. Dedication
+	| :hacker: [originally, someone who makes furniture with an axe] n.   |
+   	| 1. A person who enjoys exploring the details of programmable        |
+   	| systems and how to stretch their capabilities, as opposed to most   |
+   	| users, who prefer to learn only the minimum necessary.  2. One who  |
+   	| programs enthusiastically (even obsessively) or who enjoys          |
+   	| programming rather than just theorizing about programming.  3. A    |
+   	| person capable of appreciating {hack value}.  4. A person who is    |
+   	| good at programming quickly.  5. An expert at a particular program, |
+  	|  or one who frequently does work using it or on it; as in `a UNIX   |
+   	| hacker'.  (Definitions 1 through 5 are correlated, and people who   |
+   	| fit them congregate.)  6. An expert or enthusiast of any kind.  One |
+   	| might be an astronomy hacker, for example.  7. One who enjoys the   |
+   	| intellectual challenge of creatively overcoming or circumventing    |
+   	| limitations.  8. [deprecated] A malicious meddler who tries to      |
+   	| discover sensitive information by poking around.  Hence `password   |
+   	| hacker', `network hacker'.  The correct term is {cracker}.          |
+					- The Jargon File, version 3.0.0
+	| 9. A hack or nethack player.					      |
+
+	I hereby dedicate Nethack - The Next Generation to all hackers
+	in this world, by any definition of 'hacker' you care to name.
+	I have really enjoyed programming this piece of software and I 
+	believe it is now truly ready to be shared with the world of
+	the USENET. I hope that you enjoy using this piece of software,
+	which is the second one I release to the USENET. Of course, I 
+	am also always interested in bug reports (or, preferrably,
+	fixes :-), suggestions, enhancements etc.
+
+	At this point I would like to thank the NetHack Development Team
+	for making this marvellous game real and to maintain it. It is
+	only from people like you that such a game can emerge and it were
+	your efforts which inspired me to enjoy this game not only
+	in the way of playing it but also in the way of enhancing it
+	and eventually make my own 'play on NetHack' available on USENET. 
+	I encourage everyone to do the same.
+
+	On Mon May 30, 1994, 9:56am MESZ I will release this to USENET.
+	May you enjoy it!
+
+							05/20/94
+							Sebastian Klein
+							aus001@rrz.uni-koeln.de
+
+8. (P.S.) What *exacty* does NHTNG include?
+	(The following material contains only spoilers. If you do not want
+	to be spoiled, don't read any further. I really believe that stopping
+	here might enhance your fun - so DO NOT READ ANY FURTHER!)
+
+	There's a truck full of spoilers driving past. Jump in front of it? [yn]
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+DO NOT READ!!! 
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+	You're spoiled to death. You have been warned.
+
+	The Geek Class:
+		Class Name:	Geek
+		Alignment:	Neutral
+		Abilities:
+			Str	Dex	Con 	Int	Wis	Cha
+			10+30%	10+15%	10+15%	8+10%	9+20%	7+10%
+
+		Intrinsics:					(Level)
+			Poison resistance			1
+			Shock resistance			1
+			Teleport control			8
+			Warning					15
+
+		Starting Equipment:
+			a blessed +1 electric sword
+			(1..7) ICs
+			+1 gauntlets of typing
+			4 potions of Jolt Cola
+			2 Hacker's Foods
+			a pack of floppies
+
+		Quest Leader:		The DevTeam
+		Quest Nemesis:		Bill Gates
+		Quest Artifact:		The Nethack Sources 
+					(#invoke = IDENTIFY)
+
+		The Geek is a mixture between a hacker, as defined in the
+		Jargon File and a NetHack player. I would have preferred
+		to call the class "Hacker" but the Healers strongly 
+		disapproved of that.
+
+	New monsters:
+		Ravenous Bugblatter Beast Of Traal
+		Schroedinger's Cat
+		algolian suntiger
+		leprechaun elder
+		leprechaun king
+		nymph queen
+		giant mumak
+		young unicorn
+		Deep Thought
+		Eddie
+		bug
+		heisenbug
+		PDP-11
+		PDP-9
+		VAX
+		walking disk drive
+		cray
+		Douglas Adams
+		ancient multi-hued dragon
+		Dragon Lord
+		baby lich
+		vogon
+		vogon lord
+		Prostetnik Vogon Jeltz
+		Marvin
+		Zaphod Breeblebrox
+		creeping 42
+		pupil
+		teacher
+		principal
+		blacksmith
+		Ford Perfect
+		Arthur Dent
+		Mr. Prosser
+		news daemon
+		printer daemon
+		UNIX Kernel
+		babelfish
+		deminewt
+		masternewt
+		geek
+		The Dev Team
+		Bill Gates
+		hacker
+	
+	The Rogue Monsters:
+		aquator		centaur		dragon		emu
+		venus flytrap	griffin		ice monster	kestrel
+		nymph		phantom		quagga		rattlesnake
+		xeroc		zombie
+
+	58 new monsters.
+
+	New Objects:
+		electric sword			Nothing special
+		tooth of an algolian suntiger	A very good weapon indeed
+		gauntlets of typing		Nothing special
+		ring of health			Increases Constitution
+		ring of timely backup		See Computer Level
+		amulet of second chance		
+			The Amulet Of Second Chance is much like the
+			amulet of life saving, but it doesn't bring
+			you to max HP again, but only to the HPs you
+			had before the final hit. Great for those
+			who think "Well, I have 30HP left. I can
+			surely take one more hit from that mumak."
+		amulet of data storage		See Computer Level	
+		Schroedinger's Box
+			This contains a potion of radium + either:
+				- a live cat + a potion of cyanide
+			or
+				- a cat corpse.
+			What of the two is inside is not determined
+			until the box is opened.
+		bag of digestion		Eats your stuff
+		Hitchhiker's Guide t.t. Galaxy	see README.DNA
+		diode,transistor,IC		see README.DNA
+		pack of floppies
+			They have a random content. If it is MS Windows,
+			you will get confused if you're a geek and 
+			(a)pply them.
+		god-o-meter
+			If blessed, it tells you whether your prayer
+			timeout has expired. If uncursed/cursed, your
+			timeout is prolonged.
+		relay				Artifact prototype
+		bottle				see Chemistry below
+		chemistry set			see Chemistry below
+		Hacker's Food			a food ration for geeks
+		potion of extreme power		gives you rn2(10) HP
+		potion of recovery		puts you back to max HP
+		potion of invulnerability	makes you invulnerable 
+		potion of heroism		
+			gives you several intrinsics + invulnerability
+			for a short period of time.
+		potion of cyanide		kills you
+		potion of radium		makes you sick
+		potion of Jolt Cola		gives you 5 HP up to max
+		potion of Pan Galactic Gargle Blaster
+			You can guess that yourself :-)
+		scroll of mass murder	
+			kills all monsters present of a type, like genocide,
+			but doesn't prevent future creation of them.
+		scroll of undo genocide		permit creation of a mon again
+		scroll of reverse identify
+			This scroll asks you what you want to identify.
+			You do not need a sample of the item, however. It
+			suffices to answer with something like "loadstone",
+			"wand of wishing" or even "smoky potion".
+		scroll of consecration		makes an altar
+		scroll of root pwd detection	see Computer Level below
+		spellbook of finger		like wand of probing
+		spellbook of chemistry		see Chemistry below
+		wand of acid			shoots an acid ray
+		wand of draining
+			This takes away from the hit monster half of
+			its max HP. However, the amount taken is 
+			subtracted from your own HP as well, so care
+			is advised. This wand is inspired by Angband.
+		wand of wonder
+			This does the effect of a random wand class
+			(with a bias against wishing). This is 
+			inspired by Angband as well.
+		wand of bugging			see Computer Level below
+
+		38 new objects.		
+
+	New Levels:
+		The Forge:
+			Here is where the blacksmith Duri lives. (The name
+			Duri is taken from the short story "Blades" by Sonia
+			Orin Lyris, published in the Quanta Magazine, 
+			December 1989). He makes artifacts for you, but
+			it might cost a lot.
+	
+		The School:
+			This level is in memorial of my days at school
+			(which includes today :-). The teachers' names
+			are verbatim and their character as well. Note
+			that it is not by chance that this is in
+			Gehennom.
+
+		Computer Level:
+			This level contains various dangerous computers.
+			Some objects, namely:
+				- ring of timely backup
+				- scroll of root password detection
+				- amulet of data storage
+				- wand of bugging
+			can only be found on this level and will vanish
+			from your pack once you go up or down. The wand
+			of bugging creates bugs and heisenbugs, the other
+			three items only display cute messages.
+
+		Key Level: 
+			This level is full of leprechauns and nymphs,
+			all awake and waiting to steal your stuff. You
+			will eventually be able to kill the nymph
+			queen and get the Key Of Access (see below).
+
+		Dragon Level:
+			This level contains the Dragon Lord with his
+			unique scales.
+
+		The Hitchhiker's Level:
+			In the honour of Douglas Noel Adams and his
+			works this level has been created. 
+
+	New Artifacts:
+		Name		Type		#invoke	Damage	A C
+		~~~~		~~~~		~~~~~~~	~~~~~~	~ ~
+		Mumakbane	long sword	- 	Fire	N -
+							(vs. mumakil)
+		Wormbiter	crysknife	-	Phys	N -
+							(vs. worms)
+		Shocker		electric sword	-	Elec	N -
+
+		Scales Of The Dragon Lord	red dragon scale mail
+						DRAGON_BREATH	C -
+		Burned Moth Relay	relay	-	-	- -
+
+		Wand Of Might	wand of wishing	-	-	- -
+
+		The Key Of Access	key	CREATE_PORTAL	- -
+
+		The Nethack Sources	pack of floppies
+		(G Quest Artifact)		IDENTIFY	N G
+
+		8 new artifacts.
+
+	Chemistry:
+		There has been created a way to create potions, similiar
+		to the blank paper/magic marker combination for scrolls
+		and spellbooks. Before you can use it, you must have met
+		the following conditions:
+			- Read a spellbook of chemistry. Reading it once
+			  is enough - it doesn't wear off like ordinary
+			  spells (save amnesia).
+			- Have a chemistry set. It corresponds to the
+			  magic marker for scrolls. It is charged and
+			  therefore can be used only a limited amount
+			  of times. Charge diminuation is dependent
+			  on the price of the potion.
+			- Have a bottle to hold the newly made potion.
+			  It corresponds to the scroll/spellbook of
+			  blank paper.
+			- Have identified the potion you want to make 
+			  (unless you're lucky).
+		The potion created will be marked as 'selfmade' in the
+		inventory (and so will be selfmade scrolls, spellbooks
+		and tins, now). If you quaff a selfmade potion, there is
+		a chance (luck-dependent) that something bad (posioned
+		from a mistake in making the potion) will happen.
+
+9. Rationale of some of the new features in terms of Game Balance and
+   Plausibility 
+
+- The Hitchhiker's features (hitch level, "42" room etc.)
+	None of the features presented herein have any significant use,
+	with two notable exceptions:
+		- Eating a creeping 42 corpse making you gain a level
+		  Serious abuse (cursed genocide) is prevented by making
+		  the creeping 42 un-genocideable. Minor spoilage of 
+		  game balance is diminushed by making it usually peaceful,
+		  thereby increasing the price of getting its corpse.
+		- Killing a babelfish gives an extraordinarily high amount
+		  of Xp, usually providing a gain level to lowlevel
+		  characters.
+		  This is included (or, rather, not removed) as an extra
+		  gimmick for those ambitioned enough to find out. As
+		  babelfishes are sufficiently rare, there's no real harm 
+	 	  done.
+
+- Various 'parody' items (compu room, Geek class etc.) that might drive
+  the game to the point of being ridicolous
+Well, NetHack as it is consists of elements taken from many different
+authors and fantasies, for example:
+	- Herbert ("Dune") --> crysknife etc.
+	- Tolkien ("The Lord Of The Rings") --> elves, orcs, hobbits etc.
+	- Greek mythology --> Medusa etc.
+	- other mythologies --> Asmodeus, Juiblex and many others.
+All I have done is adding elements taken from other, possibly from more
+recent, sources:
+	- Adams ("The Hitchhiker's Guide to the Galaxy") --> 42, Deep Thought,
+		Arthur Dent, algolian suntiger etc.
+	- Computer Folklore --> Geek, PDP-11, UNIX, news daemon etc.
+	- NetHack itself --> Stormbringer attracting vortices
+	- myself --> pupil, deminewt, Douglas Adams etc.
+I strongly believe that those added things enhance the game a lot. It
+certainly does not become ridicolous.
+
+- Ring of Health
+Someone on USENET has objected to my ring of health, increasing constitution.
+He said that, since Co is only significant when you gain a level, you would
+have a permanent gain from wearing the ring only when you're about to go up.
+I believe this to be irrelevant, however, since there are many rings doing
+exactly this: for example, the extra HP gained by wearing a ring of 
+regeneration do *not* vanish again once you remove the ring again. 
+My ring of health fills a niche in which it nicely fits.
+
+- potion of invulerability too powerful?
+Come to think of it, it is not really *that* powerful. If you're surrounded
+it only delays your fate by several turns. If there's only one mumak (or
+Archon) there trying to blast you, it is indeed the most valueable thing
+to have, however. But, remember, that it is also very rare and expensive,
+so you're not likely to get more that at most one or two per full game.
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\README SlashTNG-master\Nethack - The Next Generation (original patch)\README
--- slashem-0.0.7E7F3\Nethack - The Next Generation (original patch)\README	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\Nethack - The Next Generation (original patch)\README	Fri Apr 21 04:12:00 1995
@@ -0,0 +1,17 @@
+Welcome to the "NetHack, the Next Generation" directory!
+
+This directory contains the following files:
+
+  Size	Filename
+334188	nhTNG.shar
+ 17476	nhTNG.txt
+
+This directory contains the sources for NetHack, the Next Generation,
+a modified version of NetHack, and a text file describing the
+differences with normal NetHack, version 3.1.3.
+
+Note that the changes were made for BSD Unix, and have not been worked
+out for other systems. They have not even been tested (by me, that is)
+for BSD Unix itself. Executables or sources for MSDOS are not available.
+
+Boudewijn Wayers (dedos4@win.tue.nl).
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\nethack.dsw SlashTNG-master\nethack.dsw
--- slashem-0.0.7E7F3\nethack.dsw	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\nethack.dsw	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,257 @@
+Microsoft Developer Studio Workspace File, Format Version 6.00
+# WARNING: DO NOT EDIT OR DELETE THIS WORKSPACE FILE!
+
+###############################################################################
+
+Project: "NetHackW"=.\build\NetHackW.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+    Begin Project Dependency
+    Project_Dep_Name dgncomp
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name dlb_main
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name levcomp
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name makedefs
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name tilemap
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name tiles
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name uudecode
+    End Project Dependency
+}}}
+
+###############################################################################
+
+Project: "dgncomp"=.\build\dgncomp.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+    Begin Project Dependency
+    Project_Dep_Name dgnstuff
+    End Project Dependency
+}}}
+
+###############################################################################
+
+Project: "dgnstuff"=.\build\dgnstuff.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+    Begin Project Dependency
+    Project_Dep_Name makedefs
+    End Project Dependency
+}}}
+
+###############################################################################
+
+Project: "dlb_main"=.\build\dlb_main.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+    Begin Project Dependency
+    Project_Dep_Name dgncomp
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name levcomp
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name makedefs
+    End Project Dependency
+}}}
+
+###############################################################################
+
+Project: "levcomp"=.\build\levcomp.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+    Begin Project Dependency
+    Project_Dep_Name levstuff
+    End Project Dependency
+}}}
+
+###############################################################################
+
+Project: "levstuff"=.\build\levstuff.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+    Begin Project Dependency
+    Project_Dep_Name makedefs
+    End Project Dependency
+}}}
+
+###############################################################################
+
+Project: "magtile"=.\build\magtile.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+}}}
+
+###############################################################################
+
+Project: "makedefs"=.\build\makedefs.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+}}}
+
+###############################################################################
+
+Project: "recover"=.\build\recover.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+    Begin Project Dependency
+    Project_Dep_Name makedefs
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name dlb_main
+    End Project Dependency
+}}}
+
+###############################################################################
+
+Project: "tile2bmp"=.\build\tile2bmp.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+}}}
+
+###############################################################################
+
+Project: "tilemap"=.\build\tilemap.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+}}}
+
+###############################################################################
+
+Project: "tiles"=.\build\tiles.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+    Begin Project Dependency
+    Project_Dep_Name tile2bmp
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name magtile
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name txtbg
+    End Project Dependency
+    Begin Project Dependency
+    Project_Dep_Name txtmerge
+    End Project Dependency
+}}}
+
+###############################################################################
+
+Project: "txtbg"=.\build\txtbg.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+}}}
+
+###############################################################################
+
+Project: "txtmerge"=.\build\txtmerge.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+}}}
+
+###############################################################################
+
+Project: "uudecode"=.\build\uudecode.dsp - Package Owner=<4>
+
+Package=<5>
+{{{
+}}}
+
+Package=<4>
+{{{
+}}}
+
+###############################################################################
+
+Global:
+
+Package=<5>
+{{{
+}}}
+
+Package=<3>
+{{{
+}}}
+
+###############################################################################
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\readme.txt SlashTNG-master\readme.txt
--- slashem-0.0.7E7F3\readme.txt	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\readme.txt	Sun Jan 01 01:12:46 2017
@@ -67,6 +67,11 @@
 1.2 Changes
 -----------
 
+ver 0.0.7E7F3 [January 1/2017] [Released by Ozma777]
+-updated with all The Next Generation code
+-Stormbringer doesn't draw vortices (oh well)
+-Rerolls and force minimum attribute NOT completed because I don't know how (and where) to put it.
+-----In case this is wrong I replaced slashem with SlashTNG (build directories and program name) in as many places as I could find
 ver 0.0.7E7F3 [December 30/2006] [Released by Ali]
 -inserted missing #ifdef resulting in compilation of pure ansi tty version for DOS failure.
 -fixed bug 1461660: Misaligned door
@@ -272,3 +277,4 @@
 o Slash'EM Homepage: http://www.slashem.org/
 o Ali's Slash'EM page: http://www.juiblex.co.uk/nethack/slashem.html
 o Eva's spoiler page: http://www.statslab.cam.ac.uk/~eva/slashem/index.html
+o Ozma's github page: https://github.com/Ozma777/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\apply.c SlashTNG-master\src\apply.c
--- slashem-0.0.7E7F3\src\apply.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\apply.c	Thu Jan 05 19:20:07 2017
@@ -765,7 +765,7 @@
 		} else pline ("It steals your mirror!");
 		setnotworn(obj); /* in case mirror was wielded */
 		freeinv(obj);
-		(void) mpickobj(mtmp,obj);
+		(void) mpickobj(mtmp,obj,FALSE);
 		if (!tele_restrict(mtmp)) (void) rloc(mtmp, FALSE);
 	} else if (!is_unicorn(mtmp->data) && !humanoid(mtmp->data) &&
 			(!mtmp->minvis || perceives(mtmp->data)) && rn2(5)) {
@@ -3162,6 +3162,8 @@
     case WAN_PROBING:
     case WAN_ENLIGHTENMENT:
     case WAN_OPENING:
+	case WAN_WONDER:
+    case WAN_BUGGING:
     case WAN_SECRET_DOOR_DETECTION:
 	pline(nothing_else_happens);
 	goto discard_broken_wand;
@@ -3196,6 +3198,13 @@
     case WAN_CANCELLATION:
     case WAN_POLYMORPH:
     case WAN_UNDEAD_TURNING:
+	case WAN_ACID:
+	expltype = EXPL_NOXIOUS;
+        explode(u.ux, u.uy, ZT_ACID, dmg, WAND_CLASS, expltype);
+	if (obj->dknown && !objects[obj->otyp].oc_name_known &&
+		!objects[obj->otyp].oc_uname)
+        docall(obj);
+	goto discard_broken_wand;
     case WAN_DRAINING:	/* KMH */
 	affects_objects = TRUE;
 	break;
@@ -3256,9 +3265,10 @@
 	    }
 	    continue;
 /* WAC catch Create Horde wands too */
-/* MAR make the monsters around you */
+/* MAR make the monsters around you. */
+/* --Ozma bugging probably will create normal monsters but at least not crash game. */
 	} else if(obj->otyp == WAN_CREATE_MONSTER
-                || obj->otyp == WAN_CREATE_HORDE) {
+                || obj->otyp == WAN_CREATE_HORDE || obj->otyp == WAN_BUGGING) {
 	    /* u.ux,u.uy creates it near you--x,y might create it in rock */
 	    (void) makemon((struct permonst *)0, u.ux, u.uy, NO_MM_FLAGS);
 	    continue;
@@ -3331,6 +3341,189 @@
 	Strcat(cl, tmp);
 }
 
+void use_floppies(struct obj *obj)
+{
+	char *softwares[] = {
+		"Microsoft Windows 3.1",
+		"The Hitchhiker's Guide to the Galaxy (you have a splitting headache and no tea)",
+		"Bill Gates",
+		"Bryce 5",
+		"Tombraider",
+		"Where in the World is Carmen Sandiego",
+		"Zork",
+		"ABox",
+		"Windows 95",
+		"your Slashem patches",
+		"Goldwave",
+		"Slashem-Extended",
+		"Necronomicon",
+		"Skypaint",
+		"Acid Pro 3.0",
+		"RIVEN",
+		"Beyond Zork",
+		"Leisure Suit Larry V",
+		"Wingrain",
+		"Starship Titanic - Douglas Adams",
+		"Windows 98SE",
+		"dNethack",
+		"Unreal Tournament '99",
+		"Fruityloops3",
+		"Unfinished Maps for UT99",
+		"Reason 2.5",
+		"LINUX 1.00",
+		"Unnethack",
+		"MYST",
+		"Terragen",
+		"Tactile12000",
+		"To the Moon",
+		"Return to Mysterious Island",
+		"ADOM",
+		"A Mind Forever Voyaging",
+		"your NetHack patches",
+		"Thief 2",
+		"Syberia",
+		"GrandmasterDJSonik Album 18",
+		"nothing of importance"
+	};
+	int x;
+
+	if (!Role_if(PM_GEEK) /*&& !Role_if(PM_SCIENTIST) */) {
+		pline(Hallucination ? "Is this some old Atari or Commodore machine? It's not starting, it seems..." : "If only you knew what the heck this is ... ");
+		return;
+	}
+
+	pline("Due to years of experience with computers, you can read the");
+	pline("disks' contents by merely looking at the magnetic surface ...");
+
+	if (Blind) {
+		pline("Yet, without seeing, not even you can read anyting.");
+		return;
+	}
+
+	if (obj->oartifact == ART_NETHACK_SOURCES) {
+		com_pager(9999);
+	} else {
+		x = rn2(sizeof(softwares) / sizeof(softwares[0]));
+		pline("You see %s on the disk",softwares[x]);
+		if (x == 0) {		/* Windows */
+			pline("You shriek in pain!");
+			make_confused(HConfusion+rn2(50)+50,TRUE);
+		} else if (x == 1) {	/* Bill Gates */
+			pline("You feel horrible!");
+			/* nothing happens (yet ...) */
+		}
+	}
+}
+
+static int
+potion_charge_cost(struct obj *pot)
+{
+	int cost;
+
+	/*cost = objects[pot->otyp].oc_cost / 150;*/ cost = 2;
+	switch (pot->otyp) {
+	case POT_EXTRA_HEALING: cost += 1; break;
+	case POT_ESP: cost += 1; break;
+	case POT_GAIN_ENERGY: cost += 1; break;
+	case POT_INVISIBILITY: cost += 1; break;
+	case POT_SEE_INVISIBLE: cost += 1; break;
+	case POT_FULL_HEALING: cost += 3; break;
+	case POT_SPEED: cost += 1; break;
+	case POT_GAIN_ABILITY: cost += 1; break;
+	case POT_GAIN_LEVEL: cost += 2; break;
+	case POT_CYANIDE: cost += 2; break;
+	case POT_INVULNERABILITY: cost += 8; break;
+	default: break;
+	}
+	if (cost < 1) cost = 1;
+	return(cost);
+}
+
+static void
+use_chemistry_set(struct obj *chemset)
+{
+	struct obj *bottle;
+	static char bottles[] = { TOOL_CLASS, 0 };
+	char namebuf[BUFSZ],potbuf[BUFSZ];
+	struct obj *new_obj;
+	int cost;
+	char c;
+
+	/* We will allow the player to make a potion occasionally, even if they don't know the spell. --Amy */
+
+	if (!spell_known(SPE_CHEMISTRY) && (rn2(3)) ) {
+		pline("Huh? You don't understand anything about such stuff!");
+		if (chemset->spe > 0) chemset->spe -= 1;
+		return;
+
+	/* if spe == 0, the potion will always blast the player anyway. */
+
+	}
+	makeknown(CHEMISTRY_SET);
+
+	bottle = getobj(bottles,"hold the resulting potion in");
+	if (!bottle) return;
+	if (bottle->otyp != BOTTLE) {
+		pline("Exactly how are you going to do this?");
+		return;
+	}
+
+	getlin("What potion do you want to make?",namebuf);
+	if (!namebuf[0] || namebuf[0] == '\033') return;
+
+	potbuf[0] = 0;
+	if (strncmp(namebuf,"potion of",9) != 0) {
+		strcpy(potbuf,"potion of ");
+	}
+	strcat(potbuf,namebuf);
+	new_obj = readobjnam(potbuf, (struct obj *)0, TRUE);
+
+	if (!new_obj || new_obj->oclass != POTION_CLASS) {
+		goto blast_him;
+	}
+	if (!(objects[new_obj->otyp].oc_name_known) && 
+	    !(objects[new_obj->otyp].oc_uname)) {
+		You("don't know how to make such a potion!");
+		c =yn_function("Do you want to give it a try anyway?","yn",'n');
+		if (c != 'y') {	
+			obfree(new_obj,(struct obj *) 0);
+			return;
+		}
+		if (rnl(5)) {
+			useup(bottle);
+			goto blast_him;
+		}
+	}
+	new_obj->selfmade = TRUE;
+	new_obj->cursed = bottle->cursed || chemset->cursed;
+	new_obj->blessed = bottle->blessed || chemset->blessed;
+	if (new_obj->blessed && new_obj->cursed) {
+		new_obj->blessed = new_obj->cursed = FALSE;
+	}/*
+	new_obj->hvycurse = new_obj->prmcurse = FALSE;*/
+	cost = potion_charge_cost(new_obj);
+	if (cost > chemset->spe) {
+		pline("There is too little material left in your chemistry set!");
+		goto blast_him;
+	}
+	chemset->spe -= cost;
+	useup(bottle);
+
+	if (!chemset->blessed && !rn2(chemset->cursed ? 2 : 10)) {
+blast_him:
+		pline("You seem to have made a mistake!");
+		pline("The bottle explodes!");
+		losehp(rnd(chemset->cursed ? 25 : 10),"alchemic blast",KILLED_BY_AN);
+		obfree(new_obj,(struct obj *) 0);
+		return;
+	}
+
+	if (!(objects[new_obj->otyp].oc_name_known)) makeknown(new_obj->otyp);
+	hold_another_object(new_obj,"Oops! Where did you put that potion?",(const char *) 0,(const char *) 0);
+	You("have done it!");
+}
+
+
 int
 doapply()
 {
@@ -3384,7 +3577,9 @@
 	case ICE_BOX:
 	case SACK:
 	case BAG_OF_HOLDING:
-	case OILSKIN_SACK:
+	case OILSKIN_SACK:/*
+	case SCHROEDINGER_S_BOX:*/
+	case BAG_OF_DIGESTION:
 		res = use_container(&obj, 1);
 		break;
 	case BAG_OF_TRICKS:
@@ -3738,6 +3933,58 @@
 		light_cocktail(obj);
 		break;
 #endif
+
+	case HITCHHIKER_S_GUIDE_TO_THE_GALA:
+		if (HHallucination) {
+			pline("You carelessly push the buttons. On the screen is a text ... ");
+			outrumor(-1,42);	/* always false */
+		} else {
+			pline("So many knobs to turn! So many buttons to press!");
+			make_confused(HConfusion+rn2(10),TRUE);
+		}
+		break;
+
+	case RELAY:
+		if (obj->oartifact == ART_BURNED_MOTH_RELAY) {	
+			pline("There's a little badly burned moth in that relay!");
+			makeknown(RELAY);
+			if (Role_if(PM_GEEK)/* || Role_if(PM_SCIENTIST)not yet*/) {
+				You("feel remembered of %s.",Hallucination ? "when the net was flat" : "the old times");
+				break;
+			}
+		}	/* fall through */
+
+		
+	case DIODE:
+	case TRANSISTOR:
+	case IC:
+		pline(Hallucination ? "Hmm... is this stuff edible?" : "You don't understand anything about electronics !!!");
+		break;
+
+	case GOD_O_METER:
+ 		if (Blind) {
+ 			pline("Being blind, you cannot see it.");
+ 		} else if (!obj->blessed) {
+ 			You("feel uncomfortable.");
+ 			u.ublesscnt += rn2((obj->cursed) ? 200 : 100);
+ 		} else {
+ 			You("see a%s flash from the device.",(u.ublesscnt>0) ? " black" : "n amber");
+#ifdef WIZARD
+ 			if (wizard) {
+ 				Your("prayer timeout is %i.",u.ublesscnt);
+ 			}
+#endif
+ 		}
+		break;
+
+	case PACK_OF_FLOPPIES:
+		use_floppies(obj);
+		break;
+
+	case CHEMISTRY_SET:
+		use_chemistry_set(obj);
+		break;
+		
 	default:
 		/* KMH, balance patch -- polearms can strike at a distance */
 		if (is_pole(obj)) {
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\artifact.c SlashTNG-master\src\artifact.c
--- slashem-0.0.7E7F3\src\artifact.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\artifact.c	Sun Dec 25 23:31:55 2016
@@ -589,6 +589,17 @@
 	    if (on) EHalf_physical_damage |= wp_mask;
 	    else EHalf_physical_damage &= ~wp_mask;
 	}
+	if (spfx & SPFX_PROTEC) {
+	    if (on) {
+		u.ublessed += 2;
+		HProtection |= FROMOUTSIDE;/*
+		u.artifactprotection = 1;artifactprotection is invalid*/
+	    } else {
+	    	u.ublessed -= 2;
+		if (u.ublessed <= 0) HProtection &= ~FROMOUTSIDE;/*
+		u.artifactprotection = 0;same^*/
+	    }
+	}
 	if (spfx & SPFX_XRAY) {
 	    /* this assumes that no one else is using xray_range */
 	    if (on) u.xray_range = 3;
@@ -1503,6 +1514,14 @@
 	    (void) seffects(&pseudo);
 	    break;
 	  }
+	case IDENTIFY: {
+		struct obj *pseudo = mksobj(SPE_IDENTIFY, FALSE, FALSE);
+		pseudo->blessed = pseudo->cursed = 0;
+		pseudo->quan = 42L;		/* do not let useup get it */
+		(void) seffects(pseudo);
+		obfree(pseudo, (struct obj *) 0);
+		break;
+	    }
 	case HEALING: {
 	    int healamt = (u.uhpmax + 1 - u.uhp) / 2;
 	    long creamed = (long)u.ucreamed;
@@ -1558,6 +1577,11 @@
 	case LEV_TELE:
 	    level_tele();
 	    break;
+	case DRAGON_BREATH:
+	    getdir(NULL);
+	    buzz(20+AD_FIRE-1,6,u.ux,u.uy,u.dx,u.dy);
+	/*       ^^^^^^^^^^^^ - see zap.c / ZT_* defines */
+	    break;
 	case LIGHT_AREA:
 	    if (!Blind)
 		pline("%s shines brightly for an instant!", The(xname(obj)));
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\attrib.c SlashTNG-master\src\attrib.c
--- slashem-0.0.7E7F3\src\attrib.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\attrib.c	Sun Jan 01 17:25:39 2017
@@ -43,6 +43,12 @@
 	fla_abil[] = { {   1, &(HFire_resistance), "", "" },
 		     {  13, &(HCold_resistance), "warm", "cooler" },
 		     {   0, 0, 0, 0 } },
+			 
+	gee_abil[] = { {   1, &(HPoison_resistance), "", "" },
+		     {   1, &(HShock_resistance), "", "" },
+		     {   9, &(HWarning), "controlled", "helpless" },
+		     {  17, &(HTeleport_control), "sensitive", "careless" },
+		     {   0, 0, 0, 0, } },
 
 	hea_abil[] = { {	 1, &(HPoison_resistance), "", "" },
 		     {	15, &(HWarning), "sensitive", "" },
@@ -538,8 +544,8 @@
 }
 
 
-void
-init_attr(np)
+static void
+init_attr_(np)
 	register int	np;
 {
 	register int	i, x, tryct;
@@ -587,6 +593,100 @@
 	    np++;
 	}
 }
+ 
+ static char get_acception(void)
+ {
+ 	char c;
+ 
+ 	pline("St:");
+ 	if (ACURR(A_STR) > 118) {
+ 		pline("%2d",ACURR(A_STR) - 100);
+ 	} else if (ACURR(A_STR) == 118) {
+ 		pline("18/**");
+ 	} else if (ACURR(A_STR) > 18) {
+ 		pline("18/%02d",ACURR(A_STR) - 18);
+ 	} else {
+ 		pline("%-1d",ACURR(A_STR));
+ 	}
+ 	pline(" Dx:%-1d Co:%-1d In:%-1d Wi:%-1d Ch:%-1d  ",ACURR(A_DEX),ACURR(A_CON),ACURR(A_INT),ACURR(A_WIS),ACURR(A_CHA));
+ 	c = yn_function("Accept?","ynrq",'n');
+ 	return(c);
+ }
+ 
+ void init_attr(int np)
+ {
+ 	char c;
+ 	boolean forced,askforce,ok,done;
+ 	schar att;
+ 	int aval;
+ 	char buf[BUFSZ];
+ 	int i;
+ 
+ 	askforce = TRUE;
+ 	done = FALSE;
+ 	do {
+ 		if (askforce) {		
+ 			askforce = FALSE;
+ 			c = yn_function("Do you want to force anything?","yn",'n');
+ 			if (c == 'n') {
+ 				forced = FALSE;
+ 			} else {
+ 				forced = TRUE;
+ 				c = yn_function("What do you want to force?","sdciwh",'\0');
+ 				switch (c) {
+ 					case 's':	att = A_STR;	break;
+ 					case 'd':	att = A_DEX;	break;
+ 					case 'c':	att = A_CON;	break;
+ 					case 'i':	att = A_INT;	break;
+ 					case 'w':	att = A_WIS;	break;
+ 					case 'h':
+ 					default:	att = A_CHA;	break;
+ 				}
+ 				while (1) {
+ 					ok = TRUE;
+ 					getlin("What is the minimum value?",buf);
+ 					i = 0;
+ 					while (buf[i]) {
+ 						if (!isdigit(buf[i])) ok = FALSE;
+ 						i++;
+ 					}
+ 					if (!ok) continue;
+ 					aval = atoi(buf);
+ 					if (aval < ATTRMIN(att) || aval > ATTRMAX(att)) continue;
+ 					break;
+ 				}
+ 			}
+ 		}
+ 		i = 0;
+ 		ok = FALSE;
+ 		pline("Trying ... ");
+ 		while (i < 2000 && !ok) {
+ 			init_attr_(np);
+ 			if (forced) {
+ 				if (ACURR(att) >= aval) ok = TRUE;
+ 			} else {
+ 				ok = TRUE;
+ 			}
+ 			i++;
+ 		}
+ 		if (!ok) {
+ 			c = yn_function("This doesn't seem to work. Try again?","yn",'n');
+ 			if (c == 'n') askforce = TRUE;
+ 			done = FALSE;
+ 			continue;
+ 		}
+ 		c = get_acception();
+ 		switch (c) {
+ 			case 'y':	done = TRUE;
+ 					break;
+ 			case 'r':	askforce = TRUE;  /* fall through */
+ 			case 'n':	done = FALSE;
+ 					break;
+ 			case 'q':	exit_nhwindows(NULL);
+ 					terminate(0);
+ 		}
+ 	} while (!done);			
+ }
 
 void
 redist_attr()
@@ -629,6 +729,7 @@
 	case PM_BARBARIAN:      abil = bar_abil;	break;
 	case PM_CAVEMAN:        abil = cav_abil;	break;
 	case PM_FLAME_MAGE:	abil = fla_abil;	break;
+	case PM_GEEK:	abil = gee_abil;	break;
 	case PM_HEALER:         abil = hea_abil;	break;
 	case PM_ICE_MAGE:	abil = ice_abil;	break;
 	case PM_KNIGHT:         abil = kni_abil;	break;
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\cmd.c SlashTNG-master\src\cmd.c
--- slashem-0.0.7E7F3\src\cmd.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\cmd.c	Sun Jan 01 19:46:35 2017
@@ -1468,7 +1468,9 @@
 	if (uamul && uamul->otyp == AMULET_VERSUS_STONE)
 		enl_msg("You ", "will be", "would have been", " depetrified");
 	if (Lifesaved)
-		enl_msg("Your life ", "will be", "would have been", " saved");
+		enl_msg("You ", "will be", "would have been", " saved");
+	if (Second_chance)
+		enl_msg("You ", "will be", "would have been given", " a second chance");
 	if (u.twoweap) {
 	    if (uwep && uswapwep)
 		Sprintf(buf, "wielding two weapons at once");
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\dat.tag SlashTNG-master\src\dat.tag
--- slashem-0.0.7E7F3\src\dat.tag	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\dat.tag	Thu Jan 05 19:05:16 2017
@@ -0,0 +1 @@
+dat done 
Binary files slashem-0.0.7E7F3\src\dgn_comp.exe and SlashTNG-master\src\dgn_comp.exe differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\dgn_flex.c SlashTNG-master\src\dgn_flex.c
--- slashem-0.0.7E7F3\src\dgn_flex.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\dgn_flex.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,1869 @@
+/* A lexical scanner generated by flex */
+
+/* Scanner skeleton version:
+ * $Header: /cvsroot/slashem/slashem/sys/share/dgn_lex.c,v 1.6 2003/02/25 14:52:29 j_ali Exp $
+ */
+
+#define FLEX_SCANNER
+#define YY_FLEX_MAJOR_VERSION 2
+#define YY_FLEX_MINOR_VERSION 5
+
+#include <stdio.h>
+#include <unistd.h>
+
+
+/* cfront 1.2 defines "c_plusplus" instead of "__cplusplus" */
+#ifdef c_plusplus
+#ifndef __cplusplus
+#define __cplusplus
+#endif
+#endif
+
+
+#ifdef __cplusplus
+
+#include <stdlib.h>
+
+/* Use prototypes in function declarations. */
+#define YY_USE_PROTOS
+
+/* The "const" storage-class-modifier is valid. */
+#define YY_USE_CONST
+
+#else	/* ! __cplusplus */
+
+#if __STDC__
+
+#define YY_USE_PROTOS
+#define YY_USE_CONST
+
+#endif	/* __STDC__ */
+#endif	/* ! __cplusplus */
+
+#ifdef __TURBOC__
+ #pragma warn -rch
+ #pragma warn -use
+#include <io.h>
+#include <stdlib.h>
+#define YY_USE_CONST
+#define YY_USE_PROTOS
+#endif
+
+#ifdef YY_USE_CONST
+#define yyconst const
+#else
+#define yyconst
+#endif
+
+
+#ifdef YY_USE_PROTOS
+#define YY_PROTO(proto) proto
+#else
+#define YY_PROTO(proto) ()
+#endif
+
+/* Returned upon end-of-file. */
+#define YY_NULL 0
+
+/* Promotes a possibly negative, possibly signed char to an unsigned
+ * integer for use as an array index.  If the signed char is negative,
+ * we want to instead treat it as an 8-bit unsigned char, hence the
+ * double cast.
+ */
+#define YY_SC_TO_UI(c) ((unsigned int) (unsigned char) c)
+
+/* Enter a start condition.  This macro really ought to take a parameter,
+ * but we do it the disgusting crufty way forced on us by the ()-less
+ * definition of BEGIN.
+ */
+#define BEGIN yy_start = 1 + 2 *
+
+/* Translate the current start state into a value that can be later handed
+ * to BEGIN to return to the state.  The YYSTATE alias is for lex
+ * compatibility.
+ */
+#define YY_START ((yy_start - 1) / 2)
+#define YYSTATE YY_START
+
+/* Action number for EOF rule of a given start state. */
+#define YY_STATE_EOF(state) (YY_END_OF_BUFFER + state + 1)
+
+/* Special action meaning "start processing a new file". */
+#define YY_NEW_FILE yyrestart( yyin )
+
+#define YY_END_OF_BUFFER_CHAR 0
+
+/* Size of default input buffer. */
+#define YY_BUF_SIZE 16384
+
+typedef struct yy_buffer_state *YY_BUFFER_STATE;
+
+extern int yyleng;
+extern FILE *yyin, *yyout;
+
+#define EOB_ACT_CONTINUE_SCAN 0
+#define EOB_ACT_END_OF_FILE 1
+#define EOB_ACT_LAST_MATCH 2
+
+/* The funky do-while in the following #define is used to turn the definition
+ * int a single C statement (which needs a semi-colon terminator).  This
+ * avoids problems with code like:
+ *
+ * 	if ( condition_holds )
+ *		yyless( 5 );
+ *	else
+ *		do_something_else();
+ *
+ * Prior to using the do-while the compiler would get upset at the
+ * "else" because it interpreted the "if" statement as being all
+ * done when it reached the ';' after the yyless() call.
+ */
+
+/* Return all but the first 'n' matched characters back to the input stream. */
+
+#define yyless(n) \
+	do \
+		{ \
+		/* Undo effects of setting up yytext. */ \
+		*yy_cp = yy_hold_char; \
+		YY_RESTORE_YY_MORE_OFFSET \
+		yy_c_buf_p = yy_cp = yy_bp + n - YY_MORE_ADJ; \
+		YY_DO_BEFORE_ACTION; /* set up yytext again */ \
+		} \
+	while ( 0 )
+
+#define unput(c) yyunput( c, yytext_ptr )
+
+/* The following is because we cannot portably get our hands on size_t
+ * (without autoconf's help, which isn't available because we want
+ * flex-generated scanners to compile on their own).
+ */
+typedef unsigned int yy_size_t;
+
+
+struct yy_buffer_state
+	{
+	FILE *yy_input_file;
+
+	char *yy_ch_buf;		/* input buffer */
+	char *yy_buf_pos;		/* current position in input buffer */
+
+	/* Size of input buffer in bytes, not including room for EOB
+	 * characters.
+	 */
+	yy_size_t yy_buf_size;
+
+	/* Number of characters read into yy_ch_buf, not including EOB
+	 * characters.
+	 */
+	int yy_n_chars;
+
+	/* Whether we "own" the buffer - i.e., we know we created it,
+	 * and can realloc() it to grow it, and should free() it to
+	 * delete it.
+	 */
+	int yy_is_our_buffer;
+
+	/* Whether this is an "interactive" input source; if so, and
+	 * if we're using stdio for input, then we want to use getc()
+	 * instead of fread(), to make sure we stop fetching input after
+	 * each newline.
+	 */
+	int yy_is_interactive;
+
+	/* Whether we're considered to be at the beginning of a line.
+	 * If so, '^' rules will be active on the next match, otherwise
+	 * not.
+	 */
+	int yy_at_bol;
+
+	/* Whether to try to fill the input buffer when we reach the
+	 * end of it.
+	 */
+	int yy_fill_buffer;
+
+	int yy_buffer_status;
+#define YY_BUFFER_NEW 0
+#define YY_BUFFER_NORMAL 1
+	/* When an EOF's been seen but there's still some text to process
+	 * then we mark the buffer as YY_EOF_PENDING, to indicate that we
+	 * shouldn't try reading from the input source any more.  We might
+	 * still have a bunch of tokens to match, though, because of
+	 * possible backing-up.
+	 *
+	 * When we actually see the EOF, we change the status to "new"
+	 * (via yyrestart()), so that the user can continue scanning by
+	 * just pointing yyin at a new input file.
+	 */
+#define YY_BUFFER_EOF_PENDING 2
+	};
+
+static YY_BUFFER_STATE yy_current_buffer = 0;
+
+/* We provide macros for accessing buffer states in case in the
+ * future we want to put the buffer states in a more general
+ * "scanner state".
+ */
+#define YY_CURRENT_BUFFER yy_current_buffer
+
+
+/* yy_hold_char holds the character lost when yytext is formed. */
+static char yy_hold_char;
+
+static int yy_n_chars;		/* number of characters read into yy_ch_buf */
+
+
+int yyleng;
+
+/* Points to current character in buffer. */
+static char *yy_c_buf_p = (char *) 0;
+static int yy_init = 1;		/* whether we need to initialize */
+static int yy_start = 0;	/* start state number */
+
+/* Flag which is used to allow yywrap()'s to do buffer switches
+ * instead of setting up a fresh yyin.  A bit of a hack ...
+ */
+static int yy_did_buffer_switch_on_eof;
+
+void yyrestart YY_PROTO(( FILE *input_file ));
+
+void yy_switch_to_buffer YY_PROTO(( YY_BUFFER_STATE new_buffer ));
+void yy_load_buffer_state YY_PROTO(( void ));
+YY_BUFFER_STATE yy_create_buffer YY_PROTO(( FILE *file, int size ));
+void yy_delete_buffer YY_PROTO(( YY_BUFFER_STATE b ));
+void yy_init_buffer YY_PROTO(( YY_BUFFER_STATE b, FILE *file ));
+void yy_flush_buffer YY_PROTO(( YY_BUFFER_STATE b ));
+#define YY_FLUSH_BUFFER yy_flush_buffer( yy_current_buffer )
+
+YY_BUFFER_STATE yy_scan_buffer YY_PROTO(( char *base, yy_size_t size ));
+YY_BUFFER_STATE yy_scan_string YY_PROTO(( yyconst char *yy_str ));
+YY_BUFFER_STATE yy_scan_bytes YY_PROTO(( yyconst char *bytes, int len ));
+
+static void *yy_flex_alloc YY_PROTO(( yy_size_t ));
+static void *yy_flex_realloc YY_PROTO(( void *, yy_size_t ));
+static void yy_flex_free YY_PROTO(( void * ));
+
+#define yy_new_buffer yy_create_buffer
+
+#define yy_set_interactive(is_interactive) \
+	{ \
+	if ( ! yy_current_buffer ) \
+		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE ); \
+	yy_current_buffer->yy_is_interactive = is_interactive; \
+	}
+
+#define yy_set_bol(at_bol) \
+	{ \
+	if ( ! yy_current_buffer ) \
+		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE ); \
+	yy_current_buffer->yy_at_bol = at_bol; \
+	}
+
+#define YY_AT_BOL() (yy_current_buffer->yy_at_bol)
+
+typedef unsigned char YY_CHAR;
+FILE *yyin = (FILE *) 0, *yyout = (FILE *) 0;
+typedef int yy_state_type;
+extern char *yytext;
+#define yytext_ptr yytext
+
+static yy_state_type yy_get_previous_state YY_PROTO(( void ));
+static yy_state_type yy_try_NUL_trans YY_PROTO(( yy_state_type current_state ));
+static int yy_get_next_buffer YY_PROTO(( void ));
+static void yy_fatal_error YY_PROTO(( yyconst char msg[] ));
+
+/* Done after the current pattern has been matched and before the
+ * corresponding action - sets up yytext.
+ */
+#define YY_DO_BEFORE_ACTION \
+	yytext_ptr = yy_bp; \
+	yyleng = (int) (yy_cp - yy_bp); \
+	yy_hold_char = *yy_cp; \
+	*yy_cp = '\0'; \
+	yy_c_buf_p = yy_cp;
+
+#define YY_NUM_RULES 35
+#define YY_END_OF_BUFFER 36
+static yyconst short int yy_accept[196] =
+    {   0,
+        0,    0,   36,   34,   33,   32,   34,   34,   29,   34,
+       34,   34,   34,   34,   34,   34,   34,   34,   34,   34,
+       34,   34,   34,   34,   34,   34,   34,   34,   34,   33,
+       32,    0,   30,   29,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    2,    0,   31,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    3,    0,    0,    0,    0,    0,    0,    0,
+
+        0,    0,    0,   14,    0,    0,    0,    0,    0,    0,
+        4,    0,   25,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    6,    0,    0,    0,    5,    0,    0,   23,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,   20,    0,    0,    0,    0,    8,    0,    0,    0,
+        0,    0,    0,    1,    0,    0,    0,    0,    0,   22,
+       15,    0,   21,    7,   19,    0,    0,    0,    0,    0,
+        0,   13,    0,    0,    0,   26,   16,    0,    0,   12,
+        0,    0,    0,   11,    9,    0,   17,   18,    0,   27,
+        0,   28,   24,   10,    0
+
+    } ;
+
+static yyconst int yy_ec[256] =
+    {   0,
+        1,    1,    1,    1,    1,    1,    1,    1,    2,    3,
+        1,    1,    4,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    2,    1,    5,    6,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    7,    1,    1,    7,    7,    7,
+        7,    7,    7,    7,    7,    7,    7,    1,    1,    1,
+        1,    1,    1,    1,    8,    9,   10,   11,   12,   13,
+       14,   15,   16,    1,    1,   17,   18,   19,   20,   21,
+        1,   22,   23,   24,   25,   26,    1,    1,   27,    1,
+        1,    1,    1,    1,   28,    1,   29,    1,   30,   31,
+
+       32,   33,   34,   35,   36,    1,   37,   38,   39,   40,
+       41,   42,    1,   43,   44,   45,   46,    1,   47,    1,
+        1,   48,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1
+    } ;
+
+static yyconst int yy_meta[49] =
+    {   0,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1
+    } ;
+
+static yyconst short int yy_base[198] =
+    {   0,
+        0,  213,  218,  220,  215,  220,  213,  210,  207,  196,
+      190,  196,   37,  191,  197,  186,  188,  171,  164,  172,
+      174,  173,   18,  160,  159,  154,  157,   11,  194,  194,
+      220,  190,  220,  187,  177,  184,  183,  167,  170,  164,
+      161,  166,  174,  155,  136,  144,  134,  132,  133,   26,
+      135,  143,  147,  128,  145,  220,  170,  220,  158,  152,
+      154,  159,  154,  145,   44,  142,   47,  124,  124,  125,
+      129,  129,  115,   27,  121,  113,  111,  120,  115,  116,
+      134,  142,  132,  128,  137,  121,  130,  129,  125,  129,
+      131,   97,  220,  105,   94,  101,   95,   96,   94,   99,
+
+      105,  101,   89,  220,   95,  112,  114,   51,  112,  107,
+      220,  110,  114,  111,  106,   96,   85,   76,   81,   82,
+       88,   69,  220,   81,   76,   75,  220,   78,   99,  220,
+       88,   97,   87,   88,   92,   93,   88,   91,   90,   71,
+       65,  220,   62,   60,   57,   56,  220,   59,   54,   74,
+       84,   65,   66,  220,   70,   65,   70,   60,   68,  220,
+      220,   52,  220,  220,  220,   46,   50,   57,   61,   67,
+       62,  220,   67,   64,   63,  220,  220,   42,   41,  220,
+       61,   53,   49,  220,  220,   50,  220,  220,   51,  220,
+       46,  220,  220,  220,  220,   62,   60
+
+    } ;
+
+static yyconst short int yy_def[198] =
+    {   0,
+      195,    1,  195,  195,  195,  195,  195,  196,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  197,  195,
+      195,  196,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  197,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,    0,  195,  195
+
+    } ;
+
+static yyconst short int yy_nxt[269] =
+    {   0,
+        4,    5,    6,    7,    8,    4,    9,   10,   11,   12,
+       13,   14,    4,    4,    4,    4,   15,    4,    4,    4,
+       16,   17,    4,    4,    4,    4,    4,    4,    4,   18,
+       19,    4,    4,    4,   20,    4,    4,   21,   22,   23,
+        4,   24,   25,   26,   27,   28,    4,    4,   38,   49,
+       55,   87,   56,   74,   75,   88,   90,   98,   50,  131,
+       57,   39,   32,   91,  194,  193,  192,  132,  191,  190,
+      189,  188,   99,  187,  186,  185,  184,  183,  182,  181,
+      180,  179,  178,  177,  176,  175,  174,  173,  172,  171,
+      170,  169,  168,  167,  166,  165,  164,  163,  162,  161,
+
+      160,  159,  158,  157,  156,  155,  154,  153,  152,  151,
+      150,  149,  148,  147,  146,  145,  144,  143,  142,  141,
+      140,  139,  138,  137,  136,  135,  134,  133,  130,  129,
+      128,  127,  126,  125,  124,  123,  122,  121,  120,  119,
+      118,  117,  116,  115,  114,  113,  112,  111,  110,  109,
+      108,  107,  106,  105,  104,  103,  102,  101,  100,   97,
+       96,   95,   94,   93,   92,   89,   86,   85,   84,   83,
+       82,   81,   58,   80,   79,   78,   77,   76,   73,   72,
+       71,   70,   69,   68,   67,   66,   65,   64,   63,   62,
+       61,   60,   59,   34,   33,   30,   58,   54,   53,   52,
+
+       51,   48,   47,   46,   45,   44,   43,   42,   41,   40,
+       37,   36,   35,   34,   33,   31,   30,  195,   29,    3,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195
+    } ;
+
+static yyconst short int yy_chk[269] =
+    {   0,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,   13,   23,
+       28,   65,   28,   50,   50,   65,   67,   74,   23,  108,
+      197,   13,  196,   67,  191,  189,  186,  108,  183,  182,
+      181,  179,   74,  178,  175,  174,  173,  171,  170,  169,
+      168,  167,  166,  162,  159,  158,  157,  156,  155,  153,
+      152,  151,  150,  149,  148,  146,  145,  144,  143,  141,
+
+      140,  139,  138,  137,  136,  135,  134,  133,  132,  131,
+      129,  128,  126,  125,  124,  122,  121,  120,  119,  118,
+      117,  116,  115,  114,  113,  112,  110,  109,  107,  106,
+      105,  103,  102,  101,  100,   99,   98,   97,   96,   95,
+       94,   92,   91,   90,   89,   88,   87,   86,   85,   84,
+       83,   82,   81,   80,   79,   78,   77,   76,   75,   73,
+       72,   71,   70,   69,   68,   66,   64,   63,   62,   61,
+       60,   59,   57,   55,   54,   53,   52,   51,   49,   48,
+       47,   46,   45,   44,   43,   42,   41,   40,   39,   38,
+       37,   36,   35,   34,   32,   30,   29,   27,   26,   25,
+
+       24,   22,   21,   20,   19,   18,   17,   16,   15,   14,
+       12,   11,   10,    9,    8,    7,    5,    3,    2,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195,  195,  195,
+      195,  195,  195,  195,  195,  195,  195,  195
+    } ;
+
+static yy_state_type yy_last_accepting_state;
+static char *yy_last_accepting_cpos;
+
+/* The intent behind this definition is that it'll catch
+ * any uses of REJECT which flex missed.
+ */
+#define REJECT reject_used_but_not_detected
+#define yymore() yymore_used_but_not_detected
+#define YY_MORE_ADJ 0
+#define YY_RESTORE_YY_MORE_OFFSET
+char *yytext;
+#define INITIAL 0
+/*	SCCS Id: @(#)dgn_lex.c	3.4	2002/03/27	*/
+/*	Copyright (c) 1989 by Jean-Christophe Collet */
+/*	Copyright (c) 1990 by M. Stephenson	     */
+/* NetHack may be freely redistributed.  See license for details. */
+
+#define DGN_COMP
+
+#include "config.h"
+#include "dgn_comp.h"
+#include "dgn_file.h"
+
+/*
+ * Most of these don't exist in flex, yywrap is macro and
+ * yyunput is properly declared in flex.skel.
+ */
+#if !defined(FLEX_SCANNER) && !defined(FLEXHACK_SCANNER)
+int FDECL(yyback, (int *,int));
+int NDECL(yylook);
+int NDECL(yyinput);
+int NDECL(yywrap);
+int NDECL(yylex);
+	/* Traditional lexes let yyunput() and yyoutput() default to int;
+	 * newer ones may declare them as void since they don't return
+	 * values.  For even more fun, the lex supplied as part of the
+	 * newer unbundled compiler for SunOS 4.x adds the void declarations
+	 * (under __STDC__ or _cplusplus ifdefs -- otherwise they remain
+	 * int) while the bundled lex and the one with the older unbundled
+	 * compiler do not.  To detect this, we need help from outside --
+	 * sys/unix/Makefile.utl.
+	 *
+	 * Digital UNIX is difficult and still has int in spite of all
+	 * other signs.
+	 */
+# if defined(NeXT) || defined(SVR4) || defined(_AIX32)
+#  define VOIDYYPUT
+# endif
+# if !defined(VOIDYYPUT) && defined(POSIX_TYPES)
+#  if !defined(BOS) && !defined(HISX) && !defined(_M_UNIX) && !defined(VMS)
+#   define VOIDYYPUT
+#  endif
+# endif
+# if !defined(VOIDYYPUT) && defined(WEIRD_LEX)
+#  if defined(SUNOS4) && defined(__STDC__) && (WEIRD_LEX > 1)
+#   define VOIDYYPUT
+#  endif
+# endif
+# if defined(VOIDYYPUT) && defined(__osf__)
+#  undef VOIDYYPUT
+# endif
+# ifdef VOIDYYPUT
+void FDECL(yyunput, (int));
+void FDECL(yyoutput, (int));
+# else
+int FDECL(yyunput, (int));
+int FDECL(yyoutput, (int));
+# endif
+#endif	/* !FLEX_SCANNER && !FLEXHACK_SCANNER */
+
+#ifdef FLEX_SCANNER
+#define YY_MALLOC_DECL \
+	       genericptr_t FDECL(malloc, (size_t)); \
+	       genericptr_t FDECL(realloc, (genericptr_t,size_t));
+#endif
+
+
+void FDECL(init_yyin, (FILE *));
+void FDECL(init_yyout, (FILE *));
+
+/* this doesn't always get put in dgn_comp.h
+ * (esp. when using older versions of bison)
+ */
+
+extern YYSTYPE yylval;
+
+int line_number = 1;
+/*
+ *	This is a hack required by Michael Hamel to get things
+ *	working on the Mac.
+ */
+#if defined(MAC_MPW) && !defined(FLEX_SCANNER) && !defined(FLEXHACK_SCANNER)
+#undef input
+#undef unput
+#define unput(c) { yytchar = (c); if (yytchar == 10) yylineno--; *yysptr++ = yytchar; }				
+# ifndef YYNEWLINE
+# define YYNEWLINE 10
+# endif
+
+char
+input()		/* Under MPW \n is chr(13)! Compensate for this. */
+{
+	if (yysptr > yysbuf) return(*--yysptr);
+	else {
+		yytchar = getc(yyin);
+		if (yytchar == '\n') {
+		    yylineno++;
+		    return(YYNEWLINE);
+		}
+		if (yytchar == EOF) return(0);
+		else		    return(yytchar);
+	}
+}
+#endif	/* MAC_MPW && !FLEX_SCANNER && !FLEXHACK_SCANNER */
+
+
+/* Macros after this point can all be overridden by user definitions in
+ * section 1.
+ */
+
+#ifndef YY_SKIP_YYWRAP
+#ifdef __cplusplus
+extern "C" int yywrap YY_PROTO(( void ));
+#else
+extern int yywrap YY_PROTO(( void ));
+#endif
+#endif
+
+#ifndef YY_NO_UNPUT
+static void yyunput YY_PROTO(( int c, char *buf_ptr ));
+#endif
+
+#ifndef yytext_ptr
+static void yy_flex_strncpy YY_PROTO(( char *, yyconst char *, int ));
+#endif
+
+#ifdef YY_NEED_STRLEN
+static int yy_flex_strlen YY_PROTO(( yyconst char * ));
+#endif
+
+#ifndef YY_NO_INPUT
+#ifdef __cplusplus
+static int yyinput YY_PROTO(( void ));
+#else
+static int input YY_PROTO(( void ));
+#endif
+#endif
+
+#if YY_STACK_USED
+static int yy_start_stack_ptr = 0;
+static int yy_start_stack_depth = 0;
+static int *yy_start_stack = 0;
+#ifndef YY_NO_PUSH_STATE
+static void yy_push_state YY_PROTO(( int new_state ));
+#endif
+#ifndef YY_NO_POP_STATE
+static void yy_pop_state YY_PROTO(( void ));
+#endif
+#ifndef YY_NO_TOP_STATE
+static int yy_top_state YY_PROTO(( void ));
+#endif
+
+#else
+#define YY_NO_PUSH_STATE 1
+#define YY_NO_POP_STATE 1
+#define YY_NO_TOP_STATE 1
+#endif
+
+#ifdef YY_MALLOC_DECL
+YY_MALLOC_DECL
+#else
+#if __STDC__
+#ifndef __cplusplus
+#include <stdlib.h>
+#endif
+#else
+/* Just try to get by without declaring the routines.  This will fail
+ * miserably on non-ANSI systems for which sizeof(size_t) != sizeof(int)
+ * or sizeof(void*) != sizeof(int).
+ */
+#endif
+#endif
+
+/* Amount of stuff to slurp up with each read. */
+#ifndef YY_READ_BUF_SIZE
+#define YY_READ_BUF_SIZE 8192
+#endif
+
+/* Copy whatever the last rule matched to the standard output. */
+
+#ifndef ECHO
+/* This used to be an fputs(), but since the string might contain NUL's,
+ * we now use fwrite().
+ */
+#define ECHO (void) fwrite( yytext, yyleng, 1, yyout )
+#endif
+
+/* Gets input and stuffs it into "buf".  number of characters read, or YY_NULL,
+ * is returned in "result".
+ */
+#ifndef YY_INPUT
+#define YY_INPUT(buf,result,max_size) \
+	if ( yy_current_buffer->yy_is_interactive ) \
+		{ \
+		int c = '*', n; \
+		for ( n = 0; n < max_size && \
+			     (c = getc( yyin )) != EOF && c != '\n'; ++n ) \
+			buf[n] = (char) c; \
+		if ( c == '\n' ) \
+			buf[n++] = (char) c; \
+		if ( c == EOF && ferror( yyin ) ) \
+			YY_FATAL_ERROR( "input in flex scanner failed" ); \
+		result = n; \
+		} \
+	else if ( ((result = fread( buf, 1, max_size, yyin )) == 0) \
+		  && ferror( yyin ) ) \
+		YY_FATAL_ERROR( "input in flex scanner failed" );
+#endif
+
+/* No semi-colon after return; correct usage is to write "yyterminate();" -
+ * we don't want an extra ';' after the "return" because that will cause
+ * some compilers to complain about unreachable statements.
+ */
+#ifndef yyterminate
+#define yyterminate() return YY_NULL
+#endif
+
+/* Number of entries by which start-condition stack grows. */
+#ifndef YY_START_STACK_INCR
+#define YY_START_STACK_INCR 25
+#endif
+
+/* Report a fatal error. */
+#ifndef YY_FATAL_ERROR
+#define YY_FATAL_ERROR(msg) yy_fatal_error( msg )
+#endif
+
+/* Default declaration of generated scanner - a define so the user can
+ * easily add parameters.
+ */
+#ifndef YY_DECL
+#define YY_DECL int yylex YY_PROTO(( void ))
+#endif
+
+/* Code executed at the beginning of each rule, after yytext and yyleng
+ * have been set up.
+ */
+#ifndef YY_USER_ACTION
+#define YY_USER_ACTION
+#endif
+
+/* Code executed at the end of each rule. */
+#ifndef YY_BREAK
+#define YY_BREAK break;
+#endif
+
+#define YY_RULE_SETUP \
+	if ( yyleng > 0 ) \
+		yy_current_buffer->yy_at_bol = \
+				(yytext[yyleng - 1] == '\n'); \
+	YY_USER_ACTION
+
+YY_DECL
+	{
+	register yy_state_type yy_current_state;
+	register char *yy_cp = NULL, *yy_bp = NULL;
+	register int yy_act;
+
+
+
+	if ( yy_init )
+		{
+		yy_init = 0;
+
+#ifdef YY_USER_INIT
+		YY_USER_INIT;
+#endif
+
+		if ( ! yy_start )
+			yy_start = 1;	/* first start state */
+
+		if ( ! yyin )
+			yyin = stdin;
+
+		if ( ! yyout )
+			yyout = stdout;
+
+		if ( ! yy_current_buffer )
+			yy_current_buffer =
+				yy_create_buffer( yyin, YY_BUF_SIZE );
+
+		yy_load_buffer_state();
+		}
+
+	while ( 1 )		/* loops until end-of-file is reached */
+		{
+		yy_cp = yy_c_buf_p;
+
+		/* Support of yytext. */
+		*yy_cp = yy_hold_char;
+
+		/* yy_bp points to the position in yy_ch_buf of the start of
+		 * the current run.
+		 */
+		yy_bp = yy_cp;
+
+		yy_current_state = yy_start;
+		yy_current_state += YY_AT_BOL();
+yy_match:
+		do
+			{
+			register YY_CHAR yy_c = yy_ec[YY_SC_TO_UI(*yy_cp)];
+			if ( yy_accept[yy_current_state] )
+				{
+				yy_last_accepting_state = yy_current_state;
+				yy_last_accepting_cpos = yy_cp;
+				}
+			while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
+				{
+				yy_current_state = (int) yy_def[yy_current_state];
+				if ( yy_current_state >= 196 )
+					yy_c = yy_meta[(unsigned int) yy_c];
+				}
+			yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
+			++yy_cp;
+			}
+		while ( yy_base[yy_current_state] != 220 );
+
+yy_find_action:
+		yy_act = yy_accept[yy_current_state];
+		if ( yy_act == 0 )
+			{ /* have to back up */
+			yy_cp = yy_last_accepting_cpos;
+			yy_current_state = yy_last_accepting_state;
+			yy_act = yy_accept[yy_current_state];
+			}
+
+		YY_DO_BEFORE_ACTION;
+
+
+do_action:	/* This label is used only to access EOF actions. */
+
+
+		switch ( yy_act )
+	{ /* beginning of action switch */
+			case 0: /* must back up */
+			/* undo the effects of YY_DO_BEFORE_ACTION */
+			*yy_cp = yy_hold_char;
+			yy_cp = yy_last_accepting_cpos;
+			yy_current_state = yy_last_accepting_state;
+			goto yy_find_action;
+
+case 1:
+YY_RULE_SETUP
+return(A_DUNGEON);
+	YY_BREAK
+case 2:
+YY_RULE_SETUP
+{ yylval.i=1; return(UP_OR_DOWN); }
+	YY_BREAK
+case 3:
+YY_RULE_SETUP
+{ yylval.i=0; return(UP_OR_DOWN); }
+	YY_BREAK
+case 4:
+YY_RULE_SETUP
+return(ENTRY);
+	YY_BREAK
+case 5:
+YY_RULE_SETUP
+return(STAIR);
+	YY_BREAK
+case 6:
+YY_RULE_SETUP
+return(NO_UP);
+	YY_BREAK
+case 7:
+YY_RULE_SETUP
+return(NO_DOWN);
+	YY_BREAK
+case 8:
+YY_RULE_SETUP
+return(PORTAL);
+	YY_BREAK
+case 9:
+YY_RULE_SETUP
+return(PROTOFILE);
+	YY_BREAK
+case 10:
+YY_RULE_SETUP
+return(DESCRIPTION);
+	YY_BREAK
+case 11:
+YY_RULE_SETUP
+return(LEVELDESC);
+	YY_BREAK
+case 12:
+YY_RULE_SETUP
+return(ALIGNMENT);
+	YY_BREAK
+case 13:
+YY_RULE_SETUP
+return(LEVALIGN);
+	YY_BREAK
+case 14:
+YY_RULE_SETUP
+{ yylval.i=TOWN ; return(DESCRIPTOR); }
+	YY_BREAK
+case 15:
+YY_RULE_SETUP
+{ yylval.i=HELLISH ; return(DESCRIPTOR); }
+	YY_BREAK
+case 16:
+YY_RULE_SETUP
+{ yylval.i=MAZELIKE ; return(DESCRIPTOR); }
+	YY_BREAK
+case 17:
+YY_RULE_SETUP
+{ yylval.i=ROGUELIKE ; return(DESCRIPTOR); }
+	YY_BREAK
+case 18:
+YY_RULE_SETUP
+{ yylval.i=D_ALIGN_NONE ; return(DESCRIPTOR); }
+	YY_BREAK
+case 19:
+YY_RULE_SETUP
+{ yylval.i=D_ALIGN_NONE ; return(DESCRIPTOR); }
+	YY_BREAK
+case 20:
+YY_RULE_SETUP
+{ yylval.i=D_ALIGN_LAWFUL ; return(DESCRIPTOR); }
+	YY_BREAK
+case 21:
+YY_RULE_SETUP
+{ yylval.i=D_ALIGN_NEUTRAL ; return(DESCRIPTOR); }
+	YY_BREAK
+case 22:
+YY_RULE_SETUP
+{ yylval.i=D_ALIGN_CHAOTIC ; return(DESCRIPTOR); }
+	YY_BREAK
+case 23:
+YY_RULE_SETUP
+return(BRANCH);
+	YY_BREAK
+case 24:
+YY_RULE_SETUP
+return(CHBRANCH);
+	YY_BREAK
+case 25:
+YY_RULE_SETUP
+return(LEVEL);
+	YY_BREAK
+case 26:
+YY_RULE_SETUP
+return(RNDLEVEL);
+	YY_BREAK
+case 27:
+YY_RULE_SETUP
+return(CHLEVEL);
+	YY_BREAK
+case 28:
+YY_RULE_SETUP
+return(RNDCHLEVEL);
+	YY_BREAK
+case 29:
+YY_RULE_SETUP
+{ yylval.i=atoi(yytext); return(INTEGER); }
+	YY_BREAK
+case 30:
+YY_RULE_SETUP
+{ yytext[yyleng-1] = 0; /* Discard the trailing \" */
+		  yylval.str = (char *) alloc(strlen(yytext+1)+1);
+		  Strcpy(yylval.str, yytext+1); /* Discard the first \" */
+		  return(STRING); }
+	YY_BREAK
+case 31:
+YY_RULE_SETUP
+{ line_number++; }
+	YY_BREAK
+case 32:
+YY_RULE_SETUP
+{ line_number++; }
+	YY_BREAK
+case 33:
+YY_RULE_SETUP
+;	/* skip trailing tabs & spaces */
+	YY_BREAK
+case 34:
+YY_RULE_SETUP
+{ return yytext[0]; }
+	YY_BREAK
+case 35:
+YY_RULE_SETUP
+ECHO;
+	YY_BREAK
+case YY_STATE_EOF(INITIAL):
+	yyterminate();
+
+	case YY_END_OF_BUFFER:
+		{
+		/* Amount of text matched not including the EOB char. */
+		int yy_amount_of_matched_text = (int) (yy_cp - yytext_ptr) - 1;
+
+		/* Undo the effects of YY_DO_BEFORE_ACTION. */
+		*yy_cp = yy_hold_char;
+		YY_RESTORE_YY_MORE_OFFSET
+
+		if ( yy_current_buffer->yy_buffer_status == YY_BUFFER_NEW )
+			{
+			/* We're scanning a new file or input source.  It's
+			 * possible that this happened because the user
+			 * just pointed yyin at a new source and called
+			 * yylex().  If so, then we have to assure
+			 * consistency between yy_current_buffer and our
+			 * globals.  Here is the right place to do so, because
+			 * this is the first action (other than possibly a
+			 * back-up) that will match for the new input source.
+			 */
+			yy_n_chars = yy_current_buffer->yy_n_chars;
+			yy_current_buffer->yy_input_file = yyin;
+			yy_current_buffer->yy_buffer_status = YY_BUFFER_NORMAL;
+			}
+
+		/* Note that here we test for yy_c_buf_p "<=" to the position
+		 * of the first EOB in the buffer, since yy_c_buf_p will
+		 * already have been incremented past the NUL character
+		 * (since all states make transitions on EOB to the
+		 * end-of-buffer state).  Contrast this with the test
+		 * in input().
+		 */
+		if ( yy_c_buf_p <= &yy_current_buffer->yy_ch_buf[yy_n_chars] )
+			{ /* This was really a NUL. */
+			yy_state_type yy_next_state;
+
+			yy_c_buf_p = yytext_ptr + yy_amount_of_matched_text;
+
+			yy_current_state = yy_get_previous_state();
+
+			/* Okay, we're now positioned to make the NUL
+			 * transition.  We couldn't have
+			 * yy_get_previous_state() go ahead and do it
+			 * for us because it doesn't know how to deal
+			 * with the possibility of jamming (and we don't
+			 * want to build jamming into it because then it
+			 * will run more slowly).
+			 */
+
+			yy_next_state = yy_try_NUL_trans( yy_current_state );
+
+			yy_bp = yytext_ptr + YY_MORE_ADJ;
+
+			if ( yy_next_state )
+				{
+				/* Consume the NUL. */
+				yy_cp = ++yy_c_buf_p;
+				yy_current_state = yy_next_state;
+				goto yy_match;
+				}
+
+			else
+				{
+				yy_cp = yy_c_buf_p;
+				goto yy_find_action;
+				}
+			}
+
+		else switch ( yy_get_next_buffer() )
+			{
+			case EOB_ACT_END_OF_FILE:
+				{
+				yy_did_buffer_switch_on_eof = 0;
+
+				if ( yywrap() )
+					{
+					/* Note: because we've taken care in
+					 * yy_get_next_buffer() to have set up
+					 * yytext, we can now set up
+					 * yy_c_buf_p so that if some total
+					 * hoser (like flex itself) wants to
+					 * call the scanner after we return the
+					 * YY_NULL, it'll still work - another
+					 * YY_NULL will get returned.
+					 */
+					yy_c_buf_p = yytext_ptr + YY_MORE_ADJ;
+
+					yy_act = YY_STATE_EOF(YY_START);
+					goto do_action;
+					}
+
+				else
+					{
+					if ( ! yy_did_buffer_switch_on_eof )
+						YY_NEW_FILE;
+					}
+				break;
+				}
+
+			case EOB_ACT_CONTINUE_SCAN:
+				yy_c_buf_p =
+					yytext_ptr + yy_amount_of_matched_text;
+
+				yy_current_state = yy_get_previous_state();
+
+				yy_cp = yy_c_buf_p;
+				yy_bp = yytext_ptr + YY_MORE_ADJ;
+				goto yy_match;
+
+			case EOB_ACT_LAST_MATCH:
+				yy_c_buf_p =
+				&yy_current_buffer->yy_ch_buf[yy_n_chars];
+
+				yy_current_state = yy_get_previous_state();
+
+				yy_cp = yy_c_buf_p;
+				yy_bp = yytext_ptr + YY_MORE_ADJ;
+				goto yy_find_action;
+			}
+		break;
+		}
+
+	default:
+		YY_FATAL_ERROR(
+			"fatal flex scanner internal error--no action found" );
+	} /* end of action switch */
+		} /* end of scanning one token */
+	} /* end of yylex */
+
+
+/* yy_get_next_buffer - try to read in a new buffer
+ *
+ * Returns a code representing an action:
+ *	EOB_ACT_LAST_MATCH -
+ *	EOB_ACT_CONTINUE_SCAN - continue scanning from current position
+ *	EOB_ACT_END_OF_FILE - end of file
+ */
+
+static int yy_get_next_buffer()
+	{
+	register char *dest = yy_current_buffer->yy_ch_buf;
+	register char *source = yytext_ptr;
+	register int number_to_move, i;
+	int ret_val;
+
+	if ( yy_c_buf_p > &yy_current_buffer->yy_ch_buf[yy_n_chars + 1] )
+		YY_FATAL_ERROR(
+		"fatal flex scanner internal error--end of buffer missed" );
+
+	if ( yy_current_buffer->yy_fill_buffer == 0 )
+		{ /* Don't try to fill the buffer, so this is an EOF. */
+		if ( yy_c_buf_p - yytext_ptr - YY_MORE_ADJ == 1 )
+			{
+			/* We matched a single character, the EOB, so
+			 * treat this as a final EOF.
+			 */
+			return EOB_ACT_END_OF_FILE;
+			}
+
+		else
+			{
+			/* We matched some text prior to the EOB, first
+			 * process it.
+			 */
+			return EOB_ACT_LAST_MATCH;
+			}
+		}
+
+	/* Try to read more data. */
+
+	/* First move last chars to start of buffer. */
+	number_to_move = (int) (yy_c_buf_p - yytext_ptr) - 1;
+
+	for ( i = 0; i < number_to_move; ++i )
+		*(dest++) = *(source++);
+
+	if ( yy_current_buffer->yy_buffer_status == YY_BUFFER_EOF_PENDING )
+		/* don't do the read, it's not guaranteed to return an EOF,
+		 * just force an EOF
+		 */
+		yy_current_buffer->yy_n_chars = yy_n_chars = 0;
+
+	else
+		{
+		int num_to_read =
+			yy_current_buffer->yy_buf_size - number_to_move - 1;
+
+		while ( num_to_read <= 0 )
+			{ /* Not enough room in the buffer - grow it. */
+#ifdef YY_USES_REJECT
+			YY_FATAL_ERROR(
+"input buffer overflow, can't enlarge buffer because scanner uses REJECT" );
+#else
+
+			/* just a shorter name for the current buffer */
+			YY_BUFFER_STATE b = yy_current_buffer;
+
+			int yy_c_buf_p_offset =
+				(int) (yy_c_buf_p - b->yy_ch_buf);
+
+			if ( b->yy_is_our_buffer )
+				{
+				int new_size = b->yy_buf_size * 2;
+
+				if ( new_size <= 0 )
+					b->yy_buf_size += b->yy_buf_size / 8;
+				else
+					b->yy_buf_size *= 2;
+
+				b->yy_ch_buf = (char *)
+					/* Include room in for 2 EOB chars. */
+					yy_flex_realloc( (void *) b->yy_ch_buf,
+							 b->yy_buf_size + 2 );
+				}
+			else
+				/* Can't grow it, we don't own it. */
+				b->yy_ch_buf = 0;
+
+			if ( ! b->yy_ch_buf )
+				YY_FATAL_ERROR(
+				"fatal error - scanner input buffer overflow" );
+
+			yy_c_buf_p = &b->yy_ch_buf[yy_c_buf_p_offset];
+
+			num_to_read = yy_current_buffer->yy_buf_size -
+						number_to_move - 1;
+#endif
+			}
+
+		if ( num_to_read > YY_READ_BUF_SIZE )
+			num_to_read = YY_READ_BUF_SIZE;
+
+		/* Read in more data. */
+		YY_INPUT( (&yy_current_buffer->yy_ch_buf[number_to_move]),
+			yy_n_chars, num_to_read );
+
+		yy_current_buffer->yy_n_chars = yy_n_chars;
+		}
+
+	if ( yy_n_chars == 0 )
+		{
+		if ( number_to_move == YY_MORE_ADJ )
+			{
+			ret_val = EOB_ACT_END_OF_FILE;
+			yyrestart( yyin );
+			}
+
+		else
+			{
+			ret_val = EOB_ACT_LAST_MATCH;
+			yy_current_buffer->yy_buffer_status =
+				YY_BUFFER_EOF_PENDING;
+			}
+		}
+
+	else
+		ret_val = EOB_ACT_CONTINUE_SCAN;
+
+	yy_n_chars += number_to_move;
+	yy_current_buffer->yy_ch_buf[yy_n_chars] = YY_END_OF_BUFFER_CHAR;
+	yy_current_buffer->yy_ch_buf[yy_n_chars + 1] = YY_END_OF_BUFFER_CHAR;
+
+	yytext_ptr = &yy_current_buffer->yy_ch_buf[0];
+
+	return ret_val;
+	}
+
+
+/* yy_get_previous_state - get the state just before the EOB char was reached */
+
+static yy_state_type yy_get_previous_state()
+	{
+	register yy_state_type yy_current_state;
+	register char *yy_cp;
+
+	yy_current_state = yy_start;
+	yy_current_state += YY_AT_BOL();
+
+	for ( yy_cp = yytext_ptr + YY_MORE_ADJ; yy_cp < yy_c_buf_p; ++yy_cp )
+		{
+		register YY_CHAR yy_c = (*yy_cp ? yy_ec[YY_SC_TO_UI(*yy_cp)] : 1);
+		if ( yy_accept[yy_current_state] )
+			{
+			yy_last_accepting_state = yy_current_state;
+			yy_last_accepting_cpos = yy_cp;
+			}
+		while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
+			{
+			yy_current_state = (int) yy_def[yy_current_state];
+			if ( yy_current_state >= 196 )
+				yy_c = yy_meta[(unsigned int) yy_c];
+			}
+		yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
+		}
+
+	return yy_current_state;
+	}
+
+
+/* yy_try_NUL_trans - try to make a transition on the NUL character
+ *
+ * synopsis
+ *	next_state = yy_try_NUL_trans( current_state );
+ */
+
+#ifdef YY_USE_PROTOS
+static yy_state_type yy_try_NUL_trans( yy_state_type yy_current_state )
+#else
+static yy_state_type yy_try_NUL_trans( yy_current_state )
+yy_state_type yy_current_state;
+#endif
+	{
+	register int yy_is_jam;
+	register char *yy_cp = yy_c_buf_p;
+
+	register YY_CHAR yy_c = 1;
+	if ( yy_accept[yy_current_state] )
+		{
+		yy_last_accepting_state = yy_current_state;
+		yy_last_accepting_cpos = yy_cp;
+		}
+	while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
+		{
+		yy_current_state = (int) yy_def[yy_current_state];
+		if ( yy_current_state >= 196 )
+			yy_c = yy_meta[(unsigned int) yy_c];
+		}
+	yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
+	yy_is_jam = (yy_current_state == 195);
+
+	return yy_is_jam ? 0 : yy_current_state;
+	}
+
+
+#ifndef YY_NO_UNPUT
+#ifdef YY_USE_PROTOS
+static void yyunput( int c, register char *yy_bp )
+#else
+static void yyunput( c, yy_bp )
+int c;
+register char *yy_bp;
+#endif
+	{
+	register char *yy_cp = yy_c_buf_p;
+
+	/* undo effects of setting up yytext */
+	*yy_cp = yy_hold_char;
+
+	if ( yy_cp < yy_current_buffer->yy_ch_buf + 2 )
+		{ /* need to shift things up to make room */
+		/* +2 for EOB chars. */
+		register int number_to_move = yy_n_chars + 2;
+		register char *dest = &yy_current_buffer->yy_ch_buf[
+					yy_current_buffer->yy_buf_size + 2];
+		register char *source =
+				&yy_current_buffer->yy_ch_buf[number_to_move];
+
+		while ( source > yy_current_buffer->yy_ch_buf )
+			*--dest = *--source;
+
+		yy_cp += (int) (dest - source);
+		yy_bp += (int) (dest - source);
+		yy_current_buffer->yy_n_chars =
+			yy_n_chars = yy_current_buffer->yy_buf_size;
+
+		if ( yy_cp < yy_current_buffer->yy_ch_buf + 2 )
+			YY_FATAL_ERROR( "flex scanner push-back overflow" );
+		}
+
+	*--yy_cp = (char) c;
+
+
+	yytext_ptr = yy_bp;
+	yy_hold_char = *yy_cp;
+	yy_c_buf_p = yy_cp;
+	}
+#endif	/* ifndef YY_NO_UNPUT */
+
+
+#ifdef __cplusplus
+static int yyinput()
+#else
+static int input()
+#endif
+	{
+	int c;
+
+	*yy_c_buf_p = yy_hold_char;
+
+	if ( *yy_c_buf_p == YY_END_OF_BUFFER_CHAR )
+		{
+		/* yy_c_buf_p now points to the character we want to return.
+		 * If this occurs *before* the EOB characters, then it's a
+		 * valid NUL; if not, then we've hit the end of the buffer.
+		 */
+		if ( yy_c_buf_p < &yy_current_buffer->yy_ch_buf[yy_n_chars] )
+			/* This was really a NUL. */
+			*yy_c_buf_p = '\0';
+
+		else
+			{ /* need more input */
+			int offset = yy_c_buf_p - yytext_ptr;
+			++yy_c_buf_p;
+
+			switch ( yy_get_next_buffer() )
+				{
+				case EOB_ACT_LAST_MATCH:
+					/* This happens because yy_g_n_b()
+					 * sees that we've accumulated a
+					 * token and flags that we need to
+					 * try matching the token before
+					 * proceeding.  But for input(),
+					 * there's no matching to consider.
+					 * So convert the EOB_ACT_LAST_MATCH
+					 * to EOB_ACT_END_OF_FILE.
+					 */
+
+					/* Reset buffer status. */
+					yyrestart( yyin );
+
+					/* fall through */
+
+				case EOB_ACT_END_OF_FILE:
+					{
+					if ( yywrap() )
+						return EOF;
+
+					if ( ! yy_did_buffer_switch_on_eof )
+						YY_NEW_FILE;
+#ifdef __cplusplus
+					return yyinput();
+#else
+					return input();
+#endif
+					}
+
+				case EOB_ACT_CONTINUE_SCAN:
+					yy_c_buf_p = yytext_ptr + offset;
+					break;
+				}
+			}
+		}
+
+	c = *(unsigned char *) yy_c_buf_p;	/* cast for 8-bit char's */
+	*yy_c_buf_p = '\0';	/* preserve yytext */
+	yy_hold_char = *++yy_c_buf_p;
+
+	yy_current_buffer->yy_at_bol = (c == '\n');
+
+	return c;
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yyrestart( FILE *input_file )
+#else
+void yyrestart( input_file )
+FILE *input_file;
+#endif
+	{
+	if ( ! yy_current_buffer )
+		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE );
+
+	yy_init_buffer( yy_current_buffer, input_file );
+	yy_load_buffer_state();
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yy_switch_to_buffer( YY_BUFFER_STATE new_buffer )
+#else
+void yy_switch_to_buffer( new_buffer )
+YY_BUFFER_STATE new_buffer;
+#endif
+	{
+	if ( yy_current_buffer == new_buffer )
+		return;
+
+	if ( yy_current_buffer )
+		{
+		/* Flush out information for old buffer. */
+		*yy_c_buf_p = yy_hold_char;
+		yy_current_buffer->yy_buf_pos = yy_c_buf_p;
+		yy_current_buffer->yy_n_chars = yy_n_chars;
+		}
+
+	yy_current_buffer = new_buffer;
+	yy_load_buffer_state();
+
+	/* We don't actually know whether we did this switch during
+	 * EOF (yywrap()) processing, but the only time this flag
+	 * is looked at is after yywrap() is called, so it's safe
+	 * to go ahead and always set it.
+	 */
+	yy_did_buffer_switch_on_eof = 1;
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yy_load_buffer_state( void )
+#else
+void yy_load_buffer_state()
+#endif
+	{
+	yy_n_chars = yy_current_buffer->yy_n_chars;
+	yytext_ptr = yy_c_buf_p = yy_current_buffer->yy_buf_pos;
+	yyin = yy_current_buffer->yy_input_file;
+	yy_hold_char = *yy_c_buf_p;
+	}
+
+
+#ifdef YY_USE_PROTOS
+YY_BUFFER_STATE yy_create_buffer( FILE *file, int size )
+#else
+YY_BUFFER_STATE yy_create_buffer( file, size )
+FILE *file;
+int size;
+#endif
+	{
+	YY_BUFFER_STATE b;
+
+	b = (YY_BUFFER_STATE) yy_flex_alloc( sizeof( struct yy_buffer_state ) );
+	if ( ! b )
+		YY_FATAL_ERROR( "out of dynamic memory in yy_create_buffer()" );
+
+	b->yy_buf_size = size;
+
+	/* yy_ch_buf has to be 2 characters longer than the size given because
+	 * we need to put in 2 end-of-buffer characters.
+	 */
+	b->yy_ch_buf = (char *) yy_flex_alloc( b->yy_buf_size + 2 );
+	if ( ! b->yy_ch_buf )
+		YY_FATAL_ERROR( "out of dynamic memory in yy_create_buffer()" );
+
+	b->yy_is_our_buffer = 1;
+
+	yy_init_buffer( b, file );
+
+	return b;
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yy_delete_buffer( YY_BUFFER_STATE b )
+#else
+void yy_delete_buffer( b )
+YY_BUFFER_STATE b;
+#endif
+	{
+	if ( ! b )
+		return;
+
+	if ( b == yy_current_buffer )
+		yy_current_buffer = (YY_BUFFER_STATE) 0;
+
+	if ( b->yy_is_our_buffer )
+		yy_flex_free( (void *) b->yy_ch_buf );
+
+	yy_flex_free( (void *) b );
+	}
+
+
+
+#ifdef YY_USE_PROTOS
+void yy_init_buffer( YY_BUFFER_STATE b, FILE *file )
+#else
+void yy_init_buffer( b, file )
+YY_BUFFER_STATE b;
+FILE *file;
+#endif
+
+
+	{
+	yy_flush_buffer( b );
+
+	b->yy_input_file = file;
+	b->yy_fill_buffer = 1;
+
+#if YY_ALWAYS_INTERACTIVE
+	b->yy_is_interactive = 1;
+#else
+#if YY_NEVER_INTERACTIVE
+	b->yy_is_interactive = 0;
+#else
+	b->yy_is_interactive = file ? (isatty( fileno(file) ) > 0) : 0;
+#endif
+#endif
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yy_flush_buffer( YY_BUFFER_STATE b )
+#else
+void yy_flush_buffer( b )
+YY_BUFFER_STATE b;
+#endif
+
+	{
+	if ( ! b )
+		return;
+
+	b->yy_n_chars = 0;
+
+	/* We always need two end-of-buffer characters.  The first causes
+	 * a transition to the end-of-buffer state.  The second causes
+	 * a jam in that state.
+	 */
+	b->yy_ch_buf[0] = YY_END_OF_BUFFER_CHAR;
+	b->yy_ch_buf[1] = YY_END_OF_BUFFER_CHAR;
+
+	b->yy_buf_pos = &b->yy_ch_buf[0];
+
+	b->yy_at_bol = 1;
+	b->yy_buffer_status = YY_BUFFER_NEW;
+
+	if ( b == yy_current_buffer )
+		yy_load_buffer_state();
+	}
+
+
+#ifndef YY_NO_SCAN_BUFFER
+#ifdef YY_USE_PROTOS
+YY_BUFFER_STATE yy_scan_buffer( char *base, yy_size_t size )
+#else
+YY_BUFFER_STATE yy_scan_buffer( base, size )
+char *base;
+yy_size_t size;
+#endif
+	{
+	YY_BUFFER_STATE b;
+
+	if ( size < 2 ||
+	     base[size-2] != YY_END_OF_BUFFER_CHAR ||
+	     base[size-1] != YY_END_OF_BUFFER_CHAR )
+		/* They forgot to leave room for the EOB's. */
+		return 0;
+
+	b = (YY_BUFFER_STATE) yy_flex_alloc( sizeof( struct yy_buffer_state ) );
+	if ( ! b )
+		YY_FATAL_ERROR( "out of dynamic memory in yy_scan_buffer()" );
+
+	b->yy_buf_size = size - 2;	/* "- 2" to take care of EOB's */
+	b->yy_buf_pos = b->yy_ch_buf = base;
+	b->yy_is_our_buffer = 0;
+	b->yy_input_file = 0;
+	b->yy_n_chars = b->yy_buf_size;
+	b->yy_is_interactive = 0;
+	b->yy_at_bol = 1;
+	b->yy_fill_buffer = 0;
+	b->yy_buffer_status = YY_BUFFER_NEW;
+
+	yy_switch_to_buffer( b );
+
+	return b;
+	}
+#endif
+
+
+#ifndef YY_NO_SCAN_STRING
+#ifdef YY_USE_PROTOS
+YY_BUFFER_STATE yy_scan_string( yyconst char *yy_str )
+#else
+YY_BUFFER_STATE yy_scan_string( yy_str )
+yyconst char *yy_str;
+#endif
+	{
+	int len;
+	for ( len = 0; yy_str[len]; ++len )
+		;
+
+	return yy_scan_bytes( yy_str, len );
+	}
+#endif
+
+
+#ifndef YY_NO_SCAN_BYTES
+#ifdef YY_USE_PROTOS
+YY_BUFFER_STATE yy_scan_bytes( yyconst char *bytes, int len )
+#else
+YY_BUFFER_STATE yy_scan_bytes( bytes, len )
+yyconst char *bytes;
+int len;
+#endif
+	{
+	YY_BUFFER_STATE b;
+	char *buf;
+	yy_size_t n;
+	int i;
+
+	/* Get memory for full buffer, including space for trailing EOB's. */
+	n = len + 2;
+	buf = (char *) yy_flex_alloc( n );
+	if ( ! buf )
+		YY_FATAL_ERROR( "out of dynamic memory in yy_scan_bytes()" );
+
+	for ( i = 0; i < len; ++i )
+		buf[i] = bytes[i];
+
+	buf[len] = buf[len+1] = YY_END_OF_BUFFER_CHAR;
+
+	b = yy_scan_buffer( buf, n );
+	if ( ! b )
+		YY_FATAL_ERROR( "bad buffer in yy_scan_bytes()" );
+
+	/* It's okay to grow etc. this buffer, and we should throw it
+	 * away when we're done.
+	 */
+	b->yy_is_our_buffer = 1;
+
+	return b;
+	}
+#endif
+
+
+#ifndef YY_NO_PUSH_STATE
+#ifdef YY_USE_PROTOS
+static void yy_push_state( int new_state )
+#else
+static void yy_push_state( new_state )
+int new_state;
+#endif
+	{
+	if ( yy_start_stack_ptr >= yy_start_stack_depth )
+		{
+		yy_size_t new_size;
+
+		yy_start_stack_depth += YY_START_STACK_INCR;
+		new_size = yy_start_stack_depth * sizeof( int );
+
+		if ( ! yy_start_stack )
+			yy_start_stack = (int *) yy_flex_alloc( new_size );
+
+		else
+			yy_start_stack = (int *) yy_flex_realloc(
+					(void *) yy_start_stack, new_size );
+
+		if ( ! yy_start_stack )
+			YY_FATAL_ERROR(
+			"out of memory expanding start-condition stack" );
+		}
+
+	yy_start_stack[yy_start_stack_ptr++] = YY_START;
+
+	BEGIN(new_state);
+	}
+#endif
+
+
+#ifndef YY_NO_POP_STATE
+static void yy_pop_state()
+	{
+	if ( --yy_start_stack_ptr < 0 )
+		YY_FATAL_ERROR( "start-condition stack underflow" );
+
+	BEGIN(yy_start_stack[yy_start_stack_ptr]);
+	}
+#endif
+
+
+#ifndef YY_NO_TOP_STATE
+static int yy_top_state()
+	{
+	return yy_start_stack[yy_start_stack_ptr - 1];
+	}
+#endif
+
+#ifndef YY_EXIT_FAILURE
+#define YY_EXIT_FAILURE 2
+#endif
+
+#ifdef YY_USE_PROTOS
+static void yy_fatal_error( yyconst char msg[] )
+#else
+static void yy_fatal_error( msg )
+char msg[];
+#endif
+	{
+	(void) fprintf( stderr, "%s\n", msg );
+	exit( YY_EXIT_FAILURE );
+	}
+
+
+
+/* Redefine yyless() so it works in section 3 code. */
+
+#undef yyless
+#define yyless(n) \
+	do \
+		{ \
+		/* Undo effects of setting up yytext. */ \
+		yytext[yyleng] = yy_hold_char; \
+		yy_c_buf_p = yytext + n; \
+		yy_hold_char = *yy_c_buf_p; \
+		*yy_c_buf_p = '\0'; \
+		yyleng = n; \
+		} \
+	while ( 0 )
+
+
+/* Internal utility routines. */
+
+#ifndef yytext_ptr
+#ifdef YY_USE_PROTOS
+static void yy_flex_strncpy( char *s1, yyconst char *s2, int n )
+#else
+static void yy_flex_strncpy( s1, s2, n )
+char *s1;
+yyconst char *s2;
+int n;
+#endif
+	{
+	register int i;
+	for ( i = 0; i < n; ++i )
+		s1[i] = s2[i];
+	}
+#endif
+
+#ifdef YY_NEED_STRLEN
+#ifdef YY_USE_PROTOS
+static int yy_flex_strlen( yyconst char *s )
+#else
+static int yy_flex_strlen( s )
+yyconst char *s;
+#endif
+	{
+	register int n;
+	for ( n = 0; s[n]; ++n )
+		;
+
+	return n;
+	}
+#endif
+
+
+#ifdef YY_USE_PROTOS
+static void *yy_flex_alloc( yy_size_t size )
+#else
+static void *yy_flex_alloc( size )
+yy_size_t size;
+#endif
+	{
+	return (void *) malloc( size );
+	}
+
+#ifdef YY_USE_PROTOS
+static void *yy_flex_realloc( void *ptr, yy_size_t size )
+#else
+static void *yy_flex_realloc( ptr, size )
+void *ptr;
+yy_size_t size;
+#endif
+	{
+	/* The cast to (char *) in the following accommodates both
+	 * implementations that use char* generic pointers, and those
+	 * that use void* generic pointers.  It works with the latter
+	 * because both ANSI C and C++ allow castless assignment from
+	 * any pointer type to void*, and deal with argument conversions
+	 * as though doing an assignment.
+	 */
+	return (void *) realloc( (char *) ptr, size );
+	}
+
+#ifdef YY_USE_PROTOS
+static void yy_flex_free( void *ptr )
+#else
+static void yy_flex_free( ptr )
+void *ptr;
+#endif
+	{
+	free( ptr );
+	}
+
+#if YY_MAIN
+int main()
+	{
+	yylex();
+	return 0;
+	}
+#endif
+
+
+/* routine to switch to another input file; needed for flex */
+void init_yyin( input_f )
+FILE *input_f;
+{
+#if defined(FLEX_SCANNER) || defined(FLEXHACK_SCANNER)
+	if (yyin)
+	    yyrestart(input_f);
+	else
+#endif
+	    yyin = input_f;
+}
+/* analogous routine (for completeness) */
+void init_yyout( output_f )
+FILE *output_f;
+{
+	yyout = output_f;
+}
+
+/*dgn_comp.l*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\dgn_main.c SlashTNG-master\src\dgn_main.c
--- slashem-0.0.7E7F3\src\dgn_main.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\dgn_main.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,213 @@
+/*	SCCS Id: @(#)dgn_main.c 3.4	1994/09/23	*/
+/*	Copyright (c) 1989 by Jean-Christophe Collet	*/
+/*	Copyright (c) 1990 by M. Stephenson		*/
+/* NetHack may be freely redistributed.  See license for details. */
+
+/*
+ * This file contains the main function for the parser
+ * and some useful functions needed by yacc
+ */
+
+#include "config.h"
+#include "dlb.h"
+
+/* Macintosh-specific code */
+#if defined(__APPLE__) && defined(__MACH__)
+  /* MacOS X has Unix-style files and processes */
+# undef MAC
+#endif
+#ifdef MAC
+# ifdef MAC_MPW
+#  define MPWTOOL
+#include <CursorCtl.h>
+# else
+   /* put dungeon file in library location */
+#  define PREFIX ":lib:"
+# endif
+#endif
+
+#ifndef MPWTOOL
+# define SpinCursor(x)
+#endif
+
+#define MAX_ERRORS	25
+
+extern int  NDECL (yyparse);
+extern int line_number;
+const char *fname = "(stdin)";
+int fatal_error = 0;
+
+int  FDECL (main, (int,char **));
+void FDECL (yyerror, (const char *));
+void FDECL (yywarning, (const char *));
+int  NDECL (yywrap);
+void FDECL (init_yyin, (FILE *));
+void FDECL (init_yyout, (FILE *));
+
+#ifdef AZTEC_36
+FILE *FDECL (freopen, (char *,char *,FILE *));
+#endif
+#define Fprintf (void)fprintf
+
+#if defined(__BORLANDC__) && !defined(_WIN32)
+extern unsigned _stklen = STKSIZ;
+#endif
+int
+main(argc, argv)
+int argc;
+char **argv;
+{
+	char	*infile, *outfile, *basename;
+	FILE	*fin, *fout;
+	int	i, len;
+	boolean errors_encountered = FALSE;
+#if defined(MAC) && (defined(THINK_C) || defined(__MWERKS__))
+	char	*mark;
+	static char *mac_argv[] = {	"dgn_comp",	/* dummy argv[0] */
+				":dat:dungeon.pdf"
+				};
+
+	argc = SIZE(mac_argv);
+	argv = mac_argv;
+#endif
+
+	infile = "(stdin)";
+	fin = stdin;
+	outfile = "(stdout)";
+	fout = stdout;
+
+	if (argc == 1) {	/* Read standard input */
+	    init_yyin(fin);
+	    init_yyout(fout);
+	    (void) yyparse();
+	    if (fatal_error > 0)
+		errors_encountered = TRUE;
+	} else {		/* Otherwise every argument is a filename */
+	    infile = outfile = (char *)0;
+	    for(i=1; i<argc; i++) {
+		if (infile) free(infile);
+		infile = (char*)alloc(strlen(argv[i]) + 1);
+		fname = strcpy(infile, argv[i]);
+		/* the input file had better be a .pdf file */
+		len = strlen(fname) - 4;	/* length excluding suffix */
+		if (len < 0 || strncmp(".pdf", fname + len, 4)) {
+		    Fprintf(stderr,
+			    "Error - file name \"%s\" in wrong format.\n",
+			    fname);
+		    errors_encountered = TRUE;
+		    free(infile);
+		    continue;
+		}
+
+		/* build output file name */
+#if defined(MAC) && (defined(THINK_C) || defined(__MWERKS__))
+		/* extract basename from path to infile */
+		mark = strrchr(infile, ':');
+		mark = mark ? mark+1 : infile;
+		basename = alloc(strlen(mark) + 1);
+		Strcpy(basename, mark);
+		mark = strchr(basename, '.');
+		if (mark) *mark = '\0';
+#else
+		/* Use the whole name - strip off the last 3 or 4 chars. */
+
+#ifdef VMS	/* avoid possible interaction with logical name */
+		len++;	/* retain "." as trailing punctuation */
+#endif
+		basename = (char*)alloc(len + 1);
+		(void) strncpy(basename, infile, len);
+		basename[len] = '\0';
+#endif
+
+		if (outfile) free(outfile);
+#ifdef PREFIX
+		outfile = alloc(strlen(PREFIX) + strlen(basename) + 1);
+		Strcpy(outfile, PREFIX);
+#else
+		outfile = (char*)alloc(strlen(basename) + 1);
+		outfile[0] = '\0';
+#endif
+		(void) strcat(outfile, basename);
+		free(basename);
+
+		fin = freopen(infile, "r", stdin);
+		if (!fin) {
+		    Fprintf(stderr, "Can't open %s for input.\n", infile);
+		    perror(infile);
+		    errors_encountered = TRUE;
+		    continue;
+		}
+		fout = freopen(outfile, WRBMODE, stdout);
+		if (!fout) {
+		    Fprintf(stderr, "Can't open %s for output.\n", outfile);
+		    perror(outfile);
+		    errors_encountered = TRUE;
+		    continue;
+		}
+		init_yyin(fin);
+		init_yyout(fout);
+		(void) yyparse();
+		line_number = 1;
+		if (fatal_error > 0) {
+			errors_encountered = TRUE;
+			fatal_error = 0;
+		}
+	    }
+	}
+	if (fout && fout != stdout && fclose(fout) < 0) {
+	    Fprintf(stderr, "Can't finish output file.");
+	    perror(outfile);
+	    errors_encountered = TRUE;
+	}
+	exit(errors_encountered ? EXIT_FAILURE : EXIT_SUCCESS);
+	/*NOTREACHED*/
+	return 0;
+}
+
+/*
+ * Each time the parser detects an error, it uses this function.
+ * Here we take count of the errors. To continue farther than
+ * MAX_ERRORS wouldn't be reasonable.
+ */
+
+void yyerror(s)
+const char *s;
+{
+	Fprintf(stderr,
+#ifndef MAC_MPW
+	  "%s : line %d : %s\n",
+#else
+	  "File %s ; Line %d # %s\n",
+#endif
+	  fname, line_number, s);
+	if (++fatal_error > MAX_ERRORS) {
+		(void) fprintf(stderr,"Too many errors, good bye!\n");
+		exit(EXIT_FAILURE);
+	}
+}
+
+/*
+ * Just display a warning (that is : a non fatal error)
+ */
+
+void yywarning(s)
+const char *s;
+{
+	Fprintf(stderr,
+#ifndef MAC_MPW
+	  "%s : line %d : WARNING : %s\n",
+#else
+	  "File %s ; Line %d # WARNING : %s\n",
+#endif
+	  fname, line_number, s);
+}
+
+int yywrap()
+{
+	SpinCursor(3); /*	Don't know if this is a good place to put it ?
+						Is it called for our grammar ? Often enough ?
+						Too often ? -- h+ */
+       return 1;
+}
+
+/*dgn_main.c*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\dgn_yacc.c SlashTNG-master\src\dgn_yacc.c
--- slashem-0.0.7E7F3\src\dgn_yacc.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\dgn_yacc.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,1145 @@
+#ifndef lint
+static char const 
+yyrcsid[] = "$FreeBSD: src/usr.bin/yacc/skeleton.c,v 1.28 2000/01/17 02:04:06 bde Exp $";
+#endif
+#include <stdlib.h>
+#define YYBYACC 1
+#define YYMAJOR 1
+#define YYMINOR 9
+#define YYLEX yylex()
+#define YYEMPTY -1
+#define yyclearin (yychar=(YYEMPTY))
+#define yyerrok (yyerrflag=0)
+#define YYRECOVERING() (yyerrflag!=0)
+static int yygrowstack();
+#define YYPREFIX "yy"
+/*	SCCS Id: @(#)dgn_comp.c	3.4	1996/06/22	*/
+/*	Copyright (c) 1989 by Jean-Christophe Collet */
+/*	Copyright (c) 1990 by M. Stephenson				  */
+/* NetHack may be freely redistributed.  See license for details. */
+
+/*
+ * This file contains the Dungeon Compiler code
+ */
+
+/* In case we're using bison in AIX.  This definition must be
+ * placed before any other C-language construct in the file
+ * excluding comments and preprocessor directives (thanks IBM
+ * for this wonderful feature...).
+ *
+ * Note: some cpps barf on this 'undefined control' (#pragma).
+ * Addition of the leading space seems to prevent barfage for now,
+ * and AIX will still see the directive in its non-standard locale.
+ */
+
+#ifdef _AIX
+ #pragma alloca		/* keep leading space! */
+#endif
+
+#include "config.h"
+#include "date.h"
+#include "dgn_file.h"
+
+void FDECL(yyerror, (const char *));
+void FDECL(yywarning, (const char *));
+int NDECL(yylex);
+int NDECL(yyparse);
+int FDECL(getchain, (char *));
+int NDECL(check_dungeon);
+int NDECL(check_branch);
+int NDECL(check_level);
+void NDECL(init_dungeon);
+void NDECL(init_branch);
+void NDECL(init_level);
+void NDECL(output_dgn);
+
+#define Free(ptr)		free((genericptr_t)ptr)
+
+#ifdef AMIGA
+# undef	printf
+#ifndef	LATTICE
+# define    memset(addr,val,len)    setmem(addr,len,val)
+#endif
+#endif
+
+#define ERR		(-1)
+
+static struct couple couple;
+static struct tmpdungeon tmpdungeon[MAXDUNGEON];
+static struct tmplevel tmplevel[LEV_LIMIT];
+static struct tmpbranch tmpbranch[BRANCH_LIMIT];
+
+static int in_dungeon = 0, n_dgns = -1, n_levs = -1, n_brs = -1;
+
+extern int fatal_error;
+extern const char *fname;
+extern FILE *yyin, *yyout;	/* from dgn_lex.c */
+
+typedef union
+{
+	int	i;
+	char*	str;
+} YYSTYPE;
+#define YYERRCODE 256
+#define INTEGER 257
+#define A_DUNGEON 258
+#define BRANCH 259
+#define CHBRANCH 260
+#define LEVEL 261
+#define RNDLEVEL 262
+#define CHLEVEL 263
+#define RNDCHLEVEL 264
+#define UP_OR_DOWN 265
+#define PROTOFILE 266
+#define DESCRIPTION 267
+#define DESCRIPTOR 268
+#define LEVELDESC 269
+#define ALIGNMENT 270
+#define LEVALIGN 271
+#define ENTRY 272
+#define STAIR 273
+#define NO_UP 274
+#define NO_DOWN 275
+#define PORTAL 276
+#define STRING 277
+const short yylhs[] = {                                        -1,
+    0,    0,    5,    5,    6,    6,    6,    6,    7,    1,
+    1,    8,    8,    8,   12,   13,   15,   15,   14,   10,
+   10,   10,   10,   10,   16,   16,   17,   17,   18,   18,
+   19,   19,   20,   20,    9,    9,   22,   23,    3,    3,
+    3,    3,    3,    2,    2,    4,   21,   11,
+};
+const short yylen[] = {                                         2,
+    0,    1,    1,    2,    1,    1,    1,    1,    6,    0,
+    1,    1,    1,    1,    3,    1,    3,    3,    3,    1,
+    1,    1,    1,    1,    6,    7,    7,    8,    3,    3,
+    7,    8,    8,    9,    1,    1,    8,    9,    0,    1,
+    1,    1,    1,    0,    1,    1,    5,    5,
+};
+const short yydefred[] = {                                      0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    3,    5,    6,    7,    8,
+   12,   13,   14,   16,   20,   21,   22,   23,   24,   35,
+   36,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    4,    0,    0,    0,    0,    0,
+    0,    0,   19,   17,   29,   18,   30,   15,   46,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,   11,    9,    0,   40,
+   41,   42,   43,    0,    0,    0,    0,    0,    0,    0,
+    0,   45,    0,    0,   27,    0,    0,    0,    0,    0,
+   37,    0,   28,   33,    0,   48,   47,   38,   34,
+};
+const short yydgoto[] = {                                      14,
+   78,   93,   84,   60,   15,   16,   17,   18,   19,   20,
+   68,   21,   22,   23,   24,   25,   26,   27,   28,   29,
+   70,   30,   31,
+};
+const short yysindex[] = {                                   -236,
+  -44,  -43,  -42,  -40,  -37,  -29,  -21,  -20,  -19,  -18,
+  -17,  -16,  -15,    0, -236,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0, -233, -232, -231, -229, -228, -227, -226, -225, -215,
+ -214, -213, -212, -200,    0, -219,   -5, -217, -219, -219,
+ -219, -219,    0,    0,    0,    0,    0,    0,    0,   21,
+   23,   22,    2,    3, -209, -208, -193, -187, -186, -270,
+   21,   23,   23,   29,   30,   31,    0,    0,   34,    0,
+    0,    0,    0, -191, -270, -181, -178,   21,   21, -177,
+ -176,    0, -187, -191,    0, -175, -174, -173,   44,   45,
+    0, -187,    0,    0, -170,    0,    0,    0,    0,
+};
+const short yyrindex[] = {                                     88,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,   89,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,   32,    0,    1,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,   17,    1,   47,    0,    0,    0,    0,
+    0,    0,   32,   17,    0,   62,   77,    0,    0,    0,
+    0,   32,    0,    0,   92,    0,    0,    0,    0,
+};
+const short yygindex[] = {                                      0,
+  -93,   -4,    6,  -39,    0,   78,    0,    0,    0,    0,
+  -69,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+  -65,    0,    0,
+};
+#define YYTABLESIZE 364
+const short yytable[] = {                                     101,
+   39,   85,   80,   81,   82,   83,   86,   87,  108,   63,
+   64,   65,   66,   32,   33,   34,   44,   35,   97,   98,
+   36,    1,    2,    3,    4,    5,    6,    7,   37,    8,
+    9,   10,   10,   11,   12,   13,   38,   39,   40,   41,
+   42,   43,   44,   46,   47,   48,   25,   49,   50,   51,
+   52,   53,   54,   55,   56,   57,   58,   59,   61,   62,
+   67,   26,   69,   76,   71,   72,   73,   74,   75,   77,
+   79,   88,   89,   92,   90,   95,   31,   91,   96,   99,
+  100,  103,  104,  105,  106,  107,  109,    1,    2,  102,
+   94,   32,   45,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,   39,   39,   39,
+   39,   39,   39,   39,   39,   39,   39,   39,    0,   39,
+   39,   39,   39,   44,   44,   44,   44,   44,   44,   44,
+   44,    0,   44,   44,    0,   44,   44,   44,   44,   10,
+   10,   10,   10,   10,   10,   10,    0,   10,   10,    0,
+   10,   10,   10,   10,   25,   25,   25,   25,   25,   25,
+   25,    0,   25,   25,    0,   25,   25,   25,   25,   26,
+   26,   26,   26,   26,   26,   26,    0,   26,   26,    0,
+   26,   26,   26,   26,   31,   31,   31,   31,   31,   31,
+   31,    0,   31,   31,    0,   31,   31,   31,   31,   32,
+   32,   32,   32,   32,   32,   32,    0,   32,   32,    0,
+   32,   32,   32,   32,
+};
+const short yycheck[] = {                                      93,
+    0,   71,  273,  274,  275,  276,   72,   73,  102,   49,
+   50,   51,   52,   58,   58,   58,    0,   58,   88,   89,
+   58,  258,  259,  260,  261,  262,  263,  264,   58,  266,
+  267,    0,  269,  270,  271,  272,   58,   58,   58,   58,
+   58,   58,   58,  277,  277,  277,    0,  277,  277,  277,
+  277,  277,  268,  268,  268,  268,  257,  277,   64,  277,
+   40,    0,   40,  257,   43,   64,   64,  277,  277,  257,
+  257,   43,   43,  265,   44,  257,    0,   44,  257,  257,
+  257,  257,  257,  257,   41,   41,  257,    0,    0,   94,
+   85,    0,   15,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,  257,  258,  259,
+  260,  261,  262,  263,  264,  265,  266,  267,   -1,  269,
+  270,  271,  272,  257,  258,  259,  260,  261,  262,  263,
+  264,   -1,  266,  267,   -1,  269,  270,  271,  272,  258,
+  259,  260,  261,  262,  263,  264,   -1,  266,  267,   -1,
+  269,  270,  271,  272,  258,  259,  260,  261,  262,  263,
+  264,   -1,  266,  267,   -1,  269,  270,  271,  272,  258,
+  259,  260,  261,  262,  263,  264,   -1,  266,  267,   -1,
+  269,  270,  271,  272,  258,  259,  260,  261,  262,  263,
+  264,   -1,  266,  267,   -1,  269,  270,  271,  272,  258,
+  259,  260,  261,  262,  263,  264,   -1,  266,  267,   -1,
+  269,  270,  271,  272,
+};
+#define YYFINAL 14
+#ifndef YYDEBUG
+#define YYDEBUG 0
+#endif
+#define YYMAXTOKEN 277
+#if YYDEBUG
+const char * const yyname[] = {
+"end-of-file",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,"'('","')'",0,"'+'","','",0,0,0,0,0,0,0,0,0,0,0,0,0,"':'",0,0,0,0,0,
+"'@'",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"INTEGER",
+"A_DUNGEON","BRANCH","CHBRANCH","LEVEL","RNDLEVEL","CHLEVEL","RNDCHLEVEL",
+"UP_OR_DOWN","PROTOFILE","DESCRIPTION","DESCRIPTOR","LEVELDESC","ALIGNMENT",
+"LEVALIGN","ENTRY","STAIR","NO_UP","NO_DOWN","PORTAL","STRING",
+};
+const char * const yyrule[] = {
+"$accept : file",
+"file :",
+"file : dungeons",
+"dungeons : dungeon",
+"dungeons : dungeons dungeon",
+"dungeon : dungeonline",
+"dungeon : dungeondesc",
+"dungeon : branches",
+"dungeon : levels",
+"dungeonline : A_DUNGEON ':' STRING bones_tag rcouple optional_int",
+"optional_int :",
+"optional_int : INTEGER",
+"dungeondesc : entry",
+"dungeondesc : descriptions",
+"dungeondesc : prototype",
+"entry : ENTRY ':' INTEGER",
+"descriptions : desc",
+"desc : DESCRIPTION ':' DESCRIPTOR",
+"desc : ALIGNMENT ':' DESCRIPTOR",
+"prototype : PROTOFILE ':' STRING",
+"levels : level1",
+"levels : level2",
+"levels : levdesc",
+"levels : chlevel1",
+"levels : chlevel2",
+"level1 : LEVEL ':' STRING bones_tag '@' acouple",
+"level1 : RNDLEVEL ':' STRING bones_tag '@' acouple INTEGER",
+"level2 : LEVEL ':' STRING bones_tag '@' acouple INTEGER",
+"level2 : RNDLEVEL ':' STRING bones_tag '@' acouple INTEGER INTEGER",
+"levdesc : LEVELDESC ':' DESCRIPTOR",
+"levdesc : LEVALIGN ':' DESCRIPTOR",
+"chlevel1 : CHLEVEL ':' STRING bones_tag STRING '+' rcouple",
+"chlevel1 : RNDCHLEVEL ':' STRING bones_tag STRING '+' rcouple INTEGER",
+"chlevel2 : CHLEVEL ':' STRING bones_tag STRING '+' rcouple INTEGER",
+"chlevel2 : RNDCHLEVEL ':' STRING bones_tag STRING '+' rcouple INTEGER INTEGER",
+"branches : branch",
+"branches : chbranch",
+"branch : BRANCH ':' STRING '@' acouple branch_type direction optional_int",
+"chbranch : CHBRANCH ':' STRING STRING '+' rcouple branch_type direction optional_int",
+"branch_type :",
+"branch_type : STAIR",
+"branch_type : NO_UP",
+"branch_type : NO_DOWN",
+"branch_type : PORTAL",
+"direction :",
+"direction : UP_OR_DOWN",
+"bones_tag : STRING",
+"acouple : '(' INTEGER ',' INTEGER ')'",
+"rcouple : '(' INTEGER ',' INTEGER ')'",
+};
+#endif
+#if YYDEBUG
+#include <stdio.h>
+#endif
+#ifdef YYSTACKSIZE
+#undef YYMAXDEPTH
+#define YYMAXDEPTH YYSTACKSIZE
+#else
+#ifdef YYMAXDEPTH
+#define YYSTACKSIZE YYMAXDEPTH
+#else
+#define YYSTACKSIZE 10000
+#define YYMAXDEPTH 10000
+#endif
+#endif
+#define YYINITSTACKSIZE 200
+int yydebug;
+int yynerrs;
+int yyerrflag;
+int yychar;
+short *yyssp;
+YYSTYPE *yyvsp;
+YYSTYPE yyval;
+YYSTYPE yylval;
+short *yyss;
+short *yysslim;
+YYSTYPE *yyvs;
+int yystacksize;
+
+void
+init_dungeon()
+{
+	if(++n_dgns > MAXDUNGEON) {
+	    (void) fprintf(stderr, "FATAL - Too many dungeons (limit: %d).\n",
+		    MAXDUNGEON);
+	    (void) fprintf(stderr, "To increase the limit edit MAXDUNGEON in global.h\n");
+	    exit(EXIT_FAILURE);
+	}
+
+	in_dungeon = 1;
+	tmpdungeon[n_dgns].lev.base = 0;
+	tmpdungeon[n_dgns].lev.rand = 0;
+	tmpdungeon[n_dgns].chance = 100;
+	Strcpy(tmpdungeon[n_dgns].name, "");
+	Strcpy(tmpdungeon[n_dgns].protoname, "");
+	tmpdungeon[n_dgns].flags = 0;
+	tmpdungeon[n_dgns].levels = 0;
+	tmpdungeon[n_dgns].branches = 0;
+}
+
+void
+init_level()
+{
+	if(++n_levs > LEV_LIMIT) {
+
+		yyerror("FATAL - Too many special levels defined.");
+		exit(EXIT_FAILURE);
+	}
+	tmplevel[n_levs].lev.base = 0;
+	tmplevel[n_levs].lev.rand = 0;
+	tmplevel[n_levs].chance = 100;
+	tmplevel[n_levs].rndlevs = 0;
+	tmplevel[n_levs].flags = 0;
+	Strcpy(tmplevel[n_levs].name, "");
+	tmplevel[n_levs].chain = -1;
+}
+
+void
+init_branch()
+{
+	if(++n_brs > BRANCH_LIMIT) {
+
+		yyerror("FATAL - Too many special levels defined.");
+		exit(EXIT_FAILURE);
+	}
+	tmpbranch[n_brs].lev.base = 0;
+	tmpbranch[n_brs].lev.rand = 0;
+	Strcpy(tmpbranch[n_brs].name, "");
+	tmpbranch[n_brs].chain = -1;
+	tmpbranch[n_brs].entry_lev = 0;
+}
+
+int
+getchain(s)
+	char	*s;
+{
+	int i;
+
+	if(strlen(s)) {
+
+	    for(i = n_levs - tmpdungeon[n_dgns].levels + 1; i <= n_levs; i++)
+		if(!strcmp(tmplevel[i].name, s)) return i;
+
+	    yyerror("Can't locate the specified chain level.");
+	    return(-2);
+	}
+	return(-1);
+}
+
+/*
+ *	Consistancy checking routines:
+ *
+ *	- A dungeon must have a unique name.
+ *	- A dungeon must have a originating "branch" command
+ *	  (except, of course, for the first dungeon).
+ *	- A dungeon must have a proper depth (at least (1, 0)).
+ */
+
+int
+check_dungeon()
+{
+	int i;
+
+	for(i = 0; i < n_dgns; i++)
+	    if(!strcmp(tmpdungeon[i].name, tmpdungeon[n_dgns].name)) {
+		yyerror("Duplicate dungeon name.");
+		return(0);
+	    }
+
+	if(n_dgns)
+	  for(i = 0; i < n_brs - tmpdungeon[n_dgns].branches; i++) {
+	    if(!strcmp(tmpbranch[i].name, tmpdungeon[n_dgns].name)) break;
+
+	    if(i >= n_brs - tmpdungeon[n_dgns].branches) {
+		yyerror("Dungeon cannot be reached.");
+		return(0);
+	    }
+	  }
+
+	if(tmpdungeon[n_dgns].lev.base <= 0 ||
+	   tmpdungeon[n_dgns].lev.rand < 0) {
+		yyerror("Invalid dungeon depth specified.");
+		return(0);
+	}
+	return(1);	/* OK */
+}
+
+/*
+ *	- A level must have a unique level name.
+ *	- If chained, the level used as reference for the chain
+ *	  must be in this dungeon, must be previously defined, and
+ *	  the level chained from must be "non-probabilistic" (ie.
+ *	  have a 100% chance of existing).
+ */
+
+int
+check_level()
+{
+	int i;
+
+	if(!in_dungeon) {
+		yyerror("Level defined outside of dungeon.");
+		return(0);
+	}
+
+	for(i = 0; i < n_levs; i++)
+	    if(!strcmp(tmplevel[i].name, tmplevel[n_levs].name)) {
+		yyerror("Duplicate level name.");
+		return(0);
+	    }
+
+	if(tmplevel[i].chain == -2) {
+		yyerror("Invalid level chain reference.");
+		return(0);
+	} else if(tmplevel[i].chain != -1) {	/* there is a chain */
+		/* KMH -- tmplevel[tmpbranch[i].chain].chance was in error */
+	    if(tmplevel[tmplevel[i].chain].chance != 100) {
+		yyerror("Level cannot chain from a probabilistic level.");
+		return(0);
+	    } else if(tmplevel[i].chain == n_levs) {
+		yyerror("A level cannot chain to itself!");
+		return(0);
+	    }
+	}
+	return(1);	/* OK */
+}
+
+/*
+ *	- A branch may not branch backwards - to avoid branch loops.
+ *	- A branch name need not be unique.
+ *	  (ie. You can have many entry points to each dungeon).
+ *	- If chained, the level used as reference for the chain
+ *	  must be in this dungeon, must be previously defined, and
+ *	  the level chained from must be "non-probabilistic" (ie.
+ *	  have a 100% chance of existing).
+ */
+
+int
+check_branch()
+{
+	int i;
+
+	if(!in_dungeon) {
+		yyerror("Branch defined outside of dungeon.");
+		return(0);
+	}
+#if 0
+	for(i = 0; i < n_dgns; i++)
+	    if(!strcmp(tmpdungeon[i].name, tmpbranch[n_brs].name)) {
+
+		yyerror("Reverse branching not allowed.");
+		return(0);
+	    }
+#endif
+	if(tmpbranch[n_dgns].chain == -2) {
+
+		yyerror("Invalid branch chain reference.");
+		return(0);
+	} else if(tmpbranch[n_dgns].chain != -1) {	/* it is chained */
+
+	    if(tmplevel[tmpbranch[n_dgns].chain].chance != 100) {
+		yyerror("Branch cannot chain from a probabilistic level.");
+		return(0);
+	    }
+	}
+	return(1);	/* OK */
+}
+
+/*
+ *	Output the dungon definition into a file.
+ *
+ *	The file will have the following format:
+ *
+ *	[ nethack version ID ]
+ *	[ number of dungeons ]
+ *	[ first dungeon struct ]
+ *	[ levels for the first dungeon ]
+ *	  ...
+ *	[ branches for the first dungeon ]
+ *	  ...
+ *	[ second dungeon struct ]
+ *	  ...
+ */
+
+void
+output_dgn()
+{
+	int	nd, cl = 0, nl = 0,
+		    cb = 0, nb = 0;
+        static struct version_info version_data = {
+                        VERSION_NUMBER, VERSION_FEATURES,
+                        VERSION_SANITY1, VERSION_SANITY2
+        };
+
+	if(++n_dgns <= 0) {
+	    yyerror("FATAL - no dungeons were defined.");
+	    exit(EXIT_FAILURE);
+	}
+
+        if (fwrite((char *)&version_data, sizeof version_data, 1, yyout) != 1) {
+	    yyerror("FATAL - output failure.");
+	    exit(EXIT_FAILURE);
+	}
+
+	(void) fwrite((char *)&n_dgns, sizeof(int), 1, yyout);
+	for (nd = 0; nd < n_dgns; nd++) {
+	    (void) fwrite((char *)&tmpdungeon[nd], sizeof(struct tmpdungeon),
+							1, yyout);
+
+	    nl += tmpdungeon[nd].levels;
+	    for(; cl < nl; cl++)
+		(void) fwrite((char *)&tmplevel[cl], sizeof(struct tmplevel),
+							1, yyout);
+
+	    nb += tmpdungeon[nd].branches;
+	    for(; cb < nb; cb++)
+		(void) fwrite((char *)&tmpbranch[cb], sizeof(struct tmpbranch),
+							1, yyout);
+	}
+	/* apparently necessary for Think C 5.x, otherwise harmless */
+	(void) fflush(yyout);
+}
+
+/*dgn_comp.y*/
+/* allocate initial stack or double stack size, up to YYMAXDEPTH */
+static int yygrowstack()
+{
+    int newsize, i;
+    short *newss;
+    YYSTYPE *newvs;
+
+    if ((newsize = yystacksize) == 0)
+        newsize = YYINITSTACKSIZE;
+    else if (newsize >= YYMAXDEPTH)
+        return -1;
+    else if ((newsize *= 2) > YYMAXDEPTH)
+        newsize = YYMAXDEPTH;
+    i = yyssp - yyss;
+    newss = yyss ? (short *)realloc(yyss, newsize * sizeof *newss) :
+      (short *)malloc(newsize * sizeof *newss);
+    if (newss == NULL)
+        return -1;
+    yyss = newss;
+    yyssp = newss + i;
+    newvs = yyvs ? (YYSTYPE *)realloc(yyvs, newsize * sizeof *newvs) :
+      (YYSTYPE *)malloc(newsize * sizeof *newvs);
+    if (newvs == NULL)
+        return -1;
+    yyvs = newvs;
+    yyvsp = newvs + i;
+    yystacksize = newsize;
+    yysslim = yyss + newsize - 1;
+    return 0;
+}
+
+#define YYABORT goto yyabort
+#define YYREJECT goto yyabort
+#define YYACCEPT goto yyaccept
+#define YYERROR goto yyerrlab
+
+#ifndef YYPARSE_PARAM
+#if defined(__cplusplus) || __STDC__
+#define YYPARSE_PARAM_ARG void
+#define YYPARSE_PARAM_DECL
+#else	/* ! ANSI-C/C++ */
+#define YYPARSE_PARAM_ARG
+#define YYPARSE_PARAM_DECL
+#endif	/* ANSI-C/C++ */
+#else	/* YYPARSE_PARAM */
+#ifndef YYPARSE_PARAM_TYPE
+#define YYPARSE_PARAM_TYPE void *
+#endif
+#if defined(__cplusplus) || __STDC__
+#define YYPARSE_PARAM_ARG YYPARSE_PARAM_TYPE YYPARSE_PARAM
+#define YYPARSE_PARAM_DECL
+#else	/* ! ANSI-C/C++ */
+#define YYPARSE_PARAM_ARG YYPARSE_PARAM
+#define YYPARSE_PARAM_DECL YYPARSE_PARAM_TYPE YYPARSE_PARAM;
+#endif	/* ANSI-C/C++ */
+#endif	/* ! YYPARSE_PARAM */
+
+int
+yyparse (YYPARSE_PARAM_ARG)
+    YYPARSE_PARAM_DECL
+{
+    register int yym, yyn, yystate;
+#if YYDEBUG
+    register const char *yys;
+
+    if ((yys = getenv("YYDEBUG")))
+    {
+        yyn = *yys;
+        if (yyn >= '0' && yyn <= '9')
+            yydebug = yyn - '0';
+    }
+#endif
+
+    yynerrs = 0;
+    yyerrflag = 0;
+    yychar = (-1);
+
+    if (yyss == NULL && yygrowstack()) goto yyoverflow;
+    yyssp = yyss;
+    yyvsp = yyvs;
+    *yyssp = yystate = 0;
+
+yyloop:
+    if ((yyn = yydefred[yystate])) goto yyreduce;
+    if (yychar < 0)
+    {
+        if ((yychar = yylex()) < 0) yychar = 0;
+#if YYDEBUG
+        if (yydebug)
+        {
+            yys = 0;
+            if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
+            if (!yys) yys = "illegal-symbol";
+            printf("%sdebug: state %d, reading %d (%s)\n",
+                    YYPREFIX, yystate, yychar, yys);
+        }
+#endif
+    }
+    if ((yyn = yysindex[yystate]) && (yyn += yychar) >= 0 &&
+            yyn <= YYTABLESIZE && yycheck[yyn] == yychar)
+    {
+#if YYDEBUG
+        if (yydebug)
+            printf("%sdebug: state %d, shifting to state %d\n",
+                    YYPREFIX, yystate, yytable[yyn]);
+#endif
+        if (yyssp >= yysslim && yygrowstack())
+        {
+            goto yyoverflow;
+        }
+        *++yyssp = yystate = yytable[yyn];
+        *++yyvsp = yylval;
+        yychar = (-1);
+        if (yyerrflag > 0)  --yyerrflag;
+        goto yyloop;
+    }
+    if ((yyn = yyrindex[yystate]) && (yyn += yychar) >= 0 &&
+            yyn <= YYTABLESIZE && yycheck[yyn] == yychar)
+    {
+        yyn = yytable[yyn];
+        goto yyreduce;
+    }
+    if (yyerrflag) goto yyinrecovery;
+#if defined(lint) || defined(__GNUC__)
+    goto yynewerror;
+#endif
+yynewerror:
+    yyerror("syntax error");
+#if defined(lint) || defined(__GNUC__)
+    goto yyerrlab;
+#endif
+yyerrlab:
+    ++yynerrs;
+yyinrecovery:
+    if (yyerrflag < 3)
+    {
+        yyerrflag = 3;
+        for (;;)
+        {
+            if ((yyn = yysindex[*yyssp]) && (yyn += YYERRCODE) >= 0 &&
+                    yyn <= YYTABLESIZE && yycheck[yyn] == YYERRCODE)
+            {
+#if YYDEBUG
+                if (yydebug)
+                    printf("%sdebug: state %d, error recovery shifting\
+ to state %d\n", YYPREFIX, *yyssp, yytable[yyn]);
+#endif
+                if (yyssp >= yysslim && yygrowstack())
+                {
+                    goto yyoverflow;
+                }
+                *++yyssp = yystate = yytable[yyn];
+                *++yyvsp = yylval;
+                goto yyloop;
+            }
+            else
+            {
+#if YYDEBUG
+                if (yydebug)
+                    printf("%sdebug: error recovery discarding state %d\n",
+                            YYPREFIX, *yyssp);
+#endif
+                if (yyssp <= yyss) goto yyabort;
+                --yyssp;
+                --yyvsp;
+            }
+        }
+    }
+    else
+    {
+        if (yychar == 0) goto yyabort;
+#if YYDEBUG
+        if (yydebug)
+        {
+            yys = 0;
+            if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
+            if (!yys) yys = "illegal-symbol";
+            printf("%sdebug: state %d, error recovery discards token %d (%s)\n",
+                    YYPREFIX, yystate, yychar, yys);
+        }
+#endif
+        yychar = (-1);
+        goto yyloop;
+    }
+yyreduce:
+#if YYDEBUG
+    if (yydebug)
+        printf("%sdebug: state %d, reducing by rule %d (%s)\n",
+                YYPREFIX, yystate, yyn, yyrule[yyn]);
+#endif
+    yym = yylen[yyn];
+    yyval = yyvsp[1-yym];
+    switch (yyn)
+    {
+case 2:
+{
+			output_dgn();
+		  }
+break;
+case 9:
+{
+			init_dungeon();
+			if (strlen(yyvsp[-3].str)+1 > sizeof(tmpdungeon[n_dgns].name))
+			    yyerror("Dungeon name is too long");
+			Strcpy(tmpdungeon[n_dgns].name, yyvsp[-3].str);
+			tmpdungeon[n_dgns].boneschar = (char)yyvsp[-2].i;
+			tmpdungeon[n_dgns].lev.base = couple.base;
+			tmpdungeon[n_dgns].lev.rand = couple.rand;
+			tmpdungeon[n_dgns].chance = yyvsp[0].i;
+			Free(yyvsp[-3].str);
+		  }
+break;
+case 10:
+{
+			yyval.i = 0;
+		  }
+break;
+case 11:
+{
+			yyval.i = yyvsp[0].i;
+		  }
+break;
+case 15:
+{
+			/* tmpdungeon[n_dgns].entry_lev = $3; */
+                        yyerror("ENTRY is obsolete!");
+		  }
+break;
+case 17:
+{
+			if(yyvsp[0].i <= TOWN || yyvsp[0].i >= D_ALIGN_CHAOTIC)
+			    yyerror("Illegal description - ignoring!");
+			else
+			    tmpdungeon[n_dgns].flags |= yyvsp[0].i ;
+		  }
+break;
+case 18:
+{
+			if(yyvsp[0].i && yyvsp[0].i < D_ALIGN_CHAOTIC)
+			    yyerror("Illegal alignment - ignoring!");
+			else
+			    tmpdungeon[n_dgns].flags |= yyvsp[0].i ;
+		  }
+break;
+case 19:
+{
+			if (strlen(yyvsp[0].str)+1 > sizeof(tmpdungeon[n_dgns].protoname))
+			    yyerror("Proto name is too long");
+			Strcpy(tmpdungeon[n_dgns].protoname, yyvsp[0].str);
+			Free(yyvsp[0].str);
+		  }
+break;
+case 25:
+{
+			init_level();
+			if (strlen(yyvsp[-3].str)+1 > sizeof(tmplevel[n_levs].name))
+			    yyerror("Level name is too long");
+			Strcpy(tmplevel[n_levs].name, yyvsp[-3].str);
+			tmplevel[n_levs].boneschar = (char)yyvsp[-2].i;
+			tmplevel[n_levs].lev.base = couple.base;
+			tmplevel[n_levs].lev.rand = couple.rand;
+			tmpdungeon[n_dgns].levels++;
+			Free(yyvsp[-3].str);
+		  }
+break;
+case 26:
+{
+			init_level();
+			if (strlen(yyvsp[-4].str)+1 > sizeof(tmplevel[n_levs].name))
+			    yyerror("Level name is too long");
+			Strcpy(tmplevel[n_levs].name, yyvsp[-4].str);
+			tmplevel[n_levs].boneschar = (char)yyvsp[-3].i;
+			tmplevel[n_levs].lev.base = couple.base;
+			tmplevel[n_levs].lev.rand = couple.rand;
+			tmplevel[n_levs].rndlevs = yyvsp[0].i;
+			tmpdungeon[n_dgns].levels++;
+			Free(yyvsp[-4].str);
+		  }
+break;
+case 27:
+{
+			init_level();
+			if (strlen(yyvsp[-4].str)+1 > sizeof(tmplevel[n_levs].name))
+			    yyerror("Level name is too long");
+			Strcpy(tmplevel[n_levs].name, yyvsp[-4].str);
+			tmplevel[n_levs].boneschar = (char)yyvsp[-3].i;
+			tmplevel[n_levs].lev.base = couple.base;
+			tmplevel[n_levs].lev.rand = couple.rand;
+			tmplevel[n_levs].chance = yyvsp[0].i;
+			tmpdungeon[n_dgns].levels++;
+			Free(yyvsp[-4].str);
+		  }
+break;
+case 28:
+{
+			init_level();
+			if (strlen(yyvsp[-5].str)+1 > sizeof(tmplevel[n_levs].name))
+			    yyerror("Level name is too long");
+			Strcpy(tmplevel[n_levs].name, yyvsp[-5].str);
+			tmplevel[n_levs].boneschar = (char)yyvsp[-4].i;
+			tmplevel[n_levs].lev.base = couple.base;
+			tmplevel[n_levs].lev.rand = couple.rand;
+			tmplevel[n_levs].chance = yyvsp[-1].i;
+			tmplevel[n_levs].rndlevs = yyvsp[0].i;
+			tmpdungeon[n_dgns].levels++;
+			Free(yyvsp[-5].str);
+		  }
+break;
+case 29:
+{
+			if(yyvsp[0].i >= D_ALIGN_CHAOTIC)
+			    yyerror("Illegal description - ignoring!");
+			else
+			    tmplevel[n_levs].flags |= yyvsp[0].i ;
+		  }
+break;
+case 30:
+{
+			if(yyvsp[0].i && yyvsp[0].i < D_ALIGN_CHAOTIC)
+			    yyerror("Illegal alignment - ignoring!");
+			else
+			    tmplevel[n_levs].flags |= yyvsp[0].i ;
+		  }
+break;
+case 31:
+{
+			init_level();
+			if (strlen(yyvsp[-4].str)+1 > sizeof(tmplevel[n_levs].name))
+			    yyerror("Level name is too long");
+			Strcpy(tmplevel[n_levs].name, yyvsp[-4].str);
+			tmplevel[n_levs].boneschar = (char)yyvsp[-3].i;
+			tmplevel[n_levs].chain = getchain(yyvsp[-2].str);
+			tmplevel[n_levs].lev.base = couple.base;
+			tmplevel[n_levs].lev.rand = couple.rand;
+			if(!check_level()) n_levs--;
+			else tmpdungeon[n_dgns].levels++;
+			Free(yyvsp[-4].str);
+			Free(yyvsp[-2].str);
+		  }
+break;
+case 32:
+{
+			init_level();
+			if (strlen(yyvsp[-5].str)+1 > sizeof(tmplevel[n_levs].name))
+			    yyerror("Level name is too long");
+			Strcpy(tmplevel[n_levs].name, yyvsp[-5].str);
+			tmplevel[n_levs].boneschar = (char)yyvsp[-4].i;
+			tmplevel[n_levs].chain = getchain(yyvsp[-3].str);
+			tmplevel[n_levs].lev.base = couple.base;
+			tmplevel[n_levs].lev.rand = couple.rand;
+			tmplevel[n_levs].rndlevs = yyvsp[0].i;
+			if(!check_level()) n_levs--;
+			else tmpdungeon[n_dgns].levels++;
+			Free(yyvsp[-5].str);
+			Free(yyvsp[-3].str);
+		  }
+break;
+case 33:
+{
+			init_level();
+			if (strlen(yyvsp[-5].str)+1 > sizeof(tmplevel[n_levs].name))
+			    yyerror("Level name is too long");
+			Strcpy(tmplevel[n_levs].name, yyvsp[-5].str);
+			tmplevel[n_levs].boneschar = (char)yyvsp[-4].i;
+			tmplevel[n_levs].chain = getchain(yyvsp[-3].str);
+			tmplevel[n_levs].lev.base = couple.base;
+			tmplevel[n_levs].lev.rand = couple.rand;
+			tmplevel[n_levs].chance = yyvsp[0].i;
+			if(!check_level()) n_levs--;
+			else tmpdungeon[n_dgns].levels++;
+			Free(yyvsp[-5].str);
+			Free(yyvsp[-3].str);
+		  }
+break;
+case 34:
+{
+			init_level();
+			if (strlen(yyvsp[-6].str)+1 > sizeof(tmplevel[n_levs].name))
+			    yyerror("Level name is too long");
+			Strcpy(tmplevel[n_levs].name, yyvsp[-6].str);
+			tmplevel[n_levs].boneschar = (char)yyvsp[-5].i;
+			tmplevel[n_levs].chain = getchain(yyvsp[-4].str);
+			tmplevel[n_levs].lev.base = couple.base;
+			tmplevel[n_levs].lev.rand = couple.rand;
+			tmplevel[n_levs].chance = yyvsp[-1].i;
+			tmplevel[n_levs].rndlevs = yyvsp[0].i;
+			if(!check_level()) n_levs--;
+			else tmpdungeon[n_dgns].levels++;
+			Free(yyvsp[-6].str);
+			Free(yyvsp[-4].str);
+		  }
+break;
+case 37:
+{
+			init_branch();
+			if (strlen(yyvsp[-5].str)+1 > sizeof(tmpbranch[n_brs].name))
+			    yyerror("Dungeon name is too long");
+			Strcpy(tmpbranch[n_brs].name, yyvsp[-5].str);
+			tmpbranch[n_brs].lev.base = couple.base;
+			tmpbranch[n_brs].lev.rand = couple.rand;
+			tmpbranch[n_brs].type = yyvsp[-2].i;
+			tmpbranch[n_brs].up = yyvsp[-1].i;
+                        tmpbranch[n_brs].entry_lev = yyvsp[0].i;
+			if(!check_branch()) n_brs--;
+			else tmpdungeon[n_dgns].branches++;
+			Free(yyvsp[-5].str);
+		  }
+break;
+case 38:
+{
+			init_branch();
+			if (strlen(yyvsp[-6].str)+1 > sizeof(tmpbranch[n_brs].name))
+			    yyerror("Dungeon name is too long");
+			Strcpy(tmpbranch[n_brs].name, yyvsp[-6].str);
+			tmpbranch[n_brs].chain = getchain(yyvsp[-5].str);
+			tmpbranch[n_brs].lev.base = couple.base;
+			tmpbranch[n_brs].lev.rand = couple.rand;
+			tmpbranch[n_brs].type = yyvsp[-2].i;
+			tmpbranch[n_brs].up = yyvsp[-1].i;
+			tmpbranch[n_brs].entry_lev = yyvsp[0].i;
+			if(!check_branch()) n_brs--;
+			else tmpdungeon[n_dgns].branches++;
+			Free(yyvsp[-6].str);
+			Free(yyvsp[-5].str);
+		  }
+break;
+case 39:
+{
+			yyval.i = TBR_STAIR;	/* two way stair */
+		  }
+break;
+case 40:
+{
+			yyval.i = TBR_STAIR;	/* two way stair */
+		  }
+break;
+case 41:
+{
+			yyval.i = TBR_NO_UP;	/* no up staircase */
+		  }
+break;
+case 42:
+{
+			yyval.i = TBR_NO_DOWN;	/* no down staircase */
+		  }
+break;
+case 43:
+{
+			yyval.i = TBR_PORTAL;	/* portal connection */
+		  }
+break;
+case 44:
+{
+			yyval.i = 0;	/* defaults to down */
+		  }
+break;
+case 45:
+{
+			yyval.i = yyvsp[0].i;
+		  }
+break;
+case 46:
+{
+			char *p = yyvsp[0].str;
+			if (strlen(p) != 1) {
+			    if (strcmp(p, "none") != 0)
+		   yyerror("Bones marker must be a single char, or \"none\"!");
+			    *p = '\0';
+			}
+			yyval.i = *p;
+			Free(p);
+		  }
+break;
+case 47:
+{
+			if (yyvsp[-3].i < -MAXLEVEL || yyvsp[-3].i > MAXLEVEL) {
+			    yyerror("Abs base out of dlevel range - zeroing!");
+			    couple.base = couple.rand = 0;
+			} else if (yyvsp[-1].i < -1 ||
+				((yyvsp[-3].i < 0) ? (MAXLEVEL + yyvsp[-3].i + yyvsp[-1].i + 1) > MAXLEVEL :
+					(yyvsp[-3].i + yyvsp[-1].i) > MAXLEVEL)) {
+			    yyerror("Abs range out of dlevel range - zeroing!");
+			    couple.base = couple.rand = 0;
+			} else {
+			    couple.base = yyvsp[-3].i;
+			    couple.rand = yyvsp[-1].i;
+			}
+		  }
+break;
+case 48:
+{
+			if (yyvsp[-3].i < -MAXLEVEL || yyvsp[-3].i > MAXLEVEL) {
+			    yyerror("Rel base out of dlevel range - zeroing!");
+			    couple.base = couple.rand = 0;
+			} else {
+			    couple.base = yyvsp[-3].i;
+			    couple.rand = yyvsp[-1].i;
+			}
+		  }
+break;
+    }
+    yyssp -= yym;
+    yystate = *yyssp;
+    yyvsp -= yym;
+    yym = yylhs[yyn];
+    if (yystate == 0 && yym == 0)
+    {
+#if YYDEBUG
+        if (yydebug)
+            printf("%sdebug: after reduction, shifting from state 0 to\
+ state %d\n", YYPREFIX, YYFINAL);
+#endif
+        yystate = YYFINAL;
+        *++yyssp = YYFINAL;
+        *++yyvsp = yyval;
+        if (yychar < 0)
+        {
+            if ((yychar = yylex()) < 0) yychar = 0;
+#if YYDEBUG
+            if (yydebug)
+            {
+                yys = 0;
+                if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
+                if (!yys) yys = "illegal-symbol";
+                printf("%sdebug: state %d, reading %d (%s)\n",
+                        YYPREFIX, YYFINAL, yychar, yys);
+            }
+#endif
+        }
+        if (yychar == 0) goto yyaccept;
+        goto yyloop;
+    }
+    if ((yyn = yygindex[yym]) && (yyn += yystate) >= 0 &&
+            yyn <= YYTABLESIZE && yycheck[yyn] == yystate)
+        yystate = yytable[yyn];
+    else
+        yystate = yydgoto[yym];
+#if YYDEBUG
+    if (yydebug)
+        printf("%sdebug: after reduction, shifting from state %d \
+to state %d\n", YYPREFIX, *yyssp, yystate);
+#endif
+    if (yyssp >= yysslim && yygrowstack())
+    {
+        goto yyoverflow;
+    }
+    *++yyssp = yystate;
+    *++yyvsp = yyval;
+    goto yyloop;
+yyoverflow:
+    yyerror("yacc stack overflow");
+yyabort:
+    return (1);
+yyaccept:
+    return (0);
+}
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\dlb_main.c SlashTNG-master\src\dlb_main.c
--- slashem-0.0.7E7F3\src\dlb_main.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\dlb_main.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,577 @@
+/*	SCCS Id: @(#)dlb_main.c 3.4	1998/08/16	*/
+/* Copyright (c) Kenneth Lorber, Bethesda, Maryland, 1993. */
+/* NetHack may be freely redistributed.  See license for details. */
+
+/* data librarian; only useful if you are making the library version, DLBLIB */
+
+#include "config.h"
+#include "dlb.h"
+#if !defined(O_WRONLY) && !defined(MAC) && !defined(AZTEC_C)
+#include <fcntl.h>
+#endif
+#if defined(__DJGPP__)
+#include <string.h>
+#endif
+
+static void FDECL(xexit, (int));
+
+#ifdef DLB
+#ifdef DLBLIB
+
+#define DLB_DIRECTORY "Directory"	/* name of lib directory */
+#define LIBLISTFILE "dlb.lst"		/* default list file */
+
+/* library functions (from dlb.c) */
+extern boolean FDECL(open_library,(const char *,const char *,library *));
+extern void FDECL(close_library,(library *));
+
+char *FDECL(eos, (char *));	/* also used by dlb.c */
+FILE *FDECL(fopen_datafile, (const char *,const char *));
+
+#ifdef VMS
+extern char *FDECL(vms_basename, (const char *));
+extern int FDECL(vms_open, (const char *,int,unsigned int));
+#endif
+
+static void FDECL(Write, (int,char *,long));
+static void NDECL(usage);
+static void NDECL(verbose_help);
+static void FDECL(write_dlb_directory, (int,int,libdir *,long,long,long));
+
+static char default_progname[] = "dlb";
+static char *progname = default_progname;
+
+/* fixed library and list file names - can be overridden if necessary */
+static const char *library_file = DLBFILE;
+static const char *list_file = LIBLISTFILE;
+
+#ifdef AMIGA
+static char origdir[255]="";
+#endif
+
+#ifndef O_BINARY
+#define O_BINARY 0
+#endif
+
+#define MAX_DLB_FILES 300	/* max # of files we'll handle */
+#define DLB_VERS 1		/* version of dlb file we will write */
+
+/*
+ * How the file is encoded within the library.  Don't use a space
+ * because (at least) the  SunOS 4.1.3 C library will eat the white
+ * space instead of preserving it like the man page says it should.
+ */
+#define ENC_NORMAL 'n'	/* normal: not compressed in any way */
+
+
+/*
+ * If you know tar, you have a small clue how to use this (note: - does
+ * NOT mean stdin/stdout).
+ *
+ * dlb COMMANDoptions arg... files...
+ * commands:
+ *  dlb x	extract all files
+ *  dlb c	build the archive
+ *  dlb t	list the archive
+ * options:
+ *  v		verbose
+ *  f file	specify archive file (default DLBFILE)
+ *  I file	specify file for list of files (default LIBLISTFILE)
+ *  C dir	chdir to dir (used ONCE, not like tar's -C)
+ */
+
+static void
+usage()
+{
+    (void) printf("Usage: %s [ctxCIfv] arguments... [files...]\n", progname);
+    (void) printf("  default library is %s\n", library_file);
+    (void) printf("  default list file is %s\n", list_file);
+    xexit(EXIT_FAILURE);
+}
+
+static void
+verbose_help()
+{
+    static const char *long_help[] = {
+	"",
+	"dlb COMMANDoptions args... files...",
+	"  commands:",
+	"    dlb ?   print this text",
+	"    dlb h   ditto",
+	"    dlb x   extract all files",
+	"    dlb c   create the archive",
+	"    dlb t   list table of contents",
+	"  options:",
+	"    v       verbose operation",
+	"    f file  specify archive file name",
+	"    I file  specify file for list of file names",
+	"    C dir   change directory before processing any files",
+	"",
+	(char *)0
+    };
+    const char **str;
+
+    for (str = long_help; *str; str++)
+	(void) printf("%s\n", *str);
+    usage();
+}
+
+static void
+Write(out,buf,len)
+    int out;
+    char *buf;
+    long len;
+{
+#if defined(MSDOS) && !defined(__DJGPP__)
+    unsigned short slen;
+
+    if (len > 65534) {
+	printf("%d Length specified for write() too large for 16 bit env.",
+		len);
+	xexit(EXIT_FAILURE);
+    }
+    slen = (unsigned short)len;
+    if (write(out,buf,slen) != slen) {
+#else
+    if (write(out,buf,len) != len) {
+#endif
+	printf("Write Error in '%s'\n",library_file);
+	xexit(EXIT_FAILURE);
+    }
+}
+
+#endif	/* DLBLIB */
+#endif	/* DLB */
+
+int
+main(argc, argv)
+    int argc;
+    char **argv;
+{
+#ifdef DLB
+#ifdef DLBLIB
+    int i, r;
+    int ap=2;				/* argument pointer */
+    int cp;				/* command pointer */
+    int iseen=0, fseen=0, verbose=0;	/* flags */
+    char action=' ';
+    library lib;
+
+    if (argc > 0 && argv[0] && *argv[0]) progname = argv[0];
+#ifdef VMS
+    progname = vms_basename(progname);
+#endif
+
+    if (argc<2) {
+	usage();
+	/* doesn't return */
+    }
+
+    for(cp=0;argv[1][cp];cp++){
+	switch(argv[1][cp]){
+	    default:
+		usage();	/* doesn't return */
+	    case '-':	/* silently ignore */
+		break;
+	    case '?':
+	    case 'h':
+		verbose_help();
+		break;
+	    case 'I':
+		if (ap == argc) usage();
+		list_file=argv[ap++];
+		if(iseen)
+		    printf("Warning: multiple I options.  Previous ignored.\n");
+		iseen=1;
+		break;
+	    case 'f':
+		if (ap == argc) usage();
+		library_file=argv[ap++];
+		if(fseen)
+		    printf("Warning: multiple f options.  Previous ignored.\n");
+		fseen=1;
+		break;
+	    case 'C':
+		if (ap == argc) usage();
+#ifdef AMIGA
+		if(!getcwd(origdir,sizeof(origdir))){
+		    printf("Can't get current directory.\n");
+		    xexit(EXIT_FAILURE);
+		}
+#endif
+		if(chdir(argv[ap++])){
+		    printf("Can't chdir to %s\n",argv[--ap]);
+		    xexit(EXIT_FAILURE);
+		}
+		break;
+	    case 'v':
+		verbose=1;
+		break;
+	    case 't':
+	    case 'c':
+	    case 'x':
+		if(action != ' '){
+		    printf("Only one of t,x,c may be specified.\n");
+		    usage();
+		}
+		action=argv[1][cp];
+		break;
+	}
+    }
+
+    if(argv[ap] && iseen){
+	printf("Too many arguments.\n");
+	xexit(EXIT_FAILURE);
+    }
+
+    switch(action){
+    default:
+	printf("Internal error - action.\n");
+	xexit(EXIT_FAILURE);
+	break;
+    case 't':			/* list archive */
+	if (!open_library(NULL, library_file, &lib)) {
+	    printf("Can't open dlb file\n");
+	    xexit(EXIT_FAILURE);
+	}
+
+	for (i = 0; i < lib.nentries; i++) {
+	    if (verbose)
+		printf("%-14s %6ld %6ld\n",
+		    lib.dir[i].fname, lib.dir[i].foffset, lib.dir[i].fsize);
+	    else
+		printf("%s\n", lib.dir[i].fname);
+	}
+
+	if (verbose)
+	    printf("Revision:%ld  File count:%ld  String size:%ld\n",
+		lib.rev, lib.nentries, lib.strsize);
+
+	close_library(&lib);
+	xexit(EXIT_SUCCESS);
+
+    case 'x': {			/* extract archive contents */
+	int f, n;
+	long remainder, total_read;
+	char buf[BUFSIZ];
+
+	if (!open_library(NULL, library_file, &lib)) {
+	    printf("Can't open dlb file\n");
+	    xexit(EXIT_FAILURE);
+	}
+
+	for (i = 0; i < lib.nentries; i++) {
+	    if (argv[ap]) {
+		/* if files are listed, see if current is wanted */
+		int c;
+		for (c = ap; c < argc; c++)
+		    if (!FILENAME_CMP(lib.dir[i].fname, argv[c])) break;
+		if (c == argc) continue;	/* skip */
+	    } else if (!FILENAME_CMP(lib.dir[i].fname, DLB_DIRECTORY)) {
+		/*
+		 * Don't extract the directory unless the user
+		 * specifically asks for it.
+		 *
+		 * Perhaps we should never extract the directory???
+		 */
+		continue;
+	    }
+	    fseek(lib.fdata, lib.dir[i].foffset, SEEK_SET);
+
+	    f = open(lib.dir[i].fname, O_WRONLY|O_TRUNC|O_BINARY|O_CREAT, 0640);
+	    if (f < 0) {
+		printf("Can't create '%s'\n", lib.dir[i].fname);
+		xexit(EXIT_FAILURE);
+	    }
+
+	    /* read chunks from library and write them out */
+	    total_read = 0;
+	    do {
+		remainder = lib.dir[i].fsize - total_read;
+		if (remainder > (long) sizeof(buf))
+		    r = (int) sizeof(buf);
+		else
+		    r = remainder;
+
+		n = fread(buf, 1, r, lib.fdata);
+		if (n != r) {
+		    printf("Read Error in '%s'\n", lib.dir[i].fname);
+		    xexit(EXIT_FAILURE);
+		}
+		if (write(f, buf, n) != n) {
+		    printf("Write Error in '%s'\n", lib.dir[i].fname);
+		    xexit(EXIT_FAILURE);
+		}
+
+		total_read += n;
+	    } while (total_read != lib.dir[i].fsize);
+
+	    (void) close(f);
+
+	    if (verbose) printf("x %s\n", lib.dir[i].fname);
+	}
+
+	close_library(&lib);
+	xexit(EXIT_SUCCESS);
+	}
+
+    case 'c':			/* create archive */
+	{
+	libdir ld[MAX_DLB_FILES];
+	char buf[BUFSIZ];
+	int fd, out, nfiles = 0;
+	long dir_size, slen, flen, fsiz;
+	boolean rewrite_directory = FALSE;
+
+	/*
+	 * Get names from either/both an argv list and a file
+	 * list.  This does not do any duplicate checking
+	 */
+
+	/* get file name in argv list */
+	if (argv[ap]) {
+	    for ( ; ap < argc; ap++, nfiles++) {
+		if (nfiles >= MAX_DLB_FILES) {
+		    printf("Too many dlb files!  Stopping at %d.\n",
+								MAX_DLB_FILES);
+		    break;
+		}
+		ld[nfiles].fname = (char *) alloc(strlen(argv[ap]) + 1);
+		Strcpy(ld[nfiles].fname, argv[ap]);
+	    }
+	}
+
+	if (iseen) {
+	    /* want to do a list file */
+	    FILE *list = fopen(list_file, "r");
+	    if (!list) {
+		printf("Can't open %s\n",list_file);
+		xexit(EXIT_FAILURE);
+	    }
+
+	    /* get file names, one per line */
+	    for ( ; fgets(buf, sizeof(buf), list); nfiles++) {
+		if (nfiles >= MAX_DLB_FILES) {
+		    printf("Too many dlb files!  Stopping at %d.\n",
+								MAX_DLB_FILES);
+		    break;
+		}
+		*(eos(buf)-1) = '\0';	/* strip newline */
+		ld[nfiles].fname = (char *) alloc(strlen(buf) + 1);
+		Strcpy(ld[nfiles].fname, buf);
+	    }
+	    fclose(list);
+	}
+
+	if (nfiles == 0) {
+	    printf("No files to archive\n");
+	    xexit(EXIT_FAILURE);
+	}
+
+
+	/*
+	 * Get file sizes and name string length.  Don't include
+	 * the directory information yet.
+	 */
+	for (i = 0, slen = 0, flen = 0; i < nfiles; i++) {
+	    fd = open(ld[i].fname, O_RDONLY|O_BINARY, 0);
+	    if (fd < 0) {
+		printf("Can't open %s\n", ld[i].fname);
+		xexit(EXIT_FAILURE);
+	    }
+	    ld[i].fsize = lseek(fd, 0, SEEK_END);
+	    ld[i].foffset = flen;
+
+	    slen += strlen(ld[i].fname);	/* don't add null (yet) */
+	    flen += ld[i].fsize;
+	    close(fd);
+	}
+
+	/* open output file */
+	out = open(library_file, O_RDWR|O_TRUNC|O_BINARY|O_CREAT, FCMASK);
+	if (out < 0) {
+	    printf("Can't open %s for output\n", library_file);
+	    xexit(EXIT_FAILURE);
+	}
+
+	/* caculate directory size */
+	dir_size = 40			/* header line (see below) */
+		   + ((nfiles+1)*11)	/* handling+file offset+SP+newline */
+		   + slen+strlen(DLB_DIRECTORY); /* file names */
+
+	/* write directory */
+	write_dlb_directory(out, nfiles, ld, slen, dir_size, flen);
+
+	flen = 0L;
+	/* write each file */
+	for (i = 0; i < nfiles; i++) {
+	    fd = open(ld[i].fname, O_RDONLY|O_BINARY, 0);
+	    if (fd < 0) {
+		printf("Can't open input file '%s'\n", ld[i].fname);
+		xexit(EXIT_FAILURE);
+	    }
+	    if (verbose) printf("%s\n",ld[i].fname);
+
+	    fsiz = 0L;
+	    while ((r = read(fd, buf, sizeof buf)) != 0) {
+		if (r == -1) {
+		    printf("Read Error in '%s'\n", ld[i].fname);
+		    xexit(EXIT_FAILURE);
+		}
+		if (write(out, buf, r) != r) {
+		    printf("Write Error in '%s'\n", ld[i].fname);
+		    xexit(EXIT_FAILURE);
+		}
+		fsiz += r;
+	    }
+	    (void) close(fd);
+	    if (fsiz != ld[i].fsize) rewrite_directory = TRUE;
+	    /* in case directory rewrite is needed */
+	    ld[i].fsize = fsiz;
+	    ld[i].foffset = flen;
+	    flen += fsiz;
+	}
+
+	if (rewrite_directory) {
+	    if (verbose) printf("(rewriting dlb directory info)\n");
+	    (void) lseek(out, 0, SEEK_SET);	/* rewind */
+	    write_dlb_directory(out, nfiles, ld, slen, dir_size, flen);
+	}
+
+	for (i = 0; i < nfiles; i++)
+	    free((genericptr_t) ld[i].fname),  ld[i].fname = 0;
+
+	(void) close(out);
+	xexit(EXIT_SUCCESS);
+	}
+    }
+#endif	/* DLBLIB */
+#endif	/* DLB */
+
+    xexit(EXIT_SUCCESS);
+    /*NOTREACHED*/
+    return 0;
+}
+
+#ifdef DLB
+#ifdef DLBLIB
+
+static void
+write_dlb_directory(out, nfiles, ld, slen, dir_size, flen)
+int out, nfiles;
+libdir *ld;
+long slen, dir_size, flen;
+{
+    char buf[BUFSIZ];
+    int i;
+
+    sprintf(buf,"%3ld %8ld %8ld %8ld %8ld\n",
+	    (long) DLB_VERS,	    /* version of dlb file */
+	    (long) nfiles+1,	    /* # of entries (includes directory) */
+				    /* string length + room for nulls */
+	    (long) slen+strlen(DLB_DIRECTORY)+nfiles+1,
+	    (long) dir_size,	    /* start of first file */
+	    (long) flen+dir_size);  /* total file size */
+    Write(out, buf, strlen(buf));
+
+    /* write each file entry */
+#define ENTRY_FORMAT "%c%s %8ld\n"
+    sprintf(buf, ENTRY_FORMAT, ENC_NORMAL, DLB_DIRECTORY, (long) 0);
+    Write(out, buf, strlen(buf));
+    for (i = 0; i < nfiles; i++) {
+	sprintf(buf, ENTRY_FORMAT,
+		ENC_NORMAL,		    /* encoding */
+		ld[i].fname,		    /* name */
+		ld[i].foffset + dir_size);  /* offset */
+	Write(out, buf, strlen(buf));
+    }
+}
+
+#endif	/* DLBLIB */
+#endif	/* DLB */
+
+static void
+xexit(retcd)
+    int retcd;
+{
+#ifdef DLB
+#ifdef AMIGA
+    if (origdir[0]) chdir(origdir);
+#endif
+#endif
+    exit(retcd);
+}
+
+
+#ifdef DLB
+
+char *
+eos(s)
+    char *s;
+{
+    while (*s) s++;
+    return s;
+}
+
+
+#ifdef VMS	/* essential to have punctuation, to avoid logical names */
+static FILE *
+vms_fopen(filename, mode)
+const char *filename, *mode;
+{
+    char tmp[BUFSIZ];
+
+    if (!index(filename, '.') && !index(filename, ';'))
+	filename = strcat(strcpy(tmp, filename), ";0");
+    return fopen(filename, mode, "mbc=16");
+}
+#define fopen vms_fopen
+#endif	/* VMS */
+
+/*
+ * open_library(dlb.c) needs this (which normally comes from src/files.c,
+ * or sys/unix/unixunix.c if file areas are enabled). As yet only the UNIX
+ * port supports file areas so this works. We might need access to the
+ * actual port functions, rather than duplicating them here, if other ports
+ * follow suit.
+ */
+#ifdef FILE_AREAS
+#ifdef UNIX
+FILE *
+fopen_datafile_area(filearea, filename, mode)
+const char *filearea, *filename, *mode;
+{
+    FILE *fp;
+    char *buf;
+    int lenarea;
+    if (filearea && filename[0]!='/')
+    {
+	lenarea = strlen(filearea);
+	buf = (char *)alloc(lenarea+strlen(filename)+1);
+	strcpy(buf, filearea);
+	strcpy(buf+lenarea, filename);
+	fp = fopen(buf, mode);
+	free(buf);
+    }
+    else
+	fp = fopen(filename, mode);
+    return fp;
+}
+#endif
+#else	/* FILE_AREAS */
+FILE *
+fopen_datafile(filename, mode)
+const char *filename, *mode;
+{
+    return fopen(filename, mode);
+}
+#endif	/* FILE_AREAS */
+
+#endif	/* DLB */
+
+#ifdef AMIGA
+#include "date.h"
+const char amiga_version_string[] = AMIGA_VERSION_STRING;
+#endif
+
+/*dlb_main.c*/
Binary files slashem-0.0.7E7F3\src\dlb_main.exe and SlashTNG-master\src\dlb_main.exe differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\do.c SlashTNG-master\src\do.c
--- slashem-0.0.7E7F3\src\do.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\do.c	Sun Jan 01 13:08:36 2017
@@ -16,6 +16,7 @@
 
 STATIC_PTR int FDECL(drop, (struct obj *));
 STATIC_PTR int NDECL(wipeoff);
+STATIC_PTR void NDECL(lose_comp_objects);
 
 #ifdef OVL0
 STATIC_DCL int FDECL(menu_drop, (int));
@@ -52,6 +53,30 @@
 #endif /* OVLB */
 #ifdef OVL0
 
+STATIC_PTR void
+lose_comp_objects()
+{
+	struct obj *otmp,*on;
+	int x;
+
+	x = 0;
+	for (otmp=invent;otmp;) {
+		on = otmp->nobj;
+		if (otmp->otyp == RIN_TIMELY_BACKUP 
+		||  otmp->otyp == SCR_ROOT_PASSWORD_DETECTION
+		||  otmp->otyp == AMULET_OF_DATA_STORAGE
+		||  otmp->otyp == WAN_BUGGING ) {
+			pline("%s%s vanish%s!",(x++) ? "" : "All of a sudden, ",doname(otmp),(otmp->quan > 1) ? "" : "es");
+			setnotworn(otmp);
+			freeinv(otmp);
+			obfree(otmp, (struct obj *) 0);
+		}
+		otmp = on;
+	}
+}
+
+
+
 /* Called when a boulder is dropped, thrown, or pushed.  If it ends up
  * in a pool, it either fills the pool up or sinks away.  In either case,
  * it's gone for good...  If the destination is not a pool, returns FALSE.
@@ -376,9 +401,16 @@
 		case RIN_REGENERATION:
 		    pline_The("sink looks as good as new.");
 		    break;
+		case RIN_HEALTH:
+ 		pline("The water's quality seems %screased.",
+ 			(obj->spe<0) ? "de" : "in");
+			break;
 		case RIN_INVISIBILITY:
 		    You("don't see anything happen to the sink.");
 		    break;
+		case RIN_TIMELY_BACKUP:
+			pline("The sink seems undestroyable.");
+			break;
 		case RIN_FREE_ACTION:
 		    You("see the ring slide right down the drain!");
 		    break;
@@ -589,7 +621,7 @@
 		    could_grow = (obj->corpsenm == PM_WRAITH);
 		    could_heal = (obj->corpsenm == PM_NURSE);
 		}
-		(void) mpickobj(u.ustuck,obj);
+		(void) mpickobj(u.ustuck,obj,FALSE);
 		if (is_animal(u.ustuck->data)) {
 		    if (could_poly || could_slime) {
 			(void) newcham(u.ustuck,
@@ -1461,7 +1493,7 @@
 					d((int)mtmp->m_lev,10) + 30 + rnd(30);
 		    if ((otmp = select_hwep(mtmp)) == 0) {
 			otmp = mksobj(SILVER_SABER, FALSE, FALSE);
-			if (mpickobj(mtmp, otmp))
+			if (mpickobj(mtmp, otmp, TRUE))
 			    panic("merged weapon?");
 		    }
 		    bless(otmp);
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\do_wear.c SlashTNG-master\src\do_wear.c
--- slashem-0.0.7E7F3\src\do_wear.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\do_wear.c	Sat Dec 24 15:07:51 2016
@@ -420,6 +420,7 @@
 
     switch(uarmg->otyp) {
 	case LEATHER_GLOVES:
+	case GAUNTLETS_OF_TYPING:
 		break;
 	case GAUNTLETS_OF_SWIMMING:
 		if (u.uinwater) {
@@ -453,6 +454,7 @@
 
     switch(uarmg->otyp) {
 	case LEATHER_GLOVES:
+	case GAUNTLETS_OF_TYPING:
 	    break;
 	case GAUNTLETS_OF_SWIMMING:
 	    if (u.uinwater) {
@@ -639,6 +641,7 @@
 		    flags.botl = 1;
 		}
 		break;
+	case AMULET_OF_SECOND_CHANCE:
 	case AMULET_OF_CHANGE:
 	    {
 		int orig_sex = poly_gender();
@@ -696,6 +699,9 @@
 			}                
 		} else HSleeping = rnd(100);
 		break;
+	case AMULET_OF_DATA_STORAGE:
+ 		You("feel full of knowledge.");
+ 		break;
 	case AMULET_OF_YENDOR:
 		break;
 	/* KMH, balance patch -- added */
@@ -736,6 +742,7 @@
 	/* KMH, balance patch -- added */
 	case AMULET_VERSUS_STONE:
 	case AMULET_OF_REFLECTION:
+	case AMULET_OF_SECOND_CHANCE:
 	case AMULET_OF_CHANGE:
 	case AMULET_OF_UNCHANGING:
 	case FAKE_AMULET_OF_YENDOR:
@@ -764,6 +771,9 @@
 		if (!ESleeping)
 			HSleeping = 0;
 		return;
+	case AMULET_OF_DATA_STORAGE:
+ 		You("feel intellectually poor.");
+ 		break;
 	/* KMH, balance patch -- added */
 	case AMULET_OF_FLYING:
 		setworn((struct obj *)0, W_AMUL);
@@ -841,6 +851,17 @@
 		    makeknown(RIN_SEE_INVISIBLE);
 		}
 		break;
+	case RIN_HEALTH:
+ 		ABON(A_CON) += obj->spe;
+ 		flags.botl = 1;
+ 		if (obj->spe || objects[RIN_HEALTH].oc_name_known) {
+ 			makeknown(RIN_HEALTH);
+ 			obj->known = TRUE;
+ 		}
+ 		break;
+ 	case RIN_TIMELY_BACKUP:
+ 		You("feel absolutely safe.");
+ 		break;
 	case RIN_INVISIBILITY:
 		if (!oldprop && !HInvis && !BInvis && !Blind) {
 		    makeknown(RIN_INVISIBILITY);
@@ -967,6 +988,12 @@
 			HIndigestion = 0;
 		break;
 #endif
+	case RIN_HEALTH:
+ 		ABON(A_CON) -= obj->spe;
+ 		flags.botl = 1;
+ 		break;
+ 	case RIN_TIMELY_BACKUP:
+ 		You("feel unsafe.");
 	case RIN_WARNING:
 		see_monsters();
 		break;
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\dog.c SlashTNG-master\src\dog.c
--- slashem-0.0.7E7F3\src\dog.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\dog.c	Sun Jan 01 13:56:57 2017
@@ -215,14 +215,16 @@
 
 #ifdef STEED
 	/* Horses already wear a saddle */
-	if (pettype == PM_PONY && !!(otmp = mksobj(SADDLE, TRUE, FALSE))) {
-	    if (mpickobj(mtmp, otmp))
-		panic("merged saddle?");
+	if ((pettype == PM_PONY/* || pettype == PM_BABY_CAMEL*/) && !!(otmp = mksobj(SADDLE, TRUE, FALSE))) {
+	    if (mpickobj(mtmp, otmp, TRUE)) {
+		impossible("merged saddle?");
+		} else {
 	    mtmp->misc_worn_check |= W_SADDLE;
 	    otmp->dknown = otmp->bknown = otmp->rknown = 1;
 	    otmp->owornmask = W_SADDLE;
 	    otmp->leashmon = mtmp->m_id;
 	    update_mon_intrinsics(mtmp, otmp, TRUE, TRUE);
+		}
 	}
 #endif
 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\dogmove.c SlashTNG-master\src\dogmove.c
--- slashem-0.0.7E7F3\src\dogmove.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\dogmove.c	Sun Jan 01 13:11:34 2017
@@ -380,7 +380,7 @@
 				    distant_name(obj, doname));
 			    obj_extract_self(obj);
 			    newsym(omx,omy);
-			    (void) mpickobj(mtmp,obj);
+			    (void) mpickobj(mtmp,obj,FALSE);
 			    }                            
 			    else /* picking up a few objects from a pile... */
 				/* KMH -- fix picking up zero quantity */
@@ -403,7 +403,7 @@
 							doname(obj));
 							obj_extract_self(obj);
 				    	newsym(omx,omy);
-							(void) mpickobj(mtmp,obj);
+							(void) mpickobj(mtmp,obj,FALSE);
 #endif
 				} else {
 /*
@@ -413,7 +413,7 @@
                                 obj->quan -= dogquan;
 				temp_quan = obj->quan;
 				floor_obj = level.objects[omx][omy];
-				mpickobj(mtmp,obj);
+				mpickobj(mtmp,obj,FALSE);
 				obj->quan = dogquan;
 				if (cansee(omx, omy) && flags.verbose)
 				pline("%s picks up %s.", Monnam(mtmp),
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\dothrow.c SlashTNG-master\src\dothrow.c
--- slashem-0.0.7E7F3\src\dothrow.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\dothrow.c	Sun Jan 01 13:20:59 2017
@@ -1216,7 +1216,7 @@
 
 	if (u.uswallow) {
 		/* ball is not picked up by monster */
-		if (obj != uball) (void) mpickobj(u.ustuck,obj);
+		if (obj != uball) (void) mpickobj(u.ustuck,obj,FALSE);
 	} else {
 		/* the code following might become part of dropy() */
 		if (obj->oartifact == ART_MJOLLNIR &&
@@ -1279,7 +1279,7 @@
 			      Monnam(mon), the(xname(obj)));
 		    if(*u.ushops)
 			check_shop_obj(obj, bhitpos.x, bhitpos.y, FALSE);
-		    (void) mpickobj(mon, obj);	/* may merge and free obj */
+		    (void) mpickobj(mon, obj, FALSE);	/* may merge and free obj */
 		    thrownobj = (struct obj*)0;
 		    return;
 		}
@@ -1478,7 +1478,7 @@
 		    (void) encumber_msg();
 		} else {
 		    /* angry leader caught it and isn't returning it */
-		    (void) mpickobj(mon, obj);
+		    (void) mpickobj(mon, obj, FALSE);
 		}
 		return 1;		/* caller doesn't need to place it */
 	    }
@@ -1731,7 +1731,7 @@
 	}
 	Strcat(buf,acceptgift);
 	if(*u.ushops) check_shop_obj(obj, mon->mx, mon->my, TRUE);
-	(void) mpickobj(mon, obj);	/* may merge and free obj */
+	(void) (void) mpickobj(mon, obj, FALSE);	/* may merge and free obj */
 	ret = 1;
 
 nopick:
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\eat.c SlashTNG-master\src\eat.c
--- slashem-0.0.7E7F3\src\eat.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\eat.c	Sun Dec 25 23:58:10 2016
@@ -986,6 +986,62 @@
 		}
 		flags.botl = 1;
 		break;
+		case PM_CREEPING___:
+		pline("You feel appropriately 42!");/*
+		switch(rnd(10)) {                
+		case 1:
+		    You("feel that was a bad idea.");
+		    losexp("eating a creeping 42 corpse", FALSE, TRUE);
+			make_hallucinated(HHallucination+rn1(10,50),TRUE,0L);
+		    break;
+		case 2:                        
+		    You("don't feel so good ...");
+		    if (Upolyd) {
+			u.mhmax -= 4;
+			if (u.mhmax < 1) u.mhmax = 1;
+		    } else {
+			u.uhpmax -= 4;
+			if (u.uhpmax < 1) u.uhpmax = 1;
+		    }
+		    u.uenmax -= 8;
+		    if (u.uenmax < 1) u.uenmax = 1;
+		    u.uen -= 8;
+		    if (u.uen < 0) u.uen = 0;
+		    losehp(4, "eating a creeping 42 corpse", KILLED_BY);
+			make_hallucinated(HHallucination+rn1(10,50),TRUE,0L);
+		    break;
+		case 3:                        
+		case 4: 
+		    You("feel something strange for a moment.");
+			make_hallucinated(HHallucination+rn1(10,50),TRUE,0L);
+		    break;
+		case 5: 
+		    You("feel physically and mentally stronger!");
+		    if (Upolyd) {
+			u.mhmax += 4;
+			u.mh = u.mhmax;
+		    } else {
+			u.uhpmax += 4;
+			u.uhp = u.uhpmax;
+		    }
+		    u.uenmax += 8;
+		    u.uen = u.uenmax;
+			make_hallucinated(HHallucination+rn1(10,50),TRUE,0L);
+		    break;
+		case 6:                        
+		case 7: 
+		case 8:
+		case 9:                        
+		case 10:                
+		    You("feel that was a smart thing to do.");
+		pluslvl(FALSE);
+		make_hallucinated(HHallucination+rn1(10,50),TRUE,0L);
+		break;
+		default:            
+		    break;
+		}
+		flags.botl = 1;AMY's code is probably tailored to her game losexp not in extern.h 644*/
+		break;
 	    case PM_HUMAN_WERERAT:
 		catch_lycanthropy = TRUE;
 		if (!Race_if(PM_HUMAN_WEREWOLF)) u.ulycn = PM_WERERAT;
@@ -1785,6 +1841,9 @@
 			break;
 		}
 		break;
+		case PEANUT_BAG:
+ 		adjattrib(A_CON,rn2(2)+1,-1);
+ 		break;
 	    case MEATBALL:
 	    case MEAT_STICK:
 	    case HUGE_CHUNK_OF_MEAT:
@@ -1927,6 +1986,14 @@
 		if (adjattrib(A_CON, otmp->spe, -1))
 		    makeknown(typ);
 		break;
+		case RIN_HEALTH:
+ 		if (adjattrib(A_CON, otmp->spe, -1)) 
+ 			makeknown(typ);
+ 		break;
+ 	    case RIN_TIMELY_BACKUP:
+ 		You("feel very, very safe.");
+ 		/* do something ... */
+ 		break;
 	    case RIN_GAIN_INTELLIGENCE:
 		accessory_has_effect(otmp);
 		if (adjattrib(A_INT, otmp->spe, -1))
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\end.c SlashTNG-master\src\end.c
--- slashem-0.0.7E7F3\src\end.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\end.c	Sun Jan 01 12:30:44 2017
@@ -438,9 +438,14 @@
 int how;
 {
 	u.uswldtim = 0;
-	u.uhp = u.uhpmax;
-	if (u.uhunger < 500) {
-	    u.uhunger = 500;
+	if (Second_chance) {
+		u.uhp = u.uhplast;
+	} else {
+		u.uhp = u.uhpmax;
+	}
+	u.uhplast = u.uhp;
+	if (u.uhunger < 1000) {
+	    u.uhunger = 1000;
 	    newuhs(FALSE);
 	}
 	/* cure impending doom of sickness hero won't have time to fix */
@@ -556,6 +561,30 @@
     }
 }
 
+static void
+ kill_ravenous_beasts(int how)
+ {
+ 	int count;
+ 	struct monst *mtmp,*mtmp2;
+ 
+ 	count = 0;
+ 	for (mtmp=fmon;mtmp;mtmp=mtmp2) {
+ 		mtmp2 = mtmp->nmon;
+ 		if (mtmp->data == &mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL]) {
+ 			count++;
+ 			mondied(mtmp);
+ 		}
+ 	}
+ 
+ 	if (count > 0) {
+ 		pline("Just before your consciousness passes, you hear %s.",count == 1 ? "a scream" : "several screams");
+ 	}
+ 
+ 	if (how == GENOCIDED) {
+ 		mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL].geno |= G_GENOD;
+ 	}
+ }
+
 /* Be careful not to call panic from here! */
 void
 done(how)
@@ -581,6 +610,8 @@
 #endif
 	}
 
+	if (how < PANICKED) kill_ravenous_beasts(how);
+	
 	/* kilbuf: used to copy killer in case it comes from something like
 	 *	xname(), which would otherwise get overwritten when we call
 	 *	xname() when listing possessions
@@ -617,21 +648,24 @@
 		killer_format = 0;
 		return;
 	}
-	if (Lifesaved && (how <= GENOCIDED)) {
+	if ((Second_chance || Lifesaved) && how <= GENOCIDED) {
 		pline("But wait...");
-		makeknown(AMULET_OF_LIFE_SAVING);
-		Your("medallion %s!",
+		makeknown(Lifesaved ? AMULET_OF_LIFE_SAVING : AMULET_OF_SECOND_CHANCE);
+		Your("%s %s!", Lifesaved ? "medallion" : "amulet",
 		      !Blind ? "begins to glow" : "feels warm");
 		if (how == CHOKING) You("vomit ...");
 		You_feel("much better!");
 		pline_The("medallion crumbles to dust!");
 		/* KMH -- Bullet-proofing */
 		if (uamul)
-			useup(uamul);
+			/*useup(uamul);*/
 
 		(void) adjattrib(A_CON, -1, TRUE);
 		if(u.uhpmax <= 0) u.uhpmax = 10;	/* arbitrary */
 		savelife(how);
+/* useup() had to be moved for savelife() to distingush between Lifesaved */
+/* and Second_chance */
+		useup(uamul);
 		if (how == GENOCIDED)
 			pline("Unfortunately you are still genocided...");
 		else {
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\engrave.c SlashTNG-master\src\engrave.c
--- slashem-0.0.7E7F3\src\engrave.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\engrave.c	Wed Jan 04 18:42:19 2017
@@ -645,8 +645,10 @@
 		    case WAN_SECRET_DOOR_DETECTION:
 		    case WAN_CREATE_MONSTER:
 		    case WAN_CREATE_HORDE:
+			case WAN_BUGGING:
 		    case WAN_ENLIGHTENMENT:
 		    case WAN_WISHING:
+			case WAN_WONDER:
 			zapnodir(otmp);
 			break;
 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\gamedir.tag SlashTNG-master\src\gamedir.tag
--- slashem-0.0.7E7F3\src\gamedir.tag	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\gamedir.tag	Thu Jan 05 19:04:18 2017
@@ -0,0 +1 @@
+directory created 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\hack.c SlashTNG-master\src\hack.c
--- slashem-0.0.7E7F3\src\hack.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\hack.c	Sun Jan 01 12:44:07 2017
@@ -2241,6 +2241,9 @@
 			verbalize("%s, %s, welcome to Delphi!",
 					Hello((struct monst *) 0), plname);
 		    break;
+		case DOUGROOM:
+ 		    You("feel 42.");
+ 		    break;
 		case TEMPLE:
 		    intemple(roomno + ROOMOFFSET);
 		    /* fall through */
@@ -2651,6 +2654,7 @@
 		    maybe_wail();
 		return;
 	} else {
+	u.uhplast = u.uhp;
 	u.uhp -= n;
 	if(u.uhp > u.uhpmax)
 		u.uhpmax = u.uhp;	/* perhaps n was negative */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\install.tag SlashTNG-master\src\install.tag
--- slashem-0.0.7E7F3\src\install.tag	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\install.tag	Thu Jan 05 19:05:16 2017
@@ -0,0 +1 @@
+install done 
Binary files slashem-0.0.7E7F3\src\lev_comp.exe and SlashTNG-master\src\lev_comp.exe differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\lev_flex.c SlashTNG-master\src\lev_flex.c
--- slashem-0.0.7E7F3\src\lev_flex.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\lev_flex.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,2537 @@
+/* A lexical scanner generated by flex */
+
+/* Scanner skeleton version:
+ * $Header: /cvsroot/slashem/slashem/sys/share/lev_lex.c,v 1.6 2003/02/25 14:52:30 j_ali Exp $
+ */
+
+#define FLEX_SCANNER
+#define YY_FLEX_MAJOR_VERSION 2
+#define YY_FLEX_MINOR_VERSION 5
+
+#include <stdio.h>
+#include <unistd.h>
+
+
+/* cfront 1.2 defines "c_plusplus" instead of "__cplusplus" */
+#ifdef c_plusplus
+#ifndef __cplusplus
+#define __cplusplus
+#endif
+#endif
+
+
+#ifdef __cplusplus
+
+#include <stdlib.h>
+
+/* Use prototypes in function declarations. */
+#define YY_USE_PROTOS
+
+/* The "const" storage-class-modifier is valid. */
+#define YY_USE_CONST
+
+#else	/* ! __cplusplus */
+
+#if __STDC__
+
+#define YY_USE_PROTOS
+#define YY_USE_CONST
+
+#endif	/* __STDC__ */
+#endif	/* ! __cplusplus */
+
+#ifdef __TURBOC__
+ #pragma warn -rch
+ #pragma warn -use
+#include <io.h>
+#include <stdlib.h>
+#define YY_USE_CONST
+#define YY_USE_PROTOS
+#endif
+
+#ifdef YY_USE_CONST
+#define yyconst const
+#else
+#define yyconst
+#endif
+
+
+#ifdef YY_USE_PROTOS
+#define YY_PROTO(proto) proto
+#else
+#define YY_PROTO(proto) ()
+#endif
+
+/* Returned upon end-of-file. */
+#define YY_NULL 0
+
+/* Promotes a possibly negative, possibly signed char to an unsigned
+ * integer for use as an array index.  If the signed char is negative,
+ * we want to instead treat it as an 8-bit unsigned char, hence the
+ * double cast.
+ */
+#define YY_SC_TO_UI(c) ((unsigned int) (unsigned char) c)
+
+/* Enter a start condition.  This macro really ought to take a parameter,
+ * but we do it the disgusting crufty way forced on us by the ()-less
+ * definition of BEGIN.
+ */
+#define BEGIN yy_start = 1 + 2 *
+
+/* Translate the current start state into a value that can be later handed
+ * to BEGIN to return to the state.  The YYSTATE alias is for lex
+ * compatibility.
+ */
+#define YY_START ((yy_start - 1) / 2)
+#define YYSTATE YY_START
+
+/* Action number for EOF rule of a given start state. */
+#define YY_STATE_EOF(state) (YY_END_OF_BUFFER + state + 1)
+
+/* Special action meaning "start processing a new file". */
+#define YY_NEW_FILE yyrestart( yyin )
+
+#define YY_END_OF_BUFFER_CHAR 0
+
+/* Size of default input buffer. */
+#define YY_BUF_SIZE 16384
+
+typedef struct yy_buffer_state *YY_BUFFER_STATE;
+
+extern int yyleng;
+extern FILE *yyin, *yyout;
+
+#define EOB_ACT_CONTINUE_SCAN 0
+#define EOB_ACT_END_OF_FILE 1
+#define EOB_ACT_LAST_MATCH 2
+
+/* The funky do-while in the following #define is used to turn the definition
+ * int a single C statement (which needs a semi-colon terminator).  This
+ * avoids problems with code like:
+ *
+ * 	if ( condition_holds )
+ *		yyless( 5 );
+ *	else
+ *		do_something_else();
+ *
+ * Prior to using the do-while the compiler would get upset at the
+ * "else" because it interpreted the "if" statement as being all
+ * done when it reached the ';' after the yyless() call.
+ */
+
+/* Return all but the first 'n' matched characters back to the input stream. */
+
+#define yyless(n) \
+	do \
+		{ \
+		/* Undo effects of setting up yytext. */ \
+		*yy_cp = yy_hold_char; \
+		YY_RESTORE_YY_MORE_OFFSET \
+		yy_c_buf_p = yy_cp = yy_bp + n - YY_MORE_ADJ; \
+		YY_DO_BEFORE_ACTION; /* set up yytext again */ \
+		} \
+	while ( 0 )
+
+#define unput(c) yyunput( c, yytext_ptr )
+
+/* The following is because we cannot portably get our hands on size_t
+ * (without autoconf's help, which isn't available because we want
+ * flex-generated scanners to compile on their own).
+ */
+typedef unsigned int yy_size_t;
+
+
+struct yy_buffer_state
+	{
+	FILE *yy_input_file;
+
+	char *yy_ch_buf;		/* input buffer */
+	char *yy_buf_pos;		/* current position in input buffer */
+
+	/* Size of input buffer in bytes, not including room for EOB
+	 * characters.
+	 */
+	yy_size_t yy_buf_size;
+
+	/* Number of characters read into yy_ch_buf, not including EOB
+	 * characters.
+	 */
+	int yy_n_chars;
+
+	/* Whether we "own" the buffer - i.e., we know we created it,
+	 * and can realloc() it to grow it, and should free() it to
+	 * delete it.
+	 */
+	int yy_is_our_buffer;
+
+	/* Whether this is an "interactive" input source; if so, and
+	 * if we're using stdio for input, then we want to use getc()
+	 * instead of fread(), to make sure we stop fetching input after
+	 * each newline.
+	 */
+	int yy_is_interactive;
+
+	/* Whether we're considered to be at the beginning of a line.
+	 * If so, '^' rules will be active on the next match, otherwise
+	 * not.
+	 */
+	int yy_at_bol;
+
+	/* Whether to try to fill the input buffer when we reach the
+	 * end of it.
+	 */
+	int yy_fill_buffer;
+
+	int yy_buffer_status;
+#define YY_BUFFER_NEW 0
+#define YY_BUFFER_NORMAL 1
+	/* When an EOF's been seen but there's still some text to process
+	 * then we mark the buffer as YY_EOF_PENDING, to indicate that we
+	 * shouldn't try reading from the input source any more.  We might
+	 * still have a bunch of tokens to match, though, because of
+	 * possible backing-up.
+	 *
+	 * When we actually see the EOF, we change the status to "new"
+	 * (via yyrestart()), so that the user can continue scanning by
+	 * just pointing yyin at a new input file.
+	 */
+#define YY_BUFFER_EOF_PENDING 2
+	};
+
+static YY_BUFFER_STATE yy_current_buffer = 0;
+
+/* We provide macros for accessing buffer states in case in the
+ * future we want to put the buffer states in a more general
+ * "scanner state".
+ */
+#define YY_CURRENT_BUFFER yy_current_buffer
+
+
+/* yy_hold_char holds the character lost when yytext is formed. */
+static char yy_hold_char;
+
+static int yy_n_chars;		/* number of characters read into yy_ch_buf */
+
+
+int yyleng;
+
+/* Points to current character in buffer. */
+static char *yy_c_buf_p = (char *) 0;
+static int yy_init = 1;		/* whether we need to initialize */
+static int yy_start = 0;	/* start state number */
+
+/* Flag which is used to allow yywrap()'s to do buffer switches
+ * instead of setting up a fresh yyin.  A bit of a hack ...
+ */
+static int yy_did_buffer_switch_on_eof;
+
+void yyrestart YY_PROTO(( FILE *input_file ));
+
+void yy_switch_to_buffer YY_PROTO(( YY_BUFFER_STATE new_buffer ));
+void yy_load_buffer_state YY_PROTO(( void ));
+YY_BUFFER_STATE yy_create_buffer YY_PROTO(( FILE *file, int size ));
+void yy_delete_buffer YY_PROTO(( YY_BUFFER_STATE b ));
+void yy_init_buffer YY_PROTO(( YY_BUFFER_STATE b, FILE *file ));
+void yy_flush_buffer YY_PROTO(( YY_BUFFER_STATE b ));
+#define YY_FLUSH_BUFFER yy_flush_buffer( yy_current_buffer )
+
+YY_BUFFER_STATE yy_scan_buffer YY_PROTO(( char *base, yy_size_t size ));
+YY_BUFFER_STATE yy_scan_string YY_PROTO(( yyconst char *yy_str ));
+YY_BUFFER_STATE yy_scan_bytes YY_PROTO(( yyconst char *bytes, int len ));
+
+static void *yy_flex_alloc YY_PROTO(( yy_size_t ));
+static void *yy_flex_realloc YY_PROTO(( void *, yy_size_t ));
+static void yy_flex_free YY_PROTO(( void * ));
+
+#define yy_new_buffer yy_create_buffer
+
+#define yy_set_interactive(is_interactive) \
+	{ \
+	if ( ! yy_current_buffer ) \
+		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE ); \
+	yy_current_buffer->yy_is_interactive = is_interactive; \
+	}
+
+#define yy_set_bol(at_bol) \
+	{ \
+	if ( ! yy_current_buffer ) \
+		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE ); \
+	yy_current_buffer->yy_at_bol = at_bol; \
+	}
+
+#define YY_AT_BOL() (yy_current_buffer->yy_at_bol)
+
+typedef unsigned char YY_CHAR;
+FILE *yyin = (FILE *) 0, *yyout = (FILE *) 0;
+typedef int yy_state_type;
+extern char *yytext;
+#define yytext_ptr yytext
+
+static yy_state_type yy_get_previous_state YY_PROTO(( void ));
+static yy_state_type yy_try_NUL_trans YY_PROTO(( yy_state_type current_state ));
+static int yy_get_next_buffer YY_PROTO(( void ));
+static void yy_fatal_error YY_PROTO(( yyconst char msg[] ));
+
+/* Done after the current pattern has been matched and before the
+ * corresponding action - sets up yytext.
+ */
+#define YY_DO_BEFORE_ACTION \
+	yytext_ptr = yy_bp; \
+	yyleng = (int) (yy_cp - yy_bp); \
+	yy_hold_char = *yy_cp; \
+	*yy_cp = '\0'; \
+	yy_c_buf_p = yy_cp;
+
+#define YY_NUM_RULES 120
+#define YY_END_OF_BUFFER 121
+static yyconst short int yy_accept[679] =
+    {   0,
+        0,    0,    0,    0,  121,  119,  116,  115,  119,  119,
+      119,  119,  113,    4,  119,  119,  119,  119,  119,  119,
+      119,  119,  119,  119,  119,  119,  119,  119,  119,  119,
+      119,  119,  119,  119,  119,  119,  119,  119,  119,  119,
+      119,  119,  119,  119,  119,  119,  119,  119,  119,  119,
+      119,    2,  119,  116,  119,  119,  113,  119,  119,  119,
+      119,  119,  119,  119,  119,  119,  119,  119,  119,  116,
+      115,    0,  114,    0,    0,  113,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,   90,    0,    0,    3,    0,    2,
+        2,    0,  116,    0,  113,    0,    0,    0,    0,    0,
+        0,    0,    0,    2,    0,    0,  118,    0,  118,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,   75,    0,    0,
+        0,   70,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+       68,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,  117,    0,    0,    0,    0,    0,   18,
+        0,    0,    0,    0,    0,   42,    0,    0,    0,    6,
+
+        0,    0,   44,    0,    0,    0,    0,   35,    0,    0,
+        0,   38,   34,    0,    0,    0,   17,    0,    0,  112,
+        0,    0,    0,    0,    0,    0,    0,    0,   96,    0,
+        0,    0,    0,    0,    0,   91,   94,   53,    0,    0,
+        0,    0,    0,    0,   63,    0,    0,    0,    0,    0,
+        0,   97,    0,    0,    0,    0,    0,    0,   57,    0,
+        0,    0,    0,    0,   47,    0,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,   93,    0,    0,    0,
+       55,   12,    0,    0,    0,    0,    0,   26,    0,    0,
+        0,    0,    0,    0,   10,    0,    0,    0,    0,    8,
+
+        0,    0,    0,    7,    0,    0,    0,    0,    0,    0,
+        0,   28,    0,    0,    0,   61,   89,    0,    0,   83,
+        0,    0,    0,    0,   77,    0,    0,    0,    0,    0,
+       92,    0,    0,    0,    0,  111,    0,    0,    0,    0,
+        0,    0,    0,    0,    0,    0,    0,   52,    0,    0,
+      103,    0,    0,   60,    0,    0,   67,    0,    0,    0,
+        0,   54,    0,    0,    0,   71,    0,    0,   32,   45,
+        0,    0,    0,    0,    0,    0,    0,   27,    0,    0,
+        0,    0,    0,   13,    0,   29,    0,   22,    0,    0,
+        0,    0,   82,    0,   69,   51,   65,   48,    0,    0,
+
+      101,    0,   72,    0,    0,    0,    0,    0,   49,    0,
+        0,    0,    0,    0,    0,   50,  107,    0,    0,    0,
+       58,    0,   56,   62,    0,   98,    0,   88,  110,    0,
+        0,    1,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    5,   16,    0,    0,    0,    0,   39,    0,   21,
+        0,   99,    0,    0,   95,    0,    0,    0,   81,    0,
+        0,    0,    0,   59,   76,   74,    0,    0,    0,    0,
+       87,    0,    0,    0,    0,   41,    0,    0,   33,   11,
+        9,   20,    0,    0,   14,    0,    0,    0,    0,    0,
+        0,  108,    0,    0,    0,    0,    0,    0,    0,    0,
+
+       86,    0,    0,  104,   80,    0,  100,   73,   15,    0,
+       43,    0,    0,    0,    0,    0,    0,    0,    0,   78,
+      102,   64,    0,  106,   46,   84,   85,    0,    0,    0,
+       19,    0,    0,    0,    0,    0,    0,    0,    0,   66,
+        0,  105,    0,    0,    0,    0,    0,    0,    0,    0,
+        0,    0,    0,   36,   37,    0,    0,    0,    0,    0,
+        0,   79,  109,    0,    0,    0,   25,   31,    0,    0,
+        0,   23,    0,    0,   24,   30,   40,    0
+    } ;
+
+static yyconst int yy_ec[256] =
+    {   0,
+        1,    1,    1,    1,    1,    1,    1,    1,    2,    3,
+        1,    1,    4,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    5,    1,    6,    7,    1,    8,    1,    9,    1,
+        1,    1,   10,    1,   11,   12,    1,   13,   13,   13,
+       13,   13,   13,   13,   13,   13,   13,   14,    1,    1,
+        1,    1,    1,    1,   15,   16,   17,   18,   19,   20,
+       21,   22,   23,   24,   25,   26,   27,   28,   29,   30,
+        1,   31,   32,   33,   34,   35,   36,    1,   37,   38,
+       39,   40,   41,    1,   42,    1,   43,   44,   45,   46,
+
+       47,   48,   49,   50,   51,   52,   53,   54,   55,   56,
+       57,   58,    1,   59,   60,   61,   62,   63,   64,    1,
+       65,    1,   12,   12,   12,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1
+    } ;
+
+static yyconst int yy_meta[66] =
+    {   0,
+        1,    2,    3,    2,    2,    1,    2,    1,    1,    2,
+        2,    2,    2,    1,    2,    2,    2,    1,    1,    2,
+        1,    2,    2,    1,    2,    2,    1,    1,    1,    2,
+        1,    2,    2,    1,    1,    2,    1,    2,    1,    2,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1
+    } ;
+
+static yyconst short int yy_base[684] =
+    {   0,
+        0,   59,   84,   63,  838,  839,   66,  839,  834,  830,
+      795,  821,  820,  839,  806,  800,   45,   44,  802,   43,
+       63,  801,   61,   64,   69,  812,  798,   96,   79,   99,
+      811,   72,   67,   75,   86,   66,   95,   96,   62,   98,
+      110,   97,  114,   88,  114,  119,  109,  115,  778,  821,
+      131,  839,  820,  176,  180,  183,  186,  189,  198,  201,
+      794,  184,  189,  197,  141,  198,  206,  218,  245,   76,
+      839,  815,  839,  811,  810,  805,  784,  801,  800,  166,
+      785,  798,  791,  796,  776,  780,  782,  784,  788,  770,
+      766,  771,  774,  774,  147,  776,  178,  771,  777,  768,
+
+      768,  780,  778,  767,  777,  765,  209,  226,  147,  746,
+      735,  745,  740,  725,  728,  725,  727,  739,  724,  195,
+      721,  715,  718,  717,  727,  721,  720,  182,  713,  708,
+      211,  710,  725,  225,  710,  712,  705,  233,  199,  714,
+      718,  721,  720,  706,  712,  711,  703,  699,  185,  695,
+      699,  697,  692,  239,  839,  693,  749,  839,  216,  839,
+      839,  748,  293,  268,  278,  277,  287,  245,  289,  283,
+      291,  299,  301,  839,  747,    0,  839,  740,  739,  732,
+      718,  717,  711,  712,  711,  705,  709,  718,  710,  710,
+      718,  702,  716,  714,  713,  699,  698,  710,  713,  685,
+
+      305,  700,  692,  706,  700,  695,  696,  697,  688,  699,
+      687,  690,  154,  666,  671,  656,  665,  658,  650,  648,
+      655,  651,  645,  648,  644,  649,  641,  641,  644,  638,
+      637,  638,  636,  641,  646,  647,  631,  839,  630,  640,
+      630,  839,  635,  640,  629,  641,  631,  623,  621,  627,
+      623,  624,  284,  617,  630,  614,  624,  627,  617,  627,
+      626,  624,  618,  618,  622,  623,  606,  613,  602,  605,
+      839,  614,  598,  608,  607,  596,  329,  319,  314,  629,
+      316,  317,  325,  839,  624,  637,  636,  637,  628,  839,
+      634,  634,  616,  614,  627,  839,  603,  625,  617,  606,
+
+      626,  607,  839,  609,  278,  621,  611,  839,  621,  606,
+      605,  839,  839,  602,  603,  601,  839,  607,  312,  839,
+      573,  569,  568,  579,  578,  564,  566,  575,  839,  574,
+      560,  572,  567,  574,  569,  839,  839,  839,  572,  567,
+      566,  601,  563,  559,  839,  562,  561,  560,  563,  549,
+      552,  839,  542,  543,  550,  543,  556,  541,  839,  547,
+      542,  536,  533,  548,  839,  545,  544,  533,  532,  527,
+      526,  522,  524,  528,  533,  529,  839,  522,  526,  518,
+      839,  839,  575,  327,  562,  328,  338,  839,  554,  556,
+      551,  555,  541,  536,  839,  555,  536,  541,  536,  839,
+
+      551,  544,  545,  839,  540,  547,  528,  545,  533,  531,
+      529,  839,  527,  526,  534,  839,  839,  506,  494,  839,
+      504,  495,  493,  489,  839,  501,  497,  494,  498,  480,
+      839,  496,  210,  487,  486,  839,  490,  492,  476,  476,
+      488,  487,  490,  483,  472,  472,  486,  839,  481,  476,
+      839,  465,  477,  839,  469,  467,  839,  460,  467,  460,
+      472,  839,  453,  457,  462,  839,  485,  342,  839,  839,
+      486,  484,  489,  488,  487,  478,  493,  839,  481,  487,
+      474,  483,  471,  839,  481,  839,  459,  839,  473,  468,
+      461,  454,  839,  450,  839,  839,  839,  839,  439,  438,
+
+      839,  446,  839,  445,  440,  433,  442,  437,  839,  425,
+      425,  440,  425,  429,  426,  839,  839,  427,  422,  432,
+      839,  416,  839,  839,  422,  839,  425,  839,  839,  428,
+      427,  839,  341,  454,  441,  453,  442,  441,  431,  437,
+      441,  839,  839,  444,  432,  431,  352,  839,  429,  839,
+      407,  839,  413,  412,  839,  410,  408,  399,  839,  398,
+      395,  406,  391,  839,  839,  839,  400,  393,  403,  394,
+      839,  398,  400,  399,  413,  839,  422,  421,  839,  839,
+      839,  839,  426,  404,  839,  410,  409,  421,  410,  416,
+      392,  839,  387,  386,  370,  380,  370,  372,  380,  367,
+
+      839,  376,  365,  839,  839,  373,  839,  839,  839,  403,
+      839,  405,  405,  388,  390,  393,  401,  394,  383,  839,
+      839,  839,  352,  839,  839,  839,  839,  356,  350,  349,
+      839,  383,  382,  376,  374,  386,  387,  380,  383,  839,
+      354,  839,  353,  380,  372,  374,  363,  363,  358,  347,
+      354,  328,  327,  839,  839,  354,  349,  333,  333,  327,
+      329,  839,  839,  315,  304,  294,  839,  839,  274,  255,
+      213,  839,  196,   76,  839,  839,  839,  839,  383,  386,
+      388,  390,  393
+    } ;
+
+static yyconst short int yy_def[684] =
+    {   0,
+      678,    1,    1,    3,  678,  678,  678,  678,  678,  679,
+      680,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  681,
+      678,  678,  678,  682,  682,  682,  682,  682,  682,  682,
+      678,   60,   60,   60,   60,   60,   60,   60,  681,  678,
+      678,  679,  678,  678,  683,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  681,  678,  678,  678,
+      678,  678,   60,   60,   60,   60,   60,  678,   60,   60,
+       60,   60,   60,  678,  681,   69,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,   60,   60,  678,
+       60,   60,   60,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,   60,  678,   60,   60,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,   60,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,   60,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,    0,  678,  678,
+      678,  678,  678
+    } ;
+
+static yyconst short int yy_nxt[905] =
+    {   0,
+        6,    7,    8,    9,    7,   10,    6,    6,   11,   12,
+       12,    6,   13,   14,   15,   16,   17,   18,   19,   20,
+       21,    6,   22,    6,    6,   23,   24,   25,   26,   27,
+       28,   29,   30,    6,    6,   31,    6,    6,   32,    6,
+        6,    6,   33,   34,   35,   36,   37,   38,    6,   39,
+        6,    6,    6,   40,   41,   42,   43,   44,   45,   46,
+       47,   48,    6,   49,    6,   50,   79,   70,   84,   69,
+       70,   85,   81,   80,   82,   89,  107,   70,   91,   90,
+       70,   86,   92,   94,  108,   51,   52,   53,   54,   51,
+       55,   87,   93,   56,   56,   55,   57,   95,   58,   59,
+
+       60,  101,   61,   62,  128,   55,   63,  677,   55,   64,
+       98,  102,  103,   65,   99,   66,   67,  104,  129,   68,
+      109,   55,  122,   55,  100,  110,  111,  123,  113,  105,
+      112,  114,  117,  115,  142,  118,  116,  124,  126,  119,
+      130,  143,  120,  137,  131,  159,  127,  121,  132,   92,
+      125,  134,  135,  138,  133,  139,  144,  140,  319,   93,
+      145,  147,  164,  148,  146,  152,  136,  153,  149,   97,
+      154,  141,  155,  199,  200,  150,  151,   70,  161,  162,
+      163,  678,  161,  162,  678,  161,  162,  678,  161,  162,
+      678,  161,  162,  183,  320,  165,  184,  214,  165,  678,
+
+      161,  162,  678,  161,  162,  164,  202,  215,  203,  169,
+      164,  170,   85,  107,  166,   90,   88,  678,  164,  164,
+      171,  108,  167,  676,  104,  678,  678,  164,   78,   80,
+      172,  103,  173,  213,  678,  235,  105,  226,  108,  164,
+      236,  267,  256,  268,  675,  277,  678,  174,  175,  176,
+      227,  176,  257,  195,  176,  176,  176,  176,  239,  176,
+      176,  176,  280,  504,  176,  187,  176,  176,  505,  176,
+      176,  240,  244,  241,  176,  250,  176,  176,  251,  245,
+      176,  246,  176,  273,  176,  674,  274,  252,  253,  164,
+      165,  254,  275,  255,   70,  405,  678,  163,  164,  164,
+
+      193,  279,  673,  281,  164,  678,  678,  406,  164,  278,
+      164,  678,  164,  282,  164,  678,  319,  678,  207,  678,
+      164,  678,  164,  306,  307,  672,  283,  678,  358,  678,
+      359,  382,  383,  384,  671,  164,  293,  164,  164,  386,
+      164,  287,  678,  670,  678,  678,  164,  678,  164,  164,
+      387,  669,  320,  678,  668,  678,  678,  388,  412,  164,
+      468,  533,  164,  164,  667,  666,  678,  665,  586,  678,
+      678,  664,  663,  662,  661,  660,  659,  550,  587,  658,
+      588,  589,  590,   72,   72,   72,   74,   74,  157,  157,
+      157,  164,  164,  178,  178,  657,  656,  655,  654,  653,
+
+      652,  651,  650,  649,  648,  647,  646,  645,  644,  643,
+      642,  641,  640,  639,  638,  637,  636,  635,  634,  633,
+      632,  631,  630,  629,  628,  627,  626,  625,  624,  623,
+      622,  621,  620,  619,  618,  617,  616,  615,  614,  613,
+      612,  611,  610,  609,  608,  607,  606,  605,  604,  603,
+      602,  601,  600,  599,  598,  597,  596,  595,  594,  593,
+      592,  591,  585,  584,  583,  582,  581,  580,  579,  578,
+      577,  576,  575,  574,  573,  572,  571,  570,  569,  568,
+      567,  566,  565,  564,  563,  562,  561,  560,  559,  558,
+      557,  556,  555,  554,  553,  552,  551,  550,  549,  548,
+
+      547,  546,  545,  544,  543,  542,  541,  540,  539,  538,
+      537,  536,  535,  534,  532,  531,  530,  529,  528,  527,
+      526,  525,  524,  523,  522,  521,  520,  519,  518,  517,
+      516,  515,  514,  513,  512,  511,  510,  509,  508,  507,
+      506,  503,  502,  501,  500,  499,  498,  497,  496,  495,
+      494,  493,  492,  491,  490,  489,  488,  487,  486,  485,
+      484,  483,  482,  481,  480,  479,  478,  477,  476,  475,
+      474,  473,  472,  471,  470,  469,  467,  382,  466,  465,
+      464,  463,  462,  461,  460,  459,  458,  457,  456,  455,
+      454,  453,  452,  451,  450,  449,  448,  447,  446,  445,
+
+      444,  443,  442,  441,  440,  439,  438,  437,  436,  435,
+      434,  433,  432,  431,  430,  429,  428,  427,  426,  425,
+      424,  423,  422,  421,  420,  419,  418,  417,  416,  415,
+      414,  413,  412,  411,  410,  409,  408,  407,  404,  403,
+      402,  401,  400,  399,  398,  397,  396,  395,  394,  393,
+      392,  391,  390,  389,  388,  385,  381,  380,  379,  378,
+      377,  376,  375,  374,  373,  372,  371,  370,  369,  368,
+      367,  366,  365,  364,  363,  362,  361,  360,  357,  356,
+      355,  354,  353,  352,  351,  350,  349,  348,  347,  346,
+      345,  344,  343,  342,  341,  340,  339,  338,  337,  336,
+
+      335,  334,  333,  332,  331,  330,  329,  328,  327,  326,
+      325,  324,  323,  322,  321,  318,  317,  316,  315,  314,
+      313,  312,  311,  310,  309,  308,  305,  304,  303,  302,
+      301,  300,  299,  298,  297,  296,  295,  294,  293,  292,
+      291,  290,  289,  288,  287,  286,  285,  284,  284,  174,
+      161,  158,  276,  272,  271,  270,  269,  266,  265,  264,
+      263,  262,  261,  260,  259,  258,  249,  248,  247,  243,
+      242,  238,  237,  234,  233,  232,  231,  230,  229,  228,
+      225,  224,  223,  222,  221,  220,  219,  218,  217,  216,
+      212,  211,  210,  209,  208,  207,  206,  205,  204,  201,
+
+      198,  197,  196,  195,  194,  193,  192,  191,  190,  189,
+      188,  187,  186,  185,  182,  181,  180,   76,  179,  177,
+       73,  168,  160,  158,  156,  106,   97,   96,   88,   83,
+       78,   77,   76,   76,   75,   73,   71,  678,    5,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+
+      678,  678,  678,  678
+    } ;
+
+static yyconst short int yy_chk[905] =
+    {   0,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+        1,    1,    1,    1,    1,    2,   17,    7,   20,    4,
+        7,   20,   18,   17,   18,   23,   32,   70,   24,   23,
+       70,   21,   24,   25,   32,    2,    3,    3,    3,    4,
+        3,   21,   24,    3,    3,    3,    3,   25,    3,    3,
+
+        3,   29,    3,    3,   39,    3,    3,  674,    3,    3,
+       28,   29,   29,    3,   28,    3,    3,   30,   39,    3,
+       33,    3,   36,    3,   28,   33,   33,   36,   34,   30,
+       33,   34,   35,   34,   44,   35,   34,   37,   38,   35,
+       40,   44,   35,   42,   40,   51,   38,   35,   40,   51,
+       37,   41,   41,   42,   40,   43,   45,   43,  213,   51,
+       45,   46,   65,   46,   45,   47,   41,   47,   46,   65,
+       48,   43,   48,   95,   95,   46,   46,   54,   54,   54,
+       54,   55,   55,   55,   56,   56,   56,   57,   57,   57,
+       58,   58,   58,   80,  213,   56,   80,  109,   57,   59,
+
+       59,   59,   60,   60,   60,   62,   97,  109,   97,   62,
+       63,   64,   62,  107,   58,   64,   63,   63,   64,   66,
+       66,  107,   60,  673,   67,   64,   66,   67,   59,   60,
+       66,   66,   68,  108,   67,  128,   67,  120,  108,   68,
+      128,  149,  139,  149,  671,  159,   68,   69,   69,   69,
+      120,   69,  139,  159,   69,   69,   69,   69,  131,   69,
+       69,   69,  168,  433,   69,  168,   69,   69,  433,   69,
+       69,  131,  134,  131,   69,  138,   69,   69,  138,  134,
+       69,  134,   69,  154,   69,  670,  154,  138,  138,  164,
+      165,  138,  154,  138,  163,  305,  164,  163,  166,  165,
+
+      170,  167,  669,  169,  170,  166,  165,  305,  167,  166,
+      169,  170,  171,  172,  163,  167,  319,  169,  171,  171,
+      172,  163,  173,  201,  201,  666,  173,  172,  253,  173,
+      253,  277,  277,  278,  665,  279,  281,  281,  282,  282,
+      278,  279,  279,  664,  281,  282,  283,  278,  384,  386,
+      283,  661,  319,  283,  660,  384,  386,  384,  386,  387,
+      387,  468,  533,  468,  659,  658,  387,  657,  547,  533,
+      468,  656,  653,  652,  651,  650,  649,  533,  547,  648,
+      547,  547,  547,  679,  679,  679,  680,  680,  681,  681,
+      681,  682,  682,  683,  683,  647,  646,  645,  644,  643,
+
+      641,  639,  638,  637,  636,  635,  634,  633,  632,  630,
+      629,  628,  623,  619,  618,  617,  616,  615,  614,  613,
+      612,  610,  606,  603,  602,  600,  599,  598,  597,  596,
+      595,  594,  593,  591,  590,  589,  588,  587,  586,  584,
+      583,  578,  577,  575,  574,  573,  572,  570,  569,  568,
+      567,  563,  562,  561,  560,  558,  557,  556,  554,  553,
+      551,  549,  546,  545,  544,  541,  540,  539,  538,  537,
+      536,  535,  534,  531,  530,  527,  525,  522,  520,  519,
+      518,  515,  514,  513,  512,  511,  510,  508,  507,  506,
+      505,  504,  502,  500,  499,  494,  492,  491,  490,  489,
+
+      487,  485,  483,  482,  481,  480,  479,  477,  476,  475,
+      474,  473,  472,  471,  467,  465,  464,  463,  461,  460,
+      459,  458,  456,  455,  453,  452,  450,  449,  447,  446,
+      445,  444,  443,  442,  441,  440,  439,  438,  437,  435,
+      434,  432,  430,  429,  428,  427,  426,  424,  423,  422,
+      421,  419,  418,  415,  414,  413,  411,  410,  409,  408,
+      407,  406,  405,  403,  402,  401,  399,  398,  397,  396,
+      394,  393,  392,  391,  390,  389,  385,  383,  380,  379,
+      378,  376,  375,  374,  373,  372,  371,  370,  369,  368,
+      367,  366,  364,  363,  362,  361,  360,  358,  357,  356,
+
+      355,  354,  353,  351,  350,  349,  348,  347,  346,  344,
+      343,  342,  341,  340,  339,  335,  334,  333,  332,  331,
+      330,  328,  327,  326,  325,  324,  323,  322,  321,  318,
+      316,  315,  314,  311,  310,  309,  307,  306,  304,  302,
+      301,  300,  299,  298,  297,  295,  294,  293,  292,  291,
+      289,  288,  287,  286,  285,  280,  276,  275,  274,  273,
+      272,  270,  269,  268,  267,  266,  265,  264,  263,  262,
+      261,  260,  259,  258,  257,  256,  255,  254,  252,  251,
+      250,  249,  248,  247,  246,  245,  244,  243,  241,  240,
+      239,  237,  236,  235,  234,  233,  232,  231,  230,  229,
+
+      228,  227,  226,  225,  224,  223,  222,  221,  220,  219,
+      218,  217,  216,  215,  214,  212,  211,  210,  209,  208,
+      207,  206,  205,  204,  203,  202,  200,  199,  198,  197,
+      196,  195,  194,  193,  192,  191,  190,  189,  188,  187,
+      186,  185,  184,  183,  182,  181,  180,  179,  178,  175,
+      162,  157,  156,  153,  152,  151,  150,  148,  147,  146,
+      145,  144,  143,  142,  141,  140,  137,  136,  135,  133,
+      132,  130,  129,  127,  126,  125,  124,  123,  122,  121,
+      119,  118,  117,  116,  115,  114,  113,  112,  111,  110,
+      106,  105,  104,  103,  102,  101,  100,   99,   98,   96,
+
+       94,   93,   92,   91,   90,   89,   88,   87,   86,   85,
+       84,   83,   82,   81,   79,   78,   77,   76,   75,   74,
+       72,   61,   53,   50,   49,   31,   27,   26,   22,   19,
+       16,   15,   13,   12,   11,   10,    9,    5,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+      678,  678,  678,  678,  678,  678,  678,  678,  678,  678,
+
+      678,  678,  678,  678
+    } ;
+
+static yy_state_type yy_last_accepting_state;
+static char *yy_last_accepting_cpos;
+
+/* The intent behind this definition is that it'll catch
+ * any uses of REJECT which flex missed.
+ */
+#define REJECT reject_used_but_not_detected
+#define yymore() yymore_used_but_not_detected
+#define YY_MORE_ADJ 0
+#define YY_RESTORE_YY_MORE_OFFSET
+char *yytext;
+#define INITIAL 0
+/*	SCCS Id: @(#)lev_lex.c	3.4	2002/03/27	*/
+/*	Copyright (c) 1989 by Jean-Christophe Collet */
+/* NetHack may be freely redistributed.  See license for details. */
+
+#define LEV_LEX_C
+
+#include "hack.h"
+#include "lev_comp.h"
+#include "sp_lev.h"
+
+/* Most of these don't exist in flex, yywrap is macro and
+ * yyunput is properly declared in flex.skel.
+ */
+#if !defined(FLEX_SCANNER) && !defined(FLEXHACK_SCANNER)
+int FDECL(yyback, (int *,int));
+int NDECL(yylook);
+int NDECL(yyinput);
+int NDECL(yywrap);
+int NDECL(yylex);
+	/* Traditional lexes let yyunput() and yyoutput() default to int;
+	 * newer ones may declare them as void since they don't return
+	 * values.  For even more fun, the lex supplied as part of the
+	 * newer unbundled compiler for SunOS 4.x adds the void declarations
+	 * (under __STDC__ or _cplusplus ifdefs -- otherwise they remain
+	 * int) while the bundled lex and the one with the older unbundled
+	 * compiler do not.  To detect this, we need help from outside --
+	 * sys/unix/Makefile.utl.
+	 *
+	 * Digital UNIX is difficult and still has int in spite of all
+	 * other signs.
+	 */
+# if defined(NeXT) || defined(SVR4) || defined(_AIX32)
+#  define VOIDYYPUT
+# endif
+# if !defined(VOIDYYPUT) && defined(POSIX_TYPES)
+#  if !defined(BOS) && !defined(HISX) && !defined(_M_UNIX) && !defined(VMS)
+#   define VOIDYYPUT
+#  endif
+# endif
+# if !defined(VOIDYYPUT) && defined(WEIRD_LEX)
+#  if defined(SUNOS4) && defined(__STDC__) && (WEIRD_LEX > 1)
+#   define VOIDYYPUT
+#  endif
+# endif
+# if defined(VOIDYYPUT) && defined(__osf__)
+#  undef VOIDYYPUT
+# endif
+# ifdef VOIDYYPUT
+void FDECL(yyunput, (int));
+void FDECL(yyoutput, (int));
+# else
+int FDECL(yyunput, (int));
+int FDECL(yyoutput, (int));
+# endif
+#endif	/* !FLEX_SCANNER && !FLEXHACK_SCANNER */
+
+#ifdef FLEX_SCANNER
+#define YY_MALLOC_DECL \
+	      genericptr_t FDECL(malloc, (size_t)); \
+	      genericptr_t FDECL(realloc, (genericptr_t,size_t));
+#endif
+
+void FDECL(init_yyin, (FILE *));
+void FDECL(init_yyout, (FILE *));
+
+/*
+ * This doesn't always get put in lev_comp.h
+ * (esp. when using older versions of bison).
+ */
+extern YYSTYPE yylval;
+
+int line_number = 1, colon_line_number = 1;
+static char map[4096];
+static int map_cnt = 0;
+
+/*
+ *	This is a hack required by Michael Hamel to get things
+ *	working on the Mac.
+ */
+#if defined(MAC_MPW) && !defined(FLEX_SCANNER) && !defined(FLEXHACK_SCANNER)
+#undef input
+#undef unput
+#define unput(c) { yytchar = (c); if (yytchar == 10) yylineno--; *yysptr++ = yytchar; }
+# ifndef YYNEWLINE
+# define YYNEWLINE 10
+# endif
+
+char
+input()		/* Under MPW \n is chr(13)! Compensate for this. */
+{
+	if (yysptr > yysbuf) return(*--yysptr);
+	else {
+		yytchar = getc(yyin);
+		if (yytchar == '\n') {
+		    yylineno++;
+		    return(YYNEWLINE);
+		}
+		if (yytchar == EOF) return(0);
+		else		    return(yytchar);
+	}
+}
+#endif	/* MAC_MPW && !FLEX_SCANNER && !FLEXHACK_SCANNER */
+
+#define MAPC 1
+
+
+/* Macros after this point can all be overridden by user definitions in
+ * section 1.
+ */
+
+#ifndef YY_SKIP_YYWRAP
+#ifdef __cplusplus
+extern "C" int yywrap YY_PROTO(( void ));
+#else
+extern int yywrap YY_PROTO(( void ));
+#endif
+#endif
+
+#ifndef YY_NO_UNPUT
+static void yyunput YY_PROTO(( int c, char *buf_ptr ));
+#endif
+
+#ifndef yytext_ptr
+static void yy_flex_strncpy YY_PROTO(( char *, yyconst char *, int ));
+#endif
+
+#ifdef YY_NEED_STRLEN
+static int yy_flex_strlen YY_PROTO(( yyconst char * ));
+#endif
+
+#ifndef YY_NO_INPUT
+#ifdef __cplusplus
+static int yyinput YY_PROTO(( void ));
+#else
+static int input YY_PROTO(( void ));
+#endif
+#endif
+
+#if YY_STACK_USED
+static int yy_start_stack_ptr = 0;
+static int yy_start_stack_depth = 0;
+static int *yy_start_stack = 0;
+#ifndef YY_NO_PUSH_STATE
+static void yy_push_state YY_PROTO(( int new_state ));
+#endif
+#ifndef YY_NO_POP_STATE
+static void yy_pop_state YY_PROTO(( void ));
+#endif
+#ifndef YY_NO_TOP_STATE
+static int yy_top_state YY_PROTO(( void ));
+#endif
+
+#else
+#define YY_NO_PUSH_STATE 1
+#define YY_NO_POP_STATE 1
+#define YY_NO_TOP_STATE 1
+#endif
+
+#ifdef YY_MALLOC_DECL
+YY_MALLOC_DECL
+#else
+#if __STDC__
+#ifndef __cplusplus
+#include <stdlib.h>
+#endif
+#else
+/* Just try to get by without declaring the routines.  This will fail
+ * miserably on non-ANSI systems for which sizeof(size_t) != sizeof(int)
+ * or sizeof(void*) != sizeof(int).
+ */
+#endif
+#endif
+
+/* Amount of stuff to slurp up with each read. */
+#ifndef YY_READ_BUF_SIZE
+#define YY_READ_BUF_SIZE 8192
+#endif
+
+/* Copy whatever the last rule matched to the standard output. */
+
+#ifndef ECHO
+/* This used to be an fputs(), but since the string might contain NUL's,
+ * we now use fwrite().
+ */
+#define ECHO (void) fwrite( yytext, yyleng, 1, yyout )
+#endif
+
+/* Gets input and stuffs it into "buf".  number of characters read, or YY_NULL,
+ * is returned in "result".
+ */
+#ifndef YY_INPUT
+#define YY_INPUT(buf,result,max_size) \
+	if ( yy_current_buffer->yy_is_interactive ) \
+		{ \
+		int c = '*', n; \
+		for ( n = 0; n < max_size && \
+			     (c = getc( yyin )) != EOF && c != '\n'; ++n ) \
+			buf[n] = (char) c; \
+		if ( c == '\n' ) \
+			buf[n++] = (char) c; \
+		if ( c == EOF && ferror( yyin ) ) \
+			YY_FATAL_ERROR( "input in flex scanner failed" ); \
+		result = n; \
+		} \
+	else if ( ((result = fread( buf, 1, max_size, yyin )) == 0) \
+		  && ferror( yyin ) ) \
+		YY_FATAL_ERROR( "input in flex scanner failed" );
+#endif
+
+/* No semi-colon after return; correct usage is to write "yyterminate();" -
+ * we don't want an extra ';' after the "return" because that will cause
+ * some compilers to complain about unreachable statements.
+ */
+#ifndef yyterminate
+#define yyterminate() return YY_NULL
+#endif
+
+/* Number of entries by which start-condition stack grows. */
+#ifndef YY_START_STACK_INCR
+#define YY_START_STACK_INCR 25
+#endif
+
+/* Report a fatal error. */
+#ifndef YY_FATAL_ERROR
+#define YY_FATAL_ERROR(msg) yy_fatal_error( msg )
+#endif
+
+/* Default declaration of generated scanner - a define so the user can
+ * easily add parameters.
+ */
+#ifndef YY_DECL
+#define YY_DECL int yylex YY_PROTO(( void ))
+#endif
+
+/* Code executed at the beginning of each rule, after yytext and yyleng
+ * have been set up.
+ */
+#ifndef YY_USER_ACTION
+#define YY_USER_ACTION
+#endif
+
+/* Code executed at the end of each rule. */
+#ifndef YY_BREAK
+#define YY_BREAK break;
+#endif
+
+#define YY_RULE_SETUP \
+	if ( yyleng > 0 ) \
+		yy_current_buffer->yy_at_bol = \
+				(yytext[yyleng - 1] == '\n'); \
+	YY_USER_ACTION
+
+YY_DECL
+	{
+	register yy_state_type yy_current_state;
+	register char *yy_cp = NULL, *yy_bp = NULL;
+	register int yy_act;
+
+
+
+	if ( yy_init )
+		{
+		yy_init = 0;
+
+#ifdef YY_USER_INIT
+		YY_USER_INIT;
+#endif
+
+		if ( ! yy_start )
+			yy_start = 1;	/* first start state */
+
+		if ( ! yyin )
+			yyin = stdin;
+
+		if ( ! yyout )
+			yyout = stdout;
+
+		if ( ! yy_current_buffer )
+			yy_current_buffer =
+				yy_create_buffer( yyin, YY_BUF_SIZE );
+
+		yy_load_buffer_state();
+		}
+
+	while ( 1 )		/* loops until end-of-file is reached */
+		{
+		yy_cp = yy_c_buf_p;
+
+		/* Support of yytext. */
+		*yy_cp = yy_hold_char;
+
+		/* yy_bp points to the position in yy_ch_buf of the start of
+		 * the current run.
+		 */
+		yy_bp = yy_cp;
+
+		yy_current_state = yy_start;
+		yy_current_state += YY_AT_BOL();
+yy_match:
+		do
+			{
+			register YY_CHAR yy_c = yy_ec[YY_SC_TO_UI(*yy_cp)];
+			if ( yy_accept[yy_current_state] )
+				{
+				yy_last_accepting_state = yy_current_state;
+				yy_last_accepting_cpos = yy_cp;
+				}
+			while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
+				{
+				yy_current_state = (int) yy_def[yy_current_state];
+				if ( yy_current_state >= 679 )
+					yy_c = yy_meta[(unsigned int) yy_c];
+				}
+			yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
+			++yy_cp;
+			}
+		while ( yy_base[yy_current_state] != 839 );
+
+yy_find_action:
+		yy_act = yy_accept[yy_current_state];
+		if ( yy_act == 0 )
+			{ /* have to back up */
+			yy_cp = yy_last_accepting_cpos;
+			yy_current_state = yy_last_accepting_state;
+			yy_act = yy_accept[yy_current_state];
+			}
+
+		YY_DO_BEFORE_ACTION;
+
+
+do_action:	/* This label is used only to access EOF actions. */
+
+
+		switch ( yy_act )
+	{ /* beginning of action switch */
+			case 0: /* must back up */
+			/* undo the effects of YY_DO_BEFORE_ACTION */
+			*yy_cp = yy_hold_char;
+			yy_cp = yy_last_accepting_cpos;
+			yy_current_state = yy_last_accepting_state;
+			goto yy_find_action;
+
+case 1:
+YY_RULE_SETUP
+{
+		  BEGIN(INITIAL);
+		  yylval.map = (char *) alloc(map_cnt + 1);
+		  (void) strncpy(yylval.map, map, map_cnt);
+		  yylval.map[map_cnt] = 0;
+		  map_cnt = 0;
+		  return MAP_ID;
+		}
+	YY_BREAK
+case 2:
+YY_RULE_SETUP
+{
+		  int len = yyleng;
+		  /* convert \r\n to \n */
+		  if (len >= 2 && yytext[len - 2] == '\r') len -= 1;
+		  line_number++;
+		  (void) strncpy(map + map_cnt, yytext, len);
+		  map_cnt += len;
+		  map[map_cnt - 1] = '\n';
+		  map[map_cnt] = '\0';
+		}
+	YY_BREAK
+case 3:
+YY_RULE_SETUP
+{ line_number++; }
+	YY_BREAK
+case 4:
+YY_RULE_SETUP
+{ colon_line_number = line_number; return ':'; }
+	YY_BREAK
+case 5:
+YY_RULE_SETUP
+return MESSAGE_ID;
+	YY_BREAK
+case 6:
+YY_RULE_SETUP
+return MAZE_ID;
+	YY_BREAK
+case 7:
+YY_RULE_SETUP
+return NOMAP_ID;
+	YY_BREAK
+case 8:
+YY_RULE_SETUP
+return LEVEL_ID;
+	YY_BREAK
+case 9:
+YY_RULE_SETUP
+return LEV_INIT_ID;
+	YY_BREAK
+case 10:
+YY_RULE_SETUP
+return FLAGS_ID;
+	YY_BREAK
+case 11:
+YY_RULE_SETUP
+return GEOMETRY_ID;
+	YY_BREAK
+case 12:
+YY_RULE_SETUP
+{ BEGIN(MAPC); line_number++; }
+	YY_BREAK
+case 13:
+YY_RULE_SETUP
+return OBJECT_ID;
+	YY_BREAK
+case 14:
+YY_RULE_SETUP
+return OBJFLAGS_ID;
+	YY_BREAK
+case 15:
+YY_RULE_SETUP
+return COBJECT_ID;
+	YY_BREAK
+case 16:
+YY_RULE_SETUP
+return MONSTER_ID;
+	YY_BREAK
+case 17:
+YY_RULE_SETUP
+return TRAP_ID;
+	YY_BREAK
+case 18:
+YY_RULE_SETUP
+return DOOR_ID;
+	YY_BREAK
+case 19:
+YY_RULE_SETUP
+return DRAWBRIDGE_ID;
+	YY_BREAK
+case 20:
+YY_RULE_SETUP
+return MAZEWALK_ID;
+	YY_BREAK
+case 21:
+YY_RULE_SETUP
+return WALLIFY_ID;
+	YY_BREAK
+case 22:
+YY_RULE_SETUP
+return REGION_ID;
+	YY_BREAK
+case 23:
+YY_RULE_SETUP
+return RANDOM_OBJECTS_ID;
+	YY_BREAK
+case 24:
+YY_RULE_SETUP
+return RANDOM_MONSTERS_ID;
+	YY_BREAK
+case 25:
+YY_RULE_SETUP
+return RANDOM_PLACES_ID;
+	YY_BREAK
+case 26:
+YY_RULE_SETUP
+return ALTAR_ID;
+	YY_BREAK
+case 27:
+YY_RULE_SETUP
+return LADDER_ID;
+	YY_BREAK
+case 28:
+YY_RULE_SETUP
+return STAIR_ID;
+	YY_BREAK
+case 29:
+YY_RULE_SETUP
+return PORTAL_ID;
+	YY_BREAK
+case 30:
+YY_RULE_SETUP
+return TELEPRT_ID;
+	YY_BREAK
+case 31:
+YY_RULE_SETUP
+return RANDOMREGION_ID;
+	YY_BREAK
+case 32:
+YY_RULE_SETUP
+return BRANCH_ID;
+	YY_BREAK
+case 33:
+YY_RULE_SETUP
+return FOUNTAIN_ID;
+	YY_BREAK
+case 34:
+YY_RULE_SETUP
+return SINK_ID;
+	YY_BREAK
+case 35:
+YY_RULE_SETUP
+return POOL_ID;
+	YY_BREAK
+case 36:
+YY_RULE_SETUP
+return NON_DIGGABLE_ID;
+	YY_BREAK
+case 37:
+YY_RULE_SETUP
+return NON_PASSWALL_ID;
+	YY_BREAK
+case 38:
+YY_RULE_SETUP
+return ROOM_ID;
+	YY_BREAK
+case 39:
+YY_RULE_SETUP
+return SUBROOM_ID;
+	YY_BREAK
+case 40:
+YY_RULE_SETUP
+return RAND_CORRIDOR_ID;
+	YY_BREAK
+case 41:
+YY_RULE_SETUP
+return CORRIDOR_ID;
+	YY_BREAK
+case 42:
+YY_RULE_SETUP
+return GOLD_ID;
+	YY_BREAK
+case 43:
+YY_RULE_SETUP
+return ENGRAVING_ID;
+	YY_BREAK
+case 44:
+YY_RULE_SETUP
+return NAME_ID;
+	YY_BREAK
+case 45:
+YY_RULE_SETUP
+return CHANCE_ID;
+	YY_BREAK
+case 46:
+YY_RULE_SETUP
+return LEV;
+	YY_BREAK
+case 47:
+YY_RULE_SETUP
+{ yylval.i=D_ISOPEN; return DOOR_STATE; }
+	YY_BREAK
+case 48:
+YY_RULE_SETUP
+{ yylval.i=D_CLOSED; return DOOR_STATE; }
+	YY_BREAK
+case 49:
+YY_RULE_SETUP
+{ yylval.i=D_LOCKED; return DOOR_STATE; }
+	YY_BREAK
+case 50:
+YY_RULE_SETUP
+{ yylval.i=D_NODOOR; return DOOR_STATE; }
+	YY_BREAK
+case 51:
+YY_RULE_SETUP
+{ yylval.i=D_BROKEN; return DOOR_STATE; }
+	YY_BREAK
+case 52:
+YY_RULE_SETUP
+{ yylval.i=W_NORTH; return DIRECTION; }
+	YY_BREAK
+case 53:
+YY_RULE_SETUP
+{ yylval.i=W_EAST; return DIRECTION; }
+	YY_BREAK
+case 54:
+YY_RULE_SETUP
+{ yylval.i=W_SOUTH; return DIRECTION; }
+	YY_BREAK
+case 55:
+YY_RULE_SETUP
+{ yylval.i=W_WEST; return DIRECTION; }
+	YY_BREAK
+case 56:
+YY_RULE_SETUP
+{ yylval.i = -1; return RANDOM_TYPE; }
+	YY_BREAK
+case 57:
+YY_RULE_SETUP
+{ yylval.i = -2; return NONE; }
+	YY_BREAK
+case 58:
+YY_RULE_SETUP
+return O_REGISTER;
+	YY_BREAK
+case 59:
+YY_RULE_SETUP
+return M_REGISTER;
+	YY_BREAK
+case 60:
+YY_RULE_SETUP
+return P_REGISTER;
+	YY_BREAK
+case 61:
+YY_RULE_SETUP
+return A_REGISTER;
+	YY_BREAK
+case 62:
+YY_RULE_SETUP
+return R_REGISTER;
+	YY_BREAK
+case 63:
+YY_RULE_SETUP
+{ yylval.i=1; return LEFT_OR_RIGHT; }
+	YY_BREAK
+case 64:
+YY_RULE_SETUP
+{ yylval.i=2; return LEFT_OR_RIGHT; }
+	YY_BREAK
+case 65:
+YY_RULE_SETUP
+{ yylval.i=3; return CENTER; }
+	YY_BREAK
+case 66:
+YY_RULE_SETUP
+{ yylval.i=4; return LEFT_OR_RIGHT; }
+	YY_BREAK
+case 67:
+YY_RULE_SETUP
+{ yylval.i=5; return LEFT_OR_RIGHT; }
+	YY_BREAK
+case 68:
+YY_RULE_SETUP
+{ yylval.i=1; return TOP_OR_BOT; }
+	YY_BREAK
+case 69:
+YY_RULE_SETUP
+{ yylval.i=5; return TOP_OR_BOT; }
+	YY_BREAK
+case 70:
+YY_RULE_SETUP
+{ yylval.i=1; return LIGHT_STATE; }
+	YY_BREAK
+case 71:
+YY_RULE_SETUP
+{ yylval.i=0; return LIGHT_STATE; }
+	YY_BREAK
+case 72:
+YY_RULE_SETUP
+{ yylval.i=0; return FILLING; }
+	YY_BREAK
+case 73:
+YY_RULE_SETUP
+{ yylval.i=1; return FILLING; }
+	YY_BREAK
+case 74:
+YY_RULE_SETUP
+{ yylval.i= AM_NONE; return ALIGNMENT; }
+	YY_BREAK
+case 75:
+YY_RULE_SETUP
+{ yylval.i= AM_LAWFUL; return ALIGNMENT; }
+	YY_BREAK
+case 76:
+YY_RULE_SETUP
+{ yylval.i= AM_NEUTRAL; return ALIGNMENT; }
+	YY_BREAK
+case 77:
+YY_RULE_SETUP
+{ yylval.i= AM_CHAOTIC; return ALIGNMENT; }
+	YY_BREAK
+case 78:
+YY_RULE_SETUP
+{ yylval.i= AM_SPLEV_CO; return ALIGNMENT; }
+	YY_BREAK
+case 79:
+YY_RULE_SETUP
+{ yylval.i= AM_SPLEV_NONCO; return ALIGNMENT; }
+	YY_BREAK
+case 80:
+YY_RULE_SETUP
+{ yylval.i=1; return MON_ATTITUDE; }
+	YY_BREAK
+case 81:
+YY_RULE_SETUP
+{ yylval.i=0; return MON_ATTITUDE; }
+	YY_BREAK
+case 82:
+YY_RULE_SETUP
+{ yylval.i=1; return MON_ALERTNESS; }
+	YY_BREAK
+case 83:
+YY_RULE_SETUP
+{ yylval.i=0; return MON_ALERTNESS; }
+	YY_BREAK
+case 84:
+YY_RULE_SETUP
+{ yylval.i= M_AP_FURNITURE; return MON_APPEARANCE; }
+	YY_BREAK
+case 85:
+YY_RULE_SETUP
+{ yylval.i= M_AP_MONSTER;   return MON_APPEARANCE; }
+	YY_BREAK
+case 86:
+YY_RULE_SETUP
+{ yylval.i= M_AP_OBJECT;    return MON_APPEARANCE; }
+	YY_BREAK
+case 87:
+YY_RULE_SETUP
+{ yylval.i=2; return ALTAR_TYPE; }
+	YY_BREAK
+case 88:
+YY_RULE_SETUP
+{ yylval.i=1; return ALTAR_TYPE; }
+	YY_BREAK
+case 89:
+YY_RULE_SETUP
+{ yylval.i=0; return ALTAR_TYPE; }
+	YY_BREAK
+case 90:
+YY_RULE_SETUP
+{ yylval.i=1; return UP_OR_DOWN; }
+	YY_BREAK
+case 91:
+YY_RULE_SETUP
+{ yylval.i=0; return UP_OR_DOWN; }
+	YY_BREAK
+case 92:
+YY_RULE_SETUP
+{ yylval.i=0; return BOOLEAN; }
+	YY_BREAK
+case 93:
+YY_RULE_SETUP
+{ yylval.i=1; return BOOLEAN; }
+	YY_BREAK
+case 94:
+YY_RULE_SETUP
+{ yylval.i=DUST; return ENGRAVING_TYPE; }
+	YY_BREAK
+case 95:
+YY_RULE_SETUP
+{ yylval.i=ENGRAVE; return ENGRAVING_TYPE; }
+	YY_BREAK
+case 96:
+YY_RULE_SETUP
+{ yylval.i=BURN; return ENGRAVING_TYPE; }
+	YY_BREAK
+case 97:
+YY_RULE_SETUP
+{ yylval.i=MARK; return ENGRAVING_TYPE; }
+	YY_BREAK
+case 98:
+YY_RULE_SETUP
+{ yylval.i=ENGR_BLOOD; return ENGRAVING_TYPE; }
+	YY_BREAK
+case 99:
+YY_RULE_SETUP
+{ yylval.i=1; return CURSE_TYPE; }
+	YY_BREAK
+case 100:
+YY_RULE_SETUP
+{ yylval.i=2; return CURSE_TYPE; }
+	YY_BREAK
+case 101:
+YY_RULE_SETUP
+{ yylval.i=3; return CURSE_TYPE; }
+	YY_BREAK
+case 102:
+YY_RULE_SETUP
+{ return CONTAINED; }
+	YY_BREAK
+case 103:
+YY_RULE_SETUP
+{ yylval.i=OBJF_LIT; return OBJFLAG_TYPE; }
+	YY_BREAK
+case 104:
+YY_RULE_SETUP
+{ yylval.i=OBJF_BURIED; return OBJFLAG_TYPE; }
+	YY_BREAK
+case 105:
+YY_RULE_SETUP
+{ yylval.i=NOTELEPORT; return FLAG_TYPE; }
+	YY_BREAK
+case 106:
+YY_RULE_SETUP
+{ yylval.i=HARDFLOOR; return FLAG_TYPE; }
+	YY_BREAK
+case 107:
+YY_RULE_SETUP
+{ yylval.i=NOMMAP; return FLAG_TYPE; }
+	YY_BREAK
+case 108:
+YY_RULE_SETUP
+{ yylval.i=ARBOREAL; return FLAG_TYPE; }	/* KMH */
+	YY_BREAK
+case 109:
+YY_RULE_SETUP
+{ yylval.i=SHORTSIGHTED; return FLAG_TYPE; }
+	YY_BREAK
+case 110:
+YY_RULE_SETUP
+{ yylval.i=SPOOKY; return FLAG_TYPE; }
+	YY_BREAK
+case 111:
+YY_RULE_SETUP
+{ yylval.i=LETHE; return FLAG_TYPE; }
+	YY_BREAK
+case 112:
+YY_RULE_SETUP
+{ yylval.i = atoi(yytext + 1); return PERCENT; }
+	YY_BREAK
+case 113:
+YY_RULE_SETUP
+{ yylval.i=atoi(yytext); return INTEGER; }
+	YY_BREAK
+case 114:
+YY_RULE_SETUP
+{ yytext[yyleng-1] = 0; /* Discard the trailing \" */
+		  yylval.map = (char *) alloc(strlen(yytext+1)+1);
+		  Strcpy(yylval.map, yytext+1); /* Discard the first \" */
+		  return STRING; }
+	YY_BREAK
+case 115:
+YY_RULE_SETUP
+{ line_number++; }
+	YY_BREAK
+case 116:
+YY_RULE_SETUP
+;
+	YY_BREAK
+case 117:
+YY_RULE_SETUP
+{ yylval.i = yytext[2]; return CHAR; }
+	YY_BREAK
+case 118:
+YY_RULE_SETUP
+{ yylval.i = yytext[1]; return CHAR; }
+	YY_BREAK
+case 119:
+YY_RULE_SETUP
+{ return yytext[0]; }
+	YY_BREAK
+case 120:
+YY_RULE_SETUP
+ECHO;
+	YY_BREAK
+case YY_STATE_EOF(INITIAL):
+case YY_STATE_EOF(MAPC):
+	yyterminate();
+
+	case YY_END_OF_BUFFER:
+		{
+		/* Amount of text matched not including the EOB char. */
+		int yy_amount_of_matched_text = (int) (yy_cp - yytext_ptr) - 1;
+
+		/* Undo the effects of YY_DO_BEFORE_ACTION. */
+		*yy_cp = yy_hold_char;
+		YY_RESTORE_YY_MORE_OFFSET
+
+		if ( yy_current_buffer->yy_buffer_status == YY_BUFFER_NEW )
+			{
+			/* We're scanning a new file or input source.  It's
+			 * possible that this happened because the user
+			 * just pointed yyin at a new source and called
+			 * yylex().  If so, then we have to assure
+			 * consistency between yy_current_buffer and our
+			 * globals.  Here is the right place to do so, because
+			 * this is the first action (other than possibly a
+			 * back-up) that will match for the new input source.
+			 */
+			yy_n_chars = yy_current_buffer->yy_n_chars;
+			yy_current_buffer->yy_input_file = yyin;
+			yy_current_buffer->yy_buffer_status = YY_BUFFER_NORMAL;
+			}
+
+		/* Note that here we test for yy_c_buf_p "<=" to the position
+		 * of the first EOB in the buffer, since yy_c_buf_p will
+		 * already have been incremented past the NUL character
+		 * (since all states make transitions on EOB to the
+		 * end-of-buffer state).  Contrast this with the test
+		 * in input().
+		 */
+		if ( yy_c_buf_p <= &yy_current_buffer->yy_ch_buf[yy_n_chars] )
+			{ /* This was really a NUL. */
+			yy_state_type yy_next_state;
+
+			yy_c_buf_p = yytext_ptr + yy_amount_of_matched_text;
+
+			yy_current_state = yy_get_previous_state();
+
+			/* Okay, we're now positioned to make the NUL
+			 * transition.  We couldn't have
+			 * yy_get_previous_state() go ahead and do it
+			 * for us because it doesn't know how to deal
+			 * with the possibility of jamming (and we don't
+			 * want to build jamming into it because then it
+			 * will run more slowly).
+			 */
+
+			yy_next_state = yy_try_NUL_trans( yy_current_state );
+
+			yy_bp = yytext_ptr + YY_MORE_ADJ;
+
+			if ( yy_next_state )
+				{
+				/* Consume the NUL. */
+				yy_cp = ++yy_c_buf_p;
+				yy_current_state = yy_next_state;
+				goto yy_match;
+				}
+
+			else
+				{
+				yy_cp = yy_c_buf_p;
+				goto yy_find_action;
+				}
+			}
+
+		else switch ( yy_get_next_buffer() )
+			{
+			case EOB_ACT_END_OF_FILE:
+				{
+				yy_did_buffer_switch_on_eof = 0;
+
+				if ( yywrap() )
+					{
+					/* Note: because we've taken care in
+					 * yy_get_next_buffer() to have set up
+					 * yytext, we can now set up
+					 * yy_c_buf_p so that if some total
+					 * hoser (like flex itself) wants to
+					 * call the scanner after we return the
+					 * YY_NULL, it'll still work - another
+					 * YY_NULL will get returned.
+					 */
+					yy_c_buf_p = yytext_ptr + YY_MORE_ADJ;
+
+					yy_act = YY_STATE_EOF(YY_START);
+					goto do_action;
+					}
+
+				else
+					{
+					if ( ! yy_did_buffer_switch_on_eof )
+						YY_NEW_FILE;
+					}
+				break;
+				}
+
+			case EOB_ACT_CONTINUE_SCAN:
+				yy_c_buf_p =
+					yytext_ptr + yy_amount_of_matched_text;
+
+				yy_current_state = yy_get_previous_state();
+
+				yy_cp = yy_c_buf_p;
+				yy_bp = yytext_ptr + YY_MORE_ADJ;
+				goto yy_match;
+
+			case EOB_ACT_LAST_MATCH:
+				yy_c_buf_p =
+				&yy_current_buffer->yy_ch_buf[yy_n_chars];
+
+				yy_current_state = yy_get_previous_state();
+
+				yy_cp = yy_c_buf_p;
+				yy_bp = yytext_ptr + YY_MORE_ADJ;
+				goto yy_find_action;
+			}
+		break;
+		}
+
+	default:
+		YY_FATAL_ERROR(
+			"fatal flex scanner internal error--no action found" );
+	} /* end of action switch */
+		} /* end of scanning one token */
+	} /* end of yylex */
+
+
+/* yy_get_next_buffer - try to read in a new buffer
+ *
+ * Returns a code representing an action:
+ *	EOB_ACT_LAST_MATCH -
+ *	EOB_ACT_CONTINUE_SCAN - continue scanning from current position
+ *	EOB_ACT_END_OF_FILE - end of file
+ */
+
+static int yy_get_next_buffer()
+	{
+	register char *dest = yy_current_buffer->yy_ch_buf;
+	register char *source = yytext_ptr;
+	register int number_to_move, i;
+	int ret_val;
+
+	if ( yy_c_buf_p > &yy_current_buffer->yy_ch_buf[yy_n_chars + 1] )
+		YY_FATAL_ERROR(
+		"fatal flex scanner internal error--end of buffer missed" );
+
+	if ( yy_current_buffer->yy_fill_buffer == 0 )
+		{ /* Don't try to fill the buffer, so this is an EOF. */
+		if ( yy_c_buf_p - yytext_ptr - YY_MORE_ADJ == 1 )
+			{
+			/* We matched a single character, the EOB, so
+			 * treat this as a final EOF.
+			 */
+			return EOB_ACT_END_OF_FILE;
+			}
+
+		else
+			{
+			/* We matched some text prior to the EOB, first
+			 * process it.
+			 */
+			return EOB_ACT_LAST_MATCH;
+			}
+		}
+
+	/* Try to read more data. */
+
+	/* First move last chars to start of buffer. */
+	number_to_move = (int) (yy_c_buf_p - yytext_ptr) - 1;
+
+	for ( i = 0; i < number_to_move; ++i )
+		*(dest++) = *(source++);
+
+	if ( yy_current_buffer->yy_buffer_status == YY_BUFFER_EOF_PENDING )
+		/* don't do the read, it's not guaranteed to return an EOF,
+		 * just force an EOF
+		 */
+		yy_current_buffer->yy_n_chars = yy_n_chars = 0;
+
+	else
+		{
+		int num_to_read =
+			yy_current_buffer->yy_buf_size - number_to_move - 1;
+
+		while ( num_to_read <= 0 )
+			{ /* Not enough room in the buffer - grow it. */
+#ifdef YY_USES_REJECT
+			YY_FATAL_ERROR(
+"input buffer overflow, can't enlarge buffer because scanner uses REJECT" );
+#else
+
+			/* just a shorter name for the current buffer */
+			YY_BUFFER_STATE b = yy_current_buffer;
+
+			int yy_c_buf_p_offset =
+				(int) (yy_c_buf_p - b->yy_ch_buf);
+
+			if ( b->yy_is_our_buffer )
+				{
+				int new_size = b->yy_buf_size * 2;
+
+				if ( new_size <= 0 )
+					b->yy_buf_size += b->yy_buf_size / 8;
+				else
+					b->yy_buf_size *= 2;
+
+				b->yy_ch_buf = (char *)
+					/* Include room in for 2 EOB chars. */
+					yy_flex_realloc( (void *) b->yy_ch_buf,
+							 b->yy_buf_size + 2 );
+				}
+			else
+				/* Can't grow it, we don't own it. */
+				b->yy_ch_buf = 0;
+
+			if ( ! b->yy_ch_buf )
+				YY_FATAL_ERROR(
+				"fatal error - scanner input buffer overflow" );
+
+			yy_c_buf_p = &b->yy_ch_buf[yy_c_buf_p_offset];
+
+			num_to_read = yy_current_buffer->yy_buf_size -
+						number_to_move - 1;
+#endif
+			}
+
+		if ( num_to_read > YY_READ_BUF_SIZE )
+			num_to_read = YY_READ_BUF_SIZE;
+
+		/* Read in more data. */
+		YY_INPUT( (&yy_current_buffer->yy_ch_buf[number_to_move]),
+			yy_n_chars, num_to_read );
+
+		yy_current_buffer->yy_n_chars = yy_n_chars;
+		}
+
+	if ( yy_n_chars == 0 )
+		{
+		if ( number_to_move == YY_MORE_ADJ )
+			{
+			ret_val = EOB_ACT_END_OF_FILE;
+			yyrestart( yyin );
+			}
+
+		else
+			{
+			ret_val = EOB_ACT_LAST_MATCH;
+			yy_current_buffer->yy_buffer_status =
+				YY_BUFFER_EOF_PENDING;
+			}
+		}
+
+	else
+		ret_val = EOB_ACT_CONTINUE_SCAN;
+
+	yy_n_chars += number_to_move;
+	yy_current_buffer->yy_ch_buf[yy_n_chars] = YY_END_OF_BUFFER_CHAR;
+	yy_current_buffer->yy_ch_buf[yy_n_chars + 1] = YY_END_OF_BUFFER_CHAR;
+
+	yytext_ptr = &yy_current_buffer->yy_ch_buf[0];
+
+	return ret_val;
+	}
+
+
+/* yy_get_previous_state - get the state just before the EOB char was reached */
+
+static yy_state_type yy_get_previous_state()
+	{
+	register yy_state_type yy_current_state;
+	register char *yy_cp;
+
+	yy_current_state = yy_start;
+	yy_current_state += YY_AT_BOL();
+
+	for ( yy_cp = yytext_ptr + YY_MORE_ADJ; yy_cp < yy_c_buf_p; ++yy_cp )
+		{
+		register YY_CHAR yy_c = (*yy_cp ? yy_ec[YY_SC_TO_UI(*yy_cp)] : 1);
+		if ( yy_accept[yy_current_state] )
+			{
+			yy_last_accepting_state = yy_current_state;
+			yy_last_accepting_cpos = yy_cp;
+			}
+		while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
+			{
+			yy_current_state = (int) yy_def[yy_current_state];
+			if ( yy_current_state >= 679 )
+				yy_c = yy_meta[(unsigned int) yy_c];
+			}
+		yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
+		}
+
+	return yy_current_state;
+	}
+
+
+/* yy_try_NUL_trans - try to make a transition on the NUL character
+ *
+ * synopsis
+ *	next_state = yy_try_NUL_trans( current_state );
+ */
+
+#ifdef YY_USE_PROTOS
+static yy_state_type yy_try_NUL_trans( yy_state_type yy_current_state )
+#else
+static yy_state_type yy_try_NUL_trans( yy_current_state )
+yy_state_type yy_current_state;
+#endif
+	{
+	register int yy_is_jam;
+	register char *yy_cp = yy_c_buf_p;
+
+	register YY_CHAR yy_c = 1;
+	if ( yy_accept[yy_current_state] )
+		{
+		yy_last_accepting_state = yy_current_state;
+		yy_last_accepting_cpos = yy_cp;
+		}
+	while ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )
+		{
+		yy_current_state = (int) yy_def[yy_current_state];
+		if ( yy_current_state >= 679 )
+			yy_c = yy_meta[(unsigned int) yy_c];
+		}
+	yy_current_state = yy_nxt[yy_base[yy_current_state] + (unsigned int) yy_c];
+	yy_is_jam = (yy_current_state == 678);
+
+	return yy_is_jam ? 0 : yy_current_state;
+	}
+
+
+#ifndef YY_NO_UNPUT
+#ifdef YY_USE_PROTOS
+static void yyunput( int c, register char *yy_bp )
+#else
+static void yyunput( c, yy_bp )
+int c;
+register char *yy_bp;
+#endif
+	{
+	register char *yy_cp = yy_c_buf_p;
+
+	/* undo effects of setting up yytext */
+	*yy_cp = yy_hold_char;
+
+	if ( yy_cp < yy_current_buffer->yy_ch_buf + 2 )
+		{ /* need to shift things up to make room */
+		/* +2 for EOB chars. */
+		register int number_to_move = yy_n_chars + 2;
+		register char *dest = &yy_current_buffer->yy_ch_buf[
+					yy_current_buffer->yy_buf_size + 2];
+		register char *source =
+				&yy_current_buffer->yy_ch_buf[number_to_move];
+
+		while ( source > yy_current_buffer->yy_ch_buf )
+			*--dest = *--source;
+
+		yy_cp += (int) (dest - source);
+		yy_bp += (int) (dest - source);
+		yy_current_buffer->yy_n_chars =
+			yy_n_chars = yy_current_buffer->yy_buf_size;
+
+		if ( yy_cp < yy_current_buffer->yy_ch_buf + 2 )
+			YY_FATAL_ERROR( "flex scanner push-back overflow" );
+		}
+
+	*--yy_cp = (char) c;
+
+
+	yytext_ptr = yy_bp;
+	yy_hold_char = *yy_cp;
+	yy_c_buf_p = yy_cp;
+	}
+#endif	/* ifndef YY_NO_UNPUT */
+
+
+#ifdef __cplusplus
+static int yyinput()
+#else
+static int input()
+#endif
+	{
+	int c;
+
+	*yy_c_buf_p = yy_hold_char;
+
+	if ( *yy_c_buf_p == YY_END_OF_BUFFER_CHAR )
+		{
+		/* yy_c_buf_p now points to the character we want to return.
+		 * If this occurs *before* the EOB characters, then it's a
+		 * valid NUL; if not, then we've hit the end of the buffer.
+		 */
+		if ( yy_c_buf_p < &yy_current_buffer->yy_ch_buf[yy_n_chars] )
+			/* This was really a NUL. */
+			*yy_c_buf_p = '\0';
+
+		else
+			{ /* need more input */
+			int offset = yy_c_buf_p - yytext_ptr;
+			++yy_c_buf_p;
+
+			switch ( yy_get_next_buffer() )
+				{
+				case EOB_ACT_LAST_MATCH:
+					/* This happens because yy_g_n_b()
+					 * sees that we've accumulated a
+					 * token and flags that we need to
+					 * try matching the token before
+					 * proceeding.  But for input(),
+					 * there's no matching to consider.
+					 * So convert the EOB_ACT_LAST_MATCH
+					 * to EOB_ACT_END_OF_FILE.
+					 */
+
+					/* Reset buffer status. */
+					yyrestart( yyin );
+
+					/* fall through */
+
+				case EOB_ACT_END_OF_FILE:
+					{
+					if ( yywrap() )
+						return EOF;
+
+					if ( ! yy_did_buffer_switch_on_eof )
+						YY_NEW_FILE;
+#ifdef __cplusplus
+					return yyinput();
+#else
+					return input();
+#endif
+					}
+
+				case EOB_ACT_CONTINUE_SCAN:
+					yy_c_buf_p = yytext_ptr + offset;
+					break;
+				}
+			}
+		}
+
+	c = *(unsigned char *) yy_c_buf_p;	/* cast for 8-bit char's */
+	*yy_c_buf_p = '\0';	/* preserve yytext */
+	yy_hold_char = *++yy_c_buf_p;
+
+	yy_current_buffer->yy_at_bol = (c == '\n');
+
+	return c;
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yyrestart( FILE *input_file )
+#else
+void yyrestart( input_file )
+FILE *input_file;
+#endif
+	{
+	if ( ! yy_current_buffer )
+		yy_current_buffer = yy_create_buffer( yyin, YY_BUF_SIZE );
+
+	yy_init_buffer( yy_current_buffer, input_file );
+	yy_load_buffer_state();
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yy_switch_to_buffer( YY_BUFFER_STATE new_buffer )
+#else
+void yy_switch_to_buffer( new_buffer )
+YY_BUFFER_STATE new_buffer;
+#endif
+	{
+	if ( yy_current_buffer == new_buffer )
+		return;
+
+	if ( yy_current_buffer )
+		{
+		/* Flush out information for old buffer. */
+		*yy_c_buf_p = yy_hold_char;
+		yy_current_buffer->yy_buf_pos = yy_c_buf_p;
+		yy_current_buffer->yy_n_chars = yy_n_chars;
+		}
+
+	yy_current_buffer = new_buffer;
+	yy_load_buffer_state();
+
+	/* We don't actually know whether we did this switch during
+	 * EOF (yywrap()) processing, but the only time this flag
+	 * is looked at is after yywrap() is called, so it's safe
+	 * to go ahead and always set it.
+	 */
+	yy_did_buffer_switch_on_eof = 1;
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yy_load_buffer_state( void )
+#else
+void yy_load_buffer_state()
+#endif
+	{
+	yy_n_chars = yy_current_buffer->yy_n_chars;
+	yytext_ptr = yy_c_buf_p = yy_current_buffer->yy_buf_pos;
+	yyin = yy_current_buffer->yy_input_file;
+	yy_hold_char = *yy_c_buf_p;
+	}
+
+
+#ifdef YY_USE_PROTOS
+YY_BUFFER_STATE yy_create_buffer( FILE *file, int size )
+#else
+YY_BUFFER_STATE yy_create_buffer( file, size )
+FILE *file;
+int size;
+#endif
+	{
+	YY_BUFFER_STATE b;
+
+	b = (YY_BUFFER_STATE) yy_flex_alloc( sizeof( struct yy_buffer_state ) );
+	if ( ! b )
+		YY_FATAL_ERROR( "out of dynamic memory in yy_create_buffer()" );
+
+	b->yy_buf_size = size;
+
+	/* yy_ch_buf has to be 2 characters longer than the size given because
+	 * we need to put in 2 end-of-buffer characters.
+	 */
+	b->yy_ch_buf = (char *) yy_flex_alloc( b->yy_buf_size + 2 );
+	if ( ! b->yy_ch_buf )
+		YY_FATAL_ERROR( "out of dynamic memory in yy_create_buffer()" );
+
+	b->yy_is_our_buffer = 1;
+
+	yy_init_buffer( b, file );
+
+	return b;
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yy_delete_buffer( YY_BUFFER_STATE b )
+#else
+void yy_delete_buffer( b )
+YY_BUFFER_STATE b;
+#endif
+	{
+	if ( ! b )
+		return;
+
+	if ( b == yy_current_buffer )
+		yy_current_buffer = (YY_BUFFER_STATE) 0;
+
+	if ( b->yy_is_our_buffer )
+		yy_flex_free( (void *) b->yy_ch_buf );
+
+	yy_flex_free( (void *) b );
+	}
+
+
+
+#ifdef YY_USE_PROTOS
+void yy_init_buffer( YY_BUFFER_STATE b, FILE *file )
+#else
+void yy_init_buffer( b, file )
+YY_BUFFER_STATE b;
+FILE *file;
+#endif
+
+
+	{
+	yy_flush_buffer( b );
+
+	b->yy_input_file = file;
+	b->yy_fill_buffer = 1;
+
+#if YY_ALWAYS_INTERACTIVE
+	b->yy_is_interactive = 1;
+#else
+#if YY_NEVER_INTERACTIVE
+	b->yy_is_interactive = 0;
+#else
+	b->yy_is_interactive = file ? (isatty( fileno(file) ) > 0) : 0;
+#endif
+#endif
+	}
+
+
+#ifdef YY_USE_PROTOS
+void yy_flush_buffer( YY_BUFFER_STATE b )
+#else
+void yy_flush_buffer( b )
+YY_BUFFER_STATE b;
+#endif
+
+	{
+	if ( ! b )
+		return;
+
+	b->yy_n_chars = 0;
+
+	/* We always need two end-of-buffer characters.  The first causes
+	 * a transition to the end-of-buffer state.  The second causes
+	 * a jam in that state.
+	 */
+	b->yy_ch_buf[0] = YY_END_OF_BUFFER_CHAR;
+	b->yy_ch_buf[1] = YY_END_OF_BUFFER_CHAR;
+
+	b->yy_buf_pos = &b->yy_ch_buf[0];
+
+	b->yy_at_bol = 1;
+	b->yy_buffer_status = YY_BUFFER_NEW;
+
+	if ( b == yy_current_buffer )
+		yy_load_buffer_state();
+	}
+
+
+#ifndef YY_NO_SCAN_BUFFER
+#ifdef YY_USE_PROTOS
+YY_BUFFER_STATE yy_scan_buffer( char *base, yy_size_t size )
+#else
+YY_BUFFER_STATE yy_scan_buffer( base, size )
+char *base;
+yy_size_t size;
+#endif
+	{
+	YY_BUFFER_STATE b;
+
+	if ( size < 2 ||
+	     base[size-2] != YY_END_OF_BUFFER_CHAR ||
+	     base[size-1] != YY_END_OF_BUFFER_CHAR )
+		/* They forgot to leave room for the EOB's. */
+		return 0;
+
+	b = (YY_BUFFER_STATE) yy_flex_alloc( sizeof( struct yy_buffer_state ) );
+	if ( ! b )
+		YY_FATAL_ERROR( "out of dynamic memory in yy_scan_buffer()" );
+
+	b->yy_buf_size = size - 2;	/* "- 2" to take care of EOB's */
+	b->yy_buf_pos = b->yy_ch_buf = base;
+	b->yy_is_our_buffer = 0;
+	b->yy_input_file = 0;
+	b->yy_n_chars = b->yy_buf_size;
+	b->yy_is_interactive = 0;
+	b->yy_at_bol = 1;
+	b->yy_fill_buffer = 0;
+	b->yy_buffer_status = YY_BUFFER_NEW;
+
+	yy_switch_to_buffer( b );
+
+	return b;
+	}
+#endif
+
+
+#ifndef YY_NO_SCAN_STRING
+#ifdef YY_USE_PROTOS
+YY_BUFFER_STATE yy_scan_string( yyconst char *yy_str )
+#else
+YY_BUFFER_STATE yy_scan_string( yy_str )
+yyconst char *yy_str;
+#endif
+	{
+	int len;
+	for ( len = 0; yy_str[len]; ++len )
+		;
+
+	return yy_scan_bytes( yy_str, len );
+	}
+#endif
+
+
+#ifndef YY_NO_SCAN_BYTES
+#ifdef YY_USE_PROTOS
+YY_BUFFER_STATE yy_scan_bytes( yyconst char *bytes, int len )
+#else
+YY_BUFFER_STATE yy_scan_bytes( bytes, len )
+yyconst char *bytes;
+int len;
+#endif
+	{
+	YY_BUFFER_STATE b;
+	char *buf;
+	yy_size_t n;
+	int i;
+
+	/* Get memory for full buffer, including space for trailing EOB's. */
+	n = len + 2;
+	buf = (char *) yy_flex_alloc( n );
+	if ( ! buf )
+		YY_FATAL_ERROR( "out of dynamic memory in yy_scan_bytes()" );
+
+	for ( i = 0; i < len; ++i )
+		buf[i] = bytes[i];
+
+	buf[len] = buf[len+1] = YY_END_OF_BUFFER_CHAR;
+
+	b = yy_scan_buffer( buf, n );
+	if ( ! b )
+		YY_FATAL_ERROR( "bad buffer in yy_scan_bytes()" );
+
+	/* It's okay to grow etc. this buffer, and we should throw it
+	 * away when we're done.
+	 */
+	b->yy_is_our_buffer = 1;
+
+	return b;
+	}
+#endif
+
+
+#ifndef YY_NO_PUSH_STATE
+#ifdef YY_USE_PROTOS
+static void yy_push_state( int new_state )
+#else
+static void yy_push_state( new_state )
+int new_state;
+#endif
+	{
+	if ( yy_start_stack_ptr >= yy_start_stack_depth )
+		{
+		yy_size_t new_size;
+
+		yy_start_stack_depth += YY_START_STACK_INCR;
+		new_size = yy_start_stack_depth * sizeof( int );
+
+		if ( ! yy_start_stack )
+			yy_start_stack = (int *) yy_flex_alloc( new_size );
+
+		else
+			yy_start_stack = (int *) yy_flex_realloc(
+					(void *) yy_start_stack, new_size );
+
+		if ( ! yy_start_stack )
+			YY_FATAL_ERROR(
+			"out of memory expanding start-condition stack" );
+		}
+
+	yy_start_stack[yy_start_stack_ptr++] = YY_START;
+
+	BEGIN(new_state);
+	}
+#endif
+
+
+#ifndef YY_NO_POP_STATE
+static void yy_pop_state()
+	{
+	if ( --yy_start_stack_ptr < 0 )
+		YY_FATAL_ERROR( "start-condition stack underflow" );
+
+	BEGIN(yy_start_stack[yy_start_stack_ptr]);
+	}
+#endif
+
+
+#ifndef YY_NO_TOP_STATE
+static int yy_top_state()
+	{
+	return yy_start_stack[yy_start_stack_ptr - 1];
+	}
+#endif
+
+#ifndef YY_EXIT_FAILURE
+#define YY_EXIT_FAILURE 2
+#endif
+
+#ifdef YY_USE_PROTOS
+static void yy_fatal_error( yyconst char msg[] )
+#else
+static void yy_fatal_error( msg )
+char msg[];
+#endif
+	{
+	(void) fprintf( stderr, "%s\n", msg );
+	exit( YY_EXIT_FAILURE );
+	}
+
+
+
+/* Redefine yyless() so it works in section 3 code. */
+
+#undef yyless
+#define yyless(n) \
+	do \
+		{ \
+		/* Undo effects of setting up yytext. */ \
+		yytext[yyleng] = yy_hold_char; \
+		yy_c_buf_p = yytext + n; \
+		yy_hold_char = *yy_c_buf_p; \
+		*yy_c_buf_p = '\0'; \
+		yyleng = n; \
+		} \
+	while ( 0 )
+
+
+/* Internal utility routines. */
+
+#ifndef yytext_ptr
+#ifdef YY_USE_PROTOS
+static void yy_flex_strncpy( char *s1, yyconst char *s2, int n )
+#else
+static void yy_flex_strncpy( s1, s2, n )
+char *s1;
+yyconst char *s2;
+int n;
+#endif
+	{
+	register int i;
+	for ( i = 0; i < n; ++i )
+		s1[i] = s2[i];
+	}
+#endif
+
+#ifdef YY_NEED_STRLEN
+#ifdef YY_USE_PROTOS
+static int yy_flex_strlen( yyconst char *s )
+#else
+static int yy_flex_strlen( s )
+yyconst char *s;
+#endif
+	{
+	register int n;
+	for ( n = 0; s[n]; ++n )
+		;
+
+	return n;
+	}
+#endif
+
+
+#ifdef YY_USE_PROTOS
+static void *yy_flex_alloc( yy_size_t size )
+#else
+static void *yy_flex_alloc( size )
+yy_size_t size;
+#endif
+	{
+	return (void *) malloc( size );
+	}
+
+#ifdef YY_USE_PROTOS
+static void *yy_flex_realloc( void *ptr, yy_size_t size )
+#else
+static void *yy_flex_realloc( ptr, size )
+void *ptr;
+yy_size_t size;
+#endif
+	{
+	/* The cast to (char *) in the following accommodates both
+	 * implementations that use char* generic pointers, and those
+	 * that use void* generic pointers.  It works with the latter
+	 * because both ANSI C and C++ allow castless assignment from
+	 * any pointer type to void*, and deal with argument conversions
+	 * as though doing an assignment.
+	 */
+	return (void *) realloc( (char *) ptr, size );
+	}
+
+#ifdef YY_USE_PROTOS
+static void yy_flex_free( void *ptr )
+#else
+static void yy_flex_free( ptr )
+void *ptr;
+#endif
+	{
+	free( ptr );
+	}
+
+#if YY_MAIN
+int main()
+	{
+	yylex();
+	return 0;
+	}
+#endif
+
+#ifdef	AMIGA
+long *alloc(n)
+	unsigned n;
+{
+	return ((long *)malloc (n));
+}
+#endif
+
+/* routine to switch to another input file; needed for flex */
+void init_yyin( input_f )
+FILE *input_f;
+{
+#if defined(FLEX_SCANNER) || defined(FLEXHACK_SCANNER)
+	if (yyin)
+	    yyrestart(input_f);
+	else
+#endif
+	    yyin = input_f;
+}
+/* analogous routine (for completeness) */
+void init_yyout( output_f )
+FILE *output_f;
+{
+	yyout = output_f;
+}
+
+/*lev_comp.l*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\lev_main.c SlashTNG-master\src\lev_main.c
--- slashem-0.0.7E7F3\src\lev_main.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\lev_main.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,1729 @@
+/*	SCCS Id: @(#)lev_main.c	3.4	2002/03/27	*/
+/*	Copyright (c) 1989 by Jean-Christophe Collet */
+/* NetHack may be freely redistributed.  See license for details. */
+
+/*
+ * This file contains the main function for the parser
+ * and some useful functions needed by yacc
+ */
+
+#define LEVEL_COMPILER	1	/* Enable definition of internal structures */
+
+#include "hack.h"
+#include "date.h"
+#include "sp_lev.h"
+#ifdef STRICT_REF_DEF
+#include "tcap.h"
+#endif
+/* ALI - We need the list of artifact names for artifact doors */
+#define MAKEDEFS_C      /* We only want the names, not the complete defn */
+#include "artilist.h"
+#undef MAKEDEFS_C
+
+#ifdef MAC
+# ifdef MAC_MPW
+#  define MPWTOOL
+#  include <CursorCtl.h>
+# else
+#  if !defined(__MACH__)
+#  define PREFIX ":lib:"	/* place output files here */
+# endif
+# endif
+#endif
+
+#ifdef WIN_CE
+#define PREFIX "\\nethack\\dat\\"
+#endif
+
+#ifndef MPWTOOL
+# define SpinCursor(x)
+#endif
+
+#if defined(AMIGA) && defined(DLB)
+# define PREFIX "NH:slib/"
+#endif
+
+#ifndef O_WRONLY
+#include <fcntl.h>
+#endif
+#ifndef O_CREAT	/* some older BSD systems do not define O_CREAT in <fcntl.h> */
+#include <sys/file.h>
+#endif
+#ifndef O_BINARY	/* used for micros, no-op for others */
+# define O_BINARY 0
+#endif
+
+#if defined(MICRO) || defined(WIN32)
+# define OMASK FCMASK
+#else
+# define OMASK 0644
+#endif
+
+#define MAX_REGISTERS	10
+#define ERR		(-1)
+
+#define NewTab(type, size)	(type **) alloc(sizeof(type *) * size)
+#define Free(ptr)		if(ptr) free((genericptr_t) (ptr))
+#define Write(fd, item, size)	if (write(fd, (genericptr_t)(item), size) != size) return FALSE;
+
+#if defined(__BORLANDC__) && !defined(_WIN32)
+extern unsigned _stklen = STKSIZ;
+#endif
+#define MAX_ERRORS	25
+
+extern int  NDECL (yyparse);
+extern void FDECL (init_yyin, (FILE *));
+extern void FDECL (init_yyout, (FILE *));
+
+int  FDECL (main, (int, char **));
+void FDECL (yyerror, (const char *));
+void FDECL (yywarning, (const char *));
+int  NDECL (yywrap);
+int FDECL(get_artifact_id, (char *));
+int FDECL(get_floor_type, (CHAR_P));
+int FDECL(get_room_type, (char *));
+int FDECL(get_trap_type, (char *));
+int FDECL(get_monster_id, (char *,CHAR_P));
+int FDECL(get_object_id, (char *,CHAR_P));
+boolean FDECL(check_monster_char, (CHAR_P));
+boolean FDECL(check_object_char, (CHAR_P));
+char FDECL(what_map_char, (CHAR_P));
+void FDECL(scan_map, (char *));
+void NDECL(wallify_map);
+boolean NDECL(check_subrooms);
+void FDECL(check_coord, (int,int,const char *));
+void NDECL(store_part);
+void NDECL(store_room);
+boolean FDECL(write_level_file, (char *,splev *,specialmaze *));
+void FDECL(free_rooms, (splev *));
+
+extern void NDECL(monst_init);
+extern void NDECL(objects_init);
+extern void NDECL(decl_init);
+
+static boolean FDECL(write_common_data, (int,int,lev_init *,long));
+static boolean FDECL(write_monsters, (int,char *,monster ***));
+static boolean FDECL(write_objects, (int,char *,object ***));
+static boolean FDECL(write_engravings, (int,char *,engraving ***));
+static boolean FDECL(write_maze, (int,specialmaze *));
+static boolean FDECL(write_rooms, (int,splev *));
+static void NDECL(init_obj_classes);
+
+static struct {
+	const char *name;
+	int type;
+} trap_types[] = {
+	{ "arrow",	ARROW_TRAP },
+	{ "dart",	DART_TRAP },
+	{ "falling rock", ROCKTRAP },
+	{ "board",	SQKY_BOARD },
+	{ "bear",	BEAR_TRAP },
+	{ "land mine",	LANDMINE },
+	{ "rolling boulder",	ROLLING_BOULDER_TRAP },
+	{ "sleep gas",	SLP_GAS_TRAP },
+	{ "rust",	RUST_TRAP },
+	{ "fire",	FIRE_TRAP },
+	{ "pit",	PIT },
+	{ "spiked pit",	SPIKED_PIT },
+	{ "hole",	HOLE },
+	{ "trap door",	TRAPDOOR },
+	{ "teleport",	TELEP_TRAP },
+	{ "level teleport", LEVEL_TELEP },
+	{ "magic portal",   MAGIC_PORTAL },
+	{ "web",	WEB },
+	{ "statue",	STATUE_TRAP },
+	{ "magic",	MAGIC_TRAP },
+	{ "anti magic",	ANTI_MAGIC },
+	{ "polymorph",	POLY_TRAP },
+	{ 0, 0 }
+};
+
+static struct {
+	const char *name;
+	int type;
+} room_types[] = {
+	/* for historical reasons, room types are not contiguous numbers */
+	/* (type 1 is skipped) */
+	{ "ordinary",	 OROOM },
+	{ "throne",	 COURT },
+	{ "swamp",	 SWAMP },
+	{ "vault",	 VAULT },
+	{ "beehive",	 BEEHIVE },
+	{ "morgue",	 MORGUE },
+	{ "barracks",	 BARRACKS },
+	{ "zoo",	 ZOO },
+	{ "delphi",	 DELPHI },
+	{ "temple",	 TEMPLE },
+	{ "realzoo",	 REALZOO },
+	{ "giantcourt",	 GIANTCOURT },
+	{ "dragonlair",  DRAGONLAIR },
+	{ "badfoodshop", BADFOODSHOP },
+	{ "anthole",	 ANTHOLE },
+	{ "cocknest",	 COCKNEST },
+	{ "leprehall",	 LEPREHALL },
+	{ "lemurepit",   LEMUREPIT },
+	{ "migohive",    MIGOHIVE },
+	{ "fungusfarm",  FUNGUSFARM },
+	{ "shop",	 SHOPBASE },
+	{ "armor shop",	 ARMORSHOP },
+	{ "scroll shop", SCROLLSHOP },
+	{ "potion shop", POTIONSHOP },
+	{ "weapon shop", WEAPONSHOP },
+	{ "food shop",	 FOODSHOP },
+	{ "ring shop",	 RINGSHOP },
+	{ "wand shop",	 WANDSHOP },
+	{ "tool shop",	 TOOLSHOP },
+	{ "pet shop",    PETSHOP },	/* Stephen White */
+	{ "tin shop",    TINSHOP }, /* Robin Johnson */
+	{ "book shop",	 BOOKSHOP },
+	{ "candle shop", CANDLESHOP },
+#ifdef BLACKMARKET
+	{ "black market", BLACKSHOP },
+#endif /* BLACKMARKET */
+	{ 0, 0 }
+};
+
+const char *fname = "(stdin)";
+int fatal_error = 0;
+int want_warnings = 0;
+
+#ifdef FLEX23_BUG
+/* Flex 2.3 bug work around; not needed for 2.3.6 or later */
+int yy_more_len = 0;
+#endif
+
+extern char tmpmessage[];
+extern altar *tmpaltar[];
+extern lad *tmplad[];
+extern stair *tmpstair[];
+extern digpos *tmpdig[];
+extern digpos *tmppass[];
+extern char *tmpmap[];
+extern region *tmpreg[];
+extern lev_region *tmplreg[];
+extern door *tmpdoor[];
+extern room_door *tmprdoor[];
+extern trap *tmptrap[];
+extern monster *tmpmonst[];
+extern object *tmpobj[];
+extern drawbridge *tmpdb[];
+extern walk *tmpwalk[];
+extern gold *tmpgold[];
+extern fountain *tmpfountain[];
+extern sink *tmpsink[];
+extern pool *tmppool[];
+extern engraving *tmpengraving[];
+extern mazepart *tmppart[];
+extern room *tmproom[];
+extern lev_region *tmprndlreg[];
+
+extern int n_olist, n_mlist, n_plist;
+
+extern unsigned int nrndlreg;
+extern unsigned int nlreg, nreg, ndoor, ntrap, nmons, nobj;
+extern unsigned int ndb, nwalk, npart, ndig, npass, nlad, nstair;
+extern unsigned int naltar, ncorridor, nrooms, ngold, nengraving;
+extern unsigned int nfountain, npool, nsink;
+
+extern unsigned int max_x_map, max_y_map;
+
+extern int line_number, colon_line_number;
+
+int
+main(argc, argv)
+int argc;
+char **argv;
+{
+	FILE *fin;
+	int i;
+	boolean errors_encountered = FALSE;
+#if defined(MAC) && (defined(THINK_C) || defined(__MWERKS__))
+	static char *mac_argv[] = {	"lev_comp",	/* dummy argv[0] */
+	/* KMH -- had to add more from SLASH'EM */
+				":dat:Arch.des",
+				":dat:Barb.des",
+				":dat:Caveman.des",
+				":dat:Flame.des",
+				":dat:Healer.des",
+				":dat:Hobbit.des",
+				":dat:Ice.des",
+				":dat:sokoban.des",
+				":dat:Knight.des",
+				":dat:Lycn.des",
+				":dat:Monk.des",
+				":dat:Necro.des",
+				":dat:Priest.des",
+				":dat:Rogue.des",
+				":dat:Ranger.des",
+				":dat:Samurai.des",
+#ifdef TOURIST
+				":dat:Tourist.des",
+#endif
+				":dat:Slayer.des",		/* Should be Uslayer */
+				":dat:Valkyrie.des",
+				":dat:Wizard.des",
+#ifdef YEOMAN
+				":dat:Yeoman.des",
+#endif
+#ifdef ZOUTHERN
+				":dat:Zouthern.des"
+#endif
+				":dat:beholder.des",
+				":dat:bigroom.des",
+				":dat:blkmar.des",
+				":dat:castle.des",
+				":dat:caves.des",
+				":dat:dragons.des",
+				":dat:endgame.des",
+				":dat:frnknstn.des",
+				":dat:gehennom.des",
+				":dat:giants.des",
+				":dat:guild.des",
+				":dat:knox.des",
+				":dat:kobold-1.des",
+				":dat:kobold-2.des",
+				":dat:lich.des",
+				":dat:mall-1.des",
+				":dat:mall-2.des",
+				":dat:medusa.des",
+				":dat:mtemple.des",
+				":dat:mines.des",
+				":dat:newmall.des",
+				":dat:nightmar.des",
+				":dat:nymph.des",
+				":dat:oracle.des",
+				":dat:rats.des",
+				":dat:sea.des",
+				":dat:sokoban.des",
+				":dat:spiders.des",
+				":dat:stor-1.des",
+				":dat:stor-2.des",
+				":dat:stor-3.des",
+				":dat:tomb.des",
+				":dat:tower.des",
+				":dat:yendor.des"
+				};
+
+	argc = SIZE(mac_argv);
+	argv = mac_argv;
+#endif
+	/* Note:  these initializers don't do anything except guarantee that
+		we're linked properly.
+	*/
+	monst_init();
+	objects_init();
+	decl_init();
+	/* this one does something... */
+	init_obj_classes();
+
+	init_yyout(stdout);
+	if (argc == 1) {		/* Read standard input */
+	    init_yyin(stdin);
+	    (void) yyparse();
+	    if (fatal_error > 0) {
+		    errors_encountered = TRUE;
+	    }
+	} else {			/* Otherwise every argument is a filename */
+	    for(i=1; i<argc; i++) {
+		    fname = argv[i];
+		    if(!strcmp(fname, "-w")) {
+			want_warnings++;
+			continue;
+		    }
+		    fin = freopen(fname, "r", stdin);
+		    if (!fin) {
+			(void) fprintf(stderr,"Can't open \"%s\" for input.\n",
+						fname);
+			perror(fname);
+			errors_encountered = TRUE;
+		    } else {
+			init_yyin(fin);
+			(void) yyparse();
+			line_number = 1;
+			if (fatal_error > 0) {
+				errors_encountered = TRUE;
+				fatal_error = 0;
+			}
+		    }
+	    }
+	}
+	exit(errors_encountered ? EXIT_FAILURE : EXIT_SUCCESS);
+	/*NOTREACHED*/
+	return 0;
+}
+
+/*
+ * Each time the parser detects an error, it uses this function.
+ * Here we take count of the errors. To continue farther than
+ * MAX_ERRORS wouldn't be reasonable.
+ * Assume that explicit calls from lev_comp.y have the 1st letter
+ * capitalized, to allow printing of the line containing the start of
+ * the current declaration, instead of the beginning of the next declaration.
+ */
+void
+yyerror(s)
+const char *s;
+{
+	(void) fprintf(stderr,
+#ifndef MAC_MPW
+	  "%s: line %d : %s\n",
+#else
+	  "File %s ; Line %d :# %s\n",
+#endif
+	  fname, (*s >= 'A' && *s <= 'Z') ? colon_line_number : line_number, s);
+	if (++fatal_error > MAX_ERRORS) {
+		(void) fprintf(stderr,"Too many errors, good bye!\n");
+		exit(EXIT_FAILURE);
+	}
+}
+
+/*
+ * Just display a warning (that is : a non fatal error)
+ */
+void
+yywarning(s)
+const char *s;
+{
+	(void) fprintf(stderr,
+#ifndef MAC_MPW
+	  "%s: line %d : WARNING : %s\n",
+#else
+	  "File %s ; Line %d # WARNING : %s\n",
+#endif
+				fname, colon_line_number, s);
+}
+
+/*
+ * Stub needed for lex interface.
+ */
+int
+yywrap()
+{
+	return 1;
+}
+
+/*
+ * Find the index of an artifact in the table, knowing its name.
+ */
+int
+get_artifact_id(s)
+char *s;
+{
+	register int i;
+
+	SpinCursor(3);
+	for(i=0; artifact_names[i]; i++)
+	    if (!strcmp(s, artifact_names[i]))
+		return ((int) i);
+	return ERR;
+}
+
+/*
+ * Find the type of floor, knowing its char representation.
+ */
+int
+get_floor_type(c)
+char c;
+{
+	int val;
+
+	SpinCursor(3);
+	val = what_map_char(c);
+	if(val == INVALID_TYPE) {
+	    val = ERR;
+	    yywarning("Invalid fill character in MAZE declaration");
+	}
+	return val;
+}
+
+/*
+ * Find the type of a room in the table, knowing its name.
+ */
+int
+get_room_type(s)
+char *s;
+{
+	register int i;
+
+	SpinCursor(3);
+	for(i=0; room_types[i].name; i++)
+	    if (!strcmp(s, room_types[i].name))
+		return ((int) room_types[i].type);
+	return ERR;
+}
+
+/*
+ * Find the type of a trap in the table, knowing its name.
+ */
+int
+get_trap_type(s)
+char *s;
+{
+	register int i;
+
+	SpinCursor(3);
+	for (i=0; trap_types[i].name; i++)
+	    if(!strcmp(s,trap_types[i].name))
+		return trap_types[i].type;
+	return ERR;
+}
+
+/*
+ * Find the index of a monster in the table, knowing its name.
+ */
+int
+get_monster_id(s, c)
+char *s;
+char c;
+{
+	register int i, class;
+
+	SpinCursor(3);
+	class = c ? def_char_to_monclass(c) : 0;
+	if (class == MAXMCLASSES) return ERR;
+
+	for (i = LOW_PM; i < NUMMONS; i++)
+	    if (!class || class == mons[i].mlet)
+		if (!strcmp(s, mons[i].mname)) return i;
+	return ERR;
+}
+
+/*
+ * Find the index of an object in the table, knowing its name.
+ */
+int
+get_object_id(s, c)
+char *s;
+char c;		/* class */
+{
+	int i, class;
+	const char *objname;
+
+	SpinCursor(3);
+	class = (c > 0) ? def_char_to_objclass(c) : 0;
+	if (class == MAXOCLASSES) return ERR;
+
+	for (i = class ? bases[class] : 0; i < NUM_OBJECTS; i++) {
+	    if (class && objects[i].oc_class != class) break;
+	    objname = obj_descr[i].oc_name;
+	    if (objname && !strcmp(s, objname))
+		return i;
+	}
+	return ERR;
+}
+
+static void
+init_obj_classes()
+{
+	int i, class, prev_class;
+
+	prev_class = -1;
+	for (i = 0; i < NUM_OBJECTS; i++) {
+	    class = objects[i].oc_class;
+	    if (class != prev_class) {
+		bases[class] = i;
+		prev_class = class;
+	    }
+	}
+}
+
+/*
+ * Is the character 'c' a valid monster class ?
+ */
+boolean
+check_monster_char(c)
+char c;
+{
+	return (def_char_to_monclass(c) != MAXMCLASSES);
+}
+
+/*
+ * Is the character 'c' a valid object class ?
+ */
+boolean
+check_object_char(c)
+char c;
+{
+	return (def_char_to_objclass(c) != MAXOCLASSES);
+}
+
+/*
+ * Convert .des map letter into floor type.
+ */
+char
+what_map_char(c)
+char c;
+{
+	SpinCursor(3);
+	switch(c) {
+		  case ' '  : return(STONE);
+		  case '#'  : return(CORR);
+		  case '.'  : return(ROOM);
+		  case '-'  : return(HWALL);
+		  case '|'  : return(VWALL);
+		  case '+'  : return(DOOR);
+		  case 'A'  : return(AIR);
+		  case 'B'  : return(CROSSWALL); /* hack: boundary location */
+		  case 'C'  : return(CLOUD);
+		  case 'S'  : return(SDOOR);
+		  case 'H'  : return(SCORR);
+		  case '{'  : return(FOUNTAIN);
+		  case '\\' : return(THRONE);
+		  case 'K'  :
+#ifdef SINKS
+		      return(SINK);
+#else
+		      yywarning("Sinks are not allowed in this version!  Ignoring...");
+		      return(ROOM);
+#endif
+		  case '}'  : return(MOAT);
+		  case 'P'  : return(POOL);
+		  case 'L'  : return(LAVAPOOL);
+		  case 'I'  : return(ICE);
+		  case 'W'  : return(WATER);
+		  case 'T'	: return (TREE);
+		  case 'F'	: return (IRONBARS);	/* Fe = iron */
+		  case 'Z'  :	/* Kazi */
+#ifdef SINKS
+		      return(TOILET);
+#else
+		      yywarning("Toilets are not allowed in this version!  Ignoring...");
+		      return(ROOM);
+#endif
+	    }
+	return(INVALID_TYPE);
+}
+
+/*
+ * Yep! LEX gives us the map in a raw mode.
+ * Just analyze it here.
+ */
+void
+scan_map(map)
+char *map;
+{
+	register int i, len;
+	register char *s1, *s2;
+	int max_len = 0;
+	int max_hig = 0;
+	char msg[256];
+
+	/* First, strip out digits 0-9 (line numbering) */
+	for (s1 = s2 = map; *s1; s1++)
+	    if (*s1 < '0' || *s1 > '9')
+		*s2++ = *s1;
+	*s2 = '\0';
+
+	/* Second, find the max width of the map */
+	s1 = map;
+	while (s1 && *s1) {
+		s2 = index(s1, '\n');
+		if (s2) {
+			len = (int) (s2 - s1);
+			s1 = s2 + 1;
+		} else {
+			len = (int) strlen(s1);
+			s1 = (char *) 0;
+		}
+		if (len > max_len) max_len = len;
+	}
+
+	/* Then parse it now */
+	while (map && *map) {
+		tmpmap[max_hig] = (char *) alloc(max_len);
+		s1 = index(map, '\n');
+		if (s1) {
+			len = (int) (s1 - map);
+			s1++;
+		} else {
+			len = (int) strlen(map);
+			s1 = map + len;
+		}
+		for(i=0; i<len; i++)
+		  if((tmpmap[max_hig][i] = what_map_char(map[i])) == INVALID_TYPE) {
+		      Sprintf(msg,
+			 "Invalid character @ (%d, %d) - replacing with stone",
+			      max_hig, i);
+		      yywarning(msg);
+		      tmpmap[max_hig][i] = STONE;
+		    }
+		while(i < max_len)
+		    tmpmap[max_hig][i++] = STONE;
+		map = s1;
+		max_hig++;
+	}
+
+	/* Memorize boundaries */
+
+	max_x_map = max_len - 1;
+	max_y_map = max_hig - 1;
+
+	/* Store the map into the mazepart structure */
+
+	if(max_len > MAP_X_LIM || max_hig > MAP_Y_LIM) {
+	    Sprintf(msg, "Map too large! (max %d x %d)", MAP_X_LIM, MAP_Y_LIM);
+	    yyerror(msg);
+	}
+
+	tmppart[npart]->xsize = max_len;
+	tmppart[npart]->ysize = max_hig;
+	tmppart[npart]->map = (char **) alloc(max_hig*sizeof(char *));
+	for(i = 0; i< max_hig; i++)
+	    tmppart[npart]->map[i] = tmpmap[i];
+}
+
+/*
+ *	If we have drawn a map without walls, this allows us to
+ *	auto-magically wallify it.
+ */
+#define Map_point(x,y) *(tmppart[npart]->map[y] + x)
+
+void
+wallify_map()
+{
+	unsigned int x, y, xx, yy, lo_xx, lo_yy, hi_xx, hi_yy;
+
+	for (y = 0; y <= max_y_map; y++) {
+	    SpinCursor(3);
+	    lo_yy = (y > 0) ? y - 1 : 0;
+	    hi_yy = (y < max_y_map) ? y + 1 : max_y_map;
+	    for (x = 0; x <= max_x_map; x++) {
+		if (Map_point(x,y) != STONE) continue;
+		lo_xx = (x > 0) ? x - 1 : 0;
+		hi_xx = (x < max_x_map) ? x + 1 : max_x_map;
+		for (yy = lo_yy; yy <= hi_yy; yy++)
+		    for (xx = lo_xx; xx <= hi_xx; xx++)
+			if (IS_ROOM(Map_point(xx,yy)) ||
+				Map_point(xx,yy) == CROSSWALL) {
+			    Map_point(x,y) = (yy != y) ? HWALL : VWALL;
+			    yy = hi_yy;		/* end `yy' loop */
+			    break;		/* end `xx' loop */
+			}
+	    }
+	}
+}
+
+/*
+ * We need to check the subrooms apartenance to an existing room.
+ */
+boolean
+check_subrooms()
+{
+	unsigned i, j, n_subrooms;
+	boolean	found, ok = TRUE;
+	char	*last_parent, msg[256];
+
+	for (i = 0; i < nrooms; i++)
+	    if (tmproom[i]->parent) {
+		found = FALSE;
+		for(j = 0; j < nrooms; j++)
+		    if (tmproom[j]->name &&
+			    !strcmp(tmproom[i]->parent, tmproom[j]->name)) {
+			found = TRUE;
+			break;
+		    }
+		if (!found) {
+		    Sprintf(msg,
+			    "Subroom error : parent room '%s' not found!",
+			    tmproom[i]->parent);
+		    yyerror(msg);
+		    ok = FALSE;
+		}
+	    }
+
+	msg[0] = '\0';
+	last_parent = msg;
+	for (i = 0; i < nrooms; i++)
+	    if (tmproom[i]->parent) {
+		n_subrooms = 0;
+		for(j = i; j < nrooms; j++) {
+/*
+ *	This is by no means perfect, but should cut down the duplicate error
+ *	messages by over 90%.  The only problem will be when either subrooms
+ *	are mixed in the level definition (not likely but possible) or rooms
+ *	have subrooms that have subrooms.
+ */
+		    if (!strcmp(tmproom[i]->parent, last_parent)) continue;
+		    if (tmproom[j]->parent &&
+			    !strcmp(tmproom[i]->parent, tmproom[j]->parent)) {
+			n_subrooms++;
+			if(n_subrooms > MAX_SUBROOMS) {
+
+			    Sprintf(msg,
+	      "Subroom error: too many subrooms attached to parent room '%s'!",
+				    tmproom[i]->parent);
+			    yyerror(msg);
+			    last_parent = tmproom[i]->parent;
+			    ok = FALSE;
+			    break;
+			}
+		    }
+		}
+	    }
+	return ok;
+}
+
+/*
+ * Check that coordinates (x,y) are roomlike locations.
+ * Print warning "str" if they aren't.
+ */
+void
+check_coord(x, y, str)
+int x, y;
+const char *str;
+{
+    char ebuf[60];
+
+    if (x >= 0 && y >= 0 && x <= (int)max_x_map && y <= (int)max_y_map &&
+	(IS_ROCK(tmpmap[y][x]) || IS_DOOR(tmpmap[y][x]))) {
+	Sprintf(ebuf, "%s placed in wall at (%02d,%02d)?!", str, x, y);
+	yywarning(ebuf);
+    }
+}
+
+/*
+ * Here we want to store the maze part we just got.
+ */
+void
+store_part()
+{
+	register unsigned i;
+
+	/* Ok, We got the whole part, now we store it. */
+
+	/* The Regions */
+
+	if ((tmppart[npart]->nreg = nreg) != 0) {
+		tmppart[npart]->regions = NewTab(region, nreg);
+		for(i=0;i<nreg;i++)
+		    tmppart[npart]->regions[i] = tmpreg[i];
+	}
+	nreg = 0;
+
+	/* The Level Regions */
+
+	if ((tmppart[npart]->nlreg = nlreg) != 0) {
+		tmppart[npart]->lregions = NewTab(lev_region, nlreg);
+		for(i=0;i<nlreg;i++)
+		    tmppart[npart]->lregions[i] = tmplreg[i];
+	}
+	nlreg = 0;
+
+	/* the random level regions */
+
+	if ((tmppart[npart]->nrndlreg = nrndlreg) != 0) {
+		tmppart[npart]->rndlregions = NewTab(lev_region, nrndlreg);
+		for(i=0;i<nrndlreg;i++)
+		    tmppart[npart]->rndlregions[i] = tmprndlreg[i];
+	}
+	nrndlreg = 0;
+
+	/* the doors */
+
+	if ((tmppart[npart]->ndoor = ndoor) != 0) {
+		tmppart[npart]->doors = NewTab(door, ndoor);
+		for(i=0;i<ndoor;i++)
+		    tmppart[npart]->doors[i] = tmpdoor[i];
+	}
+	ndoor = 0;
+
+	/* the drawbridges */
+
+	if ((tmppart[npart]->ndrawbridge = ndb) != 0) {
+		tmppart[npart]->drawbridges = NewTab(drawbridge, ndb);
+		for(i=0;i<ndb;i++)
+		    tmppart[npart]->drawbridges[i] = tmpdb[i];
+	}
+	ndb = 0;
+
+	/* The walkmaze directives */
+
+	if ((tmppart[npart]->nwalk = nwalk) != 0) {
+		tmppart[npart]->walks = NewTab(walk, nwalk);
+		for(i=0;i<nwalk;i++)
+		    tmppart[npart]->walks[i] = tmpwalk[i];
+	}
+	nwalk = 0;
+
+	/* The non_diggable directives */
+
+	if ((tmppart[npart]->ndig = ndig) != 0) {
+		tmppart[npart]->digs = NewTab(digpos, ndig);
+		for(i=0;i<ndig;i++)
+		    tmppart[npart]->digs[i] = tmpdig[i];
+	}
+	ndig = 0;
+
+	/* The non_passwall directives */
+
+	if ((tmppart[npart]->npass = npass) != 0) {
+		tmppart[npart]->passs = NewTab(digpos, npass);
+		for(i=0;i<npass;i++)
+		    tmppart[npart]->passs[i] = tmppass[i];
+	}
+	npass = 0;
+
+	/* The ladders */
+
+	if ((tmppart[npart]->nlad = nlad) != 0) {
+		tmppart[npart]->lads = NewTab(lad, nlad);
+		for(i=0;i<nlad;i++)
+		    tmppart[npart]->lads[i] = tmplad[i];
+	}
+	nlad = 0;
+
+	/* The stairs */
+
+	if ((tmppart[npart]->nstair = nstair) != 0) {
+		tmppart[npart]->stairs = NewTab(stair, nstair);
+		for(i=0;i<nstair;i++)
+		    tmppart[npart]->stairs[i] = tmpstair[i];
+	}
+	nstair = 0;
+
+	/* The altars */
+	if ((tmppart[npart]->naltar = naltar) != 0) {
+		tmppart[npart]->altars = NewTab(altar, naltar);
+		for(i=0;i<naltar;i++)
+		    tmppart[npart]->altars[i] = tmpaltar[i];
+	}
+	naltar = 0;
+
+	/* The fountains */
+
+	if ((tmppart[npart]->nfountain = nfountain) != 0) {
+		tmppart[npart]->fountains = NewTab(fountain, nfountain);
+		for(i=0;i<nfountain;i++)
+		    tmppart[npart]->fountains[i] = tmpfountain[i];
+	}
+	nfountain = 0;
+
+	/* the traps */
+
+	if ((tmppart[npart]->ntrap = ntrap) != 0) {
+		tmppart[npart]->traps = NewTab(trap, ntrap);
+		for(i=0;i<ntrap;i++)
+		    tmppart[npart]->traps[i] = tmptrap[i];
+	}
+	ntrap = 0;
+
+	/* the monsters */
+
+	if ((tmppart[npart]->nmonster = nmons) != 0) {
+		tmppart[npart]->monsters = NewTab(monster, nmons);
+		for(i=0;i<nmons;i++)
+		    tmppart[npart]->monsters[i] = tmpmonst[i];
+	} else
+		tmppart[npart]->monsters = 0;
+	nmons = 0;
+
+	/* the objects */
+
+	if ((tmppart[npart]->nobject = nobj) != 0) {
+		tmppart[npart]->objects = NewTab(object, nobj);
+		for(i=0;i<nobj;i++)
+		    tmppart[npart]->objects[i] = tmpobj[i];
+	} else
+		tmppart[npart]->objects = 0;
+	nobj = 0;
+
+	/* The gold piles */
+
+	if ((tmppart[npart]->ngold = ngold) != 0) {
+		tmppart[npart]->golds = NewTab(gold, ngold);
+		for(i=0;i<ngold;i++)
+		    tmppart[npart]->golds[i] = tmpgold[i];
+	}
+	ngold = 0;
+
+	/* The engravings */
+
+	if ((tmppart[npart]->nengraving = nengraving) != 0) {
+		tmppart[npart]->engravings = NewTab(engraving, nengraving);
+		for(i=0;i<nengraving;i++)
+		    tmppart[npart]->engravings[i] = tmpengraving[i];
+	} else
+		tmppart[npart]->engravings = 0;
+	nengraving = 0;
+
+	npart++;
+	n_plist = n_mlist = n_olist = 0;
+}
+
+/*
+ * Here we want to store the room part we just got.
+ */
+void
+store_room()
+{
+	register unsigned i;
+
+	/* Ok, We got the whole room, now we store it. */
+
+	/* the doors */
+
+	if ((tmproom[nrooms]->ndoor = ndoor) != 0) {
+		tmproom[nrooms]->doors = NewTab(room_door, ndoor);
+		for(i=0;i<ndoor;i++)
+		    tmproom[nrooms]->doors[i] = tmprdoor[i];
+	}
+	ndoor = 0;
+
+	/* The stairs */
+
+	if ((tmproom[nrooms]->nstair = nstair) != 0) {
+		tmproom[nrooms]->stairs = NewTab(stair, nstair);
+		for(i=0;i<nstair;i++)
+		    tmproom[nrooms]->stairs[i] = tmpstair[i];
+	}
+	nstair = 0;
+
+	/* The altars */
+	if ((tmproom[nrooms]->naltar = naltar) != 0) {
+		tmproom[nrooms]->altars = NewTab(altar, naltar);
+		for(i=0;i<naltar;i++)
+		    tmproom[nrooms]->altars[i] = tmpaltar[i];
+	}
+	naltar = 0;
+
+	/* The fountains */
+
+	if ((tmproom[nrooms]->nfountain = nfountain) != 0) {
+		tmproom[nrooms]->fountains = NewTab(fountain, nfountain);
+		for(i=0;i<nfountain;i++)
+		    tmproom[nrooms]->fountains[i] = tmpfountain[i];
+	}
+	nfountain = 0;
+
+	/* The sinks */
+
+	if ((tmproom[nrooms]->nsink = nsink) != 0) {
+		tmproom[nrooms]->sinks = NewTab(sink, nsink);
+		for(i=0;i<nsink;i++)
+		    tmproom[nrooms]->sinks[i] = tmpsink[i];
+	}
+	nsink = 0;
+
+	/* The pools */
+
+	if ((tmproom[nrooms]->npool = npool) != 0) {
+		tmproom[nrooms]->pools = NewTab(pool, npool);
+		for(i=0;i<npool;i++)
+		    tmproom[nrooms]->pools[i] = tmppool[i];
+	}
+	npool = 0;
+
+	/* the traps */
+
+	if ((tmproom[nrooms]->ntrap = ntrap) != 0) {
+		tmproom[nrooms]->traps = NewTab(trap, ntrap);
+		for(i=0;i<ntrap;i++)
+		    tmproom[nrooms]->traps[i] = tmptrap[i];
+	}
+	ntrap = 0;
+
+	/* the monsters */
+
+	if ((tmproom[nrooms]->nmonster = nmons) != 0) {
+		tmproom[nrooms]->monsters = NewTab(monster, nmons);
+		for(i=0;i<nmons;i++)
+		    tmproom[nrooms]->monsters[i] = tmpmonst[i];
+	} else
+		tmproom[nrooms]->monsters = 0;
+	nmons = 0;
+
+	/* the objects */
+
+	if ((tmproom[nrooms]->nobject = nobj) != 0) {
+		tmproom[nrooms]->objects = NewTab(object, nobj);
+		for(i=0;i<nobj;i++)
+		    tmproom[nrooms]->objects[i] = tmpobj[i];
+	} else
+		tmproom[nrooms]->objects = 0;
+	nobj = 0;
+
+	/* The gold piles */
+
+	if ((tmproom[nrooms]->ngold = ngold) != 0) {
+		tmproom[nrooms]->golds = NewTab(gold, ngold);
+		for(i=0;i<ngold;i++)
+		    tmproom[nrooms]->golds[i] = tmpgold[i];
+	}
+	ngold = 0;
+
+	/* The engravings */
+
+	if ((tmproom[nrooms]->nengraving = nengraving) != 0) {
+		tmproom[nrooms]->engravings = NewTab(engraving, nengraving);
+		for(i=0;i<nengraving;i++)
+		    tmproom[nrooms]->engravings[i] = tmpengraving[i];
+	} else
+		tmproom[nrooms]->engravings = 0;
+	nengraving = 0;
+
+	nrooms++;
+}
+
+void
+store_place_list(int npart, int nlist, int nloc, const struct coord *plist)
+{
+	int i;
+	char msg[256];
+	if (!tmppart[npart]->nloc) {
+	    tmppart[npart]->nloc = (char *) alloc(MAX_REGISTERS);
+	    tmppart[npart]->rloc_x = NewTab(char, MAX_REGISTERS);
+	    tmppart[npart]->rloc_y = NewTab(char, MAX_REGISTERS);
+	}
+	if (nlist < tmppart[npart]->nlocset) {
+	    Sprintf(msg,
+		    "Location registers for place list %d already initialized!",
+		    nlist);
+	    yyerror(msg);
+	} else if (nlist > tmppart[npart]->nlocset) {
+	    Sprintf(msg, "Place list %d out of order!", nlist);
+	    yyerror(msg);
+	} else {
+	    tmppart[npart]->nlocset++;
+	    tmppart[npart]->rloc_x[nlist] = (char *) alloc(n_plist);
+	    tmppart[npart]->rloc_y[nlist] = (char *) alloc(n_plist);
+	    for(i = 0; i < n_plist; i++) {
+		tmppart[npart]->rloc_x[nlist][i] = plist[i].x;
+		tmppart[npart]->rloc_y[nlist][i] = plist[i].y;
+	    }
+	    tmppart[npart]->nloc[nlist] = nloc;
+	}
+}
+
+/*
+ * Output some info common to all special levels.
+ */
+static boolean
+write_common_data(fd, typ, init, flgs)
+int fd, typ;
+lev_init *init;
+long flgs;
+{
+	char c;
+	uchar len;
+	static struct version_info version_data = {
+			VERSION_NUMBER, VERSION_FEATURES,
+			VERSION_SANITY1, VERSION_SANITY2
+	};
+
+	Write(fd, &version_data, sizeof version_data);
+	c = typ;
+	Write(fd, &c, sizeof(c));	/* 1 byte header */
+	Write(fd, init, sizeof(lev_init));
+	Write(fd, &flgs, sizeof flgs);
+
+	len = (uchar) strlen(tmpmessage);
+	Write(fd, &len, sizeof len);
+	if (len) Write(fd, tmpmessage, (int) len);
+	tmpmessage[0] = '\0';
+	return TRUE;
+}
+
+/*
+ * Output monster info, which needs string fixups, then release memory.
+ */
+static boolean
+write_monsters(fd, nmonster_p, monsters_p)
+int fd;
+char *nmonster_p;
+monster ***monsters_p;
+{
+	monster *m;
+	char *name, *appr;
+	int j, n = (int)*nmonster_p;
+
+	Write(fd, nmonster_p, sizeof *nmonster_p);
+	for (j = 0; j < n; j++) {
+	    m = (*monsters_p)[j];
+	    name = m->name.str;
+	    appr = m->appear_as.str;
+	    m->name.str = m->appear_as.str = 0;
+	    m->name.len = name ? strlen(name) : 0;
+	    m->appear_as.len = appr ? strlen(appr) : 0;
+	    Write(fd, m, sizeof *m);
+	    if (name) {
+		Write(fd, name, m->name.len);
+		Free(name);
+	    }
+	    if (appr) {
+		Write(fd, appr, m->appear_as.len);
+		Free(appr);
+	    }
+	    Free(m);
+	}
+	if (*monsters_p) {
+	    Free(*monsters_p);
+	    *monsters_p = 0;
+	}
+	*nmonster_p = 0;
+	return TRUE;
+}
+
+/*
+ * Output object info, which needs string fixup, then release memory.
+ */
+static boolean
+write_objects(fd, nobject_p, objects_p)
+int fd;
+char *nobject_p;
+object ***objects_p;
+{
+	object *o;
+	char *name;
+	int j, n = (int)*nobject_p;
+
+	Write(fd, nobject_p, sizeof *nobject_p);
+	for (j = 0; j < n; j++) {
+	    o = (*objects_p)[j];
+	    name = o->name.str;
+	    o->name.str = 0;	/* reset in case `len' is narrower */
+	    o->name.len = name ? strlen(name) : 0;
+	    Write(fd, o, sizeof *o);
+	    if (name) {
+		Write(fd, name, o->name.len);
+		Free(name);
+	    }
+	    Free(o);
+	}
+	if (*objects_p) {
+	    Free(*objects_p);
+	    *objects_p = 0;
+	}
+	*nobject_p = 0;
+	return TRUE;
+}
+
+/*
+ * Output engraving info, which needs string fixup, then release memory.
+ */
+static boolean
+write_engravings(fd, nengraving_p, engravings_p)
+int fd;
+char *nengraving_p;
+engraving ***engravings_p;
+{
+	engraving *e;
+	char *engr;
+	int j, n = (int)*nengraving_p;
+
+	Write(fd, nengraving_p, sizeof *nengraving_p);
+	for (j = 0; j < n; j++) {
+	    e = (*engravings_p)[j];
+	    engr = e->engr.str;
+	    e->engr.str = 0;	/* reset in case `len' is narrower */
+	    e->engr.len = strlen(engr);
+	    Write(fd, e, sizeof *e);
+	    Write(fd, engr, e->engr.len);
+	    Free(engr);
+	    Free(e);
+	}
+	if (*engravings_p) {
+	    Free(*engravings_p);
+	    *engravings_p = 0;
+	}
+	*nengraving_p = 0;
+	return TRUE;
+}
+
+/*
+ * Open and write maze or rooms file, based on which pointer is non-null.
+ * Return TRUE on success, FALSE on failure.
+ */
+boolean
+write_level_file(filename, room_level, maze_level)
+char *filename;
+splev *room_level;
+specialmaze *maze_level;
+{
+	int fout;
+	char lbuf[60];
+
+	lbuf[0] = '\0';
+#ifdef PREFIX
+	Strcat(lbuf, PREFIX);
+#endif
+	Strcat(lbuf, filename);
+	Strcat(lbuf, LEV_EXT);
+
+	fout = open(lbuf, O_WRONLY|O_CREAT|O_BINARY, OMASK);
+	if (fout < 0) return FALSE;
+
+	if (room_level) {
+	    if (!write_rooms(fout, room_level))
+		return FALSE;
+	} else if (maze_level) {
+	    if (!write_maze(fout, maze_level))
+		return FALSE;
+	} else
+	    panic("write_level_file");
+
+	(void) close(fout);
+	return TRUE;
+}
+
+/*
+ * Here we write the structure of the maze in the specified file (fd).
+ * Also, we have to free the memory allocated via alloc().
+ */
+static boolean
+write_maze(fd, maze)
+int fd;
+specialmaze *maze;
+{
+	short i,j;
+	mazepart *pt;
+
+	if (!write_common_data(fd, SP_LEV_MAZE, &(maze->init_lev), maze->flags))
+	    return FALSE;
+
+	Write(fd, &(maze->filling), sizeof(maze->filling));
+	Write(fd, &(maze->numpart), sizeof(maze->numpart));
+					 /* Number of parts */
+	for(i=0;i<maze->numpart;i++) {
+	    pt = maze->parts[i];
+
+	    /* First, write the map */
+
+	    Write(fd, &(pt->halign), sizeof(pt->halign));
+	    Write(fd, &(pt->valign), sizeof(pt->valign));
+	    Write(fd, &(pt->xsize), sizeof(pt->xsize));
+	    Write(fd, &(pt->ysize), sizeof(pt->ysize));
+	    for(j=0;j<pt->ysize;j++) {
+		if(!maze->init_lev.init_present ||
+		   pt->xsize > 1 || pt->ysize > 1) {
+#if !defined(_MSC_VER) && !defined(__BORLANDC__)
+			Write(fd, pt->map[j], pt->xsize * sizeof *pt->map[j]);
+#else
+			/*
+			 * On MSVC and Borland C compilers the Write macro above caused:
+			 * warning '!=' : signed/unsigned mismatch
+			 */
+			unsigned reslt, sz = pt->xsize * sizeof *pt->map[j];
+			reslt = write(fd, (genericptr_t)(pt->map[j]), sz);
+			if (reslt != sz) return FALSE;
+#endif
+		}
+		Free(pt->map[j]);
+	    }
+	    Free(pt->map);
+
+	    /* level region stuff */
+	    Write(fd, &pt->nlreg, sizeof pt->nlreg);
+	    for (j = 0; j < pt->nlreg; j++) {
+		lev_region *l = pt->lregions[j];
+		char *rname = l->rname.str;
+		l->rname.str = 0;	/* reset in case `len' is narrower */
+		l->rname.len = rname ? strlen(rname) : 0;
+		Write(fd, l, sizeof *l);
+		if (rname) {
+		    Write(fd, rname, l->rname.len);
+		    Free(rname);
+		}
+		Free(l);
+	    }
+	    if (pt->nlreg > 0)
+		Free(pt->lregions);
+
+	    /* random level regions registers */
+	    Write(fd, &pt->nrndlreg, sizeof pt->nrndlreg);
+	    for (j = 0; j < pt->nrndlreg; j++) {
+		lev_region *l = pt->rndlregions[j];
+		char *rname = l->rname.str;
+		l->rname.str = 0;	/* reset in case `len' is narrower */
+		l->rname.len = rname ? strlen(rname) : 0;
+		Write(fd, l, sizeof *l);
+		if (rname) {
+		    Write(fd, rname, l->rname.len);
+		    Free(rname);
+		}
+		Free(l);
+	    }
+	    if (pt->nrndlreg > 0)
+		Free(pt->rndlregions);
+
+	    /* The random registers */
+	    Write(fd, &(pt->nrobjects), sizeof(pt->nrobjects));
+	    if(pt->nrobjects) {
+		    Write(fd, pt->robjects, pt->nrobjects);
+		    Free(pt->robjects);
+	    }
+	    Write(fd, &(pt->nlocset), sizeof(pt->nlocset));
+	    if (pt->nlocset) {
+		Write(fd, pt->nloc, pt->nlocset);
+		for (j = 0; j < pt->nlocset; j++) {
+		    Write(fd, pt->rloc_x[j], pt->nloc[j]);
+		    Write(fd, pt->rloc_y[j], pt->nloc[j]);
+		    Free(pt->rloc_x[j]);
+		    Free(pt->rloc_y[j]);
+		}
+		Free(pt->nloc);
+		Free(pt->rloc_x);
+		Free(pt->rloc_y);
+	    }
+	    Write(fd, &(pt->nrmonst), sizeof(pt->nrmonst));
+	    if(pt->nrmonst) {
+		    Write(fd, pt->rmonst, pt->nrmonst);
+		    Free(pt->rmonst);
+	    }
+
+	    /* subrooms */
+	    Write(fd, &(pt->nreg), sizeof(pt->nreg));
+	    for(j=0;j<pt->nreg;j++) {
+		    Write(fd, pt->regions[j], sizeof(region));
+		    Free(pt->regions[j]);
+	    }
+	    if(pt->nreg > 0)
+		    Free(pt->regions);
+
+	    /* the doors */
+	    Write(fd, &(pt->ndoor), sizeof(pt->ndoor));
+	    for(j=0;j<pt->ndoor;j++) {
+		    Write(fd, pt->doors[j], sizeof(door));
+		    Free(pt->doors[j]);
+	    }
+	    if (pt->ndoor > 0)
+		    Free(pt->doors);
+
+	    /* The drawbridges */
+	    Write(fd, &(pt->ndrawbridge), sizeof(pt->ndrawbridge));
+	    for(j=0;j<pt->ndrawbridge;j++) {
+		    Write(fd, pt->drawbridges[j], sizeof(drawbridge));
+		    Free(pt->drawbridges[j]);
+	    }
+	    if(pt->ndrawbridge > 0)
+		    Free(pt->drawbridges);
+
+	    /* The mazewalk directives */
+	    Write(fd, &(pt->nwalk), sizeof(pt->nwalk));
+	    for(j=0; j<pt->nwalk; j++) {
+		    Write(fd, pt->walks[j], sizeof(walk));
+		    Free(pt->walks[j]);
+	    }
+	    if (pt->nwalk > 0)
+		    Free(pt->walks);
+
+	    /* The non_diggable directives */
+	    Write(fd, &(pt->ndig), sizeof(pt->ndig));
+	    for(j=0;j<pt->ndig;j++) {
+		    Write(fd, pt->digs[j], sizeof(digpos));
+		    Free(pt->digs[j]);
+	    }
+	    if (pt->ndig > 0)
+		    Free(pt->digs);
+
+	    /* The non_passwall directives */
+	    Write(fd, &(pt->npass), sizeof(pt->npass));
+	    for(j=0;j<pt->npass;j++) {
+		    Write(fd, pt->passs[j], sizeof(digpos));
+		    Free(pt->passs[j]);
+	    }
+	    if (pt->npass > 0)
+		    Free(pt->passs);
+
+	    /* The ladders */
+	    Write(fd, &(pt->nlad), sizeof(pt->nlad));
+	    for(j=0;j<pt->nlad;j++) {
+		    Write(fd, pt->lads[j], sizeof(lad));
+		    Free(pt->lads[j]);
+	    }
+	    if (pt->nlad > 0)
+		    Free(pt->lads);
+
+	    /* The stairs */
+	    Write(fd, &(pt->nstair), sizeof(pt->nstair));
+	    for(j=0;j<pt->nstair;j++) {
+		    Write(fd, pt->stairs[j], sizeof(stair));
+		    Free(pt->stairs[j]);
+	    }
+	    if (pt->nstair > 0)
+		    Free(pt->stairs);
+
+	    /* The altars */
+	    Write(fd, &(pt->naltar), sizeof(pt->naltar));
+	    for(j=0;j<pt->naltar;j++) {
+		    Write(fd, pt->altars[j], sizeof(altar));
+		    Free(pt->altars[j]);
+	    }
+	    if (pt->naltar > 0)
+		    Free(pt->altars);
+
+	    /* The fountains */
+	    Write(fd, &(pt->nfountain), sizeof(pt->nfountain));
+	    for(j=0;j<pt->nfountain;j++) {
+		Write(fd, pt->fountains[j], sizeof(fountain));
+		Free(pt->fountains[j]);
+	    }
+	    if (pt->nfountain > 0)
+		    Free(pt->fountains);
+
+	    /* The traps */
+	    Write(fd, &(pt->ntrap), sizeof(pt->ntrap));
+	    for(j=0;j<pt->ntrap;j++) {
+		    Write(fd, pt->traps[j], sizeof(trap));
+		    Free(pt->traps[j]);
+	    }
+	    if (pt->ntrap)
+		    Free(pt->traps);
+
+	    /* The monsters */
+	    if (!write_monsters(fd, &pt->nmonster, &pt->monsters))
+		    return FALSE;
+
+	    /* The objects */
+	    if (!write_objects(fd, &pt->nobject, &pt->objects))
+		    return FALSE;
+
+	    /* The gold piles */
+	    Write(fd, &(pt->ngold), sizeof(pt->ngold));
+	    for(j=0;j<pt->ngold;j++) {
+		    Write(fd, pt->golds[j], sizeof(gold));
+		    Free(pt->golds[j]);
+	    }
+	    if (pt->ngold > 0)
+		    Free(pt->golds);
+
+	    /* The engravings */
+	    if (!write_engravings(fd, &pt->nengraving, &pt->engravings))
+		    return FALSE;
+
+	    Free(pt);
+	}
+
+	Free(maze->parts);
+	maze->parts = (mazepart **)0;
+	maze->numpart = 0;
+	return TRUE;
+}
+
+/*
+ * Here we write the structure of the room level in the specified file (fd).
+ */
+static boolean
+write_rooms(fd, lev)
+int fd;
+splev *lev;
+{
+	short i,j, size;
+	room *pt;
+
+	if (!write_common_data(fd, SP_LEV_ROOMS, &(lev->init_lev), lev->flags))
+		return FALSE;
+
+	/* Random registers */
+
+	Write(fd, &lev->nrobjects, sizeof(lev->nrobjects));
+	if (lev->nrobjects)
+		Write(fd, lev->robjects, lev->nrobjects);
+	Write(fd, &lev->nrmonst, sizeof(lev->nrmonst));
+	if (lev->nrmonst)
+		Write(fd, lev->rmonst, lev->nrmonst);
+
+	Write(fd, &(lev->nroom), sizeof(lev->nroom));
+							/* Number of rooms */
+	for(i=0;i<lev->nroom;i++) {
+		pt = lev->rooms[i];
+
+		/* Room characteristics */
+
+		size = (short) (pt->name ? strlen(pt->name) : 0);
+		Write(fd, &size, sizeof(size));
+		if (size)
+			Write(fd, pt->name, size);
+
+		size = (short) (pt->parent ? strlen(pt->parent) : 0);
+		Write(fd, &size, sizeof(size));
+		if (size)
+			Write(fd, pt->parent, size);
+
+		Write(fd, &(pt->x), sizeof(pt->x));
+		Write(fd, &(pt->y), sizeof(pt->y));
+		Write(fd, &(pt->w), sizeof(pt->w));
+		Write(fd, &(pt->h), sizeof(pt->h));
+		Write(fd, &(pt->xalign), sizeof(pt->xalign));
+		Write(fd, &(pt->yalign), sizeof(pt->yalign));
+		Write(fd, &(pt->rtype), sizeof(pt->rtype));
+		Write(fd, &(pt->chance), sizeof(pt->chance));
+		Write(fd, &(pt->rlit), sizeof(pt->rlit));
+		Write(fd, &(pt->filled), sizeof(pt->filled));
+
+		/* the doors */
+		Write(fd, &(pt->ndoor), sizeof(pt->ndoor));
+		for(j=0;j<pt->ndoor;j++)
+			Write(fd, pt->doors[j], sizeof(room_door));
+
+		/* The stairs */
+		Write(fd, &(pt->nstair), sizeof(pt->nstair));
+		for(j=0;j<pt->nstair;j++)
+			Write(fd, pt->stairs[j], sizeof(stair));
+
+		/* The altars */
+		Write(fd, &(pt->naltar), sizeof(pt->naltar));
+		for(j=0;j<pt->naltar;j++)
+			Write(fd, pt->altars[j], sizeof(altar));
+
+		/* The fountains */
+		Write(fd, &(pt->nfountain), sizeof(pt->nfountain));
+		for(j=0;j<pt->nfountain;j++)
+			Write(fd, pt->fountains[j], sizeof(fountain));
+
+		/* The sinks */
+		Write(fd, &(pt->nsink), sizeof(pt->nsink));
+		for(j=0;j<pt->nsink;j++)
+			Write(fd, pt->sinks[j], sizeof(sink));
+
+		/* The pools */
+		Write(fd, &(pt->npool), sizeof(pt->npool));
+		for(j=0;j<pt->npool;j++)
+			Write(fd, pt->pools[j], sizeof(pool));
+
+		/* The traps */
+		Write(fd, &(pt->ntrap), sizeof(pt->ntrap));
+		for(j=0;j<pt->ntrap;j++)
+			Write(fd, pt->traps[j], sizeof(trap));
+
+		/* The monsters */
+		if (!write_monsters(fd, &pt->nmonster, &pt->monsters))
+			return FALSE;
+
+		/* The objects */
+		if (!write_objects(fd, &pt->nobject, &pt->objects))
+			return FALSE;
+
+		/* The gold piles */
+		Write(fd, &(pt->ngold), sizeof(pt->ngold));
+		for(j=0;j<pt->ngold;j++)
+			Write(fd, pt->golds[j], sizeof(gold));
+
+		/* The engravings */
+		if (!write_engravings(fd, &pt->nengraving, &pt->engravings))
+			return FALSE;
+
+	}
+
+	/* The corridors */
+	Write(fd, &lev->ncorr, sizeof(lev->ncorr));
+	for (i=0; i < lev->ncorr; i++)
+		Write(fd, lev->corrs[i], sizeof(corridor));
+	return TRUE;
+}
+
+/*
+ * Release memory allocated to a rooms-style special level; maze-style
+ * levels have the fields freed as they're written; monsters, objects, and
+ * engravings are freed as written for both styles, so not handled here.
+ */
+void
+free_rooms(lev)
+splev *lev;
+{
+	room *r;
+	int j, n = lev->nroom;
+
+	while(n--) {
+		r = lev->rooms[n];
+		Free(r->name);
+		Free(r->parent);
+		if ((j = r->ndoor) != 0) {
+			while(j--)
+				Free(r->doors[j]);
+			Free(r->doors);
+		}
+		if ((j = r->nstair) != 0) {
+			while(j--)
+				Free(r->stairs[j]);
+			Free(r->stairs);
+		}
+		if ((j = r->naltar) != 0) {
+			while (j--)
+				Free(r->altars[j]);
+			Free(r->altars);
+		}
+		if ((j = r->nfountain) != 0) {
+			while(j--)
+				Free(r->fountains[j]);
+			Free(r->fountains);
+		}
+		if ((j = r->nsink) != 0) {
+			while(j--)
+				Free(r->sinks[j]);
+			Free(r->sinks);
+		}
+		if ((j = r->npool) != 0) {
+			while(j--)
+				Free(r->pools[j]);
+			Free(r->pools);
+		}
+		if ((j = r->ntrap) != 0) {
+			while (j--)
+				Free(r->traps[j]);
+			Free(r->traps);
+		}
+		if ((j = r->ngold) != 0) {
+			while(j--)
+				Free(r->golds[j]);
+			Free(r->golds);
+		}
+		Free(r);
+		lev->rooms[n] = (room *)0;
+	}
+	Free(lev->rooms);
+	lev->rooms = (room **)0;
+	lev->nroom = 0;
+
+	for (j = 0; j < lev->ncorr; j++) {
+		Free(lev->corrs[j]);
+		lev->corrs[j] = (corridor *)0;
+	}
+	Free(lev->corrs);
+	lev->corrs = (corridor **)0;
+	lev->ncorr = 0;
+
+	Free(lev->robjects);
+	lev->robjects = (char *)0;
+	lev->nrobjects = 0;
+	Free(lev->rmonst);
+	lev->rmonst = (char *)0;
+	lev->nrmonst = 0;
+}
+
+#ifdef STRICT_REF_DEF
+/*
+ * Any globals declared in hack.h and descendents which aren't defined
+ * in the modules linked into lev_comp should be defined here.  These
+ * definitions can be dummies:  their sizes shouldn't matter as long as
+ * as their types are correct; actual values are irrelevant.
+ */
+#define ARBITRARY_SIZE 1
+/* attrib.c */
+struct attribs attrmax, attrmin;
+/* files.c */
+const char *configfile;
+char lock[ARBITRARY_SIZE];
+char SAVEF[ARBITRARY_SIZE];
+# ifdef MICRO
+char SAVEP[ARBITRARY_SIZE];
+# endif
+/* termcap.c */
+struct tc_lcl_data tc_lcl_data;
+# ifdef TEXTCOLOR
+#  ifdef TOS
+const char *hilites[CLR_MAX];
+#  else
+char NEARDATA *hilites[CLR_MAX];
+#  endif
+# endif
+/* trap.c */
+const char *traps[TRAPNUM];
+/* window.c */
+struct window_procs windowprocs;
+/* xxxtty.c */
+# ifdef DEFINE_OSPEED
+short ospeed;
+# endif
+#endif	/* STRICT_REF_DEF */
+
+/*lev_main.c*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\lev_yacc.c SlashTNG-master\src\lev_yacc.c
--- slashem-0.0.7E7F3\src\lev_yacc.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\lev_yacc.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,2704 @@
+#ifndef lint
+static char const 
+yyrcsid[] = "$FreeBSD: src/usr.bin/yacc/skeleton.c,v 1.28 2000/01/17 02:04:06 bde Exp $";
+#endif
+#include <stdlib.h>
+#define YYBYACC 1
+#define YYMAJOR 1
+#define YYMINOR 9
+#define YYLEX yylex()
+#define YYEMPTY -1
+#define yyclearin (yychar=(YYEMPTY))
+#define yyerrok (yyerrflag=0)
+#define YYRECOVERING() (yyerrflag!=0)
+static int yygrowstack();
+#define YYPREFIX "yy"
+/*	SCCS Id: @(#)lev_yacc.c	3.4	2000/01/17	*/
+/*	Copyright (c) 1989 by Jean-Christophe Collet */
+/* NetHack may be freely redistributed.  See license for details. */
+
+/*
+ * This file contains the Level Compiler code
+ * It may handle special mazes & special room-levels
+ */
+
+#define LEVEL_COMPILER	1	/* Enable definition of internal structures */
+
+/* In case we're using bison in AIX.  This definition must be
+ * placed before any other C-language construct in the file
+ * excluding comments and preprocessor directives (thanks IBM
+ * for this wonderful feature...).
+ *
+ * Note: some cpps barf on this 'undefined control' (#pragma).
+ * Addition of the leading space seems to prevent barfage for now,
+ * and AIX will still see the directive.
+ */
+#ifdef _AIX
+ #pragma alloca		/* keep leading space! */
+#endif
+
+#include "hack.h"
+#include "sp_lev.h"
+
+#define MAX_REGISTERS	10
+#define ERR		(-1)
+/* many types of things are put in chars for transference to NetHack.
+ * since some systems will use signed chars, limit everybody to the
+ * same number for portability.
+ */
+#define MAX_OF_TYPE	128
+
+#define New(type)		\
+	(type *) memset((genericptr_t)alloc(sizeof(type)), 0, sizeof(type))
+#define NewTab(type, size)	(type **) alloc(sizeof(type *) * size)
+#define Free(ptr)		free((genericptr_t)ptr)
+
+extern void FDECL(yyerror, (const char *));
+extern void FDECL(yywarning, (const char *));
+extern int NDECL(yylex);
+int NDECL(yyparse);
+
+extern int FDECL(get_artifact_id, (char *));
+extern int FDECL(get_floor_type, (CHAR_P));
+extern int FDECL(get_room_type, (char *));
+extern int FDECL(get_trap_type, (char *));
+extern int FDECL(get_monster_id, (char *,CHAR_P));
+extern int FDECL(get_object_id, (char *,CHAR_P));
+extern boolean FDECL(check_monster_char, (CHAR_P));
+extern boolean FDECL(check_object_char, (CHAR_P));
+extern char FDECL(what_map_char, (CHAR_P));
+extern void FDECL(scan_map, (char *));
+extern void NDECL(wallify_map);
+extern boolean NDECL(check_subrooms);
+extern void FDECL(check_coord, (int,int,const char *));
+extern void NDECL(store_part);
+extern void NDECL(store_room);
+extern void FDECL(store_place_list, (int,int,int,const struct coord *));
+extern boolean FDECL(write_level_file, (char *,splev *,specialmaze *));
+extern void FDECL(free_rooms, (splev *));
+
+static struct reg {
+	int x1, y1;
+	int x2, y2;
+}		current_region;
+
+static struct coord current_coord, current_align;
+
+static struct size {
+	int height;
+	int width;
+}		current_size;
+
+char tmpmessage[256];
+digpos *tmppass[32];
+char *tmpmap[ROWNO];
+
+digpos *tmpdig[MAX_OF_TYPE];
+region *tmpreg[MAX_OF_TYPE];
+lev_region *tmplreg[MAX_OF_TYPE];
+door *tmpdoor[MAX_OF_TYPE];
+drawbridge *tmpdb[MAX_OF_TYPE];
+walk *tmpwalk[MAX_OF_TYPE];
+lev_region *tmprndlreg[MAX_REGISTERS];
+
+room_door *tmprdoor[MAX_OF_TYPE];
+trap *tmptrap[MAX_OF_TYPE];
+monster *tmpmonst[MAX_OF_TYPE];
+object *tmpobj[MAX_OF_TYPE];
+altar *tmpaltar[MAX_OF_TYPE];
+lad *tmplad[MAX_OF_TYPE];
+stair *tmpstair[MAX_OF_TYPE];
+gold *tmpgold[MAX_OF_TYPE];
+engraving *tmpengraving[MAX_OF_TYPE];
+fountain *tmpfountain[MAX_OF_TYPE];
+sink *tmpsink[MAX_OF_TYPE];
+pool *tmppool[MAX_OF_TYPE];
+
+mazepart *tmppart[10];
+room *tmproom[MAXNROFROOMS*2];
+corridor *tmpcor[MAX_OF_TYPE];
+
+static specialmaze maze;
+static splev special_lev;
+static lev_init init_lev;
+
+static char olist[MAX_REGISTERS], mlist[MAX_REGISTERS];
+static struct coord plist[MAX_REGISTERS];
+
+int n_olist = 0, n_mlist = 0, n_plist = 0;
+
+unsigned int nrndlreg = 0;
+unsigned int nlreg = 0, nreg = 0, ndoor = 0, ntrap = 0, nmons = 0, nobj = 0;
+unsigned int ndb = 0, nwalk = 0, npart = 0, ndig = 0, nlad = 0, nstair = 0;
+unsigned int naltar = 0, ncorridor = 0, nrooms = 0, ngold = 0, nengraving = 0;
+unsigned int nfountain = 0, npool = 0, nsink = 0, npass = 0;
+
+static int lev_flags = 0;
+
+unsigned int max_x_map, max_y_map;
+
+static xchar in_room;
+
+extern int fatal_error;
+extern int want_warnings;
+extern const char *fname;
+
+typedef union
+{
+	int	i;
+	char*	map;
+	struct {
+		xchar room;
+		xchar wall;
+		xchar door;
+	} corpos;
+} YYSTYPE;
+#define YYERRCODE 256
+#define CHAR 257
+#define INTEGER 258
+#define BOOLEAN 259
+#define PERCENT 260
+#define MESSAGE_ID 261
+#define MAZE_ID 262
+#define LEVEL_ID 263
+#define LEV_INIT_ID 264
+#define GEOMETRY_ID 265
+#define NOMAP_ID 266
+#define OBJECT_ID 267
+#define COBJECT_ID 268
+#define MONSTER_ID 269
+#define TRAP_ID 270
+#define DOOR_ID 271
+#define DRAWBRIDGE_ID 272
+#define MAZEWALK_ID 273
+#define WALLIFY_ID 274
+#define REGION_ID 275
+#define FILLING 276
+#define RANDOM_OBJECTS_ID 277
+#define RANDOM_MONSTERS_ID 278
+#define RANDOM_PLACES_ID 279
+#define ALTAR_ID 280
+#define LADDER_ID 281
+#define STAIR_ID 282
+#define NON_DIGGABLE_ID 283
+#define NON_PASSWALL_ID 284
+#define ROOM_ID 285
+#define PORTAL_ID 286
+#define TELEPRT_ID 287
+#define BRANCH_ID 288
+#define LEV 289
+#define CHANCE_ID 290
+#define CORRIDOR_ID 291
+#define GOLD_ID 292
+#define ENGRAVING_ID 293
+#define FOUNTAIN_ID 294
+#define POOL_ID 295
+#define SINK_ID 296
+#define NONE 297
+#define RAND_CORRIDOR_ID 298
+#define DOOR_STATE 299
+#define LIGHT_STATE 300
+#define CURSE_TYPE 301
+#define ENGRAVING_TYPE 302
+#define DIRECTION 303
+#define RANDOM_TYPE 304
+#define O_REGISTER 305
+#define M_REGISTER 306
+#define P_REGISTER 307
+#define A_REGISTER 308
+#define ALIGNMENT 309
+#define LEFT_OR_RIGHT 310
+#define CENTER 311
+#define TOP_OR_BOT 312
+#define ALTAR_TYPE 313
+#define UP_OR_DOWN 314
+#define SUBROOM_ID 315
+#define NAME_ID 316
+#define FLAGS_ID 317
+#define FLAG_TYPE 318
+#define MON_ATTITUDE 319
+#define MON_ALERTNESS 320
+#define MON_APPEARANCE 321
+#define CONTAINED 322
+#define OBJFLAG_TYPE 323
+#define OBJFLAGS_ID 324
+#define RANDOMREGION_ID 325
+#define R_REGISTER 326
+#define STRING 327
+#define MAP_ID 328
+const short yylhs[] = {                                        -1,
+    0,    0,   37,   37,   38,   38,   39,   40,   33,   23,
+   23,   14,   14,   19,   19,   20,   20,   41,   41,   46,
+   43,   43,   47,   47,   44,   44,   50,   50,   45,   45,
+   52,   53,   53,   54,   54,   36,   51,   51,   57,   55,
+   10,   10,   60,   60,   58,   58,   61,   61,   59,   59,
+   56,   56,   62,   62,   62,   62,   62,   62,   62,   62,
+   62,   62,   62,   62,   62,   62,   63,   64,   78,   65,
+   77,   77,   79,   15,   15,   13,   13,   12,   12,   32,
+   11,   11,   42,   42,   80,   81,   81,   84,    1,    1,
+    2,    2,   82,   82,   85,   85,   85,   85,   85,   48,
+   48,   49,   49,   86,   89,   86,   83,   83,   90,   90,
+   90,   90,   90,   90,   90,   90,   90,   90,   90,   90,
+   90,   90,   90,   90,   90,   90,   90,   90,   90,  105,
+   66,  104,  104,  106,  106,  106,  106,  106,   67,   67,
+  108,  107,  109,  109,  110,  110,  110,  110,   68,   30,
+   30,  111,  111,  112,  113,  113,  114,  114,  114,  116,
+   91,  115,  115,  117,   69,   92,   98,   99,  100,   76,
+  118,   94,  119,   87,  120,   95,  121,  123,   96,  124,
+   97,  122,  122,   22,   22,   71,   72,   73,  101,  102,
+   93,   70,   74,   75,   25,   25,   25,   28,   28,   28,
+   34,   34,   35,   35,    3,    3,    4,    4,   21,   21,
+   21,  103,  103,  103,  103,    5,    5,    6,    6,    7,
+    7,    7,    8,    8,  127,  127,  128,   29,   26,    9,
+   88,   88,   24,   27,   31,   16,   16,   17,   17,   18,
+   18,  126,  125,
+};
+const short yylen[] = {                                         2,
+    0,    1,    1,    2,    1,    1,    5,    7,    3,    0,
+   13,    1,    1,    0,    3,    3,    1,    0,    2,    3,
+    0,    2,    3,    3,    0,    1,    1,    2,    1,    1,
+    1,    0,    2,    5,    5,    7,    2,    2,   12,   12,
+    0,    2,    5,    1,    5,    1,    5,    1,    5,    1,
+    0,    2,    1,    1,    1,    1,    1,    1,    1,    1,
+    1,    1,    1,    1,    1,    1,    3,    3,    0,   11,
+    0,    2,    2,    1,    1,    1,    1,    1,    1,    5,
+    1,    1,    1,    2,    3,    1,    2,    5,    1,    1,
+    1,    1,    0,    2,    3,    3,    6,    3,    1,    1,
+    3,    1,    3,    1,    0,    4,    0,    2,    1,    1,
+    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+    1,    1,    1,    1,    1,    1,    1,    1,    1,    0,
+   10,    0,    2,    2,    2,    2,    2,    3,    2,    2,
+    0,    9,    1,    1,    0,    7,    5,    5,    3,    3,
+    1,    1,    1,    1,    1,    1,    0,    2,    2,    0,
+    7,    0,    2,    2,    6,    7,    5,    1,    5,    5,
+    0,    8,    0,    9,    0,    8,    0,    0,    8,    0,
+    6,    0,    2,    1,   10,    3,    3,    3,    3,    3,
+    8,    7,    5,    7,    1,    1,    1,    1,    1,    1,
+    1,    1,    1,    1,    1,    1,    1,    1,    0,    2,
+    4,    1,    1,    1,    1,    1,    1,    1,    1,    1,
+    1,    1,    1,    1,    4,    7,    4,    4,    4,    4,
+    1,    1,    1,    1,    1,    1,    1,    0,    1,    1,
+    1,    5,    9,
+};
+const short yydefred[] = {                                      0,
+    0,    0,    0,    0,    0,    2,    0,    5,    6,    0,
+    0,    0,    0,    0,    4,  235,    0,    9,    0,    0,
+    0,    0,    0,    0,   15,    0,    0,    0,    0,   21,
+   81,   82,   80,    0,    0,    0,    0,   86,    7,    0,
+   93,    0,   19,    0,   16,    0,   20,    0,   84,    0,
+   87,    0,    0,    0,    0,    0,   22,   26,    0,   51,
+   51,    0,   89,   90,    0,    0,    0,    0,    0,    0,
+   94,   99,    0,    0,    0,    0,   31,    8,   29,    0,
+   28,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,  168,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,  109,  110,  111,  113,  120,  121,  126,  127,  125,
+  108,  112,  114,  115,  116,  117,  118,  119,  122,  123,
+  124,  128,  129,  234,    0,   23,  233,    0,   24,  208,
+    0,  207,    0,    0,   33,    0,    0,    0,    0,    0,
+    0,   52,   53,   54,   55,   56,   57,   58,   59,   60,
+   61,   62,   63,   64,   65,   66,    0,   92,   91,   88,
+   95,   98,  232,    0,   96,    0,  231,    0,    0,  239,
+    0,  139,  140,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+  216,  217,    0,  215,    0,    0,    0,  212,  213,  214,
+    0,    0,    0,    0,    0,    0,    0,  171,    0,  184,
+  189,  190,  175,  177,  180,  236,  237,    0,    0,  186,
+  151,    0,  101,  103,  218,  219,    0,    0,    0,    0,
+   74,   75,    0,   68,  188,  187,   67,    0,    0,    0,
+    0,    0,  199,    0,  198,    0,  200,  196,    0,  195,
+    0,  197,  206,    0,  205,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,  106,   97,  173,    0,    0,    0,    0,    0,  160,
+    0,    0,    0,  167,    0,    0,  222,    0,  220,    0,
+  221,  169,    0,    0,    0,  170,    0,    0,    0,  193,
+  240,  241,    0,  150,   44,    0,    0,   46,    0,    0,
+    0,   35,   34,    0,    0,  242,    0,    0,  204,  203,
+  141,    0,  202,  201,    0,  165,  162,    0,  227,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,  178,  181,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,  228,
+    0,  229,    0,    0,    0,  166,    0,    0,    0,  224,
+  223,  192,    0,    0,    0,    0,  194,    0,   48,    0,
+    0,    0,   50,    0,    0,    0,   76,   77,    0,   12,
+   13,   11,  174,    0,  130,    0,  163,    0,    0,    0,
+  191,  230,    0,  172,  176,    0,  179,    0,    0,    0,
+    0,    0,    0,   78,   79,    0,    0,  144,  143,    0,
+  132,  164,  226,    0,    0,    0,  183,   43,    0,    0,
+   45,    0,    0,   36,   69,    0,  142,    0,    0,    0,
+    0,    0,    0,   40,    0,   39,   71,  153,  152,  154,
+    0,    0,    0,  133,  243,  211,    0,   47,   42,   49,
+    0,    0,    0,  135,  136,    0,  137,  134,  185,    0,
+   72,  156,  155,    0,    0,    0,  138,   73,    0,    0,
+  147,  148,    0,  158,  159,  146,
+};
+const short yydgoto[] = {                                       3,
+   65,  170,  284,  141,  223,  257,  330,  402,  331,  474,
+   33,  446,  419,  422,  263,  248,  181,  343,   13,   25,
+  431,  238,   21,  138,  281,  282,  135,  276,  277,  252,
+  142,    4,    5,  365,  361,  260,    6,    7,    8,    9,
+   28,   39,   44,   56,   78,   29,   57,  136,  139,   58,
+   59,   79,   80,  145,   60,   82,   61,  350,  415,  347,
+  411,  152,  153,  154,  155,  156,  157,  158,  159,  160,
+  161,  162,  163,  164,  165,  166,  491,  477,  501,   40,
+   41,   50,   70,   42,   71,  175,   72,  176,  215,  121,
+  122,  123,  124,  125,  126,  127,  128,  129,  130,  131,
+  132,  133,  239,  468,  451,  484,  182,  391,  450,  467,
+  481,  482,  505,  511,  394,  367,  427,  297,  357,  299,
+  300,  437,  406,  301,  240,  228,  229,  230,
+};
+const short yysindex[] = {                                   -239,
+  -22,    4,    0, -189, -189,    0, -239,    0,    0, -209,
+ -209,   77, -115, -115,    0,    0,  109,    0, -154,  108,
+  -89,  -89, -230,  129,    0,  -83,  118, -153,  -89,    0,
+    0,    0,    0, -154,  134, -147,  124,    0,    0, -153,
+    0, -145,    0, -201,    0,  -72,    0, -167,    0, -237,
+    0,  126,  128,  130,  132, -111,    0,    0, -250,    0,
+    0,  145,    0,    0,  149,  136,  137,  -33,  105,  862,
+    0,    0,  -60,  -59, -282, -282,    0,    0,    0,  -92,
+    0, -199, -199,  -58, -161,  -60,  -59,  -36,  -55,  -54,
+  -52,  -52,  -52,  -52,  142,  147,  151,    0,  153,  154,
+  156,  157,  158,  159,  160,  161,  162,  163,  164,  165,
+  168,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,  183,    0,    0,  184,    0,    0,
+  185,    0,  186,  173,    0,  174,  175,  178,  180,  182,
+  187,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,  191,    0,    0,    0,
+    0,    0,    0,  -51,    0,    0,    0,  144,  146,    0,
+  188,    0,    0,  189,  190, -194,   -2,   -2,  201,   -2,
+   -2,   81,  201,  201,  -35,  -35,  -35, -214,   -2,   -2,
+  -98,  -60,  -59, -174, -174,  202, -226,   -2,  -15,   -2,
+   -2, -209,   -9,  205,  207,  194,  195, -225, -231, -276,
+    0,    0,  211,    0,  166,  169,  212,    0,    0,    0,
+  214,    1,  218,  219,  222,  271,   60,    0,  281,    0,
+    0,    0,    0,    0,    0,    0,    0,  286,  298,    0,
+    0,  311,    0,    0,    0,    0,  312,  318,  107,  319,
+    0,    0,  322,    0,    0,    0,    0,  323,  110,  -36,
+  -36,  -35,    0,  278,    0,  328,    0,    0,  282,    0,
+  330,    0,    0,  331,    0,   -2,  119,  120,   73,   76,
+  336, -174, -193,   68,  125,  340,  342,   78,  343,  345,
+  376,   -2, -175,   99,   -6,   -1,  382,  -34, -194, -174,
+  386,    0,    0,    0,  170, -204,  192, -203,   -2,    0,
+  338,  339,  401,    0,  193,  402,    0,  357,    0,  409,
+    0,    0,  410,  208,  -35,    0,  -35,  -35,  -35,    0,
+    0,    0,  423,    0,    0,  213,  425,    0,  216,  432,
+  209,    0,    0,  434,  436,    0,  440,  392,    0,    0,
+    0,  394,    0,    0,  444,    0,    0,  398,    0, -194,
+  448, -282,  235, -256,  237,  104,  454,  466,    0,    0,
+ -209,  467,    3,  469,   10,  479, -143, -205,  -35,    0,
+  487,    0,   -2,  489,  276,    0,  277,  492,  445,    0,
+    0,    0,  493,  225, -209,  496,    0,  284,    0, -167,
+  499,  287,    0,  288,  500, -212,    0,    0,  503,    0,
+    0,    0,    0,   -3,    0, -209,    0,  455,  507,  279,
+    0,    0,  294,    0,    0,  239,    0,  513,  512,   10,
+  516,  517, -209,    0,    0,  532, -212,    0,    0,  531,
+    0,    0,    0,  341,  542,  550,    0,    0, -161,  552,
+    0,  344,  552,    0,    0, -240,    0,  553,  535,  346,
+  348,  557,  349,    0,  559,    0,    0,    0,    0,    0,
+  560,  565, -162,    0,    0,    0,  562,    0,    0,    0,
+  566, -241, -206,    0,    0, -209,    0,    0,    0, -209,
+    0,    0,    0,  567,  570,  570,    0,    0, -206, -242,
+    0,    0,  570,    0,    0,    0,
+};
+const short yyrindex[] = {                                    601,
+    0,    0,    0, -157,  783,    0,  615,    0,    0,    0,
+    0,    0, -128,  801,    0,    0,    0,    0,    0,    0,
+ -103,  826,    0,  758,    0,    0,    0,    0,  792,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,   53,
+    0,    0,    0,  177,    0,    0,    0,    0,    0,  541,
+    0,    0,    0,    0,    0,   29,    0,    0,  181,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,   47,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,   59,
+    0,  179,  700,    0,    0,    0,    0,    0,    0,    0,
+  558,  558,  558,  558,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    2,    0,    0,   66,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,  131,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,  297,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,  234,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,  574,    0,    0,    0,  607,    0,    0,
+    0,    0,    0,    0,    0,  640,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,  361,
+    0,    0,    0,    0,  673,    0,    0,    0,    0,  167,
+    0,    0,  167,    0,    0,    0,    0,  421,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+  710,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,  481,  481,    0,    0,    0,    0,
+    0,    0,  481,    0,    0,    0,
+};
+const short yygindex[] = {                                      0,
+  210,  199,    0,  -73, -288, -190,  135,    0,    0,  176,
+    0,  172,    0,    0,    0,    0,   75,    0,  612,  588,
+    0, -183,  611,  418,    0,    0,  420,    0,    0,    0,
+  -10,    0,    0,    0,    0,  352,  643,    0,    0,    0,
+   27,  621,    0,    0,    0,    0,    0,  -70,  -69,  603,
+    0,    0,    0,    0,    0,  602,    0,    0,  224,    0,
+    0,    0,    0,    0,    0,  595,  596,  597,  598,  599,
+  600,    0,    0,  604,  605,  608,    0,    0,    0,    0,
+    0,    0,    0,    0,    0, -100,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0, -180,    0,    0,    0,  579,    0,    0,    0,
+    0,  206, -390, -446,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,  -53,  -79,    0,    0,
+};
+#define YYTABLESIZE 1186
+const short yytable[] = {                                      17,
+   18,  100,  143,  174,  232,  259,  227,  231,  177,  234,
+  235,  243,  244,  245,  258,  171,  502,  172,  249,  250,
+  354,  140,    1,    2,   88,  137,   31,  283,   32,  265,
+  266,  134,  261,  346,   54,   10,  174,  174,  349,   66,
+   67,   68,  410,  246,   16,  444,   85,  400,   30,  414,
+   16,  502,   83,  420,  514,   43,  401,   89,   30,  512,
+  478,   11,  503,  479,   55,  102,  516,   91,   92,   93,
+   94,  146,  278,   32,  279,   52,   53,  262,  273,  274,
+  100,  396,  147,   54,  515,  480,  480,   69,  314,  247,
+  148,  445,  108,  109,  110,  149,  150,  503,  421,  359,
+  363,  326,  506,   14,  221,  320,   14,   14,   14,  222,
+  327,   37,   38,   55,  328,  329,  151,   16,  513,  355,
+  237,  340,   16,   16,  111,  255,  341,   12,  342,  256,
+  104,  253,   10,  254,   19,  233,   10,   10,  366,  241,
+  242,  327,   63,   64,  356,  328,  329,  397,   20,  168,
+  169,  377,   23,  378,  379,  380,  494,  495,  496,  417,
+  418,   18,   18,   24,   16,   26,   41,  184,  185,  312,
+  313,   27,   34,   35,  105,   36,   25,   46,   37,   47,
+   27,   48,   51,   73,   62,   74,   77,   75,   84,   76,
+  177,  177,   85,   86,   87,   90,  134,  137,  144,  186,
+  167,  267,  178,  179,  187,  423,  214,  180,  188,  285,
+  189,  190,  425,  191,  192,  193,  194,  195,  196,  197,
+  198,  199,  200,  352,  251,  201,  202,  203,  204,  205,
+  206,  207,  208,  225,  213,  209,  216,  210,  217,  211,
+  232,  259,  264,  449,  212,  218,  219,  220,  269,  268,
+  270,  271,  272,  236,  286,  289,  287,  290,  291,  288,
+  173,  292,  293,  100,  100,  294,  100,  100,  100,  100,
+  100,  100,  100,  100,  100,  100,  100,  225,  100,  100,
+  100,  100,  100,  100,  100,  100,  100,  100,  100,  100,
+   32,   32,  100,  100,  100,  100,  149,  345,  398,  100,
+  224,  224,  348,  225,  225,  360,  409,  364,   85,   85,
+  295,   85,   85,  413,   83,   83,  100,  296,  448,   32,
+   30,   30,  226,  226,  298,  100,  100,  102,  102,  302,
+  102,  102,  102,  102,  102,  102,  102,  102,  102,  102,
+  102,  303,  102,  102,  102,  102,  102,  102,  102,  102,
+  102,  102,  102,  102,  304,  305,  102,  102,  102,  102,
+  145,  306,  308,  102,  307,  309,  310,  311,  315,  236,
+  407,  316,  317,  318,  319,  323,  321,  322,  324,  325,
+  102,  332,  333,  334,  224,  335,  337,  225,  338,  102,
+  102,  336,  104,  104,  435,  104,  104,  104,  104,  104,
+  104,  104,  104,  104,  104,  104,  226,  104,  104,  104,
+  104,  104,  104,  104,  104,  452,  104,  104,  104,  339,
+  131,  344,  104,  104,  104,  351,  356,  358,   41,   41,
+  368,  369,  463,   41,   41,   41,   41,   41,   25,   25,
+   37,   37,   27,   27,  370,  372,   41,  373,   41,  362,
+  371,   41,  374,  375,  104,  104,   41,   41,   41,   41,
+   41,   41,   41,   37,   41,  376,  381,   25,  383,   37,
+  382,   27,  498,  384,   25,  385,   37,  387,   27,  388,
+  157,   41,   41,  389,  390,  507,  392,  393,  395,  508,
+   41,  397,  399,   37,  403,  225,  225,  404,  225,  225,
+  225,  225,  225,  225,  225,  225,  225,  225,  225,  405,
+  408,  386,  412,  225,  225,  225,  225,  225,  225,  225,
+  225,  225,  416,  225,  225,  225,  225,  225,  225,  225,
+  424,  225,  426,  428,  429,  430,  433,  432,  434,  436,
+  107,  438,  440,  443,  441,  442,  447,  453,  225,  225,
+  454,  456,  457,  458,  455,  459,  461,  225,  149,  149,
+  462,  149,  149,  149,  149,  149,  149,  149,  149,  149,
+  149,  149,  464,  161,  466,  485,  149,  149,  149,  149,
+  149,  149,  149,  149,  149,  470,  149,  149,  149,  149,
+  149,  149,  149,  471,  149,  473,  483,  488,  469,  490,
+    1,  475,  499,  492,  486,  487,  209,  489,  493,  500,
+  509,  149,  149,  510,    3,  238,   14,  497,  465,  439,
+  149,   45,  145,  145,   22,  145,  145,  145,  145,  145,
+  145,  145,  145,  145,  145,  145,  280,  275,  476,  182,
+  145,  145,  145,  145,  145,  145,  145,  145,  145,   15,
+  145,  145,  145,  145,  145,  145,  145,  472,  145,  353,
+   49,   81,   83,  460,  112,  113,  114,  115,  116,  117,
+  183,    0,  210,  118,  119,  145,  145,  120,    0,    0,
+    0,    0,  131,  131,  145,  131,  131,  131,  131,  131,
+  131,  131,  131,  131,  131,  131,    0,  504,    0,   38,
+  131,  131,  131,  131,  131,  131,  131,  131,  131,   70,
+  131,  131,  131,  131,  131,  131,  131,    0,  131,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,  131,  131,    0,    0,    0,
+    0,    0,  157,  157,  131,  157,  157,  157,  157,  157,
+  157,  157,  157,  157,  157,  157,    0,   17,    0,    0,
+  157,  157,  157,  157,  157,  157,  157,  157,  157,    0,
+  157,  157,  157,  157,  157,  157,  157,    0,  157,    0,
+    0,    0,   14,    0,    0,    0,    0,    0,    0,    0,
+    0,   18,    0,    0,    0,  157,  157,    0,    0,    0,
+   10,    0,  107,  107,  157,  107,  107,  107,  107,  107,
+  107,  107,  107,  107,  107,  107,    0,    0,    0,    0,
+  107,  107,  107,  107,  107,   18,  107,  107,  107,    0,
+    0,    0,  107,  107,  107,  161,  161,    0,  161,  161,
+  161,  161,  161,  161,  161,  161,  161,  161,  161,    0,
+    0,    0,    0,  161,  161,  161,  161,  161,    0,  161,
+  161,  161,    0,    0,  107,  161,  161,  161,  209,  209,
+    0,  209,  209,  209,  209,  209,  209,  209,  209,  209,
+  209,  209,    0,    0,    0,    0,  209,  209,  209,  209,
+  209,    0,  209,  209,  209,    0,    0,  161,  209,  209,
+  209,  182,  182,    0,  182,  182,  182,  182,  182,  182,
+  182,  182,  182,  182,  182,    0,    0,    0,    0,  182,
+  182,  182,  182,  182,    0,  182,  182,  182,    0,    0,
+  209,  182,  182,  182,  210,  210,    0,  210,  210,  210,
+  210,  210,  210,  210,  210,  210,  210,  210,    0,    0,
+    0,    0,  210,  210,  210,  210,  210,    0,  210,  210,
+  210,   38,   38,  182,  210,  210,  210,    0,    0,    0,
+    0,   70,   70,    0,    0,    0,   70,   70,   70,   70,
+   70,    0,    0,    0,   38,    0,    0,    0,    0,   70,
+   38,   70,    0,    0,   70,    0,  210,   38,    0,   70,
+   70,   70,   70,   70,   70,   70,    0,   70,    0,    0,
+    0,    0,    0,    0,   38,    0,    0,    0,   17,   17,
+   17,   17,   17,   17,   70,   70,    0,    0,    0,    0,
+    0,    0,    0,   70,   17,   17,    0,    0,    0,    0,
+    0,    0,   17,   14,   14,   14,   14,    0,   17,    0,
+    0,    0,    0,   18,   18,   17,   18,   18,    0,   14,
+   14,   10,   10,   10,    0,    0,    0,   14,   18,   18,
+    0,    0,   17,   14,    0,    0,   18,   10,   10,    0,
+   14,    0,   18,    0,    0,   10,    0,   18,   18,   18,
+    0,   10,    0,    0,    0,    0,    0,   14,   10,    0,
+    0,    0,   18,   18,    0,    0,   18,    0,    0,    0,
+   18,    0,    0,    0,    0,   10,   18,    0,    0,    0,
+    0,    0,    0,   18,    0,    0,    0,    0,   91,   92,
+   93,   94,   95,   96,   97,   98,   99,    0,    0,    0,
+   18,  100,  101,  102,  103,  104,    0,  105,  106,  107,
+    0,    0,    0,  108,  109,  110,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
+    0,    0,    0,    0,    0,  111,
+};
+const short yycheck[] = {                                      10,
+   11,    0,   76,   40,   40,   40,  187,  188,   88,  190,
+  191,  195,  196,  197,  205,   86,  258,   87,  199,  200,
+  309,  304,  262,  263,   58,  257,  257,  304,    0,  210,
+  211,  257,  259,   40,  285,   58,   40,   40,   40,  277,
+  278,  279,   40,  258,  327,  258,    0,  304,   22,   40,
+  327,  258,    0,  259,  297,   29,  313,   91,    0,  506,
+  301,   58,  304,  304,  315,    0,  513,  267,  268,  269,
+  270,  271,  304,  304,  306,  277,  278,  304,  304,  305,
+  280,  370,  282,  285,  327,  327,  327,  325,  272,  304,
+  290,  304,  292,  293,  294,  295,  296,  304,  304,  304,
+  304,  292,  493,  261,  299,  286,  264,  265,  266,  304,
+  304,  265,  266,  315,  308,  309,  316,  327,  509,  310,
+   40,  302,  327,  327,  324,  300,  302,  317,  304,  304,
+    0,  202,  261,  203,   58,  189,  265,  266,  319,  193,
+  194,  304,  310,  311,   41,  308,  309,   44,  264,  311,
+  312,  335,   44,  337,  338,  339,  319,  320,  321,  303,
+  304,  265,  266,  318,  327,   58,    0,   93,   94,  270,
+  271,  261,   44,  257,   44,   58,    0,   44,    0,  327,
+    0,   58,  328,   58,  257,   58,  298,   58,   44,   58,
+  270,  271,   44,   58,   58,   91,  257,  257,  291,   58,
+  259,  212,  258,  258,   58,  389,  258,  260,   58,  220,
+   58,   58,  393,   58,   58,   58,   58,   58,   58,   58,
+   58,   58,   58,  258,  323,   58,   44,   44,   44,   44,
+   58,   58,   58,    0,   44,   58,   93,   58,   93,   58,
+   40,   40,  258,  424,   58,   58,   58,   58,   44,  259,
+   44,   58,   58,  289,   44,   44,   91,   44,  258,   91,
+  297,   44,   44,  262,  263,   44,  265,  266,  267,  268,
+  269,  270,  271,  272,  273,  274,  275,   44,  277,  278,
+  279,  280,  281,  282,  283,  284,  285,  286,  287,  288,
+  262,  263,  291,  292,  293,  294,    0,  304,  372,  298,
+  304,  304,  304,  307,  307,  316,  304,  318,  262,  263,
+   40,  265,  266,  304,  262,  263,  315,  258,  322,  291,
+  262,  263,  326,  326,   44,  324,  325,  262,  263,   44,
+  265,  266,  267,  268,  269,  270,  271,  272,  273,  274,
+  275,   44,  277,  278,  279,  280,  281,  282,  283,  284,
+  285,  286,  287,  288,   44,   44,  291,  292,  293,  294,
+    0,   44,   44,  298,  258,   44,   44,  258,   91,  289,
+  381,   44,   91,   44,   44,  303,  258,  258,  303,   44,
+  315,  314,  258,   44,  304,   44,   44,  307,   44,  324,
+  325,  314,  262,  263,  405,  265,  266,  267,  268,  269,
+  270,  271,  272,  273,  274,  275,  326,  277,  278,  279,
+  280,  281,  282,  283,  284,  426,  286,  287,  288,   44,
+    0,  323,  292,  293,  294,   44,   41,  258,  262,  263,
+   93,   93,  443,  267,  268,  269,  270,  271,  262,  263,
+  262,  263,  262,  263,   44,   44,  280,   91,  282,  258,
+  258,  285,   44,   44,  324,  325,  290,  291,  292,  293,
+  294,  295,  296,  285,  298,  258,   44,  291,   44,  291,
+  258,  291,  483,  258,  298,   44,  298,   44,  298,   44,
+    0,  315,  316,   44,   93,  496,   93,   44,   91,  500,
+  324,   44,  258,  315,  258,  262,  263,   44,  265,  266,
+  267,  268,  269,  270,  271,  272,  273,  274,  275,   44,
+   44,  303,   44,  280,  281,  282,  283,  284,  285,  286,
+  287,  288,   44,  290,  291,  292,  293,  294,  295,  296,
+   44,  298,   44,  258,  258,   44,   44,   93,  314,   44,
+    0,  258,   44,   44,  258,  258,   44,   93,  315,  316,
+   44,  258,  314,   41,  276,   44,   41,  324,  262,  263,
+   44,  265,  266,  267,  268,  269,  270,  271,  272,  273,
+  274,  275,   41,    0,   44,   41,  280,  281,  282,  283,
+  284,  285,  286,  287,  288,   44,  290,  291,  292,  293,
+  294,  295,  296,   44,  298,   44,   44,   41,  258,   41,
+    0,  258,   41,   44,  259,  258,    0,  259,   44,   44,
+   44,  315,  316,   44,    0,   58,    5,  483,  447,  410,
+  324,   34,  262,  263,   14,  265,  266,  267,  268,  269,
+  270,  271,  272,  273,  274,  275,  219,  218,  463,    0,
+  280,  281,  282,  283,  284,  285,  286,  287,  288,    7,
+  290,  291,  292,  293,  294,  295,  296,  459,  298,  308,
+   40,   59,   61,  440,   70,   70,   70,   70,   70,   70,
+   92,   -1,    0,   70,   70,  315,  316,   70,   -1,   -1,
+   -1,   -1,  262,  263,  324,  265,  266,  267,  268,  269,
+  270,  271,  272,  273,  274,  275,   -1,  492,   -1,    0,
+  280,  281,  282,  283,  284,  285,  286,  287,  288,    0,
+  290,  291,  292,  293,  294,  295,  296,   -1,  298,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,  315,  316,   -1,   -1,   -1,
+   -1,   -1,  262,  263,  324,  265,  266,  267,  268,  269,
+  270,  271,  272,  273,  274,  275,   -1,    0,   -1,   -1,
+  280,  281,  282,  283,  284,  285,  286,  287,  288,   -1,
+  290,  291,  292,  293,  294,  295,  296,   -1,  298,   -1,
+   -1,   -1,    0,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,    0,   -1,   -1,   -1,  315,  316,   -1,   -1,   -1,
+    0,   -1,  262,  263,  324,  265,  266,  267,  268,  269,
+  270,  271,  272,  273,  274,  275,   -1,   -1,   -1,   -1,
+  280,  281,  282,  283,  284,    0,  286,  287,  288,   -1,
+   -1,   -1,  292,  293,  294,  262,  263,   -1,  265,  266,
+  267,  268,  269,  270,  271,  272,  273,  274,  275,   -1,
+   -1,   -1,   -1,  280,  281,  282,  283,  284,   -1,  286,
+  287,  288,   -1,   -1,  324,  292,  293,  294,  262,  263,
+   -1,  265,  266,  267,  268,  269,  270,  271,  272,  273,
+  274,  275,   -1,   -1,   -1,   -1,  280,  281,  282,  283,
+  284,   -1,  286,  287,  288,   -1,   -1,  324,  292,  293,
+  294,  262,  263,   -1,  265,  266,  267,  268,  269,  270,
+  271,  272,  273,  274,  275,   -1,   -1,   -1,   -1,  280,
+  281,  282,  283,  284,   -1,  286,  287,  288,   -1,   -1,
+  324,  292,  293,  294,  262,  263,   -1,  265,  266,  267,
+  268,  269,  270,  271,  272,  273,  274,  275,   -1,   -1,
+   -1,   -1,  280,  281,  282,  283,  284,   -1,  286,  287,
+  288,  262,  263,  324,  292,  293,  294,   -1,   -1,   -1,
+   -1,  262,  263,   -1,   -1,   -1,  267,  268,  269,  270,
+  271,   -1,   -1,   -1,  285,   -1,   -1,   -1,   -1,  280,
+  291,  282,   -1,   -1,  285,   -1,  324,  298,   -1,  290,
+  291,  292,  293,  294,  295,  296,   -1,  298,   -1,   -1,
+   -1,   -1,   -1,   -1,  315,   -1,   -1,   -1,  261,  262,
+  263,  264,  265,  266,  315,  316,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,  324,  277,  278,   -1,   -1,   -1,   -1,
+   -1,   -1,  285,  261,  262,  263,  264,   -1,  291,   -1,
+   -1,   -1,   -1,  262,  263,  298,  265,  266,   -1,  277,
+  278,  261,  262,  263,   -1,   -1,   -1,  285,  277,  278,
+   -1,   -1,  315,  291,   -1,   -1,  285,  277,  278,   -1,
+  298,   -1,  291,   -1,   -1,  285,   -1,  262,  263,  298,
+   -1,  291,   -1,   -1,   -1,   -1,   -1,  315,  298,   -1,
+   -1,   -1,  277,  278,   -1,   -1,  315,   -1,   -1,   -1,
+  285,   -1,   -1,   -1,   -1,  315,  291,   -1,   -1,   -1,
+   -1,   -1,   -1,  298,   -1,   -1,   -1,   -1,  267,  268,
+  269,  270,  271,  272,  273,  274,  275,   -1,   -1,   -1,
+  315,  280,  281,  282,  283,  284,   -1,  286,  287,  288,
+   -1,   -1,   -1,  292,  293,  294,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,   -1,
+   -1,   -1,   -1,   -1,   -1,  324,
+};
+#define YYFINAL 3
+#ifndef YYDEBUG
+#define YYDEBUG 0
+#endif
+#define YYMAXTOKEN 328
+#if YYDEBUG
+const char * const yyname[] = {
+"end-of-file",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,"'('","')'",0,0,"','",0,0,0,0,0,0,0,0,0,0,0,0,0,"':'",0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"'['",0,"']'",0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
+0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"CHAR",
+"INTEGER","BOOLEAN","PERCENT","MESSAGE_ID","MAZE_ID","LEVEL_ID","LEV_INIT_ID",
+"GEOMETRY_ID","NOMAP_ID","OBJECT_ID","COBJECT_ID","MONSTER_ID","TRAP_ID",
+"DOOR_ID","DRAWBRIDGE_ID","MAZEWALK_ID","WALLIFY_ID","REGION_ID","FILLING",
+"RANDOM_OBJECTS_ID","RANDOM_MONSTERS_ID","RANDOM_PLACES_ID","ALTAR_ID",
+"LADDER_ID","STAIR_ID","NON_DIGGABLE_ID","NON_PASSWALL_ID","ROOM_ID",
+"PORTAL_ID","TELEPRT_ID","BRANCH_ID","LEV","CHANCE_ID","CORRIDOR_ID","GOLD_ID",
+"ENGRAVING_ID","FOUNTAIN_ID","POOL_ID","SINK_ID","NONE","RAND_CORRIDOR_ID",
+"DOOR_STATE","LIGHT_STATE","CURSE_TYPE","ENGRAVING_TYPE","DIRECTION",
+"RANDOM_TYPE","O_REGISTER","M_REGISTER","P_REGISTER","A_REGISTER","ALIGNMENT",
+"LEFT_OR_RIGHT","CENTER","TOP_OR_BOT","ALTAR_TYPE","UP_OR_DOWN","SUBROOM_ID",
+"NAME_ID","FLAGS_ID","FLAG_TYPE","MON_ATTITUDE","MON_ALERTNESS",
+"MON_APPEARANCE","CONTAINED","OBJFLAG_TYPE","OBJFLAGS_ID","RANDOMREGION_ID",
+"R_REGISTER","STRING","MAP_ID",
+};
+const char * const yyrule[] = {
+"$accept : file",
+"file :",
+"file : levels",
+"levels : level",
+"levels : level levels",
+"level : maze_level",
+"level : room_level",
+"maze_level : maze_def flags lev_init messages regions",
+"room_level : level_def flags lev_init messages rreg_init rooms corridors_def",
+"level_def : LEVEL_ID ':' string",
+"lev_init :",
+"lev_init : LEV_INIT_ID ':' CHAR ',' CHAR ',' BOOLEAN ',' BOOLEAN ',' light_state ',' walled",
+"walled : BOOLEAN",
+"walled : RANDOM_TYPE",
+"flags :",
+"flags : FLAGS_ID ':' flag_list",
+"flag_list : FLAG_TYPE ',' flag_list",
+"flag_list : FLAG_TYPE",
+"messages :",
+"messages : message messages",
+"message : MESSAGE_ID ':' STRING",
+"rreg_init :",
+"rreg_init : rreg_init init_rreg",
+"init_rreg : RANDOM_OBJECTS_ID ':' object_list",
+"init_rreg : RANDOM_MONSTERS_ID ':' monster_list",
+"rooms :",
+"rooms : roomlist",
+"roomlist : aroom",
+"roomlist : aroom roomlist",
+"corridors_def : random_corridors",
+"corridors_def : corridors",
+"random_corridors : RAND_CORRIDOR_ID",
+"corridors :",
+"corridors : corridors corridor",
+"corridor : CORRIDOR_ID ':' corr_spec ',' corr_spec",
+"corridor : CORRIDOR_ID ':' corr_spec ',' INTEGER",
+"corr_spec : '(' INTEGER ',' DIRECTION ',' door_pos ')'",
+"aroom : room_def room_details",
+"aroom : subroom_def room_details",
+"subroom_def : SUBROOM_ID ':' room_type ',' light_state ',' subroom_pos ',' room_size ',' string roomfill",
+"room_def : ROOM_ID ':' room_type ',' light_state ',' room_pos ',' room_align ',' room_size roomfill",
+"roomfill :",
+"roomfill : ',' BOOLEAN",
+"room_pos : '(' INTEGER ',' INTEGER ')'",
+"room_pos : RANDOM_TYPE",
+"subroom_pos : '(' INTEGER ',' INTEGER ')'",
+"subroom_pos : RANDOM_TYPE",
+"room_align : '(' h_justif ',' v_justif ')'",
+"room_align : RANDOM_TYPE",
+"room_size : '(' INTEGER ',' INTEGER ')'",
+"room_size : RANDOM_TYPE",
+"room_details :",
+"room_details : room_details room_detail",
+"room_detail : room_name",
+"room_detail : room_chance",
+"room_detail : room_door",
+"room_detail : monster_detail",
+"room_detail : object_detail",
+"room_detail : object_flags",
+"room_detail : trap_detail",
+"room_detail : altar_detail",
+"room_detail : fountain_detail",
+"room_detail : sink_detail",
+"room_detail : pool_detail",
+"room_detail : gold_detail",
+"room_detail : engraving_detail",
+"room_detail : stair_detail",
+"room_name : NAME_ID ':' string",
+"room_chance : CHANCE_ID ':' INTEGER",
+"$$1 :",
+"room_door : DOOR_ID ':' secret ',' door_state ',' door_wall ',' door_pos $$1 room_door_infos",
+"room_door_infos :",
+"room_door_infos : room_door_infos room_door_info",
+"room_door_info : ',' string",
+"secret : BOOLEAN",
+"secret : RANDOM_TYPE",
+"door_wall : DIRECTION",
+"door_wall : RANDOM_TYPE",
+"door_pos : INTEGER",
+"door_pos : RANDOM_TYPE",
+"maze_def : MAZE_ID ':' string ',' filling",
+"filling : CHAR",
+"filling : RANDOM_TYPE",
+"regions : aregion",
+"regions : aregion regions",
+"aregion : map_definition reg_init map_details",
+"map_definition : NOMAP_ID",
+"map_definition : map_geometry MAP_ID",
+"map_geometry : GEOMETRY_ID ':' h_justif ',' v_justif",
+"h_justif : LEFT_OR_RIGHT",
+"h_justif : CENTER",
+"v_justif : TOP_OR_BOT",
+"v_justif : CENTER",
+"reg_init :",
+"reg_init : reg_init init_reg",
+"init_reg : RANDOM_OBJECTS_ID ':' object_list",
+"init_reg : RANDOM_PLACES_ID ':' place_list",
+"init_reg : RANDOM_PLACES_ID '[' INTEGER ']' ':' place_list",
+"init_reg : RANDOM_MONSTERS_ID ':' monster_list",
+"init_reg : rndlevregion",
+"object_list : object",
+"object_list : object ',' object_list",
+"monster_list : monster",
+"monster_list : monster ',' monster_list",
+"place_list : place",
+"$$2 :",
+"place_list : place $$2 ',' place_list",
+"map_details :",
+"map_details : map_details map_detail",
+"map_detail : monster_detail",
+"map_detail : object_detail",
+"map_detail : object_flags",
+"map_detail : door_detail",
+"map_detail : trap_detail",
+"map_detail : drawbridge_detail",
+"map_detail : region_detail",
+"map_detail : stair_region",
+"map_detail : portal_region",
+"map_detail : teleprt_region",
+"map_detail : branch_region",
+"map_detail : altar_detail",
+"map_detail : fountain_detail",
+"map_detail : mazewalk_detail",
+"map_detail : wallify_detail",
+"map_detail : ladder_detail",
+"map_detail : stair_detail",
+"map_detail : gold_detail",
+"map_detail : engraving_detail",
+"map_detail : diggable_detail",
+"map_detail : passwall_detail",
+"$$3 :",
+"monster_detail : MONSTER_ID chance ':' monster_c ',' m_name ',' coordinate $$3 monster_infos",
+"monster_infos :",
+"monster_infos : monster_infos monster_info",
+"monster_info : ',' string",
+"monster_info : ',' MON_ATTITUDE",
+"monster_info : ',' MON_ALERTNESS",
+"monster_info : ',' alignment",
+"monster_info : ',' MON_APPEARANCE string",
+"object_detail : OBJECT_ID object_desc",
+"object_detail : COBJECT_ID object_desc",
+"$$4 :",
+"object_desc : chance ':' object_c ',' o_name $$4 ',' object_where object_infos",
+"object_where : coordinate",
+"object_where : CONTAINED",
+"object_infos :",
+"object_infos : ',' curse_state ',' monster_id ',' enchantment optional_name",
+"object_infos : ',' curse_state ',' enchantment optional_name",
+"object_infos : ',' monster_id ',' enchantment optional_name",
+"object_flags : OBJFLAGS_ID ':' obj_flag_list",
+"obj_flag_list : obj_flag_list ',' OBJFLAG_TYPE",
+"obj_flag_list : OBJFLAG_TYPE",
+"curse_state : RANDOM_TYPE",
+"curse_state : CURSE_TYPE",
+"monster_id : STRING",
+"enchantment : RANDOM_TYPE",
+"enchantment : INTEGER",
+"optional_name :",
+"optional_name : ',' NONE",
+"optional_name : ',' STRING",
+"$$5 :",
+"door_detail : DOOR_ID ':' door_state ',' coordinate $$5 door_infos",
+"door_infos :",
+"door_infos : door_infos door_info",
+"door_info : ',' string",
+"trap_detail : TRAP_ID chance ':' trap_name ',' coordinate",
+"drawbridge_detail : DRAWBRIDGE_ID ':' coordinate ',' DIRECTION ',' door_state",
+"mazewalk_detail : MAZEWALK_ID ':' coordinate ',' DIRECTION",
+"wallify_detail : WALLIFY_ID",
+"ladder_detail : LADDER_ID ':' coordinate ',' UP_OR_DOWN",
+"stair_detail : STAIR_ID ':' coordinate ',' UP_OR_DOWN",
+"$$6 :",
+"stair_region : STAIR_ID ':' lev_region $$6 ',' lev_region ',' UP_OR_DOWN",
+"$$7 :",
+"rndlevregion : RANDOMREGION_ID '[' INTEGER ']' ':' lev_region $$7 ',' lev_region",
+"$$8 :",
+"portal_region : PORTAL_ID ':' lev_region $$8 ',' lev_region ',' string",
+"$$9 :",
+"$$10 :",
+"teleprt_region : TELEPRT_ID ':' lev_region $$9 ',' lev_region $$10 teleprt_detail",
+"$$11 :",
+"branch_region : BRANCH_ID ':' lev_region $$11 ',' lev_region",
+"teleprt_detail :",
+"teleprt_detail : ',' UP_OR_DOWN",
+"lev_region : region",
+"lev_region : LEV '(' INTEGER ',' INTEGER ',' INTEGER ',' INTEGER ')'",
+"fountain_detail : FOUNTAIN_ID ':' coordinate",
+"sink_detail : SINK_ID ':' coordinate",
+"pool_detail : POOL_ID ':' coordinate",
+"diggable_detail : NON_DIGGABLE_ID ':' region",
+"passwall_detail : NON_PASSWALL_ID ':' region",
+"region_detail : REGION_ID ':' region ',' light_state ',' room_type prefilled",
+"altar_detail : ALTAR_ID ':' coordinate ',' alignment ',' altar_type",
+"gold_detail : GOLD_ID ':' amount ',' coordinate",
+"engraving_detail : ENGRAVING_ID ':' coordinate ',' engraving_type ',' string",
+"monster_c : monster",
+"monster_c : RANDOM_TYPE",
+"monster_c : m_register",
+"object_c : object",
+"object_c : RANDOM_TYPE",
+"object_c : o_register",
+"m_name : string",
+"m_name : RANDOM_TYPE",
+"o_name : string",
+"o_name : RANDOM_TYPE",
+"trap_name : string",
+"trap_name : RANDOM_TYPE",
+"room_type : string",
+"room_type : RANDOM_TYPE",
+"prefilled :",
+"prefilled : ',' FILLING",
+"prefilled : ',' FILLING ',' BOOLEAN",
+"coordinate : coord",
+"coordinate : p_register",
+"coordinate : r_register",
+"coordinate : RANDOM_TYPE",
+"door_state : DOOR_STATE",
+"door_state : RANDOM_TYPE",
+"light_state : LIGHT_STATE",
+"light_state : RANDOM_TYPE",
+"alignment : ALIGNMENT",
+"alignment : a_register",
+"alignment : RANDOM_TYPE",
+"altar_type : ALTAR_TYPE",
+"altar_type : RANDOM_TYPE",
+"p_register : P_REGISTER '[' INTEGER ']'",
+"p_register : P_REGISTER '[' INTEGER ']' '[' INTEGER ']'",
+"r_register : R_REGISTER '[' INTEGER ']'",
+"o_register : O_REGISTER '[' INTEGER ']'",
+"m_register : M_REGISTER '[' INTEGER ']'",
+"a_register : A_REGISTER '[' INTEGER ']'",
+"place : coord",
+"place : NONE",
+"monster : CHAR",
+"object : CHAR",
+"string : STRING",
+"amount : INTEGER",
+"amount : RANDOM_TYPE",
+"chance :",
+"chance : PERCENT",
+"engraving_type : ENGRAVING_TYPE",
+"engraving_type : RANDOM_TYPE",
+"coord : '(' INTEGER ',' INTEGER ')'",
+"region : '(' INTEGER ',' INTEGER ',' INTEGER ',' INTEGER ')'",
+};
+#endif
+#if YYDEBUG
+#include <stdio.h>
+#endif
+#ifdef YYSTACKSIZE
+#undef YYMAXDEPTH
+#define YYMAXDEPTH YYSTACKSIZE
+#else
+#ifdef YYMAXDEPTH
+#define YYSTACKSIZE YYMAXDEPTH
+#else
+#define YYSTACKSIZE 10000
+#define YYMAXDEPTH 10000
+#endif
+#endif
+#define YYINITSTACKSIZE 200
+int yydebug;
+int yynerrs;
+int yyerrflag;
+int yychar;
+short *yyssp;
+YYSTYPE *yyvsp;
+YYSTYPE yyval;
+YYSTYPE yylval;
+short *yyss;
+short *yysslim;
+YYSTYPE *yyvs;
+int yystacksize;
+
+/*lev_comp.y*/
+/* allocate initial stack or double stack size, up to YYMAXDEPTH */
+static int yygrowstack()
+{
+    int newsize, i;
+    short *newss;
+    YYSTYPE *newvs;
+
+    if ((newsize = yystacksize) == 0)
+        newsize = YYINITSTACKSIZE;
+    else if (newsize >= YYMAXDEPTH)
+        return -1;
+    else if ((newsize *= 2) > YYMAXDEPTH)
+        newsize = YYMAXDEPTH;
+    i = yyssp - yyss;
+    newss = yyss ? (short *)realloc(yyss, newsize * sizeof *newss) :
+      (short *)malloc(newsize * sizeof *newss);
+    if (newss == NULL)
+        return -1;
+    yyss = newss;
+    yyssp = newss + i;
+    newvs = yyvs ? (YYSTYPE *)realloc(yyvs, newsize * sizeof *newvs) :
+      (YYSTYPE *)malloc(newsize * sizeof *newvs);
+    if (newvs == NULL)
+        return -1;
+    yyvs = newvs;
+    yyvsp = newvs + i;
+    yystacksize = newsize;
+    yysslim = yyss + newsize - 1;
+    return 0;
+}
+
+#define YYABORT goto yyabort
+#define YYREJECT goto yyabort
+#define YYACCEPT goto yyaccept
+#define YYERROR goto yyerrlab
+
+#ifndef YYPARSE_PARAM
+#if defined(__cplusplus) || __STDC__
+#define YYPARSE_PARAM_ARG void
+#define YYPARSE_PARAM_DECL
+#else	/* ! ANSI-C/C++ */
+#define YYPARSE_PARAM_ARG
+#define YYPARSE_PARAM_DECL
+#endif	/* ANSI-C/C++ */
+#else	/* YYPARSE_PARAM */
+#ifndef YYPARSE_PARAM_TYPE
+#define YYPARSE_PARAM_TYPE void *
+#endif
+#if defined(__cplusplus) || __STDC__
+#define YYPARSE_PARAM_ARG YYPARSE_PARAM_TYPE YYPARSE_PARAM
+#define YYPARSE_PARAM_DECL
+#else	/* ! ANSI-C/C++ */
+#define YYPARSE_PARAM_ARG YYPARSE_PARAM
+#define YYPARSE_PARAM_DECL YYPARSE_PARAM_TYPE YYPARSE_PARAM;
+#endif	/* ANSI-C/C++ */
+#endif	/* ! YYPARSE_PARAM */
+
+int
+yyparse (YYPARSE_PARAM_ARG)
+    YYPARSE_PARAM_DECL
+{
+    register int yym, yyn, yystate;
+#if YYDEBUG
+    register const char *yys;
+
+    if ((yys = getenv("YYDEBUG")))
+    {
+        yyn = *yys;
+        if (yyn >= '0' && yyn <= '9')
+            yydebug = yyn - '0';
+    }
+#endif
+
+    yynerrs = 0;
+    yyerrflag = 0;
+    yychar = (-1);
+
+    if (yyss == NULL && yygrowstack()) goto yyoverflow;
+    yyssp = yyss;
+    yyvsp = yyvs;
+    *yyssp = yystate = 0;
+
+yyloop:
+    if ((yyn = yydefred[yystate])) goto yyreduce;
+    if (yychar < 0)
+    {
+        if ((yychar = yylex()) < 0) yychar = 0;
+#if YYDEBUG
+        if (yydebug)
+        {
+            yys = 0;
+            if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
+            if (!yys) yys = "illegal-symbol";
+            printf("%sdebug: state %d, reading %d (%s)\n",
+                    YYPREFIX, yystate, yychar, yys);
+        }
+#endif
+    }
+    if ((yyn = yysindex[yystate]) && (yyn += yychar) >= 0 &&
+            yyn <= YYTABLESIZE && yycheck[yyn] == yychar)
+    {
+#if YYDEBUG
+        if (yydebug)
+            printf("%sdebug: state %d, shifting to state %d\n",
+                    YYPREFIX, yystate, yytable[yyn]);
+#endif
+        if (yyssp >= yysslim && yygrowstack())
+        {
+            goto yyoverflow;
+        }
+        *++yyssp = yystate = yytable[yyn];
+        *++yyvsp = yylval;
+        yychar = (-1);
+        if (yyerrflag > 0)  --yyerrflag;
+        goto yyloop;
+    }
+    if ((yyn = yyrindex[yystate]) && (yyn += yychar) >= 0 &&
+            yyn <= YYTABLESIZE && yycheck[yyn] == yychar)
+    {
+        yyn = yytable[yyn];
+        goto yyreduce;
+    }
+    if (yyerrflag) goto yyinrecovery;
+#if defined(lint) || defined(__GNUC__)
+    goto yynewerror;
+#endif
+yynewerror:
+    yyerror("syntax error");
+#if defined(lint) || defined(__GNUC__)
+    goto yyerrlab;
+#endif
+yyerrlab:
+    ++yynerrs;
+yyinrecovery:
+    if (yyerrflag < 3)
+    {
+        yyerrflag = 3;
+        for (;;)
+        {
+            if ((yyn = yysindex[*yyssp]) && (yyn += YYERRCODE) >= 0 &&
+                    yyn <= YYTABLESIZE && yycheck[yyn] == YYERRCODE)
+            {
+#if YYDEBUG
+                if (yydebug)
+                    printf("%sdebug: state %d, error recovery shifting\
+ to state %d\n", YYPREFIX, *yyssp, yytable[yyn]);
+#endif
+                if (yyssp >= yysslim && yygrowstack())
+                {
+                    goto yyoverflow;
+                }
+                *++yyssp = yystate = yytable[yyn];
+                *++yyvsp = yylval;
+                goto yyloop;
+            }
+            else
+            {
+#if YYDEBUG
+                if (yydebug)
+                    printf("%sdebug: error recovery discarding state %d\n",
+                            YYPREFIX, *yyssp);
+#endif
+                if (yyssp <= yyss) goto yyabort;
+                --yyssp;
+                --yyvsp;
+            }
+        }
+    }
+    else
+    {
+        if (yychar == 0) goto yyabort;
+#if YYDEBUG
+        if (yydebug)
+        {
+            yys = 0;
+            if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
+            if (!yys) yys = "illegal-symbol";
+            printf("%sdebug: state %d, error recovery discards token %d (%s)\n",
+                    YYPREFIX, yystate, yychar, yys);
+        }
+#endif
+        yychar = (-1);
+        goto yyloop;
+    }
+yyreduce:
+#if YYDEBUG
+    if (yydebug)
+        printf("%sdebug: state %d, reducing by rule %d (%s)\n",
+                YYPREFIX, yystate, yyn, yyrule[yyn]);
+#endif
+    yym = yylen[yyn];
+    yyval = yyvsp[1-yym];
+    switch (yyn)
+    {
+case 7:
+{
+			unsigned i;
+
+			if (fatal_error > 0) {
+				(void) fprintf(stderr,
+				"%s : %d errors detected. No output created!\n",
+					fname, fatal_error);
+			} else {
+				maze.flags = yyvsp[-3].i;
+				(void) memcpy((genericptr_t)&(maze.init_lev),
+						(genericptr_t)&(init_lev),
+						sizeof(lev_init));
+				maze.numpart = npart;
+				maze.parts = NewTab(mazepart, npart);
+				for(i=0;i<npart;i++)
+				    maze.parts[i] = tmppart[i];
+				if (!write_level_file(yyvsp[-4].map, (splev *)0, &maze)) {
+					yyerror("Can't write output file!!");
+					exit(EXIT_FAILURE);
+				}
+				npart = 0;
+			}
+			Free(yyvsp[-4].map);
+		  }
+break;
+case 8:
+{
+			unsigned i;
+
+			if (fatal_error > 0) {
+			    (void) fprintf(stderr,
+			      "%s : %d errors detected. No output created!\n",
+					fname, fatal_error);
+			} else {
+				special_lev.flags = (long) yyvsp[-5].i;
+				(void) memcpy(
+					(genericptr_t)&(special_lev.init_lev),
+					(genericptr_t)&(init_lev),
+					sizeof(lev_init));
+				special_lev.nroom = nrooms;
+				special_lev.rooms = NewTab(room, nrooms);
+				for(i=0; i<nrooms; i++)
+				    special_lev.rooms[i] = tmproom[i];
+				special_lev.ncorr = ncorridor;
+				special_lev.corrs = NewTab(corridor, ncorridor);
+				for(i=0; i<ncorridor; i++)
+				    special_lev.corrs[i] = tmpcor[i];
+				if (check_subrooms()) {
+				    if (!write_level_file(yyvsp[-6].map, &special_lev,
+							  (specialmaze *)0)) {
+					yyerror("Can't write output file!!");
+					exit(EXIT_FAILURE);
+				    }
+				}
+				free_rooms(&special_lev);
+				nrooms = 0;
+				ncorridor = 0;
+			}
+			Free(yyvsp[-6].map);
+		  }
+break;
+case 9:
+{
+			if (index(yyvsp[0].map, '.'))
+			    yyerror("Invalid dot ('.') in level name.");
+			if ((int) strlen(yyvsp[0].map) > 8)
+			    yyerror("Level names limited to 8 characters.");
+			yyval.map = yyvsp[0].map;
+			special_lev.nrmonst = special_lev.nrobjects = 0;
+			n_mlist = n_olist = 0;
+		  }
+break;
+case 10:
+{
+			/* in case we're processing multiple files,
+			   explicitly clear any stale settings */
+			(void) memset((genericptr_t) &init_lev, 0,
+					sizeof init_lev);
+			init_lev.init_present = FALSE;
+			yyval.i = 0;
+		  }
+break;
+case 11:
+{
+			init_lev.init_present = TRUE;
+			init_lev.fg = what_map_char((char) yyvsp[-10].i);
+			if (init_lev.fg == INVALID_TYPE)
+			    yyerror("Invalid foreground type.");
+			init_lev.bg = what_map_char((char) yyvsp[-8].i);
+			if (init_lev.bg == INVALID_TYPE)
+			    yyerror("Invalid background type.");
+			init_lev.smoothed = yyvsp[-6].i;
+			init_lev.joined = yyvsp[-4].i;
+			if (init_lev.joined &&
+			    init_lev.fg != CORR && init_lev.fg != ROOM)
+			    yyerror("Invalid foreground type for joined map.");
+			init_lev.lit = yyvsp[-2].i;
+			init_lev.walled = yyvsp[0].i;
+			yyval.i = 1;
+		  }
+break;
+case 14:
+{
+			yyval.i = 0;
+		  }
+break;
+case 15:
+{
+			yyval.i = lev_flags;
+			lev_flags = 0;	/* clear for next user */
+		  }
+break;
+case 16:
+{
+			lev_flags |= yyvsp[-2].i;
+		  }
+break;
+case 17:
+{
+			lev_flags |= yyvsp[0].i;
+		  }
+break;
+case 20:
+{
+			int i, j;
+
+			i = (int) strlen(yyvsp[0].map) + 1;
+			j = (int) strlen(tmpmessage);
+			if (i + j > 255) {
+			   yyerror("Message string too long (>256 characters)");
+			} else {
+			    if (j) tmpmessage[j++] = '\n';
+			    (void) strncpy(tmpmessage+j, yyvsp[0].map, i - 1);
+			    tmpmessage[j + i - 1] = 0;
+			}
+			Free(yyvsp[0].map);
+		  }
+break;
+case 23:
+{
+			if(special_lev.nrobjects) {
+			    yyerror("Object registers already initialized!");
+			} else {
+			    special_lev.nrobjects = n_olist;
+			    special_lev.robjects = (char *) alloc(n_olist);
+			    (void) memcpy((genericptr_t)special_lev.robjects,
+					  (genericptr_t)olist, n_olist);
+			}
+		  }
+break;
+case 24:
+{
+			if(special_lev.nrmonst) {
+			    yyerror("Monster registers already initialized!");
+			} else {
+			    special_lev.nrmonst = n_mlist;
+			    special_lev.rmonst = (char *) alloc(n_mlist);
+			    (void) memcpy((genericptr_t)special_lev.rmonst,
+					  (genericptr_t)mlist, n_mlist);
+			  }
+		  }
+break;
+case 25:
+{
+			tmproom[nrooms] = New(room);
+			tmproom[nrooms]->name = (char *) 0;
+			tmproom[nrooms]->parent = (char *) 0;
+			tmproom[nrooms]->rtype = 0;
+			tmproom[nrooms]->rlit = 0;
+			tmproom[nrooms]->xalign = ERR;
+			tmproom[nrooms]->yalign = ERR;
+			tmproom[nrooms]->x = 0;
+			tmproom[nrooms]->y = 0;
+			tmproom[nrooms]->w = 2;
+			tmproom[nrooms]->h = 2;
+			in_room = 1;
+		  }
+break;
+case 31:
+{
+			tmpcor[0] = New(corridor);
+			tmpcor[0]->src.room = -1;
+			ncorridor = 1;
+		  }
+break;
+case 34:
+{
+			tmpcor[ncorridor] = New(corridor);
+			tmpcor[ncorridor]->src.room = yyvsp[-2].corpos.room;
+			tmpcor[ncorridor]->src.wall = yyvsp[-2].corpos.wall;
+			tmpcor[ncorridor]->src.door = yyvsp[-2].corpos.door;
+			tmpcor[ncorridor]->dest.room = yyvsp[0].corpos.room;
+			tmpcor[ncorridor]->dest.wall = yyvsp[0].corpos.wall;
+			tmpcor[ncorridor]->dest.door = yyvsp[0].corpos.door;
+			ncorridor++;
+			if (ncorridor >= MAX_OF_TYPE) {
+				yyerror("Too many corridors in level!");
+				ncorridor--;
+			}
+		  }
+break;
+case 35:
+{
+			tmpcor[ncorridor] = New(corridor);
+			tmpcor[ncorridor]->src.room = yyvsp[-2].corpos.room;
+			tmpcor[ncorridor]->src.wall = yyvsp[-2].corpos.wall;
+			tmpcor[ncorridor]->src.door = yyvsp[-2].corpos.door;
+			tmpcor[ncorridor]->dest.room = -1;
+			tmpcor[ncorridor]->dest.wall = yyvsp[0].i;
+			ncorridor++;
+			if (ncorridor >= MAX_OF_TYPE) {
+				yyerror("Too many corridors in level!");
+				ncorridor--;
+			}
+		  }
+break;
+case 36:
+{
+			if ((unsigned) yyvsp[-5].i >= nrooms)
+			    yyerror("Wrong room number!");
+			yyval.corpos.room = yyvsp[-5].i;
+			yyval.corpos.wall = yyvsp[-3].i;
+			yyval.corpos.door = yyvsp[-1].i;
+		  }
+break;
+case 37:
+{
+			store_room();
+		  }
+break;
+case 38:
+{
+			store_room();
+		  }
+break;
+case 39:
+{
+			tmproom[nrooms] = New(room);
+			tmproom[nrooms]->parent = yyvsp[-1].map;
+			tmproom[nrooms]->name = (char *) 0;
+			tmproom[nrooms]->rtype = yyvsp[-9].i;
+			tmproom[nrooms]->rlit = yyvsp[-7].i;
+			tmproom[nrooms]->filled = yyvsp[0].i;
+			tmproom[nrooms]->xalign = ERR;
+			tmproom[nrooms]->yalign = ERR;
+			tmproom[nrooms]->x = current_coord.x;
+			tmproom[nrooms]->y = current_coord.y;
+			tmproom[nrooms]->w = current_size.width;
+			tmproom[nrooms]->h = current_size.height;
+			in_room = 1;
+		  }
+break;
+case 40:
+{
+			tmproom[nrooms] = New(room);
+			tmproom[nrooms]->name = (char *) 0;
+			tmproom[nrooms]->parent = (char *) 0;
+			tmproom[nrooms]->rtype = yyvsp[-9].i;
+			tmproom[nrooms]->rlit = yyvsp[-7].i;
+			tmproom[nrooms]->filled = yyvsp[0].i;
+			tmproom[nrooms]->xalign = current_align.x;
+			tmproom[nrooms]->yalign = current_align.y;
+			tmproom[nrooms]->x = current_coord.x;
+			tmproom[nrooms]->y = current_coord.y;
+			tmproom[nrooms]->w = current_size.width;
+			tmproom[nrooms]->h = current_size.height;
+			in_room = 1;
+		  }
+break;
+case 41:
+{
+			yyval.i = 1;
+		  }
+break;
+case 42:
+{
+			yyval.i = yyvsp[0].i;
+		  }
+break;
+case 43:
+{
+			if ( yyvsp[-3].i < 1 || yyvsp[-3].i > 5 ||
+			    yyvsp[-1].i < 1 || yyvsp[-1].i > 5 ) {
+			    yyerror("Room position should be between 1 & 5!");
+			} else {
+			    current_coord.x = yyvsp[-3].i;
+			    current_coord.y = yyvsp[-1].i;
+			}
+		  }
+break;
+case 44:
+{
+			current_coord.x = current_coord.y = ERR;
+		  }
+break;
+case 45:
+{
+			if ( yyvsp[-3].i < 0 || yyvsp[-1].i < 0) {
+			    yyerror("Invalid subroom position !");
+			} else {
+			    current_coord.x = yyvsp[-3].i;
+			    current_coord.y = yyvsp[-1].i;
+			}
+		  }
+break;
+case 46:
+{
+			current_coord.x = current_coord.y = ERR;
+		  }
+break;
+case 47:
+{
+			current_align.x = yyvsp[-3].i;
+			current_align.y = yyvsp[-1].i;
+		  }
+break;
+case 48:
+{
+			current_align.x = current_align.y = ERR;
+		  }
+break;
+case 49:
+{
+			current_size.width = yyvsp[-3].i;
+			current_size.height = yyvsp[-1].i;
+		  }
+break;
+case 50:
+{
+			current_size.height = current_size.width = ERR;
+		  }
+break;
+case 67:
+{
+			if (tmproom[nrooms]->name)
+			    yyerror("This room already has a name!");
+			else
+			    tmproom[nrooms]->name = yyvsp[0].map;
+		  }
+break;
+case 68:
+{
+			if (tmproom[nrooms]->chance)
+			    yyerror("This room already assigned a chance!");
+			else if (tmproom[nrooms]->rtype == OROOM)
+			    yyerror("Only typed rooms can have a chance!");
+			else if (yyvsp[0].i < 1 || yyvsp[0].i > 99)
+			    yyerror("The chance is supposed to be percentile.");
+			else
+			    tmproom[nrooms]->chance = yyvsp[0].i;
+		   }
+break;
+case 69:
+{
+			/* ERR means random here */
+			if (yyvsp[-2].i == ERR && yyvsp[0].i != ERR) {
+		     yyerror("If the door wall is random, so must be its pos!");
+			    tmprdoor[ndoor] = (struct room_door *)0;
+			} else {
+			    tmprdoor[ndoor] = New(room_door);
+			    tmprdoor[ndoor]->secret = yyvsp[-6].i;
+			    tmprdoor[ndoor]->mask = yyvsp[-4].i;
+			    tmprdoor[ndoor]->wall = yyvsp[-2].i;
+			    tmprdoor[ndoor]->pos = yyvsp[0].i;
+			    tmprdoor[ndoor]->arti_key = 0;
+			}
+		  }
+break;
+case 70:
+{
+			if (tmprdoor[ndoor]) {
+			    ndoor++;
+			    if (ndoor >= MAX_OF_TYPE) {
+				    yyerror("Too many doors in room!");
+				    ndoor--;
+			    }
+			}
+		  }
+break;
+case 73:
+{
+			int token = get_artifact_id(yyvsp[0].map);
+			if (token == ERR) {
+			    char ebuf[100];
+			    Sprintf(ebuf, "Undefined artifact key \"%s\"", yyvsp[0].map);
+			    yyerror(ebuf);
+			}
+			else if (tmprdoor[ndoor])
+			    tmprdoor[ndoor]->arti_key = token;
+		  }
+break;
+case 80:
+{
+			maze.filling = (schar) yyvsp[0].i;
+			if (index(yyvsp[-2].map, '.'))
+			    yyerror("Invalid dot ('.') in level name.");
+			if ((int) strlen(yyvsp[-2].map) > 8)
+			    yyerror("Level names limited to 8 characters.");
+			yyval.map = yyvsp[-2].map;
+			in_room = 0;
+			n_plist = n_mlist = n_olist = 0;
+		  }
+break;
+case 81:
+{
+			yyval.i = get_floor_type((char)yyvsp[0].i);
+		  }
+break;
+case 82:
+{
+			yyval.i = -1;
+		  }
+break;
+case 85:
+{
+			store_part();
+		  }
+break;
+case 86:
+{
+			tmppart[npart] = New(mazepart);
+			tmppart[npart]->halign = 1;
+			tmppart[npart]->valign = 1;
+			tmppart[npart]->nrobjects = 0;
+			tmppart[npart]->nloc = 0;
+			tmppart[npart]->nrmonst = 0;
+			tmppart[npart]->xsize = 1;
+			tmppart[npart]->ysize = 1;
+			tmppart[npart]->map = (char **) alloc(sizeof(char *));
+			tmppart[npart]->map[0] = (char *) alloc(1);
+			tmppart[npart]->map[0][0] = STONE;
+			max_x_map = COLNO-1;
+			max_y_map = ROWNO;
+		  }
+break;
+case 87:
+{
+			tmppart[npart] = New(mazepart);
+			tmppart[npart]->halign = yyvsp[-1].i % 10;
+			tmppart[npart]->valign = yyvsp[-1].i / 10;
+			tmppart[npart]->nrobjects = 0;
+			tmppart[npart]->nloc = 0;
+			tmppart[npart]->nrmonst = 0;
+			scan_map(yyvsp[0].map);
+			Free(yyvsp[0].map);
+		  }
+break;
+case 88:
+{
+			yyval.i = yyvsp[-2].i + (yyvsp[0].i * 10);
+		  }
+break;
+case 95:
+{
+			if (tmppart[npart]->nrobjects) {
+			    yyerror("Object registers already initialized!");
+			} else {
+			    tmppart[npart]->robjects = (char *)alloc(n_olist);
+			    (void) memcpy((genericptr_t)tmppart[npart]->robjects,
+					  (genericptr_t)olist, n_olist);
+			    tmppart[npart]->nrobjects = n_olist;
+			}
+		  }
+break;
+case 96:
+{
+			if (tmppart[npart]->nlocset)
+			    yyerror("Location registers already initialized!");
+			else
+			    store_place_list(npart, 0, n_plist, plist);
+			n_plist = 0;
+		  }
+break;
+case 97:
+{
+			if (yyvsp[-3].i >= MAX_REGISTERS)
+			    yyerror("Register Index overflow!");
+			else
+			    store_place_list(npart, yyvsp[-3].i, n_plist, plist);
+			n_plist = 0;
+		  }
+break;
+case 98:
+{
+			if (tmppart[npart]->nrmonst) {
+			    yyerror("Monster registers already initialized!");
+			} else {
+			    tmppart[npart]->rmonst = (char *) alloc(n_mlist);
+			    (void) memcpy((genericptr_t)tmppart[npart]->rmonst,
+					  (genericptr_t)mlist, n_mlist);
+			    tmppart[npart]->nrmonst = n_mlist;
+			}
+		  }
+break;
+case 99:
+{
+			/* nothing */
+		  }
+break;
+case 100:
+{
+			if (n_olist < MAX_REGISTERS)
+			    olist[n_olist++] = yyvsp[0].i;
+			else
+			    yyerror("Object list too long!");
+		  }
+break;
+case 101:
+{
+			if (n_olist < MAX_REGISTERS)
+			    olist[n_olist++] = yyvsp[-2].i;
+			else
+			    yyerror("Object list too long!");
+		  }
+break;
+case 102:
+{
+			if (n_mlist < MAX_REGISTERS)
+			    mlist[n_mlist++] = yyvsp[0].i;
+			else
+			    yyerror("Monster list too long!");
+		  }
+break;
+case 103:
+{
+			if (n_mlist < MAX_REGISTERS)
+			    mlist[n_mlist++] = yyvsp[-2].i;
+			else
+			    yyerror("Monster list too long!");
+		  }
+break;
+case 104:
+{
+			if (n_plist < MAX_REGISTERS)
+			    plist[n_plist++] = current_coord;
+			else
+			    yyerror("Location list too long!");
+		  }
+break;
+case 105:
+{
+			if (n_plist < MAX_REGISTERS)
+			    plist[n_plist++] = current_coord;
+			else
+			    yyerror("Location list too long!");
+		  }
+break;
+case 130:
+{
+			tmpmonst[nmons] = New(monster);
+			tmpmonst[nmons]->x = current_coord.x;
+			tmpmonst[nmons]->y = current_coord.y;
+			tmpmonst[nmons]->class = yyvsp[-4].i;
+			tmpmonst[nmons]->peaceful = -1; /* no override */
+			tmpmonst[nmons]->asleep = -1;
+			tmpmonst[nmons]->align = - MAX_REGISTERS - 2;
+			tmpmonst[nmons]->name.str = 0;
+			tmpmonst[nmons]->appear = 0;
+			tmpmonst[nmons]->appear_as.str = 0;
+			tmpmonst[nmons]->chance = yyvsp[-6].i;
+			tmpmonst[nmons]->id = NON_PM;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Monster");
+			if (yyvsp[-2].map) {
+			    int token = get_monster_id(yyvsp[-2].map, (char) yyvsp[-4].i);
+			    if (token == ERR)
+				yywarning(
+			      "Invalid monster name!  Making random monster.");
+			    else
+				tmpmonst[nmons]->id = token;
+			    Free(yyvsp[-2].map);
+			}
+		  }
+break;
+case 131:
+{
+			if (++nmons >= MAX_OF_TYPE) {
+			    yyerror("Too many monsters in room or mazepart!");
+			    nmons--;
+			}
+		  }
+break;
+case 134:
+{
+			tmpmonst[nmons]->name.str = yyvsp[0].map;
+		  }
+break;
+case 135:
+{
+			tmpmonst[nmons]->peaceful = yyvsp[0].i;
+		  }
+break;
+case 136:
+{
+			tmpmonst[nmons]->asleep = yyvsp[0].i;
+		  }
+break;
+case 137:
+{
+			tmpmonst[nmons]->align = yyvsp[0].i;
+		  }
+break;
+case 138:
+{
+			tmpmonst[nmons]->appear = yyvsp[-1].i;
+			tmpmonst[nmons]->appear_as.str = yyvsp[0].map;
+		  }
+break;
+case 139:
+{
+		  }
+break;
+case 140:
+{
+			/* 1: is contents of preceeding object with 2 */
+			/* 2: is a container */
+			/* 0: neither */
+			tmpobj[nobj-1]->containment = 2;
+		  }
+break;
+case 141:
+{
+			tmpobj[nobj] = New(object);
+			tmpobj[nobj]->class = yyvsp[-2].i;
+			tmpobj[nobj]->corpsenm = NON_PM;
+			tmpobj[nobj]->curse_state = -1;
+			tmpobj[nobj]->name.str = 0;
+			tmpobj[nobj]->chance = yyvsp[-4].i;
+			tmpobj[nobj]->id = -1;
+			tmpobj[nobj]->oflags = 0;
+			if (yyvsp[0].map) {
+			    int token = get_object_id(yyvsp[0].map, yyvsp[-2].i);
+			    if (token == ERR)
+				yywarning(
+				"Illegal object name!  Making random object.");
+			     else
+				tmpobj[nobj]->id = token;
+			    Free(yyvsp[0].map);
+			}
+		  }
+break;
+case 142:
+{
+			if (++nobj >= MAX_OF_TYPE) {
+			    yyerror("Too many objects in room or mazepart!");
+			    nobj--;
+			}
+		  }
+break;
+case 143:
+{
+			tmpobj[nobj]->containment = 0;
+			tmpobj[nobj]->x = current_coord.x;
+			tmpobj[nobj]->y = current_coord.y;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Object");
+		  }
+break;
+case 144:
+{
+			tmpobj[nobj]->containment = 1;
+			/* random coordinate, will be overridden anyway */
+			tmpobj[nobj]->x = -MAX_REGISTERS-2;
+			tmpobj[nobj]->y = -MAX_REGISTERS-2;
+		  }
+break;
+case 145:
+{
+			tmpobj[nobj]->spe = -127;
+	/* Note below: we're trying to make as many of these optional as
+	 * possible.  We clearly can't make curse_state, enchantment, and
+	 * monster_id _all_ optional, since ",random" would be ambiguous.
+	 * We can't even just make enchantment mandatory, since if we do that
+	 * alone, ",random" requires too much lookahead to parse.
+	 */
+		  }
+break;
+case 146:
+{
+		  }
+break;
+case 147:
+{
+		  }
+break;
+case 148:
+{
+		  }
+break;
+case 149:
+{
+		   	if (nobj > 0)
+		   	   tmpobj[nobj-1]->oflags = yyvsp[0].i;
+			else yyerror("Need an object before object flags!");
+		  }
+break;
+case 150:
+{
+		     yyval.i = (yyvsp[-2].i | yyvsp[0].i);
+		  }
+break;
+case 151:
+{
+		     yyval.i = yyvsp[0].i;
+		  }
+break;
+case 152:
+{
+			tmpobj[nobj]->curse_state = -1;
+		  }
+break;
+case 153:
+{
+			tmpobj[nobj]->curse_state = yyvsp[0].i;
+		  }
+break;
+case 154:
+{
+			int token = get_monster_id(yyvsp[0].map, (char)0);
+			if (token == ERR)	/* "random" */
+			    tmpobj[nobj]->corpsenm = NON_PM - 1;
+			else
+			    tmpobj[nobj]->corpsenm = token;
+			Free(yyvsp[0].map);
+		  }
+break;
+case 155:
+{
+			tmpobj[nobj]->spe = -127;
+		  }
+break;
+case 156:
+{
+			tmpobj[nobj]->spe = yyvsp[0].i;
+		  }
+break;
+case 158:
+{
+		  }
+break;
+case 159:
+{
+			tmpobj[nobj]->name.str = yyvsp[0].map;
+		  }
+break;
+case 160:
+{
+			tmpdoor[ndoor] = New(door);
+			tmpdoor[ndoor]->x = current_coord.x;
+			tmpdoor[ndoor]->y = current_coord.y;
+			tmpdoor[ndoor]->mask = yyvsp[-2].i;
+			tmpdoor[ndoor]->arti_key = 0;
+			if(current_coord.x >= 0 && current_coord.y >= 0 &&
+			   tmpmap[current_coord.y][current_coord.x] != DOOR &&
+			   tmpmap[current_coord.y][current_coord.x] != SDOOR)
+			    yyerror("Door decl doesn't match the map");
+		  }
+break;
+case 161:
+{
+			if (++ndoor >= MAX_OF_TYPE) {
+			    yyerror("Too many doors in mazepart!");
+			    ndoor--;
+			}
+		  }
+break;
+case 164:
+{
+			int token = get_artifact_id(yyvsp[0].map);
+			if (token == ERR) {
+			    char ebuf[100];
+			    Sprintf(ebuf, "Undefined artifact key \"%s\"", yyvsp[0].map);
+			    yyerror(ebuf);
+			}
+			else
+			    tmpdoor[ndoor]->arti_key = token;
+		  }
+break;
+case 165:
+{
+			tmptrap[ntrap] = New(trap);
+			tmptrap[ntrap]->x = current_coord.x;
+			tmptrap[ntrap]->y = current_coord.y;
+			tmptrap[ntrap]->type = yyvsp[-2].i;
+			tmptrap[ntrap]->chance = yyvsp[-4].i;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Trap");
+			if (++ntrap >= MAX_OF_TYPE) {
+				yyerror("Too many traps in room or mazepart!");
+				ntrap--;
+			}
+		  }
+break;
+case 166:
+{
+		        int x, y, dir;
+
+			tmpdb[ndb] = New(drawbridge);
+			x = tmpdb[ndb]->x = current_coord.x;
+			y = tmpdb[ndb]->y = current_coord.y;
+			/* convert dir from a DIRECTION to a DB_DIR */
+			dir = yyvsp[-2].i;
+			switch(dir) {
+			case W_NORTH: dir = DB_NORTH; y--; break;
+			case W_SOUTH: dir = DB_SOUTH; y++; break;
+			case W_EAST:  dir = DB_EAST;  x++; break;
+			case W_WEST:  dir = DB_WEST;  x--; break;
+			default:
+			    yyerror("Invalid drawbridge direction");
+			    break;
+			}
+			tmpdb[ndb]->dir = dir;
+			if (current_coord.x >= 0 && current_coord.y >= 0 &&
+			    !IS_WALL(tmpmap[y][x])) {
+			    char ebuf[60];
+			    Sprintf(ebuf,
+				    "Wall needed for drawbridge (%02d, %02d)",
+				    current_coord.x, current_coord.y);
+			    yyerror(ebuf);
+			}
+
+			if ( yyvsp[0].i == D_ISOPEN )
+			    tmpdb[ndb]->db_open = 1;
+			else if ( yyvsp[0].i == D_CLOSED )
+			    tmpdb[ndb]->db_open = 0;
+			else
+			    yyerror("A drawbridge can only be open or closed!");
+			ndb++;
+			if (ndb >= MAX_OF_TYPE) {
+				yyerror("Too many drawbridges in mazepart!");
+				ndb--;
+			}
+		   }
+break;
+case 167:
+{
+			tmpwalk[nwalk] = New(walk);
+			tmpwalk[nwalk]->x = current_coord.x;
+			tmpwalk[nwalk]->y = current_coord.y;
+			tmpwalk[nwalk]->dir = yyvsp[0].i;
+			nwalk++;
+			if (nwalk >= MAX_OF_TYPE) {
+				yyerror("Too many mazewalks in mazepart!");
+				nwalk--;
+			}
+		  }
+break;
+case 168:
+{
+			wallify_map();
+		  }
+break;
+case 169:
+{
+			tmplad[nlad] = New(lad);
+			tmplad[nlad]->x = current_coord.x;
+			tmplad[nlad]->y = current_coord.y;
+			tmplad[nlad]->up = yyvsp[0].i;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Ladder");
+			nlad++;
+			if (nlad >= MAX_OF_TYPE) {
+				yyerror("Too many ladders in mazepart!");
+				nlad--;
+			}
+		  }
+break;
+case 170:
+{
+			tmpstair[nstair] = New(stair);
+			tmpstair[nstair]->x = current_coord.x;
+			tmpstair[nstair]->y = current_coord.y;
+			tmpstair[nstair]->up = yyvsp[0].i;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Stairway");
+			nstair++;
+			if (nstair >= MAX_OF_TYPE) {
+				yyerror("Too many stairs in room or mazepart!");
+				nstair--;
+			}
+		  }
+break;
+case 171:
+{
+			tmplreg[nlreg] = New(lev_region);
+			tmplreg[nlreg]->in_islev = yyvsp[0].i;
+			tmplreg[nlreg]->inarea.x1 = current_region.x1;
+			tmplreg[nlreg]->inarea.y1 = current_region.y1;
+			tmplreg[nlreg]->inarea.x2 = current_region.x2;
+			tmplreg[nlreg]->inarea.y2 = current_region.y2;
+		  }
+break;
+case 172:
+{
+			tmplreg[nlreg]->del_islev = yyvsp[-2].i;
+			tmplreg[nlreg]->delarea.x1 = current_region.x1;
+			tmplreg[nlreg]->delarea.y1 = current_region.y1;
+			tmplreg[nlreg]->delarea.x2 = current_region.x2;
+			tmplreg[nlreg]->delarea.y2 = current_region.y2;
+			if(yyvsp[0].i)
+			    tmplreg[nlreg]->rtype = LR_UPSTAIR;
+			else
+			    tmplreg[nlreg]->rtype = LR_DOWNSTAIR;
+			tmplreg[nlreg]->rname.str = 0;
+			nlreg++;
+			if (nlreg >= MAX_OF_TYPE) {
+				yyerror("Too many levregions in mazepart!");
+				nlreg--;
+			}
+		  }
+break;
+case 173:
+{
+		   	if ((unsigned) yyvsp[-3].i != nrndlreg)
+			    yyerror("Wrong random region number!");
+			tmprndlreg[nrndlreg] = New(lev_region);
+			tmprndlreg[nrndlreg]->in_islev = yyvsp[0].i;
+			tmprndlreg[nrndlreg]->inarea.x1 = current_region.x1;
+			tmprndlreg[nrndlreg]->inarea.y1 = current_region.y1;
+			tmprndlreg[nrndlreg]->inarea.x2 = current_region.x2;
+			tmprndlreg[nrndlreg]->inarea.y2 = current_region.y2;
+		  }
+break;
+case 174:
+{
+		   	tmprndlreg[nrndlreg]->del_islev = yyvsp[0].i;
+			tmprndlreg[nrndlreg]->delarea.x1 = current_region.x1;
+			tmprndlreg[nrndlreg]->delarea.y1 = current_region.y1;
+			tmprndlreg[nrndlreg]->delarea.x2 = current_region.x2;
+			tmprndlreg[nrndlreg]->delarea.y2 = current_region.y2;
+			tmprndlreg[nrndlreg]->rtype = 0;
+			tmprndlreg[nrndlreg]->rname.str = (char *)0;
+			nrndlreg++;
+			if (nrndlreg >= MAX_REGISTERS) {
+				yyerror("Too many random regions!");
+				nrndlreg--;
+			}
+		  }
+break;
+case 175:
+{
+			tmplreg[nlreg] = New(lev_region);
+			tmplreg[nlreg]->in_islev = yyvsp[0].i;
+			tmplreg[nlreg]->inarea.x1 = current_region.x1;
+			tmplreg[nlreg]->inarea.y1 = current_region.y1;
+			tmplreg[nlreg]->inarea.x2 = current_region.x2;
+			tmplreg[nlreg]->inarea.y2 = current_region.y2;
+		  }
+break;
+case 176:
+{
+			tmplreg[nlreg]->del_islev = yyvsp[-2].i;
+			tmplreg[nlreg]->delarea.x1 = current_region.x1;
+			tmplreg[nlreg]->delarea.y1 = current_region.y1;
+			tmplreg[nlreg]->delarea.x2 = current_region.x2;
+			tmplreg[nlreg]->delarea.y2 = current_region.y2;
+			tmplreg[nlreg]->rtype = LR_PORTAL;
+			tmplreg[nlreg]->rname.str = yyvsp[0].map;
+			nlreg++;
+			if (nlreg >= MAX_OF_TYPE) {
+				yyerror("Too many levregions in mazepart!");
+				nlreg--;
+			}
+		  }
+break;
+case 177:
+{
+			tmplreg[nlreg] = New(lev_region);
+			tmplreg[nlreg]->in_islev = yyvsp[0].i;
+			tmplreg[nlreg]->inarea.x1 = current_region.x1;
+			tmplreg[nlreg]->inarea.y1 = current_region.y1;
+			tmplreg[nlreg]->inarea.x2 = current_region.x2;
+			tmplreg[nlreg]->inarea.y2 = current_region.y2;
+		  }
+break;
+case 178:
+{
+			tmplreg[nlreg]->del_islev = yyvsp[0].i;
+			tmplreg[nlreg]->delarea.x1 = current_region.x1;
+			tmplreg[nlreg]->delarea.y1 = current_region.y1;
+			tmplreg[nlreg]->delarea.x2 = current_region.x2;
+			tmplreg[nlreg]->delarea.y2 = current_region.y2;
+		  }
+break;
+case 179:
+{
+			switch(yyvsp[0].i) {
+			case -1: tmplreg[nlreg]->rtype = LR_TELE; break;
+			case 0: tmplreg[nlreg]->rtype = LR_DOWNTELE; break;
+			case 1: tmplreg[nlreg]->rtype = LR_UPTELE; break;
+			}
+			tmplreg[nlreg]->rname.str = 0;
+			nlreg++;
+			if (nlreg >= MAX_OF_TYPE) {
+				yyerror("Too many levregions in mazepart!");
+				nlreg--;
+			}
+		  }
+break;
+case 180:
+{
+			tmplreg[nlreg] = New(lev_region);
+			tmplreg[nlreg]->in_islev = yyvsp[0].i;
+			tmplreg[nlreg]->inarea.x1 = current_region.x1;
+			tmplreg[nlreg]->inarea.y1 = current_region.y1;
+			tmplreg[nlreg]->inarea.x2 = current_region.x2;
+			tmplreg[nlreg]->inarea.y2 = current_region.y2;
+		  }
+break;
+case 181:
+{
+			tmplreg[nlreg]->del_islev = yyvsp[0].i;
+			tmplreg[nlreg]->delarea.x1 = current_region.x1;
+			tmplreg[nlreg]->delarea.y1 = current_region.y1;
+			tmplreg[nlreg]->delarea.x2 = current_region.x2;
+			tmplreg[nlreg]->delarea.y2 = current_region.y2;
+			tmplreg[nlreg]->rtype = LR_BRANCH;
+			tmplreg[nlreg]->rname.str = 0;
+			nlreg++;
+			if (nlreg >= MAX_OF_TYPE) {
+				yyerror("Too many levregions in mazepart!");
+				nlreg--;
+			}
+		  }
+break;
+case 182:
+{
+			yyval.i = -1;
+		  }
+break;
+case 183:
+{
+			yyval.i = yyvsp[0].i;
+		  }
+break;
+case 184:
+{
+			yyval.i = 0;
+		  }
+break;
+case 185:
+{
+/* This series of if statements is a hack for MSC 5.1.  It seems that its
+   tiny little brain cannot compile if these are all one big if statement. */
+			if (yyvsp[-7].i <= 0 || yyvsp[-7].i >= COLNO)
+				yyerror("Region out of level range!");
+			else if (yyvsp[-5].i < 0 || yyvsp[-5].i >= ROWNO)
+				yyerror("Region out of level range!");
+			else if (yyvsp[-3].i <= 0 || yyvsp[-3].i >= COLNO)
+				yyerror("Region out of level range!");
+			else if (yyvsp[-1].i < 0 || yyvsp[-1].i >= ROWNO)
+				yyerror("Region out of level range!");
+			current_region.x1 = yyvsp[-7].i;
+			current_region.y1 = yyvsp[-5].i;
+			current_region.x2 = yyvsp[-3].i;
+			current_region.y2 = yyvsp[-1].i;
+			yyval.i = 1;
+		  }
+break;
+case 186:
+{
+			tmpfountain[nfountain] = New(fountain);
+			tmpfountain[nfountain]->x = current_coord.x;
+			tmpfountain[nfountain]->y = current_coord.y;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Fountain");
+			nfountain++;
+			if (nfountain >= MAX_OF_TYPE) {
+			    yyerror("Too many fountains in room or mazepart!");
+			    nfountain--;
+			}
+		  }
+break;
+case 187:
+{
+			tmpsink[nsink] = New(sink);
+			tmpsink[nsink]->x = current_coord.x;
+			tmpsink[nsink]->y = current_coord.y;
+			nsink++;
+			if (nsink >= MAX_OF_TYPE) {
+				yyerror("Too many sinks in room!");
+				nsink--;
+			}
+		  }
+break;
+case 188:
+{
+			tmppool[npool] = New(pool);
+			tmppool[npool]->x = current_coord.x;
+			tmppool[npool]->y = current_coord.y;
+			npool++;
+			if (npool >= MAX_OF_TYPE) {
+				yyerror("Too many pools in room!");
+				npool--;
+			}
+		  }
+break;
+case 189:
+{
+			tmpdig[ndig] = New(digpos);
+			tmpdig[ndig]->x1 = current_region.x1;
+			tmpdig[ndig]->y1 = current_region.y1;
+			tmpdig[ndig]->x2 = current_region.x2;
+			tmpdig[ndig]->y2 = current_region.y2;
+			ndig++;
+			if (ndig >= MAX_OF_TYPE) {
+				yyerror("Too many diggables in mazepart!");
+				ndig--;
+			}
+		  }
+break;
+case 190:
+{
+			tmppass[npass] = New(digpos);
+			tmppass[npass]->x1 = current_region.x1;
+			tmppass[npass]->y1 = current_region.y1;
+			tmppass[npass]->x2 = current_region.x2;
+			tmppass[npass]->y2 = current_region.y2;
+			npass++;
+			if (npass >= 32) {
+				yyerror("Too many passwalls in mazepart!");
+				npass--;
+			}
+		  }
+break;
+case 191:
+{
+			tmpreg[nreg] = New(region);
+			tmpreg[nreg]->x1 = current_region.x1;
+			tmpreg[nreg]->y1 = current_region.y1;
+			tmpreg[nreg]->x2 = current_region.x2;
+			tmpreg[nreg]->y2 = current_region.y2;
+			tmpreg[nreg]->rlit = yyvsp[-3].i;
+			tmpreg[nreg]->rtype = yyvsp[-1].i;
+			if(yyvsp[0].i & 1) tmpreg[nreg]->rtype += MAXRTYPE+1;
+			tmpreg[nreg]->rirreg = ((yyvsp[0].i & 2) != 0);
+			if(current_region.x1 > current_region.x2 ||
+			   current_region.y1 > current_region.y2)
+			   yyerror("Region start > end!");
+			if(tmpreg[nreg]->rtype == VAULT &&
+			   (tmpreg[nreg]->rirreg ||
+			    (tmpreg[nreg]->x2 - tmpreg[nreg]->x1 != 1) ||
+			    (tmpreg[nreg]->y2 - tmpreg[nreg]->y1 != 1)))
+				yyerror("Vaults must be exactly 2x2!");
+			if(want_warnings && !tmpreg[nreg]->rirreg &&
+			   current_region.x1 > 0 && current_region.y1 > 0 &&
+			   current_region.x2 < (int)max_x_map &&
+			   current_region.y2 < (int)max_y_map) {
+			    /* check for walls in the room */
+			    char ebuf[60];
+			    register int x, y, nrock = 0;
+
+			    for(y=current_region.y1; y<=current_region.y2; y++)
+				for(x=current_region.x1;
+				    x<=current_region.x2; x++)
+				    if(IS_ROCK(tmpmap[y][x]) ||
+				       IS_DOOR(tmpmap[y][x])) nrock++;
+			    if(nrock) {
+				Sprintf(ebuf,
+					"Rock in room (%02d,%02d,%02d,%02d)?!",
+					current_region.x1, current_region.y1,
+					current_region.x2, current_region.y2);
+				yywarning(ebuf);
+			    }
+			    if (
+		!IS_ROCK(tmpmap[current_region.y1-1][current_region.x1-1]) ||
+		!IS_ROCK(tmpmap[current_region.y2+1][current_region.x1-1]) ||
+		!IS_ROCK(tmpmap[current_region.y1-1][current_region.x2+1]) ||
+		!IS_ROCK(tmpmap[current_region.y2+1][current_region.x2+1])) {
+				Sprintf(ebuf,
+				"NonRock edge in room (%02d,%02d,%02d,%02d)?!",
+					current_region.x1, current_region.y1,
+					current_region.x2, current_region.y2);
+				yywarning(ebuf);
+			    }
+			} else if(tmpreg[nreg]->rirreg &&
+		!IS_ROOM(tmpmap[current_region.y1][current_region.x1])) {
+			    char ebuf[60];
+			    Sprintf(ebuf,
+				    "Rock in irregular room (%02d,%02d)?!",
+				    current_region.x1, current_region.y1);
+			    yyerror(ebuf);
+			}
+			nreg++;
+			if (nreg >= MAX_OF_TYPE) {
+				yyerror("Too many regions in mazepart!");
+				nreg--;
+			}
+		  }
+break;
+case 192:
+{
+			tmpaltar[naltar] = New(altar);
+			tmpaltar[naltar]->x = current_coord.x;
+			tmpaltar[naltar]->y = current_coord.y;
+			tmpaltar[naltar]->align = yyvsp[-2].i;
+			tmpaltar[naltar]->shrine = yyvsp[0].i;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Altar");
+			naltar++;
+			if (naltar >= MAX_OF_TYPE) {
+				yyerror("Too many altars in room or mazepart!");
+				naltar--;
+			}
+		  }
+break;
+case 193:
+{
+			tmpgold[ngold] = New(gold);
+			tmpgold[ngold]->x = current_coord.x;
+			tmpgold[ngold]->y = current_coord.y;
+			tmpgold[ngold]->amount = yyvsp[-2].i;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Gold");
+			ngold++;
+			if (ngold >= MAX_OF_TYPE) {
+				yyerror("Too many golds in room or mazepart!");
+				ngold--;
+			}
+		  }
+break;
+case 194:
+{
+			tmpengraving[nengraving] = New(engraving);
+			tmpengraving[nengraving]->x = current_coord.x;
+			tmpengraving[nengraving]->y = current_coord.y;
+			tmpengraving[nengraving]->engr.str = yyvsp[0].map;
+			tmpengraving[nengraving]->etype = yyvsp[-2].i;
+			if (!in_room)
+			    check_coord(current_coord.x, current_coord.y,
+					"Engraving");
+			nengraving++;
+			if (nengraving >= MAX_OF_TYPE) {
+			    yyerror("Too many engravings in room or mazepart!");
+			    nengraving--;
+			}
+		  }
+break;
+case 196:
+{
+			yyval.i = - MAX_REGISTERS - 1;
+		  }
+break;
+case 199:
+{
+			yyval.i = - MAX_REGISTERS - 1;
+		  }
+break;
+case 202:
+{
+			yyval.map = (char *) 0;
+		  }
+break;
+case 204:
+{
+			yyval.map = (char *) 0;
+		  }
+break;
+case 205:
+{
+			int token = get_trap_type(yyvsp[0].map);
+			if (token == ERR)
+				yyerror("Unknown trap type!");
+			yyval.i = token;
+			Free(yyvsp[0].map);
+		  }
+break;
+case 207:
+{
+			int token = get_room_type(yyvsp[0].map);
+			if (token == ERR) {
+				yywarning("Unknown room type!  Making ordinary room...");
+				yyval.i = OROOM;
+			} else
+				yyval.i = token;
+			Free(yyvsp[0].map);
+		  }
+break;
+case 209:
+{
+			yyval.i = 0;
+		  }
+break;
+case 210:
+{
+			yyval.i = yyvsp[0].i;
+		  }
+break;
+case 211:
+{
+			yyval.i = yyvsp[-2].i + (yyvsp[0].i << 1);
+		  }
+break;
+case 215:
+{
+			current_coord.x = current_coord.y = -MAX_REGISTERS-2;
+		  }
+break;
+case 222:
+{
+			yyval.i = - MAX_REGISTERS - 1;
+		  }
+break;
+case 225:
+{
+			if ( yyvsp[-1].i >= MAX_REGISTERS )
+				yyerror("Register Index overflow!");
+			else {
+				current_coord.x = -1;
+				current_coord.y = - yyvsp[-1].i - 1;
+			}
+		  }
+break;
+case 226:
+{
+			if ( yyvsp[-4].i >= MAX_REGISTERS || yyvsp[-1].i >= MAX_REGISTERS )
+				yyerror("Register Index overflow!");
+			else {
+				current_coord.x = - yyvsp[-4].i - 1;
+				current_coord.y = - yyvsp[-1].i - 1;
+			}
+		  }
+break;
+case 227:
+{
+			if ( yyvsp[-1].i < 0 || yyvsp[-1].i >= nrndlreg )
+				yyerror("Register Index overflow!");
+			else {
+				current_coord.x = -MAX_REGISTERS-1;
+				current_coord.y = - yyvsp[-1].i - 1;
+			}
+		  }
+break;
+case 228:
+{
+			if ( yyvsp[-1].i >= MAX_REGISTERS )
+				yyerror("Register Index overflow!");
+			else
+				yyval.i = - yyvsp[-1].i - 1;
+		  }
+break;
+case 229:
+{
+			if ( yyvsp[-1].i >= MAX_REGISTERS )
+				yyerror("Register Index overflow!");
+			else
+				yyval.i = - yyvsp[-1].i - 1;
+		  }
+break;
+case 230:
+{
+			if ( yyvsp[-1].i >= 3 )
+				yyerror("Register Index overflow!");
+			else
+				yyval.i = - yyvsp[-1].i - 1;
+		  }
+break;
+case 232:
+{
+			current_coord.x = (char)-1;
+			current_coord.y = (char)-1;
+		  }
+break;
+case 233:
+{
+			if (check_monster_char((char) yyvsp[0].i))
+				yyval.i = yyvsp[0].i ;
+			else {
+				yyerror("Unknown monster class!");
+				yyval.i = ERR;
+			}
+		  }
+break;
+case 234:
+{
+			char c = yyvsp[0].i;
+			if (check_object_char(c))
+				yyval.i = c;
+			else {
+				yyerror("Unknown char class!");
+				yyval.i = ERR;
+			}
+		  }
+break;
+case 238:
+{
+			yyval.i = 100;	/* default is 100% */
+		  }
+break;
+case 239:
+{
+			if (yyvsp[0].i <= 0 || yyvsp[0].i > 100)
+			    yyerror("Expected percentile chance.");
+			yyval.i = yyvsp[0].i;
+		  }
+break;
+case 242:
+{
+			if (!in_room && !init_lev.init_present &&
+			    (yyvsp[-3].i < 0 || yyvsp[-3].i > (int)max_x_map ||
+			     yyvsp[-1].i < 0 || yyvsp[-1].i > (int)max_y_map))
+			    yyerror("Coordinates out of map range!");
+			current_coord.x = yyvsp[-3].i;
+			current_coord.y = yyvsp[-1].i;
+		  }
+break;
+case 243:
+{
+/* This series of if statements is a hack for MSC 5.1.  It seems that its
+   tiny little brain cannot compile if these are all one big if statement. */
+			if (yyvsp[-7].i < 0 || yyvsp[-7].i > (int)max_x_map)
+				yyerror("Region out of map range!");
+			else if (yyvsp[-5].i < 0 || yyvsp[-5].i > (int)max_y_map)
+				yyerror("Region out of map range!");
+			else if (yyvsp[-3].i < 0 || yyvsp[-3].i > (int)max_x_map)
+				yyerror("Region out of map range!");
+			else if (yyvsp[-1].i < 0 || yyvsp[-1].i > (int)max_y_map)
+				yyerror("Region out of map range!");
+			current_region.x1 = yyvsp[-7].i;
+			current_region.y1 = yyvsp[-5].i;
+			current_region.x2 = yyvsp[-3].i;
+			current_region.y2 = yyvsp[-1].i;
+		  }
+break;
+    }
+    yyssp -= yym;
+    yystate = *yyssp;
+    yyvsp -= yym;
+    yym = yylhs[yyn];
+    if (yystate == 0 && yym == 0)
+    {
+#if YYDEBUG
+        if (yydebug)
+            printf("%sdebug: after reduction, shifting from state 0 to\
+ state %d\n", YYPREFIX, YYFINAL);
+#endif
+        yystate = YYFINAL;
+        *++yyssp = YYFINAL;
+        *++yyvsp = yyval;
+        if (yychar < 0)
+        {
+            if ((yychar = yylex()) < 0) yychar = 0;
+#if YYDEBUG
+            if (yydebug)
+            {
+                yys = 0;
+                if (yychar <= YYMAXTOKEN) yys = yyname[yychar];
+                if (!yys) yys = "illegal-symbol";
+                printf("%sdebug: state %d, reading %d (%s)\n",
+                        YYPREFIX, YYFINAL, yychar, yys);
+            }
+#endif
+        }
+        if (yychar == 0) goto yyaccept;
+        goto yyloop;
+    }
+    if ((yyn = yygindex[yym]) && (yyn += yystate) >= 0 &&
+            yyn <= YYTABLESIZE && yycheck[yyn] == yystate)
+        yystate = yytable[yyn];
+    else
+        yystate = yydgoto[yym];
+#if YYDEBUG
+    if (yydebug)
+        printf("%sdebug: after reduction, shifting from state %d \
+to state %d\n", YYPREFIX, *yyssp, yystate);
+#endif
+    if (yyssp >= yysslim && yygrowstack())
+    {
+        goto yyoverflow;
+    }
+    *++yyssp = yystate;
+    *++yyvsp = yyval;
+    goto yyloop;
+yyoverflow:
+    yyerror("yacc stack overflow");
+yyabort:
+    return (1);
+yyaccept:
+    return (0);
+}
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\makedefs.c SlashTNG-master\src\makedefs.c
--- slashem-0.0.7E7F3\src\makedefs.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\makedefs.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,2448 @@
+/*	SCCS Id: @(#)makedefs.c	3.4	2002/08/14	*/
+/* Copyright (c) Stichting Mathematisch Centrum, Amsterdam, 1985. */
+/* Copyright (c) M. Stephenson, 1990, 1991.			  */
+/* Copyright (c) Dean Luick, 1990.				  */
+/* NetHack may be freely redistributed.  See license for details. */
+
+#define MAKEDEFS_C	/* use to conditionally include file sections */
+/* #define DEBUG */	/* uncomment for debugging info */
+
+#include "config.h"
+#include "permonst.h"
+#include "objclass.h"
+#include "monsym.h"
+#include "artilist.h"
+#include "mondata.h"
+#include "dungeon.h"
+#include "obj.h"
+#include "monst.h"
+#include "you.h"
+#include "flag.h"
+#include "dlb.h"
+
+/* version information */
+#ifdef SHORT_FILENAMES
+#include "patchlev.h"
+#else
+#include "patchlevel.h"
+#endif
+
+#ifdef MAC
+# ifdef MAC_MPW
+#  define MPWTOOL
+#  include <CursorCtl.h>
+#  include <string.h>
+#  include <ctype.h>
+# else		/* MAC without MPWTOOL */
+#  define MACsansMPWTOOL
+# endif /* MAC_MPW */
+#endif /* MAC */
+
+#ifndef MPWTOOL
+# define SpinCursor(x)
+#endif
+
+#define Fprintf	(void) fprintf
+#define Fclose	(void) fclose
+#define Unlink	(void) unlink
+#if !defined(AMIGA) || defined(AZTEC_C)
+#define rewind(fp) fseek((fp),0L,SEEK_SET)	/* guarantee a return value */
+#endif
+
+#if defined(UNIX) && !defined(LINT) && !defined(GCC_WARN)
+static	const char	SCCS_Id[] = "@(#)makedefs.c\t3.4\t2002/02/03";
+#endif
+
+	/* names of files to be generated */
+#define DATE_FILE	"date.h"
+#define MONST_FILE	"pm.h"
+#define ONAME_FILE	"onames.h"
+#ifndef NH_OPTIONS_FILE
+#define OPTIONS_FILE	"options"
+#else
+#define OPTIONS_FILE    NH_OPTIONS_FILE
+#endif
+#define ORACLE_FILE	"oracles"
+#define DATA_FILE	"data"
+#define RUMOR_FILE	"rumors"
+#define DGN_I_FILE	"dungeon.def"
+#define DGN_O_FILE	"dungeon.pdf"
+#define MON_STR_C	"monstr.c"
+#define QTXT_I_FILE	"quest.txt"
+#define QTXT_O_FILE	"quest.dat"
+#define VIS_TAB_H	"vis_tab.h"
+#define VIS_TAB_C	"vis_tab.c"
+/*WAC filename*/
+/*input*/
+#define FILE_H          "file.h"
+/*output*/
+#define FILENAME_H      "filename.h"
+
+	/* locations for those files */
+#ifdef AMIGA
+# define FILE_PREFIX
+# define INCLUDE_TEMPLATE	"NH:include/t.%s"
+# define SOURCE_TEMPLATE	"NH:src/%s"
+# define DGN_TEMPLATE		"NH:dat/%s"  /* where dungeon.pdf file goes */
+# define DATA_TEMPLATE		"NH:slib/%s"
+# define DATA_IN_TEMPLATE	"NH:dat/%s"
+#else
+# if defined(MAC) && !defined(__MACH__)
+	/* MacOS 9 or earlier */
+#   define INCLUDE_TEMPLATE	":include:%s"
+#   define SOURCE_TEMPLATE	":src:%s"
+#   define DGN_TEMPLATE		":dat:%s"  /* where dungeon.pdf file goes */
+#   define DATA_TEMPLATE        "::lib:%s"
+#   define DATA_IN_TEMPLATE	":dat:%s"
+# else /* MAC */
+#  ifdef OS2
+#   define INCLUDE_TEMPLATE	"..\\include\\%s"
+#   define SOURCE_TEMPLATE	"..\\src\\%s"
+#   define DGN_TEMPLATE		"..\\dat\\%s"  /* where dungeon.pdf file goes */
+#   define DATA_TEMPLATE	"..\\dat\\%s"
+#   define DATA_IN_TEMPLATE	"..\\dat\\%s"
+#  else /* OS2 */
+#   define INCLUDE_TEMPLATE	"../include/%s"
+#   define SOURCE_TEMPLATE	"../src/%s"
+#   define DGN_TEMPLATE		"../dat/%s"  /* where dungeon.pdf file goes */
+#   define DATA_TEMPLATE	"../dat/%s"
+#   define DATA_IN_TEMPLATE	"../dat/%s"
+#  endif /* OS2 */
+# endif /* MAC */
+#endif  /* AMIGA */
+
+static const char
+    *Dont_Edit_Code =
+	"/* This source file is generated by 'makedefs'.  Do not edit. */\n",
+    *Dont_Edit_Data =
+	"#\tThis data file is generated by 'makedefs'.  Do not edit. \n";
+
+static struct version_info version;
+
+#ifdef MAC_MPW
+static const char *data_template()
+{
+	static char *result;
+	if (result)
+		return result;
+	result = malloc(strlen(getenv("ObjDir"))+3);
+	strcpy(result, getenv("ObjDir"));
+	strcat(result, "%s");
+	return result;
+}
+#endif
+
+/* definitions used for vision tables */
+#define TEST_WIDTH  COLNO
+#define TEST_HEIGHT ROWNO
+#define BLOCK_WIDTH (TEST_WIDTH + 10)
+#define BLOCK_HEIGHT TEST_HEIGHT	/* don't need extra spaces */
+#define MAX_ROW (BLOCK_HEIGHT + TEST_HEIGHT)
+#define MAX_COL (BLOCK_WIDTH + TEST_WIDTH)
+/* Use this as an out-of-bound value in the close table.  */
+#define CLOSE_OFF_TABLE_STRING "99"	/* for the close table */
+#define FAR_OFF_TABLE_STRING "0xff"	/* for the far table */
+
+#define sign(z) ((z) < 0 ? -1 : ((z) ? 1 : 0))
+#ifdef VISION_TABLES
+static char xclear[MAX_ROW][MAX_COL];
+#endif
+/*-end of vision defs-*/
+
+static char     in_line[256], filename[600];
+
+#ifdef FILE_PREFIX
+		/* if defined, a first argument not starting with - is
+		 * taken as a text string to be prepended to any
+		 * output filename generated */
+char *file_prefix="";
+#endif
+
+#ifdef MACsansMPWTOOL
+int FDECL(main, (void));
+#else
+int FDECL(main, (int,char **));
+#endif
+void FDECL(do_makedefs, (char *));
+void NDECL(do_objs);
+void NDECL(do_data);
+void NDECL(do_dungeon);
+void NDECL(do_date);
+void NDECL(do_options);
+void NDECL(do_monstr);
+void NDECL(do_permonst);
+void NDECL(do_questtxt);
+void NDECL(do_rumors);
+void NDECL(do_oracles);
+void NDECL(do_vision);
+/*WAC filenames*/
+void NDECL(do_filenames);
+
+extern void NDECL(monst_init);		/* monst.c */
+extern void NDECL(objects_init);	/* objects.c */
+
+static void NDECL(make_version);
+static char *FDECL(version_string, (char *));
+static char *FDECL(version_id_string, (char *,const char *));
+static char *FDECL(xcrypt, (const char *));
+static int FDECL(check_control, (char *));
+static char *FDECL(without_control, (char *));
+static boolean FDECL(d_filter, (char *));
+static boolean FDECL(h_filter, (char *));
+static boolean FDECL(ranged_attk,(struct permonst*));
+static int FDECL(mstrength,(struct permonst *));
+static void NDECL(build_savebones_compat_string);
+
+static boolean FDECL(qt_comment, (char *));
+static boolean FDECL(qt_control, (char *));
+static int FDECL(get_hdr, (char *));
+static boolean FDECL(new_id, (char *));
+static boolean FDECL(known_msg, (int,int));
+static void FDECL(new_msg, (char *,int,int));
+static void FDECL(do_qt_control, (char *));
+static void FDECL(do_qt_text, (char *));
+static void NDECL(adjust_qt_hdrs);
+static void NDECL(put_qt_hdrs);
+
+#ifdef VISION_TABLES
+static void NDECL(H_close_gen);
+static void NDECL(H_far_gen);
+static void NDECL(C_close_gen);
+static void NDECL(C_far_gen);
+static int FDECL(clear_path, (int,int,int,int));
+#endif
+
+static char *FDECL(tmpdup, (const char *));
+static char *FDECL(limit, (char *,int));
+static char *FDECL(eos, (char *));
+
+/*Stolen from hacklib.c*/
+static char *FDECL(lcase, (char *));
+static char *FDECL(ucase, (char *));
+
+/* input, output, tmp */
+static FILE *ifp, *ofp, *tfp;
+
+#if defined(__BORLANDC__) && !defined(_WIN32)
+extern unsigned _stklen = STKSIZ;
+#endif
+
+
+#ifdef MACsansMPWTOOL
+int
+main(void)
+{
+    const char *def_options = "odefmvpqrhz";
+    char buf[100];
+    int len;
+
+    printf("Enter options to run: [%s] ", def_options);
+    fflush(stdout);
+    fgets(buf, 100, stdin);
+    len = strlen(buf);
+    if (len <= 1)
+	Strcpy(buf, def_options);
+    else
+	buf[len-1] = 0;			/* remove return */
+
+    do_makedefs(buf);
+    exit(EXIT_SUCCESS);
+    return 0;
+}
+
+#else /* ! MAC */
+
+int
+main(argc, argv)
+int	argc;
+char	*argv[];
+{
+	if ( (argc != 2)
+#ifdef FILE_PREFIX
+		&& (argc != 3)
+#endif
+	) {
+	    Fprintf(stderr, "Bad arg count (%d).\n", argc-1);
+	    (void) fflush(stderr);
+	    return 1;
+	}
+#ifdef FILE_PREFIX
+	if(argc >=2 && argv[1][0]!='-'){
+	    file_prefix=argv[1];
+	    argc--;argv++;
+	}
+#endif
+	do_makedefs(&argv[1][1]);
+	exit(EXIT_SUCCESS);
+	/*NOTREACHED*/
+	return 0;
+}
+
+#endif
+
+void
+do_makedefs(options)
+char	*options;
+{
+	boolean more_than_one;
+
+	/* Note:  these initializers don't do anything except guarantee that
+		we're linked properly.
+	*/
+	monst_init();
+	objects_init();
+
+	/* construct the current version number */
+	make_version();
+
+	more_than_one = strlen(options) > 1;
+	while (*options) {
+	    if (more_than_one)
+		Fprintf(stderr, "makedefs -%c\n", *options);
+
+	    switch (*options) {
+		case 'o':
+		case 'O':	do_objs();
+				break;
+		case 'd':
+		case 'D':	do_data();
+				break;
+		case 'e':
+		case 'E':	do_dungeon();
+				break;
+/*WAC do filenames*/
+                case 'f':
+                case 'F':       do_filenames();
+                                break;
+		case 'm':
+		case 'M':	do_monstr();
+				break;
+		case 'v':
+		case 'V':	do_date();
+				do_options();
+				break;
+		case 'p':
+		case 'P':	do_permonst();
+				break;
+		case 'q':
+		case 'Q':	do_questtxt();
+				break;
+		case 'r':
+		case 'R':	do_rumors();
+				break;
+		case 'h':
+		case 'H':	do_oracles();
+				break;
+		case 'z':
+		case 'Z':	do_vision();
+				break;
+		default:	Fprintf(stderr,	"Unknown option '%c'.\n",
+					*options);
+				(void) fflush(stderr);
+				exit(EXIT_FAILURE);
+		
+	    }
+	    options++;
+	}
+	if (more_than_one) Fprintf(stderr, "Completed.\n");	/* feedback */
+
+}
+
+
+/* trivial text encryption routine which can't be broken with `tr' */
+static
+char *xcrypt(str)
+const char *str;
+{				/* duplicated in src/hacklib.c */
+	static char buf[BUFSZ];
+	register const char *p;
+	register char *q;
+	register int bitmask;
+
+	for (bitmask = 1, p = str, q = buf; *p; q++) {
+		*q = *p++;
+		if (*q & (32|64)) *q ^= bitmask;
+		if ((bitmask <<= 1) >= 32) bitmask = 1;
+	}
+	*q = '\0';
+	return buf;
+}
+
+void
+do_rumors()
+{
+	char    *infile;
+	long	true_rumor_size;
+
+	infile = malloc(strlen(DATA_IN_TEMPLATE) - 2 + strlen(RUMOR_FILE) + 5);
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename,file_prefix);
+#endif
+	Sprintf(eos(filename), DATA_TEMPLATE, RUMOR_FILE);
+	if (!(ofp = fopen(filename, WRTMODE))) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+	}
+	Fprintf(ofp,Dont_Edit_Data);
+
+	Sprintf(infile, DATA_IN_TEMPLATE, RUMOR_FILE);
+	Strcat(infile, ".tru");
+	if (!(ifp = fopen(infile, RDTMODE))) {
+		perror(infile);
+		Fclose(ofp);
+		Unlink(filename);	/* kill empty output file */
+		exit(EXIT_FAILURE);
+	}
+
+	/* get size of true rumors file */
+#ifndef VMS
+	(void) fseek(ifp, 0L, SEEK_END);
+	true_rumor_size = ftell(ifp);
+#else
+	/* seek+tell is only valid for stream format files; since rumors.%%%
+	   might be in record format, count the actual data bytes instead.
+	 */
+	true_rumor_size = 0;
+	while (fgets(in_line, sizeof in_line, ifp) != 0)
+		true_rumor_size += strlen(in_line);	/* includes newline */
+#endif /* VMS */
+	Fprintf(ofp,"%06lx\n", true_rumor_size);
+	(void) fseek(ifp, 0L, SEEK_SET);
+
+	/* copy true rumors */
+	while (fgets(in_line, sizeof in_line, ifp) != 0)
+		(void) fputs(xcrypt(in_line), ofp);
+
+	Fclose(ifp);
+
+	Sprintf(infile, DATA_IN_TEMPLATE, RUMOR_FILE);
+	Strcat(infile, ".fal");
+	if (!(ifp = fopen(infile, RDTMODE))) {
+		perror(infile);
+		Fclose(ofp);
+		Unlink(filename);	/* kill incomplete output file */
+		exit(EXIT_FAILURE);
+	}
+
+	/* copy false rumors */
+	while (fgets(in_line, sizeof in_line, ifp) != 0)
+		(void) fputs(xcrypt(in_line), ofp);
+
+	Fclose(ifp);
+	Fclose(ofp);
+	free(infile);
+	return;
+}
+
+/*
+ * 3.4.1: way back in 3.2.1 `flags.nap' became unconditional but
+ * TIMED_DELAY was erroneously left in VERSION_FEATURES and has
+ * been there up through 3.4.0.  Simply removing it now would
+ * break save file compatibility with 3.4.0 files, so we will
+ * explicitly mask it out during version checks.
+ * This should go away in the next version update.
+ */
+#define IGNORED_FEATURES	( 0L \
+				| (1L << 23)	/* TIMED_DELAY */ \
+				)
+
+static void
+make_version()
+{
+	register int i;
+
+	/*
+	 * integer version number
+	 */
+	version.incarnation = ((unsigned long)VERSION_MAJOR << 24) |
+				((unsigned long)VERSION_MINOR << 16) |
+				((unsigned long)PATCHLEVEL << 8) |
+				((unsigned long)EDITLEVEL);
+	/*
+	 * encoded feature list
+	 * Note:  if any of these magic numbers are changed or reassigned,
+	 * EDITLEVEL in patchlevel.h should be incremented at the same time.
+	 * The actual values have no special meaning, and the category
+	 * groupings are just for convenience.
+	 */
+	version.feature_set = (unsigned long)(0L
+		/* levels and/or topology (0..3) */
+#ifdef REINCARNATION
+			| (1L <<  1)
+#endif
+#ifdef SINKS
+			| (1L <<  2)
+#endif
+#ifdef BLACKMARKET
+			| (1L <<  3)
+#endif
+		/* monsters (4..7) */
+#ifdef KOPS
+			| (1L <<  6)
+#endif
+#ifdef MAIL
+			| (1L <<  7)
+#endif
+		/* objects (8..15) */
+#ifdef P_SPOON
+			| (1L <<  9)
+#endif
+#ifdef TOURIST
+			| (1L << 10)
+#endif
+#ifdef STEED
+			| (1L << 11)
+#endif
+#ifdef GOLDOBJ
+			| (1L << 12)
+#endif
+#ifdef FIREARMS
+			| (1L << 13)
+#endif
+#ifdef LIGHTSABERS
+			| (1L << 14)
+# ifdef D_SABER
+			| (1L << 15)
+# endif
+#endif
+		/* flag bits and/or other global variables (16..26) */
+#ifdef DISPLAY_LAYERS
+			| (1L << 16)
+#endif
+#ifdef TEXTCOLOR
+			| (1L << 17)
+#endif
+#ifdef INSURANCE
+			| (1L << 18)
+#endif
+#ifdef ELBERETH
+			| (1L << 19)
+#endif
+#ifdef EXP_ON_BOTL
+			| (1L << 20)
+#endif
+#ifdef SCORE_ON_BOTL
+			| (1L << 21)
+#endif
+		/* data format [COMPRESS excluded] (27..31) */
+#ifdef ZEROCOMP
+			| (1L << 27)
+#endif
+#ifdef RLECOMP
+			| (1L << 28)
+#endif
+			);
+	/*
+	 * Value used for object & monster sanity check.
+	 *    (NROFARTIFACTS<<24) | (NUM_OBJECTS<<12) | (NUMMONS<<0)
+	 */
+	for (i = 1; artifact_names[i]; i++) continue;
+        version.entity_count = (unsigned long) (i - 1);
+	for (i = 1; objects[i].oc_class != ILLOBJ_CLASS; i++) continue;
+        version.entity_count = (version.entity_count << 12) | (unsigned long) i;
+	for (i = 0; mons[i].mlet; i++) continue;
+        version.entity_count = (version.entity_count << 12) | (unsigned long) i;
+	/*
+	 * Value used for compiler (word size/field alignment/padding) check.
+	 */
+	version.struct_sizes = (((unsigned long)sizeof (struct flag)  << 24) |
+				((unsigned long)sizeof (struct obj)   << 17) |
+				((unsigned long)sizeof (struct monst) << 10) |
+				((unsigned long)sizeof (struct you)));
+	return;
+}
+
+static char *
+version_string(outbuf)
+char *outbuf;
+{
+    Sprintf(outbuf, "%d.%d.%d", VERSION_MAJOR, VERSION_MINOR, PATCHLEVEL);
+#ifdef EDITLEVEL
+    Sprintf(eos(outbuf), "E%d", EDITLEVEL);
+#ifdef FIXLEVEL
+    Sprintf(eos(outbuf), "F%d", FIXLEVEL);
+#endif
+#endif
+    return outbuf;
+}
+
+/* WAC use DEF_GAME_NAME */
+static char *
+version_id_string(outbuf, build_date)
+char *outbuf;
+const char *build_date;
+{
+    char subbuf[64], versbuf[64];
+    subbuf[0] = '\0';
+#ifdef PORT_SUB_ID
+    subbuf[0] = ' ';
+    Strcpy(&subbuf[1], PORT_SUB_ID);
+#endif
+#if defined(ALPHA)
+    Strcat(subbuf, " Alpha");
+#elif defined(BETA)
+    Strcat(subbuf, " Beta");
+#endif
+
+    Sprintf(outbuf, "%s %s%s Version %s - last build %s.",
+	    PORT_ID, DEF_GAME_NAME, subbuf, version_string(versbuf), build_date);
+    return outbuf;
+}
+
+void
+do_date()
+{
+	long clocktim = 0;
+	char *c,  *cbuf, buf[BUFSZ];
+	const char *ul_sfx;
+
+	cbuf = malloc(600);
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename,file_prefix);
+#endif
+	Sprintf(eos(filename), INCLUDE_TEMPLATE, DATE_FILE);
+	if (!(ofp = fopen(filename, WRTMODE))) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+	}
+	Fprintf(ofp,"/*\tSCCS Id: @(#)date.h\t3.4\t2002/02/03 */\n\n");
+	Fprintf(ofp,Dont_Edit_Code);
+
+#ifdef KR1ED
+	(void) time(&clocktim);
+	Strcpy(cbuf, ctime(&clocktim));
+#else
+	(void) time((time_t *)&clocktim);
+	Strcpy(cbuf, ctime((time_t *)&clocktim));
+#endif
+	for (c = cbuf; *c; c++) if (*c == '\n') break;
+	*c = '\0';	/* strip off the '\n' */
+#ifdef NHSTDC
+	ul_sfx = "UL";
+#else
+	ul_sfx = "L";
+#endif
+	Fprintf(ofp,"#define BUILD_DATE \"%s\"\n", cbuf);
+	Fprintf(ofp,"#define BUILD_TIME (%ldL)\n", clocktim);
+	Fprintf(ofp,"\n");
+	Fprintf(ofp,"#define VERSION_NUMBER 0x%08lx%s\n",
+		version.incarnation, ul_sfx);
+	Fprintf(ofp,"#define VERSION_FEATURES 0x%08lx%s\n",
+		version.feature_set, ul_sfx);
+#ifdef IGNORED_FEATURES
+	Fprintf(ofp,"#define IGNORED_FEATURES 0x%08lx%s\n",
+		(unsigned long) IGNORED_FEATURES, ul_sfx);
+#endif
+	Fprintf(ofp,"#define VERSION_SANITY1 0x%08lx%s\n",
+		version.entity_count, ul_sfx);
+	Fprintf(ofp,"#define VERSION_SANITY2 0x%08lx%s\n",
+		version.struct_sizes, ul_sfx);
+	Fprintf(ofp,"\n");
+	Fprintf(ofp,"#define VERSION_STRING \"%s\"\n", version_string(buf));
+	Fprintf(ofp,"#define VERSION_ID \\\n \"%s\"\n",
+		version_id_string(buf, cbuf));
+#ifdef AMIGA
+	{
+	struct tm *tm = localtime((time_t *) &clocktim);
+	Fprintf(ofp,"#define AMIGA_VERSION_STRING ");
+	Fprintf(ofp,"\"\\0$VER: NetHack %d.%d.%d (%d.%d.%d)\"\n",
+		VERSION_MAJOR, VERSION_MINOR, PATCHLEVEL,
+		tm->tm_mday, tm->tm_mon+1, tm->tm_year+1900);
+	}
+#endif
+	Fclose(ofp);
+	free(cbuf);
+	return;
+}
+
+static char save_bones_compat_buf[BUFSZ];
+
+static void
+build_savebones_compat_string()
+{
+#ifdef VERSION_COMPATIBILITY
+	unsigned long uver = VERSION_COMPATIBILITY;
+#endif
+	char editsuffix[20], ueditsuffix[20];
+	/* Add edit level suffices if either EDITLEVEL is defined, or
+	 * the first level we are compatible with was not edit level 0.
+	 */
+#ifdef EDITLEVEL
+	sprintf(editsuffix, "E%d", EDITLEVEL);
+	sprintf(ueditsuffix, "E%lu", uver & 0x000000FFL);
+#else
+	if (uver & 0x000000FFL) {
+	    strcpy(editsuffix, "E0");
+	    sprintf(ueditsuffix, "E%lu", uver & 0x000000FFL);
+	} else {
+	    editsuffix[0] = 0;
+	    ueditsuffix[0] = 0;
+	}
+#endif
+	Strcpy(save_bones_compat_buf,
+		"save and bones files accepted from version");
+#ifdef VERSION_COMPATIBILITY
+	Sprintf(eos(save_bones_compat_buf),
+		"s %lu.%lu.%lu%s through %d.%d.%d%s",
+		((uver & 0xFF000000L) >> 24), ((uver & 0x00FF0000L) >> 16),
+		((uver & 0x0000FF00L) >> 8), ueditsuffix,
+		VERSION_MAJOR, VERSION_MINOR, PATCHLEVEL, editsuffix);
+#else
+	Sprintf(eos(save_bones_compat_buf), " %d.%d.%d%s only",
+		VERSION_MAJOR, VERSION_MINOR, PATCHLEVEL, editsuffix);
+#endif
+}
+
+static const char *build_opts[] = {
+#ifdef AMIGA_WBENCH
+		"Amiga WorkBench support",
+#endif
+#ifdef ANSI_DEFAULT
+		"ANSI default terminal",
+#endif
+#ifdef BLACKMARKET
+		"blackmarket level",
+#endif
+/*WAC added for borg,  invisible objects, keep_save,noartifactwish */
+#ifdef BORG
+		"borg",               
+#endif
+#ifdef AUTOPICKUP_EXCEPTIONS
+		"autopickup_exceptions",
+#endif
+#ifdef TEXTCOLOR
+		"color",
+#endif
+#ifdef COM_COMPL
+		"command line completion",
+#endif
+#ifdef COMPRESS
+		"data file compression",
+#endif
+#ifdef DLB
+		"data librarian",
+#endif
+#ifdef WIZARD
+		"debug mode",
+#endif
+#ifdef ELBERETH
+		"Elbereth",
+#endif
+#ifdef EXP_ON_BOTL
+		"experience points on status line",
+#endif
+#ifdef MFLOPPY
+		"floppy drive support",
+#endif
+#ifdef GOLDOBJ
+		"gold object in inventories",
+#endif
+#ifdef INSURANCE
+		"insurance files for recovering from crashes",
+#endif
+/*WAC invisible objects, keep_save,  light sourced spells*/
+#ifdef LIGHT_SRC_SPELL
+                "light sourced spell effects",               
+#endif
+#ifdef INVISIBLE_OBJECTS 
+                "invisible objects",               
+#endif
+#ifdef KEEP_SAVE
+                "keep savefiles",
+#endif
+#ifdef KOPS
+		"Keystone Kops",
+#endif
+#ifdef HOLD_LOCKFILE_OPEN
+		"exclusive lock on level 0 file",
+#endif
+#ifdef LOGFILE
+		"log file",
+#endif
+#ifdef MAIL
+		"mail daemon",
+#endif
+#ifdef GNUDOS
+		"MSDOS protected mode",
+#endif
+#ifdef NEWS
+		"news file",
+#endif
+/* WAC added noartifactwish version info*/
+#ifdef NOARTIFACTWISH
+		"no wishing for special artifacts",
+#endif
+#ifdef OVERLAY
+# ifdef MOVERLAY
+		"MOVE overlays",
+# else
+#  ifdef VROOMM
+		"VROOMM overlays",
+#  else
+		"overlays",
+#  endif
+# endif
+#endif
+#ifdef REDO
+		"redo command",
+#endif
+#ifdef REINCARNATION
+		"rogue level",
+#endif
+#ifdef STEED
+		"saddles and riding",
+#endif
+#ifdef SCORE_ON_BOTL
+		"score on status line",
+#endif
+#ifdef DISPLAY_LAYERS
+		"display layers",
+#endif
+#ifdef CLIPPING
+		"screen clipping",
+#endif
+#ifdef NO_TERMS
+# ifdef MAC
+		"screen control via mactty",
+# endif
+# ifdef SCREEN_BIOS
+		"screen control via BIOS",
+# endif
+# ifdef SCREEN_DJGPPFAST
+		"screen control via DJGPP fast",
+# endif
+# ifdef SCREEN_VGA
+		"screen control via VGA graphics",
+# endif
+# ifdef ALLEG_FX
+		"screen control via Allegro library",
+# endif
+# ifndef MSWIN_GRAPHICS
+#  ifdef WIN32CON
+		"screen control via WIN32 console I/O",
+#  endif
+# endif
+#endif
+#ifdef SEDUCE
+		"seduction",
+#endif
+#ifdef SHELL
+		"shell command",
+#endif
+#ifdef SHOW_DMG
+		"show damage amounts",
+#endif
+#ifdef SHOW_WEIGHT
+		"show weight of inventory",
+#endif
+#ifdef SINKS
+		"sinks",
+#endif
+#ifdef SUSPEND
+		"suspend command",
+#endif
+#ifdef TERMINFO
+		"terminal info library",
+#else
+# if defined(TERMLIB) || ((!defined(MICRO) && !defined(WIN32)) && defined(TTY_GRAPHICS))
+		"terminal capability library",
+# endif
+#endif
+#ifdef TIMED_DELAY
+		"timed wait for display effects",
+#endif
+#ifdef LIGHTSABERS
+# ifdef D_SABER
+		"lightsabers and dim lightsabers",
+# else
+		"lightsabers",
+# endif
+#endif
+#ifdef P_SPOON
+		"Houchou",
+#endif
+#ifdef FIREARMS
+		"firearms",
+#endif
+#ifdef TOURIST
+		"tourists",
+#endif
+#ifdef USER_SOUNDS
+# ifdef USER_SOUNDS_REGEX
+		"user sounds via regular expressions",
+# else
+		"user sounds via pmatch",
+# endif
+#endif
+#ifdef PREFIXES_IN_USE
+		"variable playground",
+#endif
+#ifdef VISION_TABLES
+		"vision tables",
+#endif
+#ifdef WALLIFIED_MAZE
+		"walled mazes",
+#endif
+#ifdef YEOMAN
+		"yeomen",
+#endif
+#ifdef ZEROCOMP
+		"zero-compressed save files",
+#endif
+		save_bones_compat_buf,
+		"basic NetHack features"
+	};
+
+static const char *window_opts[] = {
+#ifdef TTY_GRAPHICS
+		"traditional tty-based graphics",
+#endif
+#ifdef X11_GRAPHICS
+		"X11",
+#endif
+#ifdef QT_GRAPHICS
+		"Qt",
+#endif
+#ifdef GTK_GRAPHICS
+#ifdef GTK_PROXY
+		"proxified GTK",
+#else
+		"GTK",
+#endif
+#endif
+#ifdef GNOME_GRAPHICS
+		"Gnome",
+#endif
+#ifdef GL_GRAPHICS
+		"GL",
+#endif
+#ifdef SDL_GRAPHICS
+		"SDL",
+#endif
+#ifdef MAC
+		"Mac",
+#endif
+#ifdef AMIGA_INTUITION
+		"Amiga Intuition",
+#endif
+#ifdef GEM_GRAPHICS
+		"Gem",
+#endif
+#ifdef MSWIN_GRAPHICS
+		"mswin",
+#endif
+#ifdef BEOS_GRAPHICS
+		"BeOS InterfaceKit",
+#endif
+#ifdef PROXY_GRAPHICS
+		"Plug-in modules",
+#endif
+		0
+	};
+
+void
+do_options()
+{
+	register int i, length;
+	register const char *str, *indent = "    ";
+
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename,file_prefix);
+#endif
+	Sprintf(eos(filename), DATA_TEMPLATE, OPTIONS_FILE);
+	if (!(ofp = fopen(filename, WRTMODE))) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+	}
+
+	build_savebones_compat_string();
+	Fprintf(ofp,"\n    %s version %d.%d.%d",
+		DEF_GAME_NAME, VERSION_MAJOR, VERSION_MINOR, PATCHLEVEL);
+#ifdef EDITLEVEL
+	Fprintf(ofp, "E%d", EDITLEVEL);
+#ifdef FIXLEVEL
+	Fprintf(ofp, "F%d", FIXLEVEL);
+#endif
+#endif
+#if defined(ALPHA)
+	Fprintf(ofp, " [alpha]\n");
+#elif defined(BETA)
+	Fprintf(ofp, " [beta]\n");
+#else
+	Fprintf(ofp, "\n");
+#endif
+
+	Fprintf(ofp,"\nOptions compiled into this edition:\n");
+
+	length = COLNO + 1;	/* force 1st item onto new line */
+	for (i = 0; i < SIZE(build_opts); i++) {
+	    str = build_opts[i];
+	    if (length + strlen(str) > COLNO - 5)
+		Fprintf(ofp,"\n%s", indent),  length = strlen(indent);
+	    else
+		Fprintf(ofp," "),  length++;
+	    Fprintf(ofp,"%s", str),  length += strlen(str);
+	    Fprintf(ofp,(i < SIZE(build_opts) - 1) ? "," : "."),  length++;
+	}
+
+	Fprintf(ofp,"\n\nSupported windowing systems:\n");
+
+	length = COLNO + 1;	/* force 1st item onto new line */
+	for (i = 0; i < SIZE(window_opts) - 1; i++) {
+	    str = window_opts[i];
+	    if (length + strlen(str) > COLNO - 5)
+		Fprintf(ofp,"\n%s", indent),  length = strlen(indent);
+	    else
+		Fprintf(ofp," "),  length++;
+	    Fprintf(ofp,"%s", str),  length += strlen(str);
+	    Fprintf(ofp, ","),  length++;
+	}
+	Fprintf(ofp, "\n%swith a default of %s.", indent, DEFAULT_WINDOW_SYS);
+	Fprintf(ofp,"\n\n");
+
+	Fclose(ofp);
+	return;
+}
+
+/* routine to decide whether to discard something from data.base */
+static boolean
+d_filter(line)
+    char *line;
+{
+    if (*line == '#') return TRUE;	/* ignore comment lines */
+    return FALSE;
+}
+
+   /*
+    *
+	New format (v3.1) of 'data' file which allows much faster lookups [pr]
+"do not edit"		first record is a comment line
+01234567		hexadecimal formatted offset to text area
+name-a			first name of interest
+123,4			offset to name's text, and number of lines for it
+name-b			next name of interest
+name-c			multiple names which share same description also
+456,7			share a single offset,count line
+.			sentinel to mark end of names
+789,0			dummy record containing offset, count of EOF
+text-a			4 lines of descriptive text for name-a
+text-a			at file position 0x01234567L + 123L
+text-a
+text-a
+text-b/text-c		7 lines of text for names-b and -c
+text-b/text-c		at fseek(0x01234567L + 456L)
+...
+    *
+    */
+
+void
+do_data()
+{
+	char    *infile, *tempfile;
+	boolean ok;
+	long	txt_offset;
+	int	entry_cnt, line_cnt;
+
+	infile = malloc(strlen(DATA_IN_TEMPLATE) - 2 + strlen(DATA_FILE) + 6);
+	tempfile = malloc(strlen(DATA_TEMPLATE) - 2 + strlen("database.tmp") + 1);
+	Sprintf(tempfile, DATA_TEMPLATE, "database.tmp");
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename,file_prefix);
+#endif
+	Sprintf(eos(filename), DATA_TEMPLATE, DATA_FILE);
+	Sprintf(infile, DATA_IN_TEMPLATE, DATA_FILE);
+	Strcat(infile,
+#ifdef SHORT_FILENAMES
+		".bas"
+#else
+		".base"
+#endif
+		);
+	if (!(ifp = fopen(infile, RDTMODE))) {		/* data.base */
+		perror(infile);
+		exit(EXIT_FAILURE);
+	}
+	if (!(ofp = fopen(filename, WRTMODE))) {	/* data */
+		perror(filename);
+		Fclose(ifp);
+		exit(EXIT_FAILURE);
+	}
+	free(infile);
+	if (!(tfp = fopen(tempfile, WRTMODE))) {	/* database.tmp */
+		perror(tempfile);
+		Fclose(ifp);
+		Fclose(ofp);
+		Unlink(filename);
+		exit(EXIT_FAILURE);
+	}
+
+	/* output a dummy header record; we'll rewind and overwrite it later */
+	Fprintf(ofp, "%s%08lx\n", Dont_Edit_Data, 0L);
+
+	entry_cnt = line_cnt = 0;
+	/* read through the input file and split it into two sections */
+	while (fgets(in_line, sizeof in_line, ifp)) {
+	    if (d_filter(in_line)) continue;
+	    if (*in_line > ' ') {	/* got an entry name */
+		/* first finish previous entry */
+		if (line_cnt)  Fprintf(ofp, "%d\n", line_cnt),  line_cnt = 0;
+		/* output the entry name */
+		(void) fputs(in_line, ofp);
+		entry_cnt++;		/* update number of entries */
+	    } else if (entry_cnt) {	/* got some descriptive text */
+		/* update previous entry with current text offset */
+		if (!line_cnt)  Fprintf(ofp, "%ld,", ftell(tfp));
+		/* save the text line in the scratch file */
+		(void) fputs(in_line, tfp);
+		line_cnt++;		/* update line counter */
+	    }
+	}
+	/* output an end marker and then record the current position */
+	if (line_cnt)  Fprintf(ofp, "%d\n", line_cnt);
+	Fprintf(ofp, ".\n%ld,%d\n", ftell(tfp), 0);
+	txt_offset = ftell(ofp);
+	Fclose(ifp);		/* all done with original input file */
+
+	/* reprocess the scratch file; 1st format an error msg, just in case */
+	Sprintf(in_line, "rewind of \"%s\"", tempfile);
+	if (rewind(tfp) != 0)  goto dead_data;
+	/* copy all lines of text from the scratch file into the output file */
+	while (fgets(in_line, sizeof in_line, tfp))
+	    (void) fputs(in_line, ofp);
+
+	/* finished with scratch file */
+	Fclose(tfp);
+	Unlink(tempfile);	/* remove it */
+	free(tempfile);
+
+	/* update the first record of the output file; prepare error msg 1st */
+	Sprintf(in_line, "rewind of \"%s\"", filename);
+	ok = (rewind(ofp) == 0);
+	if (ok) {
+	   Sprintf(in_line, "header rewrite of \"%s\"", filename);
+	   ok = (fprintf(ofp, "%s%08lx\n", Dont_Edit_Data, txt_offset) >= 0);
+	}
+	if (!ok) {
+dead_data:  perror(in_line);	/* report the problem */
+	    /* close and kill the aborted output file, then give up */
+	    Fclose(ofp);
+	    Unlink(filename);
+	    exit(EXIT_FAILURE);
+	}
+
+	/* all done */
+	Fclose(ofp);
+
+	return;
+}
+
+/* routine to decide whether to discard something from oracles.txt */
+static boolean
+h_filter(line)
+    char *line;
+{
+    static boolean skip = FALSE;
+    char tag[sizeof in_line];
+
+    SpinCursor(3);
+
+    if (*line == '#') return TRUE;	/* ignore comment lines */
+    if (sscanf(line, "----- %s", tag) == 1) {
+	skip = FALSE;
+#ifndef SINKS
+	if (!strcmp(tag, "SINKS")) skip = TRUE;
+#endif
+#ifndef ELBERETH
+	if (!strcmp(tag, "ELBERETH")) skip = TRUE;
+#endif
+    } else if (skip && !strncmp(line, "-----", 5))
+	skip = FALSE;
+    return skip;
+}
+
+static const char *special_oracle[] = {
+	"\"...it is rather disconcerting to be confronted with the",
+	"following theorem from [Baker, Gill, and Solovay, 1975].",
+	"",
+	"Theorem 7.18  There exist recursive languages A and B such that",
+	"  (1)  P(A) == NP(A), and",
+	"  (2)  P(B) != NP(B)",
+	"",
+	"This provides impressive evidence that the techniques that are",
+	"currently available will not suffice for proving that P != NP or          ",
+	"that P == NP.\"  [Garey and Johnson, p. 185.]"
+};
+
+/*
+   The oracle file consists of a "do not edit" comment, a decimal count N
+   and set of N+1 hexadecimal fseek offsets, followed by N multiple-line
+   records, separated by "---" lines.  The first oracle is a special case.
+   The input data contains just those multi-line records, separated by
+   "-----" lines.
+ */
+
+void
+do_oracles()
+{
+	char    *infile, *tempfile;
+	boolean in_oracle, ok;
+	long	txt_offset, offset, fpos;
+	int	oracle_cnt;
+	register int i;
+
+	infile = malloc(strlen(DATA_IN_TEMPLATE) - 2 + strlen(ORACLE_FILE) + 5);
+	tempfile = malloc(strlen(DATA_TEMPLATE) - 2 + strlen("oracles.tmp") + 1);
+	Sprintf(tempfile, DATA_TEMPLATE, "oracles.tmp");
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename, file_prefix);
+#endif
+	Sprintf(eos(filename), DATA_TEMPLATE, ORACLE_FILE);
+	Sprintf(infile, DATA_IN_TEMPLATE, ORACLE_FILE);
+	Strcat(infile, ".txt");
+	if (!(ifp = fopen(infile, RDTMODE))) {
+		perror(infile);
+		exit(EXIT_FAILURE);
+	}
+	free(infile);
+	if (!(ofp = fopen(filename, WRTMODE))) {
+		perror(filename);
+		Fclose(ifp);
+		exit(EXIT_FAILURE);
+	}
+	if (!(tfp = fopen(tempfile, WRTMODE))) {	/* oracles.tmp */
+		perror(tempfile);
+		Fclose(ifp);
+		Fclose(ofp);
+		Unlink(filename);
+		exit(EXIT_FAILURE);
+	}
+
+	/* output a dummy header record; we'll rewind and overwrite it later */
+	Fprintf(ofp, "%s%5d\n", Dont_Edit_Data, 0);
+
+	/* handle special oracle; it must come first */
+	(void) fputs("---\n", tfp);
+	Fprintf(ofp, "%05lx\n", ftell(tfp));  /* start pos of special oracle */
+	for (i = 0; i < SIZE(special_oracle); i++) {
+	    (void) fputs(xcrypt(special_oracle[i]), tfp);
+	    (void) fputc('\n', tfp);
+	}
+	SpinCursor(3);
+
+	oracle_cnt = 1;
+	(void) fputs("---\n", tfp);
+	Fprintf(ofp, "%05lx\n", ftell(tfp));	/* start pos of first oracle */
+	in_oracle = FALSE;
+
+	while (fgets(in_line, sizeof in_line, ifp)) {
+	    SpinCursor(3);
+
+	    if (h_filter(in_line)) continue;
+	    if (!strncmp(in_line, "-----", 5)) {
+		if (!in_oracle) continue;
+		in_oracle = FALSE;
+		oracle_cnt++;
+		(void) fputs("---\n", tfp);
+		Fprintf(ofp, "%05lx\n", ftell(tfp));
+		/* start pos of this oracle */
+	    } else {
+		in_oracle = TRUE;
+		(void) fputs(xcrypt(in_line), tfp);
+	    }
+	}
+
+	if (in_oracle) {	/* need to terminate last oracle */
+	    oracle_cnt++;
+	    (void) fputs("---\n", tfp);
+	    Fprintf(ofp, "%05lx\n", ftell(tfp));	/* eof position */
+	}
+
+	/* record the current position */
+	txt_offset = ftell(ofp);
+	Fclose(ifp);		/* all done with original input file */
+
+	/* reprocess the scratch file; 1st format an error msg, just in case */
+	Sprintf(in_line, "rewind of \"%s\"", tempfile);
+	if (rewind(tfp) != 0)  goto dead_data;
+	/* copy all lines of text from the scratch file into the output file */
+	while (fgets(in_line, sizeof in_line, tfp))
+	    (void) fputs(in_line, ofp);
+
+	/* finished with scratch file */
+	Fclose(tfp);
+	Unlink(tempfile);	/* remove it */
+	free(tempfile);
+
+	/* update the first record of the output file; prepare error msg 1st */
+	Sprintf(in_line, "rewind of \"%s\"", filename);
+	ok = (rewind(ofp) == 0);
+	if (ok) {
+	    Sprintf(in_line, "header rewrite of \"%s\"", filename);
+	    ok = (fprintf(ofp, "%s%5d\n", Dont_Edit_Data, oracle_cnt) >=0);
+	}
+	if (ok) {
+	    Sprintf(in_line, "data rewrite of \"%s\"", filename);
+	    for (i = 0; i <= oracle_cnt; i++) {
+#ifndef VMS	/* alpha/vms v1.0; this fflush seems to confuse ftell */
+		if (!(ok = (fflush(ofp) == 0))) break;
+#endif
+		if (!(ok = (fpos = ftell(ofp)) >= 0)) break;
+		if (!(ok = (fseek(ofp, fpos, SEEK_SET) >= 0))) break;
+		if (!(ok = (fscanf(ofp, "%5lx", &offset) == 1))) break;
+#ifdef MAC
+# ifdef __MWERKS__
+		/*
+		MetroWerks CodeWarrior Pro 1's (AKA CW12) version of MSL
+		(ANSI C Libraries) needs this rewind or else the fprintf
+		stops working.  This may also be true for CW11, but has
+		never been checked.
+		*/
+		rewind(ofp);
+# endif
+#endif
+		if (!(ok = (fseek(ofp, fpos, SEEK_SET) >= 0))) break;
+		if (!(ok = (fprintf(ofp, "%05lx\n", offset + txt_offset) >= 0)))
+		    break;
+	    }
+	}
+	if (!ok) {
+dead_data:  perror(in_line);	/* report the problem */
+	    /* close and kill the aborted output file, then give up */
+	    /* KMH -- I don't know why it fails */
+#ifndef MAC
+	    Fclose(ofp);
+	    Unlink(filename);
+	    exit(EXIT_FAILURE);
+#endif
+	}
+
+	/* all done */
+	Fclose(ofp);
+
+	return;
+}
+
+
+static	struct deflist {
+
+	const char	*defname;
+	boolean	true_or_false;
+} deflist[] = {
+#ifdef REINCARNATION
+	      {	"REINCARNATION", TRUE },
+#else
+	      {	"REINCARNATION", FALSE },
+#endif
+	      { 0, 0 } };
+
+static int
+check_control(s)
+	char	*s;
+{
+	int	i;
+
+	if(s[0] != '%') return(-1);
+
+	for(i = 0; deflist[i].defname; i++)
+	    if(!strncmp(deflist[i].defname, s+1, strlen(deflist[i].defname)))
+		return(i);
+
+	return(-1);
+}
+
+static char *
+without_control(s)
+	char *s;
+{
+	return(s + 1 + strlen(deflist[check_control(in_line)].defname));
+}
+
+void
+do_dungeon()
+{
+	int rcnt = 0;
+
+	Sprintf(filename, DATA_IN_TEMPLATE, DGN_I_FILE);
+	if (!(ifp = fopen(filename, RDTMODE))) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+	}
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename, file_prefix);
+#endif
+	Sprintf(eos(filename), DGN_TEMPLATE, DGN_O_FILE);
+	if (!(ofp = fopen(filename, WRTMODE))) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+	}
+	Fprintf(ofp,Dont_Edit_Data);
+
+	while (fgets(in_line, sizeof in_line, ifp) != 0) {
+	    SpinCursor(3);
+
+	    rcnt++;
+	    if(in_line[0] == '#') continue;	/* discard comments */
+recheck:
+	    if(in_line[0] == '%') {
+		int i = check_control(in_line);
+		if(i >= 0) {
+		    if(!deflist[i].true_or_false)  {
+			while (fgets(in_line, sizeof in_line, ifp) != 0)
+			    if(check_control(in_line) != i) goto recheck;
+		    } else
+			(void) fputs(without_control(in_line),ofp);
+		} else {
+		    Fprintf(stderr, "Unknown control option '%s' in file %s at line %d.\n",
+			    in_line, DGN_I_FILE, rcnt);
+		    exit(EXIT_FAILURE);
+		}
+	    } else
+		(void) fputs(in_line,ofp);
+	}
+	Fclose(ifp);
+	Fclose(ofp);
+
+	return;
+}
+
+static boolean
+ranged_attk(ptr)	/* returns TRUE if monster can attack at range */
+	register struct permonst *ptr;
+{
+	register int	i, j;
+	register int atk_mask = (1<<AT_BREA) | (1<<AT_SPIT) | (1<<AT_GAZE);
+
+	for(i = 0; i < NATTK; i++) {
+	    if((j=ptr->mattk[i].aatyp) >= AT_WEAP || (atk_mask & (1<<j)))
+		return TRUE;
+	}
+
+	return(FALSE);
+}
+
+/* This routine is designed to return an integer value which represents
+ * an approximation of monster strength.  It uses a similar method of
+ * determination as "experience()" to arrive at the strength.
+ */
+static int
+mstrength(ptr)
+struct permonst *ptr;
+{
+	int	i, tmp2, n, tmp = ptr->mlevel;
+
+	if(tmp > 49)		/* special fixed hp monster */
+	    tmp = 2*(tmp - 6) / 4;
+
+/*	For creation in groups */
+	n = (!!(ptr->geno & G_SGROUP));
+	n += (!!(ptr->geno & G_LGROUP)) << 1;
+	n += (!!(ptr->geno & G_VLGROUP)) << 2;
+
+/*	For ranged attacks */
+	if (ranged_attk(ptr)) n++;
+
+/*	For higher ac values */
+	n += (ptr->ac < 4);
+	n += (ptr->ac < 0);
+
+/*	For very fast monsters */
+	n += (ptr->mmove >= 18);
+
+/*	For each attack and "special" attack */
+	for(i = 0; i < NATTK; i++) {
+
+	    tmp2 = ptr->mattk[i].aatyp;
+	    n += (tmp2 > 0);
+	    n += (tmp2 == AT_MAGC);
+	    n += (tmp2 == AT_WEAP && (ptr->mflags2 & M2_STRONG));
+	}
+
+/*	For each "special" damage type */
+	for(i = 0; i < NATTK; i++) {
+
+	    tmp2 = ptr->mattk[i].adtyp;
+	    if ((tmp2 == AD_DRLI) || (tmp2 == AD_STON) || (tmp2 == AD_DRST)
+		|| (tmp2 == AD_DRDX) || (tmp2 == AD_DRCO) || (tmp2 == AD_WERE))
+			n += 2;
+	    else if (strcmp(ptr->mname, "grid bug")) n += (tmp2 != AD_PHYS);
+	    n += ((int) (ptr->mattk[i].damd * ptr->mattk[i].damn) > 23);
+	}
+	/* tom's nasties */
+	if (extra_nasty(ptr)) n += 5;
+
+/*	Leprechauns are special cases.  They have many hit dice so they
+	can hit and are hard to kill, but they don't really do much damage. */
+	if (!strcmp(ptr->mname, "leprechaun")) n -= 2;
+
+/*	Finally, adjust the monster level  0 <= n <= 24 (approx.) */
+	if(n == 0) tmp--;
+	else if(n >= 6) tmp += ( n / 2 );
+	else tmp += ( n / 3 + 1);
+
+	return((tmp >= 0) ? tmp : 0);
+}
+
+void
+do_monstr()
+{
+    register struct permonst *ptr;
+    register int i, j;
+
+    /*
+     * create the source file, "monstr.c"
+     */
+    filename[0]='\0';
+#ifdef FILE_PREFIX
+    Strcat(filename, file_prefix);
+#endif
+    Sprintf(eos(filename), SOURCE_TEMPLATE, MON_STR_C);
+    if (!(ofp = fopen(filename, WRTMODE))) {
+	perror(filename);
+	exit(EXIT_FAILURE);
+    }
+    Fprintf(ofp,Dont_Edit_Code);
+    Fprintf(ofp,"#include \"config.h\"\n");
+    Fprintf(ofp,"\nconst int monstr[] = {\n");
+    for (ptr = &mons[0], j = 0; ptr->mlet; ptr++) {
+
+	SpinCursor(3);
+
+	i = mstrength(ptr);
+	Fprintf(ofp,"%2d,%c", i, (++j & 15) ? ' ' : '\n');
+    }
+    /* might want to insert a final 0 entry here instead of just newline */
+    Fprintf(ofp,"%s};\n", (j & 15) ? "\n" : "");
+
+    Fprintf(ofp,"\nvoid NDECL(monstr_init);\n");
+    Fprintf(ofp,"\nvoid\n");
+    Fprintf(ofp,"monstr_init()\n");
+    Fprintf(ofp,"{\n");
+    Fprintf(ofp,"    return;\n");
+    Fprintf(ofp,"}\n");
+    Fprintf(ofp,"\n/*monstr.c*/\n");
+
+    Fclose(ofp);
+    return;
+}
+
+void
+do_permonst()
+{
+	int	i;
+	char	*c, *nam;
+
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename, file_prefix);
+#endif
+	Sprintf(eos(filename), INCLUDE_TEMPLATE, MONST_FILE);
+	if (!(ofp = fopen(filename, WRTMODE))) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+	}
+	Fprintf(ofp,"/*\tSCCS Id: @(#)pm.h\t3.4\t2002/02/03 */\n\n");
+	Fprintf(ofp,Dont_Edit_Code);
+	Fprintf(ofp,"#ifndef PM_H\n#define PM_H\n");
+
+	if (strcmp(mons[0].mname, "playermon") != 0)
+		Fprintf(ofp,"\n#define\tPM_PLAYERMON\t(-1)");
+
+	for (i = 0; mons[i].mlet; i++) {
+		SpinCursor(3);
+		Fprintf(ofp,"\n#define\tPM_");
+		if (mons[i].mlet == S_HUMAN &&
+				!strncmp(mons[i].mname, "were", 4))
+		    Fprintf(ofp, "HUMAN_");
+		for (nam = c = tmpdup(mons[i].mname); *c; c++)
+		    if (*c >= 'a' && *c <= 'z') *c -= (char)('a' - 'A');
+		    else if (*c < 'A' || *c > 'Z') *c = '_';
+		Fprintf(ofp,"%s\t%d", nam, i);
+	}
+	Fprintf(ofp,"\n\n#define\tNUMMONS\t%d\n", i);
+	Fprintf(ofp,"\n#endif /* PM_H */\n");
+	Fclose(ofp);
+	return;
+}
+
+
+/*	Start of Quest text file processing. */
+#include "qtext.h"
+
+static struct qthdr	qt_hdr;
+static struct msghdr	msg_hdr[N_HDR];
+static struct qtmsg	*curr_msg;
+
+static int	qt_line;
+
+static boolean	in_msg;
+#define NO_MSG	1	/* strlen of a null line returned by fgets() */
+
+static boolean
+qt_comment(s)
+	char *s;
+{
+	if(s[0] == '#') return(TRUE);
+	return((boolean)(!in_msg  && strlen(s) == NO_MSG));
+}
+
+static boolean
+qt_control(s)
+	char *s;
+{
+	return((boolean)(s[0] == '%' && (s[1] == 'C' || s[1] == 'E')));
+}
+
+static int
+get_hdr (code)
+	char *code;
+{
+	int	i;
+
+	for(i = 0; i < qt_hdr.n_hdr; i++)
+	    if(!strncmp(code, qt_hdr.id[i], LEN_HDR)) return (++i);
+
+	return(0);
+}
+
+static boolean
+new_id (code)
+	char *code;
+{
+	if(qt_hdr.n_hdr >= N_HDR) {
+	    Fprintf(stderr, OUT_OF_HEADERS, qt_line);
+	    return(FALSE);
+	}
+
+	strncpy(&qt_hdr.id[qt_hdr.n_hdr][0], code, LEN_HDR);
+	msg_hdr[qt_hdr.n_hdr].n_msg = 0;
+	qt_hdr.offset[qt_hdr.n_hdr++] = 0L;
+	return(TRUE);
+}
+
+static boolean
+known_msg(num, id)
+	int num, id;
+{
+	int i;
+
+	for(i = 0; i < msg_hdr[num].n_msg; i++)
+	    if(msg_hdr[num].qt_msg[i].msgnum == id) return(TRUE);
+
+	return(FALSE);
+}
+
+
+static void
+new_msg(s, num, id)
+	char *s;
+	int num, id;
+{
+	struct	qtmsg	*qt_msg;
+
+	if(msg_hdr[num].n_msg >= N_MSG) {
+		Fprintf(stderr, OUT_OF_MESSAGES, qt_line);
+	} else {
+		qt_msg = &(msg_hdr[num].qt_msg[msg_hdr[num].n_msg++]);
+		qt_msg->msgnum = id;
+		qt_msg->delivery = s[2];
+		qt_msg->offset = qt_msg->size = 0L;
+
+		curr_msg = qt_msg;
+	}
+}
+
+static void
+do_qt_control(s)
+	char *s;
+{
+	char code[BUFSZ];
+	int num, id = 0;
+
+	switch(s[1]) {
+
+	    case 'C':	if(in_msg) {
+			    Fprintf(stderr, CREC_IN_MSG, qt_line);
+			    break;
+			} else {
+			    in_msg = TRUE;
+			    if (sscanf(&s[4], "%s %5d", code, &id) != 2) {
+			    	Fprintf(stderr, UNREC_CREC, qt_line);
+			    	break;
+			    }
+			    num = get_hdr(code);
+			    if (!num && !new_id(code))
+			    	break;
+			    num = get_hdr(code)-1;
+			    if(known_msg(num, id))
+			    	Fprintf(stderr, DUP_MSG, qt_line);
+			    else new_msg(s, num, id);
+			}
+			break;
+
+	    case 'E':	if(!in_msg) {
+			    Fprintf(stderr, END_NOT_IN_MSG, qt_line);
+			    break;
+			} else in_msg = FALSE;
+			break;
+
+	    default:	Fprintf(stderr, UNREC_CREC, qt_line);
+			break;
+	}
+}
+
+static void
+do_qt_text(s)
+	char *s;
+{
+	if (!in_msg) {
+	    Fprintf(stderr, TEXT_NOT_IN_MSG, qt_line);
+	}
+	curr_msg->size += strlen(s);
+	return;
+}
+
+static void
+adjust_qt_hdrs()
+{
+	int	i, j;
+	long count = 0L, hdr_offset = sizeof(int) +
+			(sizeof(char)*LEN_HDR + sizeof(long)) * qt_hdr.n_hdr;
+
+	for(i = 0; i < qt_hdr.n_hdr; i++) {
+	    qt_hdr.offset[i] = hdr_offset;
+	    hdr_offset += sizeof(int) + sizeof(struct qtmsg) * msg_hdr[i].n_msg;
+	}
+
+	for(i = 0; i < qt_hdr.n_hdr; i++)
+	    for(j = 0; j < msg_hdr[i].n_msg; j++) {
+		msg_hdr[i].qt_msg[j].offset = hdr_offset + count;
+		count += msg_hdr[i].qt_msg[j].size;
+	    }
+	return;
+}
+
+static void
+put_qt_hdrs()
+{
+	int	i;
+
+	/*
+	 *	The main header record.
+	 */
+#ifdef DEBUG
+	Fprintf(stderr, "%ld: header info.\n", ftell(ofp));
+#endif
+	(void) fwrite((genericptr_t)&(qt_hdr.n_hdr), sizeof(int), 1, ofp);
+	(void) fwrite((genericptr_t)&(qt_hdr.id[0][0]), sizeof(char)*LEN_HDR,
+							qt_hdr.n_hdr, ofp);
+	(void) fwrite((genericptr_t)&(qt_hdr.offset[0]), sizeof(long),
+							qt_hdr.n_hdr, ofp);
+#ifdef DEBUG
+	for(i = 0; i < qt_hdr.n_hdr; i++)
+		Fprintf(stderr, "%c @ %ld, ", qt_hdr.id[i], qt_hdr.offset[i]);
+
+	Fprintf(stderr, "\n");
+#endif
+
+	/*
+	 *	The individual class headers.
+	 */
+	for(i = 0; i < qt_hdr.n_hdr; i++) {
+
+#ifdef DEBUG
+	    Fprintf(stderr, "%ld: %c header info.\n", ftell(ofp),
+		    qt_hdr.id[i]);
+#endif
+	    (void) fwrite((genericptr_t)&(msg_hdr[i].n_msg), sizeof(int),
+							1, ofp);
+	    (void) fwrite((genericptr_t)&(msg_hdr[i].qt_msg[0]),
+			    sizeof(struct qtmsg), msg_hdr[i].n_msg, ofp);
+#ifdef DEBUG
+	    { int j;
+	      for(j = 0; j < msg_hdr[i].n_msg; j++)
+		Fprintf(stderr, "msg %d @ %ld (%ld)\n",
+			msg_hdr[i].qt_msg[j].msgnum,
+			msg_hdr[i].qt_msg[j].offset,
+			msg_hdr[i].qt_msg[j].size);
+	    }
+#endif
+	}
+}
+
+void
+do_questtxt()
+{
+	Sprintf(filename, DATA_IN_TEMPLATE, QTXT_I_FILE);
+	ifp = fopen(filename, RDTMODE);
+	if(!ifp) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+	}
+
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename, file_prefix);
+#endif
+	Sprintf(eos(filename), DATA_TEMPLATE, QTXT_O_FILE);
+	if(!(ofp = fopen(filename, WRBMODE))) {
+		perror(filename);
+		Fclose(ifp);
+		exit(EXIT_FAILURE);
+	}
+
+	qt_hdr.n_hdr = 0;
+	qt_line = 0;
+	in_msg = FALSE;
+
+	while (fgets(in_line, 80, ifp) != 0) {
+	    SpinCursor (3);
+
+	    qt_line++;
+	    if(qt_control(in_line)) do_qt_control(in_line);
+	    else if(qt_comment(in_line)) continue;
+	    else		    do_qt_text(in_line);
+	}
+
+	(void) rewind(ifp);
+	in_msg = FALSE;
+	adjust_qt_hdrs();
+	put_qt_hdrs();
+	while (fgets(in_line, 80, ifp) != 0) {
+
+		if(qt_control(in_line)) {
+		    in_msg = (in_line[1] == 'C');
+		    continue;
+		} else if(qt_comment(in_line)) continue;
+#ifdef DEBUG
+		Fprintf(stderr, "%ld: %s", ftell(stdout), in_line);
+#endif
+		(void) fputs(xcrypt(in_line), ofp);
+	}
+	Fclose(ifp);
+	Fclose(ofp);
+	return;
+}
+
+
+static	char	temp[32];
+
+static char *
+limit(name,pref)	/* limit a name to 30 characters length */
+char	*name;
+int	pref;
+{
+	(void) strncpy(temp, name, pref ? 26 : 30);
+	temp[pref ? 26 : 30] = 0;
+	return temp;
+}
+
+void
+do_objs()
+{
+	int i, sum = 0;
+	char *c, *objnam;
+	int nspell = 0;
+	int prefix = 0;
+	char class = '\0';
+	boolean	sumerr = FALSE;
+
+	filename[0]='\0';
+#ifdef FILE_PREFIX
+	Strcat(filename, file_prefix);
+#endif
+	Sprintf(eos(filename), INCLUDE_TEMPLATE, ONAME_FILE);
+	if (!(ofp = fopen(filename, WRTMODE))) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+	}
+	Fprintf(ofp,"/*\tSCCS Id: @(#)onames.h\t3.4\t2002/02/03 */\n\n");
+	Fprintf(ofp,Dont_Edit_Code);
+	Fprintf(ofp,"#ifndef ONAMES_H\n#define ONAMES_H\n\n");
+
+	for(i = 0; !i || objects[i].oc_class != ILLOBJ_CLASS; i++) {
+		SpinCursor(3);
+
+		objects[i].oc_name_idx = objects[i].oc_descr_idx = i;	/* init */
+		if (!(objnam = tmpdup(OBJ_NAME(objects[i])))) continue;
+
+		/* make sure probabilities add up to 1000 */
+		if(objects[i].oc_class != class) {
+			if (sum && sum != 1000) {
+			    Fprintf(stderr, "prob error for class %d (%d%%)",
+				    class, sum);
+			    (void) fflush(stderr);
+			    sumerr = TRUE;
+			}
+			class = objects[i].oc_class;
+			sum = 0;
+		}
+
+		for (c = objnam; *c; c++)
+		    if (*c >= 'a' && *c <= 'z') *c -= (char)('a' - 'A');
+		    else if (*c < 'A' || *c > 'Z') *c = '_';
+
+		switch (class) {
+		    case WAND_CLASS:
+			Fprintf(ofp,"#define\tWAN_"); prefix = 1; break;
+		    case RING_CLASS:
+			Fprintf(ofp,"#define\tRIN_"); prefix = 1; break;
+		    case POTION_CLASS:
+			Fprintf(ofp,"#define\tPOT_"); prefix = 1; break;
+		    case SPBOOK_CLASS:
+			Fprintf(ofp,"#define\tSPE_"); prefix = 1; nspell++; break;
+		    case SCROLL_CLASS:
+			Fprintf(ofp,"#define\tSCR_"); prefix = 1; break;
+		    case AMULET_CLASS:
+			/* avoid trouble with stupid C preprocessors */
+			Fprintf(ofp,"#define\t");
+			if(objects[i].oc_material == PLASTIC) {
+			    Fprintf(ofp,"FAKE_AMULET_OF_YENDOR\t%d\n", i);
+			    prefix = -1;
+			    break;
+			}
+			break;
+		    case GEM_CLASS:
+			/* avoid trouble with stupid C preprocessors */
+			if(objects[i].oc_material == GLASS) {
+			    Fprintf(ofp,"/* #define\t%s\t%d */\n",
+							objnam, i);
+			    prefix = -1;
+			    break;
+			}
+		    default:
+			Fprintf(ofp,"#define\t");
+		}
+		if (prefix >= 0)
+			Fprintf(ofp,"%s\t%d\n", limit(objnam, prefix), i);
+		prefix = 0;
+
+		sum += objects[i].oc_prob;
+	}
+
+	/* check last set of probabilities */
+	if (sum && sum != 1000) {
+	    Fprintf(stderr, "prob error for class %d (%d%%)", class, sum);
+	    (void) fflush(stderr);
+	    sumerr = TRUE;
+	}
+
+	Fprintf(ofp,"#define\tLAST_GEM\t(JADE)\n");
+	Fprintf(ofp,"#define\tMAXSPELL\t%d\n", nspell+1);
+	Fprintf(ofp,"#define\tNUM_OBJECTS\t%d\n", i);
+
+	Fprintf(ofp, "\n/* Artifacts (unique objects) */\n\n");
+
+	for (i = 1; artifact_names[i]; i++) {
+		SpinCursor(3);
+
+		for (c = objnam = tmpdup(artifact_names[i]); *c; c++)
+		    if (*c >= 'a' && *c <= 'z') *c -= (char)('a' - 'A');
+		    else if (*c < 'A' || *c > 'Z') *c = '_';
+
+		if (!strncmp(objnam, "THE_", 4))
+			objnam += 4;
+#ifdef TOURIST
+		/* fudge _platinum_ YENDORIAN EXPRESS CARD */
+		if (!strncmp(objnam, "PLATINUM_", 9))
+			objnam += 9;
+#endif
+		Fprintf(ofp,"#define\tART_%s\t%d\n", limit(objnam, 1), i);
+	}
+
+	Fprintf(ofp, "#define\tNROFARTIFACTS\t%d\n", i-1);
+	Fprintf(ofp,"\n#endif /* ONAMES_H */\n");
+	Fclose(ofp);
+	if (sumerr) exit(EXIT_FAILURE);
+	return;
+}
+
+static char *
+tmpdup(str)
+const char *str;
+{
+	static char buf[128];
+
+	if (!str) return (char *)0;
+	(void)strncpy(buf, str, 127);
+	return buf;
+}
+
+static char *
+eos(str)
+char *str;
+{
+    while (*str) str++;
+    return str;
+}
+
+/*
+ * macro used to control vision algorithms:
+ *      VISION_TABLES => generate tables
+ */
+
+void
+do_vision()
+{
+#ifdef VISION_TABLES
+    int i, j;
+
+    /* Everything is clear.  xclear may be malloc'ed.
+     * Block the upper left corner (BLOCK_HEIGHTxBLOCK_WIDTH)
+     */
+    for (i = 0; i < MAX_ROW; i++)
+	for (j = 0; j < MAX_COL; j++)
+	    if (i < BLOCK_HEIGHT && j < BLOCK_WIDTH)
+		xclear[i][j] = '\000';
+	    else
+		xclear[i][j] = '\001';
+#endif /* VISION_TABLES */
+
+    SpinCursor(3);
+
+    /*
+     * create the include file, "vis_tab.h"
+     */
+    filename[0]='\0';
+#ifdef FILE_PREFIX
+    Strcat(filename, file_prefix);
+#endif
+    Sprintf(filename, INCLUDE_TEMPLATE, VIS_TAB_H);
+    if (!(ofp = fopen(filename, WRTMODE))) {
+	perror(filename);
+	exit(EXIT_FAILURE);
+    }
+    Fprintf(ofp,Dont_Edit_Code);
+    Fprintf(ofp,"#ifdef VISION_TABLES\n");
+#ifdef VISION_TABLES
+    H_close_gen();
+    H_far_gen();
+#endif /* VISION_TABLES */
+    Fprintf(ofp,"\n#endif /* VISION_TABLES */\n");
+    Fclose(ofp);
+
+    SpinCursor(3);
+
+    /*
+     * create the source file, "vis_tab.c"
+     */
+    filename[0]='\0';
+#ifdef FILE_PREFIX
+    Strcat(filename, file_prefix);
+#endif
+    Sprintf(filename, SOURCE_TEMPLATE, VIS_TAB_C);
+    if (!(ofp = fopen(filename, WRTMODE))) {
+	perror(filename);
+	Sprintf(filename, INCLUDE_TEMPLATE, VIS_TAB_H);
+	Unlink(filename);
+	exit(EXIT_FAILURE);
+    }
+    Fprintf(ofp,Dont_Edit_Code);
+    Fprintf(ofp,"#include \"config.h\"\n");
+    Fprintf(ofp,"#ifdef VISION_TABLES\n");
+    Fprintf(ofp,"#include \"vis_tab.h\"\n");
+
+    SpinCursor(3);
+
+#ifdef VISION_TABLES
+    C_close_gen();
+    C_far_gen();
+    /* KMH -- vis_tab_init() needs prototype */
+    Fprintf(ofp, "\nvoid NDECL(vis_tab_init);\n");
+    Fprintf(ofp,"\nvoid vis_tab_init() { return; }\n");
+#endif /* VISION_TABLES */
+
+    SpinCursor(3);
+
+    Fprintf(ofp,"\n#endif /* VISION_TABLES */\n");
+    Fprintf(ofp,"\n/*vis_tab.c*/\n");
+
+    Fclose(ofp);
+    return;
+}
+
+#ifdef VISION_TABLES
+
+/*--------------  vision tables  --------------*\
+ *
+ *  Generate the close and far tables.  This is done by setting up a
+ *  fake dungeon and moving our source to different positions relative
+ *  to a block and finding the first/last visible position.  The fake
+ *  dungeon is all clear execpt for the upper left corner (BLOCK_HEIGHT
+ *  by BLOCK_WIDTH) is blocked.  Then we move the source around relative
+ *  to the corner of the block.  For each new position of the source
+ *  we check positions on rows "kittycorner" from the source.  We check
+ *  positions until they are either in sight or out of sight (depends on
+ *  which table we are generating).  The picture below shows the setup
+ *  for the generation of the close table.  The generation of the far
+ *  table would switch the quadrants of the '@' and the "Check rows
+ *  here".
+ *
+ *
+ *  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
+ *  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
+ *  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX,,,,,,,,, Check rows here ,,,,,,,,,,,,
+ *  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
+ *  XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXB,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
+ *  ...............................
+ *  ...............................
+ *  .........@.....................
+ *  ...............................
+ *
+ *      Table generation figure (close_table).  The 'X's are blocked points.
+ *      The 'B' is a special blocked point.  The '@' is the source.  The ','s
+ *      are the target area.  The '.' are just open areas.
+ *
+ *
+ *  Example usage of close_table[][][].
+ *
+ *  The table is as follows:
+ *
+ *      dy = |row of '@' - row of 'B'|  - 1
+ *      dx = |col of '@' - col of 'B'|
+ *
+ *  The first indices are the deltas from the source '@' and the block 'B'.
+ *  You must check for the value inside the abs value bars being zero.  If
+ *  so then the block is on the same row and you don't need to do a table
+ *  lookup.  The last value:
+ *
+ *      dcy = |row of block - row to be checked|
+ *
+ *  Is the value of the first visible spot on the check row from the
+ *  block column.  So
+ *
+ *  first visible col = close_table[dy][dx][dcy] + col of 'B'
+ *
+\*--------------  vision tables  --------------*/
+
+static void
+H_close_gen()
+{
+    Fprintf(ofp,"\n/* Close */\n");
+    Fprintf(ofp,"#define CLOSE_MAX_SB_DY %2d\t/* |src row - block row| - 1\t*/\n",
+	    TEST_HEIGHT-1);
+    Fprintf(ofp,"#define CLOSE_MAX_SB_DX %2d\t/* |src col - block col|\t*/\n",
+	    TEST_WIDTH);
+    Fprintf(ofp,"#define CLOSE_MAX_BC_DY %2d\t/* |block row - check row|\t*/\n",
+	    TEST_HEIGHT);
+    Fprintf(ofp,"typedef struct {\n");
+    Fprintf(ofp,"    unsigned char close[CLOSE_MAX_SB_DX][CLOSE_MAX_BC_DY];\n");
+    Fprintf(ofp,"} close2d;\n");
+    Fprintf(ofp,"extern close2d close_table[CLOSE_MAX_SB_DY];\n");
+    return;
+}
+
+static void
+H_far_gen()
+{
+    Fprintf(ofp,"\n/* Far */\n");
+    Fprintf(ofp,"#define FAR_MAX_SB_DY %2d\t/* |src row - block row|\t*/\n",
+	    TEST_HEIGHT);
+    Fprintf(ofp,"#define FAR_MAX_SB_DX %2d\t/* |src col - block col| - 1\t*/\n",
+	    TEST_WIDTH-1);
+    Fprintf(ofp,"#define FAR_MAX_BC_DY %2d\t/* |block row - check row| - 1\t*/\n",
+	    TEST_HEIGHT-1);
+    Fprintf(ofp,"typedef struct {\n");
+    Fprintf(ofp,"    unsigned char far_q[FAR_MAX_SB_DX][FAR_MAX_BC_DY];\n");
+    Fprintf(ofp,"} far2d;\n");
+    Fprintf(ofp,"extern far2d far_table[FAR_MAX_SB_DY];\n");
+    return;
+}
+
+static void
+C_close_gen()
+{
+    int i,dx,dy;
+    int src_row, src_col;	/* source */
+    int block_row, block_col;	/* block */
+    int this_row;
+    int no_more;
+    const char *delim;
+
+    block_row = BLOCK_HEIGHT-1;
+    block_col = BLOCK_WIDTH-1;
+
+    Fprintf(ofp,"\n#ifndef FAR_TABLE_ONLY\n");
+    Fprintf(ofp,"\nclose2d close_table[CLOSE_MAX_SB_DY] = {\n");
+#ifndef no_vision_progress
+    Fprintf(stderr,"\nclose:");
+#endif
+
+    for (dy = 1; dy < TEST_HEIGHT; dy++) {
+	src_row = block_row + dy;
+	Fprintf(ofp, "/* DY = %2d (- 1)*/\n  {{\n", dy);
+#ifndef no_vision_progress
+	Fprintf(stderr," %2d",dy),  (void)fflush(stderr);
+#endif
+	for (dx = 0; dx < TEST_WIDTH; dx++) {
+	    src_col = block_col - dx;
+	    Fprintf(ofp, "  /*%2d*/ {", dx);
+
+	    no_more = 0;
+	    for (this_row = 0; this_row < TEST_HEIGHT; this_row++) {
+		delim = (this_row < TEST_HEIGHT - 1) ? "," : "";
+		if (no_more) {
+		    Fprintf(ofp, "%s%s", CLOSE_OFF_TABLE_STRING, delim);
+		    continue;
+		}
+		SpinCursor(3);
+
+		/* Find the first column that we can see. */
+		for (i = block_col+1; i < MAX_COL; i++) {
+		    if (clear_path(src_row,src_col,block_row-this_row,i))
+			break;
+		}
+
+		if (i == MAX_COL) no_more = 1;
+		Fprintf(ofp, "%2d%s", i - block_col, delim);
+	    }
+	    Fprintf(ofp, "}%s", (dx < TEST_WIDTH - 1) ? ",\n" : "\n");
+	}
+	Fprintf(ofp,"  }},\n");
+    }
+
+    Fprintf(ofp,"}; /* close_table[] */\n");		/* closing brace for table */
+    Fprintf(ofp,"#endif /* !FAR_TABLE_ONLY */\n");
+#ifndef no_vision_progress
+    Fprintf(stderr,"\n");
+#endif
+    return;
+}
+
+static void
+C_far_gen()
+{
+    int i,dx,dy;
+    int src_row, src_col;	/* source */
+    int block_row, block_col;	/* block */
+    int this_row;
+    const char *delim;
+
+    block_row = BLOCK_HEIGHT-1;
+    block_col = BLOCK_WIDTH-1;
+
+    Fprintf(ofp,"\n#ifndef CLOSE_TABLE_ONLY\n");
+    Fprintf(ofp,"\nfar2d far_table[FAR_MAX_SB_DY] = {\n");
+#ifndef no_vision_progress
+    Fprintf(stderr,"\n_far_:");
+#endif
+
+    for (dy = 0; dy < TEST_HEIGHT; dy++) {
+	src_row = block_row - dy;
+	Fprintf(ofp, "/* DY = %2d */\n  {{\n", dy);
+#ifndef no_vision_progress
+	Fprintf(stderr," %2d",dy),  (void)fflush(stderr);
+#endif
+	for (dx = 1; dx < TEST_WIDTH; dx++) {
+	    src_col = block_col + dx;
+	    Fprintf(ofp, "  /*%2d(-1)*/ {", dx);
+
+	    for (this_row = block_row+1; this_row < block_row+TEST_HEIGHT;
+								this_row++) {
+		delim = (this_row < block_row + TEST_HEIGHT - 1) ? "," : "";
+
+		SpinCursor(3);
+		/* Find first col that we can see. */
+		for (i = 0; i <= block_col; i++) {
+		    if (clear_path(src_row,src_col,this_row,i)) break;
+		}
+
+		if (block_col-i < 0)
+		    Fprintf(ofp, "%s%s", FAR_OFF_TABLE_STRING, delim);
+		else
+		    Fprintf(ofp, "%2d%s", block_col - i, delim);
+	    }
+	    Fprintf(ofp, "}%s", (dx < TEST_WIDTH - 1) ? ",\n" : "\n");
+	}
+	Fprintf(ofp,"  }},\n");
+    }
+
+    Fprintf(ofp,"}; /* far_table[] */\n");	/* closing brace for table */
+    Fprintf(ofp,"#endif /* !CLOSE_TABLE_ONLY */\n");
+#ifndef no_vision_progress
+    Fprintf(stderr,"\n");
+#endif
+    return;
+}
+
+/*
+ *  "Draw" a line from the hero to the given location.  Stop if we hit a
+ *  wall.
+ *
+ *  Generalized integer Bresenham's algorithm (fast line drawing) for
+ *  all quadrants.  From _Procedural Elements for Computer Graphics_, by
+ *  David F. Rogers.  McGraw-Hill, 1985.
+ *
+ *  I have tried a little bit of optimization by pulling compares out of
+ *  the inner loops.
+ *
+ *  NOTE:  This had better *not* be called from a position on the
+ *  same row as the hero.
+ */
+static int
+clear_path(you_row,you_col,y2,x2)
+    int you_row, you_col, y2, x2;
+{
+    int dx, dy, s1, s2;
+    register int i, error, x, y, dxs, dys;
+
+    x  = you_col;		y  = you_row;
+    dx = abs(x2-you_col);	dy = abs(y2-you_row);
+    s1 = sign(x2-you_col);	s2 = sign(y2-you_row);
+
+    if (s1 == 0) {	/* same column */
+	if (s2 == 1) {	/* below (larger y2 value) */
+	    for (i = you_row+1; i < y2; i++)
+		if (!xclear[i][you_col]) return 0;
+	} else {	/* above (smaller y2 value) */
+	    for (i = y2+1; i < you_row; i++)
+		if (!xclear[i][you_col]) return 0;
+	}
+	return 1;
+    }
+
+    /*
+     *  Lines at 0 and 90 degrees have been weeded out.
+     */
+    if (dy > dx) {
+	error = dx; dx = dy; dy = error;	/* swap the values */
+	dxs = dx << 1;		/* save the shifted values */
+	dys = dy << 1;
+	error = dys - dx;	/* NOTE: error is used as a temporary above */
+
+	for (i = 0; i < dx; i++) {
+	    if (!xclear[y][x]) return 0;	/* plot point */
+
+	    while (error >= 0) {
+		x += s1;
+		error -= dxs;
+	    }
+	    y += s2;
+	    error += dys;
+	}
+    } else {
+	dxs = dx << 1;		/* save the shifted values */
+	dys = dy << 1;
+	error = dys - dx;
+
+	for (i = 0; i < dx; i++) {
+	    if (!xclear[y][x]) return 0;	/* plot point */
+
+	    while (error >= 0) {
+		y += s2;
+		error -= dxs;
+	    }
+	    x += s1;
+	    error += dys;
+	}
+    }
+    return 1;
+}
+#endif /* VISION_TABLES */
+
+
+/* KMH -- Now supports upper, lower, and mixed case filenames */
+void
+do_filenames()
+{
+	char    *infile;
+	int i;
+	char buf[BUFSZ];
+	char lname[20] = DEF_GAME_NAME;
+	char uname[20] = DEF_GAME_NAME;
+
+	infile = malloc(strlen(INCLUDE_TEMPLATE) - 2 + strlen(FILE_H) + 1);
+	(void) lcase(lname);
+	(void) ucase(uname);
+
+    /*
+     * create the source file, "filename.h"
+     */
+    filename[0]='\0';
+#ifdef FILE_PREFIX
+    Strcat(filename, file_prefix);
+#endif
+
+    Sprintf(eos(filename), INCLUDE_TEMPLATE, FILENAME_H);
+    if (!(ofp = fopen(filename, WRTMODE))) {
+		perror(filename);
+		exit(EXIT_FAILURE);
+    }
+    Fprintf(ofp,"/*\tSCCS Id: @(#)filename.h\t3.2\t96/05/17 */\n\n");
+    Fprintf(ofp,Dont_Edit_Code);
+
+/*OPEN file*/
+    Sprintf(infile, INCLUDE_TEMPLATE, FILE_H);
+    if (!(ifp = fopen(infile, RDTMODE))) {
+        perror(infile);
+        Fclose(ofp);
+        Unlink(filename);       /* kill empty output file */
+        exit(EXIT_FAILURE);
+     }
+     free(infile);
+     do {
+        fgets(in_line, sizeof in_line, ifp);
+        if (*in_line != '#') continue;
+                sscanf(in_line, "# %s", buf);
+     } while (strcmp(buf, "START") != 0);
+     while (fgets(in_line, sizeof in_line, ifp)) {
+        for ( i = 0; i < strlen(in_line);  i++ ) {
+           if (in_line[i] == '@') {
+/*differentiate uppercase, lowercase*/
+/*assume DEF_GAME_NAME is uppercase*/
+/* KMH -- Added mixed case */
+                if ((in_line[i+1] == 'l') || (in_line[i+1] == 'L'))
+                        (void) fputs(lname,ofp);
+                else if ((in_line[i+1] == 'u') || (in_line[i+1] == 'U'))
+                        (void) fputs(uname,ofp);
+                else
+                        (void) fputs(DEF_GAME_NAME,ofp);                
+                i=i+6;
+                }
+           else (void) fputc(in_line[i], ofp);
+        }
+     }
+     Fclose(ifp);
+     Fclose(ofp);
+     return;
+}
+
+
+char *
+lcase(s)		/* convert a string into all lowercase */
+    char *s;
+{
+    register char *p;
+
+    for (p = s; *p; p++)
+		if ('A' <= *p && *p <= 'Z') *p |= 040;
+    return s;
+}
+
+
+/* KMH -- added function */
+char *
+ucase(s)		/* convert a string into all lowercase */
+    char *s;
+{
+    register char *p;
+
+    for (p = s; *p; p++)
+		if ('a' <= *p && *p <= 'z') *p &= ~040;
+    return s;
+}
+
+
+#ifdef STRICT_REF_DEF
+NEARDATA struct flag flags;
+# ifdef ATTRIB_H
+struct attribs attrmax, attrmin;
+# endif
+#endif /* STRICT_REF_DEF */
+
+/*makedefs.c*/
Binary files slashem-0.0.7E7F3\src\makedefs.exe and SlashTNG-master\src\makedefs.exe differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\Makefile SlashTNG-master\src\Makefile
--- slashem-0.0.7E7F3\src\Makefile	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\Makefile	Sun Jan 01 01:46:38 2017
@@ -0,0 +1,2022 @@
+#       $Id: Makefile.gcc,v 1.49 2004/01/20 20:58:47 entro-p Exp $
+#       Copyright (c) NetHack PC Development Team 1993-2003
+#       Copyright (c) Karl Garrison 1999
+#       Copyright (c) Slash'EM Development Team 1999-2003
+#
+#       Slash'EM 0.0.7 Makefile for MinGW 2.0 and above and Gtk+ 2.0 and above
+#  
+#       Win32 systems tested:
+#				- Windows 95
+#				- Windows 2000 SP1
+#
+#       Win32 compilers tested:
+#				- MinGW 2.0.0-3
+#
+#	Win32 libraries tested:
+#				- Gtk+ Development Environment 2.2.4.1
+#
+#       In addition to your C compiler,
+#
+#       if you want to change           you will need a
+#       files with suffix               workalike for
+#              .y                           yacc   (such as bison)
+#              .l                           lex    (such as flex)
+#
+#
+#       If you have any questions read the sys/winnt/Install.gcc file included 
+#       with the distribution.
+#
+#       Note that compiling will fail under WinNT (including Win2k and XP) if
+#       the command line gets too long (eg., your directory names are longer
+#       than the default).
+
+# Game Installation Variables
+
+GAME = SlashTNG
+# The GNU Make has a problem if you include a drive spec below (unfortunately).
+GAMEDIR = \games\SlashTNG
+
+#
+# Directories
+#
+
+# These are for MinGW's GCC,  which gets confused by \ 
+DDAT  = ../dat
+DUTIL = ../util
+DSRC  = ../src
+DINCL = ../include
+NTSYS = ../sys/winnt
+MW32GTK = /win-gtk
+
+# Normal dos commands get confused by \\
+DAT  = ..\dat
+DOC  = ..\doc
+INCL = ..\include
+WSYS = ..\sys\winnt
+SRC  = ..\src
+SSHR = ..\sys\share
+UTIL = ..\util
+WTTY = ..\win\tty
+WIN32 = ..\win\win32
+WGTK = ..\win\gtk
+WSHR = ..\win\share
+
+#
+#  Executables.
+
+CC     = gcc
+RC     = windres
+LINK   = gcc
+
+#
+# The MinGW switch needed to specify Microsoft packing & alignment rules
+# (use gcc --target-help if you're not sure)
+MS_BITFIELDS = -mms-bitfields
+# MS_BITFIELDS = -fnative-struct
+
+# The copy, del and echo commands don't work from a makefile since they are
+# internal shell commands rather than external utilities.  We can get around
+# this by specifying an external utility that performs the same function like
+# the cp and rm commands from Cygwin32, or xcopy for copy.  Another way to do
+# it is to call the shell explicitly and use the /c option to run the built-in
+# command.  All of these examples appear below.
+
+#COPY = command.com /c copy
+#COPY = cmd.exe /c copy	# Same as above, but for Windows NT
+#COPY = xcopy		# MSDOS xcopy command (asks if target File or Dir)
+#COPY = cp		# UNIX copy command
+COPY = copy /y		# MSDOS copy command (gets confused by '+')
+RCOPY = xcopy /y /s
+#RCOPY = cp -r
+#DEL = command.com /c del
+#DEL = cmd.exe /c del	# Same as above, but for Windows NT
+#DEL = rm -f 		# UNIX del command
+DEL = del 		# MSDOS del command
+#RDEL = deltree		# Win 95 recursive del command
+RDEL = rd /s /q		# Win 2K recursive del command
+#RDEL = rm -rf
+# Echo is very sensitive to trailing spaces so comments should be avoided
+# on the following lines, which define Win95, NT, UNIX and MS-DOS versions.
+#ECHO = command.com /c echo
+#ECHO = cmd.exe /c echo
+#ECHO = echo.exe
+ECHO = echo
+#LS = ls -1		# ls.exe from djgpp distribution
+LS = dir /l/b/-p	# DOS command WAC - disable pause for dos6
+#LS = *dir /l/b/z	# 4DOS command - cuts through ALIASes
+
+#
+#  Yacc/Lex ... if you got 'em.
+#
+# If you have yacc/lex or a work-alike set YACC_LEX to Y
+#
+YACC_LEX = N
+
+# If YACC_LEX is Y above, set the following to values appropriate for
+# your tools.
+#
+YACC   = bison -y -o y_tab.c
+LEX    = flex
+# Win32 versions
+#YTABC  = y.tab.c
+#YTABH  = y.tab.h
+#LEXYYC = lex.yy.c
+# DJGPP bison/lex doesn't use LFN
+YTABC  = y_tab.c
+YTABH  = y_tab.h
+LEXYYC = lexyy.c
+
+#
+# Uncomment the line below if you want to store all the level files,
+# help files, etc. in a single library file.
+
+USE_DLB = Y
+
+# To build a binary without any graphics
+# suitable for blind players,
+# set SUPPRESS_GRAPHICS to Y
+# (Note: binary will require ANSI.SYS driver or equivalent loaded)
+# SUPPRESS_GRAPHICS = Y
+
+#
+# Uncomment the line below if you want to compile with the native
+# MS-Windows graphics windowsystem.  You will also need to define
+# MSWIN_GRAPHICS in config.h.
+
+# USE_MSWIN = Y
+
+#
+# Uncomment the line below if you want to compile with the GTK windowsystem.
+# You will also need to define GTK_GRAPHICS in config.h.
+
+# USE_GTK = Y
+
+#
+# Uncomment the line below if you want to compile with the proxy system.
+# You will also need to define PROXY_GRAPHICS in config.h.
+
+# USE_PROXY = Y
+
+#
+# Uncomment USE_GTK, USE_PROXY and the line below if you want to build a
+# proxified GTK interface.  You will also need to define GTK_PROXY in config.h.
+
+# USE_PROXIFIED = Y
+
+#
+# Uncomment the line below if you want to compile with the internal malloc
+# routines (used to test for memory leaks).
+# You will also need to define MONITOR_HEAP and INTERNAL_MALLOC in config.h
+#
+# Warning: Doing this increases the risk of a non-recoverable game crash.
+
+# USE_NHALLOC = Y
+
+
+#############################################################################
+#
+# nothing below this line should have to be changed
+#
+
+SOUND = ntsound.o
+
+#SOUND =
+
+GAMEFILE = $(GAMEDIR)\$(GAME).exe
+
+# Changing this conditional block is not recommended
+ifeq ($(USE_DLB),Y)
+DLBFLG = -DDLB
+else
+DLBFLG =
+endif
+
+#
+#  Flags.
+#
+ifeq ($(SUPPRESS_GRAPHICS),Y)
+TERMLIB =
+# Build NetHack suitable for blind players
+
+# Debugging
+#CFLAGS = -pg -c -I../include $(DLBFLG) -DSUPPRESS_GRAPHICS
+#LFLAGS = -pg
+
+CFLAGS = -c -O -I../include $(DLBFLG) -DSUPPRESS_GRAPHICS
+LFLAGS =
+
+else
+
+# Debugging
+#CFLAGS = -pg -c -I..\include $(DLBFLG)
+#LFLAGS = -pg
+
+#    Normal
+CFLAGS = -c -O -I../include $(DLBFLG)
+LFLAGS =
+
+# Comment out this line if you have also commented out TTY_GRAPHICS in config.h
+CFLAGS += -DWIN32CON
+endif
+
+# The pkg-config executable
+PKG_CONFIG = $(MW32GTK)/bin/pkg-config
+# A semi-colon seperated list of directories to add to the path when
+# calling pkg-config so that MS-Windows can find the DLLs needed.
+PKG_CONFIG_DLL = $(MW32GTK)/lib
+# A semi-colon seperated list of directories to add to PKG_CONFIG_PATH
+# so that pkg-config can find the package config files (eg., gtk+-2.0.pc).
+PKG_CONFIG_PATH = $(MW32GTK)/lib/pkgconfig
+# The pkg-config commands
+GTKCFLAGS = $(PKG_CONFIG) --cflags gtk+-2.0 libpng
+GTKLIBS = $(PKG_CONFIG) --libs gtk+-2.0 libpng
+
+# Select Windowing system(s) below
+# GTK windowing system
+WINGTKCFLAGS=
+
+# Set the WINSRC, WINOBJ, and WINLIB lines to correspond to your desired
+# combination of windowing systems.  Also set windowing systems in config.h.
+#
+# files for a straight tty port using no native windowing system
+WINTTYSRC = ../win/tty/getline.c ../win/tty/termcap.c ../win/tty/topl.c \
+	../win/tty/wintty.c 
+WINTTYOBJ = getline.o termcap.o topl.o wintty.o 
+#
+# files for a native MS-Windows port
+# (tile.c is included in the defn. for WINCSRC, below)
+ifeq ($(USE_MSWIN),Y)
+WINMSCFLAGS=-I../win/win32 -D_WIN32_IE=0x0400
+WINMSSRC = ../win/win32/mswproc.c ../win/win32/winhack.c ../win/win32/mhdlg.c \
+	../win/win32/mhaskyn.c ../win/win32/mhfont.c ../win/win32/mhinput.c \
+	../win/win32/mhmain.c ../win/win32/mhmsgwnd.c ../win/win32/mhsplash.c \
+	../win/win32/mhstatus.c ../win/win32/mhtext.c ../win/win32/mhmenu.c \
+	../win/win32/mhmap.c ../win/win32/mhrip.c
+WINMSOBJ1 = mswproc.o winhack.o mhdlg.o mhaskyn.o mhfont.o mhinput.o mhmain.o
+WINMSOBJ2 = mhmsgwnd.o mhsplash.o mhstatus.o mhtext.o mhmenu.o mhmap.o mhrip.o
+endif
+#
+# files for a GTK port
+# (tile.c is included in the defn. for WINCSRC, below)
+ifeq ($(USE_GTK),Y)
+WINGTKSRC = ../win/gtk/gtk.c ../win/gtk/gtkgetlin.c ../win/gtk/gtkstatus.c \
+	../win/gtk/gtkmenu.c ../win/gtk/gtkyn.c ../win/gtk/gtkextcmd.c \
+	../win/gtk/gtkmap.c ../win/gtk/gtkmessage.c ../win/gtk/gtkmisc.c \
+	../win/gtk/xshmmap.c ../win/gtk/gtktile.c ../win/gtk/gtkhackrc.c \
+	../win/gtk/gtkprefs.c ../win/gtk/gtkprogress.c ../win/gtk/gtkint.c \
+	../win/gtk/gtkext.c
+WINGTKOBJ1 = gtk.o gtkgetlin.o gtkstatus.o gtkmenu.o gtkyn.o gtkextcmd.o \
+	gtkmap.o gtkmessage.o gtkmisc.o xshmmap.o
+WINGTKOBJ2 = gtktile.o gtkhackrc.o gtkprefs.o gtkprogress.o gtkint.o gtkext.o
+endif
+#
+# Files for a proxy interface.
+ifeq ($(USE_PROXY),Y)
+WINPROXYSRC = ../win/proxy/winproxy.c ../win/proxy/callback.c
+WINPROXYOBJ = winproxy.o callback.o
+endif
+#
+# Common files for proxy window interface and window servers.
+PROXYCOMSRC = ../win/proxy/nhext.c ../win/proxy/nhxdr.c \
+	../win/proxy/nhextxdr.c ../win/proxy/nhextio.c ../win/proxy/nhextnb.c \
+	../win/proxy/compxdr.c
+PROXYCOMOBJ = nhext.o nhxdr.o nhextxdr.o nhextio.o nhextnb.o compxdr.o
+# Common files that are also shared with non-proxy window interfaces
+PROXYSHRSRC = ../win/proxy/md5.c
+PROXYSHROBJ = md5.o
+# Files for the proxy utility modules. These are provided for use with window
+# ports that support the proxy interface. The GTK window interface needs
+# these files regardless of whether proxy support is enabled or not.
+PROXYUTLSRC = ../win/proxy/dlbh.c ../win/proxy/mapid.c \
+	../win/proxy/riputil.c ../win/proxy/getopt.c ../win/proxy/glyphmap.c
+PROXYUTLOBJ = dlbh.o mapid.o riputil.o getopt.o glyphmap.o
+#
+# Files for plug-in window interfaces. These are needed to support external
+# window ports and provide the interface to the game executable.  Currently,
+# only the GTK window interface supports plug-in window interfaces.
+PROXYCLNTSRC = ../win/proxy/proxysvc.c ../win/proxy/proxycb.c \
+	../win/proxy/prxymap.c ../win/proxy/prxychar.c ../win/proxy/prxytile.c \
+	../win/proxy/prxyconn.c
+PROXYCLNTOBJ = proxysvc.o proxycb.o prxymap.o prxychar.o prxytile.o prxyconn.o
+
+WINSRC = $(WINTTYSRC)
+WOBJ01 = $(WINTTYOBJ)
+WOBJ02 =
+WOBJ03 =
+WOBJ04 =
+
+CCOMPILE = $(CC) $(MS_BITFIELDS)
+
+ifeq ($(USE_MSWIN),Y)
+USE_GUI = Y
+WINSRC += $(WINMSSRC)
+WOBJ02 += $(WINMSOBJ1)
+WOBJ03 += $(WINMSOBJ2)
+WOBJ04 += winres.o tile.o
+LFLAGS += -mwindows -Wl,-Map,slashem.map -v
+else	# USE_MSWIN
+ifeq ($(USE_GTK),Y)
+USE_GUI = Y
+USE_PNG = Y
+WINSRC += $(WINGTKSRC)
+WOBJ02 += $(WINGTKOBJ1)
+WOBJ03 += $(WINGTKOBJ2)
+LFLAGS += -mwindows
+ifneq ($(USE_PROXY),Y)
+WINSRC += $(PROXYUTLSRC) $(PROXYSHRSRC)
+WOBJ04 += tile.o
+WOBJ05 += $(PROXYUTLOBJ) $(PROXYSHROBJ)
+endif	# USE_PROXY
+endif	# USE_GTK
+endif	# USE_MSWIN
+
+ifeq ($(USE_PROXY),Y)
+USE_PNG = Y
+WINSRC += $(WINPROXYSRC) $(PROXYUTLSRC) $(PROXYCOMSRC) $(PROXYSHRSRC)
+WOBJ02 += $(WINPROXYOBJ)
+WOBJ03 += $(PROXYCOMOBJ) $(PROXYSHROBJ)
+ifneq ($(USE_MSWIN),Y)
+WOBJ04 += tile.o
+endif
+WOBJ05 += $(PROXYUTLOBJ)
+endif
+
+ifeq ($(USE_PROXIFIED),Y)
+WINSRC += $(PROXYCLNTSRC)
+WOBJ04 += $(PROXYCLNTOBJ)
+endif
+
+WINOBJ = $(WOBJ01) $(WOBJ02) $(WOBJ03) $(WOBJ04) $(WOBJ05)
+
+#
+# The definition of WINLIB (below) must also be changed to match
+# WINSRC & WINOBJ.
+#
+
+WINTTYLIB =
+
+# libraries for native MS-Windows
+ifeq ($(USE_MSWIN),Y)
+WINMSLIB = libcomctl32.a libgdi32.a
+endif
+
+# libraries for GTK
+# Note: cc-gtk handles Gtk+ and its dependencies.
+ifeq ($(USE_GTK),Y)
+WINGTKLIB =
+endif
+
+ifeq ($(USE_PROXY),Y)
+WINPROXYLIB = libwsock32.a
+endif
+
+WINLIB = $(WINTTYLIB)
+
+ifeq ($(USE_MSWIN),Y)
+WINLIB += $(WINMSLIB)
+endif
+
+ifeq ($(USE_GTK),Y)
+WINLIB +=$(WINGTKLIB)
+endif
+
+ifeq ($(USE_PROXY),Y)
+WINLIB += $(WINPROXYLIB)
+endif
+
+# Shareable (architecture independent) data files which are not candidates
+# for inclusion in DLB libraries (ND). Port specific files per discussions
+# in Install.GTK and Install.pxy
+CNF_SHARE_GTKND = gltile16.png gltile32.png gltile64.png rip.xpm credit.xpm
+CNF_SHARE_PROXYND = gltile16.png gltile32.png gltile64.png \
+		gltile16.map gltile32.map gltile64.map
+
+ifeq ($(USE_GTK),Y)
+CNF_SHARE_DATND += $(CNF_SHARE_GTKND)
+endif
+
+ifeq ($(USE_PROXY),Y)
+CNF_SHARE_DATND += $(CNF_SHARE_PROXYND)
+endif
+
+ifeq ($(USE_PNG),Y)
+CCGTK = cc-gtk -v -c $(CCOMPILE)
+endif
+
+#
+#  Utility Objects.
+#
+
+ifeq ($(USE_NHALLOC),Y)
+NHALLOCOBJ = nhalloc.o
+NHALLOCDLL = nhalloc.dll
+NHALLOCA = nhalloc.a
+else
+NHALLOCOBJ =
+NHALLOCDLL =
+NHALLOCA =
+endif
+
+MAKESRC	    = makedefs.c
+
+SPLEVSRC    = lev_yacc.c  lev_$(LEX).c	 lev_main.c  panic.c
+
+DGNCOMPSRC  = dgn_yacc.c  dgn_$(LEX).c	 dgn_main.c
+
+MAKEOBJS    = makedefs.o  monst.o	 objects.o alloc.o panic.o $(NHALLOCOBJ)
+
+SPLEVOBJS   = lev_yacc.o  lev_$(LEX).o	lev_main.o  alloc.o	\
+		monst.o	    objects.o	    panic.o  \
+		drawing.o	decl.o $(NHALLOCOBJ)
+
+DGNCOMPOBJS = dgn_yacc.o  dgn_$(LEX).o	dgn_main.o  alloc.o	 \
+		panic.o $(NHALLOCOBJ)
+
+RECOVOBJS   = recover.o
+
+
+#  Tile related object files.
+
+ifeq ($(SUPPRESS_GRAPHICS),Y)
+TILOBJ       =
+TEXTIO       =
+TEXTIO2      =
+PLANAR_TIB   =
+OVERVIEW_TIB =
+TILEUTIL     = 
+TILEFILES    = 
+TILEFILES2   = 
+GIFREADERS   = 
+GIFREAD2     = 
+PPMWRITERS   = 
+PPMWRIT2     = 
+
+else
+
+TEXTIO      = tiletext.o tiletxt.o drawing.o decl.o monst.o objects.o \
+              panic.o alloc.o $(NHALLOCOBJ)
+
+TEXTIO2     = tiletex2.o tiletxt2.o drawing.o decl.o monst.o objects.o \
+              panic.o alloc.o $(NHALLOCOBJ)
+
+
+PLANAR_TIB  = NetHack1.tib
+
+OVERVIEW_TIB = NetHacko.tib
+
+DLBOBJ = dlb.o
+endif
+
+
+#  Object files for the game itself.
+
+VOBJ01 = allmain.o  alloc.o    apply.o	  artifact.o attrib.o
+VOBJ02 = ball.o	    bones.o    borg.o	  botl.o     cmd.o 	dbridge.o
+VOBJ03 = decl.o	    detect.o   display.o  do.o	     do_name.o
+VOBJ04 = do_wear.o  dog.o      dogmove.o  dokick.o   dothrow.o
+VOBJ05 = drawing.o  dungeon.o  eat.o	  end.o	     engrave.o
+VOBJ06 = exper.o    explode.o  extralev.o files.o    fountain.o
+VOBJ07 = hack.o     hacklib.o  invent.o   lock.o
+VOBJ08 = mail.o	    pcmain.o   makemon.o  mcastu.o   mhitm.o
+VOBJ09 = mhitu.o    minion.o   mkmap.o	  mklev.o    mkmaze.o
+VOBJ10 = mkobj.o    mkroom.o   mon.o	  mondata.o  monmove.o
+VOBJ11 = monst.o    monstr.o   mplayer.o  mthrowu.o  muse.o
+VOBJ12 = music.o    o_init.o   objects.o  objnam.o   options.o
+VOBJ13 = pickup.o   pline.o    polyself.o potion.o   quest.o
+VOBJ14 = questpgr.o pager.o    pray.o	  priest.o   read.o
+VOBJ15 = rect.o	    restore.o  rip.o	  rnd.o	     role.o
+VOBJ16 = rumors.o   save.o     shk.o      shknam.o   sit.o
+VOBJ17 = sounds.o   sp_lev.o   spell.o    steal.o    steed.o
+VOBJ18 = timeout.o  topten.o   track.o
+VOBJ19 = trap.o     u_init.o   uhitm.o    vault.o    vision.o
+VOBJ20 = vis_tab.o  weapon.o   were.o	  wield.o    windows.o
+VOBJ21 = wizard.o   worm.o     worn.o     write.o
+VOBJ22 = zap.o	    light.o    dlb.o      dig.o      teleport.o
+VOBJ23 = region.o   tech.o     gypsy.o    mapglyph.o
+
+SOBJ   = winnt.o    pcsys.o    pcunix.o   nttty.o    random.o \
+	 $(SOUND)   nhlan.o
+#	 $(SOUND)   mapimail.o nhlan.o
+
+SYSLIB = libwinmm.a
+
+VVOBJ  = version.o
+
+VOBJ   = $(VOBJ01) $(VOBJ02) $(VOBJ03) $(VOBJ04) $(VOBJ05) \
+	$(VOBJ06) $(VOBJ07) $(VOBJ08) $(VOBJ09) $(VOBJ10) \
+	$(VOBJ11) $(VOBJ12) $(VOBJ13) $(VOBJ14) $(VOBJ15) \
+	$(VOBJ16) $(VOBJ17) $(VOBJ18) $(VOBJ19) $(VOBJ20) \
+	$(VOBJ21) $(VOBJ22) $(VOBJ23)
+
+ALLOBJ = $(VOBJ) $(SOBJ) $(VVOBJ) $(WINOBJ)
+
+#
+#  Header Objects.
+#
+
+DGN_FILE_H = $(INCL)\align.h	$(INCL)\dgn_file.h
+DUNGEON_H  = $(INCL)\align.h	$(INCL)\dungeon.h
+EMIN_H	   = $(DUNGEON_H)	$(INCL)\emin.h
+EPRI_H	   = $(DUNGEON_H)	$(INCL)\align.h	    $(INCL)\epri.h
+ESHK_H	   = $(DUNGEON_H)	$(INCL)\eshk.h
+MONDATA_H  = $(INCL)\align.h	$(INCL)\mondata.h
+MONST_H	   = $(INCL)\align.h	$(INCL)\monst.h
+NHLAN_H    = $(INCL)\nhlan.h
+PERMONST_H = $(INCL)\monattk.h	$(INCL)\monflag.h   $(INCL)\align.h   \
+	     $(INCL)\permonst.h
+REGION_H   = $(INCL)\region.h
+RM_H	   = $(INCL)\align.h	$(INCL)\rm.h
+SKILLS_H   = $(INCL)\skills.h
+SP_LEV_H   = $(INCL)\align.h	$(INCL)\sp_lev.h
+VAULT_H	   = $(DUNGEON_H)	$(INCL)\vault.h
+YOUPROP_H  = $(PERMONST_H)	$(MONDATA_H)	    $(INCL)\prop.h    \
+	     $(INCL)\pm.h       $(INCL)\youprop.h
+YOU_H	   = $(MONST_H)		$(YOUPROP_H)	    $(INCL)\align.h   \
+	     $(INCL)\attrib.h	$(INCL)\you.h
+DISPLAY_H  = $(MONDATA_H)	$(INCL)\vision.h    $(INCL)\display.h
+NTCONF_H   = $(INCL)\micro.h	$(INCL)\system.h    $(INCL)\ntconf.h
+CONFIG_H   = $(GLOBAL_H)	$(INCL)\tradstdc.h  $(INCL)\config1.h \
+	     $(INCL)\config.h
+DECL_H	   = $(YOU_H)		$(INCL)\spell.h	    $(INCL)\color.h   \
+	     $(INCL)\obj.h	$(INCL)\onames.h    $(INCL)\pm.h      \
+	     $(INCL)\decl.h
+GLOBAL_H   = $(NTCONF_H)	$(INCL)\coord.h	    $(INCL)\global.h
+HACK_H	   = $(CONFIG_H)	$(DUNGEON_H)	    $(DECL_H)	      \
+	     $(DISPLAY_H)	$(INCL)\monsym.h    $(INCL)\mkroom.h  \
+	     $(INCL)\objclass.h $(INCL)\trap.h	    $(INCL)\flag.h    \
+	     $(RM_H)		$(INCL)\vision.h    $(INCL)\wintype.h \
+	     $(INCL)\engrave.h	$(INCL)\rect.h	    $(INCL)\hack.h    \
+	     $(REGION_H)	$(INCL)\trampoli.h
+DLB_H      = $(INCL)\dlb.h
+
+#ifeq ($(SUPPRESS_GRAPHICS),Y)
+#TILE_H     =
+#else
+#TILE_H	   = $(INCL)\tile.h $(INCL)\pctiles.h
+#endif
+
+ifeq ($(USE_DLB),Y)
+DLB = $(DAT)\nhshare $(DAT)\nhushare
+DLBOBJS = dlb_main.o dlb.o alloc.o panic.o $(NHALLOCOBJ)
+else
+DLB =
+DLBOBJS =
+endif
+
+#
+#  Make Rules.
+#
+
+.SUFFIXES:  .exe .o .c .y .l
+
+.c.o:
+	$(CCOMPILE) $(CFLAGS) -o$@ $<
+
+#.phony: dlb
+
+#
+#  Primary Targets.
+#
+
+#  The default target.
+
+default: $(GAMEFILE)
+
+all: install.tag
+
+util: utility.tag
+
+install: install.tag
+
+utility.tag: $(INCL)\date.h $(INCL)\trap.h    $(INCL)\onames.h	       \
+	$(INCL)\pm.h	  monstr.c   vis_tab.c	$(INCL)\filename.h\
+	lev_comp.exe	 dgn_comp.exe	 recover.exe $(TILEUTIL)
+	$(ECHO) utilities made > utility.tag
+
+install.tag: $(GAMEFILE) dat.tag
+ifeq ($(USE_DLB),Y)
+	$(COPY) $(DAT)\nhshare				$(GAMEDIR)
+	$(COPY) $(DAT)\nhushare				$(GAMEDIR)
+	$(COPY) $(DAT)\license				$(GAMEDIR)
+	$(COPY) $(DAT)\opthelp				$(GAMEDIR)
+else
+	$(COPY) $(DAT)\*.				$(GAMEDIR)
+	$(COPY) $(DAT)\*.dat				$(GAMEDIR)
+	$(COPY) $(DAT)\*.lev				$(GAMEDIR)
+#	$(DEL) $(GAMEDIR)\makefile.
+endif
+ifeq ($(USE_GTK),Y)
+	$(COPY) $(subst /,\,$(WGTK)\GTKRC.w32		$(GAMEDIR)\gtkrc)
+	$(COPY) $(subst /,\,rip.xpm			$(GAMEDIR))
+	$(COPY) $(subst /,\,credit.xpm			$(GAMEDIR))
+	$(COPY) $(subst /,\,$(WSYS)\winnt.cnf		$(GAMEDIR)\defaults.nh)
+else
+	$(COPY) $(subst /,\,$(WSYS)\defaults.nh		$(GAMEDIR)\defaults.nh)
+endif
+ifeq ($(USE_PROXY),Y)
+	$(COPY) $(subst /,\,gltile16.map		$(GAMEDIR))
+	$(COPY) $(subst /,\,gltile32.map		$(GAMEDIR))
+	$(COPY) $(subst /,\,gltile64.map		$(GAMEDIR))
+endif
+ifeq ($(USE_PNG),Y)
+	$(COPY) $(subst /,\,gltile16.png		$(GAMEDIR))
+	$(COPY) $(subst /,\,gltile32.png		$(GAMEDIR))
+	$(COPY) $(subst /,\,gltile64.png		$(GAMEDIR))
+endif
+ifeq ($(USE_NHALLOC),Y)
+	$(COPY) $(subst /,\,nhalloc.dll			$(GAMEDIR))
+endif
+	$(COPY) $(subst /,\,recover.exe			$(GAMEDIR))
+	$(COPY) $(subst /,\,$(DOC)\guidebook.txt	$(GAMEDIR))
+	$(COPY) $(subst /,\,$(DOC)\recover.txt		$(GAMEDIR))
+	$(COPY) $(subst /,\,$(DOC)\slashem.txt		$(GAMEDIR))
+	$(ECHO) install done > install.tag
+
+#  The main target.
+
+gamedir.tag:
+	$(subst /,\,@if not exist $(GAMEDIR)/*.* echo creating directory $(GAMEDIR))
+	$(subst /,\,@if not exist $(GAMEDIR)/*.* mkdir $(GAMEDIR))
+	$(subst /,\,@echo directory created > $@)
+
+FORCE:
+
+ifeq ($(USE_PNG),Y)
+cc-gtk.h:	FORCE
+	@echo #define PKG_CONFIG_DLL "$(PKG_CONFIG_DLL)" > cc-gtk.h
+	@echo #define PKG_CONFIG_PATH "$(PKG_CONFIG_PATH)" >> cc-gtk.h
+	@echo #define GTKCFLAGS "$(GTKCFLAGS)" >> cc-gtk.h
+	@echo #define GTKLIBS "$(GTKLIBS)" >> cc-gtk.h
+
+cc-gtk.exe:	$(WGTK)\cc-gtk.c cc-gtk.h
+	$(COPY) $(WGTK)\cc-gtk.c .
+	$(CC) -o$@ cc-gtk.c
+endif
+
+ifeq ($(USE_GTK),Y)
+$(GAMEFILE): cc-gtk.exe gamedir.tag utility.tag $(NHALLOCDLL) $(NHALLOCA) \
+		$(ALLOBJ) $(GAME).lnk $(GAMEDIR)/nhdefkey.dll \
+		$(GAMEDIR)/nh340key.dll $(GAMEDIR)/nhraykey.dll
+	cc-gtk -l $(LINK) $(LFLAGS) $(GTKGCCFLAGS) -o$(GAME).exe $(GAME).lnk
+	$(COPY) $(GAME).exe $(GAMEFILE)
+	$(DEL) $(GAME).exe
+else
+$(GAMEFILE): gamedir.tag utility.tag $(NHALLOCDLL) $(NHALLOCA) \
+		$(ALLOBJ) $(GAME).lnk $(GAMEDIR)/nhdefkey.dll \
+		$(GAMEDIR)/nh340key.dll $(GAMEDIR)/nhraykey.dll
+	$(LINK) $(LFLAGS) $(GTKGCCFLAGS) -o$(GAME).exe $(GAME).lnk
+	$(COPY) $(GAME).exe $(GAMEFILE)
+	$(DEL) $(GAME).exe
+endif
+
+nhdefkey.o:
+	$(CCOMPILE) $(CFLAGS) -DBUILD_DLL -o$@ $(NTSYS)/nhdefkey.c
+
+$(GAMEDIR)/nhdefkey.dll: nhdefkey.o gamedir.tag
+	@echo Linking $@
+	$(CCOMPILE) -shared -Wl,--export-all-symbols \
+		-Wl,--add-stdcall-alias -o $@ $<
+
+nh340key.o:
+	$(CCOMPILE) $(CFLAGS) -DBUILD_DLL -o$@ $(NTSYS)/nh340key.c
+
+$(GAMEDIR)/nh340key.dll: nh340key.o gamedir.tag
+	@echo Linking $@
+	$(CCOMPILE) -shared -Wl,--export-all-symbols \
+		-Wl,--add-stdcall-alias -o $@ $<
+
+nhraykey.o:
+	$(CCOMPILE) $(CFLAGS) -DBUILD_DLL -o$@ $(NTSYS)/nhraykey.c
+
+$(GAMEDIR)/nhraykey.dll: nhraykey.o gamedir.tag
+	@echo Linking $@
+	$(CCOMPILE) -shared -Wl,--export-all-symbols \
+		-Wl,--add-stdcall-alias -o $@ $<
+
+$(GAME).lnk: $(ALLOBJ)
+	@echo INPUT( $(VOBJ01) )> $@
+	@echo INPUT( $(VOBJ02) )>> $@
+	@echo INPUT( $(VOBJ03) )>> $@
+	@echo INPUT( $(VOBJ04) )>> $@
+	@echo INPUT( $(VOBJ05) )>> $@
+	@echo INPUT( $(VOBJ06) )>> $@
+	@echo INPUT( $(VOBJ07) )>> $@
+	@echo INPUT( $(VOBJ08) )>> $@
+	@echo INPUT( $(VOBJ09) )>> $@
+	@echo INPUT( $(VOBJ10) )>> $@
+	@echo INPUT( $(VOBJ11) )>> $@
+	@echo INPUT( $(VOBJ12) )>> $@
+	@echo INPUT( $(VOBJ13) )>> $@
+	@echo INPUT( $(VOBJ14) )>> $@
+	@echo INPUT( $(VOBJ15) )>> $@
+	@echo INPUT( $(VOBJ16) )>> $@
+	@echo INPUT( $(VOBJ17) )>> $@
+	@echo INPUT( $(VOBJ18) )>> $@
+	@echo INPUT( $(VOBJ19) )>> $@
+	@echo INPUT( $(VOBJ20) )>> $@
+	@echo INPUT( $(VOBJ21) )>> $@
+	@echo INPUT( $(VOBJ22) )>> $@
+	@echo INPUT( $(VOBJ23) )>> $@
+	@echo INPUT( $(SOBJ)   )>> $@
+	@echo INPUT( $(VVOBJ)  )>> $@
+	@echo INPUT( $(WOBJ01) )>> $@
+ifneq ($(WOBJ02),)
+	@echo INPUT( $(WOBJ02) )>> $@
+endif
+ifneq ($(WOBJ03),)
+	@echo INPUT( $(WOBJ03) )>> $@
+endif
+ifneq ($(WOBJ04),)
+	@echo INPUT( $(WOBJ04) )>> $@
+endif
+ifneq ($(WOBJ05),)
+	@echo INPUT( $(WOBJ05) )>> $@
+endif
+ifneq ($(WINLIB),)
+	@echo INPUT( $(WINLIB) )>> $@
+endif
+ifneq ($(SYSLIB),)
+	@echo INPUT( $(SYSLIB) )>> $@
+endif
+ifeq ($(USE_NHALLOC),Y)
+	@echo INPUT( nhalloc.a )>> $@
+endif
+
+#
+#  Housekeeping.
+#
+
+clean:
+	-$(DEL) *.o
+	-$(DEL) *.map
+	-$(DEL) nhalloc.*
+	-$(DEL) dlb_main.exe
+
+spotless: clean
+	-$(DEL) gamedir.tag
+	-$(DEL) utility.tag
+	-$(DEL) install.tag
+	-$(DEL) dat.tag
+	-$(DEL) cc-gtk.h
+	-$(DEL) cc-gtk.c
+	-$(DEL) cc-gtk.exe
+	-$(DEL) $(GAME).lnk
+	-$(DEL) makedefs.exe
+	-$(DEL) lev_comp.exe
+	-$(DEL) dgn_comp.exe
+	-$(DEL) txtmerge.exe
+	-$(DEL) magtile.exe
+	-$(DEL) bigtile.exe
+	-$(DEL) txtbg.exe
+	-$(DEL) mapmerge.exe
+	-$(DEL) tile2x11.exe
+	-$(DEL) x11bigtiles
+	-$(DEL) x11big3dtiles
+	-$(DEL) x11tiles
+	-$(DEL) x11bigtiles.map
+	-$(DEL) x11big3dtiles.map
+	-$(DEL) x11tiles.map
+	-$(DEL) tile2png.exe
+	-$(DEL) gltile16.png
+	-$(DEL) gltile32.png
+	-$(DEL) gltile64.png
+	-$(DEL) gltile16.map
+	-$(DEL) gltile32.map
+	-$(DEL) gltile64.map
+	-$(DEL) gtkrc
+	-$(DEL) *.xpm
+	-$(DEL) tiletext.c
+	-$(DEL) txtmerge.c
+	-$(DEL) magtile.c
+	-$(DEL) lev_flex.c
+	-$(DEL) lev_yacc.c
+	-$(DEL) dgn_flex.c
+	-$(DEL) dgn_yacc.c
+	-$(DEL) recover.exe
+	-$(DEL) $(INCL)\onames.h
+	-$(DEL) $(INCL)\pm.h
+	-$(DEL) $(INCL)\vis_tab.h
+	-$(DEL) $(INCL)\pcvideo.h
+	-$(DEL) $(INCL)\pctiles.h
+	-$(DEL) $(INCL)\portio.h
+	-$(DEL) $(INCL)\tile.h
+	-$(DEL) monstr.c
+	-$(DEL) vis_tab.c
+	-$(DEL) $(SRC)\panic.c
+	-$(DEL) $(SRC)\makedefs.c
+	-$(DEL) $(SRC)\recover.c
+	-$(DEL) $(SRC)\lev_main.c
+	-$(DEL) $(SRC)\dlb_main.c
+	-$(DEL) $(SRC)\dgn_main.c
+	-$(DEL) $(SRC)\wintty.c
+	-$(DEL) $(SRC)\topl.c
+	-$(DEL) $(SRC)\getline.c
+	-$(DEL) $(SRC)\termcap.c
+	-$(DEL) $(SRC)\tile2bin.c
+	-$(DEL) $(SRC)\msdos.c
+	-$(DEL) $(SRC)\pckeys.c
+	-$(DEL) $(SRC)\video.c
+	-$(DEL) $(SRC)\sound.c
+	-$(DEL) $(SRC)\tilemap.c
+	-$(DEL) $(SRC)\gifread.c
+	-$(DEL) $(SRC)\ppmwrite.c
+	-$(DEL) $(SRC)\pcmain.c
+	-$(DEL) $(SRC)\pcunix.c
+	-$(DEL) $(SRC)\pcsys.c
+	-$(DEL) $(SRC)\tile.c
+	-$(DEL) $(SRC)\gtk*.c
+	-$(DEL) $(SRC)\xshmmap.c
+	-$(DEL) $(SRC)\xshm.c
+	-$(DEL) $(INCL)\date.h
+	-$(DEL) $(INCL)\onames.h
+	-$(DEL) $(INCL)\pm.h
+	-$(DEL) $(INCL)\vis_tab.h
+	-$(DEL) $(SRC)\nhlan.c
+	-$(DEL) $(SRC)\winnt.c
+	-$(DEL) $(SRC)\nttty.c
+	-$(DEL) $(SRC)\ntsound.c
+	-$(DEL) $(SRC)\mapimail.c
+	-$(DEL) vis_tab.c
+	-$(DEL) random.c
+	-$(DEL) nhlan.c
+	-$(DEL) *.lnk
+	-$(DEL) *.def
+	-$(DEL) *.map
+	-$(DEL) *.lev
+	-$(DEL) a.out
+	-$(DEL) tilemap.exe
+	-$(DEL) tile2bin.exe
+	-$(DEL) $(DAT)\data
+	-$(DEL) $(DAT)\*.lev
+	-$(DEL) $(DAT)\data
+	-$(DEL) $(DAT)\dungeon
+	-$(DEL) $(DAT)\ttyoptions
+	-$(DEL) $(DAT)\guioptions
+	-$(DEL) $(DAT)\oracles
+	-$(DEL) $(DAT)\rumors
+	-$(DEL) $(DAT)\quest.dat
+	-$(DEL) $(DAT)\nhshare
+	-$(DEL) $(DAT)\nhushare
+	-$(DEL) $(DAT)\dlb.lst
+	-$(DEL) $(DAT)\msdoshlp.txt
+	-$(DEL) $(DAT)\dlb_main.exe
+	-$(DEL) $(DAT)\lev_comp.exe
+	-$(DEL) $(DAT)\dgn_comp.exe
+	-$(DEL) sp_lev.tag
+	-$(DEL) $(PLANAR_TIB)
+	-$(DEL) $(OVERVIEW_TIB)
+	-$(DEL) pet_mark.xbm
+	-$(DEL) $(WSHR)\monmag.txt
+	-$(DEL) $(WSHR)\mon32.txt
+	-$(DEL) $(WSHR)\objmag.txt 
+	-$(DEL) $(WSHR)\obj32.txt
+	-$(DEL) $(WSHR)\othmag.txt
+	-$(DEL) $(WSHR)\oth32.txt
+	-$(DEL) $(WSHR)\monbig.txt
+	-$(DEL) $(WSHR)\mon3d.txt
+	-$(DEL) $(WSHR)\objbig.txt
+	-$(DEL) $(WSHR)\obj3d.txt
+	-$(DEL) $(WSHR)\othbig.txt
+	-$(DEL) $(WSHR)\oth3d.txt
+	-$(DEL) $(WSHR)\mon32-t.txt
+	-$(DEL) $(WSHR)\obj32-t.txt
+	-$(DEL) $(WSHR)\oth32-t.txt
+
+#
+#  Secondary Targets.
+#
+#  The following include files depend on makedefs to be created.
+#
+#  date.h should be remade every time any of the source or include
+#  files is modified.
+
+
+$(INCL)\date.h : makedefs.exe
+	-makedefs -v
+
+$(INCL)\onames.h: makedefs.exe
+	-makedefs -o
+
+$(INCL)\pm.h: makedefs.exe
+	-makedefs -p
+
+monstr.c: makedefs.exe
+	-makedefs -m
+
+$(INCL)\vis_tab.h: makedefs.exe
+	-makedefs -z
+
+vis_tab.c: makedefs.exe
+	-makedefs -z
+
+$(INCL)\filename.h: makedefs.exe
+	-makedefs -f
+
+nhalloc.o:	$(CONFIG_H) alloc.c
+	$(CCOMPILE) $(CFLAGS) -DNHALLOC_DLL -onhalloc.o alloc.c
+
+nhalloc.def:
+	@echo EXPORTS > nhalloc.def
+	@echo malloc >> nhalloc.def
+	@echo calloc >> nhalloc.def
+	@echo realloc >> nhalloc.def
+	@echo free >> nhalloc.def
+	@echo monitor_heap_push >> nhalloc.def
+	@echo monitor_heap_pop >> nhalloc.def
+	@echo monitor_heap_set_subid >> nhalloc.def
+	@echo monitor_heap_getmem >> nhalloc.def
+	@echo monitor_heap_trace >> nhalloc.def
+	@echo monitor_heap_mark >> nhalloc.def
+	@echo monitor_heap_release >> nhalloc.def
+
+nhalloc.dll:	nhalloc.def nhalloc.o panic.o
+	$(CCOMPILE) -mdll -o junk.tmp -Wl,--base-file,base.tmp nhalloc.o panic.o
+	$(DEL) junk.tmp
+	dlltool --dllname nhalloc.dll --base-file base.tmp --output-exp nhalloc.exp --def nhalloc.def
+	$(DEL) base.tmp
+	$(CCOMPILE) -mdll -o nhalloc.dll nhalloc.o panic.o -Wl,nhalloc.exp
+	$(DEL) nhalloc.exp
+
+nhalloc.a:	nhalloc.def
+	dlltool --dllname nhalloc.dll --def nhalloc.def --output-lib nhalloc.a -k
+
+nhproxy.a:	$(PROXYCLNTOBJ) $(PROXYCOMOBJ) $(PROXYSHROBJ)
+	-$(DEL) nhproxy.a
+	ar rc nhproxy.a $(PROXYCLNTOBJ)
+	ar r nhproxy.a $(PROXYCOMOBJ) $(PROXYSHROBJ)
+	ranlib nhproxy.a
+
+$(WIN32)\mnsel.bmp:	$(UTIL)\uudecode.exe $(WIN32)\mnsel.uu
+	$(UTIL)\uudecode $(WIN32)\mnsel.uu
+	$(COPY) mnsel.bmp $@
+	$(DEL) mnsel.bmp
+
+$(WIN32)\mnselcnt.bmp:	$(UTIL)\uudecode.exe $(WIN32)\mnselcnt.uu
+	$(UTIL)\uudecode $(WIN32)\mnselcnt.uu
+	$(COPY) mnselcnt.bmp $@
+	$(DEL) mnselcnt.bmp
+
+$(WIN32)\mnunsel.bmp:	$(UTIL)\uudecode.exe $(WIN32)\mnunsel.uu
+	$(UTIL)\uudecode $(WIN32)\mnunsel.uu
+	$(COPY) mnunsel.bmp $@
+	$(DEL) mnunsel.bmp
+
+$(WIN32)\petmark.bmp:	$(UTIL)\uudecode.exe $(WIN32)\petmark.uu
+	$(UTIL)\uudecode $(WIN32)\petmark.uu
+	$(COPY) petmark.bmp $@
+	$(DEL) petmark.bmp
+
+$(WIN32)\SlashEM.ico:	$(UTIL)\uudecode.exe $(WSYS)\seico.uu
+	$(UTIL)\uudecode $(WSYS)\seico.uu
+	$(COPY) SlashEM.ico $@
+	$(DEL) SlashEM.ico
+
+$(WIN32)\rip.bmp:	$(UTIL)\uudecode.exe $(WIN32)\rip.uu
+	$(UTIL)\uudecode $(WIN32)\rip.uu
+	$(COPY) rip.bmp $@
+	$(DEL) rip.bmp
+
+$(WIN32)\splash.bmp:	$(UTIL)\uudecode.exe $(WIN32)\splash.uu
+	$(UTIL)\uudecode $(WIN32)\splash.uu
+	$(COPY) splash.bmp $@
+	$(DEL) splash.bmp
+
+winres.o:	tiles.bmp $(WIN32)\winhack.rc $(WIN32)\mnsel.bmp \
+		$(WIN32)\mnselcnt.bmp $(WIN32)\mnunsel.bmp $(WIN32)\rip.bmp \
+		$(WIN32)\petmark.bmp $(WIN32)\SlashEM.ico $(WIN32)\splash.bmp
+	$(RC) -o$@ --include-dir=$(WIN32) -DNODEBUG -i $(WIN32)\winhack.rc
+
+#
+#  Makedefs Stuff
+#
+
+makedefs.exe:  $(MAKEOBJS)
+	$(LINK) $(LFLAGS) -mconsole -omakedefs.exe $(MAKEOBJS)
+
+makedefs.c: $(UTIL)\makedefs.c
+	$(COPY) $(UTIL)\makedefs.c .
+
+makedefs.o:  $(CONFIG_H)	$(PERMONST_H)	   $(INCL)\objclass.h \
+		$(INCL)\monsym.h   $(INCL)\qtext.h makedefs.c
+
+#
+#  Level Compiler Dependencies
+#
+
+lev_comp.exe:  $(SPLEVOBJS)
+	@echo INPUT( $(SPLEVOBJS) )> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -olev_comp.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+ifeq ($(YACC_LEX),Y)
+
+lev_yacc.o:  $(HACK_H)	 $(SP_LEV_H)	lev_yacc.c
+	$(CCOMPILE) $(CFLAGS) -o$@ lev_yacc.c
+
+else
+
+lev_yacc.o:  $(HACK_H)	 $(SP_LEV_H) $(INCL)\lev_comp.h lev_yacc.c
+	$(CCOMPILE) $(CFLAGS) -o$@ lev_yacc.c
+
+endif
+
+lev_$(LEX).o:  $(HACK_H)   $(SP_LEV_H)	  $(INCL)\lev_comp.h \
+	lev_$(LEX).c
+	$(CCOMPILE) $(CFLAGS) -o$@ lev_$(LEX).c
+
+lev_main.c:  $(UTIL)\lev_main.c
+	$(COPY) $(UTIL)\lev_main.c .
+
+lev_main.o:  $(HACK_H) lev_main.c
+
+$(INCL)\lev_comp.h: lev_yacc.c
+
+ifeq ($(YACC_LEX),Y)
+
+lev_yacc.c:  $(UTIL)\lev_comp.y
+	$(YACC) -d $(DUTIL)/lev_comp.y
+	$(COPY) $(YTABC) $@
+	$(COPY) $(YTABH) $(INCL)\lev_comp.h
+	$(DEL) $(YTABC)
+	$(DEL) $(YTABH)
+
+lev_$(LEX).c:  $(UTIL)\lev_comp.l
+	$(LEX) $(DUTIL)/lev_comp.l
+	$(COPY) $(LEXYYC) $@
+	$(DEL) $(LEXYYC)
+else
+
+lev_yacc.c: $(SSHR)\lev_yacc.c
+	$(COPY) $(SSHR)\lev_yacc.c $@
+
+$(INCL)\lev_comp.h: $(SSHR)\lev_comp.h
+	$(COPY) $(SSHR)\lev_comp.h $@
+	$(ECHO) /**/ >>$(INCL)\lev_comp.h
+
+lev_$(LEX).c: $(SSHR)\lev_lex.c
+	$(COPY) $(SSHR)\lev_lex.c $@
+
+endif
+
+
+
+#
+#  Dungeon Dependencies
+#
+
+dgn_comp.exe:  $(DGNCOMPOBJS)
+	@echo INPUT( $(DGNCOMPOBJS) )> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -odgn_comp.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+ifeq ($(YACC_LEX),Y)
+
+dgn_yacc.o:  $(HACK_H)	 $(DGN_FILE_H)	dgn_yacc.c
+	$(CCOMPILE) $(CFLAGS) -o$@ dgn_yacc.c
+
+else
+
+dgn_yacc.o:  $(HACK_H)	 $(DGN_FILE_H)	$(INCL)\dgn_comp.h dgn_yacc.c
+	$(CCOMPILE) $(CFLAGS) -o$@ dgn_yacc.c
+
+endif
+
+dgn_$(LEX).o:  $(HACK_H)   $(DGN_FILE_H)  $(INCL)\dgn_comp.h \
+	dgn_$(LEX).c
+	$(CCOMPILE) $(CFLAGS) -o$@ dgn_$(LEX).c
+
+dgn_main.c:  $(UTIL)\dgn_main.c
+	$(COPY) $(UTIL)\dgn_main.c .
+
+dgn_main.o:  $(HACK_H)
+
+$(INCL)\dgn_comp.h:  dgn_yacc.c
+
+ifeq ($(YACC_LEX),Y)
+
+dgn_yacc.c: $(UTIL)\dgn_comp.y
+	$(YACC) -d $(DUTIL)/dgn_comp.y
+	$(COPY) $(YTABC) $@
+	$(COPY) $(YTABH) $(INCL)\dgn_comp.h
+	$(DEL) $(YTABC)
+	$(DEL) $(YTABH)
+
+dgn_$(LEX).c:  $(UTIL)\dgn_comp.l
+	$(LEX) $(DUTIL)/dgn_comp.l
+	$(COPY) $(LEXYYC) $@
+	$(DEL) $(LEXYYC)
+
+else
+
+dgn_yacc.c: $(SSHR)\dgn_yacc.c
+	$(COPY) $(SSHR)\dgn_yacc.c $@
+
+$(INCL)\dgn_comp.h: $(SSHR)\dgn_comp.h
+	$(COPY) $(SSHR)\dgn_comp.h $@
+	$(ECHO) /**/ >>$(INCL)\dgn_comp.h
+
+dgn_$(LEX).c: $(SSHR)\dgn_lex.c
+	$(COPY) $(SSHR)\dgn_lex.c $@
+ 
+endif
+
+#
+#  Recover Utility
+#
+
+recover.exe:   $(RECOVOBJS)
+	$(LINK) $(LFLAGS) -mconsole -orecover.exe recover.o
+
+recover.c:  $(UTIL)\recover.c
+	$(COPY) $(UTIL)\recover.c .
+
+recover.o:   $(CONFIG_H) recover.c
+	$(CCOMPILE) $(CFLAGS) -o$@ recover.c
+
+#
+#  Tiles
+#
+
+#  Headers
+
+$(INCL)\tile.h: $(WSHR)\tile_t.h tilemap.exe
+	tilemap.exe
+
+#  Utilities
+
+txtmerge.exe: txtmerge.o $(TEXTIO)
+	@echo INPUT( txtmerge.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otxtmerge.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+tile2x11.exe: tile2x11.o $(TEXTIO)
+	@echo INPUT( tile2x11.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otile2x11.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+tile2bmp.exe: tile2bmp.o $(TEXTIO)
+	@echo INPUT( tile2bmp.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otile2bmp.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+tile2png.exe: tile2png.o $(TEXTIO)
+	@echo INPUT( tile2png.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	cc-gtk -l $(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otile2png.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+magtile.exe: magtile.o $(TEXTIO)
+	@echo INPUT( magtile.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -omagtile.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+bigtile.exe: bigtile.o $(TEXTIO)
+	@echo INPUT( bigtile.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -obigtile.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+txtbg.exe: txtbg.o $(TEXTIO)
+	@echo INPUT( txtbg.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otxtbg.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+mapmerge.exe: mapmerge.o
+	$(CCOMPILE) $(LFLAGS) -mconsole -omapmerge.exe mapmerge.o
+
+tile.c: tilemap.exe
+	tilemap.exe
+	@echo A new $@ has been created
+
+tilemap.exe: tilemap.o
+	$(CCOMPILE) $(LFLAGS) -mconsole -otilemap.exe tilemap.o
+
+tilemap.c: $(WSHR)\tilemap.c
+	copy $(WSHR)\tilemap.c .
+
+tilemap.o: $(WSHR)\tilemap.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -c ../win/share/tilemap.c
+
+
+magtile.o: $(WSHR)\magtile.c $(INCL)\config.h $(INCL)\tile.h
+	$(CCOMPILE) $(CFLAGS) -c $(WSHR)\magtile.c
+
+bigtile.o: $(WSHR)\bigtile.c $(INCL)\config.h $(INCL)\tile.h
+	$(CCOMPILE) $(CFLAGS) -c $(WSHR)\bigtile.c
+
+txtbg.o: $(WSHR)\txtbg.c $(INCL)\config.h $(INCL)\tile.h
+	$(CCOMPILE) $(CFLAGS) -c $(WSHR)\txtbg.c
+
+mapmerge.o: $(WSHR)\mapmerge.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -c $(WSHR)\mapmerge.c
+
+txtmerge.o: $(WSHR)\txtmerge.c $(INCL)\config.h $(INCL)\tile.h
+	$(CCOMPILE) $(CFLAGS) -c ../win/share/txtmerge.c
+
+tile2x11.o: ../win/X11/tile2x11.c $(INCL)\hack.h $(INCL)\tile.h \
+						$(INCL)\tile2x11.h
+	$(CCOMPILE) $(CFLAGS) -c ../win/X11/tile2x11.c
+
+tile2bmp.o: ../win/share/tile2bmp.c $(INCL)\hack.h $(INCL)\tile.h \
+						$(INCL)\win32api.h
+	$(CCOMPILE) $(CFLAGS) -c ../win/share/tile2bmp.c
+
+tile2png.o: cc-gtk.exe ../win/share/tile2png.c $(INCL)\hack.h $(INCL)\tile.h
+	$(CCGTK) $(CFLAGS) -I$(MW32GTK)/include -c ../win/share/tile2png.c
+
+
+x11tiles: tile2x11.exe ../win/share/monsters.txt ../win/share/objects.txt \
+				../win/share/other.txt
+	tile2x11 -o x11tiles $(WSHR)\monsters.txt $(WSHR)\objects.txt \
+		$(WSHR)\other.txt
+
+x11tiles.map: mapmerge.exe ../win/share/monsters.map ../win/share/objects.map \
+				../win/share/other.map
+	mapmerge x11tiles.map $(WSHR)\monsters.map $(WSHR)\objects.map \
+		$(WSHR)\other.map
+
+x11bigtiles:	tile2x11.exe ../win/share/mon32.txt \
+		../win/share/obj32.txt ../win/share/oth32.txt
+	tile2x11 -o x11bigtiles $(WSHR)\mon32.txt $(WSHR)\obj32.txt \
+		$(WSHR)\oth32.txt
+
+x11bigtiles.map:	x11tiles.map
+	$(COPY) x11tiles.map x11bigtiles.map
+
+x11big3dtiles:	tile2x11.exe ../win/share/mon3d.txt \
+		../win/share/obj3d.txt ../win/share/oth3d.txt
+	tile2x11 -o x11big3dtiles $(WSHR)\mon3d.txt $(WSHR)\obj3d.txt \
+		$(WSHR)\oth3d.txt
+
+x11big3dtiles.map:	x11tiles.map
+	$(COPY) x11tiles.map x11big3dtiles.map
+
+tiles.bmp:	tile2bmp.exe ../win/share/monsters.txt \
+		../win/share/objects.txt ../win/share/other.txt
+	tile2bmp $@ $(WSHR)\monsters.txt $(WSHR)\objects.txt \
+		$(WSHR)\other.txt
+
+tiles32.bmp:	tile2bmp.exe ../win/share/mon32.txt \
+		../win/share/obj32.txt ../win/share/oth32.txt
+	tile2bmp $@ $(WSHR)\mon32.txt $(WSHR)\obj32.txt \
+		$(WSHR)\oth32.txt
+
+gltile16.png: tile2png.exe ../win/share/monsters.txt ../win/share/objects.txt \
+				../win/share/other.txt
+	tile2png -o gltile16.png $(WSHR)\monsters.txt $(WSHR)\objects.txt \
+		$(WSHR)\other.txt
+
+gltile16.map: mapmerge.exe ../win/share/monsters.map ../win/share/objects.map \
+				../win/share/other.map
+	mapmerge gltile16.map $(WSHR)\monsters.map $(WSHR)\objects.map \
+		$(WSHR)\other.map
+
+gltile32.png:	tile2png.exe ../win/share/mon32.txt \
+		../win/share/obj32.txt ../win/share/oth32.txt
+	tile2png -o gltile32.png $(WSHR)\mon32.txt $(WSHR)\obj32.txt \
+		$(WSHR)\oth32.txt
+
+gltile32.map:	gltile16.map
+	$(COPY) gltile16.map gltile32.map
+
+gltile64.png:	tile2png.exe ../win/share/mon3d.txt \
+		../win/share/obj3d.txt ../win/share/oth3d.txt
+	tile2png -o gltile64.png $(WSHR)\mon3d.txt $(WSHR)\obj3d.txt \
+		$(WSHR)\oth3d.txt
+
+gltile64.map:	gltile16.map
+	$(COPY) gltile16.map gltile64.map
+
+$(WSHR)\monmag.txt:	magtile.exe ../win/share/monsters.txt
+	magtile
+
+$(WSHR)\objmag.txt:	magtile.exe ../win/share/objects.txt
+	magtile
+
+$(WSHR)\othmag.txt:	magtile.exe ../win/share/other.txt
+	magtile
+
+$(WSHR)\monbig.txt:	bigtile.exe ../win/share/mon32-t.txt \
+				../win/share/obj32-t.txt \
+				../win/share/oth32-t.txt
+	bigtile
+
+$(WSHR)\objbig.txt:	bigtile.exe ../win/share/mon32-t.txt \
+				../win/share/obj32-t.txt \
+				../win/share/oth32-t.txt
+	bigtile
+
+$(WSHR)\othbig.txt:	bigtile.exe ../win/share/mon32-t.txt \
+				../win/share/obj32-t.txt \
+				../win/share/oth32-t.txt
+	bigtile
+
+../win/share/mon32.txt:	txtbg.exe ../win/share/mon32-t.txt
+	txtbg ../win/share/mon32-t.txt ../win/share/mon32.txt
+
+../win/share/obj32.txt:	txtbg.exe ../win/share/obj32-t.txt
+	txtbg ../win/share/obj32-t.txt ../win/share/obj32.txt
+
+../win/share/oth32.txt:	txtbg.exe ../win/share/oth32-t.txt
+	txtbg ../win/share/oth32-t.txt ../win/share/oth32.txt
+
+../win/share/mon32-t.txt:	txtmerge.exe $(WSHR)\monmag.txt \
+		$(WSHR)\mon32mi.txt $(WSHR)\mon32alg.txt \
+		$(WSHR)\mon32aw.txt $(WSHR)\mon32se.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\mon32-t.txt $(WSHR)\monmag.txt \
+		-b $(WSHR)\mon32mi.txt -b $(WSHR)\mon32se.txt
+	txtmerge $(WSHR)\mon32-t.txt $(WSHR)\mon32-t.txt \
+		-bff00ff $(WSHR)\mon32alg.txt -bff00ff $(WSHR)\mon32aw.txt
+
+../win/share/obj32-t.txt:	txtmerge.exe $(WSHR)\objmag.txt \
+		$(WSHR)\obj32mi.txt $(WSHR)\obj32se.txt \
+		$(WSHR)\obj32alg.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\obj32-t.txt $(WSHR)\objmag.txt \
+		-b $(WSHR)\obj32mi.txt
+	txtmerge $(WSHR)\obj32-t.txt $(WSHR)\obj32-t.txt \
+		-b $(WSHR)\obj32se.txt -bff00ff $(WSHR)\obj32alg.txt
+
+../win/share/oth32-t.txt:	txtmerge.exe $(WSHR)\othmag.txt \
+		$(WSHR)\oth32mi.txt $(WSHR)\oth32se.txt \
+		$(WSHR)\oth32alg.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\oth32-t.txt $(WSHR)\othmag.txt \
+		-b $(WSHR)\oth32mi.txt
+	txtmerge $(WSHR)\oth32-t.txt $(WSHR)\oth32-t.txt \
+		-b $(WSHR)\oth32se.txt -bff00ff $(WSHR)\oth32alg.txt
+
+../win/share/mon3d.txt:	txtmerge.exe $(WSHR)\monbig.txt \
+		$(WSHR)\mon3dmi.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\mon3d.txt $(WSHR)\monbig.txt \
+		-b $(WSHR)\mon3dmi.txt
+
+../win/share/obj3d.txt:	txtmerge.exe $(WSHR)\objbig.txt
+	$(COPY) $(WSHR)\objbig.txt $(WSHR)\obj3d.txt
+
+../win/share/oth3d.txt:	txtmerge.exe $(WSHR)\othbig.txt \
+		$(WSHR)\oth3dmi.txt $(WSHR)\oth-2kmi.txt \
+		$(WSHR)\oth3dse.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\oth3d.txt $(WSHR)\othbig.txt \
+		-b $(WSHR)\oth3dmi.txt
+	txtmerge $(WSHR)\oth3d.txt $(WSHR)\oth3d.txt -b $(WSHR)\oth-2kmi.txt \
+		-b $(WSHR)\oth3dse.txt
+
+pet_mark.xbm: ../win/X11/pet_mark.xbm
+	$(COPY) ..\win\X11\pet_mark.xbm pet_mark.xbm
+
+rip.xpm: ../win/X11/rip.xpm
+	$(COPY) ..\win\X11\rip.xpm rip.xpm
+
+credit.xpm: ../dat/credit.xpm
+	$(COPY) ..\dat\credit.xpm credit.xpm
+
+tiletext.o:  $(CONFIG_H) $(INCL)\tile.h $(WSHR)\tiletext.c
+	$(COPY) $(WSHR)\tiletext.c .
+	$(CCOMPILE) $(CFLAGS) -o$@ tiletext.c
+
+tiletxt.o: $(CONFIG_H)	$(INCL)\tile.h tilemap.c
+	$(CCOMPILE) $(CFLAGS) -DTILETEXT -o$@ tilemap.c
+
+uudecode.o: $(SSHR)\uudecode.c
+	$(CCOMPILE) $(CFLAGS) -c $(SSHR)\uudecode.c
+
+$(UTIL)\uudecode.exe:	uudecode.o
+	$(CCOMPILE) $(LFLAGS) -mconsole -o$@ uudecode.o
+
+#
+#  Other Util Dependencies.
+#
+
+alloc.o: $(CONFIG_H)	 alloc.c
+	$(CCOMPILE) $(CFLAGS) -oalloc.o alloc.c
+
+drawing.o: $(CONFIG_H) drawing.c
+	$(CCOMPILE) $(CFLAGS) -odrawing.o drawing.c
+
+decl.o: $(CONFIG_H) decl.c
+	$(CCOMPILE) $(CFLAGS) -odecl.o decl.c
+
+monst.o: $(CONFIG_H)	     $(PERMONST_H)	$(ESHK_H)	   \
+	$(EPRI_H)	      $(VAULT_H)	 $(INCL)\monsym.h   \
+	$(INCL)\color.h	 monst.c
+	$(CCOMPILE) $(CFLAGS) -omonst.o monst.c
+
+objects.o: $(CONFIG_H)	      $(INCL)\obj.h	 $(INCL)\objclass.h \
+	$(INCL)\prop.h	    $(INCL)\color.h    objects.c
+	$(CCOMPILE) $(CFLAGS) -oobjects.o objects.c
+
+panic.c:  $(UTIL)\panic.c
+	$(COPY) $(UTIL)\panic.c .
+
+panic.o:   $(CONFIG_H)	  panic.c
+
+nhlan.c: $(SSHR)\nhlan.c
+	$(COPY) $(SSHR)\nhlan.c .
+
+nhlan.o: $(HACK_H) $(NHLAN_H) $(SSHR)\nhlan.c
+	$(COPY) $(SSHR)\nhlan.c .
+	$(CCOMPILE) $(CFLAGS) -o$@ nhlan.c
+
+DATABASE = $(DAT)\data.base
+
+dat.tag: $(DAT)\nhshare $(DAT)\nhushare $(CNF_SHARE_DATND)
+	@echo dat done >dat.tag
+
+$(DAT)\data:	 utility.tag	$(DATABASE)
+	-makedefs -d
+
+$(DAT)\rumors:	     utility.tag    $(DAT)\rumors.tru	$(DAT)\rumors.fal
+	-makedefs -r
+
+$(DAT)\quest.dat: utility.tag  $(DAT)\quest.txt
+	-makedefs -q
+
+$(DAT)\oracles:	     utility.tag    $(DAT)\oracles.txt
+	-makedefs -h
+
+sp_lev.tag:     utility.tag         $(DAT)\beholder.des $(DAT)\bigroom.des \
+		$(DAT)\blkmar.des   $(DAT)\castle.des   $(DAT)\grund.des \
+		$(DAT)\dragons.des  $(DAT)\endgame.des  $(DAT)\gehennom.des \
+		$(DAT)\giants.des   $(DAT)\guild.des    $(DAT)\knox.des \
+		$(DAT)\kobold-1.des $(DAT)\kobold-2.des $(DAT)\lich.des \
+		$(DAT)\mall-1.des   $(DAT)\mall-2.des   $(DAT)\medusa.des \
+		$(DAT)\sokoban.des  $(DAT)\mines.des    $(DAT)\mtemple.des \
+		$(DAT)\newmall.des  $(DAT)\nymph.des    $(DAT)\oracle.des \
+		$(DAT)\rats.des     $(DAT)\sea.des      $(DAT)\spiders.des \
+		$(DAT)\stor-1.des   $(DAT)\stor-2.des   $(DAT)\stor-3.des \
+		$(DAT)\tomb.des     $(DAT)\tower.des    $(DAT)\yendor.des \
+		$(DAT)\arch.des     $(DAT)\barb.des 	$(DAT)\caveman.des \
+		$(DAT)\flame.des    $(DAT)\healer.des   $(DAT)\ice.des \
+		$(DAT)\knight.des   $(DAT)\monk.des     $(DAT)\necro.des \
+		$(DAT)\priest.des   $(DAT)\rogue.des    $(DAT)\samurai.des \
+		$(DAT)\tourist.des  $(DAT)\slayer.des   $(DAT)\valkyrie.des \
+		$(DAT)\wizard.des   $(DAT)\yeoman.des   $(DAT)\frnknstn.des \
+		$(DAT)\nightmar.des $(DAT)\ranger.des   $(DAT)\geek.des \
+		$(DAT)\compu.des	$(DAT)\forge.des	$(DAT)\hitch.des \
+		$(DAT)\key.des
+	lev_comp $(DDAT)/beholder.des
+	lev_comp $(DDAT)/bigroom.des
+	lev_comp $(DDAT)/blkmar.des
+	lev_comp $(DDAT)/castle.des
+	lev_comp $(DDAT)/grund.des
+	lev_comp $(DDAT)/dragons.des
+	lev_comp $(DDAT)/endgame.des
+	lev_comp $(DDAT)/gehennom.des
+	lev_comp $(DDAT)/giants.des
+	lev_comp $(DDAT)/guild.des
+	lev_comp $(DDAT)/knox.des
+	lev_comp $(DDAT)/kobold-1.des
+	lev_comp $(DDAT)/kobold-2.des
+	lev_comp $(DDAT)/lich.des
+	lev_comp $(DDAT)/mall-1.des
+	lev_comp $(DDAT)/mall-2.des
+	lev_comp $(DDAT)/medusa.des
+	lev_comp $(DDAT)/sokoban.des
+	lev_comp $(DDAT)/mines.des
+	lev_comp $(DDAT)/mtemple.des
+	lev_comp $(DDAT)/newmall.des
+	lev_comp $(DDAT)/nymph.des
+	lev_comp $(DDAT)/oracle.des
+	lev_comp $(DDAT)/rats.des
+	lev_comp $(DDAT)/sea.des
+	lev_comp $(DDAT)/spiders.des
+	lev_comp $(DDAT)/stor-1.des
+	lev_comp $(DDAT)/stor-2.des
+	lev_comp $(DDAT)/stor-3.des
+	lev_comp $(DDAT)/tomb.des
+	lev_comp $(DDAT)/tower.des
+	lev_comp $(DDAT)/yendor.des
+	lev_comp $(DDAT)/arch.des
+	lev_comp $(DDAT)/barb.des
+	lev_comp $(DDAT)/caveman.des
+	lev_comp $(DDAT)/flame.des
+	lev_comp $(DDAT)/healer.des
+	lev_comp $(DDAT)/ice.des
+	lev_comp $(DDAT)/knight.des
+	lev_comp $(DDAT)/monk.des
+	lev_comp $(DDAT)/necro.des
+	lev_comp $(DDAT)/priest.des
+	lev_comp $(DDAT)/rogue.des
+	lev_comp $(DDAT)/samurai.des
+	lev_comp $(DDAT)/tourist.des
+	lev_comp $(DDAT)/slayer.des
+	lev_comp $(DDAT)/valkyrie.des
+	lev_comp $(DDAT)/wizard.des
+	lev_comp $(DDAT)/yeoman.des
+	lev_comp $(DDAT)/frnknstn.des
+	lev_comp $(DDAT)/nightmar.des
+	lev_comp $(DDAT)/ranger.des
+	lev_comp $(DDAT)/geek.des
+	lev_comp $(DDAT)/compu.des
+	lev_comp $(DDAT)/forge.des
+	lev_comp $(DDAT)/hitch.des
+	lev_comp $(DDAT)/key.des
+	$(COPY) *.lev $(DAT)
+	$(ECHO) sp_levs done > sp_lev.tag
+	
+$(DAT)\dungeon:	  utility.tag  $(DAT)\dungeon.def
+	-makedefs -e
+	dgn_comp $(DAT)\dungeon.pdf
+#
+# DLB stuff
+#
+$(DAT)\nhshare:	dlb_main.exe $(DAT)\data $(DAT)\rumors $(DAT)\dungeon \
+		$(DAT)\oracles $(DAT)\quest.dat sp_lev.tag
+	$(ECHO) data >$(DAT)\dlb.lst
+	$(ECHO) oracles >>$(DAT)\dlb.lst
+ifeq ($(USE_GUI),Y)
+	$(ECHO) guioptions >>$(DAT)\dlb.lst
+else
+	$(ECHO) ttyoptions >>$(DAT)\dlb.lst
+endif
+	$(ECHO) rumors >>$(DAT)\dlb.lst
+	$(ECHO) help >>$(DAT)\dlb.lst
+	$(ECHO) hh >>$(DAT)\dlb.lst
+	$(ECHO) cmdhelp >>$(DAT)\dlb.lst
+	$(ECHO) history >>$(DAT)\dlb.lst
+	$(ECHO) opthelp >>$(DAT)\dlb.lst
+	$(ECHO) wizhelp >>$(DAT)\dlb.lst
+	$(ECHO) gypsy.txt >>$(DAT)\dlb.lst
+	$(ECHO) license >>$(DAT)\dlb.lst
+	dlb_main cvCIf $(DAT) dlb.lst nhshare
+
+$(DAT)\nhushare:	dlb_main.exe $(DAT)\dungeon $(DAT)\quest.dat sp_lev.tag
+	$(ECHO) dungeon > $(DAT)\dlb2.lst
+	$(ECHO) quest.dat >>$(DAT)\dlb2.lst
+	$(LS) $(DAT)\*.lev >>$(DAT)\dlb2.lst
+	dlb_main cvCIf $(DAT) dlb2.lst nhushare
+
+
+dlb_main.exe: $(DLBOBJS)
+	$(LINK) $(LFLAGS) -mconsole -odlb_main.exe $(DLBOBJS)
+	$(COPY) $@ $(DAT)\dlb_main.exe
+
+
+dlb_main.o: $(UTIL)\dlb_main.c $(INCL)\config.h $(DLB_H)
+	$(COPY) $(UTIL)\dlb_main.c .
+	$(CCOMPILE) $(CFLAGS) -odlb_main.o dlb_main.c
+
+#
+# NT dependencies
+#
+
+nttty.o: $(HACK_H) $(TILE_H) $(INCL)/win32api.h $(NTSYS)/nttty.c
+	$(CCOMPILE) $(CFLAGS) -o$@ $(NTSYS)/nttty.c
+winnt.o: $(HACK_H) $(INCL)/win32api.h $(NTSYS)/winnt.c
+	$(CCOMPILE) $(CFLAGS) -o$@ $(NTSYS)/winnt.c
+ntsound.o: $(HACK_H) $(NTSYS)/ntsound.c
+	$(CCOMPILE) $(CFLAGS) -o$@ $(NTSYS)/ntsound.c
+mapimail.o: $(HACK_H) $(INCL)/nhlan.h $(NTSYS)/mapimail.c
+	$(CCOMPILE) $(CFLAGS) -DMAPI_VERBOSE -o$@ $(NTSYS)/mapimail.c
+
+#
+# win/win32
+#
+
+mswproc.o: $(WIN32)/mswproc.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mswproc.c
+winhack.o: $(WIN32)/winhack.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/winhack.c
+mhdlg.o: $(WIN32)/mhdlg.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhdlg.c
+mhaskyn.o: $(WIN32)/mhaskyn.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhaskyn.c
+mhfont.o: $(WIN32)/mhfont.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhfont.c
+mhinput.o: $(WIN32)/mhinput.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhinput.c
+mhmain.o: $(WIN32)/mhmain.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhmain.c
+mhmsgwnd.o: $(WIN32)/mhmsgwnd.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhmsgwnd.c
+mhsplash.o: $(WIN32)/mhsplash.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhsplash.c
+mhstatus.o: $(WIN32)/mhstatus.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhstatus.c
+mhtext.o: $(WIN32)/mhtext.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhtext.c
+mhmenu.o: $(WIN32)/mhmenu.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhmenu.c
+mhmap.o: $(WIN32)/mhmap.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhmap.c
+mhrip.o: $(WIN32)/mhrip.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhrip.c
+
+# The rest are stolen from sys/unix/Makefile.src,
+# with the following changes:
+#   * ../include changed to $(INCL)
+#   * -c (which is included in CFLAGS) substituted
+#       with -o$@
+#   * $(CC) changed to $(CCOMPILE)
+#   * Dependencies on win32api.h revealed
+# but otherwise untouched.
+# That means that there is some irrelevant stuff
+# in here, but maintenance should be easier.
+#
+tos.o: ../sys/atari/tos.c $(HACK_H) $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/atari/tos.c
+pcmain.o: ../sys/share/pcmain.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/win32api.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/pcmain.c
+pcsys.o: ../sys/share/pcsys.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/pcsys.c
+pctty.o: ../sys/share/pctty.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/pctty.c
+pcunix.o: ../sys/share/pcunix.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/pcunix.c
+random.o: ../sys/share/random.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/random.c
+ioctl.o: ../sys/share/ioctl.c $(HACK_H) $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/ioctl.c
+unixtty.o: ../sys/share/unixtty.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/unixtty.c
+unixmain.o: ../sys/unix/unixmain.c $(HACK_H) $(INCL)/dlb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/unix/unixmain.c
+unixunix.o: ../sys/unix/unixunix.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/unix/unixunix.c
+unixres.o: ../sys/unix/unixres.c $(CONFIG_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/unix/unixres.c
+bemain.o: ../sys/be/bemain.c $(HACK_H) $(INCL)/dlb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/be/bemain.c
+getline.o: ../win/tty/getline.c $(HACK_H) $(INCL)/func_tab.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/tty/getline.c
+termcap.o: ../win/tty/termcap.c $(HACK_H) $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/tty/termcap.c
+topl.o: ../win/tty/topl.c $(HACK_H) $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/tty/topl.c
+wintty.o: ../win/tty/wintty.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/tty/wintty.c
+Window.o: ../win/X11/Window.c $(INCL)/xwindowp.h $(INCL)/xwindow.h \
+		$(CONFIG_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/Window.c
+dialogs.o: ../win/X11/dialogs.c $(CONFIG_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/dialogs.c
+winX.o: ../win/X11/winX.c $(HACK_H) $(INCL)/winX.h $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h ../win/X11/nh72icon \
+		../win/X11/nh56icon ../win/X11/nh32icon
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winX.c
+winmap.o: ../win/X11/winmap.c $(INCL)/xwindow.h $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/winX.h $(INCL)/patchlevel.h $(INCL)/tile2x11.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winmap.c
+winmenu.o: ../win/X11/winmenu.c $(HACK_H) $(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winmenu.c
+winmesg.o: ../win/X11/winmesg.c $(INCL)/xwindow.h $(HACK_H) $(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winmesg.c
+winmisc.o: ../win/X11/winmisc.c $(HACK_H) $(INCL)/func_tab.h \
+		$(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winmisc.c
+winstat.o: ../win/X11/winstat.c $(HACK_H) $(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winstat.c
+wintext.o: ../win/X11/wintext.c $(HACK_H) $(INCL)/winX.h $(INCL)/xwindow.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/wintext.c
+winval.o: ../win/X11/winval.c $(HACK_H) $(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winval.c
+gtk.o: ../win/gtk/gtk.c $(INCL)/md5.h $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/func_tab.h \
+		$(INCL)/dlb.h $(INCL)/patchlevel.h $(INCL)/proxycb.h \
+		$(INCL)/prxyclnt.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtk.c
+gtkgetlin.o: ../win/gtk/gtkgetlin.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkgetlin.c
+gtkstatus.o: ../win/gtk/gtkstatus.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkstatus.c
+gtkmenu.o: ../win/gtk/gtkmenu.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/patchlevel.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkmenu.c
+gtkyn.o: ../win/gtk/gtkyn.c $(INCL)/winGTK.h $(HACK_H) $(INCL)/nhxdr.h \
+		$(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkyn.c
+gtkextcmd.o: ../win/gtk/gtkextcmd.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/proxycb.h \
+		$(INCL)/func_tab.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkextcmd.c
+gtkmap.o: ../win/gtk/gtkmap.c $(INCL)/winGTK.h $(HACK_H) $(INCL)/nhxdr.h \
+		$(INCL)/proxycom.h $(INCL)/dlb.h $(INCL)/patchlevel.h \
+		$(INCL)/proxycb.h $(INCL)/prxyclnt.h \
+		../win/gtk/gtkprogress.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkmap.c
+gtkmessage.o: ../win/gtk/gtkmessage.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkmessage.c
+gtkmisc.o: ../win/gtk/gtkmisc.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/proxycb.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkmisc.c
+gtktile.o: ../win/gtk/gtktile.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/dlb.h \
+		$(INCL)/proxycb.h $(INCL)/prxyclnt.h \
+		../win/gtk/gtkprogress.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtktile.c
+xshmmap.o: ../win/gtk/xshmmap.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/xshmmap.c
+gtkhackrc.o: ../win/gtk/gtkhackrc.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/prxyclnt.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkhackrc.c
+gtkprefs.o: ../win/gtk/gtkprefs.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkprefs.c
+gtkprogress.o: ../win/gtk/gtkprogress.c $(INCL)/winGTK.h $(HACK_H) \
+                $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		../win/gtk/gtkprogress.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkprogress.c
+gtkext.o: ../win/gtk/gtkext.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/prxyclnt.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkext.c
+gtkint.o: ../win/gtk/gtkint.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/func_tab.h $(INCL)/dlb.h $(INCL)/patchlevel.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkint.c
+gnaskstr.o: ../win/gnome/gnaskstr.c ../win/gnome/gnaskstr.h \
+		../win/gnome/gnmain.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnaskstr.c
+gnbind.o: ../win/gnome/gnbind.c ../win/gnome/gnbind.h ../win/gnome/gnmain.h \
+		../win/gnome/gnaskstr.h ../win/gnome/gnyesno.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnbind.c
+gnglyph.o: ../win/gnome/gnglyph.c ../win/gnome/gnglyph.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnglyph.c
+gnmain.o: ../win/gnome/gnmain.c ../win/gnome/gnmain.h ../win/gnome/gnsignal.h \
+		../win/gnome/gnbind.h ../win/gnome/gnopts.h $(HACK_H) \
+		$(INCL)/date.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnmain.c
+gnmap.o: ../win/gnome/gnmap.c ../win/gnome/gnmap.h ../win/gnome/gnglyph.h \
+		../win/gnome/gnsignal.h $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnmap.c
+gnmenu.o: ../win/gnome/gnmenu.c ../win/gnome/gnmenu.h ../win/gnome/gnmain.h \
+		../win/gnome/gnbind.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnmenu.c
+gnmesg.o: ../win/gnome/gnmesg.c ../win/gnome/gnmesg.h ../win/gnome/gnsignal.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnmesg.c
+gnopts.o: ../win/gnome/gnopts.c ../win/gnome/gnopts.h ../win/gnome/gnglyph.h \
+		../win/gnome/gnmain.h ../win/gnome/gnmap.h $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnopts.c
+gnplayer.o: ../win/gnome/gnplayer.c ../win/gnome/gnplayer.h \
+		../win/gnome/gnmain.h $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnplayer.c
+gnsignal.o: ../win/gnome/gnsignal.c ../win/gnome/gnsignal.h \
+		../win/gnome/gnmain.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnsignal.c
+gnstatus.o: ../win/gnome/gnstatus.c ../win/gnome/gnstatus.h \
+		../win/gnome/gnsignal.h ../win/gnome/gn_xpms.h \
+		../win/gnome/gnomeprv.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnstatus.c
+gntext.o: ../win/gnome/gntext.c ../win/gnome/gntext.h ../win/gnome/gnmain.h \
+		../win/gnome/gn_rip.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gntext.c
+gnyesno.o: ../win/gnome/gnyesno.c ../win/gnome/gnbind.h ../win/gnome/gnyesno.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnyesno.c
+gnworn.o: ../win/gnome/gnworn.c ../win/gnome/gnworn.h ../win/gnome/gnglyph.h \
+		../win/gnome/gnsignal.h ../win/gnome/gnomeprv.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnworn.c
+wingem.o: ../win/gem/wingem.c $(HACK_H) $(INCL)/func_tab.h $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/wingem.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/gem/wingem.c
+wingem1.o: ../win/gem/wingem1.c $(INCL)/gem_rsc.h $(INCL)/load_img.h \
+		$(INCL)/gr_rect.h $(INCL)/wintype.h $(INCL)/wingem.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/gem/wingem1.c
+load_img.o: ../win/gem/load_img.c $(INCL)/load_img.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/gem/load_img.c
+gr_rect.o: ../win/gem/gr_rect.c $(INCL)/gr_rect.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/gem/gr_rect.c
+winproxy.o: ../win/proxy/winproxy.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/date.h $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/winproxy.h $(INCL)/win32api.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/winproxy.c
+callback.o: ../win/proxy/callback.c $(HACK_H) $(INCL)/func_tab.h \
+		$(INCL)/md5.h $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/winproxy.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/callback.c
+md5.o: ../win/proxy/md5.c $(INCL)/md5.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/md5.c
+dlbh.o: ../win/proxy/dlbh.c $(HACK_H) $(INCL)/dlb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/dlbh.c
+mapid.o: ../win/proxy/mapid.c $(HACK_H) $(INCL)/nhxdr.h $(INCL)/winproxy.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/mapid.c
+riputil.o: ../win/proxy/riputil.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/riputil.c
+getopt.o: ../win/proxy/getopt.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/getopt.c
+glyphmap.o: ../win/proxy/glyphmap.c $(HACK_H) $(INCL)/nhxdr.h \
+		$(INCL)/proxycom.h $(INCL)/winproxy.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/glyphmap.c
+proxysvc.o: ../win/proxy/proxysvc.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/proxycb.h $(INCL)/prxyclnt.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/proxysvc.c
+proxycb.o: ../win/proxy/proxycb.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/proxycb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/proxycb.c
+prxymap.o: ../win/proxy/prxymap.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/prxymap.c
+prxychar.o: ../win/proxy/prxychar.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/prxychar.c
+prxytile.o: ../win/proxy/prxytile.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h $(INCL)/proxycb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/prxytile.c
+prxyconn.o: ../win/proxy/prxyconn.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/prxyconn.c
+nhext.o: ../win/proxy/nhext.c $(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhext.c
+nhxdr.o: ../win/proxy/nhxdr.c $(INCL)/nhxdr.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhxdr.c
+nhextxdr.o: ../win/proxy/nhextxdr.c $(INCL)/nhxdr.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhextxdr.c
+nhextio.o: ../win/proxy/nhextio.c $(INCL)/nhxdr.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhextio.c
+nhextnb.o: ../win/proxy/nhextnb.c $(INCL)/nhxdr.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhextnb.c
+compxdr.o: ../win/proxy/compxdr.c $(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/compxdr.c
+gl_conf.o: ../win/gl/gl_conf.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_conf.c
+gl_emul.o: ../win/gl/gl_emul.c $(HACK_H) $(INCL)/winGL.h \
+		$(INCL)/func_tab.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_emul.c
+gl_font.o: ../win/gl/gl_font.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_font.c
+gl_hardw.o: ../win/gl/gl_hardw.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_hardw.c
+gl_image.o: ../win/gl/gl_image.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_image.c
+gl_main.o: ../win/gl/gl_main.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_main.c
+gl_map.o: ../win/gl/gl_map.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_map.c
+gl_menu.o: ../win/gl/gl_menu.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_menu.c
+gl_opt.o: ../win/gl/gl_opt.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/date.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_opt.c
+gl_role.o: ../win/gl/gl_role.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_role.c
+gl_rendu.o: ../win/gl/gl_rendu.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_rendu.c
+gl_softw.o: ../win/gl/gl_softw.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_softw.c
+gl_stat.o: ../win/gl/gl_stat.c $(HACK_H) $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_stat.c
+gl_text.o: ../win/gl/gl_text.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_text.c
+gl_tile.o: ../win/gl/gl_tile.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_tile.c
+gl_unit.o: ../win/gl/gl_unit.c $(HACK_H) $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_unit.c
+gl_win.o: ../win/gl/gl_win.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_win.c
+tile.o: tile.c $(HACK_H)
+qt_win.o: ../win/Qt/qt_win.cpp $(HACK_H) $(INCL)/func_tab.h \
+		$(INCL)/dlb.h $(INCL)/date.h $(INCL)/patchlevel.h \
+		$(INCL)/tile2x11.h $(INCL)/qt_win.h \
+		$(INCL)/qt_clust.h $(INCL)/qt_kde0.h \
+		$(INCL)/qt_xpms.h qt_win.moc qt_kde0.moc qttableview.moc
+	$(CXX) $(CXXFLAGS) -o$@ ../win/Qt/qt_win.cpp
+qt_clust.o: ../win/Qt/qt_clust.cpp $(INCL)/qt_clust.h
+	$(CXX) $(CXXFLAGS) -o$@ ../win/Qt/qt_clust.cpp
+qttableview.o: ../win/Qt/qttableview.cpp $(INCL)/qttableview.h
+	$(CXX) $(CXXFLAGS) -o$@ ../win/Qt/qttableview.cpp
+monstr.o: monstr.c $(CONFIG_H)
+vis_tab.o: vis_tab.c $(CONFIG_H) $(INCL)/vis_tab.h
+allmain.o: allmain.c $(HACK_H) $(INCL)/patchlevel.h
+alloc.o: alloc.c $(CONFIG_H)
+apply.o: apply.c $(HACK_H) $(INCL)/edog.h
+artifact.o: artifact.c $(HACK_H) $(INCL)/artifact.h $(INCL)/artilist.h
+attrib.o: attrib.c $(HACK_H)
+ball.o: ball.c $(HACK_H)
+bones.o: bones.c $(HACK_H) $(INCL)/lev.h
+botl.o: botl.c $(HACK_H)
+cmd.o: cmd.c $(HACK_H) $(INCL)/func_tab.h
+dbridge.o: dbridge.c $(HACK_H)
+decl.o: decl.c $(HACK_H)
+detect.o: detect.c $(HACK_H) $(INCL)/artifact.h
+dig.o: dig.c $(HACK_H) $(INCL)/edog.h
+display.o: display.c $(HACK_H)
+dlb.o: dlb.c $(CONFIG_H) $(INCL)/dlb.h
+do.o: do.c $(HACK_H) $(INCL)/lev.h
+do_name.o: do_name.c $(HACK_H)
+do_wear.o: do_wear.c $(HACK_H)
+dog.o: dog.c $(HACK_H) $(INCL)/edog.h $(INCL)/emin.h $(INCL)/epri.h
+dogmove.o: dogmove.c $(HACK_H) $(INCL)/mfndpos.h $(INCL)/edog.h \
+		$(INCL)/emin.h $(INCL)/epri.h
+dokick.o: dokick.c $(HACK_H) $(INCL)/eshk.h
+dothrow.o: dothrow.c $(HACK_H) $(INCL)/eshk.h
+drawing.o: drawing.c $(HACK_H) $(INCL)/tcap.h
+dungeon.o: dungeon.c $(HACK_H) $(INCL)/dgn_file.h $(INCL)/dlb.h
+eat.o: eat.c $(HACK_H)
+end.o: end.c $(HACK_H) $(INCL)/eshk.h $(INCL)/dlb.h
+engrave.o: engrave.c $(HACK_H) $(INCL)/lev.h
+exper.o: exper.c $(HACK_H)
+explode.o: explode.c $(HACK_H)
+extralev.o: extralev.c $(HACK_H)
+files.o: files.c $(HACK_H) $(INCL)/dlb.h $(INCL)/filename.h \
+		$(INCL)/winGL.h $(INCL)/winproxy.h
+fountain.o: fountain.c $(HACK_H)
+hack.o: hack.c $(HACK_H)
+hacklib.o: hacklib.c $(HACK_H)
+invent.o: invent.c $(HACK_H)
+light.o: light.c $(HACK_H) $(INCL)/lev.h
+lock.o: lock.c $(HACK_H)
+mail.o: mail.c $(HACK_H) $(INCL)/mail.h
+makemon.o: makemon.c $(HACK_H) $(INCL)/epri.h $(INCL)/emin.h \
+		$(INCL)/edog.h
+mapglyph.o: mapglyph.c $(HACK_H)
+mcastu.o: mcastu.c $(HACK_H)
+mhitm.o: mhitm.c $(HACK_H) $(INCL)/artifact.h $(INCL)/edog.h
+mhitu.o: mhitu.c $(HACK_H) $(INCL)/artifact.h $(INCL)/edog.h
+minion.o: minion.c $(HACK_H) $(INCL)/emin.h $(INCL)/epri.h
+mklev.o: mklev.c $(HACK_H)
+mkmap.o: mkmap.c $(HACK_H) $(INCL)/sp_lev.h
+mkmaze.o: mkmaze.c $(HACK_H) $(INCL)/sp_lev.h $(INCL)/lev.h
+mkobj.o: mkobj.c $(HACK_H)
+mkroom.o: mkroom.c $(HACK_H)
+mon.o: mon.c $(HACK_H) $(INCL)/mfndpos.h $(INCL)/edog.h \
+		$(INCL)/artifact.h
+mondata.o: mondata.c $(HACK_H) $(INCL)/eshk.h $(INCL)/epri.h
+monmove.o: monmove.c $(HACK_H) $(INCL)/mfndpos.h $(INCL)/artifact.h \
+		$(INCL)/epri.h
+monst.o: monst.c $(CONFIG_H) $(INCL)/permonst.h $(INCL)/align.h \
+		$(INCL)/monattk.h $(INCL)/monflag.h $(INCL)/monsym.h \
+		$(INCL)/dungeon.h $(INCL)/eshk.h $(INCL)/vault.h \
+		$(INCL)/epri.h $(INCL)/egyp.h $(INCL)/color.h
+mplayer.o: mplayer.c $(HACK_H)
+mthrowu.o: mthrowu.c $(HACK_H)
+muse.o: muse.c $(HACK_H) $(INCL)/edog.h
+music.o: music.c $(HACK_H) #interp.c
+o_init.o: o_init.c $(HACK_H) $(INCL)/lev.h
+objects.o: objects.c $(CONFIG_H) $(INCL)/obj.h $(INCL)/objclass.h \
+		$(INCL)/prop.h $(INCL)/skills.h $(INCL)/color.h
+objnam.o: objnam.c $(HACK_H)
+options.o: options.c $(CONFIG_H) $(INCL)/objclass.h $(INCL)/flag.h \
+		$(HACK_H) $(INCL)/tcap.h $(INCL)/winGL.h \
+		$(INCL)/filename.h
+pager.o: pager.c $(HACK_H) $(INCL)/dlb.h
+pickup.o: pickup.c $(HACK_H)
+pline.o: pline.c $(HACK_H) $(INCL)/epri.h $(INCL)/edog.h
+polyself.o: polyself.c $(HACK_H)
+potion.o: potion.c $(HACK_H)
+pray.o: pray.c $(HACK_H) $(INCL)/epri.h
+priest.o: priest.c $(HACK_H) $(INCL)/mfndpos.h $(INCL)/eshk.h \
+		$(INCL)/epri.h $(INCL)/emin.h
+quest.o: quest.c $(HACK_H) $(INCL)/qtext.h
+questpgr.o: questpgr.c $(HACK_H) $(INCL)/dlb.h $(INCL)/qtext.h
+read.o: read.c $(HACK_H)
+rect.o: rect.c $(HACK_H)
+region.o: region.c $(HACK_H) $(INCL)/lev.h
+restore.o: restore.c $(HACK_H) $(INCL)/lev.h $(INCL)/tcap.h
+rip.o: rip.c $(HACK_H)
+rnd.o: rnd.c $(HACK_H)
+role.o: role.c $(HACK_H)
+rumors.o: rumors.c $(HACK_H) $(INCL)/lev.h $(INCL)/dlb.h
+save.o: save.c $(HACK_H) $(INCL)/lev.h
+shk.o: shk.c $(HACK_H) $(INCL)/eshk.h
+shknam.o: shknam.c $(HACK_H) $(INCL)/eshk.h
+sit.o: sit.c $(HACK_H) $(INCL)/artifact.h
+sounds.o: sounds.c $(HACK_H) $(INCL)/edog.h
+sp_lev.o: sp_lev.c $(HACK_H) $(INCL)/dlb.h $(INCL)/sp_lev.h
+spell.o: spell.c $(HACK_H) $(INCL)/edog.h
+steal.o: steal.c $(HACK_H)
+steed.o: steed.c $(HACK_H)
+teleport.o: teleport.c $(HACK_H)
+timeout.o: timeout.c $(HACK_H) $(INCL)/lev.h
+topten.o: topten.c $(HACK_H) $(INCL)/dlb.h $(INCL)/patchlevel.h
+track.o: track.c $(HACK_H)
+trap.o: trap.c $(HACK_H)
+u_init.o: u_init.c $(HACK_H)
+uhitm.o: uhitm.c $(HACK_H)
+vault.o: vault.c $(HACK_H) $(INCL)/vault.h
+version.o: version.c $(HACK_H) $(INCL)/date.h $(INCL)/patchlevel.h
+vision.o: vision.c $(HACK_H) $(INCL)/vis_tab.h
+weapon.o: weapon.c $(HACK_H)
+were.o: were.c $(HACK_H)
+wield.o: wield.c $(HACK_H)
+windows.o: windows.c $(HACK_H) $(INCL)/wingem.h $(INCL)/winGnome.h \
+		$(INCL)/winGL.h $(INCL)/winproxy.h
+wizard.o: wizard.c $(HACK_H) $(INCL)/qtext.h $(INCL)/epri.h
+worm.o: worm.c $(HACK_H) $(INCL)/lev.h
+worn.o: worn.c $(HACK_H)
+write.o: write.c $(HACK_H)
+zap.o: zap.c $(HACK_H)
+gypsy.o: gypsy.c $(HACK_H) $(INCL)/egyp.h $(INCL)/qtext.h
+tech.o: tech.c $(HACK_H)
+
+# end of file
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\Makefile.bcc SlashTNG-master\src\Makefile.bcc
--- slashem-0.0.7E7F3\src\Makefile.bcc	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\Makefile.bcc	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,1378 @@
+#   SCCS Id: @(#)Makefile.bcc       3.4     $Date: 2003/12/11 09:49:08 $
+#   Copyright (c) NetHack PC Development Team 1993-2003
+#
+#
+# IMPORTANT NOTE: This Makefile has not been tested for 3.4.3.
+#
+#
+#   NetHack 3.4.x Makefile for Borland C++ V5.5.1 and above and Borland's MAKE
+#  
+#   Win32 Compilers Tested:
+#                              - Borland C++ 5.5.1 for Win32
+#
+#   If you don't have this compiler, you can get it at:
+#       http://www.borland.com/bcppbuilder/freecompiler/
+#
+#   This makefile is set up to assume the directories are extracted at the
+#   root, but this can be changed by modifying the bccroot and related
+#   variables.
+#
+#   This is used for building two versions of NetHack:
+#   A tty port utilizing the Win32 Console I/O subsystem, Console
+#       NetHack;
+#   A Win32 native port built on the Windows API, Graphical NetHack or
+#       NetHackW.
+#
+#   In addition to your C compiler,
+#
+#     if you want to change     you will need a
+#     files with suffix         workalike for
+#              .y                   yacc   (such as bison)
+#              .l                   lex    (such as flex)
+#
+#
+#   If you have any questions read the sys/winnt/Install.nt file included 
+#   with the distribution.
+#
+#   --
+#   Yitzhak Sapir
+#==============================================================================
+# Do not delete the following 3 lines.
+#
+TARGETOS=BOTH
+APPVER=4.0
+
+bccbin = $(MAKEDIR)
+bccroot = $(MAKEDIR)\..
+bccinc = $(bccroot)\include
+bcclib = $(bccroot)\lib
+
+!IFNDEF APPVER
+APPVER = 4.0
+!ENDIF
+
+# Graphical interface
+# Set to Y for a graphical version
+# Set to anything else (or undefine) for a tty version
+
+#GRAPHICAL = Y
+
+# Debug
+# Set to Y for Debug support (to produce full map files, listing files, and debug information)
+# Set to anything else (or undefine) for a "release" version
+
+DEBUG = Y
+
+!IF "$(APPVER)" == "4.0"
+MAKE_WINVER = 0x0400
+!ELSEIF "$(APPVER)" == "5.0"
+MAKE_WINVER = 0x0500
+!ENDIF
+
+cc     = $(bccbin)\bcc32
+rc     = $(bccbin)\brc32
+link   = $(bccbin)\ilink32
+implib = $(bccbin)\tlib
+
+cflags = -c -D_X86_=1 -DWINVER=$(MAKE_WINVER) -q -I$(bccinc) -w-pia -w-rch -w-csu -w-par -w-aus
+cdebug = -y -v -O2
+cvarsmt  = -DWIN32 -D_WIN32 -D_MT 
+lflags  = 
+!IF "$(DEBUG)" == "Y"
+linkdebug = /v /m /s 
+cdebug = -v -y -Q
+!ELSE
+linkdebug = /C /Gn
+cdebug =
+!ENDIF
+startobj = $(bcclib)\c0x32.obj
+!IF "$(GRAPHICAL)" == "Y"
+verlflags = /Gn /Gz /q -L$(bcclib) /c  /Tpe /V$(APPVER)
+startobjg = $(bcclib)\c0w32.obj
+!ELSE
+verlflags = /Gn /Gz /q -L$(bcclib) /c  /ap /Tpe /V$(APPVER)
+startobjg = $(startobj)
+!ENDIF
+libsmt  = $(bcclib)\cw32mt.lib $(bcclib)\import32.lib 
+
+#
+#  Set the gamedir according to your preference.  
+#  It must be present prior to compilation.
+
+!IF "$(GRAPHICAL)" == "Y"
+GAME    = NetHackW                # Game Name
+!ELSE
+GAME    = NetHack                 # Game Name
+!ENDIF
+GAMEDIR = ..\binary               # Game directory
+
+#
+#  Source directories.    Makedefs hardcodes these, don't change them.
+#
+
+INCL  = ..\include   # NetHack include files
+DAT   = ..\dat       # NetHack data files
+DOC   = ..\doc       # NetHack documentation files
+UTIL  = ..\util      # Utility source
+SRC   = ..\src       # Main source
+SSYS  = ..\sys\share # Shared system files
+NTSYS = ..\sys\winnt # NT Win32 specific files
+TTY   = ..\win\tty   # window port files (tty)
+WIN32 = ..\win\win32 # window port files (Win32)
+WSHR  = ..\win\share # Tile support files 
+
+#
+#  Object directory.
+#
+
+OBJ     = o
+
+
+#
+#==========================================
+# Exe File Info.
+#==========================================
+ 
+# Yacc/Lex ... if you got 'em.
+#
+# If you have yacc and lex programs (or work-alike such as bison 
+# and flex), uncomment the upper two macros.
+#
+
+#DO_YACC  = YACC_ACT
+#DO_LEX   = LEX_ACT
+
+!IFNDEF DO_YACC
+DO_YACC = YACC_MSG
+!ENDIF
+!IFNDEF DO_LEX
+DO_LEX  = LEX_MSG
+!ENDIF
+
+# Wilbur Streett's Win32 ports of GNU bison and flex are available at:
+#    http://www.monmouth.com/~wstreett/lex-yacc/lex-yacc.html
+#
+# To use them, download the executables and templates (bison.simple,
+# bison.hairy) to some directory, and set the environment variables
+# BISON_SIMPLE and BISON_HAIRY, and your path to point to this
+# directory.
+#
+# For example, if you placed them in C:\BIN, you should set:
+#   C:> SET BISON_SIMPLE=C:\BIN\BISON.SIMPLE
+#   C:> SET BISON_HAIRY=C:\BIN\BISON.HAIRY
+#
+# Also, make sure your path points to the bison/flex directories.
+#
+# The following settings are configured for Wilbur Streett's ports.
+
+# - Specify your yacc and lex programs (or work-alikes) here.
+
+YACC	= bison -y
+#YACC   = byacc
+#YACC	= yacc
+
+#LEX	= lex
+LEX	= flex
+
+#
+# - Specify your flex skeleton file (if needed).
+#
+
+FLEXSKEL =
+#FLEXSKEL = -S../tools/flex.ske
+
+#YTABC   = y.tab.c
+#YTABH   = y.tab.h
+YTABC   = y_tab.c
+YTABH   = y_tab.h
+LEXYYC  = lex.yy.c
+
+#
+# Optional high-quality BSD random number generation routines
+# (see pcconf.h). Set to nothing if not used.
+#
+
+RANDOM	= $(OBJ)\random.o
+#RANDOM	=
+
+#
+# Compiler and Linker flags
+#
+
+PRECOMPHEAD = N			# set to Y if you want to use precomp. headers
+
+#===============================================
+#======= End of Modification Section ===========
+#===============================================
+################################################
+#                                              #
+# Nothing below here should have to be changed.#
+#                                              #
+################################################
+
+!IF "$(GRAPHICAL)" == "Y"
+WINPORT	= $(O)tile.o $(O)mhaskyn.o $(O)mhdlg.o \
+	$(O)mhfont.o $(O)mhinput.o $(O)mhmain.o $(O)mhmap.o \
+	$(O)mhmenu.o $(O)mhmsgwnd.o $(O)mhrip.o $(O)mhsplash.o \
+	$(O)mhstatus.o $(O)mhtext.o $(O)mswproc.o $(O)winhack.o
+WINPHDR	= $(WIN32)\mhaskyn.h $(WIN32)\mhdlg.h $(WIN32)\mhfont.h \
+	$(WIN32)\mhinput.h $(WIN32)\mhmain.h $(WIN32)\mhmap.h $(WIN32)\mhmenu.h \
+	$(WIN32)\mhmsg.h $(WIN32)\mhmsgwnd.h $(WIN32)\mhrip.h $(WIN32)\mhstatus.h \
+	$(WIN32)\mhtext.h $(WIN32)\resource.h $(WIN32)\winMS.h
+WINDLLS	=
+WINPFLAG= -DTILES -DMSWIN_GRAPHICS
+NHRES	= $(O)winhack.res
+WINPINC	= -I$(WIN32)
+!ELSE
+WINPORT	= $(O)nttty.o    
+WINPHDR	=
+WINDLLS	= $(GAMEDIR)\nhdefkey.dll $(GAMEDIR)\nh340key.dll $(GAMEDIR)\nhraykey.dll
+WINPFLAG= -DWIN32CON
+NHRES	= $(O)console.res
+WINPINC	=
+!ENDIF
+
+TILEUTIL16  = $(UTIL)\tile2bmp.exe
+TILEBMP16   = $(SRC)\tiles.bmp
+
+TILEUTIL32  = $(UTIL)\til2bm32.exe
+TILEBMP32   = $(SRC)\tiles32.bmp
+
+SOUND = $(OBJ)\ntsound.o
+#SOUND =
+
+# To store all the level files,
+# help files, etc. in a single library file.
+# USE_DLB = Y is left uncommented
+
+USE_DLB = Y
+
+! IF ("$(USE_DLB)"=="Y")
+DLBFLG = -DDLB
+! ELSE
+DLBFLG =
+! ENDIF
+
+
+#==========================================
+# Setting up the compiler and linker
+# macros. All builds include the base ones.
+#==========================================
+
+CFLAGSBASE  = -c $(cflags) $(cvarsmt) -I$(INCL) $(WINPINC) -q $(cdebug) -v
+LFLAGSBASE  = $(linkdebug) $(verlflags) -L$(bcclib) -v
+
+#==========================================
+# Util builds
+#==========================================
+
+CFLAGSU = $(CFLAGSBASE) $(WINPFLAG)
+LFLAGSU	= $(LFLAGSBASE)
+
+#==========================================
+# - Game build
+#==========================================
+
+LFLAGSBASE = $(linkdebug) $(conflags) 
+CFLAGS	 = $(CFLAGSBASE) $(WINPFLAG) $(DLBFLG)
+NHLFLAGS1 = /Gn /v /m /s /Gz /q /c
+lflags	= $(LFLAGSBASE) $(NHLFLAGS1)
+
+GAMEFILE = $(FDIR)\$(GAME).exe # whole thing
+
+! IF ("$(USE_DLB)"=="Y")
+DLB = nhdat
+! ELSE
+DLB =
+! ENDIF
+
+#==========================================
+#================ RULES ==================
+#==========================================
+
+.SUFFIXES: .exe .o .til .uu .c .y .l
+
+#==========================================
+# Rules for files in src
+#==========================================
+
+.c{$(OBJ)}.o:
+	@$(cc) $(CFLAGS)  -o$@ $<
+
+{$(SRC)}.c{$(OBJ)}.o:
+	@$(cc) $(CFLAGS)   -o$@  $<
+
+#==========================================
+# Rules for files in sys\share
+#==========================================
+
+{$(SSYS)}.c{$(OBJ)}.o:
+	@$(cc) $(CFLAGS)  -o$@  $<
+
+#==========================================
+# Rules for files in sys\winnt
+#==========================================
+
+{$(NTSYS)}.c{$(OBJ)}.o:
+	@$(cc) $(CFLAGS)  -o$@  $<
+
+{$(NTSYS)}.h{$(INCL)}.h:
+	@copy $< $@
+
+#==========================================
+# Rules for files in util
+#==========================================
+
+{$(UTIL)}.c{$(OBJ)}.o:
+	@$(cc) $(CFLAGSU) -o$@ $<
+
+#==========================================
+# Rules for files in win\share
+#==========================================
+
+{$(WSHR)}.c{$(OBJ)}.o:
+	@$(cc) $(CFLAGS)  -o$@ $<
+
+{$(WSHR)}.h{$(INCL)}.h:
+	@copy $< $@
+
+#{$(WSHR)}.txt{$(DAT)}.txt:
+#	@copy $< $@
+
+#==========================================
+# Rules for files in win\tty
+#==========================================
+
+{$(TTY)}.c{$(OBJ)}.o:
+	@$(cc) $(CFLAGS)  -o$@  $<
+
+#==========================================
+# Rules for files in win\win32
+#==========================================
+
+{$(WIN32)}.c{$(OBJ)}.o:
+	@$(cc) $(CFLAGS)  -o$@  $<
+
+#==========================================
+#================ MACROS ==================
+#==========================================
+# This section creates shorthand macros for many objects
+# referenced later on in the Makefile.
+#
+
+DEFFILE = $(NTSYS)\$(GAME).def
+
+#
+# Shorten up the location for some files
+#
+
+O  = $(OBJ)^\
+
+U  = $(UTIL)^\
+
+#
+# Utility Objects.
+#
+
+MAKESRC        = $(U)makedefs.c
+
+SPLEVSRC       = $(U)lev_yacc.c	$(U)lev_$(LEX).c $(U)lev_main.c  $(U)panic.c
+
+DGNCOMPSRC     = $(U)dgn_yacc.c	$(U)dgn_$(LEX).c $(U)dgn_main.c
+
+MAKEOBJS       = $(O)makedefs.o $(O)monst.o $(O)objects.o
+
+SPLEVOBJS      = $(O)lev_yacc.o	$(O)lev_$(LEX).o $(O)lev_main.o \
+		 $(O)alloc.o	$(O)decl.o	$(O)drawing.o \
+		 $(O)monst.o	$(O)objects.o	$(O)panic.o
+
+DGNCOMPOBJS    = $(O)dgn_yacc.o	$(O)dgn_$(LEX).o $(O)dgn_main.o \
+		 $(O)alloc.o	$(O)panic.o
+
+RECOVOBJS      = $(O)recover.o
+
+TILEFILES      = $(WSHR)\monsters.txt $(WSHR)\objects.txt $(WSHR)\other.txt
+
+#
+# These are not invoked during a normal game build in 3.4
+#
+TEXT_IO        = $(O)tiletext.o	$(O)tiletxt.o	$(O)drawing.o \
+		 $(O)decl.o	$(O)monst.o	$(O)objects.o
+
+GIFREADERS     = $(O)gifread.o	$(O)alloc.o $(O)panic.o
+
+PPMWRITERS     = $(O)ppmwrite.o $(O)alloc.o $(O)panic.o
+
+#
+#  Object files for the game itself.
+#
+
+VOBJ01 = $(O)allmain.o  $(O)alloc.o    $(O)apply.o    $(O)artifact.o
+VOBJ02 = $(O)attrib.o   $(O)ball.o     $(O)bones.o    $(O)botl.o    
+VOBJ03 = $(O)cmd.o      $(O)dbridge.o  $(O)decl.o     $(O)detect.o  
+VOBJ04 = $(O)dig.o      $(O)display.o  $(O)do.o       $(O)do_name.o 
+VOBJ05 = $(O)do_wear.o  $(O)dog.o      $(O)dogmove.o  $(O)dokick.o  
+VOBJ06 = $(O)dothrow.o  $(O)drawing.o  $(O)dungeon.o  $(O)eat.o     
+VOBJ07 = $(O)end.o      $(O)engrave.o  $(O)exper.o    $(O)explode.o 
+VOBJ08 = $(O)extralev.o $(O)files.o    $(O)fountain.o $(O)hack.o    
+VOBJ09 = $(O)hacklib.o  $(O)invent.o   $(O)light.o    $(O)lock.o    
+VOBJ10 = $(O)mail.o     $(O)makemon.o  $(O)mapglyph.o $(O)mcastu.o  
+VOBJ11 = $(O)mhitm.o    $(O)mhitu.o    $(O)minion.o   $(O)mklev.o   
+VOBJ12 = $(O)mkmap.o    $(O)mkmaze.o   $(O)mkobj.o    $(O)mkroom.o  
+VOBJ13 = $(O)mon.o      $(O)mondata.o  $(O)monmove.o  $(O)monst.o   
+VOBJ14 = $(O)monstr.o   $(O)mplayer.o  $(O)mthrowu.o  $(O)muse.o    
+VOBJ15 = $(O)music.o    $(O)o_init.o   $(O)objects.o  $(O)objnam.o  
+VOBJ16 = $(O)options.o  $(O)pager.o    $(O)pickup.o   $(O)pline.o   
+VOBJ17 = $(O)polyself.o $(O)potion.o   $(O)pray.o     $(O)priest.o  
+VOBJ18 = $(O)quest.o    $(O)questpgr.o $(RANDOM)      $(O)read.o    
+VOBJ19 = $(O)rect.o     $(O)region.o   $(O)restore.o  $(O)rip.o     
+VOBJ20 = $(O)rnd.o      $(O)role.o     $(O)rumors.o   $(O)save.o    
+VOBJ21 = $(O)shk.o      $(O)shknam.o   $(O)sit.o      $(O)sounds.o  
+VOBJ22 = $(O)sp_lev.o   $(O)spell.o    $(O)steal.o    $(O)steed.o   
+VOBJ23 = $(O)teleport.o $(O)timeout.o  $(O)topten.o   $(O)track.o   
+VOBJ24 = $(O)trap.o     $(O)u_init.o   $(O)uhitm.o    $(O)vault.o   
+VOBJ25 = $(O)vis_tab.o  $(O)vision.o   $(O)weapon.o   $(O)were.o    
+VOBJ26 = $(O)wield.o    $(O)windows.o  $(O)wizard.o   $(O)worm.o    
+VOBJ27 = $(O)worn.o     $(O)write.o    $(O)zap.o     
+
+DLBOBJ = $(O)dlb.o
+
+TTYOBJ = $(O)topl.o     $(O)getline.o  $(O)wintty.o
+
+SOBJ   = $(O)winnt.o    $(O)pcsys.o      $(O)pcunix.o  \
+	   $(SOUND) $(O)pcmain.o	$(O)mapimail.o $(O)nhlan.o
+
+OBJS   = $(VOBJ01) $(VOBJ02) $(VOBJ03) $(VOBJ04) $(VOBJ05) \
+         $(VOBJ06) $(VOBJ07) $(VOBJ08) $(VOBJ09) $(VOBJ10) \
+         $(VOBJ11) $(VOBJ12) $(VOBJ13) $(VOBJ14) $(VOBJ15) \
+         $(VOBJ16) $(VOBJ17) $(VOBJ18) $(VOBJ19) $(VOBJ20) \
+         $(VOBJ21) $(VOBJ22) $(VOBJ23) $(VOBJ24) $(VOBJ25) \
+         $(VOBJ26) $(VOBJ27)
+
+TILOBJ = $(WINPORT)
+
+VVOBJ  = $(O)version.o
+
+ALLOBJ  = $(TILOBJ) $(SOBJ) $(DLBOBJ)  $(TTYOBJ) $(WOBJ) $(OBJS) $(VVOBJ)
+
+
+!IF "$(GRAPHICAL)" == "Y"
+OPTIONS_FILE = $(DAT)\guioptions
+!ELSE
+OPTIONS_FILE = $(DAT)\ttyoptions
+!ENDIF
+#==========================================
+# Header file macros
+#==========================================
+
+CONFIG_H = $(INCL)\config.h $(INCL)\config1.h $(INCL)\tradstdc.h \
+		$(INCL)\global.h $(INCL)\coord.h $(INCL)\vmsconf.h \
+		$(INCL)\system.h $(INCL)\unixconf.h $(INCL)\os2conf.h \
+		$(INCL)\micro.h $(INCL)\pcconf.h $(INCL)\tosconf.h \
+		$(INCL)\amiconf.h $(INCL)\macconf.h $(INCL)\beconf.h \
+		$(INCL)\ntconf.h $(INCL)\nhlan.h
+
+HACK_H = $(INCL)\hack.h $(CONFIG_H) $(INCL)\align.h \
+		$(INCL)\dungeon.h $(INCL)\monsym.h $(INCL)\mkroom.h \
+		$(INCL)\objclass.h $(INCL)\youprop.h $(INCL)\prop.h \
+		$(INCL)\permonst.h $(INCL)\monattk.h \
+		$(INCL)\monflag.h $(INCL)\mondata.h $(INCL)\pm.h \
+		$(INCL)\wintype.h $(INCL)\decl.h $(INCL)\quest.h \
+		$(INCL)\spell.h $(INCL)\color.h $(INCL)\obj.h \
+		$(INCL)\you.h $(INCL)\attrib.h $(INCL)\monst.h \
+		$(INCL)\skills.h $(INCL)\onames.h $(INCL)\timeout.h \
+		$(INCL)\trap.h $(INCL)\flag.h $(INCL)\rm.h \
+		$(INCL)\vision.h $(INCL)\display.h $(INCL)\engrave.h \
+		$(INCL)\rect.h $(INCL)\region.h $(INCL)\winprocs.h \
+		$(INCL)\wintty.h $(INCL)\trampoli.h
+
+LEV_H       = $(INCL)\lev.h
+DGN_FILE_H  = $(INCL)\dgn_file.h
+LEV_COMP_H  = $(INCL)\lev_comp.h
+SP_LEV_H    = $(INCL)\sp_lev.h
+TILE_H      = ..\win\share\tile.h
+
+#==========================================
+# Miscellaneous
+#==========================================
+
+DATABASE = $(DAT)\data.base
+
+#
+#  The name of the game.
+#
+
+GAMEFILE = $(GAMEDIR)\$(GAME).exe
+
+#==========================================
+#=============== TARGETS ==================
+#==========================================
+
+#
+#  The default make target (so just typing 'nmake' is useful).
+#
+default : $(GAMEFILE)
+
+#
+#  The main target.
+#
+
+$(GAME): $(O)obj.tag $(O)utility.tag graphicschk $(GAMEFILE)
+	@echo $(GAME) is up to date.
+
+#
+#  Everything
+#
+
+all :	install
+
+install: graphicschk $(GAME) $(O)install.tag
+	 @echo Done.
+
+$(O)install.tag: 	$(DAT)\data	$(DAT)\rumors	 $(DAT)\dungeon \
+	 	$(DAT)\oracles	$(DAT)\quest.dat $(O)sp_lev.tag $(DLB)
+! IF ("$(USE_DLB)"=="Y")
+	copy nhdat                $(GAMEDIR)
+	copy $(DAT)\license       $(GAMEDIR)
+	copy $(DAT)\opthelp       $(GAMEDIR)
+! ELSE
+	copy $(DAT)\*.            $(GAMEDIR)
+	copy $(DAT)\*.dat         $(GAMEDIR)
+	copy $(DAT)\*.lev         $(GAMEDIR)
+	if exist $(GAMEDIR)\makefile del $(GAMEDIR)\makefile
+! ENDIF
+	if exist $(DOC)\guidebook.txt copy $(DOC)\guidebook.txt $(GAMEDIR)\Guidebook.txt
+	if exist $(DOC)\nethack.txt copy $(DOC)\nethack.txt $(GAMEDIR)\NetHack.txt
+	@if exist $(SRC)\$(GAME).PDB copy $(SRC)\$(GAME).pdb $(GAMEDIR)\$(GAME).pdb
+	@if exist $(GAMEDIR)\$(GAME).PDB echo NOTE: You may want to remove $(GAMEDIR)\$(GAME).pdb to conserve space
+	-copy $(NTSYS)\defaults.nh   $(GAMEDIR)\defaults.nh
+	echo install done > $@
+
+#	copy $(NTSYS)\winnt.hlp    $(GAMEDIR)
+
+recover: $(U)recover.exe
+	if exist $(U)recover.exe copy $(U)recover.exe  $(GAMEDIR)
+	if exist $(DOC)\recover.txt copy $(DOC)\recover.txt $(GAMEDIR)\recover.txt
+
+$(O)sp_lev.tag: $(O)utility.tag $(DAT)\bigroom.des  $(DAT)\castle.des \
+	$(DAT)\endgame.des $(DAT)\gehennom.des $(DAT)\knox.des   \
+	$(DAT)\medusa.des  $(DAT)\oracle.des   $(DAT)\tower.des  \
+	$(DAT)\yendor.des  $(DAT)\arch.des     $(DAT)\barb.des   \
+	$(DAT)\caveman.des $(DAT)\healer.des   $(DAT)\knight.des \
+	$(DAT)\monk.des    $(DAT)\priest.des   $(DAT)\ranger.des \
+	$(DAT)\rogue.des   $(DAT)\samurai.des  $(DAT)\sokoban.des \
+	$(DAT)\tourist.des $(DAT)\valkyrie.des $(DAT)\wizard.des
+	cd $(DAT)
+	$(U)lev_comp bigroom.des
+	$(U)lev_comp castle.des
+	$(U)lev_comp endgame.des
+	$(U)lev_comp gehennom.des
+	$(U)lev_comp knox.des
+	$(U)lev_comp mines.des
+	$(U)lev_comp medusa.des
+	$(U)lev_comp oracle.des
+	$(U)lev_comp sokoban.des
+	$(U)lev_comp tower.des
+	$(U)lev_comp yendor.des
+	$(U)lev_comp arch.des
+	$(U)lev_comp barb.des
+	$(U)lev_comp caveman.des
+	$(U)lev_comp healer.des
+	$(U)lev_comp knight.des
+	$(U)lev_comp monk.des
+	$(U)lev_comp priest.des
+	$(U)lev_comp ranger.des
+	$(U)lev_comp rogue.des
+	$(U)lev_comp samurai.des
+	$(U)lev_comp tourist.des
+	$(U)lev_comp valkyrie.des
+	$(U)lev_comp wizard.des
+	cd $(SRC)
+	echo sp_levs done > $(O)sp_lev.tag
+
+$(O)utility.tag: $(INCL)\date.h $(INCL)\onames.h $(INCL)\pm.h \
+		$(SRC)\monstr.c		$(SRC)\vis_tab.c  \
+		$(U)lev_comp.exe	$(INCL)\vis_tab.h \
+		$(U)dgn_comp.exe $(TILEUTIL16)
+             @echo utilities made >$@
+	     @echo utilities made.
+
+tileutil: $(U)gif2txt.exe $(U)txt2ppm.exe
+	@echo Optional tile development utilities are up to date.
+
+!IF "$(GRAPHICAL)"=="Y"
+$(NHRES): $(TILEBMP16) $(WIN32)\winhack.rc $(WIN32)\mnsel.bmp \
+	$(WIN32)\mnselcnt.bmp $(WIN32)\mnunsel.bmp \
+	$(WIN32)\petmark.bmp $(WIN32)\NetHack.ico $(WIN32)\rip.bmp \
+	$(WIN32)\splash.bmp
+	@$(rc) -r -fo$@ -i$(WIN32) -i$(bccinc) -dNDEBUG $(WIN32)\winhack.rc
+!ELSE
+$(NHRES): $(NTSYS)\console.rc $(NTSYS)\NetHack.ico
+	@$(rc) -r -fo$@ -i$(NTSYS) -i$(bccinc) -dNDEBUG $(NTSYS)\console.rc
+!ENDIF
+
+#==========================================
+#  The main target.
+#==========================================
+
+$(SRC)\uuid.lib: $(bcclib)\uuid.lib
+	@copy $(bcclib)\uuid.lib $@
+
+$(GAMEFILE) : $(ALLOBJ) $(NHRES) $(SRC)\uuid.lib $(O)gamedir.tag $(WINDLLS)
+	@echo Linking....
+	@$(link) $(lflags) $(startobjg) $(ALLOBJ), $@, $(GAME).map,$(libsmt),,$(NHRES)
+	@if exist $(O)install.tag del $(O)install.tag
+	@if exist $(GAMEDIR)\$(GAME).bak del $(GAMEDIR)\$(GAME).bak
+
+$(O)gamedir.tag:
+	@if not exist $(GAMEDIR)\*.* echo creating directory $(GAMEDIR)
+	@if not exist $(GAMEDIR)\*.* mkdir $(GAMEDIR)
+	@echo directory created > $@
+
+$(GAME)_.ico : $(NTSYS)\$(GAME).ico
+	@copy $(NTSYS)\$(GAME).ico $@
+
+#==========================================
+# Create directory for holding object files
+#==========================================
+
+$(O)obj.tag:
+	@if not exist $(O)*.* mkdir $(OBJ)
+	@echo directory $(OBJ) created >$@
+
+#==========================================
+# Notify of any CL environment variables
+# in effect since they change the compiler
+# options.
+#==========================================
+
+graphicschk:
+!	IF "$(GRAPHICAL)"=="Y"
+	   @echo ----
+	   @echo NOTE: This build will include tile support.
+	   @echo ----
+!	ENDIF
+	@echo graphicschk > graphicschk
+
+
+$(GAMEDIR)\nhdefkey.dll : $(O)nhdefkey.o
+	@if not exist $(GAMEDIR)\*.* mkdir $(GAMEDIR)
+	@echo EXPORTS >nhdefkey.def
+	@echo    ProcessKeystroke >>nhdefkey.def
+	@echo    NHkbhit >>nhdefkey.def
+	@echo    CheckInput >>nhdefkey.def
+	@echo    SourceWhere >>nhdefkey.def
+	@echo    SourceAuthor >>nhdefkey.def
+	@echo    KeyHandlerName >>nhdefkey.def
+	@echo Linking $@
+	$(link) $(linkdebug) /Gn /Gz /q -L$(bcclib) /c  /aa /Tpd /V$(APPVER) -L$(bcclib) -v \
+	    c0d32.obj $(O)nhdefkey.o, $@,nhdefkey.map,$(libsmt),nhdefkey.def
+
+$(GAMEDIR)\nh340key.dll : $(O)nh340key.o
+	@if not exist $(GAMEDIR)\*.* mkdir $(GAMEDIR)
+	@echo EXPORTS >nh340key.def
+	@echo    ProcessKeystroke >>nh340key.def
+	@echo    NHkbhit >>nh340key.def
+	@echo    CheckInput >>nh340key.def
+	@echo    SourceWhere >>nh340key.def
+	@echo    SourceAuthor >>nh340key.def
+	@echo    KeyHandlerName >>nh340key.def
+	@echo Linking $@
+	$(link) $(linkdebug) /Gn /Gz /q -L$(bcclib) /c  /aa /Tpd /V$(APPVER) -L$(bcclib) -v \
+	    c0d32.obj $(O)nh340key.o, $@,nh340key.map,$(libsmt),nh340key.def
+
+$(GAMEDIR)\nhraykey.dll : $(O)nhraykey.o
+	@if not exist $(GAMEDIR)\*.* mkdir $(GAMEDIR)
+	@echo EXPORTS >nhraykey.def
+	@echo    ProcessKeystroke >>nhraykey.def
+	@echo    NHkbhit >>nhraykey.def
+	@echo    CheckInput >>nhraykey.def
+	@echo    SourceWhere >>nhraykey.def
+	@echo    SourceAuthor >>nhraykey.def
+	@echo    KeyHandlerName >>nhraykey.def
+	@echo Linking $@
+	$(link) $(linkdebug) /Gn /Gz /q -L$(bcclib) /c  /aa /Tpd /V$(APPVER) -L$(bcclib) -v \
+	    c0d32.obj $(O)nhraykey.o, $@,nhraykey.map,$(libsmt),nhraykey.def
+
+#
+#  Secondary Targets.
+#
+    
+#==========================================
+# Makedefs Stuff
+#==========================================
+
+$(U)makedefs.exe:	$(O)obj.tag $(MAKEOBJS) $(SRC)\uuid.lib
+	@$(link) $(LFLAGSU) $(startobj) $(MAKEOBJS), $@,,$(libsmt)
+
+$(O)makedefs.o: $(CONFIG_H)	$(INCL)\monattk.h $(INCL)\monflag.h   $(INCL)\objclass.h \
+		 $(INCL)\monsym.h    $(INCL)\qtext.h	$(INCL)\patchlevel.h \
+		 $(U)makedefs.c
+	@$(cc) $(CFLAGSU) -o$@ $(U)makedefs.c
+
+#
+#  date.h should be remade every time any of the source or include
+#  files is modified.
+#
+
+$(INCL)\date.h $(OPTIONS_FILE) : $(U)makedefs.exe
+	$(U)makedefs -v
+
+$(INCL)\onames.h : $(U)makedefs.exe
+	$(U)makedefs -o
+
+$(INCL)\pm.h : $(U)makedefs.exe
+	$(U)makedefs -p
+
+#$(INCL)\trap.h : $(U)makedefs.exe
+#	$(U)makedefs -t
+
+$(SRC)\monstr.c: $(U)makedefs.exe
+	$(U)makedefs -m
+
+$(INCL)\vis_tab.h: $(U)makedefs.exe
+	$(U)makedefs -z
+
+$(SRC)\vis_tab.c: $(U)makedefs.exe
+	$(U)makedefs -z
+
+#==========================================
+# uudecode utility and uuencoded targets
+#==========================================
+
+$(U)uudecode.exe: $(O)uudecode.o
+	@$(link) $(LFLAGSU) $(startobj) $(O)uudecode.o, $@,,$(libsmt)
+
+$(O)uudecode.o: $(SSYS)\uudecode.c
+
+$(NTSYS)\NetHack.ico : $(U)uudecode.exe $(NTSYS)\nhico.uu
+	chdir $(NTSYS)
+	..\..\util\uudecode.exe nhico.uu
+	chdir ..\..\src
+
+$(WIN32)\NetHack.ico : $(U)uudecode.exe $(NTSYS)\nhico.uu
+	chdir $(WIN32)
+	..\..\util\uudecode.exe ../../sys/winnt/nhico.uu
+	chdir ..\..\src
+
+$(WIN32)\mnsel.bmp: $(U)uudecode.exe $(WIN32)\mnsel.uu
+	chdir $(WIN32)
+	..\..\util\uudecode.exe mnsel.uu
+	chdir ..\..\src
+
+$(WIN32)\mnselcnt.bmp: $(U)uudecode.exe $(WIN32)\mnselcnt.uu
+	chdir $(WIN32)
+	..\..\util\uudecode.exe mnselcnt.uu
+	chdir ..\..\src
+
+$(WIN32)\mnunsel.bmp: $(U)uudecode.exe $(WIN32)\mnunsel.uu
+	chdir $(WIN32)
+	..\..\util\uudecode.exe mnunsel.uu
+	chdir ..\..\src
+
+$(WIN32)\petmark.bmp: $(U)uudecode.exe $(WIN32)\petmark.uu
+	chdir $(WIN32)
+	..\..\util\uudecode.exe petmark.uu
+	chdir ..\..\src
+
+$(WIN32)\rip.bmp: $(U)uudecode.exe $(WIN32)\rip.uu
+	chdir $(WIN32)
+	..\..\util\uudecode.exe rip.uu
+	chdir ..\..\src
+
+$(WIN32)\splash.bmp: $(U)uudecode.exe $(WIN32)\splash.uu
+	chdir $(WIN32)
+	..\..\util\uudecode.exe splash.uu
+	chdir ..\..\src
+
+#==========================================
+# Level Compiler Stuff
+#==========================================
+
+LEVCFLAGS=$(cflags) -DWIN32 -D_WIN32 -D_MT -I..\include $(cdebug) -DDLB
+
+$(U)lev_comp.exe: $(SPLEVOBJS) $(SRC)\uuid.lib
+	@echo Linking $@...
+	@$(link) $(LFLAGSU) $(startobj) $(SPLEVOBJS), $@,,$(libsmt)
+
+$(O)lev_yacc.o: $(HACK_H)   $(SP_LEV_H) $(INCL)\lev_comp.h $(U)lev_yacc.c
+	@$(cc) $(LEVCFLAGS) -o$@ $(U)lev_yacc.c
+
+$(O)lev_$(LEX).o: $(HACK_H)   $(INCL)\lev_comp.h $(SP_LEV_H) \
+               $(U)lev_$(LEX).c
+	@$(cc) $(LEVCFLAGS) -D__IO_H -o$@ $(U)lev_$(LEX).c
+
+$(O)lev_main.o:	$(U)lev_main.c $(HACK_H)   $(SP_LEV_H)
+	@$(cc) $(LEVCFLAGS) -o$@ $(U)lev_main.c
+
+
+$(U)lev_yacc.c $(INCL)\lev_comp.h : $(U)lev_comp.y
+!	IF "$(DO_YACC)"=="YACC_ACT"
+	   chdir $(UTIL)
+	   $(YACC) -d lev_comp.y
+	   copy $(YTABC) lev_yacc.c
+	   copy $(YTABH) $(INCL)\lev_comp.h
+	   @del $(YTABC)
+	   @del $(YTABH)
+	   chdir $(SRC)
+!	ELSE
+	   @echo $(U)lev_comp.y has changed.
+	   @echo To update $(U)lev_yacc.c and $(INCL)\lev_comp.h run $(YACC).
+	   @echo ---
+	   @echo For now, we will copy the prebuilt lev_yacc.c and 
+	   @echo lev_comp.h from $(SSYS) into $(UTIL) and use them.
+	   @copy $(SSYS)\lev_yacc.c $(U)lev_yacc.c >nul
+	   @copy $(SSYS)\lev_comp.h $(INCL)\lev_comp.h >nul
+	   @echo /**/ >>$(U)lev_yacc.c
+	   @echo /**/ >>$(INCL)\lev_comp.h
+!	ENDIF
+
+$(U)lev_$(LEX).c: $(U)lev_comp.l
+!	IF "$(DO_LEX)"=="LEX_ACT"
+	   chdir $(UTIL)
+	   $(LEX) $(FLEXSKEL) lev_comp.l
+	   copy $(LEXYYC) $@
+	   @del $(LEXYYC)
+	   chdir $(SRC)
+!	ELSE
+	   @echo $(U)lev_comp.l has changed. To update $@ run $(LEX).
+	   @echo ---
+	   @echo For now, we will copy the prebuilt lev_lex.c 
+	   @echo from $(SSYS) into $(UTIL) and use it.
+	   @copy $(SSYS)\lev_lex.c $@ >nul
+	   @echo /**/ >>$@
+!	ENDIF
+
+#==========================================
+# Dungeon Compiler Stuff
+#==========================================
+
+$(U)dgn_comp.exe: $(DGNCOMPOBJS) $(SRC)\uuid.lib
+    @echo Linking $@...
+	@$(link) $(LFLAGSU) $(startobj) $(DGNCOMPOBJS), $@,,$(libsmt)
+
+
+$(O)dgn_yacc.o:	$(HACK_H)   $(DGN_FILE_H) $(INCL)\dgn_comp.h $(U)dgn_yacc.c
+	@$(cc) $(LEVCFLAGS) -o$@ $(U)dgn_yacc.c
+
+$(O)dgn_$(LEX).o: $(HACK_H)   $(DGN_FILE_H)  $(INCL)\dgn_comp.h \
+	$(U)dgn_$(LEX).c
+	@$(cc) $(LEVCFLAGS) -D__IO_H -o$@ $(U)dgn_$(LEX).c
+
+$(O)dgn_main.o:	$(HACK_H) $(U)dgn_main.c
+	@$(cc) $(LEVCFLAGS) -o$@ $(U)dgn_main.c
+
+$(U)dgn_yacc.c $(INCL)\dgn_comp.h : $(U)dgn_comp.y
+!	IF "$(DO_YACC)"=="YACC_ACT"
+	   chdir $(UTIL)
+	   $(YACC) -d dgn_comp.y
+	   copy $(YTABC) dgn_yacc.c
+	   copy $(YTABH) $(INCL)\dgn_comp.h
+	   @del $(YTABC)
+	   @del $(YTABH)
+	   chdir $(SRC)
+!	ELSE
+	   @echo $(U)dgn_comp.y has changed. To update dgn_yacc.c and 
+	   @echo $(INCL)\dgn_comp.h run $(YACC).
+	   @echo ---
+	   @echo For now, we will copy the prebuilt $(U)dgn_yacc.c and 
+	   @echo dgn_comp.h from $(SSYS) into $(UTIL) and use them.
+	   @copy $(SSYS)\dgn_yacc.c $(U)dgn_yacc.c >nul
+	   @copy $(SSYS)\dgn_comp.h $(INCL)\dgn_comp.h >nul
+	   @echo /**/ >>$(U)dgn_yacc.c
+	   @echo /**/ >>$(INCL)\dgn_comp.h
+!	ENDIF
+
+$(U)dgn_$(LEX).c: $(U)dgn_comp.l
+!	IF "$(DO_LEX)"=="LEX_ACT"
+	   chdir $(UTIL)
+	   $(LEX) $(FLEXSKEL)  dgn_comp.l
+	   copy $(LEXYYC) $@
+	   @del $(LEXYYC)
+	   chdir $(SRC)
+!	ELSE
+	   @echo $(U)dgn_comp.l has changed. To update $@ run $(LEX).
+	   @echo ---
+	   @echo For now, we will copy the prebuilt dgn_lex.c 
+	   @echo from $(SSYS) into $(UTIL) and use it.
+	   @copy $(SSYS)\dgn_lex.c $@ >nul
+	   @echo /**/ >>$@
+!	ENDIF
+
+
+#==========================================
+#=========== SECONDARY TARGETS ============
+#==========================================
+
+#===========================================
+# Header files NOT distributed in ..\include
+#===========================================
+
+$(INCL)\win32api.h: $(NTSYS)\win32api.h
+	copy $(NTSYS)\win32api.h $@
+
+
+#==========================================
+# DLB utility and nhdat file creation
+#==========================================
+
+$(U)dlb_main.exe: $(DLBOBJ) $(O)dlb.o $(SRC)\uuid.lib
+	@$(link) $(LFLAGSU) $(startobj) $(O)dlb_main.o $(O)dlb.o $(O)alloc.o $(O)panic.o, $@,,$(libsmt)
+
+
+$(O)dlb.o:	$(O)dlb_main.o $(O)alloc.o $(O)panic.o $(INCL)\dlb.h
+	@$(cc) $(CFLAGS) -o$@ $(SRC)\dlb.c
+	
+$(O)dlb_main.o: $(UTIL)\dlb_main.c $(INCL)\config.h $(INCL)\dlb.h
+	@$(cc) $(CFLAGS) -o$@ $(UTIL)\dlb_main.c
+
+$(DAT)\porthelp: $(NTSYS)\porthelp
+	@copy $(NTSYS)\porthelp $@ >nul
+
+nhdat:	$(U)dlb_main.exe $(DAT)\data $(DAT)\oracles $(OPTIONS_FILE) \
+	$(DAT)\quest.dat $(DAT)\rumors $(DAT)\help $(DAT)\hh $(DAT)\cmdhelp \
+	$(DAT)\history $(DAT)\opthelp $(DAT)\wizhelp $(DAT)\dungeon $(DAT)\porthelp \
+	$(DAT)\license $(O)sp_lev.tag
+	cd $(DAT)
+	echo data >dlb.lst
+	echo oracles >>dlb.lst
+	if exist options echo options >>dlb.lst
+	if exist ttyoptions echo ttyoptions >>dlb.lst
+	if exist guioptions echo guioptions >>dlb.lst
+	if exist porthelp echo porthelp >>dlb.lst
+	echo quest.dat >>dlb.lst
+	echo rumors >>dlb.lst
+	echo help >>dlb.lst
+	echo hh >>dlb.lst
+	echo cmdhelp >>dlb.lst
+	echo history >>dlb.lst
+	echo opthelp >>dlb.lst
+	echo wizhelp >>dlb.lst
+	echo dungeon >>dlb.lst
+	echo license >>dlb.lst
+	for %N in (*.lev) do echo %N >>dlb.lst
+	$(U)dlb_main cIf dlb.lst $(SRC)\nhdat
+	cd $(SRC)
+
+#==========================================
+#  Recover Utility
+#==========================================
+
+$(U)recover.exe: $(RECOVOBJS) $(SRC)\uuid.lib
+	$(link) $(LFLAGSU) $(startobj) $(RECOVOBJS), $@,,$(libsmt)
+
+
+$(O)recover.o: $(CONFIG_H) $(U)recover.c $(INCL)\win32api.h
+	$(cc) $(CFLAGSU) -o$@ $(U)recover.c
+
+#==========================================
+#  Tile Mapping
+#==========================================
+
+$(SRC)\tile.c: $(U)tilemap.exe
+	@echo A new $@ has been created
+	@$(U)tilemap
+
+$(U)tilemap.exe: $(O)tilemap.o $(SRC)\uuid.lib
+	@$(link) $(LFLAGSU) $(startobj) $(O)tilemap.o, $@,,$(libsmt)
+
+
+$(O)tilemap.o: $(WSHR)\tilemap.c $(HACK_H)
+	@$(cc) $(CFLAGSU) -o$@ $(WSHR)\tilemap.c
+
+$(O)tiletxt.o: $(WSHR)\tilemap.c $(HACK_H)
+	@$(cc) $(CFLAGS) /DTILETEXT -o$@ $(WSHR)\tilemap.c
+
+$(O)gifread.o: $(WSHR)\gifread.c  $(CONFIG_H) $(TILE_H)
+	@$(cc) $(CFLAGS) -I$(WSHR) -o$@ $(WSHR)\gifread.c
+
+$(O)ppmwrite.o: $(WSHR)\ppmwrite.c $(CONFIG_H) $(TILE_H)
+	@$(cc) $(CFLAGS) -I$(WSHR) -o$@ $(WSHR)\ppmwrite.c
+
+$(O)tiletext.o: $(WSHR)\tiletext.c  $(CONFIG_H) $(TILE_H)
+	@$(cc) $(CFLAGS) -I$(WSHR) -o$@ $(WSHR)\tiletext.c
+
+#==========================================
+# Optional Tile Utilities
+#==========================================
+
+$(U)gif2txt.exe: $(GIFREADERS) $(TEXT_IO) $(SRC)\uuid.lib
+    @echo Linking $@...
+	@$(link) $(LFLAGSU) $(startobj) $(GIFREADERS) $(TEXT_IO), $@,,$(libsmt)
+
+
+$(U)txt2ppm.exe: $(PPMWRITERS) $(TEXT_IO) $(SRC)\uuid.lib
+    @echo Linking $@...
+	@$(link) $(LFLAGSU) $(startobj) $(PPMWRITERS) $(TEXT_IO), $@,,$(libsmt)
+
+
+!IF "$(GRAPHICAL)"=="Y"
+$(TILEBMP16): $(TILEUTIL16) $(TILEFILES)
+	@echo Creating 16x16 binary tile files (this may take some time)
+	@$(U)tile2bmp $(TILEBMP16)
+!ENDIF
+
+$(U)tile2bmp.exe: $(O)tile2bmp.o $(TEXT_IO) $(SRC)\uuid.lib
+    @echo Linking $@...
+	@$(link) $(LFLAGSU) $(startobj) $(O)tile2bmp.o $(TEXT_IO), $@,,$(libsmt)
+
+
+$(O)tile2bmp.o: $(WSHR)\tile2bmp.c $(HACK_H) $(TILE_H) $(INCL)\win32api.h
+	@$(cc) $(CFLAGS) -I$(WSHR) /DPACKED_FILE -o$@ $(WSHR)\tile2bmp.c
+
+#==========================================
+# Housekeeping
+#==========================================
+
+spotless: clean
+! IF ("$(OBJ)"!="")
+	-rmdir $(OBJ) /s /Q
+! ENDIF
+	if exist $(INCL)\date.h    del $(INCL)\date.h
+	if exist $(INCL)\onames.h  del $(INCL)\onames.h
+	if exist $(INCL)\pm.h      del $(INCL)\pm.h
+	if exist $(INCL)\vis_tab.h del $(INCL)\vis_tab.h
+	if exist $(SRC)\vis_tab.c  del $(SRC)\vis_tab.c
+	if exist $(SRC)\tile.c     del $(SRC)\tile.c
+	if exist $(U)*.lnk         del $(U)*.lnk
+	if exist $(U)*.map         del $(U)*.map
+	if exist $(DAT)\data       del $(DAT)\data
+	if exist $(DAT)\rumors     del $(DAT)\rumors
+	if exist $(DAT)\???-fil?.lev	del $(DAT)\???-fil?.lev
+	if exist $(DAT)\???-goal.lev	del $(DAT)\???-goal.lev
+	if exist $(DAT)\???-loca.lev	del $(DAT)\???-loca.lev
+	if exist $(DAT)\???-strt.lev	del $(DAT)\???-strt.lev
+	if exist $(DAT)\air.lev		del $(DAT)\air.lev
+	if exist $(DAT)\asmodeus.lev	del $(DAT)\asmodeus.lev
+	if exist $(DAT)\astral.lev	del $(DAT)\astral.lev
+	if exist $(DAT)\baalz.lev	del $(DAT)\baalz.lev
+	if exist $(DAT)\bigroom.lev	del $(DAT)\bigroom.lev
+	if exist $(DAT)\castle.lev	del $(DAT)\castle.lev
+	if exist $(DAT)\data		del $(DAT)\data
+	if exist $(DAT)\dungeon		del $(DAT)\dungeon
+	if exist $(DAT)\dungeon.pdf	del $(DAT)\dungeon.pdf
+	if exist $(DAT)\earth.lev	del $(DAT)\earth.lev
+	if exist $(DAT)\fakewiz?.lev	del $(DAT)\fakewiz?.lev
+	if exist $(DAT)\fire.lev	del $(DAT)\fire.lev
+	if exist $(DAT)\juiblex.lev	del $(DAT)\juiblex.lev
+	if exist $(DAT)\knox.lev	del $(DAT)\knox.lev
+	if exist $(DAT)\medusa-?.lev	del $(DAT)\medusa-?.lev
+	if exist $(DAT)\mine*.lev	del $(DAT)\mine*.lev
+	if exist $(DAT)\options		del $(DAT)\options
+	if exist $(DAT)\ttyoptions	del $(DAT)\ttyoptions
+	if exist $(DAT)\guioptions	del $(DAT)\guioptions
+	if exist $(DAT)\oracle.lev	del $(DAT)\oracle.lev
+	if exist $(DAT)\oracles		del $(DAT)\oracles
+	if exist $(DAT)\orcus.lev	del $(DAT)\orcus.lev
+	if exist $(DAT)\rumors		del $(DAT)\rumors
+	if exist $(DAT)\quest.dat	del $(DAT)\quest.dat
+	if exist $(DAT)\sanctum.lev	del $(DAT)\sanctum.lev
+	if exist $(DAT)\soko?-?.lev	del $(DAT)\soko?-?.lev
+	if exist $(DAT)\tower?.lev	del $(DAT)\tower?.lev
+	if exist $(DAT)\valley.lev	del $(DAT)\valley.lev
+	if exist $(DAT)\water.lev	del $(DAT)\water.lev
+	if exist $(DAT)\wizard?.lev	del $(DAT)\wizard?.lev
+	if exist $(O)sp_lev.tag	        del $(O)sp_lev.tag
+	if exist $(SRC)\monstr.c        del $(SRC)\monstr.c
+	if exist $(SRC)\vis_tab.c       del $(SRC)\vis_tab.c
+	if exist $(U)recover.exe        del $(U)recover.exe
+	if exist nhdat.			del nhdat.
+
+clean:
+	if exist $(O)*.o del $(O)*.o
+	if exist $(O)utility.tag   del $(O)utility.tag
+	if exist $(U)makedefs.exe  del $(U)makedefs.exe
+	if exist $(U)lev_comp.exe  del $(U)lev_comp.exe
+	if exist $(U)dgn_comp.exe  del $(U)dgn_comp.exe
+	if exist $(SRC)\*.lnk      del $(SRC)\*.lnk
+	if exist $(SRC)\*.map      del $(SRC)\*.map
+	if exist $(TILEBMP16)        del $(TILEBMP16)
+
+#===================================================================
+# OTHER DEPENDENCIES
+#===================================================================
+
+#
+# dat dependencies
+#
+
+$(DAT)\data: $(O)utility.tag    $(DATABASE)
+	$(U)makedefs -d
+
+$(DAT)\rumors: $(O)utility.tag    $(DAT)\rumors.tru   $(DAT)\rumors.fal
+	$(U)makedefs -r
+
+$(DAT)\quest.dat: $(O)utility.tag  $(DAT)\quest.txt
+	$(U)makedefs -q
+
+$(DAT)\oracles: $(O)utility.tag    $(DAT)\oracles.txt
+	$(U)makedefs -h
+
+$(DAT)\dungeon: $(O)utility.tag  $(DAT)\dungeon.def
+	$(U)makedefs -e
+	cd $(DAT)
+	$(U)dgn_comp dungeon.pdf
+	cd $(SRC)
+
+#
+# NT dependencies
+#
+
+$(O)nttty.o:   $(HACK_H) $(TILE_H) $(INCL)\win32api.h $(NTSYS)\nttty.c
+	@$(cc) $(CFLAGS) -I$(WSHR) -o$@  $(NTSYS)\nttty.c
+$(O)winnt.o: $(HACK_H) $(INCL)\win32api.h $(NTSYS)\winnt.c
+	@$(cc) $(CFLAGS) -o$@  $(NTSYS)\winnt.c
+$(O)ntsound.o: $(HACK_H) $(NTSYS)\ntsound.c
+	@$(cc) $(CFLAGS)  -o$@ $(NTSYS)\ntsound.c
+$(O)mapimail.o: $(HACK_H) $(INCL)\nhlan.h $(NTSYS)\mapimail.c
+	@$(cc) $(CFLAGS) -DMAPI_VERBOSE  -o$@ $(NTSYS)\mapimail.c
+
+# 
+# util dependencies
+#
+
+$(O)panic.o:  $(U)panic.c $(CONFIG_H)
+	@$(cc) $(CFLAGS) -o$@ $(U)panic.c
+
+#
+# The rest are stolen from sys/unix/Makefile.src, 
+# with the following changes:
+#   * ../include changed to $(INCL)
+#   * slashes changed to back-slashes 
+#   * -c (which is included in CFLAGS) substituted
+#	with -o$@
+#   * $(CC) changed to $(cc)
+# but otherwise untouched.
+# That means that there is some irrelevant stuff
+# in here, but maintenance should be easier.
+#
+$(O)tos.o: ..\sys\atari\tos.c $(HACK_H) $(INCL)\tcap.h
+	$(cc) $(CFLAGS) -o$@ ..\sys\atari\tos.c
+$(O)pcmain.o: ..\sys\share\pcmain.c $(HACK_H) $(INCL)\dlb.h \
+		$(INCL)\win32api.h
+	$(cc) $(CFLAGS) -o$@ ..\sys\share\pcmain.c
+$(O)pcsys.o: ..\sys\share\pcsys.c $(HACK_H)
+	$(cc) $(CFLAGS) -o$@ ..\sys\share\pcsys.c
+$(O)pctty.o: ..\sys\share\pctty.c $(HACK_H)
+	$(cc) $(CFLAGS) -o$@ ..\sys\share\pctty.c
+$(O)pcunix.o: ..\sys\share\pcunix.c $(HACK_H)
+	$(cc) $(CFLAGS) -o$@ ..\sys\share\pcunix.c
+$(O)random.o: ..\sys\share\random.c $(HACK_H)
+	$(cc) $(CFLAGS) -o$@ ..\sys\share\random.c
+$(O)ioctl.o: ..\sys\share\ioctl.c $(HACK_H) $(INCL)\tcap.h
+	$(cc) $(CFLAGS) -o$@ ..\sys\share\ioctl.c
+$(O)unixtty.o: ..\sys\share\unixtty.c $(HACK_H)
+	$(cc) $(CFLAGS) -o$@ ..\sys\share\unixtty.c
+$(O)unixmain.o: ..\sys\unix\unixmain.c $(HACK_H) $(INCL)\dlb.h
+	$(cc) $(CFLAGS) -o$@ ..\sys\unix\unixmain.c
+$(O)unixunix.o: ..\sys\unix\unixunix.c $(HACK_H)
+	$(cc) $(CFLAGS) -o$@ ..\sys\unix\unixunix.c
+$(O)bemain.o: ..\sys\be\bemain.c $(HACK_H) $(INCL)\dlb.h
+	$(cc) $(CFLAGS) -o$@ ..\sys\be\bemain.c
+$(O)getline.o: ..\win\tty\getline.c $(HACK_H) $(INCL)\func_tab.h
+	$(cc) $(CFLAGS) -o$@ ..\win\tty\getline.c
+$(O)termcap.o: ..\win\tty\termcap.c $(HACK_H) $(INCL)\tcap.h
+	$(cc) $(CFLAGS) -o$@ ..\win\tty\termcap.c
+$(O)topl.o: ..\win\tty\topl.c $(HACK_H) $(INCL)\tcap.h
+	$(cc) $(CFLAGS) -o$@ ..\win\tty\topl.c
+$(O)wintty.o: ..\win\tty\wintty.c $(HACK_H) $(INCL)\dlb.h \
+		$(INCL)\patchlevel.h $(INCL)\tcap.h
+	$(cc) $(CFLAGS) -o$@ ..\win\tty\wintty.c
+$(O)Window.o: ..\win\X11\Window.c $(INCL)\xwindowp.h $(INCL)\xwindow.h \
+		$(CONFIG_H)
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\Window.c
+$(O)dialogs.o: ..\win\X11\dialogs.c $(CONFIG_H)
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\dialogs.c
+$(O)winX.o: ..\win\X11\winX.c $(HACK_H) $(INCL)\winX.h $(INCL)\dlb.h \
+		$(INCL)\patchlevel.h ..\win\X11\nh72icon \
+		..\win\X11\nh56icon ..\win\X11\nh32icon
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\winX.c
+$(O)winmap.o: ..\win\X11\winmap.c $(INCL)\xwindow.h $(HACK_H) $(INCL)\dlb.h \
+		$(INCL)\winX.h $(INCL)\tile2x11.h
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\winmap.c
+$(O)winmenu.o: ..\win\X11\winmenu.c $(HACK_H) $(INCL)\winX.h
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\winmenu.c
+$(O)winmesg.o: ..\win\X11\winmesg.c $(INCL)\xwindow.h $(HACK_H) $(INCL)\winX.h
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\winmesg.c
+$(O)winmisc.o: ..\win\X11\winmisc.c $(HACK_H) $(INCL)\func_tab.h \
+		$(INCL)\winX.h
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\winmisc.c
+$(O)winstat.o: ..\win\X11\winstat.c $(HACK_H) $(INCL)\winX.h
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\winstat.c
+$(O)wintext.o: ..\win\X11\wintext.c $(HACK_H) $(INCL)\winX.h $(INCL)\xwindow.h
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\wintext.c
+$(O)winval.o: ..\win\X11\winval.c $(HACK_H) $(INCL)\winX.h
+	$(cc) $(CFLAGS) -o$@ ..\win\X11\winval.c
+$(O)tile.o: $(SRC)\tile.c $(HACK_H)
+$(O)gnaskstr.o: ..\win\gnome\gnaskstr.c ..\win\gnome\gnaskstr.h \
+		..\win\gnome\gnmain.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnaskstr.c
+$(O)gnbind.o: ..\win\gnome\gnbind.c ..\win\gnome\gnbind.h ..\win\gnome\gnmain.h \
+		..\win\gnome\gnaskstr.h ..\win\gnome\gnyesno.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnbind.c
+$(O)gnglyph.o: ..\win\gnome\gnglyph.c ..\win\gnome\gnglyph.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnglyph.c
+$(O)gnmain.o: ..\win\gnome\gnmain.c ..\win\gnome\gnmain.h ..\win\gnome\gnsignal.h \
+		..\win\gnome\gnbind.h ..\win\gnome\gnopts.h $(HACK_H) \
+		$(INCL)\date.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnmain.c
+$(O)gnmap.o: ..\win\gnome\gnmap.c ..\win\gnome\gnmap.h ..\win\gnome\gnglyph.h \
+		..\win\gnome\gnsignal.h $(HACK_H)
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnmap.c
+$(O)gnmenu.o: ..\win\gnome\gnmenu.c ..\win\gnome\gnmenu.h ..\win\gnome\gnmain.h \
+		..\win\gnome\gnbind.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnmenu.c
+$(O)gnmesg.o: ..\win\gnome\gnmesg.c ..\win\gnome\gnmesg.h ..\win\gnome\gnsignal.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnmesg.c
+$(O)gnopts.o: ..\win\gnome\gnopts.c ..\win\gnome\gnopts.h ..\win\gnome\gnglyph.h \
+		..\win\gnome\gnmain.h ..\win\gnome\gnmap.h $(HACK_H)
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnopts.c
+$(O)gnplayer.o: ..\win\gnome\gnplayer.c ..\win\gnome\gnplayer.h \
+		..\win\gnome\gnmain.h $(HACK_H)
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnplayer.c
+$(O)gnsignal.o: ..\win\gnome\gnsignal.c ..\win\gnome\gnsignal.h \
+		..\win\gnome\gnmain.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnsignal.c
+$(O)gnstatus.o: ..\win\gnome\gnstatus.c ..\win\gnome\gnstatus.h \
+		..\win\gnome\gnsignal.h ..\win\gnome\gn_xpms.h \
+		..\win\gnome\gnomeprv.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnstatus.c
+$(O)gntext.o: ..\win\gnome\gntext.c ..\win\gnome\gntext.h ..\win\gnome\gnmain.h \
+		..\win\gnome\gn_rip.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gntext.c
+$(O)gnyesno.o: ..\win\gnome\gnyesno.c ..\win\gnome\gnbind.h ..\win\gnome\gnyesno.h
+	$(cc) $(CFLAGS) $(GNOMEINC) -c ..\win\gnome\gnyesno.c
+$(O)wingem.o: ..\win\gem\wingem.c $(HACK_H) $(INCL)\func_tab.h $(INCL)\dlb.h \
+		$(INCL)\patchlevel.h $(INCL)\wingem.h
+	$(cc) $(CFLAGS) -o$@ ..\win\gem\wingem.c
+$(O)wingem1.o: ..\win\gem\wingem1.c $(INCL)\gem_rsc.h $(INCL)\load_img.h \
+		$(INCL)\wintype.h $(INCL)\wingem.h
+	$(cc) $(CFLAGS) -o$@ ..\win\gem\wingem1.c
+$(O)load_img.o: ..\win\gem\load_img.c $(INCL)\load_img.h
+	$(cc) $(CFLAGS) -o$@ ..\win\gem\load_img.c
+$(O)tile.o: tile.c $(HACK_H)
+$(O)qt_win.o: ..\win\Qt\qt_win.cpp $(HACK_H) $(INCL)\func_tab.h \
+		$(INCL)\dlb.h $(INCL)\patchlevel.h $(INCL)\qt_win.h \
+		$(INCL)\qt_clust.h $(INCL)\qt_kde0.h \
+		$(INCL)\qt_xpms.h qt_win.moc qt_kde0.moc
+	$(CXX) $(CXXFLAGS) -c ..\win\Qt\qt_win.cpp
+$(O)qt_clust.o: ..\win\Qt\qt_clust.cpp $(INCL)\qt_clust.h
+	$(CXX) $(CXXFLAGS) -c ..\win\Qt\qt_clust.cpp
+$(O)monstr.o: $(SRC)\monstr.c $(CONFIG_H)
+$(O)vis_tab.o: $(SRC)\vis_tab.c $(CONFIG_H) $(INCL)\vis_tab.h
+$(O)allmain.o: allmain.c $(HACK_H)
+$(O)alloc.o: alloc.c $(CONFIG_H)
+$(O)apply.o: apply.c $(HACK_H) $(INCL)\edog.h
+$(O)artifact.o: artifact.c $(HACK_H) $(INCL)\artifact.h $(INCL)\artilist.h
+$(O)attrib.o: attrib.c $(HACK_H) $(INCL)\artifact.h
+$(O)ball.o: ball.c $(HACK_H)
+$(O)bones.o: bones.c $(HACK_H) $(INCL)\lev.h
+$(O)botl.o: botl.c $(HACK_H)
+$(O)cmd.o: cmd.c $(HACK_H) $(INCL)\func_tab.h
+$(O)dbridge.o: dbridge.c $(HACK_H)
+$(O)decl.o: decl.c $(HACK_H)
+$(O)detect.o: detect.c $(HACK_H) $(INCL)\artifact.h
+$(O)dig.o: dig.c $(HACK_H) $(INCL)\edog.h
+$(O)display.o: display.c $(HACK_H)
+$(O)dlb.o: dlb.c $(CONFIG_H) $(INCL)\dlb.h
+$(O)do.o: do.c $(HACK_H) $(INCL)\lev.h
+$(O)do_name.o: do_name.c $(HACK_H)
+$(O)do_wear.o: do_wear.c $(HACK_H)
+$(O)dog.o: dog.c $(HACK_H) $(INCL)\edog.h
+$(O)dogmove.o: dogmove.c $(HACK_H) $(INCL)\mfndpos.h $(INCL)\edog.h
+$(O)dokick.o: dokick.c $(HACK_H) $(INCL)\eshk.h
+$(O)dothrow.o: dothrow.c $(HACK_H) $(INCL)\edog.h
+$(O)drawing.o: drawing.c $(HACK_H) $(INCL)\tcap.h
+$(O)dungeon.o: dungeon.c $(HACK_H) $(INCL)\dgn_file.h $(INCL)\dlb.h
+$(O)eat.o: eat.c $(HACK_H)
+$(O)end.o: end.c $(HACK_H) $(INCL)\eshk.h $(INCL)\dlb.h
+$(O)engrave.o: engrave.c $(HACK_H) $(INCL)\lev.h
+$(O)exper.o: exper.c $(HACK_H)
+$(O)explode.o: explode.c $(HACK_H)
+$(O)extralev.o: extralev.c $(HACK_H)
+$(O)files.o: files.c $(HACK_H) $(INCL)\dlb.h
+$(O)fountain.o: fountain.c $(HACK_H)
+$(O)hack.o: hack.c $(HACK_H)
+$(O)hacklib.o: hacklib.c $(HACK_H)
+$(O)invent.o: invent.c $(HACK_H) $(INCL)\artifact.h
+$(O)light.o: light.c $(HACK_H) $(INCL)\lev.h
+$(O)lock.o: lock.c $(HACK_H)
+$(O)mail.o: mail.c $(HACK_H) $(INCL)\mail.h
+$(O)makemon.o: makemon.c $(HACK_H) $(INCL)\epri.h $(INCL)\emin.h \
+		$(INCL)\edog.h
+$(O)mapglyph.o: mapglyph.c $(HACK_H)
+$(O)mcastu.o: mcastu.c $(HACK_H)
+$(O)mhitm.o: mhitm.c $(HACK_H) $(INCL)\artifact.h $(INCL)\edog.h
+$(O)mhitu.o: mhitu.c $(HACK_H) $(INCL)\artifact.h $(INCL)\edog.h
+$(O)minion.o: minion.c $(HACK_H) $(INCL)\emin.h $(INCL)\epri.h
+$(O)mklev.o: mklev.c $(HACK_H)
+$(O)mkmap.o: mkmap.c $(HACK_H) $(INCL)\sp_lev.h
+$(O)mkmaze.o: mkmaze.c $(HACK_H) $(INCL)\sp_lev.h $(INCL)\lev.h
+$(O)mkobj.o: mkobj.c $(HACK_H) $(INCL)\artifact.h
+$(O)mkroom.o: mkroom.c $(HACK_H)
+$(O)mon.o: mon.c $(HACK_H) $(INCL)\mfndpos.h $(INCL)\edog.h
+$(O)mondata.o: mondata.c $(HACK_H) $(INCL)\eshk.h $(INCL)\epri.h
+$(O)monmove.o: monmove.c $(HACK_H) $(INCL)\mfndpos.h $(INCL)\artifact.h
+$(O)monst.o: monst.c $(CONFIG_H) $(INCL)\permonst.h $(INCL)\align.h \
+		$(INCL)\monattk.h $(INCL)\monflag.h $(INCL)\monsym.h \
+		$(INCL)\dungeon.h $(INCL)\eshk.h $(INCL)\vault.h \
+		$(INCL)\epri.h $(INCL)\color.h
+$(O)mplayer.o: mplayer.c $(HACK_H)
+$(O)mthrowu.o: mthrowu.c $(HACK_H)
+$(O)muse.o: muse.c $(HACK_H) $(INCL)\edog.h
+$(O)music.o: music.c $(HACK_H) #interp.c
+$(O)o_init.o: o_init.c $(HACK_H) $(INCL)\lev.h
+$(O)objects.o: objects.c $(CONFIG_H) $(INCL)\obj.h $(INCL)\objclass.h \
+		$(INCL)\prop.h $(INCL)\skills.h $(INCL)\color.h
+$(O)objnam.o: objnam.c $(HACK_H)
+$(O)options.o: options.c $(CONFIG_H) $(INCL)\objclass.h $(INCL)\flag.h \
+		$(HACK_H) $(INCL)\tcap.h
+$(O)pager.o: pager.c $(HACK_H) $(INCL)\dlb.h
+$(O)pickup.o: pickup.c $(HACK_H)
+$(O)pline.o: pline.c $(HACK_H) $(INCL)\epri.h $(INCL)\edog.h
+$(O)polyself.o: polyself.c $(HACK_H)
+$(O)potion.o: potion.c $(HACK_H)
+$(O)pray.o: pray.c $(HACK_H) $(INCL)\epri.h
+$(O)priest.o: priest.c $(HACK_H) $(INCL)\mfndpos.h $(INCL)\eshk.h \
+		$(INCL)\epri.h $(INCL)\emin.h
+$(O)quest.o: quest.c $(HACK_H) $(INCL)\qtext.h
+$(O)questpgr.o: questpgr.c $(HACK_H) $(INCL)\dlb.h $(INCL)\qtext.h
+$(O)read.o: read.c $(HACK_H)
+$(O)rect.o: rect.c $(HACK_H)
+$(O)region.o: region.c $(HACK_H) $(INCL)\lev.h
+$(O)restore.o: restore.c $(HACK_H) $(INCL)\lev.h $(INCL)\tcap.h
+$(O)rip.o: rip.c $(HACK_H)
+$(O)rnd.o: rnd.c $(HACK_H)
+$(O)role.o: role.c $(HACK_H)
+$(O)rumors.o: rumors.c $(HACK_H) $(INCL)\lev.h $(INCL)\dlb.h
+$(O)save.o: save.c $(HACK_H) $(INCL)\lev.h
+$(O)shk.o: shk.c $(HACK_H) $(INCL)\eshk.h
+$(O)shknam.o: shknam.c $(HACK_H) $(INCL)\eshk.h
+$(O)sit.o: sit.c $(HACK_H) $(INCL)\artifact.h
+$(O)sounds.o: sounds.c $(HACK_H) $(INCL)\edog.h
+$(O)sp_lev.o: sp_lev.c $(HACK_H) $(INCL)\dlb.h $(INCL)\sp_lev.h
+$(O)spell.o: spell.c $(HACK_H)
+$(O)steal.o: steal.c $(HACK_H)
+$(O)steed.o: steed.c $(HACK_H)
+$(O)teleport.o: teleport.c $(HACK_H)
+$(O)timeout.o: timeout.c $(HACK_H) $(INCL)\lev.h
+$(O)topten.o: topten.c $(HACK_H) $(INCL)\dlb.h $(INCL)\patchlevel.h
+$(O)track.o: track.c $(HACK_H)
+$(O)trap.o: trap.c $(HACK_H)
+$(O)u_init.o: u_init.c $(HACK_H)
+$(O)uhitm.o: uhitm.c $(HACK_H)
+$(O)vault.o: vault.c $(HACK_H) $(INCL)\vault.h
+$(O)version.o: version.c $(HACK_H) $(INCL)\date.h $(INCL)\patchlevel.h
+$(O)vision.o: vision.c $(HACK_H) $(INCL)\vis_tab.h
+$(O)weapon.o: weapon.c $(HACK_H)
+$(O)were.o: were.c $(HACK_H)
+$(O)wield.o: wield.c $(HACK_H)
+$(O)windows.o: windows.c $(HACK_H) $(INCL)\wingem.h $(INCL)\winGnome.h
+$(O)wizard.o: wizard.c $(HACK_H) $(INCL)\qtext.h
+$(O)worm.o: worm.c $(HACK_H) $(INCL)\lev.h
+$(O)worn.o: worn.c $(HACK_H)
+$(O)write.o: write.c $(HACK_H)
+$(O)zap.o: zap.c $(HACK_H)
+
+# end of file
+
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\Makefile.gcc SlashTNG-master\src\Makefile.gcc
--- slashem-0.0.7E7F3\src\Makefile.gcc	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\Makefile.gcc	Sun Jan 01 01:46:55 2017
@@ -0,0 +1,2022 @@
+#       $Id: Makefile.gcc,v 1.49 2004/01/20 20:58:47 entro-p Exp $
+#       Copyright (c) NetHack PC Development Team 1993-2003
+#       Copyright (c) Karl Garrison 1999
+#       Copyright (c) Slash'EM Development Team 1999-2003
+#
+#       Slash'EM 0.0.7 Makefile for MinGW 2.0 and above and Gtk+ 2.0 and above
+#  
+#       Win32 systems tested:
+#				- Windows 95
+#				- Windows 2000 SP1
+#
+#       Win32 compilers tested:
+#				- MinGW 2.0.0-3
+#
+#	Win32 libraries tested:
+#				- Gtk+ Development Environment 2.2.4.1
+#
+#       In addition to your C compiler,
+#
+#       if you want to change           you will need a
+#       files with suffix               workalike for
+#              .y                           yacc   (such as bison)
+#              .l                           lex    (such as flex)
+#
+#
+#       If you have any questions read the sys/winnt/Install.gcc file included 
+#       with the distribution.
+#
+#       Note that compiling will fail under WinNT (including Win2k and XP) if
+#       the command line gets too long (eg., your directory names are longer
+#       than the default).
+
+# Game Installation Variables
+
+GAME = SlashTNG
+# The GNU Make has a problem if you include a drive spec below (unfortunately).
+GAMEDIR = \games\SlashTNG
+
+#
+# Directories
+#
+
+# These are for MinGW's GCC,  which gets confused by \ 
+DDAT  = ../dat
+DUTIL = ../util
+DSRC  = ../src
+DINCL = ../include
+NTSYS = ../sys/winnt
+MW32GTK = /win-gtk
+
+# Normal dos commands get confused by \\
+DAT  = ..\dat
+DOC  = ..\doc
+INCL = ..\include
+WSYS = ..\sys\winnt
+SRC  = ..\src
+SSHR = ..\sys\share
+UTIL = ..\util
+WTTY = ..\win\tty
+WIN32 = ..\win\win32
+WGTK = ..\win\gtk
+WSHR = ..\win\share
+
+#
+#  Executables.
+
+CC     = gcc
+RC     = windres
+LINK   = gcc
+
+#
+# The MinGW switch needed to specify Microsoft packing & alignment rules
+# (use gcc --target-help if you're not sure)
+MS_BITFIELDS = -mms-bitfields
+# MS_BITFIELDS = -fnative-struct
+
+# The copy, del and echo commands don't work from a makefile since they are
+# internal shell commands rather than external utilities.  We can get around
+# this by specifying an external utility that performs the same function like
+# the cp and rm commands from Cygwin32, or xcopy for copy.  Another way to do
+# it is to call the shell explicitly and use the /c option to run the built-in
+# command.  All of these examples appear below.
+
+#COPY = command.com /c copy
+#COPY = cmd.exe /c copy	# Same as above, but for Windows NT
+#COPY = xcopy		# MSDOS xcopy command (asks if target File or Dir)
+#COPY = cp		# UNIX copy command
+COPY = copy /y		# MSDOS copy command (gets confused by '+')
+RCOPY = xcopy /y /s
+#RCOPY = cp -r
+#DEL = command.com /c del
+#DEL = cmd.exe /c del	# Same as above, but for Windows NT
+#DEL = rm -f 		# UNIX del command
+DEL = del 		# MSDOS del command
+#RDEL = deltree		# Win 95 recursive del command
+RDEL = rd /s /q		# Win 2K recursive del command
+#RDEL = rm -rf
+# Echo is very sensitive to trailing spaces so comments should be avoided
+# on the following lines, which define Win95, NT, UNIX and MS-DOS versions.
+#ECHO = command.com /c echo
+#ECHO = cmd.exe /c echo
+#ECHO = echo.exe
+ECHO = echo
+#LS = ls -1		# ls.exe from djgpp distribution
+LS = dir /l/b/-p	# DOS command WAC - disable pause for dos6
+#LS = *dir /l/b/z	# 4DOS command - cuts through ALIASes
+
+#
+#  Yacc/Lex ... if you got 'em.
+#
+# If you have yacc/lex or a work-alike set YACC_LEX to Y
+#
+YACC_LEX = N
+
+# If YACC_LEX is Y above, set the following to values appropriate for
+# your tools.
+#
+YACC   = bison -y -o y_tab.c
+LEX    = flex
+# Win32 versions
+#YTABC  = y.tab.c
+#YTABH  = y.tab.h
+#LEXYYC = lex.yy.c
+# DJGPP bison/lex doesn't use LFN
+YTABC  = y_tab.c
+YTABH  = y_tab.h
+LEXYYC = lexyy.c
+
+#
+# Uncomment the line below if you want to store all the level files,
+# help files, etc. in a single library file.
+
+USE_DLB = Y
+
+# To build a binary without any graphics
+# suitable for blind players,
+# set SUPPRESS_GRAPHICS to Y
+# (Note: binary will require ANSI.SYS driver or equivalent loaded)
+# SUPPRESS_GRAPHICS = Y
+
+#
+# Uncomment the line below if you want to compile with the native
+# MS-Windows graphics windowsystem.  You will also need to define
+# MSWIN_GRAPHICS in config.h.
+
+# USE_MSWIN = Y
+
+#
+# Uncomment the line below if you want to compile with the GTK windowsystem.
+# You will also need to define GTK_GRAPHICS in config.h.
+
+# USE_GTK = Y
+
+#
+# Uncomment the line below if you want to compile with the proxy system.
+# You will also need to define PROXY_GRAPHICS in config.h.
+
+# USE_PROXY = Y
+
+#
+# Uncomment USE_GTK, USE_PROXY and the line below if you want to build a
+# proxified GTK interface.  You will also need to define GTK_PROXY in config.h.
+
+# USE_PROXIFIED = Y
+
+#
+# Uncomment the line below if you want to compile with the internal malloc
+# routines (used to test for memory leaks).
+# You will also need to define MONITOR_HEAP and INTERNAL_MALLOC in config.h
+#
+# Warning: Doing this increases the risk of a non-recoverable game crash.
+
+# USE_NHALLOC = Y
+
+
+#############################################################################
+#
+# nothing below this line should have to be changed
+#
+
+SOUND = ntsound.o
+
+#SOUND =
+
+GAMEFILE = $(GAMEDIR)\$(GAME).exe
+
+# Changing this conditional block is not recommended
+ifeq ($(USE_DLB),Y)
+DLBFLG = -DDLB
+else
+DLBFLG =
+endif
+
+#
+#  Flags.
+#
+ifeq ($(SUPPRESS_GRAPHICS),Y)
+TERMLIB =
+# Build NetHack suitable for blind players
+
+# Debugging
+#CFLAGS = -pg -c -I../include $(DLBFLG) -DSUPPRESS_GRAPHICS
+#LFLAGS = -pg
+
+CFLAGS = -c -O -I../include $(DLBFLG) -DSUPPRESS_GRAPHICS
+LFLAGS =
+
+else
+
+# Debugging
+#CFLAGS = -pg -c -I..\include $(DLBFLG)
+#LFLAGS = -pg
+
+#    Normal
+CFLAGS = -c -O -I../include $(DLBFLG)
+LFLAGS =
+
+# Comment out this line if you have also commented out TTY_GRAPHICS in config.h
+CFLAGS += -DWIN32CON
+endif
+
+# The pkg-config executable
+PKG_CONFIG = $(MW32GTK)/bin/pkg-config
+# A semi-colon seperated list of directories to add to the path when
+# calling pkg-config so that MS-Windows can find the DLLs needed.
+PKG_CONFIG_DLL = $(MW32GTK)/lib
+# A semi-colon seperated list of directories to add to PKG_CONFIG_PATH
+# so that pkg-config can find the package config files (eg., gtk+-2.0.pc).
+PKG_CONFIG_PATH = $(MW32GTK)/lib/pkgconfig
+# The pkg-config commands
+GTKCFLAGS = $(PKG_CONFIG) --cflags gtk+-2.0 libpng
+GTKLIBS = $(PKG_CONFIG) --libs gtk+-2.0 libpng
+
+# Select Windowing system(s) below
+# GTK windowing system
+WINGTKCFLAGS=
+
+# Set the WINSRC, WINOBJ, and WINLIB lines to correspond to your desired
+# combination of windowing systems.  Also set windowing systems in config.h.
+#
+# files for a straight tty port using no native windowing system
+WINTTYSRC = ../win/tty/getline.c ../win/tty/termcap.c ../win/tty/topl.c \
+	../win/tty/wintty.c 
+WINTTYOBJ = getline.o termcap.o topl.o wintty.o 
+#
+# files for a native MS-Windows port
+# (tile.c is included in the defn. for WINCSRC, below)
+ifeq ($(USE_MSWIN),Y)
+WINMSCFLAGS=-I../win/win32 -D_WIN32_IE=0x0400
+WINMSSRC = ../win/win32/mswproc.c ../win/win32/winhack.c ../win/win32/mhdlg.c \
+	../win/win32/mhaskyn.c ../win/win32/mhfont.c ../win/win32/mhinput.c \
+	../win/win32/mhmain.c ../win/win32/mhmsgwnd.c ../win/win32/mhsplash.c \
+	../win/win32/mhstatus.c ../win/win32/mhtext.c ../win/win32/mhmenu.c \
+	../win/win32/mhmap.c ../win/win32/mhrip.c
+WINMSOBJ1 = mswproc.o winhack.o mhdlg.o mhaskyn.o mhfont.o mhinput.o mhmain.o
+WINMSOBJ2 = mhmsgwnd.o mhsplash.o mhstatus.o mhtext.o mhmenu.o mhmap.o mhrip.o
+endif
+#
+# files for a GTK port
+# (tile.c is included in the defn. for WINCSRC, below)
+ifeq ($(USE_GTK),Y)
+WINGTKSRC = ../win/gtk/gtk.c ../win/gtk/gtkgetlin.c ../win/gtk/gtkstatus.c \
+	../win/gtk/gtkmenu.c ../win/gtk/gtkyn.c ../win/gtk/gtkextcmd.c \
+	../win/gtk/gtkmap.c ../win/gtk/gtkmessage.c ../win/gtk/gtkmisc.c \
+	../win/gtk/xshmmap.c ../win/gtk/gtktile.c ../win/gtk/gtkhackrc.c \
+	../win/gtk/gtkprefs.c ../win/gtk/gtkprogress.c ../win/gtk/gtkint.c \
+	../win/gtk/gtkext.c
+WINGTKOBJ1 = gtk.o gtkgetlin.o gtkstatus.o gtkmenu.o gtkyn.o gtkextcmd.o \
+	gtkmap.o gtkmessage.o gtkmisc.o xshmmap.o
+WINGTKOBJ2 = gtktile.o gtkhackrc.o gtkprefs.o gtkprogress.o gtkint.o gtkext.o
+endif
+#
+# Files for a proxy interface.
+ifeq ($(USE_PROXY),Y)
+WINPROXYSRC = ../win/proxy/winproxy.c ../win/proxy/callback.c
+WINPROXYOBJ = winproxy.o callback.o
+endif
+#
+# Common files for proxy window interface and window servers.
+PROXYCOMSRC = ../win/proxy/nhext.c ../win/proxy/nhxdr.c \
+	../win/proxy/nhextxdr.c ../win/proxy/nhextio.c ../win/proxy/nhextnb.c \
+	../win/proxy/compxdr.c
+PROXYCOMOBJ = nhext.o nhxdr.o nhextxdr.o nhextio.o nhextnb.o compxdr.o
+# Common files that are also shared with non-proxy window interfaces
+PROXYSHRSRC = ../win/proxy/md5.c
+PROXYSHROBJ = md5.o
+# Files for the proxy utility modules. These are provided for use with window
+# ports that support the proxy interface. The GTK window interface needs
+# these files regardless of whether proxy support is enabled or not.
+PROXYUTLSRC = ../win/proxy/dlbh.c ../win/proxy/mapid.c \
+	../win/proxy/riputil.c ../win/proxy/getopt.c ../win/proxy/glyphmap.c
+PROXYUTLOBJ = dlbh.o mapid.o riputil.o getopt.o glyphmap.o
+#
+# Files for plug-in window interfaces. These are needed to support external
+# window ports and provide the interface to the game executable.  Currently,
+# only the GTK window interface supports plug-in window interfaces.
+PROXYCLNTSRC = ../win/proxy/proxysvc.c ../win/proxy/proxycb.c \
+	../win/proxy/prxymap.c ../win/proxy/prxychar.c ../win/proxy/prxytile.c \
+	../win/proxy/prxyconn.c
+PROXYCLNTOBJ = proxysvc.o proxycb.o prxymap.o prxychar.o prxytile.o prxyconn.o
+
+WINSRC = $(WINTTYSRC)
+WOBJ01 = $(WINTTYOBJ)
+WOBJ02 =
+WOBJ03 =
+WOBJ04 =
+
+CCOMPILE = $(CC) $(MS_BITFIELDS)
+
+ifeq ($(USE_MSWIN),Y)
+USE_GUI = Y
+WINSRC += $(WINMSSRC)
+WOBJ02 += $(WINMSOBJ1)
+WOBJ03 += $(WINMSOBJ2)
+WOBJ04 += winres.o tile.o
+LFLAGS += -mwindows -Wl,-Map,slashem.map -v
+else	# USE_MSWIN
+ifeq ($(USE_GTK),Y)
+USE_GUI = Y
+USE_PNG = Y
+WINSRC += $(WINGTKSRC)
+WOBJ02 += $(WINGTKOBJ1)
+WOBJ03 += $(WINGTKOBJ2)
+LFLAGS += -mwindows
+ifneq ($(USE_PROXY),Y)
+WINSRC += $(PROXYUTLSRC) $(PROXYSHRSRC)
+WOBJ04 += tile.o
+WOBJ05 += $(PROXYUTLOBJ) $(PROXYSHROBJ)
+endif	# USE_PROXY
+endif	# USE_GTK
+endif	# USE_MSWIN
+
+ifeq ($(USE_PROXY),Y)
+USE_PNG = Y
+WINSRC += $(WINPROXYSRC) $(PROXYUTLSRC) $(PROXYCOMSRC) $(PROXYSHRSRC)
+WOBJ02 += $(WINPROXYOBJ)
+WOBJ03 += $(PROXYCOMOBJ) $(PROXYSHROBJ)
+ifneq ($(USE_MSWIN),Y)
+WOBJ04 += tile.o
+endif
+WOBJ05 += $(PROXYUTLOBJ)
+endif
+
+ifeq ($(USE_PROXIFIED),Y)
+WINSRC += $(PROXYCLNTSRC)
+WOBJ04 += $(PROXYCLNTOBJ)
+endif
+
+WINOBJ = $(WOBJ01) $(WOBJ02) $(WOBJ03) $(WOBJ04) $(WOBJ05)
+
+#
+# The definition of WINLIB (below) must also be changed to match
+# WINSRC & WINOBJ.
+#
+
+WINTTYLIB =
+
+# libraries for native MS-Windows
+ifeq ($(USE_MSWIN),Y)
+WINMSLIB = libcomctl32.a libgdi32.a
+endif
+
+# libraries for GTK
+# Note: cc-gtk handles Gtk+ and its dependencies.
+ifeq ($(USE_GTK),Y)
+WINGTKLIB =
+endif
+
+ifeq ($(USE_PROXY),Y)
+WINPROXYLIB = libwsock32.a
+endif
+
+WINLIB = $(WINTTYLIB)
+
+ifeq ($(USE_MSWIN),Y)
+WINLIB += $(WINMSLIB)
+endif
+
+ifeq ($(USE_GTK),Y)
+WINLIB +=$(WINGTKLIB)
+endif
+
+ifeq ($(USE_PROXY),Y)
+WINLIB += $(WINPROXYLIB)
+endif
+
+# Shareable (architecture independent) data files which are not candidates
+# for inclusion in DLB libraries (ND). Port specific files per discussions
+# in Install.GTK and Install.pxy
+CNF_SHARE_GTKND = gltile16.png gltile32.png gltile64.png rip.xpm credit.xpm
+CNF_SHARE_PROXYND = gltile16.png gltile32.png gltile64.png \
+		gltile16.map gltile32.map gltile64.map
+
+ifeq ($(USE_GTK),Y)
+CNF_SHARE_DATND += $(CNF_SHARE_GTKND)
+endif
+
+ifeq ($(USE_PROXY),Y)
+CNF_SHARE_DATND += $(CNF_SHARE_PROXYND)
+endif
+
+ifeq ($(USE_PNG),Y)
+CCGTK = cc-gtk -v -c $(CCOMPILE)
+endif
+
+#
+#  Utility Objects.
+#
+
+ifeq ($(USE_NHALLOC),Y)
+NHALLOCOBJ = nhalloc.o
+NHALLOCDLL = nhalloc.dll
+NHALLOCA = nhalloc.a
+else
+NHALLOCOBJ =
+NHALLOCDLL =
+NHALLOCA =
+endif
+
+MAKESRC	    = makedefs.c
+
+SPLEVSRC    = lev_yacc.c  lev_$(LEX).c	 lev_main.c  panic.c
+
+DGNCOMPSRC  = dgn_yacc.c  dgn_$(LEX).c	 dgn_main.c
+
+MAKEOBJS    = makedefs.o  monst.o	 objects.o alloc.o panic.o $(NHALLOCOBJ)
+
+SPLEVOBJS   = lev_yacc.o  lev_$(LEX).o	lev_main.o  alloc.o	\
+		monst.o	    objects.o	    panic.o  \
+		drawing.o	decl.o $(NHALLOCOBJ)
+
+DGNCOMPOBJS = dgn_yacc.o  dgn_$(LEX).o	dgn_main.o  alloc.o	 \
+		panic.o $(NHALLOCOBJ)
+
+RECOVOBJS   = recover.o
+
+
+#  Tile related object files.
+
+ifeq ($(SUPPRESS_GRAPHICS),Y)
+TILOBJ       =
+TEXTIO       =
+TEXTIO2      =
+PLANAR_TIB   =
+OVERVIEW_TIB =
+TILEUTIL     = 
+TILEFILES    = 
+TILEFILES2   = 
+GIFREADERS   = 
+GIFREAD2     = 
+PPMWRITERS   = 
+PPMWRIT2     = 
+
+else
+
+TEXTIO      = tiletext.o tiletxt.o drawing.o decl.o monst.o objects.o \
+              panic.o alloc.o $(NHALLOCOBJ)
+
+TEXTIO2     = tiletex2.o tiletxt2.o drawing.o decl.o monst.o objects.o \
+              panic.o alloc.o $(NHALLOCOBJ)
+
+
+PLANAR_TIB  = NetHack1.tib
+
+OVERVIEW_TIB = NetHacko.tib
+
+DLBOBJ = dlb.o
+endif
+
+
+#  Object files for the game itself.
+
+VOBJ01 = allmain.o  alloc.o    apply.o	  artifact.o attrib.o
+VOBJ02 = ball.o	    bones.o    borg.o	  botl.o     cmd.o 	dbridge.o
+VOBJ03 = decl.o	    detect.o   display.o  do.o	     do_name.o
+VOBJ04 = do_wear.o  dog.o      dogmove.o  dokick.o   dothrow.o
+VOBJ05 = drawing.o  dungeon.o  eat.o	  end.o	     engrave.o
+VOBJ06 = exper.o    explode.o  extralev.o files.o    fountain.o
+VOBJ07 = hack.o     hacklib.o  invent.o   lock.o
+VOBJ08 = mail.o	    pcmain.o   makemon.o  mcastu.o   mhitm.o
+VOBJ09 = mhitu.o    minion.o   mkmap.o	  mklev.o    mkmaze.o
+VOBJ10 = mkobj.o    mkroom.o   mon.o	  mondata.o  monmove.o
+VOBJ11 = monst.o    monstr.o   mplayer.o  mthrowu.o  muse.o
+VOBJ12 = music.o    o_init.o   objects.o  objnam.o   options.o
+VOBJ13 = pickup.o   pline.o    polyself.o potion.o   quest.o
+VOBJ14 = questpgr.o pager.o    pray.o	  priest.o   read.o
+VOBJ15 = rect.o	    restore.o  rip.o	  rnd.o	     role.o
+VOBJ16 = rumors.o   save.o     shk.o      shknam.o   sit.o
+VOBJ17 = sounds.o   sp_lev.o   spell.o    steal.o    steed.o
+VOBJ18 = timeout.o  topten.o   track.o
+VOBJ19 = trap.o     u_init.o   uhitm.o    vault.o    vision.o
+VOBJ20 = vis_tab.o  weapon.o   were.o	  wield.o    windows.o
+VOBJ21 = wizard.o   worm.o     worn.o     write.o
+VOBJ22 = zap.o	    light.o    dlb.o      dig.o      teleport.o
+VOBJ23 = region.o   tech.o     gypsy.o    mapglyph.o
+
+SOBJ   = winnt.o    pcsys.o    pcunix.o   nttty.o    random.o \
+	 $(SOUND)   nhlan.o
+#	 $(SOUND)   mapimail.o nhlan.o
+
+SYSLIB = libwinmm.a
+
+VVOBJ  = version.o
+
+VOBJ   = $(VOBJ01) $(VOBJ02) $(VOBJ03) $(VOBJ04) $(VOBJ05) \
+	$(VOBJ06) $(VOBJ07) $(VOBJ08) $(VOBJ09) $(VOBJ10) \
+	$(VOBJ11) $(VOBJ12) $(VOBJ13) $(VOBJ14) $(VOBJ15) \
+	$(VOBJ16) $(VOBJ17) $(VOBJ18) $(VOBJ19) $(VOBJ20) \
+	$(VOBJ21) $(VOBJ22) $(VOBJ23)
+
+ALLOBJ = $(VOBJ) $(SOBJ) $(VVOBJ) $(WINOBJ)
+
+#
+#  Header Objects.
+#
+
+DGN_FILE_H = $(INCL)\align.h	$(INCL)\dgn_file.h
+DUNGEON_H  = $(INCL)\align.h	$(INCL)\dungeon.h
+EMIN_H	   = $(DUNGEON_H)	$(INCL)\emin.h
+EPRI_H	   = $(DUNGEON_H)	$(INCL)\align.h	    $(INCL)\epri.h
+ESHK_H	   = $(DUNGEON_H)	$(INCL)\eshk.h
+MONDATA_H  = $(INCL)\align.h	$(INCL)\mondata.h
+MONST_H	   = $(INCL)\align.h	$(INCL)\monst.h
+NHLAN_H    = $(INCL)\nhlan.h
+PERMONST_H = $(INCL)\monattk.h	$(INCL)\monflag.h   $(INCL)\align.h   \
+	     $(INCL)\permonst.h
+REGION_H   = $(INCL)\region.h
+RM_H	   = $(INCL)\align.h	$(INCL)\rm.h
+SKILLS_H   = $(INCL)\skills.h
+SP_LEV_H   = $(INCL)\align.h	$(INCL)\sp_lev.h
+VAULT_H	   = $(DUNGEON_H)	$(INCL)\vault.h
+YOUPROP_H  = $(PERMONST_H)	$(MONDATA_H)	    $(INCL)\prop.h    \
+	     $(INCL)\pm.h       $(INCL)\youprop.h
+YOU_H	   = $(MONST_H)		$(YOUPROP_H)	    $(INCL)\align.h   \
+	     $(INCL)\attrib.h	$(INCL)\you.h
+DISPLAY_H  = $(MONDATA_H)	$(INCL)\vision.h    $(INCL)\display.h
+NTCONF_H   = $(INCL)\micro.h	$(INCL)\system.h    $(INCL)\ntconf.h
+CONFIG_H   = $(GLOBAL_H)	$(INCL)\tradstdc.h  $(INCL)\config1.h \
+	     $(INCL)\config.h
+DECL_H	   = $(YOU_H)		$(INCL)\spell.h	    $(INCL)\color.h   \
+	     $(INCL)\obj.h	$(INCL)\onames.h    $(INCL)\pm.h      \
+	     $(INCL)\decl.h
+GLOBAL_H   = $(NTCONF_H)	$(INCL)\coord.h	    $(INCL)\global.h
+HACK_H	   = $(CONFIG_H)	$(DUNGEON_H)	    $(DECL_H)	      \
+	     $(DISPLAY_H)	$(INCL)\monsym.h    $(INCL)\mkroom.h  \
+	     $(INCL)\objclass.h $(INCL)\trap.h	    $(INCL)\flag.h    \
+	     $(RM_H)		$(INCL)\vision.h    $(INCL)\wintype.h \
+	     $(INCL)\engrave.h	$(INCL)\rect.h	    $(INCL)\hack.h    \
+	     $(REGION_H)	$(INCL)\trampoli.h
+DLB_H      = $(INCL)\dlb.h
+
+#ifeq ($(SUPPRESS_GRAPHICS),Y)
+#TILE_H     =
+#else
+#TILE_H	   = $(INCL)\tile.h $(INCL)\pctiles.h
+#endif
+
+ifeq ($(USE_DLB),Y)
+DLB = $(DAT)\nhshare $(DAT)\nhushare
+DLBOBJS = dlb_main.o dlb.o alloc.o panic.o $(NHALLOCOBJ)
+else
+DLB =
+DLBOBJS =
+endif
+
+#
+#  Make Rules.
+#
+
+.SUFFIXES:  .exe .o .c .y .l
+
+.c.o:
+	$(CCOMPILE) $(CFLAGS) -o$@ $<
+
+#.phony: dlb
+
+#
+#  Primary Targets.
+#
+
+#  The default target.
+
+default: $(GAMEFILE)
+
+all: install.tag
+
+util: utility.tag
+
+install: install.tag
+
+utility.tag: $(INCL)\date.h $(INCL)\trap.h    $(INCL)\onames.h	       \
+	$(INCL)\pm.h	  monstr.c   vis_tab.c	$(INCL)\filename.h\
+	lev_comp.exe	 dgn_comp.exe	 recover.exe $(TILEUTIL)
+	$(ECHO) utilities made > utility.tag
+
+install.tag: $(GAMEFILE) dat.tag
+ifeq ($(USE_DLB),Y)
+	$(COPY) $(DAT)\nhshare				$(GAMEDIR)
+	$(COPY) $(DAT)\nhushare				$(GAMEDIR)
+	$(COPY) $(DAT)\license				$(GAMEDIR)
+	$(COPY) $(DAT)\opthelp				$(GAMEDIR)
+else
+	$(COPY) $(DAT)\*.				$(GAMEDIR)
+	$(COPY) $(DAT)\*.dat				$(GAMEDIR)
+	$(COPY) $(DAT)\*.lev				$(GAMEDIR)
+#	$(DEL) $(GAMEDIR)\makefile.
+endif
+ifeq ($(USE_GTK),Y)
+	$(COPY) $(subst /,\,$(WGTK)\GTKRC.w32		$(GAMEDIR)\gtkrc)
+	$(COPY) $(subst /,\,rip.xpm			$(GAMEDIR))
+	$(COPY) $(subst /,\,credit.xpm			$(GAMEDIR))
+	$(COPY) $(subst /,\,$(WSYS)\winnt.cnf		$(GAMEDIR)\defaults.nh)
+else
+	$(COPY) $(subst /,\,$(WSYS)\defaults.nh		$(GAMEDIR)\defaults.nh)
+endif
+ifeq ($(USE_PROXY),Y)
+	$(COPY) $(subst /,\,gltile16.map		$(GAMEDIR))
+	$(COPY) $(subst /,\,gltile32.map		$(GAMEDIR))
+	$(COPY) $(subst /,\,gltile64.map		$(GAMEDIR))
+endif
+ifeq ($(USE_PNG),Y)
+	$(COPY) $(subst /,\,gltile16.png		$(GAMEDIR))
+	$(COPY) $(subst /,\,gltile32.png		$(GAMEDIR))
+	$(COPY) $(subst /,\,gltile64.png		$(GAMEDIR))
+endif
+ifeq ($(USE_NHALLOC),Y)
+	$(COPY) $(subst /,\,nhalloc.dll			$(GAMEDIR))
+endif
+	$(COPY) $(subst /,\,recover.exe			$(GAMEDIR))
+	$(COPY) $(subst /,\,$(DOC)\guidebook.txt	$(GAMEDIR))
+	$(COPY) $(subst /,\,$(DOC)\recover.txt		$(GAMEDIR))
+	$(COPY) $(subst /,\,$(DOC)\slashem.txt		$(GAMEDIR))
+	$(ECHO) install done > install.tag
+
+#  The main target.
+
+gamedir.tag:
+	$(subst /,\,@if not exist $(GAMEDIR)/*.* echo creating directory $(GAMEDIR))
+	$(subst /,\,@if not exist $(GAMEDIR)/*.* mkdir $(GAMEDIR))
+	$(subst /,\,@echo directory created > $@)
+
+FORCE:
+
+ifeq ($(USE_PNG),Y)
+cc-gtk.h:	FORCE
+	@echo #define PKG_CONFIG_DLL "$(PKG_CONFIG_DLL)" > cc-gtk.h
+	@echo #define PKG_CONFIG_PATH "$(PKG_CONFIG_PATH)" >> cc-gtk.h
+	@echo #define GTKCFLAGS "$(GTKCFLAGS)" >> cc-gtk.h
+	@echo #define GTKLIBS "$(GTKLIBS)" >> cc-gtk.h
+
+cc-gtk.exe:	$(WGTK)\cc-gtk.c cc-gtk.h
+	$(COPY) $(WGTK)\cc-gtk.c .
+	$(CC) -o$@ cc-gtk.c
+endif
+
+ifeq ($(USE_GTK),Y)
+$(GAMEFILE): cc-gtk.exe gamedir.tag utility.tag $(NHALLOCDLL) $(NHALLOCA) \
+		$(ALLOBJ) $(GAME).lnk $(GAMEDIR)/nhdefkey.dll \
+		$(GAMEDIR)/nh340key.dll $(GAMEDIR)/nhraykey.dll
+	cc-gtk -l $(LINK) $(LFLAGS) $(GTKGCCFLAGS) -o$(GAME).exe $(GAME).lnk
+	$(COPY) $(GAME).exe $(GAMEFILE)
+	$(DEL) $(GAME).exe
+else
+$(GAMEFILE): gamedir.tag utility.tag $(NHALLOCDLL) $(NHALLOCA) \
+		$(ALLOBJ) $(GAME).lnk $(GAMEDIR)/nhdefkey.dll \
+		$(GAMEDIR)/nh340key.dll $(GAMEDIR)/nhraykey.dll
+	$(LINK) $(LFLAGS) $(GTKGCCFLAGS) -o$(GAME).exe $(GAME).lnk
+	$(COPY) $(GAME).exe $(GAMEFILE)
+	$(DEL) $(GAME).exe
+endif
+
+nhdefkey.o:
+	$(CCOMPILE) $(CFLAGS) -DBUILD_DLL -o$@ $(NTSYS)/nhdefkey.c
+
+$(GAMEDIR)/nhdefkey.dll: nhdefkey.o gamedir.tag
+	@echo Linking $@
+	$(CCOMPILE) -shared -Wl,--export-all-symbols \
+		-Wl,--add-stdcall-alias -o $@ $<
+
+nh340key.o:
+	$(CCOMPILE) $(CFLAGS) -DBUILD_DLL -o$@ $(NTSYS)/nh340key.c
+
+$(GAMEDIR)/nh340key.dll: nh340key.o gamedir.tag
+	@echo Linking $@
+	$(CCOMPILE) -shared -Wl,--export-all-symbols \
+		-Wl,--add-stdcall-alias -o $@ $<
+
+nhraykey.o:
+	$(CCOMPILE) $(CFLAGS) -DBUILD_DLL -o$@ $(NTSYS)/nhraykey.c
+
+$(GAMEDIR)/nhraykey.dll: nhraykey.o gamedir.tag
+	@echo Linking $@
+	$(CCOMPILE) -shared -Wl,--export-all-symbols \
+		-Wl,--add-stdcall-alias -o $@ $<
+
+$(GAME).lnk: $(ALLOBJ)
+	@echo INPUT( $(VOBJ01) )> $@
+	@echo INPUT( $(VOBJ02) )>> $@
+	@echo INPUT( $(VOBJ03) )>> $@
+	@echo INPUT( $(VOBJ04) )>> $@
+	@echo INPUT( $(VOBJ05) )>> $@
+	@echo INPUT( $(VOBJ06) )>> $@
+	@echo INPUT( $(VOBJ07) )>> $@
+	@echo INPUT( $(VOBJ08) )>> $@
+	@echo INPUT( $(VOBJ09) )>> $@
+	@echo INPUT( $(VOBJ10) )>> $@
+	@echo INPUT( $(VOBJ11) )>> $@
+	@echo INPUT( $(VOBJ12) )>> $@
+	@echo INPUT( $(VOBJ13) )>> $@
+	@echo INPUT( $(VOBJ14) )>> $@
+	@echo INPUT( $(VOBJ15) )>> $@
+	@echo INPUT( $(VOBJ16) )>> $@
+	@echo INPUT( $(VOBJ17) )>> $@
+	@echo INPUT( $(VOBJ18) )>> $@
+	@echo INPUT( $(VOBJ19) )>> $@
+	@echo INPUT( $(VOBJ20) )>> $@
+	@echo INPUT( $(VOBJ21) )>> $@
+	@echo INPUT( $(VOBJ22) )>> $@
+	@echo INPUT( $(VOBJ23) )>> $@
+	@echo INPUT( $(SOBJ)   )>> $@
+	@echo INPUT( $(VVOBJ)  )>> $@
+	@echo INPUT( $(WOBJ01) )>> $@
+ifneq ($(WOBJ02),)
+	@echo INPUT( $(WOBJ02) )>> $@
+endif
+ifneq ($(WOBJ03),)
+	@echo INPUT( $(WOBJ03) )>> $@
+endif
+ifneq ($(WOBJ04),)
+	@echo INPUT( $(WOBJ04) )>> $@
+endif
+ifneq ($(WOBJ05),)
+	@echo INPUT( $(WOBJ05) )>> $@
+endif
+ifneq ($(WINLIB),)
+	@echo INPUT( $(WINLIB) )>> $@
+endif
+ifneq ($(SYSLIB),)
+	@echo INPUT( $(SYSLIB) )>> $@
+endif
+ifeq ($(USE_NHALLOC),Y)
+	@echo INPUT( nhalloc.a )>> $@
+endif
+
+#
+#  Housekeeping.
+#
+
+clean:
+	-$(DEL) *.o
+	-$(DEL) *.map
+	-$(DEL) nhalloc.*
+	-$(DEL) dlb_main.exe
+
+spotless: clean
+	-$(DEL) gamedir.tag
+	-$(DEL) utility.tag
+	-$(DEL) install.tag
+	-$(DEL) dat.tag
+	-$(DEL) cc-gtk.h
+	-$(DEL) cc-gtk.c
+	-$(DEL) cc-gtk.exe
+	-$(DEL) $(GAME).lnk
+	-$(DEL) makedefs.exe
+	-$(DEL) lev_comp.exe
+	-$(DEL) dgn_comp.exe
+	-$(DEL) txtmerge.exe
+	-$(DEL) magtile.exe
+	-$(DEL) bigtile.exe
+	-$(DEL) txtbg.exe
+	-$(DEL) mapmerge.exe
+	-$(DEL) tile2x11.exe
+	-$(DEL) x11bigtiles
+	-$(DEL) x11big3dtiles
+	-$(DEL) x11tiles
+	-$(DEL) x11bigtiles.map
+	-$(DEL) x11big3dtiles.map
+	-$(DEL) x11tiles.map
+	-$(DEL) tile2png.exe
+	-$(DEL) gltile16.png
+	-$(DEL) gltile32.png
+	-$(DEL) gltile64.png
+	-$(DEL) gltile16.map
+	-$(DEL) gltile32.map
+	-$(DEL) gltile64.map
+	-$(DEL) gtkrc
+	-$(DEL) *.xpm
+	-$(DEL) tiletext.c
+	-$(DEL) txtmerge.c
+	-$(DEL) magtile.c
+	-$(DEL) lev_flex.c
+	-$(DEL) lev_yacc.c
+	-$(DEL) dgn_flex.c
+	-$(DEL) dgn_yacc.c
+	-$(DEL) recover.exe
+	-$(DEL) $(INCL)\onames.h
+	-$(DEL) $(INCL)\pm.h
+	-$(DEL) $(INCL)\vis_tab.h
+	-$(DEL) $(INCL)\pcvideo.h
+	-$(DEL) $(INCL)\pctiles.h
+	-$(DEL) $(INCL)\portio.h
+	-$(DEL) $(INCL)\tile.h
+	-$(DEL) monstr.c
+	-$(DEL) vis_tab.c
+	-$(DEL) $(SRC)\panic.c
+	-$(DEL) $(SRC)\makedefs.c
+	-$(DEL) $(SRC)\recover.c
+	-$(DEL) $(SRC)\lev_main.c
+	-$(DEL) $(SRC)\dlb_main.c
+	-$(DEL) $(SRC)\dgn_main.c
+	-$(DEL) $(SRC)\wintty.c
+	-$(DEL) $(SRC)\topl.c
+	-$(DEL) $(SRC)\getline.c
+	-$(DEL) $(SRC)\termcap.c
+	-$(DEL) $(SRC)\tile2bin.c
+	-$(DEL) $(SRC)\msdos.c
+	-$(DEL) $(SRC)\pckeys.c
+	-$(DEL) $(SRC)\video.c
+	-$(DEL) $(SRC)\sound.c
+	-$(DEL) $(SRC)\tilemap.c
+	-$(DEL) $(SRC)\gifread.c
+	-$(DEL) $(SRC)\ppmwrite.c
+	-$(DEL) $(SRC)\pcmain.c
+	-$(DEL) $(SRC)\pcunix.c
+	-$(DEL) $(SRC)\pcsys.c
+	-$(DEL) $(SRC)\tile.c
+	-$(DEL) $(SRC)\gtk*.c
+	-$(DEL) $(SRC)\xshmmap.c
+	-$(DEL) $(SRC)\xshm.c
+	-$(DEL) $(INCL)\date.h
+	-$(DEL) $(INCL)\onames.h
+	-$(DEL) $(INCL)\pm.h
+	-$(DEL) $(INCL)\vis_tab.h
+	-$(DEL) $(SRC)\nhlan.c
+	-$(DEL) $(SRC)\winnt.c
+	-$(DEL) $(SRC)\nttty.c
+	-$(DEL) $(SRC)\ntsound.c
+	-$(DEL) $(SRC)\mapimail.c
+	-$(DEL) vis_tab.c
+	-$(DEL) random.c
+	-$(DEL) nhlan.c
+	-$(DEL) *.lnk
+	-$(DEL) *.def
+	-$(DEL) *.map
+	-$(DEL) *.lev
+	-$(DEL) a.out
+	-$(DEL) tilemap.exe
+	-$(DEL) tile2bin.exe
+	-$(DEL) $(DAT)\data
+	-$(DEL) $(DAT)\*.lev
+	-$(DEL) $(DAT)\data
+	-$(DEL) $(DAT)\dungeon
+	-$(DEL) $(DAT)\ttyoptions
+	-$(DEL) $(DAT)\guioptions
+	-$(DEL) $(DAT)\oracles
+	-$(DEL) $(DAT)\rumors
+	-$(DEL) $(DAT)\quest.dat
+	-$(DEL) $(DAT)\nhshare
+	-$(DEL) $(DAT)\nhushare
+	-$(DEL) $(DAT)\dlb.lst
+	-$(DEL) $(DAT)\msdoshlp.txt
+	-$(DEL) $(DAT)\dlb_main.exe
+	-$(DEL) $(DAT)\lev_comp.exe
+	-$(DEL) $(DAT)\dgn_comp.exe
+	-$(DEL) sp_lev.tag
+	-$(DEL) $(PLANAR_TIB)
+	-$(DEL) $(OVERVIEW_TIB)
+	-$(DEL) pet_mark.xbm
+	-$(DEL) $(WSHR)\monmag.txt
+	-$(DEL) $(WSHR)\mon32.txt
+	-$(DEL) $(WSHR)\objmag.txt 
+	-$(DEL) $(WSHR)\obj32.txt
+	-$(DEL) $(WSHR)\othmag.txt
+	-$(DEL) $(WSHR)\oth32.txt
+	-$(DEL) $(WSHR)\monbig.txt
+	-$(DEL) $(WSHR)\mon3d.txt
+	-$(DEL) $(WSHR)\objbig.txt
+	-$(DEL) $(WSHR)\obj3d.txt
+	-$(DEL) $(WSHR)\othbig.txt
+	-$(DEL) $(WSHR)\oth3d.txt
+	-$(DEL) $(WSHR)\mon32-t.txt
+	-$(DEL) $(WSHR)\obj32-t.txt
+	-$(DEL) $(WSHR)\oth32-t.txt
+
+#
+#  Secondary Targets.
+#
+#  The following include files depend on makedefs to be created.
+#
+#  date.h should be remade every time any of the source or include
+#  files is modified.
+
+
+$(INCL)\date.h : makedefs.exe
+	-makedefs -v
+
+$(INCL)\onames.h: makedefs.exe
+	-makedefs -o
+
+$(INCL)\pm.h: makedefs.exe
+	-makedefs -p
+
+monstr.c: makedefs.exe
+	-makedefs -m
+
+$(INCL)\vis_tab.h: makedefs.exe
+	-makedefs -z
+
+vis_tab.c: makedefs.exe
+	-makedefs -z
+
+$(INCL)\filename.h: makedefs.exe
+	-makedefs -f
+
+nhalloc.o:	$(CONFIG_H) alloc.c
+	$(CCOMPILE) $(CFLAGS) -DNHALLOC_DLL -onhalloc.o alloc.c
+
+nhalloc.def:
+	@echo EXPORTS > nhalloc.def
+	@echo malloc >> nhalloc.def
+	@echo calloc >> nhalloc.def
+	@echo realloc >> nhalloc.def
+	@echo free >> nhalloc.def
+	@echo monitor_heap_push >> nhalloc.def
+	@echo monitor_heap_pop >> nhalloc.def
+	@echo monitor_heap_set_subid >> nhalloc.def
+	@echo monitor_heap_getmem >> nhalloc.def
+	@echo monitor_heap_trace >> nhalloc.def
+	@echo monitor_heap_mark >> nhalloc.def
+	@echo monitor_heap_release >> nhalloc.def
+
+nhalloc.dll:	nhalloc.def nhalloc.o panic.o
+	$(CCOMPILE) -mdll -o junk.tmp -Wl,--base-file,base.tmp nhalloc.o panic.o
+	$(DEL) junk.tmp
+	dlltool --dllname nhalloc.dll --base-file base.tmp --output-exp nhalloc.exp --def nhalloc.def
+	$(DEL) base.tmp
+	$(CCOMPILE) -mdll -o nhalloc.dll nhalloc.o panic.o -Wl,nhalloc.exp
+	$(DEL) nhalloc.exp
+
+nhalloc.a:	nhalloc.def
+	dlltool --dllname nhalloc.dll --def nhalloc.def --output-lib nhalloc.a -k
+
+nhproxy.a:	$(PROXYCLNTOBJ) $(PROXYCOMOBJ) $(PROXYSHROBJ)
+	-$(DEL) nhproxy.a
+	ar rc nhproxy.a $(PROXYCLNTOBJ)
+	ar r nhproxy.a $(PROXYCOMOBJ) $(PROXYSHROBJ)
+	ranlib nhproxy.a
+
+$(WIN32)\mnsel.bmp:	$(UTIL)\uudecode.exe $(WIN32)\mnsel.uu
+	$(UTIL)\uudecode $(WIN32)\mnsel.uu
+	$(COPY) mnsel.bmp $@
+	$(DEL) mnsel.bmp
+
+$(WIN32)\mnselcnt.bmp:	$(UTIL)\uudecode.exe $(WIN32)\mnselcnt.uu
+	$(UTIL)\uudecode $(WIN32)\mnselcnt.uu
+	$(COPY) mnselcnt.bmp $@
+	$(DEL) mnselcnt.bmp
+
+$(WIN32)\mnunsel.bmp:	$(UTIL)\uudecode.exe $(WIN32)\mnunsel.uu
+	$(UTIL)\uudecode $(WIN32)\mnunsel.uu
+	$(COPY) mnunsel.bmp $@
+	$(DEL) mnunsel.bmp
+
+$(WIN32)\petmark.bmp:	$(UTIL)\uudecode.exe $(WIN32)\petmark.uu
+	$(UTIL)\uudecode $(WIN32)\petmark.uu
+	$(COPY) petmark.bmp $@
+	$(DEL) petmark.bmp
+
+$(WIN32)\SlashEM.ico:	$(UTIL)\uudecode.exe $(WSYS)\seico.uu
+	$(UTIL)\uudecode $(WSYS)\seico.uu
+	$(COPY) SlashEM.ico $@
+	$(DEL) SlashEM.ico
+
+$(WIN32)\rip.bmp:	$(UTIL)\uudecode.exe $(WIN32)\rip.uu
+	$(UTIL)\uudecode $(WIN32)\rip.uu
+	$(COPY) rip.bmp $@
+	$(DEL) rip.bmp
+
+$(WIN32)\splash.bmp:	$(UTIL)\uudecode.exe $(WIN32)\splash.uu
+	$(UTIL)\uudecode $(WIN32)\splash.uu
+	$(COPY) splash.bmp $@
+	$(DEL) splash.bmp
+
+winres.o:	tiles.bmp $(WIN32)\winhack.rc $(WIN32)\mnsel.bmp \
+		$(WIN32)\mnselcnt.bmp $(WIN32)\mnunsel.bmp $(WIN32)\rip.bmp \
+		$(WIN32)\petmark.bmp $(WIN32)\SlashEM.ico $(WIN32)\splash.bmp
+	$(RC) -o$@ --include-dir=$(WIN32) -DNODEBUG -i $(WIN32)\winhack.rc
+
+#
+#  Makedefs Stuff
+#
+
+makedefs.exe:  $(MAKEOBJS)
+	$(LINK) $(LFLAGS) -mconsole -omakedefs.exe $(MAKEOBJS)
+
+makedefs.c: $(UTIL)\makedefs.c
+	$(COPY) $(UTIL)\makedefs.c .
+
+makedefs.o:  $(CONFIG_H)	$(PERMONST_H)	   $(INCL)\objclass.h \
+		$(INCL)\monsym.h   $(INCL)\qtext.h makedefs.c
+
+#
+#  Level Compiler Dependencies
+#
+
+lev_comp.exe:  $(SPLEVOBJS)
+	@echo INPUT( $(SPLEVOBJS) )> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -olev_comp.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+ifeq ($(YACC_LEX),Y)
+
+lev_yacc.o:  $(HACK_H)	 $(SP_LEV_H)	lev_yacc.c
+	$(CCOMPILE) $(CFLAGS) -o$@ lev_yacc.c
+
+else
+
+lev_yacc.o:  $(HACK_H)	 $(SP_LEV_H) $(INCL)\lev_comp.h lev_yacc.c
+	$(CCOMPILE) $(CFLAGS) -o$@ lev_yacc.c
+
+endif
+
+lev_$(LEX).o:  $(HACK_H)   $(SP_LEV_H)	  $(INCL)\lev_comp.h \
+	lev_$(LEX).c
+	$(CCOMPILE) $(CFLAGS) -o$@ lev_$(LEX).c
+
+lev_main.c:  $(UTIL)\lev_main.c
+	$(COPY) $(UTIL)\lev_main.c .
+
+lev_main.o:  $(HACK_H) lev_main.c
+
+$(INCL)\lev_comp.h: lev_yacc.c
+
+ifeq ($(YACC_LEX),Y)
+
+lev_yacc.c:  $(UTIL)\lev_comp.y
+	$(YACC) -d $(DUTIL)/lev_comp.y
+	$(COPY) $(YTABC) $@
+	$(COPY) $(YTABH) $(INCL)\lev_comp.h
+	$(DEL) $(YTABC)
+	$(DEL) $(YTABH)
+
+lev_$(LEX).c:  $(UTIL)\lev_comp.l
+	$(LEX) $(DUTIL)/lev_comp.l
+	$(COPY) $(LEXYYC) $@
+	$(DEL) $(LEXYYC)
+else
+
+lev_yacc.c: $(SSHR)\lev_yacc.c
+	$(COPY) $(SSHR)\lev_yacc.c $@
+
+$(INCL)\lev_comp.h: $(SSHR)\lev_comp.h
+	$(COPY) $(SSHR)\lev_comp.h $@
+	$(ECHO) /**/ >>$(INCL)\lev_comp.h
+
+lev_$(LEX).c: $(SSHR)\lev_lex.c
+	$(COPY) $(SSHR)\lev_lex.c $@
+
+endif
+
+
+
+#
+#  Dungeon Dependencies
+#
+
+dgn_comp.exe:  $(DGNCOMPOBJS)
+	@echo INPUT( $(DGNCOMPOBJS) )> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -odgn_comp.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+ifeq ($(YACC_LEX),Y)
+
+dgn_yacc.o:  $(HACK_H)	 $(DGN_FILE_H)	dgn_yacc.c
+	$(CCOMPILE) $(CFLAGS) -o$@ dgn_yacc.c
+
+else
+
+dgn_yacc.o:  $(HACK_H)	 $(DGN_FILE_H)	$(INCL)\dgn_comp.h dgn_yacc.c
+	$(CCOMPILE) $(CFLAGS) -o$@ dgn_yacc.c
+
+endif
+
+dgn_$(LEX).o:  $(HACK_H)   $(DGN_FILE_H)  $(INCL)\dgn_comp.h \
+	dgn_$(LEX).c
+	$(CCOMPILE) $(CFLAGS) -o$@ dgn_$(LEX).c
+
+dgn_main.c:  $(UTIL)\dgn_main.c
+	$(COPY) $(UTIL)\dgn_main.c .
+
+dgn_main.o:  $(HACK_H)
+
+$(INCL)\dgn_comp.h:  dgn_yacc.c
+
+ifeq ($(YACC_LEX),Y)
+
+dgn_yacc.c: $(UTIL)\dgn_comp.y
+	$(YACC) -d $(DUTIL)/dgn_comp.y
+	$(COPY) $(YTABC) $@
+	$(COPY) $(YTABH) $(INCL)\dgn_comp.h
+	$(DEL) $(YTABC)
+	$(DEL) $(YTABH)
+
+dgn_$(LEX).c:  $(UTIL)\dgn_comp.l
+	$(LEX) $(DUTIL)/dgn_comp.l
+	$(COPY) $(LEXYYC) $@
+	$(DEL) $(LEXYYC)
+
+else
+
+dgn_yacc.c: $(SSHR)\dgn_yacc.c
+	$(COPY) $(SSHR)\dgn_yacc.c $@
+
+$(INCL)\dgn_comp.h: $(SSHR)\dgn_comp.h
+	$(COPY) $(SSHR)\dgn_comp.h $@
+	$(ECHO) /**/ >>$(INCL)\dgn_comp.h
+
+dgn_$(LEX).c: $(SSHR)\dgn_lex.c
+	$(COPY) $(SSHR)\dgn_lex.c $@
+ 
+endif
+
+#
+#  Recover Utility
+#
+
+recover.exe:   $(RECOVOBJS)
+	$(LINK) $(LFLAGS) -mconsole -orecover.exe recover.o
+
+recover.c:  $(UTIL)\recover.c
+	$(COPY) $(UTIL)\recover.c .
+
+recover.o:   $(CONFIG_H) recover.c
+	$(CCOMPILE) $(CFLAGS) -o$@ recover.c
+
+#
+#  Tiles
+#
+
+#  Headers
+
+$(INCL)\tile.h: $(WSHR)\tile_t.h tilemap.exe
+	tilemap.exe
+
+#  Utilities
+
+txtmerge.exe: txtmerge.o $(TEXTIO)
+	@echo INPUT( txtmerge.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otxtmerge.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+tile2x11.exe: tile2x11.o $(TEXTIO)
+	@echo INPUT( tile2x11.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otile2x11.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+tile2bmp.exe: tile2bmp.o $(TEXTIO)
+	@echo INPUT( tile2bmp.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otile2bmp.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+tile2png.exe: tile2png.o $(TEXTIO)
+	@echo INPUT( tile2png.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	cc-gtk -l $(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otile2png.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+magtile.exe: magtile.o $(TEXTIO)
+	@echo INPUT( magtile.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -omagtile.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+bigtile.exe: bigtile.o $(TEXTIO)
+	@echo INPUT( bigtile.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -obigtile.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+txtbg.exe: txtbg.o $(TEXTIO)
+	@echo INPUT( txtbg.o )> tmp.lnk
+	@echo INPUT( $(TEXTIO) )>> tmp.lnk
+	$(LINK) $(LFLAGS) -mconsole $(GTKGCCFLAGS) -otxtbg.exe tmp.lnk
+	@$(DEL) tmp.lnk
+
+mapmerge.exe: mapmerge.o
+	$(CCOMPILE) $(LFLAGS) -mconsole -omapmerge.exe mapmerge.o
+
+tile.c: tilemap.exe
+	tilemap.exe
+	@echo A new $@ has been created
+
+tilemap.exe: tilemap.o
+	$(CCOMPILE) $(LFLAGS) -mconsole -otilemap.exe tilemap.o
+
+tilemap.c: $(WSHR)\tilemap.c
+	copy $(WSHR)\tilemap.c .
+
+tilemap.o: $(WSHR)\tilemap.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -c ../win/share/tilemap.c
+
+
+magtile.o: $(WSHR)\magtile.c $(INCL)\config.h $(INCL)\tile.h
+	$(CCOMPILE) $(CFLAGS) -c $(WSHR)\magtile.c
+
+bigtile.o: $(WSHR)\bigtile.c $(INCL)\config.h $(INCL)\tile.h
+	$(CCOMPILE) $(CFLAGS) -c $(WSHR)\bigtile.c
+
+txtbg.o: $(WSHR)\txtbg.c $(INCL)\config.h $(INCL)\tile.h
+	$(CCOMPILE) $(CFLAGS) -c $(WSHR)\txtbg.c
+
+mapmerge.o: $(WSHR)\mapmerge.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -c $(WSHR)\mapmerge.c
+
+txtmerge.o: $(WSHR)\txtmerge.c $(INCL)\config.h $(INCL)\tile.h
+	$(CCOMPILE) $(CFLAGS) -c ../win/share/txtmerge.c
+
+tile2x11.o: ../win/X11/tile2x11.c $(INCL)\hack.h $(INCL)\tile.h \
+						$(INCL)\tile2x11.h
+	$(CCOMPILE) $(CFLAGS) -c ../win/X11/tile2x11.c
+
+tile2bmp.o: ../win/share/tile2bmp.c $(INCL)\hack.h $(INCL)\tile.h \
+						$(INCL)\win32api.h
+	$(CCOMPILE) $(CFLAGS) -c ../win/share/tile2bmp.c
+
+tile2png.o: cc-gtk.exe ../win/share/tile2png.c $(INCL)\hack.h $(INCL)\tile.h
+	$(CCGTK) $(CFLAGS) -I$(MW32GTK)/include -c ../win/share/tile2png.c
+
+
+x11tiles: tile2x11.exe ../win/share/monsters.txt ../win/share/objects.txt \
+				../win/share/other.txt
+	tile2x11 -o x11tiles $(WSHR)\monsters.txt $(WSHR)\objects.txt \
+		$(WSHR)\other.txt
+
+x11tiles.map: mapmerge.exe ../win/share/monsters.map ../win/share/objects.map \
+				../win/share/other.map
+	mapmerge x11tiles.map $(WSHR)\monsters.map $(WSHR)\objects.map \
+		$(WSHR)\other.map
+
+x11bigtiles:	tile2x11.exe ../win/share/mon32.txt \
+		../win/share/obj32.txt ../win/share/oth32.txt
+	tile2x11 -o x11bigtiles $(WSHR)\mon32.txt $(WSHR)\obj32.txt \
+		$(WSHR)\oth32.txt
+
+x11bigtiles.map:	x11tiles.map
+	$(COPY) x11tiles.map x11bigtiles.map
+
+x11big3dtiles:	tile2x11.exe ../win/share/mon3d.txt \
+		../win/share/obj3d.txt ../win/share/oth3d.txt
+	tile2x11 -o x11big3dtiles $(WSHR)\mon3d.txt $(WSHR)\obj3d.txt \
+		$(WSHR)\oth3d.txt
+
+x11big3dtiles.map:	x11tiles.map
+	$(COPY) x11tiles.map x11big3dtiles.map
+
+tiles.bmp:	tile2bmp.exe ../win/share/monsters.txt \
+		../win/share/objects.txt ../win/share/other.txt
+	tile2bmp $@ $(WSHR)\monsters.txt $(WSHR)\objects.txt \
+		$(WSHR)\other.txt
+
+tiles32.bmp:	tile2bmp.exe ../win/share/mon32.txt \
+		../win/share/obj32.txt ../win/share/oth32.txt
+	tile2bmp $@ $(WSHR)\mon32.txt $(WSHR)\obj32.txt \
+		$(WSHR)\oth32.txt
+
+gltile16.png: tile2png.exe ../win/share/monsters.txt ../win/share/objects.txt \
+				../win/share/other.txt
+	tile2png -o gltile16.png $(WSHR)\monsters.txt $(WSHR)\objects.txt \
+		$(WSHR)\other.txt
+
+gltile16.map: mapmerge.exe ../win/share/monsters.map ../win/share/objects.map \
+				../win/share/other.map
+	mapmerge gltile16.map $(WSHR)\monsters.map $(WSHR)\objects.map \
+		$(WSHR)\other.map
+
+gltile32.png:	tile2png.exe ../win/share/mon32.txt \
+		../win/share/obj32.txt ../win/share/oth32.txt
+	tile2png -o gltile32.png $(WSHR)\mon32.txt $(WSHR)\obj32.txt \
+		$(WSHR)\oth32.txt
+
+gltile32.map:	gltile16.map
+	$(COPY) gltile16.map gltile32.map
+
+gltile64.png:	tile2png.exe ../win/share/mon3d.txt \
+		../win/share/obj3d.txt ../win/share/oth3d.txt
+	tile2png -o gltile64.png $(WSHR)\mon3d.txt $(WSHR)\obj3d.txt \
+		$(WSHR)\oth3d.txt
+
+gltile64.map:	gltile16.map
+	$(COPY) gltile16.map gltile64.map
+
+$(WSHR)\monmag.txt:	magtile.exe ../win/share/monsters.txt
+	magtile
+
+$(WSHR)\objmag.txt:	magtile.exe ../win/share/objects.txt
+	magtile
+
+$(WSHR)\othmag.txt:	magtile.exe ../win/share/other.txt
+	magtile
+
+$(WSHR)\monbig.txt:	bigtile.exe ../win/share/mon32-t.txt \
+				../win/share/obj32-t.txt \
+				../win/share/oth32-t.txt
+	bigtile
+
+$(WSHR)\objbig.txt:	bigtile.exe ../win/share/mon32-t.txt \
+				../win/share/obj32-t.txt \
+				../win/share/oth32-t.txt
+	bigtile
+
+$(WSHR)\othbig.txt:	bigtile.exe ../win/share/mon32-t.txt \
+				../win/share/obj32-t.txt \
+				../win/share/oth32-t.txt
+	bigtile
+
+../win/share/mon32.txt:	txtbg.exe ../win/share/mon32-t.txt
+	txtbg ../win/share/mon32-t.txt ../win/share/mon32.txt
+
+../win/share/obj32.txt:	txtbg.exe ../win/share/obj32-t.txt
+	txtbg ../win/share/obj32-t.txt ../win/share/obj32.txt
+
+../win/share/oth32.txt:	txtbg.exe ../win/share/oth32-t.txt
+	txtbg ../win/share/oth32-t.txt ../win/share/oth32.txt
+
+../win/share/mon32-t.txt:	txtmerge.exe $(WSHR)\monmag.txt \
+		$(WSHR)\mon32mi.txt $(WSHR)\mon32alg.txt \
+		$(WSHR)\mon32aw.txt $(WSHR)\mon32se.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\mon32-t.txt $(WSHR)\monmag.txt \
+		-b $(WSHR)\mon32mi.txt -b $(WSHR)\mon32se.txt
+	txtmerge $(WSHR)\mon32-t.txt $(WSHR)\mon32-t.txt \
+		-bff00ff $(WSHR)\mon32alg.txt -bff00ff $(WSHR)\mon32aw.txt
+
+../win/share/obj32-t.txt:	txtmerge.exe $(WSHR)\objmag.txt \
+		$(WSHR)\obj32mi.txt $(WSHR)\obj32se.txt \
+		$(WSHR)\obj32alg.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\obj32-t.txt $(WSHR)\objmag.txt \
+		-b $(WSHR)\obj32mi.txt
+	txtmerge $(WSHR)\obj32-t.txt $(WSHR)\obj32-t.txt \
+		-b $(WSHR)\obj32se.txt -bff00ff $(WSHR)\obj32alg.txt
+
+../win/share/oth32-t.txt:	txtmerge.exe $(WSHR)\othmag.txt \
+		$(WSHR)\oth32mi.txt $(WSHR)\oth32se.txt \
+		$(WSHR)\oth32alg.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\oth32-t.txt $(WSHR)\othmag.txt \
+		-b $(WSHR)\oth32mi.txt
+	txtmerge $(WSHR)\oth32-t.txt $(WSHR)\oth32-t.txt \
+		-b $(WSHR)\oth32se.txt -bff00ff $(WSHR)\oth32alg.txt
+
+../win/share/mon3d.txt:	txtmerge.exe $(WSHR)\monbig.txt \
+		$(WSHR)\mon3dmi.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\mon3d.txt $(WSHR)\monbig.txt \
+		-b $(WSHR)\mon3dmi.txt
+
+../win/share/obj3d.txt:	txtmerge.exe $(WSHR)\objbig.txt
+	$(COPY) $(WSHR)\objbig.txt $(WSHR)\obj3d.txt
+
+../win/share/oth3d.txt:	txtmerge.exe $(WSHR)\othbig.txt \
+		$(WSHR)\oth3dmi.txt $(WSHR)\oth-2kmi.txt \
+		$(WSHR)\oth3dse.txt $(WSHR)\palette.txt
+	txtmerge -p $(WSHR)\palette.txt $(WSHR)\oth3d.txt $(WSHR)\othbig.txt \
+		-b $(WSHR)\oth3dmi.txt
+	txtmerge $(WSHR)\oth3d.txt $(WSHR)\oth3d.txt -b $(WSHR)\oth-2kmi.txt \
+		-b $(WSHR)\oth3dse.txt
+
+pet_mark.xbm: ../win/X11/pet_mark.xbm
+	$(COPY) ..\win\X11\pet_mark.xbm pet_mark.xbm
+
+rip.xpm: ../win/X11/rip.xpm
+	$(COPY) ..\win\X11\rip.xpm rip.xpm
+
+credit.xpm: ../dat/credit.xpm
+	$(COPY) ..\dat\credit.xpm credit.xpm
+
+tiletext.o:  $(CONFIG_H) $(INCL)\tile.h $(WSHR)\tiletext.c
+	$(COPY) $(WSHR)\tiletext.c .
+	$(CCOMPILE) $(CFLAGS) -o$@ tiletext.c
+
+tiletxt.o: $(CONFIG_H)	$(INCL)\tile.h tilemap.c
+	$(CCOMPILE) $(CFLAGS) -DTILETEXT -o$@ tilemap.c
+
+uudecode.o: $(SSHR)\uudecode.c
+	$(CCOMPILE) $(CFLAGS) -c $(SSHR)\uudecode.c
+
+$(UTIL)\uudecode.exe:	uudecode.o
+	$(CCOMPILE) $(LFLAGS) -mconsole -o$@ uudecode.o
+
+#
+#  Other Util Dependencies.
+#
+
+alloc.o: $(CONFIG_H)	 alloc.c
+	$(CCOMPILE) $(CFLAGS) -oalloc.o alloc.c
+
+drawing.o: $(CONFIG_H) drawing.c
+	$(CCOMPILE) $(CFLAGS) -odrawing.o drawing.c
+
+decl.o: $(CONFIG_H) decl.c
+	$(CCOMPILE) $(CFLAGS) -odecl.o decl.c
+
+monst.o: $(CONFIG_H)	     $(PERMONST_H)	$(ESHK_H)	   \
+	$(EPRI_H)	      $(VAULT_H)	 $(INCL)\monsym.h   \
+	$(INCL)\color.h	 monst.c
+	$(CCOMPILE) $(CFLAGS) -omonst.o monst.c
+
+objects.o: $(CONFIG_H)	      $(INCL)\obj.h	 $(INCL)\objclass.h \
+	$(INCL)\prop.h	    $(INCL)\color.h    objects.c
+	$(CCOMPILE) $(CFLAGS) -oobjects.o objects.c
+
+panic.c:  $(UTIL)\panic.c
+	$(COPY) $(UTIL)\panic.c .
+
+panic.o:   $(CONFIG_H)	  panic.c
+
+nhlan.c: $(SSHR)\nhlan.c
+	$(COPY) $(SSHR)\nhlan.c .
+
+nhlan.o: $(HACK_H) $(NHLAN_H) $(SSHR)\nhlan.c
+	$(COPY) $(SSHR)\nhlan.c .
+	$(CCOMPILE) $(CFLAGS) -o$@ nhlan.c
+
+DATABASE = $(DAT)\data.base
+
+dat.tag: $(DAT)\nhshare $(DAT)\nhushare $(CNF_SHARE_DATND)
+	@echo dat done >dat.tag
+
+$(DAT)\data:	 utility.tag	$(DATABASE)
+	-makedefs -d
+
+$(DAT)\rumors:	     utility.tag    $(DAT)\rumors.tru	$(DAT)\rumors.fal
+	-makedefs -r
+
+$(DAT)\quest.dat: utility.tag  $(DAT)\quest.txt
+	-makedefs -q
+
+$(DAT)\oracles:	     utility.tag    $(DAT)\oracles.txt
+	-makedefs -h
+
+sp_lev.tag:     utility.tag         $(DAT)\beholder.des $(DAT)\bigroom.des \
+		$(DAT)\blkmar.des   $(DAT)\castle.des   $(DAT)\grund.des \
+		$(DAT)\dragons.des  $(DAT)\endgame.des  $(DAT)\gehennom.des \
+		$(DAT)\giants.des   $(DAT)\guild.des    $(DAT)\knox.des \
+		$(DAT)\kobold-1.des $(DAT)\kobold-2.des $(DAT)\lich.des \
+		$(DAT)\mall-1.des   $(DAT)\mall-2.des   $(DAT)\medusa.des \
+		$(DAT)\sokoban.des  $(DAT)\mines.des    $(DAT)\mtemple.des \
+		$(DAT)\newmall.des  $(DAT)\nymph.des    $(DAT)\oracle.des \
+		$(DAT)\rats.des     $(DAT)\sea.des      $(DAT)\spiders.des \
+		$(DAT)\stor-1.des   $(DAT)\stor-2.des   $(DAT)\stor-3.des \
+		$(DAT)\tomb.des     $(DAT)\tower.des    $(DAT)\yendor.des \
+		$(DAT)\compu.des	$(DAT)\forge.des	$(DAT)\hitch.des \
+		$(DAT)\key.des		$(DAT)\arch.des     $(DAT)\barb.des \
+		$(DAT)\caveman.des	$(DAT)\flame.des    $(DAT)\healer.des \
+		$(DAT)\ice.des		$(DAT)\knight.des   $(DAT)\monk.des \
+		$(DAT)\necro.des	$(DAT)\priest.des   $(DAT)\rogue.des \
+		$(DAT)\samurai.des	$(DAT)\tourist.des  $(DAT)\slayer.des \
+		$(DAT)\valkyrie.des	$(DAT)\wizard.des   $(DAT)\yeoman.des \
+		$(DAT)\frnknstn.des	$(DAT)\nightmar.des $(DAT)\ranger.des \
+		$(DAT)\geek.des
+	lev_comp $(DDAT)/beholder.des
+	lev_comp $(DDAT)/bigroom.des
+	lev_comp $(DDAT)/blkmar.des
+	lev_comp $(DDAT)/castle.des
+	lev_comp $(DDAT)/grund.des
+	lev_comp $(DDAT)/dragons.des
+	lev_comp $(DDAT)/endgame.des
+	lev_comp $(DDAT)/gehennom.des
+	lev_comp $(DDAT)/giants.des
+	lev_comp $(DDAT)/guild.des
+	lev_comp $(DDAT)/knox.des
+	lev_comp $(DDAT)/kobold-1.des
+	lev_comp $(DDAT)/kobold-2.des
+	lev_comp $(DDAT)/lich.des
+	lev_comp $(DDAT)/mall-1.des
+	lev_comp $(DDAT)/mall-2.des
+	lev_comp $(DDAT)/medusa.des
+	lev_comp $(DDAT)/sokoban.des
+	lev_comp $(DDAT)/mines.des
+	lev_comp $(DDAT)/mtemple.des
+	lev_comp $(DDAT)/newmall.des
+	lev_comp $(DDAT)/nymph.des
+	lev_comp $(DDAT)/oracle.des
+	lev_comp $(DDAT)/rats.des
+	lev_comp $(DDAT)/sea.des
+	lev_comp $(DDAT)/spiders.des
+	lev_comp $(DDAT)/stor-1.des
+	lev_comp $(DDAT)/stor-2.des
+	lev_comp $(DDAT)/stor-3.des
+	lev_comp $(DDAT)/tomb.des
+	lev_comp $(DDAT)/tower.des
+	lev_comp $(DDAT)/yendor.des
+	lev_comp $(DDAT)/compu.des
+	lev_comp $(DDAT)/forge.des
+	lev_comp $(DDAT)/hitch.des
+	lev_comp $(DDAT)/key.des
+	lev_comp $(DDAT)/arch.des
+	lev_comp $(DDAT)/barb.des
+	lev_comp $(DDAT)/caveman.des
+	lev_comp $(DDAT)/flame.des
+	lev_comp $(DDAT)/healer.des
+	lev_comp $(DDAT)/ice.des
+	lev_comp $(DDAT)/knight.des
+	lev_comp $(DDAT)/monk.des
+	lev_comp $(DDAT)/necro.des
+	lev_comp $(DDAT)/priest.des
+	lev_comp $(DDAT)/rogue.des
+	lev_comp $(DDAT)/samurai.des
+	lev_comp $(DDAT)/tourist.des
+	lev_comp $(DDAT)/slayer.des
+	lev_comp $(DDAT)/valkyrie.des
+	lev_comp $(DDAT)/wizard.des
+	lev_comp $(DDAT)/yeoman.des
+	lev_comp $(DDAT)/frnknstn.des
+	lev_comp $(DDAT)/nightmar.des
+	lev_comp $(DDAT)/ranger.des
+	lev_comp $(DDAT)/geek.des
+	$(COPY) *.lev $(DAT)
+	$(ECHO) sp_levs done > sp_lev.tag
+	
+$(DAT)\dungeon:	  utility.tag  $(DAT)\dungeon.def
+	-makedefs -e
+	dgn_comp $(DAT)\dungeon.pdf
+#
+# DLB stuff
+#
+$(DAT)\nhshare:	dlb_main.exe $(DAT)\data $(DAT)\rumors $(DAT)\dungeon \
+		$(DAT)\oracles $(DAT)\quest.dat sp_lev.tag
+	$(ECHO) data >$(DAT)\dlb.lst
+	$(ECHO) oracles >>$(DAT)\dlb.lst
+ifeq ($(USE_GUI),Y)
+	$(ECHO) guioptions >>$(DAT)\dlb.lst
+else
+	$(ECHO) ttyoptions >>$(DAT)\dlb.lst
+endif
+	$(ECHO) rumors >>$(DAT)\dlb.lst
+	$(ECHO) help >>$(DAT)\dlb.lst
+	$(ECHO) hh >>$(DAT)\dlb.lst
+	$(ECHO) cmdhelp >>$(DAT)\dlb.lst
+	$(ECHO) history >>$(DAT)\dlb.lst
+	$(ECHO) opthelp >>$(DAT)\dlb.lst
+	$(ECHO) wizhelp >>$(DAT)\dlb.lst
+	$(ECHO) gypsy.txt >>$(DAT)\dlb.lst
+	$(ECHO) license >>$(DAT)\dlb.lst
+	dlb_main cvCIf $(DAT) dlb.lst nhshare
+
+$(DAT)\nhushare:	dlb_main.exe $(DAT)\dungeon $(DAT)\quest.dat sp_lev.tag
+	$(ECHO) dungeon > $(DAT)\dlb2.lst
+	$(ECHO) quest.dat >>$(DAT)\dlb2.lst
+	$(LS) $(DAT)\*.lev >>$(DAT)\dlb2.lst
+	dlb_main cvCIf $(DAT) dlb2.lst nhushare
+
+
+dlb_main.exe: $(DLBOBJS)
+	$(LINK) $(LFLAGS) -mconsole -odlb_main.exe $(DLBOBJS)
+	$(COPY) $@ $(DAT)\dlb_main.exe
+
+
+dlb_main.o: $(UTIL)\dlb_main.c $(INCL)\config.h $(DLB_H)
+	$(COPY) $(UTIL)\dlb_main.c .
+	$(CCOMPILE) $(CFLAGS) -odlb_main.o dlb_main.c
+
+#
+# NT dependencies
+#
+
+nttty.o: $(HACK_H) $(TILE_H) $(INCL)/win32api.h $(NTSYS)/nttty.c
+	$(CCOMPILE) $(CFLAGS) -o$@ $(NTSYS)/nttty.c
+winnt.o: $(HACK_H) $(INCL)/win32api.h $(NTSYS)/winnt.c
+	$(CCOMPILE) $(CFLAGS) -o$@ $(NTSYS)/winnt.c
+ntsound.o: $(HACK_H) $(NTSYS)/ntsound.c
+	$(CCOMPILE) $(CFLAGS) -o$@ $(NTSYS)/ntsound.c
+mapimail.o: $(HACK_H) $(INCL)/nhlan.h $(NTSYS)/mapimail.c
+	$(CCOMPILE) $(CFLAGS) -DMAPI_VERBOSE -o$@ $(NTSYS)/mapimail.c
+
+#
+# win/win32
+#
+
+mswproc.o: $(WIN32)/mswproc.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mswproc.c
+winhack.o: $(WIN32)/winhack.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/winhack.c
+mhdlg.o: $(WIN32)/mhdlg.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhdlg.c
+mhaskyn.o: $(WIN32)/mhaskyn.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhaskyn.c
+mhfont.o: $(WIN32)/mhfont.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhfont.c
+mhinput.o: $(WIN32)/mhinput.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhinput.c
+mhmain.o: $(WIN32)/mhmain.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhmain.c
+mhmsgwnd.o: $(WIN32)/mhmsgwnd.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhmsgwnd.c
+mhsplash.o: $(WIN32)/mhsplash.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhsplash.c
+mhstatus.o: $(WIN32)/mhstatus.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhstatus.c
+mhtext.o: $(WIN32)/mhtext.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhtext.c
+mhmenu.o: $(WIN32)/mhmenu.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhmenu.c
+mhmap.o: $(WIN32)/mhmap.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhmap.c
+mhrip.o: $(WIN32)/mhrip.c
+	$(CCOMPILE) $(CFLAGS) $(WINMSCFLAGS) -o$@ ../win/win32/mhrip.c
+
+# The rest are stolen from sys/unix/Makefile.src,
+# with the following changes:
+#   * ../include changed to $(INCL)
+#   * -c (which is included in CFLAGS) substituted
+#       with -o$@
+#   * $(CC) changed to $(CCOMPILE)
+#   * Dependencies on win32api.h revealed
+# but otherwise untouched.
+# That means that there is some irrelevant stuff
+# in here, but maintenance should be easier.
+#
+tos.o: ../sys/atari/tos.c $(HACK_H) $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/atari/tos.c
+pcmain.o: ../sys/share/pcmain.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/win32api.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/pcmain.c
+pcsys.o: ../sys/share/pcsys.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/pcsys.c
+pctty.o: ../sys/share/pctty.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/pctty.c
+pcunix.o: ../sys/share/pcunix.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/pcunix.c
+random.o: ../sys/share/random.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/random.c
+ioctl.o: ../sys/share/ioctl.c $(HACK_H) $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/ioctl.c
+unixtty.o: ../sys/share/unixtty.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/share/unixtty.c
+unixmain.o: ../sys/unix/unixmain.c $(HACK_H) $(INCL)/dlb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/unix/unixmain.c
+unixunix.o: ../sys/unix/unixunix.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/unix/unixunix.c
+unixres.o: ../sys/unix/unixres.c $(CONFIG_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/unix/unixres.c
+bemain.o: ../sys/be/bemain.c $(HACK_H) $(INCL)/dlb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../sys/be/bemain.c
+getline.o: ../win/tty/getline.c $(HACK_H) $(INCL)/func_tab.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/tty/getline.c
+termcap.o: ../win/tty/termcap.c $(HACK_H) $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/tty/termcap.c
+topl.o: ../win/tty/topl.c $(HACK_H) $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/tty/topl.c
+wintty.o: ../win/tty/wintty.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/tcap.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/tty/wintty.c
+Window.o: ../win/X11/Window.c $(INCL)/xwindowp.h $(INCL)/xwindow.h \
+		$(CONFIG_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/Window.c
+dialogs.o: ../win/X11/dialogs.c $(CONFIG_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/dialogs.c
+winX.o: ../win/X11/winX.c $(HACK_H) $(INCL)/winX.h $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h ../win/X11/nh72icon \
+		../win/X11/nh56icon ../win/X11/nh32icon
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winX.c
+winmap.o: ../win/X11/winmap.c $(INCL)/xwindow.h $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/winX.h $(INCL)/patchlevel.h $(INCL)/tile2x11.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winmap.c
+winmenu.o: ../win/X11/winmenu.c $(HACK_H) $(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winmenu.c
+winmesg.o: ../win/X11/winmesg.c $(INCL)/xwindow.h $(HACK_H) $(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winmesg.c
+winmisc.o: ../win/X11/winmisc.c $(HACK_H) $(INCL)/func_tab.h \
+		$(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winmisc.c
+winstat.o: ../win/X11/winstat.c $(HACK_H) $(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winstat.c
+wintext.o: ../win/X11/wintext.c $(HACK_H) $(INCL)/winX.h $(INCL)/xwindow.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/wintext.c
+winval.o: ../win/X11/winval.c $(HACK_H) $(INCL)/winX.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/X11/winval.c
+gtk.o: ../win/gtk/gtk.c $(INCL)/md5.h $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/func_tab.h \
+		$(INCL)/dlb.h $(INCL)/patchlevel.h $(INCL)/proxycb.h \
+		$(INCL)/prxyclnt.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtk.c
+gtkgetlin.o: ../win/gtk/gtkgetlin.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkgetlin.c
+gtkstatus.o: ../win/gtk/gtkstatus.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkstatus.c
+gtkmenu.o: ../win/gtk/gtkmenu.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/patchlevel.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkmenu.c
+gtkyn.o: ../win/gtk/gtkyn.c $(INCL)/winGTK.h $(HACK_H) $(INCL)/nhxdr.h \
+		$(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkyn.c
+gtkextcmd.o: ../win/gtk/gtkextcmd.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/proxycb.h \
+		$(INCL)/func_tab.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkextcmd.c
+gtkmap.o: ../win/gtk/gtkmap.c $(INCL)/winGTK.h $(HACK_H) $(INCL)/nhxdr.h \
+		$(INCL)/proxycom.h $(INCL)/dlb.h $(INCL)/patchlevel.h \
+		$(INCL)/proxycb.h $(INCL)/prxyclnt.h \
+		../win/gtk/gtkprogress.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkmap.c
+gtkmessage.o: ../win/gtk/gtkmessage.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkmessage.c
+gtkmisc.o: ../win/gtk/gtkmisc.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/proxycb.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkmisc.c
+gtktile.o: ../win/gtk/gtktile.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/dlb.h \
+		$(INCL)/proxycb.h $(INCL)/prxyclnt.h \
+		../win/gtk/gtkprogress.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtktile.c
+xshmmap.o: ../win/gtk/xshmmap.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/xshmmap.c
+gtkhackrc.o: ../win/gtk/gtkhackrc.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/prxyclnt.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkhackrc.c
+gtkprefs.o: ../win/gtk/gtkprefs.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkprefs.c
+gtkprogress.o: ../win/gtk/gtkprogress.c $(INCL)/winGTK.h $(HACK_H) \
+                $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		../win/gtk/gtkprogress.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkprogress.c
+gtkext.o: ../win/gtk/gtkext.c $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/nhxdr.h $(INCL)/proxycom.h $(INCL)/prxyclnt.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkext.c
+gtkint.o: ../win/gtk/gtkint.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h $(INCL)/winGTK.h $(HACK_H) \
+		$(INCL)/func_tab.h $(INCL)/dlb.h $(INCL)/patchlevel.h
+	$(CCGTK) $(CFLAGS) $(WINGTKCFLAGS) -o$@ ../win/gtk/gtkint.c
+gnaskstr.o: ../win/gnome/gnaskstr.c ../win/gnome/gnaskstr.h \
+		../win/gnome/gnmain.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnaskstr.c
+gnbind.o: ../win/gnome/gnbind.c ../win/gnome/gnbind.h ../win/gnome/gnmain.h \
+		../win/gnome/gnaskstr.h ../win/gnome/gnyesno.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnbind.c
+gnglyph.o: ../win/gnome/gnglyph.c ../win/gnome/gnglyph.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnglyph.c
+gnmain.o: ../win/gnome/gnmain.c ../win/gnome/gnmain.h ../win/gnome/gnsignal.h \
+		../win/gnome/gnbind.h ../win/gnome/gnopts.h $(HACK_H) \
+		$(INCL)/date.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnmain.c
+gnmap.o: ../win/gnome/gnmap.c ../win/gnome/gnmap.h ../win/gnome/gnglyph.h \
+		../win/gnome/gnsignal.h $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnmap.c
+gnmenu.o: ../win/gnome/gnmenu.c ../win/gnome/gnmenu.h ../win/gnome/gnmain.h \
+		../win/gnome/gnbind.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnmenu.c
+gnmesg.o: ../win/gnome/gnmesg.c ../win/gnome/gnmesg.h ../win/gnome/gnsignal.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnmesg.c
+gnopts.o: ../win/gnome/gnopts.c ../win/gnome/gnopts.h ../win/gnome/gnglyph.h \
+		../win/gnome/gnmain.h ../win/gnome/gnmap.h $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnopts.c
+gnplayer.o: ../win/gnome/gnplayer.c ../win/gnome/gnplayer.h \
+		../win/gnome/gnmain.h $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnplayer.c
+gnsignal.o: ../win/gnome/gnsignal.c ../win/gnome/gnsignal.h \
+		../win/gnome/gnmain.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnsignal.c
+gnstatus.o: ../win/gnome/gnstatus.c ../win/gnome/gnstatus.h \
+		../win/gnome/gnsignal.h ../win/gnome/gn_xpms.h \
+		../win/gnome/gnomeprv.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnstatus.c
+gntext.o: ../win/gnome/gntext.c ../win/gnome/gntext.h ../win/gnome/gnmain.h \
+		../win/gnome/gn_rip.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gntext.c
+gnyesno.o: ../win/gnome/gnyesno.c ../win/gnome/gnbind.h ../win/gnome/gnyesno.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnyesno.c
+gnworn.o: ../win/gnome/gnworn.c ../win/gnome/gnworn.h ../win/gnome/gnglyph.h \
+		../win/gnome/gnsignal.h ../win/gnome/gnomeprv.h
+	$(CCOMPILE) $(CFLAGS) $(GNOMEINC) -o$@ ../win/gnome/gnworn.c
+wingem.o: ../win/gem/wingem.c $(HACK_H) $(INCL)/func_tab.h $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/wingem.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/gem/wingem.c
+wingem1.o: ../win/gem/wingem1.c $(INCL)/gem_rsc.h $(INCL)/load_img.h \
+		$(INCL)/gr_rect.h $(INCL)/wintype.h $(INCL)/wingem.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/gem/wingem1.c
+load_img.o: ../win/gem/load_img.c $(INCL)/load_img.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/gem/load_img.c
+gr_rect.o: ../win/gem/gr_rect.c $(INCL)/gr_rect.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/gem/gr_rect.c
+winproxy.o: ../win/proxy/winproxy.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/date.h $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/winproxy.h $(INCL)/win32api.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/winproxy.c
+callback.o: ../win/proxy/callback.c $(HACK_H) $(INCL)/func_tab.h \
+		$(INCL)/md5.h $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/winproxy.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/callback.c
+md5.o: ../win/proxy/md5.c $(INCL)/md5.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/md5.c
+dlbh.o: ../win/proxy/dlbh.c $(HACK_H) $(INCL)/dlb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/dlbh.c
+mapid.o: ../win/proxy/mapid.c $(HACK_H) $(INCL)/nhxdr.h $(INCL)/winproxy.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/mapid.c
+riputil.o: ../win/proxy/riputil.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/riputil.c
+getopt.o: ../win/proxy/getopt.c $(HACK_H)
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/getopt.c
+glyphmap.o: ../win/proxy/glyphmap.c $(HACK_H) $(INCL)/nhxdr.h \
+		$(INCL)/proxycom.h $(INCL)/winproxy.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/glyphmap.c
+proxysvc.o: ../win/proxy/proxysvc.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/proxycb.h $(INCL)/prxyclnt.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/proxysvc.c
+proxycb.o: ../win/proxy/proxycb.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/proxycb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/proxycb.c
+prxymap.o: ../win/proxy/prxymap.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/prxymap.c
+prxychar.o: ../win/proxy/prxychar.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/prxychar.c
+prxytile.o: ../win/proxy/prxytile.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h $(INCL)/proxycb.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/prxytile.c
+prxyconn.o: ../win/proxy/prxyconn.c $(INCL)/nhxdr.h $(INCL)/proxycom.h \
+		$(INCL)/prxyclnt.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/prxyconn.c
+nhext.o: ../win/proxy/nhext.c $(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhext.c
+nhxdr.o: ../win/proxy/nhxdr.c $(INCL)/nhxdr.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhxdr.c
+nhextxdr.o: ../win/proxy/nhextxdr.c $(INCL)/nhxdr.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhextxdr.c
+nhextio.o: ../win/proxy/nhextio.c $(INCL)/nhxdr.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhextio.c
+nhextnb.o: ../win/proxy/nhextnb.c $(INCL)/nhxdr.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/nhextnb.c
+compxdr.o: ../win/proxy/compxdr.c $(INCL)/nhxdr.h $(INCL)/proxycom.h
+	$(CCOMPILE) $(CFLAGS) -o$@ ../win/proxy/compxdr.c
+gl_conf.o: ../win/gl/gl_conf.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_conf.c
+gl_emul.o: ../win/gl/gl_emul.c $(HACK_H) $(INCL)/winGL.h \
+		$(INCL)/func_tab.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_emul.c
+gl_font.o: ../win/gl/gl_font.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_font.c
+gl_hardw.o: ../win/gl/gl_hardw.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_hardw.c
+gl_image.o: ../win/gl/gl_image.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_image.c
+gl_main.o: ../win/gl/gl_main.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_main.c
+gl_map.o: ../win/gl/gl_map.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_map.c
+gl_menu.o: ../win/gl/gl_menu.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_menu.c
+gl_opt.o: ../win/gl/gl_opt.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/date.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_opt.c
+gl_role.o: ../win/gl/gl_role.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_role.c
+gl_rendu.o: ../win/gl/gl_rendu.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_rendu.c
+gl_softw.o: ../win/gl/gl_softw.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_softw.c
+gl_stat.o: ../win/gl/gl_stat.c $(HACK_H) $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_stat.c
+gl_text.o: ../win/gl/gl_text.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_text.c
+gl_tile.o: ../win/gl/gl_tile.c $(HACK_H) $(INCL)/patchlevel.h \
+		$(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_tile.c
+gl_unit.o: ../win/gl/gl_unit.c $(HACK_H) $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_unit.c
+gl_win.o: ../win/gl/gl_win.c $(HACK_H) $(INCL)/dlb.h \
+		$(INCL)/patchlevel.h $(INCL)/winGL.h
+	$(CCOMPILE) $(CFLAGS) $(SDLGL_CFLAGS) -o$@ ../win/gl/gl_win.c
+tile.o: tile.c $(HACK_H)
+qt_win.o: ../win/Qt/qt_win.cpp $(HACK_H) $(INCL)/func_tab.h \
+		$(INCL)/dlb.h $(INCL)/date.h $(INCL)/patchlevel.h \
+		$(INCL)/tile2x11.h $(INCL)/qt_win.h \
+		$(INCL)/qt_clust.h $(INCL)/qt_kde0.h \
+		$(INCL)/qt_xpms.h qt_win.moc qt_kde0.moc qttableview.moc
+	$(CXX) $(CXXFLAGS) -o$@ ../win/Qt/qt_win.cpp
+qt_clust.o: ../win/Qt/qt_clust.cpp $(INCL)/qt_clust.h
+	$(CXX) $(CXXFLAGS) -o$@ ../win/Qt/qt_clust.cpp
+qttableview.o: ../win/Qt/qttableview.cpp $(INCL)/qttableview.h
+	$(CXX) $(CXXFLAGS) -o$@ ../win/Qt/qttableview.cpp
+monstr.o: monstr.c $(CONFIG_H)
+vis_tab.o: vis_tab.c $(CONFIG_H) $(INCL)/vis_tab.h
+allmain.o: allmain.c $(HACK_H) $(INCL)/patchlevel.h
+alloc.o: alloc.c $(CONFIG_H)
+apply.o: apply.c $(HACK_H) $(INCL)/edog.h
+artifact.o: artifact.c $(HACK_H) $(INCL)/artifact.h $(INCL)/artilist.h
+attrib.o: attrib.c $(HACK_H)
+ball.o: ball.c $(HACK_H)
+bones.o: bones.c $(HACK_H) $(INCL)/lev.h
+botl.o: botl.c $(HACK_H)
+cmd.o: cmd.c $(HACK_H) $(INCL)/func_tab.h
+dbridge.o: dbridge.c $(HACK_H)
+decl.o: decl.c $(HACK_H)
+detect.o: detect.c $(HACK_H) $(INCL)/artifact.h
+dig.o: dig.c $(HACK_H) $(INCL)/edog.h
+display.o: display.c $(HACK_H)
+dlb.o: dlb.c $(CONFIG_H) $(INCL)/dlb.h
+do.o: do.c $(HACK_H) $(INCL)/lev.h
+do_name.o: do_name.c $(HACK_H)
+do_wear.o: do_wear.c $(HACK_H)
+dog.o: dog.c $(HACK_H) $(INCL)/edog.h $(INCL)/emin.h $(INCL)/epri.h
+dogmove.o: dogmove.c $(HACK_H) $(INCL)/mfndpos.h $(INCL)/edog.h \
+		$(INCL)/emin.h $(INCL)/epri.h
+dokick.o: dokick.c $(HACK_H) $(INCL)/eshk.h
+dothrow.o: dothrow.c $(HACK_H) $(INCL)/eshk.h
+drawing.o: drawing.c $(HACK_H) $(INCL)/tcap.h
+dungeon.o: dungeon.c $(HACK_H) $(INCL)/dgn_file.h $(INCL)/dlb.h
+eat.o: eat.c $(HACK_H)
+end.o: end.c $(HACK_H) $(INCL)/eshk.h $(INCL)/dlb.h
+engrave.o: engrave.c $(HACK_H) $(INCL)/lev.h
+exper.o: exper.c $(HACK_H)
+explode.o: explode.c $(HACK_H)
+extralev.o: extralev.c $(HACK_H)
+files.o: files.c $(HACK_H) $(INCL)/dlb.h $(INCL)/filename.h \
+		$(INCL)/winGL.h $(INCL)/winproxy.h
+fountain.o: fountain.c $(HACK_H)
+hack.o: hack.c $(HACK_H)
+hacklib.o: hacklib.c $(HACK_H)
+invent.o: invent.c $(HACK_H)
+light.o: light.c $(HACK_H) $(INCL)/lev.h
+lock.o: lock.c $(HACK_H)
+mail.o: mail.c $(HACK_H) $(INCL)/mail.h
+makemon.o: makemon.c $(HACK_H) $(INCL)/epri.h $(INCL)/emin.h \
+		$(INCL)/edog.h
+mapglyph.o: mapglyph.c $(HACK_H)
+mcastu.o: mcastu.c $(HACK_H)
+mhitm.o: mhitm.c $(HACK_H) $(INCL)/artifact.h $(INCL)/edog.h
+mhitu.o: mhitu.c $(HACK_H) $(INCL)/artifact.h $(INCL)/edog.h
+minion.o: minion.c $(HACK_H) $(INCL)/emin.h $(INCL)/epri.h
+mklev.o: mklev.c $(HACK_H)
+mkmap.o: mkmap.c $(HACK_H) $(INCL)/sp_lev.h
+mkmaze.o: mkmaze.c $(HACK_H) $(INCL)/sp_lev.h $(INCL)/lev.h
+mkobj.o: mkobj.c $(HACK_H)
+mkroom.o: mkroom.c $(HACK_H)
+mon.o: mon.c $(HACK_H) $(INCL)/mfndpos.h $(INCL)/edog.h \
+		$(INCL)/artifact.h
+mondata.o: mondata.c $(HACK_H) $(INCL)/eshk.h $(INCL)/epri.h
+monmove.o: monmove.c $(HACK_H) $(INCL)/mfndpos.h $(INCL)/artifact.h \
+		$(INCL)/epri.h
+monst.o: monst.c $(CONFIG_H) $(INCL)/permonst.h $(INCL)/align.h \
+		$(INCL)/monattk.h $(INCL)/monflag.h $(INCL)/monsym.h \
+		$(INCL)/dungeon.h $(INCL)/eshk.h $(INCL)/vault.h \
+		$(INCL)/epri.h $(INCL)/egyp.h $(INCL)/color.h
+mplayer.o: mplayer.c $(HACK_H)
+mthrowu.o: mthrowu.c $(HACK_H)
+muse.o: muse.c $(HACK_H) $(INCL)/edog.h
+music.o: music.c $(HACK_H) #interp.c
+o_init.o: o_init.c $(HACK_H) $(INCL)/lev.h
+objects.o: objects.c $(CONFIG_H) $(INCL)/obj.h $(INCL)/objclass.h \
+		$(INCL)/prop.h $(INCL)/skills.h $(INCL)/color.h
+objnam.o: objnam.c $(HACK_H)
+options.o: options.c $(CONFIG_H) $(INCL)/objclass.h $(INCL)/flag.h \
+		$(HACK_H) $(INCL)/tcap.h $(INCL)/winGL.h \
+		$(INCL)/filename.h
+pager.o: pager.c $(HACK_H) $(INCL)/dlb.h
+pickup.o: pickup.c $(HACK_H)
+pline.o: pline.c $(HACK_H) $(INCL)/epri.h $(INCL)/edog.h
+polyself.o: polyself.c $(HACK_H)
+potion.o: potion.c $(HACK_H)
+pray.o: pray.c $(HACK_H) $(INCL)/epri.h
+priest.o: priest.c $(HACK_H) $(INCL)/mfndpos.h $(INCL)/eshk.h \
+		$(INCL)/epri.h $(INCL)/emin.h
+quest.o: quest.c $(HACK_H) $(INCL)/qtext.h
+questpgr.o: questpgr.c $(HACK_H) $(INCL)/dlb.h $(INCL)/qtext.h
+read.o: read.c $(HACK_H)
+rect.o: rect.c $(HACK_H)
+region.o: region.c $(HACK_H) $(INCL)/lev.h
+restore.o: restore.c $(HACK_H) $(INCL)/lev.h $(INCL)/tcap.h
+rip.o: rip.c $(HACK_H)
+rnd.o: rnd.c $(HACK_H)
+role.o: role.c $(HACK_H)
+rumors.o: rumors.c $(HACK_H) $(INCL)/lev.h $(INCL)/dlb.h
+save.o: save.c $(HACK_H) $(INCL)/lev.h
+shk.o: shk.c $(HACK_H) $(INCL)/eshk.h
+shknam.o: shknam.c $(HACK_H) $(INCL)/eshk.h
+sit.o: sit.c $(HACK_H) $(INCL)/artifact.h
+sounds.o: sounds.c $(HACK_H) $(INCL)/edog.h
+sp_lev.o: sp_lev.c $(HACK_H) $(INCL)/dlb.h $(INCL)/sp_lev.h
+spell.o: spell.c $(HACK_H) $(INCL)/edog.h
+steal.o: steal.c $(HACK_H)
+steed.o: steed.c $(HACK_H)
+teleport.o: teleport.c $(HACK_H)
+timeout.o: timeout.c $(HACK_H) $(INCL)/lev.h
+topten.o: topten.c $(HACK_H) $(INCL)/dlb.h $(INCL)/patchlevel.h
+track.o: track.c $(HACK_H)
+trap.o: trap.c $(HACK_H)
+u_init.o: u_init.c $(HACK_H)
+uhitm.o: uhitm.c $(HACK_H)
+vault.o: vault.c $(HACK_H) $(INCL)/vault.h
+version.o: version.c $(HACK_H) $(INCL)/date.h $(INCL)/patchlevel.h
+vision.o: vision.c $(HACK_H) $(INCL)/vis_tab.h
+weapon.o: weapon.c $(HACK_H)
+were.o: were.c $(HACK_H)
+wield.o: wield.c $(HACK_H)
+windows.o: windows.c $(HACK_H) $(INCL)/wingem.h $(INCL)/winGnome.h \
+		$(INCL)/winGL.h $(INCL)/winproxy.h
+wizard.o: wizard.c $(HACK_H) $(INCL)/qtext.h $(INCL)/epri.h
+worm.o: worm.c $(HACK_H) $(INCL)/lev.h
+worn.o: worn.c $(HACK_H)
+write.o: write.c $(HACK_H)
+zap.o: zap.c $(HACK_H)
+gypsy.o: gypsy.c $(HACK_H) $(INCL)/egyp.h $(INCL)/qtext.h
+tech.o: tech.c $(HACK_H)
+
+# end of file
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\makemon.c SlashTNG-master\src\makemon.c
--- slashem-0.0.7E7F3\src\makemon.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\makemon.c	Sun Jan 01 14:08:43 2017
@@ -156,7 +156,7 @@
 	otmp->quan = (long) rn1(oquan, 3);
 	otmp->owt = weight(otmp);
 	if (otyp == ORCISH_ARROW) otmp->opoisoned = TRUE;
-	(void) mpickobj(mtmp, otmp);
+	(void) mpickobj(mtmp, otmp, TRUE);
 }
 
 #endif /* OVLB */
@@ -241,6 +241,12 @@
 				    BOULDER : CLUB);
 		break;
 	    case S_HUMAN:
+		if (monsndx(ptr) == PM_FORD_PERFECT || monsndx(ptr) == PM_ARTHUR_DENT) {
+ 			mongets(mtmp,PEANUT_BAG);
+ 		} 
+ 		if (monsndx(ptr) == PM_FORD_PERFECT) {
+ 			mongets(mtmp,TOWEL);
+ 		}
 		if(is_mercenary(ptr) || mm == PM_SHOPKEEPER
 #ifdef YEOMAN
 				|| mm == PM_CHIEF_YEOMAN_WARDER || mm == PM_YEOMAN_WARDER
@@ -535,7 +541,7 @@
 			for (v=0;v<vials;v++) {
 			  otmp = mksobj(POT_WATER, FALSE, FALSE);
 			  bless(otmp);
-			  mpickobj(mtmp, otmp);
+			  mpickobj(mtmp, otmp, TRUE);
 			}
 		     }
 #ifndef GOLDOBJ
@@ -632,7 +638,7 @@
 		    if(otmp) {
 			otmp->spe = rnd(3);
 			if(!rn2(2)) curse(otmp);
-			(void) mpickobj(mtmp, otmp);
+			(void) mpickobj(mtmp, otmp, TRUE);
 		    }
 
 		    /* MRKR: Dwarves in the Mines sometimes carry torches */
@@ -641,7 +647,7 @@
 		      if (!rn2(4)) {	
 			otmp = mksobj(TORCH, TRUE, FALSE);
 			otmp->quan = 1;
-			(void) mpickobj(mtmp, otmp);
+			(void) mpickobj(mtmp, otmp, TRUE);
 
 			/* If this spot is unlit, light the torch */
 
@@ -654,6 +660,9 @@
 		break;
 
 	    case S_ANGEL:
+		if (monsndx(ptr) == PM_DOUGLAS_ADAMS) {
+			(void) mongets(mtmp,HITCHHIKER_S_GUIDE_TO_THE_GALA);
+		}
 		{
 		    int spe2;
 
@@ -668,7 +677,7 @@
 		    otmp->oerodeproof = TRUE;
 		    spe2 = rn2(4);
 		    otmp->spe = max(otmp->spe, spe2);
-		    (void) mpickobj(mtmp, otmp);
+		    (void) mpickobj(mtmp, otmp, TRUE);
 
 		    otmp = mksobj(!rn2(4) || is_lord(ptr) ?
 				  SHIELD_OF_REFLECTION : LARGE_SHIELD,
@@ -676,9 +685,46 @@
 		    otmp->cursed = FALSE;
 		    otmp->oerodeproof = TRUE;
 		    otmp->spe = 0;
-		    (void) mpickobj(mtmp, otmp);
+		    (void) mpickobj(mtmp, otmp, TRUE);
 		}
 		break;
+		case S_XORN:
+		if (monsndx(ptr) == PM_MARVIN) {
+			int i;
+			int t[3] = {DIODE, TRANSISTOR, IC};
+			for (i=0;i<3;i++) {
+				otmp = mksobj(t[i],FALSE,FALSE);
+				otmp->quan = rn2(7) + 1;
+				otmp->owt = weight(otmp);
+				mpickobj(mtmp,otmp, TRUE);
+			}
+		} else if (mtmp->data == &mons[PM_XEROC]) set_mimic_sym(mtmp);
+		break;
+		case S_XAN:
+ 		if (monsndx(ptr) == PM_DEEP_THOUGHT) {
+ 			otmp = mksobj(IC,FALSE,FALSE);
+ 			otmp->quan = 42;
+ 			otmp->owt = weight(otmp);
+ 			mpickobj(mtmp, otmp, TRUE);
+  		}
+  		break;
+ 
+ 	    case S_YETI:
+ 		if (monsndx(ptr) == PM_ZAPHOD_BREEBLEBROX) {
+ 			otmp = mksobj(POT_PAN_GALACTIC_GARGLE_BLASTE,FALSE,FALSE);
+ 			otmp->quan = d(2,4);
+ 			otmp->owt = weight(otmp);
+ 			mpickobj(mtmp, otmp, TRUE);
+ 		}
+ 		break;
+ 	    case S_DRAGON:
+		if (ptr == &mons[PM_DRAGON_LORD]) {
+			struct obj *otmp;
+			otmp = mksobj(GRAY_DRAGON_SCALE_MAIL,TRUE,FALSE);
+			otmp = oname(otmp,artiname(ART_SCALES_OF_THE_DRAGON_LORD));
+			mpickobj(mtmp,otmp, TRUE);
+		}
+ 		break;
 	    case S_GNOME:
 		switch (mm) {
 		    case PM_GNOLL:
@@ -799,7 +845,9 @@
 		if (!rn2(4)) m_initthrow(mtmp, CREAM_PIE, 2);
 		if (!rn2(3)) (void)mongets(mtmp,(rn2(2)) ? CLUB : RUBBER_HOSE);
 		break;
-# endif
+# endif/*
+		case S_XORN:
+			if (mtmp->data == &mons[PM_XEROC]) set_mimic_sym(mtmp);*/
 	    case S_ORC:
                 /* All orcs will get at least an orcish dagger*/
 		if(rn2(2)) (void)mongets(mtmp, ORCISH_HELM);
@@ -1091,7 +1139,7 @@
 				      FALSE, FALSE);
 			otmp->quan = (long) rn1(2, 3);
 			otmp->owt = weight(otmp);
-			(void) mpickobj(mtmp, otmp);
+			(void) mpickobj(mtmp, otmp, TRUE);
 		    }
 		}
 		break;
@@ -1100,7 +1148,7 @@
 		if (ptr == &mons[PM_NAZGUL]) {
 			otmp = mksobj(RIN_INVISIBILITY, FALSE, FALSE);
 			curse(otmp);
-			(void) mpickobj(mtmp, otmp);
+			(void) mpickobj(mtmp, otmp, TRUE);
 		}
 		break;
 	    case S_LICH:
@@ -1111,7 +1159,7 @@
 				      TRUE, rn2(13) ? FALSE : TRUE);
 			if (otmp->spe < 2) otmp->spe = rnd(3);
 			if (!rn2(4)) otmp->oerodeproof = 1;
-			(void) mpickobj(mtmp, otmp);
+			(void) mpickobj(mtmp, otmp, TRUE);
 		}
 		break;
 	    case S_MUMMY:
@@ -1122,7 +1170,7 @@
 			otmp = mksobj(LARGE_BOX, FALSE, FALSE);
 			otmp->spe = 1; /* flag for special box */
 			otmp->owt = weight(otmp);
-			(void) mpickobj(mtmp, otmp);
+			(void) mpickobj(mtmp, otmp, TRUE);
 		}
 		if (monsndx(ptr) == PM_DOCTOR_FRANKENSTEIN) {
 			(void)mongets(mtmp, LAB_COAT);
@@ -1142,7 +1190,7 @@
 			otmp = mksobj(WAN_WISHING,TRUE,FALSE);
 			otmp->spe=3;
 			otmp->blessed=0;
-			mpickobj(mtmp, otmp);
+			mpickobj(mtmp, otmp, TRUE);
 		}*/
 		break;	
 	    case S_VAMPIRE:
@@ -1152,7 +1200,7 @@
 		    break;
 	    	/* Get opera cloak */
 /*	    	otmp = readobjnam(opera_cloak);
-		if (otmp && otmp != &zeroobj) mpickobj(mtmp, otmp);*/
+		if (otmp && otmp != &zeroobj) mpickobj(mtmp, otmp, TRUE);*/
 		for (i = STRANGE_OBJECT; i < NUM_OBJECTS; i++) {
 			register const char *zn;
 			if ((zn = OBJ_DESCR(objects[i])) && !strcmpi(zn, "opera cloak")) {
@@ -1547,7 +1595,13 @@
 		case S_EEL:
 			if (is_pool(x, y))
 			    mtmp->mundetected = TRUE;
-			break;
+			if (ptr != &mons[PM_ICE_MONSTER] &&
+ 			    ptr != &mons[PM_BABELFISH])
+ 				mtmp->minvis = TRUE;
+			break;
+		case S_PUDDING:
+ 			if (ptr == &mons[PM_PHANTOM]) mtmp->minvis = TRUE;
+  			break;
 		case S_LEPRECHAUN:
 			mtmp->msleeping = 1;
 			break;
@@ -1613,7 +1667,7 @@
 				artiname(ART_KEY_OF_LAW));
 		if (otmp) {
 			otmp->blessed = otmp->cursed = 0;
-			mpickobj(mtmp, otmp);
+			mpickobj(mtmp, otmp, TRUE);
 		}
 	} else if (mndx == PM_BEHOLDER) {
 		struct obj *otmp;
@@ -1622,7 +1676,7 @@
 				artiname(ART_KEY_OF_NEUTRALITY));
 		if (otmp) {
 			otmp->blessed = otmp->cursed = 0;
-			mpickobj(mtmp, otmp);
+			mpickobj(mtmp, otmp, TRUE);
 		}
 	} else if (mndx == PM_VECNA) {
 		struct obj *otmp;
@@ -1631,7 +1685,7 @@
 				artiname(ART_KEY_OF_CHAOS));
 		if (otmp) {
 			otmp->blessed = otmp->cursed = 0;
-			mpickobj(mtmp, otmp);
+			mpickobj(mtmp, otmp, TRUE);
 		}
 	} else if (mndx == PM_GYPSY) {
 		/* KMH -- Gypsies are randomly generated; initialize them here */
@@ -2227,7 +2281,7 @@
 	    }
 
 	    spe = otmp->spe;
-	    (void) mpickobj(mtmp, otmp);	/* might free otmp */
+	    (void) mpickobj(mtmp, otmp, TRUE);	/* might free otmp */
 	    return(spe);
 	} else return(0);
 }
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\mhitm.c SlashTNG-master\src\mhitm.c
--- slashem-0.0.7E7F3\src\mhitm.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\mhitm.c	Sat Dec 24 15:43:38 2016
@@ -363,6 +363,7 @@
 	    case AT_TUCH:
 	    case AT_BUTT:
 	    case AT_TENT:
+		case AT_TALK:
 		/* Nymph that teleported away on first attack? */
 		if (distmin(magr->mx,magr->my,mdef->mx,mdef->my) > 1)
 		    return MM_MISS;
@@ -1740,6 +1741,13 @@
 	    case AD_WRAP: /* monsters cannot grab one another, it's too hard */
 		if (magr->mcan) tmp = 0;
 		break;
+		case AD_DEPR:
+ 		pline("%s talks to %s!", Monnam(magr), mon_nam(mdef));
+ 		if (!rn2(5)) {
+ 			pline("%s is depressed!",Monnam(mdef));
+ 			tmp = rn1(10,6);
+ 		}
+ 		break;
 	    case AD_ENCH:
 		/* There's no msomearmor() function, so just do damage */
 	     /* if (cancelled) break; */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\mhitu.c SlashTNG-master\src\mhitu.c
--- slashem-0.0.7E7F3\src\mhitu.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\mhitu.c	Sun Jan 01 14:25:22 2017
@@ -76,6 +76,9 @@
 				        s_suffix(Monnam(mtmp)));
 			break;
 		case AT_EXPL:
+		case AT_TALK:
+ 			pline("%s talks to you!",Monnam(mtmp));
+ 			break;
 		case AT_BOOM:
 			pline("%s explodes!", Monnam(mtmp));
 			break;
@@ -589,7 +592,9 @@
 	if(!mtmp->cham && is_demon(mdat) && !range2
 	   && mtmp->data != &mons[PM_BALROG]
 	   && mtmp->data != &mons[PM_SUCCUBUS]
-	   && mtmp->data != &mons[PM_INCUBUS])
+	   && mtmp->data != &mons[PM_INCUBUS]
+	   && mtmp->data != &mons[PM_NEWS_DAEMON]
+ 	   && mtmp->data != &mons[PM_PRINTER_DAEMON])
 	    if(!mtmp->mcan && !rn2(13))	msummon(mtmp);
 
 /*	Special lycanthrope handling code */
@@ -763,6 +768,11 @@
 			if (!range2)
 			    clone_mon(mtmp, 0, 0);
 			break;
+		case AT_TALK:
+ 			if (!ranged) {
+ 				pline("%s talks to you!",youseeit ? Monnam(mtmp) : "It");
+ 				sum[i] = hitmu(mtmp,mattk);
+ 			}
 		case AT_WEAP:
 			if(range2) {
 #ifdef REINCARNATION
@@ -1429,6 +1439,7 @@
 		}
 		break;
 	    case AD_DRLI:
+		drain_life:
 		hitmsg(mtmp, mattk);
 		/* if vampire biting (and also a pet) */
 		if (is_vampire(mtmp->data) && mattk->aatyp == AT_BITE &&
@@ -1859,6 +1870,38 @@
 		if (!is_fainted()) morehungry(rn1(40,40));
 		/* plus the normal damage */
 		break;
+		case AD_DEPR:
+ 		You("feel depressed.");
+ 		switch(rn2(6) + u.uluck) {
+ 			case 0:
+ 				goto drain_life;
+ 				break;
+ 			case 1:
+ 				(void) adjattrib(A_CON, -1, FALSE);
+ 				if (ABASE(A_CON) < ATTRMIN(A_CON)) {
+ 					killer = "depression";
+ 					killer_format = KILLED_BY;
+ 					done(DIED);
+ 					/* lifesaved */
+ 					ABASE(A_CON) = ATTRMIN(A_CON);
+ 				}
+ 				break;
+ 			case 2:
+ 				(void) adjattrib(A_INT, -1, FALSE);
+ 				if (ABASE(A_INT) < ATTRMIN(A_CON)) {
+ 					killer = "depression";
+ 					killer_format = KILLED_BY;
+ 					done(DIED);
+ 					/* lifesaved */
+ 					ABASE(A_INT) = ATTRMIN(A_INT);
+ 				}
+ 				break;
+ 			default:
+ 				pline("But the feeling subsides.");
+ 				break;
+ 		}
+ 		dmg = 0;
+ 		break;
 	    case AD_CALM:	/* KMH -- koala attack */
 		hitmsg(mtmp, mattk);
 		if (uncancelled)
@@ -2560,7 +2603,9 @@
 			rehumanize();
 		}
 	} else {
+		u.uhplast = u.uhp;
 		u.uhp -= n;
+		if (u.uhp >= 1 && n > 0 && u.uhp*10 < u.uhpmax)/*	maybe_wail(); can comment out?/* Wizard is about to die. --Amy */
 		if(u.uhp < 1) done_in_by(mtmp);
 	}
 }
@@ -2705,7 +2750,7 @@
 		if (ring==uswapwep) setuswapwep((struct obj *)0, FALSE);
 		if (ring==uquiver) setuqwep((struct obj *)0);
 		freeinv(ring);
-		(void) mpickobj(mon,ring);
+		(void) mpickobj(mon,ring,FALSE);
 	    } else {
 		char buf[BUFSZ];
 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\mklev.c SlashTNG-master\src\mklev.c
--- slashem-0.0.7E7F3\src\mklev.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\mklev.c	Sat Dec 24 15:49:44 2016
@@ -784,6 +784,7 @@
 	    else if(depth(&u.uz) > 11 && !rn2(14)) mkroom(MORGUE);
 	    else if(depth(&u.uz) > 13 && !rn2(15)) mkroom(BADFOODSHOP);
 	    else if(depth(&u.uz) > 18 && !rn2(7)) mkroom(SWAMP);
+		else if(depth(&u.uz) > 10 && !rn2(5)) mkroom(DOUGROOM);
 
 	    /* dangerous ones */
 	    if (u_depth > 16 && !rn2(8) &&
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\mkobj.c SlashTNG-master\src\mkobj.c
--- slashem-0.0.7E7F3\src\mkobj.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\mkobj.c	Sat Dec 24 15:57:07 2016
@@ -162,6 +162,7 @@
 				if (moves <= 1 && !in_mklev) { n = 0; break; }
 				/*else FALLTHRU*/
 	case BAG_OF_HOLDING:	n = 1; break;
+	case BAG_OF_DIGESTION:		/* makes sense, doesn't it ? */
 	default:		n = 0; break;
 	}
 
@@ -417,6 +418,7 @@
 	otmp->otyp = otyp;
 	otmp->where = OBJ_FREE;
 	otmp->dknown = index(dknowns, let) ? 0 : 1;
+	otmp->selfmade = FALSE;
 	otmp->oinvis = 0;
 	otmp->olocked = FALSE; /* ->recharged */
 	otmp->altmode = WP_MODE_AUTO;
@@ -598,6 +600,9 @@
 		case BAG_OF_TRICKS:
 			otmp->spe = rn1(20,10);
 					break;
+		case CHEMISTRY_SET:	otmp->spe = rn1(10,10);
+ 					blessorcurse(otmp,4);
+ 					break;
 		case FIGURINE:	{	int tryct2 = 0;
 					do
 					    otmp->corpsenm = rndmonnum();
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\mkroom.c SlashTNG-master\src\mkroom.c
--- slashem-0.0.7E7F3\src\mkroom.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\mkroom.c	Sat Dec 24 16:07:52 2016
@@ -9,6 +9,7 @@
  *	has_dnstairs() -- return TRUE if given room has a down staircase
  *	has_upstairs() -- return TRUE if given room has an up staircase
  *	courtmon() -- generate a court monster
+ *	douglas_adams_mon() -- create a Douglas-Adams_Monster
  *	save_rooms() -- save rooms into file fd
  *	rest_rooms() -- restore rooms from file fd
  */
@@ -22,6 +23,7 @@
 STATIC_DCL void NDECL(mktemple);
 STATIC_DCL coord * FDECL(shrine_pos, (int));
 STATIC_DCL struct permonst * NDECL(morguemon);
+STATIC_DCL struct permonst * NDECL(douglas_adams_mon);
 STATIC_DCL struct permonst * NDECL(squadmon);
 STATIC_DCL struct permonst * NDECL(fungus);
 STATIC_DCL void FDECL(save_room, (int,struct mkroom *));
@@ -62,6 +64,7 @@
 	case GIANTCOURT: mkzoo(GIANTCOURT); break;
 	case SWAMP:	mkswamp(); break;
 	case TEMPLE:	mktemple(); break;
+	case DOUGROOM:	mkzoo(DOUGROOM); break;
 	case LEPREHALL:	mkzoo(LEPREHALL); break;
 	case COCKNEST:	mkzoo(COCKNEST); break;
 	case ANTHOLE:	mkzoo(ANTHOLE); break;
@@ -137,6 +140,10 @@
 				mkswamp();
 				return;
 			}
+			if (*ep == 'd' || *ep == 'D') {
+ 				mkzoo(DOUGROOM);
+ 				return;
+ 			}
 			j = -1;
 			for(i=0; shtypes[i].name; i++)
 				if(*ep == def_oc_syms[(int)shtypes[i].symb]) {
@@ -327,6 +334,7 @@
 		    (type == BEEHIVE) ?
 			(sx == tx && sy == ty ? &mons[PM_QUEEN_BEE] :
 			 &mons[PM_KILLER_BEE]) :
+			(type == DOUGROOM) ? douglas_adams_mon() :
 		    (type == LEPREHALL) ? &mons[PM_LEPRECHAUN] :
 		    (type == COCKNEST) ? 
 		    	(rn2(4) ? &mons[PM_COCKATRICE] :
@@ -381,6 +389,9 @@
 			    (void) mksobj_at(LUMP_OF_ROYAL_JELLY,
 					     sx, sy, TRUE, FALSE);
 			break;
+			case DOUGROOM:
+				level.flags.has_zoo = 1;
+			break;
 		    case FUNGUSFARM:
 			if (!rn2(3))
 			    (void) mksobj_at(SLIME_MOLD, sx, sy, TRUE, FALSE);
@@ -792,6 +803,52 @@
 }
 
 struct permonst *
+ douglas_adams_mon()
+ {
+ /* The uniques are now needed for the Hitchhiker's Level. */
+ 	struct permonst *monsters[] = {
+ 		&mons[PM_RAVENOUS_BUGBLATTER_BEAST_OF_TRAAL],
+ /*		&mons[PM_DOUGLAS_ADAMS], */
+ /*		&mons[PM_FORD_PERFECT], */
+ /*		&mons[PM_ARTHUR_DENT], */
+ 		&mons[PM_CREEPING___],
+ 		&mons[PM_MICROSCOPIC_SPACE_FLEET],
+ 		&mons[PM_VOGON],
+ 		&mons[PM_VOGON_LORD],
+ /*		&mons[PM_MR__PROSSER], */
+ /*		&mons[PM_PROSTETNIK_VOGON_JELTZ], */
+ /*		&mons[PM_ZAPHOD_BREEBLEBROX], */
+ /*		&mons[PM_DEEP_THOUGHT], */
+ 		&mons[PM_BABELFISH],
+ 		&mons[PM_MARVIN],
+ 		&mons[PM_ALGOLIAN_SUNTIGER],
+ /*		&mons[PM_EDDIE], */
+ 	};
+ 	struct permonst *m;
+ 	int max = sizeof(monsters) / sizeof(monsters[0]);
+ 	int cnt;
+ 
+ 	cnt = 100;
+ 	while (cnt--) {
+ 		m = monsters[rn2(max)];
+ 		if (
+ 			((m->geno & G_UNIQ) && rn2(10)) ||
+ 			(m->geno & G_EXTINCT) ||
+ 			(m->geno & G_GENOD) ||
+ 			(m==&mons[PM_VOGON_LORD] && rn2(30)<level_difficulty())
+ 		) {
+ 			continue;
+ 		} else break;
+ 	}
+ 	if (cnt > 0) {
+ 		if (m->geno & G_UNIQ) m->geno |= G_EXTINCT;
+ 		return(m);
+ 	} else {
+ 		return((struct permonst *) NULL);
+ 	}
+ }
+
+struct permonst *
 realzoomon()
 {
 	int     i = rn2(60) + rn2(3*level_difficulty());
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\mon.c SlashTNG-master\src\mon.c
--- slashem-0.0.7E7F3\src\mon.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\mon.c	Sun Jan 01 14:30:07 2017
@@ -104,6 +104,7 @@
 	case PM_STUDENT:     mndx = mode ? PM_ARCHEOLOGIST  : PM_HUMAN; break;
 	case PM_CHIEFTAIN:   mndx = mode ? PM_BARBARIAN : PM_HUMAN; break;
 	case PM_NEANDERTHAL: mndx = mode ? PM_CAVEMAN   : PM_HUMAN; break;
+	case PM_HACKER:      mndx = mode ? PM_GEEK      : PM_HUMAN; break;
 	case PM_ATTENDANT:   mndx = mode ? PM_HEALER    : PM_HUMAN; break;
 	case PM_PAGE:        mndx = mode ? PM_KNIGHT    : PM_HUMAN; break;
 	case PM_ABBOT:       mndx = mode ? PM_MONK      : PM_HUMAN; break;
@@ -201,7 +202,10 @@
 		    obj->cursed = obj->blessed = FALSE;
 		}
 		goto default_1;
-
+		
+		case PM_YOUNG_UNICORN:
+ 		if (rn2(2)) goto default_1;
+ 		/* fall through */
 	    case PM_WHITE_UNICORN:
 	    case PM_GRAY_UNICORN:
 	    case PM_BLACK_UNICORN:
@@ -368,7 +372,30 @@
 		while(num--)
 			obj = mksobj_at(LEATHER_ARMOR, x, y, TRUE, FALSE);
 		mtmp->mnamelth = 0;
-		break;
+		case PM_BUG:
+	    	if (!rn2(6)) {
+			mksobj_at(PACK_OF_FLOPPIES, x, y, TRUE, FALSE);
+		}
+		break;
+	    case PM_HEISENBUG:
+	    	if (!rn2(3)) {
+			mksobj_at(PACK_OF_FLOPPIES, x, y, TRUE, FALSE);
+		}
+ 		break;
+	    case PM_PDP___:	/* PDP-11 */
+	    case PM_PDP__:	/* PDP-9 */
+	    case PM_VAX:
+	    case PM_CRAY:
+	    	num = rn2(10) + 5;
+		while (num--) {
+			mksobj_at(!rn2(3) ? DIODE : (!rn2(2) ? TRANSISTOR : IC), x, y, TRUE, FALSE);
+		}
+		break;
+	    case PM_ALGOLIAN_SUNTIGER:
+		if (!rn2(75)) {
+ 			mksobj_at(TOOTH_OF_AN_ALGOLIAN_SUNTIGER,x, y, TRUE, FALSE);
+		}
+		goto default_1;
 		case PM_WAX_GOLEM:
 		num = d(2,4);
 		while (num--)
@@ -925,7 +952,7 @@
 			    otmp3->age = monstermoves - otmp3->age;
 			    start_corpse_timeout(otmp3);
 			}
-			(void) mpickobj(mtmp, otmp3);
+			(void) mpickobj(mtmp, otmp3, FALSE);
 		    }
 		}
 		poly = polyfodder(otmp);
@@ -955,7 +982,7 @@
 		} else if (ecount == 2)
 			Sprintf(buf, "%s engulfs several objects.", Monnam(mtmp));
 		obj_extract_self(otmp);
-		(void) mpickobj(mtmp, otmp);	/* slurp */
+		(void) mpickobj(mtmp, otmp, FALSE);	/* slurp */
 	    }
 	    /* Engulf & devour is instant, so don't set meating */
 	    if (mtmp->minvis) newsym(mtmp->mx, mtmp->my);
@@ -1032,7 +1059,7 @@
 		/* unblock point after extract, before pickup */
 		if (otmp->otyp == BOULDER)
 		    unblock_point(otmp->ox,otmp->oy);	/* vision */
-		(void) mpickobj(mtmp, otmp);	/* may merge and free otmp */
+		(void) mpickobj(mtmp, otmp, FALSE);	/* may merge and free otmp */
 		m_dowear(mtmp, FALSE);
 		newsym(mtmp->mx, mtmp->my);
 		return TRUE;			/* pick only one object */
@@ -2543,8 +2570,8 @@
 	for (mtmp = fmon; mtmp; mtmp = mtmp->nmon) {
 		if (DEADMONSTER(mtmp)) continue;
 		mtmp->cham = pm_to_cham(monsndx(mtmp->data));
-		if (mtmp->data->mlet == S_MIMIC && mtmp->msleeping &&
-				cansee(mtmp->mx, mtmp->my)) {
+		if (/*(*/mtmp->data->mlet == S_MIMIC/* || standardmimic(mtmp->data) || mtmp->egotype_mimic )*/ && mtmp->msleeping &&
+				cansee(mtmp->mx, mtmp->my)) {/*^ doesn't work without MASSIVE recode mon mondata display and others*/
 			set_mimic_sym(mtmp);
 			newsym(mtmp->mx,mtmp->my);
 		}
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\monst.c SlashTNG-master\src\monst.c
--- slashem-0.0.7E7F3\src\monst.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\monst.c	Sun Jan 01 18:43:34 2017
@@ -188,6 +188,12 @@
 	M2_NEUTER|M2_WANDER|M2_STRONG|M2_COLLECT|M2_MAGIC|M2_GREEDY|M2_JEWELS|M2_HOSTILE,
 	M3_INFRAVISION|M3_TRAITOR,
 	CLR_GREEN),
+	MON("Ravenous Bugblatter Beast Of Traal", S_ANT,
+	LVL(12, 32, -2, 0, 0), (G_GENO|1),
+	A(ATTK(AT_BITE, AD_PHYS, 3, 5 ), NO_ATTK, NO_ATTK,
+	 NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(100, 100, 0, MS_BURBLE, MZ_GIGANTIC), 0, 0,
+	M1_ANIMAL|M1_CARNIVORE, M2_NEUTER|M2_HOSTILE, 0, CLR_BRIGHT_GREEN),
     MON("queen bee", S_ANT,
 	LVL(9, 24, -4, 0, 0), (G_NOHELL|G_GENO|G_NOGEN),
 	A(ATTK(AT_STNG, AD_DRST, 1, 8),
@@ -616,7 +622,13 @@
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
 	SIZ(200, 200, 0, MS_MEW, MZ_SMALL), 0, 0,
 	M1_ANIMAL|M1_NOHANDS|M1_CARNIVORE, M2_DOMESTIC, M3_INFRAVISIBLE, HI_DOMESTIC),
-    MON("jaguar", S_FELINE,
+	MON("Schroedinger's Cat", S_FELINE,
+	LVL(4, 16, 5, 0, 0), (G_NOHELL|G_GENO|7),
+	A(ATTK(AT_BITE, AD_PHYS, 1, 6),
+	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(200, 200, 0, MS_MEW, MZ_SMALL), 0, 0,
+	M1_ANIMAL|M1_NOHANDS|M1_CARNIVORE, M2_DOMESTIC, M3_INFRAVISIBLE, HI_DOMESTIC),
+	MON("jaguar", S_FELINE,
 	LVL(4, 15, 6, 0, 0), (G_NOHELL|G_GENO|2),
 	A(ATTK(AT_CLAW, AD_PHYS, 1, 4), ATTK(AT_CLAW, AD_PHYS, 1, 4),
 	  ATTK(AT_BITE, AD_PHYS, 1, 8), NO_ATTK, NO_ATTK, NO_ATTK),
@@ -695,6 +707,12 @@
 	SIZ(800, 400, 0, MS_GROWL, MZ_LARGE), 0, 0,
 	M1_ANIMAL|M1_NOHANDS|M1_CARNIVORE,M2_HOSTILE, M3_INFRAVISIBLE,
 	CLR_YELLOW),
+	MON("algolian suntiger", S_FELINE,
+	LVL(11, 14, 4, 0, 0), (G_GENO|1),
+	A(ATTK(AT_CLAW, AD_PHYS, 2, 4), ATTK(AT_BITE, AD_PHYS, 6, 6),
+	  ATTK(AT_GAZE, AD_STUN, 1, 1), NO_ATTK, NO_ATTK, NO_ATTK),
+	  SIZ(800, 800, 0, MS_DOUGLAS_ADAMS, MZ_LARGE), 0, 0, 
+	  M1_ANIMAL|M1_NOHANDS|M1_CARNIVORE, M2_HOSTILE, 0, CLR_YELLOW),
     MON("hellcat", S_FELINE, 
 	LVL(12, 12, 6, 0, 0), (G_HELL|G_GENO|1),
 	A(ATTK(AT_CLAW, AD_PHYS, 4, 4), ATTK(AT_CLAW, AD_PHYS, 4, 4),
@@ -1048,8 +1066,20 @@
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
 	SIZ(60, 30, 0, MS_LAUGH, MZ_TINY), MR_HITASONE, 0,
 	M1_HUMANOID|M1_TPORT, M2_HOSTILE|M2_GREEDY, M3_INFRAVISIBLE, CLR_GREEN),
+	MON("leprechaun elder", S_LEPRECHAUN,
+	LVL(7, 25, 8, 0, 0), (G_GENO|1),
+	A(ATTK(AT_CLAW, AD_SGLD, 1, 2),
+	  ATTK(AT_MAGC, AD_SPEL, 1, 2), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(60, 60, 0, MS_LAUGH, MZ_TINY), MR_HITASONE, 0,
+	M1_HUMANOID|M1_TPORT, M2_HOSTILE|M2_GREEDY, M3_INFRAVISIBLE, CLR_GREEN),
+	MON("leprechaun king", S_LEPRECHAUN,
+	LVL(10, 18, 8, 20, 0), (1|G_UNIQ),
+	A(ATTK(AT_CLAW, AD_SGLD, 4, 4), NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK),
+	  SIZ(60, 60, 0, MS_LAUGH, MZ_SMALL), 0, 0,
+	  M1_HUMANOID|M1_TPORT, M2_HOSTILE|M2_GREEDY|M2_NOPOLY, 0, HI_LORD),
     MON("leprechaun wizard", S_LEPRECHAUN, 
-	LVL(8, 15, 6, 20, 0), (G_NOHELL|G_GENO|1),
+	LVL(13, 15, 6, 20, 0), (G_NOHELL|G_GENO|1),
 	A(ATTK(AT_CLAW, AD_SGLD, 1, 2), ATTK(AT_MAGC, AD_SPEL, 0, 0), 
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
 	SIZ(60, 30, 0, MS_LAUGH, MZ_TINY), MR_HITASONE, 0,
@@ -1135,6 +1165,12 @@
 	M2_PNAME|M2_PRINCE|M2_FEMALE|M2_GREEDY|M2_STALK|M2_HOSTILE|
 	M2_NASTY|M2_NOPOLY|M2_JEWELS|M2_COLLECT|M2_MAGIC, 
 	M3_INFRAVISIBLE|M3_NOTAME, HI_LORD),
+	MON("nymph queen", S_NYMPH,
+	LVL(12, 12, 8, 30, 0), (1|G_UNIQ),
+	A(ATTK(AT_CLAW, AD_SITM, 0, 0), ATTK(AT_CLAW, AD_SEDU, 0, 0),
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(600, 900, 0, MS_SEDUCE, MZ_HUMAN), 0, 0,
+	  M1_HUMANOID|M1_TPORT, M2_HOSTILE|M2_FEMALE|M2_COLLECT|M2_NOPOLY, 0,	  HI_LORD),
 /*
  * orcs
  */
@@ -1363,6 +1399,13 @@
 	SIZ(3800, 800, 0, MS_SILENT, MZ_LARGE), MR_HITASTHREE, 0,
 	M1_ANIMAL|M1_THICK_HIDE|M1_NOHANDS|M1_HERBIVORE,
 	M2_HOSTILE|M2_STRONG, 0, CLR_GRAY),
+	MON("giant mumak", S_QUADRUPED,
+	LVL(20, 9, 0, 0, -4), (G_GENO|1),
+	A(ATTK(AT_BUTT, AD_PHYS, 6, 12), ATTK(AT_CLAW, AD_PHYS, 4, 12),
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(4000, 4000, 0, MS_SILENT, MZ_HUGE), 0, 0,
+	  M1_ANIMAL|M1_THICK_HIDE|M1_NOHANDS|M1_CARNIVORE, 
+	  M2_HOSTILE|M2_STRONG, 0, CLR_BROWN),
     MON("mastodon", S_QUADRUPED,
 	LVL(20, 12, 5, 0, 0), (G_GENO|1),
 	A(ATTK(AT_BUTT, AD_PHYS, 4, 8), ATTK(AT_BUTT, AD_PHYS, 4, 8),
@@ -1599,7 +1642,13 @@
 /*
  * unicorns and horses
  */
-    MON("white unicorn", S_UNICORN,
+    MON("young unicorn", S_UNICORN,
+	LVL(3, 20, 5, 40, 0), (G_GENO|5),
+	A(ATTK(AT_BUTT, AD_PHYS, 1, 6), ATTK(AT_KICK, AD_PHYS, 1, 3),
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	  SIZ(650, 650, 0, MS_NEIGH, MZ_MEDIUM), MR_POISON, MR_POISON,
+	  M1_NOHANDS|M1_HERBIVORE, M2_WANDER|M2_JEWELS|M2_HOSTILE, 0, CLR_GRAY),
+	MON("white unicorn", S_UNICORN,
 	LVL(4, 24, 2, 70, 7), (G_NOHELL|G_GENO|4),
 	A(ATTK(AT_BUTT, AD_PHYS, 1,12), ATTK(AT_KICK, AD_PHYS, 1, 6),
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
@@ -1797,6 +1846,13 @@
 	  NO_ATTK, NO_ATTK, NO_ATTK),
 	SIZ(15, 10, 0, MS_BUZZ, MZ_TINY), MR_ELEC|MR_POISON|MR_HITASONE, 0,
 	M1_ANIMAL, M2_HOSTILE, M3_INFRAVISIBLE, HI_ZAP),
+	MON("microscopic space fleet", S_XAN,
+	LVL(3, 5, 10, 0, 0), (G_GENO|G_LGROUP|G_NOCORPSE|3),
+	A(ATTK(AT_TUCH, AD_ELEC, 2, 4), NO_ATTK, NO_ATTK,
+            NO_ATTK, NO_ATTK, NO_ATTK),
+      SIZ(0, 0, 0, MS_BUZZ, MZ_TINY), 0, 0,
+	  M1_FLY|M1_BREATHLESS|M1_MINDLESS|M1_METALLIVORE|M1_OVIPAROUS, 
+	  M2_NEUTER|M2_HOSTILE, 0, CLR_CYAN),
     MON("arc bug", S_XAN, 
 	LVL(4, 12, 9, 0, 0), (G_NOHELL|G_GENO|G_SGROUP|G_NOCORPSE|1),
 	A(ATTK(AT_BITE, AD_ELEC, 2, 4), NO_ATTK, NO_ATTK,
@@ -1816,6 +1872,73 @@
 	SIZ(300, 300, 0, MS_BUZZ, MZ_TINY), MR_POISON, MR_POISON,
 	M1_FLY|M1_ANIMAL|M1_NOHANDS|M1_POIS, M2_HOSTILE, M3_INFRAVISIBLE,
 	CLR_RED),
+	MON("fire bug", S_XAN, 
+	LVL(8, 12, 9, 0, 0), (G_GENO|G_SGROUP|G_NOCORPSE|1),
+	A(ATTK(AT_BITE, AD_FIRE, 2, 7), NO_ATTK, NO_ATTK,
+	  NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(15, 10, 0, MS_BUZZ, MZ_TINY), MR_FIRE|MR_POISON|MR_HITASONE, 0,
+	M1_ANIMAL|M1_OVIPAROUS, M2_HOSTILE, M3_INFRAVISIBLE, CLR_RED),
+	MON("bug", S_XAN,
+	LVL(8, 10, 10, 0, 0), (G_NOCORPSE|1),
+	A(ATTK(AT_TUCH, AD_ELEC, 2, 8), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_SMALL), MR_ELEC, MR_ELEC,
+	M1_AMORPHOUS|M1_CONCEAL|M1_NOEYES|M1_NOHANDS|M1_BREATHLESS|M1_NOLIMBS|M1_THICK_HIDE|M1_OVIPAROUS,
+	M2_NEUTER|M2_HOSTILE, 0, CLR_BROWN), 
+    MON("PDP-11", S_XAN,
+	LVL(8, 1, -2, 0, 0), (G_NOCORPSE|1|G_GENO),
+	A(ATTK(AT_TUCH, AD_ELEC, 2, 4), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_HUGE), 0, 0, M1_NOEYES|M1_NOHANDS| 
+	  M1_NOLIMBS|M1_NOHEAD|M1_OVIPAROUS, M2_NEUTER|M2_HOSTILE, 0, CLR_WHITE),
+    MON("Deep Thought", S_XAN,
+	LVL(8, 0, -2 /* real much metal */, 0, 0), (G_UNIQ|1|G_NOCORPSE),
+	A(ATTK(AT_NONE, AD_ELEC, 8, 4), NO_ATTK,
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(0, 0, 0,MS_DOUGLAS_ADAMS,MZ_HUGE), 0, 0, M1_NOEYES|M1_NOHANDS|M1_NOLIMBS|M1_NOHEAD,
+	 M2_NEUTER|M2_PNAME|M2_NOPOLY, 0, HI_DOMESTIC),
+    MON("Eddie", S_XAN,
+	LVL(8, 0, -2, 0, 0), (G_UNIQ|1|G_NOCORPSE),
+	A(ATTK(AT_NONE, AD_ELEC, 8, 4), ATTK(AT_CLAW, AD_DRCO, 1, 3),
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK ),
+	SIZ(0, 0, 0, MS_DOUGLAS_ADAMS,MZ_HUGE), 0, 0,
+	M1_NOEYES|M1_NOHANDS|M1_NOLIMBS|M1_NOHEAD, M2_NEUTER|M2_PNAME|M2_NOPOLY, 0, HI_LORD)/*:-)*/,
+	MON("PDP-9", S_XAN,
+	LVL(10, 1, -2, 0, 0), (G_NOCORPSE|1|G_GENO),
+	A(ATTK(AT_TUCH, AD_ELEC, 4, 4), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_HUGE), 0, 0, M1_NOEYES|M1_NOHANDS|
+	  M1_NOLIMBS|M1_NOHEAD|M1_OVIPAROUS, M2_NEUTER|M2_HOSTILE, 0, CLR_WHITE),
+    MON("heisenbug", S_XAN,
+	LVL(10, 35, 10, 0, 0), (G_NOCORPSE|1),
+	A(ATTK(AT_TUCH, AD_ELEC, 4, 3), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_MEDIUM), MR_ELEC, MR_ELEC,
+	  M1_AMORPHOUS|M1_WALLWALK|M1_BREATHLESS|M1_TPORT|M1_TPORT_CNTRL|M1_OVIPAROUS,
+	  M2_NEUTER|M2_HOSTILE, 0, CLR_YELLOW),
+    MON("ice bug", S_XAN, 
+	LVL(10, 12, 9, 0, 0), (G_GENO|G_SGROUP|G_NOCORPSE|1),
+	A(ATTK(AT_BITE, AD_COLD, 2, 8), NO_ATTK, NO_ATTK,
+	  NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(15, 10, 0, MS_BUZZ, MZ_TINY), MR_COLD|MR_POISON|MR_HITASONE, 0,
+	M1_ANIMAL|M1_OVIPAROUS, M2_HOSTILE, M3_INFRAVISIBLE, CLR_CYAN),
+	MON("VAX", S_XAN,
+	LVL(12, 1, -2, 0, 0), (G_NOCORPSE|1|G_GENO),
+	A(ATTK(AT_TUCH, AD_ELEC, 6, 4), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_HUGE), 0, 0, M1_NOEYES|M1_NOHANDS|
+	  M1_NOLIMBS|M1_NOHEAD|M1_OVIPAROUS, M2_NEUTER|M2_HOSTILE, 0, CLR_BRIGHT_GREEN),
+	MON("walking disk drive", S_XAN,
+	LVL(14, 50, -2, 0, 0), (G_NOCORPSE|1|G_GENO),
+	A(ATTK(AT_TUCH, AD_ELEC, 4, 4), ATTK(AT_TUCH, AD_ELEC, 1, 1), ATTK(AT_HUGS, AD_PHYS, 2, 4),
+	    NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_HUGE), 0, 0, M1_NOEYES|M1_NOHANDS|
+	  M1_NOLIMBS|M1_NOHEAD|M1_OVIPAROUS, M2_NEUTER|M2_HOSTILE, 0, CLR_WHITE),
+	MON("Cray", S_XAN,
+	LVL(15, 1, -2, 0, 0), (G_NOCORPSE|1|G_GENO),
+	A(ATTK(AT_TUCH, AD_ELEC, 8, 6), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_HUGE), 0, 0, M1_NOEYES|M1_NOHANDS|
+	  M1_NOLIMBS|M1_NOHEAD|M1_OVIPAROUS, M2_NEUTER|M2_HOSTILE, 0, CLR_WHITE),
 /*
  * lights
  */
@@ -1933,6 +2056,14 @@
 	M1_FLY|M1_POIS,
 	M2_MINION|M2_STALK|M2_STRONG|M2_NASTY, M3_INFRAVISIBLE|M3_INFRAVISION,
 	CLR_GREEN),
+	MON("aquator", S_ANGEL, 
+	LVL(9, 8, 4, 30, 15), (G_NOCORPSE|1),
+	A(ATTK(AT_TUCH, AD_RUST, 1, 4), ATTK(AT_WEAP, AD_PHYS, 2, 4),
+	 ATTK(AT_HUGS, AD_WRAP, 1, 1), NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_CUSS, MZ_MEDIUM), MR_DEATH, 0,
+	M1_FLY|M1_HUMANOID|M1_SEE_INVIS,
+	M2_MINION|M2_STALK|M2_STRONG|M2_NASTY, 
+	M3_INFRAVISIBLE|M3_INFRAVISION, CLR_BRIGHT_BLUE),
     MON("Aleax", S_ANGEL,
 	LVL(10, 8, 0, 30, 7), (G_NOHELL|G_NOCORPSE|1),
 	A(ATTK(AT_WEAP, AD_PHYS, 1, 6), ATTK(AT_WEAP, AD_PHYS, 1, 6),
@@ -1997,6 +2128,14 @@
 	M2_NOPOLY|M2_MINION|M2_STALK|M2_STRONG|M2_NASTY|M2_LORD|
 	  M2_COLLECT|M2_MAGIC,
 	M3_INFRAVISIBLE|M3_INFRAVISION, HI_LORD),
+	MON("Douglas Adams", S_ANGEL,
+	LVL(22, 12, 6, 0, -30), (G_UNIQ|1),
+	A(ATTK(AT_CLAW, AD_PHYS, 4, 6), ATTK(AT_BUTT, AD_DRIN, 1, 1),
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1200, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN), MR_ELEC, /* computers :-) */
+	0, M1_FLY /* has missed the floor */ |M1_MINDLESS|M1_HUMANOID,
+	M2_NOPOLY|M2_LORD|M2_MALE|M2_PNAME|M2_COLLECT|M2_HOSTILE,
+	0, HI_LORD),
     MON("Planetar", S_ANGEL, 
 	LVL(29, 16, -10, 80, 15), (G_NOHELL|G_NOCORPSE |1),
 	A(ATTK(AT_WEAP, AD_PHYS, 4, 4), ATTK(AT_WEAP, AD_PHYS, 4, 4),
@@ -2336,6 +2475,30 @@
 	M1_FLY|M1_THICK_HIDE|M1_NOHANDS|M1_SEE_INVIS|M1_CARNIVORE,
 	M2_HOSTILE|M2_STRONG|M2_NASTY|M2_GREEDY|M2_JEWELS|M2_MAGIC,
 	0, CLR_BROWN),
+	/* There are many similarities between the Chromatic Dragon, the Dragon Lord,
+** and an ancient multi-hued dragon ... */
+    MON("ancient multi-hued dragon", S_DRAGON,
+	LVL(18, 9, -1, 20, 7), (G_GENO|1),
+	A(ATTK(AT_BREA, AD_RBRE, 8, 6), ATTK(AT_BITE, AD_PHYS, 6, 8),/*
+	ATTK(AT_LASH, AD_PHYS, 2, 4)*/NO_ATTK, ATTK(AT_CLAW, AD_PHYS, 2, 4),
+		NO_ATTK, NO_ATTK),
+	SIZ(WT_DRAGON, WT_DRAGON, 0, MS_ROAR, MZ_GIGANTIC),
+	MR_FIRE|MR_COLD|MR_ELEC|MR_DISINT|MR_POISON|MR_STONE,
+	MR_FIRE|MR_COLD|MR_ELEC|MR_DISINT|MR_POISON|MR_STONE,
+	M1_FLY|M1_THICK_HIDE|M1_NOHANDS|M1_SEE_INVIS|M1_OVIPAROUS|M1_CARNIVORE|M1_ACID|M1_POIS,
+	M2_HOSTILE|M2_STRONG|M2_NASTY|M2_GREEDY|M2_JEWELS|M2_MAGIC|M2_NOPOLY,
+	  0, CLR_WHITE) /* because white is the combination of all colors ... */,
+	MON("Dragon Lord", S_DRAGON,
+	LVL(25, 12, -3, 50, 7), (1|G_UNIQ),
+	A(ATTK(AT_BREA, AD_RBRE, 8, 8), ATTK(AT_BITE, AD_PHYS, 8, 8),/*
+	ATTK(AT_LASH, AD_PHYS, 2, 4)*/NO_ATTK, ATTK(AT_CLAW, AD_PHYS, 2, 6),
+	    NO_ATTK, NO_ATTK),
+	SIZ(WT_DRAGON, WT_DRAGON, 0, MS_ROAR, MZ_GIGANTIC),
+	MR_FIRE|MR_COLD|MR_ELEC|MR_DISINT|MR_POISON|MR_STONE,
+	MR_FIRE|MR_COLD|MR_ELEC|MR_DISINT|MR_POISON|MR_STONE,
+	M1_FLY|M1_THICK_HIDE|M1_NOHANDS|M1_SEE_INVIS|M1_OVIPAROUS|M1_CARNIVORE|M1_ACID|M1_POIS,
+	M2_HOSTILE|M2_STRONG|M2_NASTY|M2_GREEDY|M2_JEWELS|M2_MAGIC|M2_NOPOLY,
+	  0, HI_LORD),
     MON("hydra", S_DRAGON, 
 	LVL(26, 9, -4, 20, 7), (G_GENO|1),
 	A(ATTK(AT_BITE, AD_PHYS, 2, 8), ATTK(AT_BITE, AD_PHYS, 2, 8),
@@ -2349,7 +2512,14 @@
 /*
  * Elementals
  */
-    MON("stalker", S_ELEMENTAL,
+    MON("emu", S_ELEMENTAL,
+	LVL(1, 4, 7, 0, 0), (G_GENO|7),
+	A(ATTK(AT_BITE, AD_PHYS, 1, 4),
+	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(90, 90, 0, MS_SILENT, MZ_TINY), 0, 0,
+	M1_ANIMAL|M1_FLY|M1_SEE_INVIS,
+	M2_WANDER|M2_STALK|M2_HOSTILE|M2_STRONG, M3_INFRAVISION|M3_TRAITOR, CLR_GREEN),
+	MON("stalker", S_ELEMENTAL,
 	LVL(8, 12, 3, 0, 0), (G_GENO|3),
 	A(ATTK(AT_CLAW, AD_PHYS, 4, 4),
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
@@ -2453,6 +2623,13 @@
 	SIZ(100, 100, 0, MS_SILENT, MZ_SMALL), MR_POISON, MR_POISON,
 	M1_BREATHLESS|M1_NOEYES|M1_NOLIMBS|M1_NOHEAD|M1_MINDLESS|
 	M1_OMNIVORE|M1_NOTAKE, M2_HOSTILE|M2_NEUTER, 0, CLR_BLACK),
+	MON("venus flytrap", S_FUNGUS,
+	LVL(12, 6, 0, 0, 0), (1),
+	A(ATTK(AT_TUCH, AD_STCK, 1, 1),
+	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(20, 200, 0, MS_SILENT, MZ_SMALL), MR_FIRE, 0,
+	M1_BREATHLESS|M1_NOEYES|M1_NOLIMBS|M1_NOHEAD|M1_MINDLESS|M1_NOTAKE|M1_POIS,
+	M2_HOSTILE|M2_NEUTER, 0, CLR_BRIGHT_MAGENTA),
 /*
  * Gnomes
  */
@@ -2548,6 +2725,14 @@
 	M1_HIDE|M1_HUMANOID|M1_POIS|M1_SEE_INVIS|M1_OMNIVORE,
 	M2_NOPOLY|M2_HOSTILE|M2_COLLECT|M2_MAGIC|M2_GREEDY|M2_JEWELS,
 	M3_INFRAVISION|M3_TRAITOR, CLR_YELLOW),
+	MON("griffin", S_GNOME,
+	LVL(19, 8, 0, 60, -10), (G_GENO|1),
+	A(ATTK(AT_BITE, AD_PHYS, 6, 5),  NO_ATTK,
+	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(1800, 1800, 0, MS_ORC, MZ_LARGE), 0, 0,
+	M1_HUMANOID|M1_SEE_INVIS|M1_OMNIVORE,
+	M2_HOSTILE|M2_COLLECT|M2_GREEDY|M2_JEWELS,
+	M3_INFRAVISION|M3_TRAITOR, CLR_GREEN),
 #ifdef SPLITMON_1
 };
 #endif
@@ -2672,7 +2857,14 @@
 /*
  * Jabberwock
  */
-    MON("jabberwock", S_JABBERWOCK,
+    MON("ice monster", S_JABBERWOCK,
+	LVL(2, 1, 8, 10, 0), (G_GENO|5),
+	A(ATTK(AT_NONE, AD_PLYS, 1, 10), NO_ATTK, NO_ATTK, NO_ATTK,
+	  NO_ATTK, NO_ATTK),
+	SIZ(1500, 1500, 0, MS_SQAWK, MZ_LARGE), 0, 0,
+	M1_FLY|M1_ANIMAL|M1_NOHANDS|M1_CARNIVORE,
+	M2_WANDER|M2_HOSTILE|M2_NASTY, M3_INFRAVISIBLE, CLR_BRIGHT_CYAN),
+	MON("jabberwock", S_JABBERWOCK,
 	LVL(15, 12, -2, 50, 0), (G_NOHELL|G_GENO|1),
 	A(ATTK(AT_BITE, AD_PHYS, 2,10), ATTK(AT_BITE, AD_PHYS, 2,10),
 	  ATTK(AT_CLAW, AD_PHYS, 2,10), ATTK(AT_CLAW, AD_PHYS, 2,10),
@@ -2692,7 +2884,14 @@
 /*
  * Kops
  */
-    MON("Keystone Kop", S_KOP,
+    MON("kestrel", S_KOP,
+	LVL(1, 4, 10, 10, 9), (G_GENO|6),
+	A(ATTK(AT_BITE, AD_PHYS, 1, 4),
+	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_ARREST, MZ_HUMAN), 0, 0, M1_HUMANOID,
+	M2_HUMAN|M2_WANDER|M2_HOSTILE|M2_MALE|M2_COLLECT, M3_INFRAVISIBLE,
+	CLR_BROWN),
+	MON("Keystone Kop", S_KOP,
 	LVL(1, 6, MARM(10,7), 10, 9), (G_GENO|G_LGROUP|G_NOGEN),
 	A(ATTK(AT_WEAP, AD_PHYS, 1, 4),
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
@@ -2724,7 +2923,15 @@
 /*
  * Liches
  */
-    MON("lich", S_LICH,
+    MON("baby lich", S_LICH,
+	LVL(7, 6, 5, 10, -6), (G_GENO|5),
+	A(ATTK(AT_TUCH, AD_COLD, 3, 2), NO_ATTK, NO_ATTK, NO_ATTK,
+  	    NO_ATTK, NO_ATTK),
+	SIZ(600, 600, 0, MS_MUMBLE, MZ_HUMAN),
+	  MR_COLD|MR_SLEEP, 0,
+	  M1_BREATHLESS|M1_HUMANOID|M1_POIS, M2_UNDEAD|M2_HOSTILE, 
+	  0, CLR_YELLOW),
+	MON("lich", S_LICH,
 	LVL(11, 6, 0, 30, -9), (G_GENO|G_NOCORPSE|1),
 	A(ATTK(AT_TUCH, AD_COLD, 1,10), ATTK(AT_MAGC, AD_SPEL, 0, 0),
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
@@ -2881,6 +3088,13 @@
 	M1_NOLIMBS|M1_SLITHY|M1_THICK_HIDE|M1_OVIPAROUS|M1_ACID|M1_NOTAKE|
 	  M1_CARNIVORE,
 	M2_STRONG, 0, CLR_BLACK),
+	MON("naga nymph", S_NAGA,
+	LVL(10, 1, 2, 70, 5), (G_GENO|1),
+	A(ATTK(AT_CLAW, AD_SITM, 0, 0), ATTK(AT_WEAP, AD_PHYS, 1, 1),
+	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(2600, 2600, 0, MS_MUMBLE, MZ_HUGE), MR_HITASONE, 0,
+	M1_NOLIMBS|M1_SLITHY|M1_THICK_HIDE|M1_OVIPAROUS|M1_NOTAKE|M1_OMNIVORE,
+	M2_STRONG, 0, CLR_BRIGHT_GREEN),
     MON("golden naga", S_NAGA,
 	LVL(10, 14, 2, 70, 5), (G_NOHELL|G_GENO|1),
 	A(ATTK(AT_BITE, AD_PHYS, 2, 6), ATTK(AT_MAGC, AD_SPEL, 4, 6),
@@ -2985,6 +3199,15 @@
 	M1_BREATHLESS|M1_AMORPHOUS|M1_NOEYES|M1_NOLIMBS|M1_NOHEAD|
 	  M1_MINDLESS|M1_OMNIVORE|M1_ACID|M1_POIS,
 	M2_HOSTILE|M2_NEUTER, 0, CLR_GREEN),
+	MON("phantom", S_PUDDING,
+	LVL(15, 7, -10, 88, -10), (1),
+	A(ATTK(AT_BITE, AD_PHYS, 4, 5), NO_ATTK, NO_ATTK,
+	  NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(900, 900, 0, MS_SILENT, MZ_LARGE),
+	MR_COLD|MR_ELEC|MR_POISON|MR_ACID|MR_STONE, 0,
+	M1_BREATHLESS|M1_AMORPHOUS|M1_NOEYES|M1_NOLIMBS|M1_NOHEAD|
+	  M1_MINDLESS|M1_OMNIVORE|M1_ACID,
+	  M2_HOSTILE|M2_NEUTER, M3_TRAITOR, CLR_GRAY),
     MON("shoggoth", S_PUDDING,
 	LVL(18, 15, -5, 25, -5), (G_GENO|1),
 	A(ATTK(AT_CLAW, AD_PHYS, 4, 8), ATTK(AT_TUCH, AD_CORR, 0, 0),
@@ -3017,6 +3240,22 @@
 	SIZ(WT_HUMAN, 20, 0, MS_HUMANOID, MZ_HUMAN), MR_POISON|MR_HITASONE, 0,
 	M1_HUMANOID|M1_OMNIVORE|M1_POIS|M1_TPORT, M2_HOSTILE, M3_INFRAVISIBLE,
 	CLR_CYAN),
+	MON("quagga", S_QUANTMECH,
+	LVL(8, 7, 3, 10, 0), (G_GENO|1),
+	A(ATTK(AT_BITE, AD_PHYS, 6, 2),
+	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_HUMANOID, MZ_HUMAN), MR_POISON|MR_HITASONE, 0,
+	M1_HUMANOID|M1_OMNIVORE|M1_POIS|M1_TPORT, M2_HOSTILE, M3_INFRAVISIBLE,
+	CLR_GRAY),
+    MON("quark", S_QUANTMECH,
+   LVL(9, 18, 0, 50, 0), (G_GENO|G_NOCORPSE|1),
+   A(ATTK(AT_CLAW, AD_PHYS, 1, 4), ATTK(AT_CLAW, AD_DREN,1 ,4), 
+     ATTK(AT_CLAW, AD_ELEC, 1, 4), NO_ATTK, NO_ATTK, NO_ATTK),
+   SIZ(0, 0, 0, MS_SILENT, MZ_TINY), 
+   MR_POISON|MR_ELEC|MR_DISINT|MR_SLEEP|MR_ACID, 0,
+   M1_TPORT|M1_UNSOLID|M1_MINDLESS|M1_NOHEAD|M1_NOLIMBS|M1_NOEYES|M1_NOTAKE|
+   M1_BREATHLESS|M1_AMORPHOUS|M1_FLY,M2_HOSTILE|M2_NEUTER,0,
+   HI_ZAP),
     MON("genetic engineer", S_QUANTMECH,
 	LVL(12, 12, 3, 10, 0), (G_HELL|G_GENO|1),
 	A(ATTK(AT_CLAW, AD_POLY, 1, 4),
@@ -3034,7 +3273,13 @@
 /*
  * Rust monster or disenchanter
  */
-    MON("rust monster", S_RUSTMONST,
+    MON("rattlesnake", S_RUSTMONST,
+	LVL(3, 7, 6, 0, 0), (G_GENO|10),
+	A(ATTK(AT_BITE, AD_DRST, 2, 4), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(1000, 1000, 0, MS_SILENT, MZ_MEDIUM), MR_HITASONE, 0,
+	M1_SWIM|M1_ANIMAL|M1_NOHANDS|M1_METALLIVORE|M1_OVIPAROUS, M2_HOSTILE,
+	M3_INFRAVISIBLE, CLR_RED),
+	MON("rust monster", S_RUSTMONST,
 	LVL(5, 18, 2, 0, 0), (G_NOHELL|G_GENO|2),
 	A(ATTK(AT_TUCH, AD_RUST, 0, 0), ATTK(AT_TUCH, AD_RUST, 0, 0),
 	  ATTK(AT_NONE, AD_RUST, 0, 0), NO_ATTK, NO_ATTK, NO_ATTK),
@@ -3204,7 +3449,13 @@
 /*
  * Vampires
  */
-    MON("vampire", S_VAMPIRE,
+    MON("vogon", S_VAMPIRE,
+	LVL(8, 10, 10, 0, 0), (G_GENO|4),
+	A(ATTK(AT_CLAW, AD_PHYS, 1, 2), ATTK(AT_TENT, AD_STUN, 0, 0),
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+      SIZ(300, 300, 0, MS_BURBLE, MZ_HUMAN), 0, 0,
+	  M1_SWIM|M1_HUMANOID|M1_POIS, M2_HOSTILE, 0, CLR_GREEN),
+	MON("vampire", S_VAMPIRE,
 	LVL(10, 12, 1, 25, -8), (G_GENO|G_NOCORPSE|2),
 	A(ATTK(AT_CLAW, AD_PHYS, 1, 6), ATTK(AT_BITE, AD_DRLI, 1, 6),
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
@@ -3229,6 +3480,12 @@
   	M1_FLY|M1_BREATHLESS|M1_HUMANOID|M1_POIS|M1_REGEN|M1_CARNIVORE,
 	M2_VAMPIRE|M2_STALK|M2_HOSTILE|M2_STRONG|M2_NASTY|M2_NEUTER,
 	M3_INFRAVISIBLE|M3_TRAITOR, CLR_RED),
+	MON("vogon lord", S_VAMPIRE,
+	LVL(14, 8, 8, 0, 0), (G_GENO|2),
+	A(ATTK(AT_CLAW, AD_PHYS, 2, 4), ATTK(AT_TENT, AD_DRLI, 1, 4),
+            NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(400, 400, 0, MS_BURBLE, MZ_HUMAN), 0, 0,
+	  M1_SWIM|M1_HUMANOID|M1_POIS, M2_HOSTILE, 0, CLR_BRIGHT_GREEN),
     MON("star vampire", S_VAMPIRE,
 	LVL(18, 18, -5, 60, -5), (G_GENO|G_NOCORPSE|1),
 	A(ATTK(AT_TENT, AD_PHYS, 2, 6), ATTK(AT_TENT, AD_DRLI, 2, 6),
@@ -3238,6 +3495,12 @@
 	M1_FLY|M1_BREATHLESS|M1_HUMANOID|M1_POIS|M1_REGEN|M1_CARNIVORE,
 	M2_VAMPIRE|M2_STALK|M2_HOSTILE|M2_STRONG|M2_NASTY|M2_NEUTER,
 	M3_INFRAVISIBLE|M3_TRAITOR, CLR_WHITE),
+	MON("Prostetnik Vogon Jeltz", S_VAMPIRE,
+	LVL(18, 6, 8, 0,0),(G_UNIQ|1),
+	A(ATTK(AT_CLAW, AD_PHYS, 4, 4), ATTK(AT_TENT, AD_DRLI, 1, 4),
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(400, 400, 0, MS_BURBLE, MZ_HUMAN), 0, 0,
+	  M1_SWIM|M1_HUMANOID|M1_POIS, M2_HOSTILE|M2_PNAME|M2_NOPOLY, 0, HI_LORD),
     MON("vampire mage", S_VAMPIRE,
 	LVL(20, 14, -4, 50, -9), (G_GENO|G_NOCORPSE|1),
 	A(ATTK(AT_CLAW, AD_DRLI, 2, 8), ATTK(AT_BITE, AD_DRLI, 1, 8),
@@ -3300,6 +3563,29 @@
 	MR_FIRE|MR_COLD|MR_STONE|MR_HITASTWO, MR_COLD|MR_FIRE|MR_STONE,
 	M1_BREATHLESS|M1_WALLWALK|M1_THICK_HIDE|M1_METALLIVORE,
 	M2_HOSTILE|M2_STRONG, 0, CLR_BROWN),
+	MON("Marvin", S_XORN,
+	LVL(10, 10, 0, 0, 0), (G_UNIQ|1|G_NOCORPSE),
+	A(ATTK(AT_WEAP, AD_DRCO, 1, 3), ATTK(AT_TUCH, AD_ELEC, 1, 1),
+  	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(0, 0, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN), 0, 0,
+	M1_HUMANOID|M1_METALLIVORE, M2_PNAME|M2_MALE|M2_HOSTILE|M2_NOPOLY, 0, CLR_BRIGHT_CYAN),
+    MON("xorn wizard", S_XORN,
+	LVL(12, 9,-2, 20, 0), (G_GENO|1),
+	A(ATTK(AT_MAGC, AD_SPEL, 4, 5), ATTK(AT_CLAW, AD_PHYS, 1, 3),
+	  ATTK(AT_CLAW, AD_PHYS, 1, 3), ATTK(AT_BITE, AD_PHYS, 4, 6),
+	  NO_ATTK, NO_ATTK),
+	SIZ(1200, 1200, 0, MS_ROAR, MZ_MEDIUM),
+	MR_FIRE|MR_COLD|MR_STONE|MR_HITASTWO, MR_COLD|MR_FIRE|MR_STONE,
+	M1_BREATHLESS|M1_WALLWALK|M1_THICK_HIDE|M1_METALLIVORE,
+	M2_HOSTILE|M2_STRONG, 0, CLR_ORANGE),
+	MON("xeroc", S_XORN,
+	LVL(16, 5,0, 20, 0), (G_GENO|1),
+	A(ATTK(AT_CLAW, AD_PHYS, 2, 7), NO_ATTK, NO_ATTK, NO_ATTK,
+	  NO_ATTK, NO_ATTK),
+	SIZ(1200, 1200, 0, MS_ROAR, MZ_MEDIUM),
+	MR_FIRE|MR_COLD|MR_STONE|MR_HITASTWO, MR_COLD|MR_FIRE|MR_STONE,
+	M1_BREATHLESS|M1_WALLWALK|M1_THICK_HIDE|M1_METALLIVORE|M1_ANIMAL|M1_HIDE,
+	M2_HOSTILE|M2_STRONG, 0/*M3_MIMIC won't work*/, CLR_CYAN),
 /*
  * Apelike beasts
  */
@@ -3344,6 +3630,12 @@
 	SIZ(1550, 750, 0, MS_GROWL, MZ_LARGE), MR_HITASONE, 0,
 	M1_ANIMAL|M1_HUMANOID|M1_SEE_INVIS|M1_OMNIVORE, M2_STRONG,
 	M3_INFRAVISIBLE, CLR_GRAY),
+	MON("Zaphod Breeblebrox", S_YETI,
+	LVL(8, 10, 10, 0, 0), (G_UNIQ|1),
+	A(ATTK(AT_WEAP, AD_PHYS, 1, 6), NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK),
+	SIZ(400, 400, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN), 0, 0,
+	  M1_HUMANOID, M2_MALE|M2_PNAME|M2_HOSTILE|M2_NOPOLY, 0, CLR_GREEN),
 	/* Moved from 'z' */
     MON("zruty", S_YETI,
 	LVL(9, 8, 3, 0, 0), (G_NOHELL|G_GENO|2),
@@ -3391,6 +3683,17 @@
 	MR_COLD|MR_SLEEP|MR_POISON, 0,
 	M1_BREATHLESS|M1_MINDLESS|M1_HUMANOID,
 	M2_UNDEAD|M2_STALK|M2_HOSTILE|M2_ELF, M3_INFRAVISION, CLR_GREEN),
+/* The creeping 42 is occassionally peaceful, to reduce the advantage
+** of killing them for gain levels 
+** it cannot be genocided - not because genociding them would be unbalancing,
+** but because not genociding them (cursed genocide scroll) would be. */
+    MON("creeping 42", S_ZOMBIE,
+	LVL(4, 10, 10, 0, 0), (5), 
+      A(ATTK(AT_CLAW, AD_PHYS, 1, 4), NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK),
+      SIZ(42, 42, 0, MS_DOUGLAS_ADAMS, MZ_SMALL), 0, 0, 
+	  M1_AMORPHOUS|M1_WALLWALK|M1_HIDE|M1_BREATHLESS,
+	  M2_NEUTER, 0, CLR_YELLOW),
     MON("human zombie", S_ZOMBIE,
 	LVL(4, 6, 8, 0, -3), (G_GENO|G_SGROUP|G_NOCORPSE|1),
 	A(ATTK(AT_CLAW, AD_PHYS, 1, 8),
@@ -3724,6 +4027,14 @@
 	SIZ(WT_ELF, 350, 0, MS_HUMANOID, MZ_HUMAN), MR_SLEEP, MR_SLEEP,
 	M1_HUMANOID|M1_OMNIVORE|M1_SEE_INVIS,
 	M2_ELF|M2_COLLECT, M3_INFRAVISIBLE|M3_INFRAVISION, CLR_GREEN),
+	MON("pupil", S_HUMAN,
+	LVL(4, 10, 10, 0, 0), (1),
+      A(ATTK(AT_WEAP, AD_PHYS, 1, 1), NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK),
+	  /* sleep resistance keeps them from sleeping in lessons :-) */
+	SIZ(WT_HUMAN, 1000, 0, MS_PUPIL, MZ_HUMAN), MR_SLEEP, MR_SLEEP,
+ 	  M1_HUMANOID|M1_OMNIVORE, 
+	  M2_HUMAN|M2_COLLECT|M2_HOSTILE, 0, HI_DOMESTIC),
     MON("Green-elf", S_HUMAN,
 	LVL(5, 12, 10, 10, 6), (G_GENO|G_SGROUP|3),
 	A(ATTK(AT_WEAP, AD_PHYS, 2, 4),
@@ -3762,6 +4073,29 @@
 	M1_HUMANOID|M1_OMNIVORE,
 	M2_NOPOLY|M2_ELF|M2_STRONG|M2_LORD|M2_MALE|M2_COLLECT|M2_HOSTILE,
 	M3_TRAITOR, CLR_BLACK),
+	MON("teacher", S_HUMAN,
+	LVL(8, 10, 10, 0, 0), (1),
+	A(ATTK(AT_WEAP, AD_PHYS, 2, 4), ATTK(AT_TUCH, AD_SLEE, 1, 1),
+ 	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_TEACHER, MZ_HUMAN), MR_SLEEP|MR_POISON,
+	  /* teachers have to be proof against their own attempts to put */
+	  /* pupils to sleep; they're poisonous as well ... */
+	  MR_SLEEP|MR_POISON, M1_HUMANOID|M1_OMNIVORE|M1_POIS,
+	  M2_HUMAN|M2_COLLECT|M2_HOSTILE, 0, HI_LORD),
+    MON("principal", S_HUMAN,
+	LVL(12, 10, 10, 30, 0), (1|G_UNIQ),
+	A(ATTK(AT_WEAP, AD_PHYS, 4, 8), ATTK(AT_TUCH, AD_DRIN, 2, 2),
+	    ATTK(AT_TUCH, AD_SLEE, 1, 1),  NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_PRINCIPAL, MZ_HUMAN), MR_SLEEP|MR_POISON,
+	  MR_SLEEP|MR_POISON, M1_HUMANOID|M1_OMNIVORE,
+	  M2_HUMAN|M2_COLLECT|M2_STALK|M2_HOSTILE, 0, HI_LORD),
+    MON("blacksmith", S_HUMAN,
+	LVL(12, 18, 0, 0, 0), G_NOGEN, 
+	A(ATTK(AT_WEAP, AD_PHYS, 4, 4), ATTK(AT_WEAP, AD_PHYS, 4, 4),
+	    NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_SMITH, MZ_HUMAN), 0, 0,
+	  M1_HUMANOID|M1_OMNIVORE, 
+ 	  M2_NOPOLY|M2_HUMAN|M2_PEACEFUL|M2_STRONG, 0, HI_DOMESTIC),
     MON("Elvenking", S_HUMAN,
 	LVL(9, 12, 10, 25, 10), (G_GENO|1),
 	A(ATTK(AT_WEAP, AD_PHYS, 2, 4), ATTK(AT_WEAP, AD_PHYS, 2, 4),
@@ -3838,6 +4172,35 @@
 	M1_HUMANOID|M1_OMNIVORE,
 	M2_NOPOLY|M2_HUMAN|M2_PEACEFUL|M2_STRONG|M2_COLLECT,
 	M3_INFRAVISIBLE|M3_CLOSE, HI_DOMESTIC),
+	MON("undead geek", S_HUMAN,
+	LVL(20, 10, 10, 2, 2), (1),
+	A(ATTK(AT_WEAP, AD_PHYS, 1, 8), NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_HUMANOID, MZ_HUMAN), MR_COLD|MR_SLEEP|MR_POISON|MR_ELEC,
+          MR_POISON|MR_ELEC, M1_BREATHLESS|M1_MINDLESS|M1_HUMANOID|M1_OMNIVORE,
+	  M2_NOPOLY|M2_HUMAN|M2_STRONG|M2_COLLECT|M2_HOSTILE|M2_UNDEAD, M3_INFRAVISION, HI_DOMESTIC),
+	/* ------||---- --> THIS IS ***NOT*** A TYPO !!!! */
+    MON("Ford Perfect", S_HUMAN,
+	LVL(8, 10, 10, 0, 0), (G_UNIQ|1),
+ 	A(ATTK(AT_CLAW, AD_PHYS, 2, 4), NO_ATTK, NO_ATTK,
+             NO_ATTK, NO_ATTK, NO_ATTK),
+ 	SIZ(WT_HUMAN, 1000, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN),
+ 	  0, 0, M1_HUMANOID|M1_OMNIVORE,
+ 	  M2_NOPOLY|M2_MALE|M2_PNAME|M2_HUMAN, 0, HI_DOMESTIC),
+    MON("Arthur Dent", S_HUMAN,
+	LVL(9, 10, 10, 0, 0), (G_UNIQ|1),
+ 	A(ATTK(AT_CLAW, AD_PHYS, 2, 4), NO_ATTK, NO_ATTK,
+ 	    NO_ATTK, NO_ATTK, NO_ATTK),
+ 	SIZ(WT_HUMAN, 1000, 0, MS_DOUGLAS_ADAMS, MZ_HUMAN),
+ 	  0, 0, M1_HUMANOID|M1_OMNIVORE, 
+ 	  M2_NOPOLY|M2_MALE|M2_PNAME|M2_HUMAN, 0, HI_DOMESTIC),
+    MON("Mr. Prosser", S_HUMAN,
+	LVL(10, 10, 10, 0, 0), (G_UNIQ|1),
+ 	A(ATTK(AT_SPIT, AD_ACID, 2, 4), ATTK(AT_BREA, AD_FIRE, 1, 1),
+ 	    ATTK(AT_CLAW, AD_PHYS, 2, 4), NO_ATTK, NO_ATTK, NO_ATTK),
+      SIZ(WT_HUMAN, 1000, 0, MS_WAIL, MZ_HUMAN),
+ 	  MR_FIRE, 0, M1_HUMANOID|M1_METALLIVORE,
+ 	  M2_NOPOLY|M2_MALE|M2_PNAME|M2_HUMAN|M2_HOSTILE, 0, HI_DOMESTIC),
     MON("Oracle", S_HUMAN,
 	LVL(12, 0, 0, 50, 0), (G_NOGEN|G_UNIQ),
 	A(ATTK(AT_NONE, AD_MAGM, 0, 4),
@@ -4068,6 +4431,18 @@
 	M2_DEMON|M2_STALK|M2_HOSTILE|M2_NASTY|M2_MALE,
 	M3_INFRAVISIBLE|M3_INFRAVISION|M3_TRAITOR, CLR_GRAY),
 #undef SEDUCTION_ATTACKS
+	MON("news daemon", S_DEMON,
+	LVL(6, 12, 0, 0, 0), (G_NOCORPSE|1),
+	A(ATTK(AT_BITE, AD_PHYS, 2, 4), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_HUMAN), 0, 0, M1_FLY|M1_UNSOLID,
+	  M2_DEMON|M2_NASTY|M2_NEUTER|M2_HOSTILE, 0, CLR_BRIGHT_BLUE),
+    MON("printer daemon", S_DEMON,
+	LVL(6, 12, 0, 0, 0), (G_NOCORPSE|1),
+	A(ATTK(AT_BITE, AD_PHYS, 2, 6), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK),
+	SIZ(0, 0, 0, MS_BUZZ, MZ_HUMAN), 0, 0, M1_FLY|M1_UNSOLID,
+	  M2_DEMON|M2_NASTY|M2_NEUTER|M2_HOSTILE, 0, CLR_BRIGHT_BLUE),
     /* Used by AD&D for a type of demon, originally one of the Furies */
     /* and spelled this way */
     MON("erinys", S_DEMON,
@@ -4186,6 +4561,13 @@
 	M1_FLY|M1_SEE_INVIS|M1_POIS,
 	M2_DEMON|M2_STALK|M2_HOSTILE|M2_STRONG|M2_NASTY|M2_COLLECT,
 	M3_INFRAVISIBLE|M3_INFRAVISION|M3_TRAITOR, CLR_RED),
+	MON("UNIX Kernel", S_DEMON,
+	LVL(28, 10, 0, 20, -3), (1|G_UNIQ|G_NOCORPSE),
+	A(ATTK(AT_BITE, AD_PHYS, 4, 8), ATTK(AT_CLAW, AD_STUN, 2, 2),
+	    ATTK(AT_KICK, AD_DRLI, 3, 3), NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 0, 0, MS_BUZZ, MZ_HUMAN), 0, 0, 
+	  M1_UNSOLID|M1_FLY, M2_NOPOLY|M2_DEMON|M2_HOSTILE|M2_LORD 
+	  |M2_NEUTER, 0, CLR_BRIGHT_BLUE),
 	/* Named demon lords & princes plus Arch-Devils.
 	 * (their order matters; see minion.c)
 	 */
@@ -4379,6 +4761,11 @@
 	SIZ(80, 20, 0, MS_SILENT, MZ_SMALL), MR_POISON, MR_POISON,
 	M1_SWIM|M1_AMPHIBIOUS|M1_SLITHY|M1_NOLIMBS|M1_NOTAKE|M1_POIS,
 	M2_HOSTILE, 0, CLR_BLUE),
+	MON("babelfish", S_EEL,
+	LVL(4, 8, 10, 0, 0), (G_GENO|5),
+	A(ATTK(AT_BITE, AD_PHYS, 2, 4), NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(50, 50, 0, MS_SILENT, MZ_TINY), 0, 0, M1_SWIM|M1_ANIMAL|
+	  M1_HERBIVORE|M1_OVIPAROUS, M2_HOSTILE, 0, CLR_ORANGE),
     MON("piranha", S_EEL,
 	LVL(5, 12, 4, 0, 0), (G_GENO|G_NOGEN|G_SGROUP),
 	A(ATTK(AT_BITE, AD_PHYS, 2, 6), NO_ATTK,
@@ -4442,6 +4829,12 @@
 	  NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK, NO_ATTK),
 	SIZ(10, 20, 0, MS_SQEEK, MZ_TINY), 0, 0,
 	M1_ANIMAL|M1_NOHANDS|M1_CARNIVORE, M2_HOSTILE, 0, CLR_GREEN),
+	MON("deminewt", S_LIZARD,
+	LVL(2, 6, 7, 0, 0), (G_GENO|12),
+	A(ATTK(AT_BITE, AD_PHYS, 2, 2), NO_ATTK, NO_ATTK, 
+	    NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(10, 20, 0, MS_SQEEK, MZ_TINY), 0, 0,
+	  M1_ANIMAL|M1_NOHANDS|M1_CARNIVORE, M2_HOSTILE, 0, CLR_RED),
     MON("iguana", S_LIZARD,
 	LVL(2, 6, 7, 0, 0), (G_GENO|5),
 	A(ATTK(AT_BITE, AD_PHYS, 1, 4),
@@ -4481,6 +4874,12 @@
 	M1_SWIM|M1_AMPHIBIOUS|M1_ANIMAL|M1_THICK_HIDE|M1_NOHANDS|
 	  M1_OVIPAROUS|M1_CARNIVORE,
 	M2_STRONG|M2_HOSTILE, 0, CLR_BROWN),
+	MON("master newt", S_LIZARD,
+	LVL(6, 6, 6, 10, 0), (G_GENO|10),
+	A(ATTK(AT_BITE, AD_PHYS, 2, 6), NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(10, 40, 0, MS_SQEEK, MZ_MEDIUM), 0, 0,
+	  M1_ANIMAL|M1_NOHANDS|M1_CARNIVORE, M2_HOSTILE, 0, HI_LORD),
     MON("salamander", S_LIZARD,
 	LVL(8, 12, -1, 0, -9), (G_HELL|1),
 	A(ATTK(AT_WEAP, AD_PHYS, 2, 8), ATTK(AT_TUCH, AD_FIRE, 1, 6),
@@ -4651,6 +5050,13 @@
 	M1_HUMANOID|M1_OMNIVORE,
 	M2_NOPOLY|M2_HUMAN|M2_STRONG|M2_COLLECT|M2_MAGIC|M2_HOSTILE,
 	M3_INFRAVISIBLE, CLR_RED),
+	MON("geek", S_HUMAN,
+	LVL(10, 10, 10, 2, 2), (1),
+	A(ATTK(AT_WEAP, AD_PHYS, 1, 8), NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_HUMANOID, MZ_HUMAN), MR_POISON|MR_ELEC,
+          MR_POISON|MR_ELEC, M1_HUMANOID|M1_OMNIVORE,
+	  M2_NOPOLY|M2_HUMAN|M2_STRONG|M2_COLLECT|M2_HOSTILE, M3_INFRAVISION, HI_DOMESTIC),
     MON("healer", S_HUMAN,
 	LVL(10, 12, 10, 1, 0), G_NOGEN,
 	A(ATTK(AT_WEAP, AD_PHYS, 1, 6),
@@ -4852,6 +5258,14 @@
 	MR_POISON, M1_HUMANOID|M1_OMNIVORE,
 	M2_NOPOLY|M2_HUMAN|M2_PNAME|M2_PEACEFUL|M2_STRONG|M2_MALE|
 	M2_COLLECT|M2_MAGIC, M3_CLOSE|M3_INFRAVISIBLE, HI_LORD),
+	MON("The Dev Team", S_HUMAN,
+	LVL(20, 12, 0, 80, 0), (G_NOGEN|G_UNIQ),
+	A(ATTK(AT_WEAP, AD_PHYS, 1, 8), NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_LEADER, MZ_HUMAN), MR_POISON|MR_ELEC,
+	  MR_POISON|MR_ELEC, M1_HUMANOID|M1_OMNIVORE,
+	  M2_NOPOLY|M2_HUMAN|M2_PNAME|M2_PEACEFUL|M2_STRONG|
+	  M2_NEUTER|M2_COLLECT|M2_MAGIC, M3_CLOSE, HI_LORD),
     MON("Hippocrates", S_HUMAN,
 	LVL(20, 12, 0, 40, 0), (G_NOGEN|G_UNIQ),
 	A(ATTK(AT_WEAP, AD_PHYS, 1, 6),
@@ -5096,7 +5510,7 @@
 	M2_NOPOLY|M2_HUMAN|M2_STRONG|M2_STALK|M2_HOSTILE|M2_NASTY|
 	M2_COLLECT|M2_MAGIC, M3_WANTSARTI|M3_WAITFORU, HI_LORD),
 #if 0	/* OBSOLETE */
-    MON("Lareth", S_HUMAN, 
+	MON("Lareth", S_HUMAN, 
 	LVL(25, 15, 0, 50, 20), (G_NOGEN|G_UNIQ),
 	A(ATTK(AT_WEAP, AD_PHYS, 4, 8), ATTK(AT_WEAP, AD_SLEE, 2, 5),
 	  ATTK(AT_MAGC, AD_SPEL, 0, 0), ATTK(AT_MAGC, AD_SPEL, 0, 0),
@@ -5147,6 +5561,13 @@
 	M2_NOPOLY|M2_PNAME|M2_HOSTILE|M2_STRONG|M2_NASTY|M2_STALK|
 	  M2_GREEDY|M2_JEWELS|M2_MAGIC,
 	M3_WANTSARTI|M3_WAITFORU|M3_INFRAVISIBLE, CLR_RED),
+	MON("Bill Gates", S_HUMAN,
+	LVL(20, 10, 10, 0, -15), (G_NOGEN|G_UNIQ),
+	A(ATTK(AT_WEAP, AD_PHYS, 4, 8), ATTK(AT_BITE, AD_PHYS, 6, 8),
+		ATTK(AT_TENT, AD_DRIN, 2, 1), NO_ATTK, NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_NEMESIS, MZ_HUMAN), MR_STONE, 0,
+	M1_HUMANOID|M1_OMNIVORE, M2_NOPOLY|M2_HUMAN|M2_STRONG|M2_STALK|M2_PNAME|M2_HOSTILE|M2_NASTY|M2_MALE|M2_COLLECT,
+	M3_WANTSARTI|M3_WAITFORU, HI_LORD),
 #if 0	/* OBSOLETE */
     MON("Sir Lorimar", S_HUMAN, 
 	LVL(25, 15, -10, 40, -20), (G_NOGEN|G_UNIQ),
@@ -5338,6 +5759,13 @@
 	M2_NOPOLY|M2_HUMAN|M2_PEACEFUL|M2_STRONG|M2_COLLECT,
 	M3_INFRAVISION|M3_INFRAVISIBLE, CLR_ORANGE),
 #endif
+	MON("hacker", S_HUMAN,
+	LVL(5, 12, 10, 10, 1), G_NOGEN,
+	A(ATTK(AT_WEAP, AD_PHYS, 2, 4), NO_ATTK, NO_ATTK, NO_ATTK,
+	    NO_ATTK, NO_ATTK),
+	SIZ(WT_HUMAN, 1000, 0, MS_GUARDIAN, MZ_HUMAN), 0, 0,
+	  M1_HUMANOID|M1_OMNIVORE,
+	  M2_NOPOLY|M2_HUMAN|M2_PEACEFUL, 0, HI_DOMESTIC),
     MON("attendant", S_HUMAN,
 	LVL(5, 12, 10, 10, 3), G_NOGEN,
 	A(ATTK(AT_WEAP, AD_PHYS, 1, 6),
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\monstr.c SlashTNG-master\src\monstr.c
--- slashem-0.0.7E7F3\src\monstr.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\monstr.c	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,57 @@
+/* This source file is generated by 'makedefs'.  Do not edit. */
+#include "config.h"
+
+const int monstr[] = {
+ 4,  3,  5,  5,  6,  6,  6,  6,  7,  8, 10, 14, 12, 11, 12, 14,
+15, 17, 18, 12, 21,  2,  6,  8, 11, 12, 14, 15,  3,  4,  7,  8,
+ 8,  8,  1,  1,  2,  4,  3,  5,  7, 12,  3,  5,  7,  6,  4,  8,
+ 7,  8,  7,  9,  9, 11, 13, 15, 14, 22,  2,  3,  7,  8,  8,  8,
+ 8, 10,  3,  5,  5,  6,  7,  7,  7,  7,  7, 14,  8,  8,  9, 11,
+14, 14,  8,  8, 11,  5,  2,  4,  4,  5,  6,  8,  6,  9, 17, 20,
+18, 33,  3,  3,  3,  4,  5,  7,  7,  7,  9, 11,  5,  6,  7,  8,
+10, 10, 14,  1,  2,  3,  4,  4,  6,  8, 16,  4, 10, 12, 16,  8,
+ 9, 11,  5,  5,  5,  5, 11,  8, 15, 14,  1,  3,  3,  4,  5,  5,
+ 5,  7,  8, 11, 24, 11, 14,  4,  6,  9,  3,  4,  4,  6,  5,  6,
+ 7,  7,  8,  8, 10,  9, 11, 13, 15, 22, 22, 34, 31, 10,  1,  1,
+ 1,  2,  4,  5,  2,  4,  4,  4,  7, 16,  3,  4,  5,  7,  7,  8,
+12, 10, 15, 28, 31, 10, 13, 12, 14,  5,  6,  6,  6,  4,  7,  9,
+14,  4,  6,  7,  9,  9, 10,  2,  3,  4,  7,  8,  8,  9,  9, 11,
+19,  4,  1,  4,  5,  6,  8,  9, 10,  9, 10, 10, 11, 12, 12, 12,
+14, 18, 17,  5,  7,  3,  6,  8,  6, 11,  6,  8, 15, 14, 15, 15,
+21, 23, 27, 22, 23, 28, 24, 38, 49,  2,  3,  5,  4,  6,  7,  9,
+ 9, 11, 10, 15, 19,  6,  8,  9,  5,  5,  6,  6,  5,  5,  5,  5,
+ 5,  5,  5, 25, 25, 25, 27, 25, 25, 25, 25, 25, 26, 25, 24, 25,
+32, 32,  2,  9, 10, 10, 10, 10,  1,  2,  2,  2,  2,  2,  5,  7,
+ 8, 14,  3,  3,  4,  5,  6,  6, 19,  6, 20, 26, 33, 22, 21, 10,
+11, 12, 13, 15, 15, 23, 21, 20, 31, 51, 52,  5, 20, 27,  2,  3,
+ 4,  5,  6,  8, 14, 18, 21, 29,  4,  5,  6,  6,  7,  7,  8, 10,
+11,  4,  4,  4,  4,  8, 10, 13, 13, 16,  7,  9, 10, 11, 13,  4,
+ 6,  9, 12,  8, 17, 25, 46,  9,  9, 12, 14, 23,  5,  8, 14,  3,
+ 6,  7,  9,  8, 10, 12, 12, 11,  9, 12, 12, 12, 13, 16, 21, 12,
+14, 10, 15, 17, 22, 16, 28, 20, 28, 21,  7,  8,  8, 17, 11, 13,
+17, 17,  4,  6,  9,  7,  8,  9,  9, 11,  1,  2,  3,  3,  4,  5,
+ 5,  7, 14,  7,  6,  9, 17, 20, 18,  4,  4,  5,  5,  6,  6,  7,
+ 8, 10, 12, 15, 18, 22, 23, 28, 30, 32, 34, 36,  2,  3,  3,  6,
+ 6,  8, 10, 10,  9, 11, 12,  6,  5,  7,  8, 10, 11,  9, 10, 15,
+15, 11, 11,  4, 13, 24, 28, 28, 14, 14, 22,  9, 10, 13, 13, 15,
+32,  8, 10, 12, 14,  8, 12, 25, 37, 25,  9, 12, 16, 13, 12, 11,
+12, 11, 11,  9,  9, 13, 13, 14, 13, 15, 14, 16, 14, 15, 17, 18,
+17, 18, 23, 32, 28, 33, 39, 39, 43, 47, 55, 59, 61, 36, 36, 36,
+ 8, 15,  5,  5,  6,  7,  9,  9, 10, 22,  1,  2,  3,  3,  4,  6,
+ 8,  7,  7,  7, 12,  6, 10, 11,  5,  8, 10,  7, 10, 12,  1, 17,
+24, 56, 12, 12, 12, 12, 14, 12, 12, 14, 12, 11, 13, 12, 12, 12,
+12, 12, 12, 12, 12, 12, 12, 22, 22, 22, 24, 22, 22, 24, 23, 33,
+22, 30, 22, 24, 23, 22, 23, 23, 23, 23, 25, 24, 26, 34, 25, 34,
+24, 26, 33, 25, 25, 20, 22, 21, 33, 21, 23, 26,  7,  7,  7,  7,
+ 7,  6,  7,  7,  8,  8,  8,  7,  7,  7,  7,  8, 10,  7,  8,  7,
+};
+
+void NDECL(monstr_init);
+
+void
+monstr_init()
+{
+    return;
+}
+
+/*monstr.c*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\mplayer.c SlashTNG-master\src\mplayer.c
--- slashem-0.0.7E7F3\src\mplayer.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\mplayer.c	Sun Jan 01 13:28:23 2017
@@ -105,7 +105,7 @@
 	 * chances of having plusses is the same as usual....
 	 */
 	obj->spe = rn2(10) ? (rn2(3) ? rn2(5) : rn1(4,4)) : -rnd(3);
-	(void) mpickobj(mon, obj);
+	(void) mpickobj(mon, obj, TRUE);
 }
 
 struct monst *
@@ -167,6 +167,9 @@
 		    else if (rn2(2)) weapon = CLUB;
 		    if (helm == HELM_OF_BRILLIANCE) helm = STRANGE_OBJECT;
 		    break;
+		case PM_GEEK:
+		    weapon = ELECTRIC_SWORD;
+		    break;
 		case PM_HEALER:
 		    if (rn2(4)) weapon = QUARTERSTAFF;
 		    else if (rn2(2)) weapon = rn2(2) ? UNICORN_HORN : SCALPEL;
@@ -245,7 +248,7 @@
 		/* mplayers knew better than to overenchant Magicbane */
 		if (otmp->oartifact == ART_MAGICBANE)
 		    otmp->spe = rnd(4);
-		(void) mpickobj(mtmp, otmp);
+		(void) mpickobj(mtmp, otmp, TRUE);
 	    }
 
 	    if(special) {
@@ -274,7 +277,7 @@
 #endif
 		quan = rn2(10);
 		while(quan--)
-		    (void) mpickobj(mtmp, mkobj(RANDOM_CLASS, FALSE));
+		    (void) mpickobj(mtmp, mkobj(RANDOM_CLASS, FALSE), TRUE);
 	    } else { /* wandering characters... */
 #ifndef GOLDOBJ
 	       mtmp->mgold = rn2((mtmp->m_lev)*100);
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\muse.c SlashTNG-master\src\muse.c
--- slashem-0.0.7E7F3\src\muse.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\muse.c	Sun Jan 01 17:25:51 2017
@@ -245,6 +245,8 @@
 #define MUSE_WAN_EXTRA_HEALING 21
 #define MUSE_WAN_CREATE_HORDE 22
 #define MUSE_POT_VAMPIRE_BLOOD 23
+#define MUSE_RIN_TIMELY_BACKUP 24
+#define MUSE_WAN_BUGGING 25
 /*
 #define MUSE_INNATE_TPT 9999
  * We cannot use this.  Since monsters get unlimited teleportation, if they
@@ -492,6 +494,11 @@
 			m.has_defense = MUSE_SCR_TELEPORTATION;
 		    }
 		}
+		nomore(MUSE_RIN_TIMELY_BACKUP);
+		if(obj->otyp == RIN_TIMELY_BACKUP) {
+			m.defensive = obj;
+			m.has_defense = MUSE_RIN_TIMELY_BACKUP;
+		}
 
 	    if (mtmp->data != &mons[PM_PESTILENCE]) {
 		nomore(MUSE_POT_FULL_HEALING);
@@ -514,6 +521,11 @@
 			m.defensive = obj;
 			m.has_defense = MUSE_WAN_CREATE_HORDE;
 		}
+		nomore(MUSE_WAN_BUGGING);
+		if(obj->otyp == WAN_BUGGING && obj->spe > 0) {
+			m.defensive = obj;
+			m.has_defense = MUSE_WAN_BUGGING;
+		}
 		nomore(MUSE_POT_HEALING);
 		if(obj->otyp == POT_HEALING) {
 			m.defensive = obj;
@@ -564,6 +576,7 @@
 use_defensive(mtmp)
 struct monst *mtmp;
 {
+	int rinspe;
 	int i, fleetim, how = 0;
 	struct obj *otmp = m.defensive;
 	boolean vis, vismon, oseen;
@@ -715,6 +728,23 @@
 				 MIGR_RANDOM, (coord *)0);
 		return 2;
 	    }
+	case MUSE_WAN_BUGGING:
+	    {   coord cc;
+		struct permonst *pm=rndmonst();
+		int cnt = 1;
+		if (!enexto(&cc, mtmp->mx, mtmp->my, pm)) return 0;
+		mzapmsg(mtmp, otmp, FALSE);
+		otmp->spe--;
+		if (oseen) makeknown(WAN_BUGGING);
+		cnt = rnd(4) + 10;
+		while(cnt--) {
+			struct monst *mon;
+			if (!enexto(&cc, mtmp->mx, mtmp->my, pm)) continue;
+			mon = makemon(rndmonst(), cc.x, cc.y, NO_MM_FLAGS);
+			if (mon) newsym(mon->mx,mon->my);
+		}
+		return 2;
+	    }
 	case MUSE_WAN_CREATE_HORDE:
 	    {   coord cc;
 		struct permonst *pm=rndmonst();
@@ -960,6 +990,24 @@
 		if (oseen) makeknown(otmp->otyp);
 		m_useup(mtmp, otmp);
 		return 2;
+	case MUSE_RIN_TIMELY_BACKUP:
+		rinspe = (otmp->spe);
+		if (rinspe < 1) {
+		if (vismon) pline("%s fumbles around, but nothing happens!", Monnam(mtmp));
+		if (oseen) makeknown(otmp->otyp);
+		m_useup(mtmp, otmp);
+		return 2;
+		}
+		mtmp->mhp = (mtmp->mhpmax += (otmp->blessed ? 8 : 4));
+		mtmp->mhpmax += rinspe;
+		if (!mtmp->mcansee && otmp->otyp != POT_SICKNESS) {
+			mtmp->mcansee = 1;
+			mtmp->mblinded = 0;
+			if (vismon) pline(mcsa, Monnam(mtmp));
+		}
+		if (vismon) pline("%s used a backup, and is looking healthy again!", Monnam(mtmp));
+		if (oseen) makeknown(otmp->otyp);
+		return 2;
 	case MUSE_POT_VAMPIRE_BLOOD:
 		mquaffmsg(mtmp, otmp);
 		if (!otmp->cursed) {
@@ -1010,15 +1058,15 @@
 			/* else FALLTHRU */
 		case 0: case 1:
 			return SCR_TELEPORTATION;
-		case 8: case 10:
+		case 3: case 10:
 			if (!rn2(3)) return WAN_CREATE_MONSTER;
 			/* else FALLTHRU */
 		case 2: return SCR_CREATE_MONSTER;
-		case 3: return POT_HEALING;
 		case 4: return POT_EXTRA_HEALING;
-		case 5: return (mtmp->data != &mons[PM_PESTILENCE]) ?
+		case 5: return RIN_TIMELY_BACKUP;
+		case 7: return (mtmp->data != &mons[PM_PESTILENCE]) ?
 				POT_FULL_HEALING : POT_SICKNESS;
-		case 7: if (is_floater(pm) || mtmp->isshk || mtmp->isgd
+		case 8: if (is_floater(pm) || mtmp->isshk || mtmp->isgd
 						|| mtmp->ispriest
 									)
 				return 0;
@@ -1050,6 +1098,9 @@
 #define MUSE_SCR_EARTH 19
 #define MUSE_POT_AMNESIA 20
 #define MUSE_WAN_CANCELLATION 21	/* Lethe */
+#define MUSE_WAN_ACID 22
+#define MUSE_POT_CYANIDE 23
+#define MUSE_POT_RADIUM 24
 
 /* Select an offensive item/action for a monster.  Returns TRUE iff one is
  * found.
@@ -1160,6 +1211,16 @@
 			m.offensive = obj;
 			m.has_offense = MUSE_POT_SLEEPING;
 		}
+		nomore(MUSE_POT_CYANIDE);
+		if(obj->otyp == POT_CYANIDE) {
+			m.offensive = obj;
+			m.has_offense = MUSE_POT_CYANIDE;
+		}
+		nomore(MUSE_POT_RADIUM);
+		if(obj->otyp == POT_RADIUM) {
+			m.offensive = obj;
+			m.has_offense = MUSE_POT_RADIUM;
+		}
 		/* Mik's Lethe patch - monsters use !oAmnesia */
 		nomore(MUSE_POT_AMNESIA);
 		if (obj->otyp == POT_AMNESIA) {
@@ -1171,6 +1232,11 @@
 			m.offensive = obj;
 			m.has_offense = MUSE_POT_SLEEPING;
 		}
+		nomore(MUSE_WAN_ACID);
+		    if(obj->otyp == WAN_ACID && obj->spe > 0) {
+			m.offensive = obj;
+			m.has_offense = MUSE_WAN_ACID;
+		}
 		/* KMH, balance patch -- monsters use potion of acid */
 		nomore(MUSE_POT_ACID);
 		if(obj->otyp == POT_ACID) {
@@ -1437,6 +1503,7 @@
 	case MUSE_WAN_FIRE:
 	case MUSE_WAN_COLD:
 	case MUSE_WAN_LIGHTNING:
+	case MUSE_WAN_ACID:
 	case MUSE_WAN_MAGIC_MISSILE:
 		mzapmsg(mtmp, otmp, FALSE);
 		otmp->spe--;
@@ -1663,6 +1730,8 @@
 	case MUSE_POT_CONFUSION:
 	case MUSE_POT_SLEEPING:
 	case MUSE_POT_ACID:
+	case MUSE_POT_CYANIDE:
+	case MUSE_POT_RADIUM:
 	case MUSE_POT_AMNESIA:
 		/* Note: this setting of dknown doesn't suffice.  A monster
 		 * which is out of sight might throw and it hits something _in_
@@ -2060,7 +2129,7 @@
 			case 3:		/* into mon's inventory */
 			    pline("%s snatches %s!", Monnam(mtmp),
 				  the_weapon);
-			    (void) mpickobj(mtmp,obj);
+			    (void) mpickobj(mtmp,obj,FALSE);
 			    break;
 		    }
 		    return 1;
@@ -2165,6 +2234,8 @@
 		    typ == WAN_TELEPORTATION ||
 		    typ == WAN_CREATE_MONSTER ||
 		    typ == WAN_CREATE_HORDE ||
+			typ == WAN_BUGGING ||
+			typ == WAN_ACID ||
 		    typ == WAN_DRAINING	||
 		    typ == WAN_HEALING ||
 		    typ == WAN_EXTRA_HEALING ||
@@ -2183,6 +2254,8 @@
 		    typ == POT_SLEEPING ||
 		    typ == POT_ACID ||
 		    typ == POT_CONFUSION ||
+			typ == POT_CYANIDE ||
+			typ == POT_RADIUM ||
 		    typ == POT_AMNESIA)
 		return TRUE;
 	    if (typ == POT_BLINDNESS && !attacktype(mon->data, AT_GAZE))
@@ -2194,11 +2267,15 @@
 		return TRUE;
 	    break;
 	case AMULET_CLASS:
-	    if (typ == AMULET_OF_LIFE_SAVING)
-		return (boolean)(!nonliving(mon->data));
+	    if (typ == AMULET_OF_LIFE_SAVING || typ == AMULET_OF_DATA_STORAGE || typ == AMULET_OF_REFLECTION)
+		return /*(boolean)(!nonliving(mon->data))*/TRUE;
 	    if (typ == AMULET_OF_REFLECTION)
 		return TRUE;
 	    break;
+	case RING_CLASS:
+	    if (typ == RIN_TIMELY_BACKUP)
+		return TRUE;
+	    break;
 	case TOOL_CLASS:
 	    if (typ == PICK_AXE)
 		return (boolean)needspick(mon->data);
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\nhlan.c SlashTNG-master\src\nhlan.c
--- slashem-0.0.7E7F3\src\nhlan.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\nhlan.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,191 @@
+/*	SCCS Id: @(#)nhlan.c	3.4	1999/11/21	*/
+/* Copyright (c) Michael Allison, 1997                  */
+/* NetHack may be freely redistributed.  See license for details. */
+
+/*
+ * Currently shared by the following ports:
+ *	WIN32
+ *
+ * The code in here is used to take advantage of added features
+ * that might be available in a Local Area Network environment.
+ *
+ * 	Network Username of player
+ *	Mail
+ * Futures
+ *	Shared bones
+ *		To implement this: code, data files, and configuration
+ *		files need to be separated from writeable files such
+ *		as level files, bones files, and save files.
+ *
+ */
+
+#include "hack.h"
+#include <ctype.h>
+
+#ifdef LAN_FEATURES
+
+#ifdef LAN_MAIL
+/* Port specific code needs to implement these routines for LAN_MAIL */
+extern char *FDECL(get_username, (int *));
+extern boolean NDECL(mail_check);
+extern boolean FDECL(mail_fetch, (struct lan_mail_struct *)); 
+extern void FDECL(mail_init, (char *));
+extern void NDECL(mail_finish);
+
+struct lan_mail_struct mailmessage;
+#endif /* LAN_MAIL */
+
+
+void init_lan_features()
+{
+	lan_username();
+#ifdef LAN_MAIL
+	lan_mail_init();
+#endif
+#ifdef LAN_SHARED_BONES
+#endif
+}
+/*
+ * The get_lan_username() call is a required call, since some of
+ * the other LAN features depend on a unique username being available.
+ *
+ */
+char lusername[MAX_LAN_USERNAME];
+int lusername_size = MAX_LAN_USERNAME;
+
+char *lan_username()
+{
+	char *lu;
+	lu = get_username(&lusername_size);
+	if (lu) {
+	 Strcpy(lusername, lu);
+	 return lusername;
+	} else return (char *)0;
+}
+
+# ifdef LAN_MAIL
+#if 0
+static void
+mail_by_pline(msg)
+struct lan_mail_struct *msg;
+{
+	long	size;
+
+	for (size = 0; size < qt_msg->size; size += (long)strlen(in_line)) {
+	    (void) dlb_fgets(in_line, 80, msg_file);
+	    convert_line();
+	    pline(out_line);
+	}
+
+}
+#endif /* 0 */
+
+static void
+mail_by_window(msg)
+struct lan_mail_struct *msg;
+{
+	char buf[BUFSZ];
+	winid datawin = create_nhwindow(NHW_TEXT);
+	char *get, *put;
+	int ccount = 0;
+	
+	get = msg->body;
+	put = buf;
+	while (*get) {
+	     if (ccount > 79) {
+	     	*put = '\0';
+	     	putstr(datawin, 0, buf);
+	     	put = buf;
+		ccount = 0;
+	     }
+	     if (*get == '\r') {
+		get++;
+	     } else if (*get == '\n') { 
+	     	*put = '\0';
+	     	putstr(datawin, 0, buf);
+	     	put = buf;
+	     	get++;
+		ccount = 0;
+	     } else if (!isprint(*get)) {
+		get++;
+	     } else {
+	 	*put++ = *get++;
+		ccount++;
+	     }
+	}
+	*put = '\0';
+	putstr(datawin, 0, buf);
+	putstr(datawin, 0, "");	       
+	display_nhwindow(datawin, TRUE);
+	destroy_nhwindow(datawin);
+}
+
+/* this returns TRUE if there is mail ready to be read */
+boolean lan_mail_check()
+{
+	if (flags.biff) {
+		if (mail_check()) return TRUE;
+	}
+	return FALSE;
+}
+
+void lan_mail_read(otmp)
+struct obj *otmp;
+{
+	if (flags.biff) {
+		(void) mail_fetch(&mailmessage);
+		/* after a successful fetch iflags.lan_mail_fetched
+		 * should be TRUE.  If it isn't then we don't
+		 * trust the contents of mailmessage.  This
+		 * ensures that things work correctly across
+		 * save/restores where mailmessage isn't
+		 * saved (nor should it be since it may be
+		 * way out of context by then).
+		 */
+		 if (iflags.lan_mail_fetched) {
+		    if (mailmessage.body_in_ram) {
+		    	mail_by_window(&mailmessage);
+		 	return;
+		    }
+		 }
+	}
+	pline_The("text has faded and is no longer readable.");
+}
+
+void lan_mail_init()
+{
+	if (!flags.biff) return;
+	(void) mail_init(lusername);
+}
+
+void lan_mail_finish()
+{
+	if (iflags.lan_mail)
+		(void) mail_finish();
+}
+
+/* If ever called, the underlying mail system ran into trouble
+ * and wants us to cease bothering it immediately.
+ * Don't call mail_finish() because the underlying mail system
+ * may already be unavailable. Just clean up the NetHack side
+ * of things to prevent a crash.
+ */
+void lan_mail_terminate()
+{
+	/* Step 1. Clear iflags.lan_mail to indicate "not inited" */
+	iflags.lan_mail = FALSE;
+
+	/* Step 2. Clear iflags.lan_mail_fetched */
+	iflags.lan_mail_fetched = FALSE;
+
+	/* Once having gotten to this point, the only
+	   way to resume NetHack mail features again is
+	   to Save/Quit game, or for the user to clear
+	   iflags.biff and then set it once again,
+	   which triggers mail initialization */
+}
+
+# endif /*LAN_MAIL*/
+
+#endif /*LAN_FEATURES*/
+/*nhlan.c*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\objects.c SlashTNG-master\src\objects.c
--- slashem-0.0.7E7F3\src\objects.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\objects.c	Wed Jan 04 18:38:59 2017
@@ -121,7 +121,7 @@
 WEAPON("worm tooth", (char *)0,
 	1, 0, 0,  0, 20,  2,  2,  2, 0, 0,   P_KNIFE, 0, CLR_WHITE),
 WEAPON("knife", (char *)0,
-	1, 1, 0, 15,  5,  4,  3,  2, 0, P|S, P_KNIFE, IRON, HI_METAL),
+	1, 1, 0, 14,  5,  4,  3,  2, 0, P|S, P_KNIFE, IRON, HI_METAL),
 WEAPON("stiletto", (char *)0,
 	1, 1, 0,  5,  5,  4,  3,  2, 0, P|S, P_KNIFE, IRON, HI_METAL),
 WEAPON("scalpel", (char *)0,
@@ -131,6 +131,9 @@
 	/* [Tom] increased crysknife damage from d10/d10 */
 	/* to d20/d30 (otherwise, it's useless to make them...) */
 
+WEAPON("tooth of an algolian suntiger",	"very sharp tooth",
+	0, 0, 0, 1, 10, 500, 15, 15, 5, P|S, P_KNIFE, MINERAL, CLR_WHITE),
+
 /* Axes */
 WEAPON("axe", (char *)0,
 	1, 0, 0, 35, 60,  8,  6,  4, 0, S,   P_AXE, IRON, HI_METAL),
@@ -171,12 +174,14 @@
 
 /* Long swords */
 WEAPON("long sword", (char *)0,
-	1, 0, 0, 50, 40, 15,  8, 12, 0, S,   P_LONG_SWORD, IRON, HI_METAL),
+	1, 0, 0, 45, 40, 15,  8, 12, 0, S,   P_LONG_SWORD, IRON, HI_METAL),
 WEAPON("silver long sword", (char *)0,
-	1, 0, 0,  2, 48, 75,  8, 12, 0, S,   P_LONG_SWORD,SILVER, HI_SILVER),
+	1, 0, 0,  5, 48, 75,  8, 12, 0, S,   P_LONG_SWORD,SILVER, HI_SILVER),
 	/* STEPHEN WHITE'S NEW CODE */
 WEAPON("katana", "samurai sword",
 	0, 0, 0,  4, 40, 80, 10, 12, 1, S,   P_LONG_SWORD, IRON, HI_METAL),
+WEAPON("electric sword", (char *)0,
+1, 0, 0, 2, 16,200, 12, 16, 2, S,   P_LONG_SWORD, IRON, HI_METAL),
 
 /* Two-handed swords */
 WEAPON("two-handed sword", (char *)0,
@@ -586,13 +591,15 @@
 GLOVES("leather gloves", "old gloves",
 		0, 0,  0,			16, 1, 10,  8,  9, 0, LEATHER, HI_LEATHER),
 GLOVES("gauntlets of fumbling", "padded gloves",
-		0, 1,  FUMBLING,	8, 1, 10, 50,  9, 0, LEATHER, HI_LEATHER),
+		0, 1,  FUMBLING,	7, 1, 10, 50,  9, 0, LEATHER, HI_LEATHER),
 GLOVES("gauntlets of power", "riding gloves",
-		0, 1,  0,			8, 1, 30, 50,  9, 0, IRON, CLR_BROWN),
+		0, 1,  0,			7, 1, 30, 50,  9, 0, IRON, CLR_BROWN),
+GLOVES("gauntlets of typing", "brand-new gloves",
+		0, 1, 0,			4, 1, 4,  50,  8, 0, LEATHER, HI_LEATHER),
 GLOVES("gauntlets of swimming", "black gloves",
-		0, 1,  SWIMMING,	8, 1, 10, 50,  9, 0, LEATHER, HI_LEATHER),
+		0, 1,  SWIMMING,	7, 1, 10, 50,  9, 0, LEATHER, HI_LEATHER),
 GLOVES("gauntlets of dexterity", "fencing gloves",
-		0, 1,  0,			8, 1, 10, 50,  9, 0, LEATHER, HI_LEATHER),
+		0, 1,  0,			7, 1, 10, 50,  9, 0, LEATHER, HI_LEATHER),
 
 /* Shields */
 SHIELD("small shield", (char *)0,
@@ -667,6 +674,8 @@
 RING("gain intelligence", 0,   "plain",     150, 1, 1, 7, MINERAL,  HI_MINERAL),
 RING("gain strength", 0,       "granite",   150, 1, 1, 7, MINERAL, HI_MINERAL),
 RING("gain wisdom",     0,     "glass",     150, 1, 1, 7, MINERAL,  CLR_CYAN),
+RING("health",		0,	"chrysoberyl",		200, 1, 1, 7, MINERAL,  CLR_CYAN),
+RING("timely backup",	0,  "rusty",		300, 1, 1, 4, IRON,		CLR_BROWN),
 RING("increase accuracy", 0,   "clay",      150, 1, 1, 4, MINERAL, CLR_RED),
 RING("increase damage", 0,     "coral",     150, 1, 1, 4, MINERAL, CLR_ORANGE),
 RING("slow digestion",  SLOW_DIGESTION, "steel",
@@ -701,17 +710,19 @@
 		OBJ(name,desc), BITS(0,0,0,0,1,0,0,0,0,0,0,0,IRON), power, \
 		AMULET_CLASS, prob, 0, 20, 150, 0, 0, 0, 0, 20, HI_METAL )
 AMULET("amulet of change",        "square",     0,          110),
-AMULET("amulet of drain resistance","warped",   DRAIN_RES,   60),
-AMULET("amulet of ESP",           "circular",   TELEPAT,    140),
-AMULET("amulet of flying",        "convex",     FLYING,      50),
-AMULET("amulet of life saving",   "spherical",  LIFESAVED,   60),
+AMULET("amulet of drain resistance","warped",   DRAIN_RES,   50),
+AMULET("amulet of ESP",           "circular",   TELEPAT,    130),
+AMULET("amulet of flying",        "convex",     FLYING,      40),
+AMULET("amulet of life saving",   "spherical",  LIFESAVED,   50),
 AMULET("amulet of magical breathing", "octagonal", MAGICAL_BREATHING, 50),
-AMULET("amulet of reflection",    "hexagonal",  REFLECTING,  60),
+AMULET("amulet of reflection",    "hexagonal",  REFLECTING,  50),
 AMULET("amulet of restful sleep", "triangular", SLEEPING,   110),
 AMULET("amulet of strangulation", "oval",       STRANGLED,  110),
 AMULET("amulet of unchanging",    "concave",    UNCHANGING,	 50),
-AMULET("amulet versus poison",    "pyramidal",  POISON_RES, 140),
-AMULET("amulet versus stone",     "lunate",   /*STONE_RES*/0,60),
+AMULET("amulet of second chance", "tetraedrical",SECOND_CHANCE, 30),
+AMULET("amulet of data storage",  "icosaedrical", 0,		40),
+AMULET("amulet versus poison",    "pyramidal",  POISON_RES, 130),
+AMULET("amulet versus stone",     "lunate",   /*STONE_RES*/0,50),
 OBJECT(OBJ("cheap plastic imitation of the Amulet of Yendor",
 	"Amulet of Yendor"), BITS(0,0,1,0,0,0,0,0,0,0,0,0,PLASTIC), 0,
 	AMULET_CLASS, 0, 0, 20,    0, 0, 0, 0, 0,  1, HI_METAL),
@@ -738,12 +749,14 @@
 		0, TOOL_CLASS, prob, 0, \
 		wt, cost, sdam, ldam, hitbon, 0, wt, clr )
 /* Containers */
-CONTAINER("large box", (char *)0,       1, 0, 0, 1,  40,350,   8, WOOD, HI_WOOD),
+CONTAINER("large box", (char *)0,       1, 0, 0, 1,  35,350,   8, WOOD, HI_WOOD),
 CONTAINER("chest", (char *)0,           1, 0, 0, 1,  35,600,  16, WOOD, HI_WOOD),
-CONTAINER("ice box", (char *)0,         1, 0, 0, 1,  10,900,  42, PLASTIC, CLR_WHITE),
-CONTAINER("sack", "bag",                0, 0, 0, 0,  40, 15,   2, CLOTH, HI_CLOTH),
+CONTAINER("ice box", (char *)0,         1, 0, 0, 1,  10,900,  42, PLASTIC, CLR_WHITE),/*
+CONTAINER("Schroedinger's Box", (char *)0,	1, 0, 0, 1,  5,350, 8, WOOD, CLR_CYAN),*/
+CONTAINER("sack", "bag",                0, 0, 0, 0,  30, 15,   2, CLOTH, HI_CLOTH),
 CONTAINER("oilskin sack", "bag",        0, 0, 0, 0,  10, 15, 100, CLOTH, HI_CLOTH),
 CONTAINER("bag of holding", "bag",      0, 1, 0, 0,  20, 15, 100, CLOTH, HI_CLOTH),
+CONTAINER("bag of digestion","bag",		0, 1, 0, 0,  10,  5, 100, CLOTH, HI_CLOTH),
 CONTAINER("bag of tricks", "bag",       0, 1, 1, 0,  20, 15, 100, CLOTH, HI_CLOTH),
 
 /* Unlocking tools */
@@ -864,22 +877,40 @@
 				0, 0, 0, 0,   5, 75, 750, GLASS, HI_GLASS),
 #endif
 TOOL("lenses", (char *)0,	1, 0, 0, 0,   5,  3,  80, GLASS, HI_GLASS),
-TOOL("blindfold", (char *)0,    1, 0, 0, 0,  50,  2,  20, CLOTH, CLR_BLACK),
-TOOL("towel", (char *)0,        1, 0, 0, 0,  50,  2,  50, CLOTH, CLR_MAGENTA),
+TOOL("blindfold", (char *)0,    1, 0, 0, 0,  30,  2,  20, CLOTH, CLR_BLACK),
+TOOL("towel", (char *)0,        1, 0, 0, 0,  40,  2,  50, CLOTH, CLR_MAGENTA),
 #ifdef STEED
 TOOL("saddle", (char *)0,       1, 0, 0, 0,   5,100, 150, LEATHER, HI_LEATHER),
-TOOL("leash", (char *)0,        1, 0, 0, 0,  65, 12,  20, LEATHER, HI_LEATHER),
+TOOL("leash", (char *)0,        1, 0, 0, 0,  35, 12,  20, LEATHER, HI_LEATHER),
 #else
-TOOL("leash", (char *)0,        1, 0, 0, 0,  70, 12,  20, LEATHER, HI_LEATHER),
+TOOL("leash", (char *)0,        1, 0, 0, 0,  40, 12,  20, LEATHER, HI_LEATHER),
 #endif
-TOOL("stethoscope", (char *)0,  1, 0, 0, 0,  25,  4,  75, IRON, HI_METAL),
-TOOL("tinning kit", (char *)0,  1, 0, 0, 1,  15, 75,  30, IRON, HI_METAL),
+TOOL("stethoscope", (char *)0,  1, 0, 0, 0,  20,  4,  75, IRON, HI_METAL),
+TOOL("tinning kit", (char *)0,  1, 0, 0, 1,  13, 75,  30, IRON, HI_METAL),
 CONTAINER("medical kit", "leather bag",
 				0, 0, 0, 0,  10, 25, 500, LEATHER, HI_LEATHER),
-TOOL("tin opener", (char *)0,   1, 0, 0, 0,  25,  4,  30, IRON, HI_METAL),
+TOOL("tin opener", (char *)0,   1, 0, 0, 0,  20,  4,  30, IRON, HI_METAL),
 TOOL("can of grease", (char *)0,1, 0, 0, 1,  15, 15,  20, IRON, HI_METAL),
 TOOL("figurine", (char *)0,     1, 0, 1, 0,  25, 50,  80, MINERAL, HI_MINERAL),
-TOOL("magic marker", (char *)0, 1, 0, 1, 1,  15,  2,  50, PLASTIC, CLR_RED),
+TOOL("magic marker", (char *)0, 1, 0, 1, 1,  12,  2,  50, PLASTIC, CLR_RED),
+TOOL("Hitchhiker's Guide To The Galaxy", "highly-complicated electronic device",
+				0, 0, 0, 0,   0, 42,  1000, IRON, HI_METAL),
+TOOL("diode",		"two-wired thing",
+				0, 1, 0, 0,   5,  1,    50, IRON, CLR_WHITE),
+TOOL("transistor",	"three-wired thing",
+				0, 1, 0, 0,   5,  1,   100, IRON, CLR_WHITE),
+TOOL("IC",              "many-wired thing",
+				0, 1, 0, 0,   5,  1,  5000, IRON, CLR_WHITE),
+TOOL("pack of floppies",	"box containing little plastic cards",
+				0, 1, 0, 0,   5,  3,   300,PLASTIC, CLR_RED),
+TOOL("god-o-meter",	"highly-complicated electronic device",
+				0, 0, 0, 0,   5,  5,   500, IRON, HI_METAL),
+TOOL("relay",		"four-wired thing",	
+				0, 1, 0, 0,   5,  2,   100, IRON, CLR_WHITE),
+TOOL("bottle",		NULL,
+				1, 1, 0, 0,  30,  1,     5, GLASS, HI_METAL),
+TOOL("chemistry set",	"box of obscure-looking glass devices",
+				0, 0, 0, 1,  20, 20,   500, GLASS, CLR_ORANGE),
 
 /* Two pseudo tools. These can never exist outside of medical kits. */
 OBJECT(OBJ("bandage", (char *)0),
@@ -936,17 +967,19 @@
 /* Fruits & veggies */
 FOOD("kelp frond",           0, 1,  1, 0, VEGGY,  30, CLR_GREEN),
 FOOD("eucalyptus leaf",      4, 1,  1, 0, VEGGY,  30, CLR_GREEN),
-FOOD("clove of garlic",      7, 1,  1, 0, VEGGY,  40, CLR_WHITE),
-FOOD("sprig of wolfsbane",   7, 1,  1, 0, VEGGY,  40, CLR_GREEN),
-FOOD("apple",               13, 1,  2, 0, VEGGY,  50, CLR_RED),
-FOOD("carrot",              15, 1,  2, 0, VEGGY,  50, CLR_ORANGE),
-FOOD("pear",                 9, 1,  2, 0, VEGGY,  50, CLR_BRIGHT_GREEN),
-FOOD("asian pear",           1, 1,  2, 0, VEGGY,  75, CLR_BRIGHT_GREEN),
-FOOD("banana",              10, 1,  2, 0, VEGGY,  80, CLR_YELLOW),
-FOOD("orange",              10, 1,  2, 0, VEGGY,  80, CLR_ORANGE),
+FOOD("clove of garlic",      6, 1,  1, 0, VEGGY,  40, CLR_WHITE),
+FOOD("sprig of wolfsbane",   6, 1,  1, 0, VEGGY,  40, CLR_GREEN),
+FOOD("apple",               11, 1,  2, 0, VEGGY,  50, CLR_RED),
+FOOD("carrot",              13, 1,  2, 0, VEGGY,  50, CLR_ORANGE),
+FOOD("pear",                 5, 1,  2, 0, VEGGY,  50, CLR_BRIGHT_GREEN),
+FOOD("asian pear",           4, 1,  2, 0, VEGGY,  75, CLR_BRIGHT_GREEN),
+FOOD("banana",               8, 1,  2, 0, VEGGY,  80, CLR_YELLOW),
+FOOD("orange",               8, 1,  2, 0, VEGGY,  80, CLR_ORANGE),
 FOOD("mushroom",             1, 1,  5, 0, VEGGY,  90, CLR_BLACK),
-FOOD("melon",                9, 1,  5, 0, VEGGY, 100, CLR_BRIGHT_GREEN),
-FOOD("slime mold",          75, 1,  5, 0, VEGGY, 250, HI_ORGANIC),
+FOOD("melon",                6, 1,  5, 0, VEGGY, 100, CLR_BRIGHT_GREEN),
+FOOD("slime mold",          72, 1,  5, 0, VEGGY, 250, HI_ORGANIC),
+FOOD("slice of pizza",       4, 1,  0, 0, VEGGY, 400, CLR_ORANGE),
+FOOD("peanut bag",	     13, 3,  0, 0, VEGGY, 800, HI_ORGANIC),
 
 /* People food */
 FOOD("lump of royal jelly",  1, 1,  2, 0, VEGGY, 200, CLR_YELLOW),
@@ -962,7 +995,8 @@
 FOOD("holy wafer",           7, 1,  1, 0, VEGGY, 150, CLR_WHITE),
 FOOD("lembas wafer",        20, 2,  5, 0, VEGGY, 800, CLR_WHITE),
 FOOD("cram ration",         20, 3, 15, 0, VEGGY, 600, HI_ORGANIC),
-FOOD("food ration",        380, 5, 20, 0, VEGGY, 800, HI_ORGANIC),
+FOOD("food ration",        370, 5, 20, 0, VEGGY, 800, HI_ORGANIC),
+FOOD("Hacker's Food",	    10, 1, 0, 0, VEGGY, 800, HI_METAL),
 FOOD("K-ration",             0, 1, 10, 0, VEGGY, 400, HI_ORGANIC),
 FOOD("C-ration",             0, 1, 10, 0, VEGGY, 300, HI_ORGANIC),
 FOOD("tin",                 75, 0, 10, 1, METAL,   0, HI_METAL),
@@ -972,31 +1006,31 @@
 #define POTION(name,desc,mgc,power,prob,cost,color) OBJECT( \
 		OBJ(name,desc), BITS(0,1,0,0,mgc,0,0,0,0,0,0,0,GLASS), power, \
 		POTION_CLASS, prob, 0, 20, cost, 0, 0, 0, 0, 10, color )
-POTION("booze", "brown",                0, 0,          40,  50, CLR_BROWN),
-POTION("fruit juice", "dark",           0, 0,          40,  50, CLR_BLACK),
-POTION("see invisible", "magenta",      1, SEE_INVIS,  38,  50, CLR_MAGENTA),
-POTION("sickness", "fizzy",             0, 0,          40,  50, CLR_CYAN),
-POTION("sleeping",  "effervescent",     1, 0,          40, 100, CLR_GRAY),
-POTION("clairvoyance","luminescent",    1, 0,          20, 100, CLR_WHITE),
-POTION("confusion", "orange",           1, CONFUSION,  40, 100, CLR_ORANGE),
-POTION("hallucination", "sky blue",     1, HALLUC,     40, 100, CLR_CYAN),
-POTION("healing", "purple-red",         1, 0,          55, 100, CLR_MAGENTA),
-POTION("extra healing", "puce",         1, 0,          45, 100, CLR_RED),
-POTION("restore ability", "pink",       1, 0,          40, 100, CLR_BRIGHT_MAGENTA),
-POTION("blindness", "yellow",           1, BLINDED,    38, 150, CLR_YELLOW),
-POTION("ESP", "muddy",                  1, TELEPAT,    20, 150, CLR_BROWN),
-POTION("gain energy", "cloudy",         1, 0,          40, 150, CLR_WHITE),
-POTION("invisibility", "brilliant blue",1, INVIS,      40, 150, CLR_BRIGHT_BLUE),
+POTION("booze", "brown",                0, 0,          35,  50, CLR_BROWN),
+POTION("fruit juice", "dark",           0, 0,          35,  50, CLR_BLACK),
+POTION("see invisible", "magenta",      1, SEE_INVIS,  30,  50, CLR_MAGENTA),
+POTION("sickness", "fizzy",             0, 0,          38,  50, CLR_CYAN),
+POTION("sleeping",  "effervescent",     1, 0,          38, 100, CLR_GRAY),
+POTION("clairvoyance","luminescent",    1, 0,          15, 100, CLR_WHITE),
+POTION("confusion", "orange",           1, CONFUSION,  35, 100, CLR_ORANGE),
+POTION("hallucination", "sky blue",     1, HALLUC,     35, 100, CLR_CYAN),
+POTION("healing", "purple-red",         1, 0,          50, 100, CLR_MAGENTA),
+POTION("extra healing", "puce",         1, 0,          35, 100, CLR_RED),
+POTION("restore ability", "pink",       1, 0,          30, 100, CLR_BRIGHT_MAGENTA),
+POTION("blindness", "yellow",           1, BLINDED,    35, 150, CLR_YELLOW),
+POTION("ESP", "muddy",                  1, TELEPAT,    15, 150, CLR_BROWN),
+POTION("gain energy", "cloudy",         1, 0,          30, 150, CLR_WHITE),
+POTION("invisibility", "brilliant blue",1, INVIS,      35, 150, CLR_BRIGHT_BLUE),
 POTION("monster detection", "bubbly",   1, 0,          38, 150, CLR_WHITE),
 POTION("object detection", "smoky",     1, 0,          38, 150, CLR_GRAY),
 POTION("enlightenment", "swirly",       1, 0,          20, 200, CLR_BROWN),
 POTION("full healing",  "black",        1, 0,          20, 200, CLR_BLACK),
-POTION("levitation", "cyan",            1, LEVITATION, 38, 200, CLR_CYAN),
+POTION("levitation", "cyan",            1, LEVITATION, 33, 200, CLR_CYAN),
 POTION("polymorph", "golden",           1, 0,          10, 200, CLR_YELLOW),
-POTION("speed", "dark green",           1, FAST,       38, 200, CLR_GREEN),
+POTION("speed", "dark green",           1, FAST,       33, 200, CLR_GREEN),
 POTION("acid", "white",                 0, 0,          20, 250, CLR_WHITE),
 POTION("oil", "murky",                  0, 0,          30, 250, CLR_BROWN),
-POTION("gain ability", "ruby",          1, 0,          38, 300, CLR_RED),
+POTION("gain ability", "ruby",          1, 0,          33, 300, CLR_RED),
 POTION("gain level", "milky",           1, 0,          20, 300, CLR_WHITE),
 POTION("invulnerability", "icy",        1, 0,           5, 300, CLR_BRIGHT_BLUE),
 POTION("paralysis", "emerald",          1, 0,          38, 300, CLR_BRIGHT_GREEN),
@@ -1004,6 +1038,14 @@
 POTION("blood", "blood-red",            0, 0,           0,  50, CLR_RED),
 POTION("vampire blood", "blood-red",    1, 0,           0, 350, CLR_RED),
 POTION("amnesia", "sparkling",          1, 0,          16, 100, CLR_CYAN),
+POTION("extreme power",	"turquoise",    1, 0, 	        20, 300, CLR_CYAN),
+POTION("recovery",	"reddish",      1, 0,           10, 300, CLR_RED),
+POTION("heroism",	    "tan",	          1, 0,           10, 300, CLR_BROWN),
+POTION("cyanide",	    "vermillion",     0, 0,           10, 300, CLR_RED),
+POTION("radium",	    "crimson",        0, 0,           10, 300, CLR_RED),
+POTION("Jolt Cola",	    "illegal",  0, 0,           30, 300, CLR_BROWN),
+POTION("Pan Galactic Gargle Blaster",
+			    "radiating",	    0, 0,           10, 300, CLR_WHITE),
 #undef POTION
 
 /* scrolls ... */
@@ -1021,23 +1063,30 @@
 SCROLL("identify",              "KERNOD WEL",           P_DIVINATION_SPELL, 1, 185,  20),
 SCROLL("magic mapping",         "ELAM EBOW",            P_DIVINATION_SPELL, 1,  45, 100),
 /* Enchantment */
-SCROLL("confuse monster",       "NR 9",                 P_ENCHANTMENT_SPELL,  1,  43, 100),
+SCROLL("confuse monster",       "NR 9",                 P_ENCHANTMENT_SPELL,  1,  38, 100),
 SCROLL("scare monster",         "XIXAXA XOXAXA XUXAXA", P_ENCHANTMENT_SPELL,  1,  35, 100),
-SCROLL("enchant weapon",        "DAIYEN FOOELS",        P_ENCHANTMENT_SPELL,  1,  80,  60),
-SCROLL("enchant armor",         "ZELGO MER",            P_ENCHANTMENT_SPELL,  1,  63,  80),
+SCROLL("enchant weapon",        "DAIYEN FOOELS",        P_ENCHANTMENT_SPELL,  1,  75,  60),
+SCROLL("enchant armor",         "ZELGO MER",            P_ENCHANTMENT_SPELL,  1,  58,  80),
 /* Protection */
-SCROLL("remove curse",          "PRATYAVAYAH",          P_PROTECTION_SPELL, 1,  65,  80),
+SCROLL("remove curse",          "PRATYAVAYAH",          P_PROTECTION_SPELL, 1,  60,  80),
 /* Body */
-SCROLL("teleportation",         "VENZAR BORGAVVE",      P_BODY_SPELL, 1,  55, 100),
+SCROLL("teleportation",         "VENZAR BORGAVVE",      P_BODY_SPELL, 1,  50, 100),
 /* Matter */
-SCROLL("fire",                  "ANDOVA BEGARIN",       P_MATTER_SPELL, 1,  33, 100),
+SCROLL("fire",                  "ANDOVA BEGARIN",       P_MATTER_SPELL, 1,  28, 100),
 SCROLL("earth",                 "KIRJE",                P_MATTER_SPELL, 1,  20, 200),
 
-SCROLL("destroy armor",         "JUYED AWK YACC",       P_NONE, 1,  45, 100),
-SCROLL("amnesia",               "DUAM XNAHT",           P_NONE, 1,  35, 200),
+SCROLL("destroy armor",         "JUYED AWK YACC",       P_NONE, 1,  40, 100),
+SCROLL("amnesia",               "DUAM XNAHT",           P_NONE, 1,  30, 200),
 SCROLL("charging",              "HACKEM MUCHE",         P_NONE, 1,  15, 300),
 SCROLL("genocide",              "ELBIB YLOH",           P_NONE, 1,  15, 300),
 SCROLL("punishment",            "VE FORBRYDERNE",       P_NONE, 1,  15, 300),
+SCROLL("mass murder",		"ENEMATZU MEMALEZU",	P_NONE,  1,   5, 300),
+SCROLL("undo genocide",		"42",			      P_NONE,  1,  5, 300),
+SCROLL("reverse identify",	"OH CAPTAIN MY CAPTAIN",P_NONE,  1,  23, 300),
+SCROLL("wishing",		"TRICK 13",		      P_NONE,  1,  2, 300),
+SCROLL("consecration",		"MAY THE FORCE BE WITH YOU",
+								      P_NONE,  1,  5, 300),
+SCROLL("root password detection","XYZZY",		      P_NONE,  1,  0, 1000),
 SCROLL("stinking cloud",	"VELOX NEB",            P_NONE, 1,  15, 300),
 SCROLL((char *)0,		"FOOBIE BLETCH",        P_NONE, 1,   0, 100),
 SCROLL((char *)0,		"TEMOV",                P_NONE, 1,   0, 100),
@@ -1056,29 +1105,31 @@
 		SPBOOK_CLASS, prob, delay, \
 		50, level*100, 0, 0, 0, level, 20, color )
 /* Attack spells */
-SPELL("force bolt",      "red",         P_ATTACK_SPELL, 25,  2, 1, 1, IMMEDIATE, CLR_RED),
-SPELL("create monster",  "turquoise",   P_ATTACK_SPELL, 25,  3, 2, 1, NODIR,     CLR_BRIGHT_CYAN),
+SPELL("force bolt",      "red",         P_ATTACK_SPELL, 20,  2, 1, 1, IMMEDIATE, CLR_RED),
+SPELL("create monster",  "turquoise",   P_ATTACK_SPELL, 20,  3, 2, 1, NODIR,     CLR_BRIGHT_CYAN),
 SPELL("drain life",      "velvet",      P_ATTACK_SPELL, 10,  4, 3, 1, IMMEDIATE, CLR_MAGENTA),
   /* NEEDS TILE */ /* WAC -- probs from force bolt and extra healing */
 SPELL("command undead",  "dark",        P_ATTACK_SPELL, 10,  7, 5, 1, IMMEDIATE, CLR_BLACK),
 SPELL("summon undead",   "black",       P_ATTACK_SPELL, 10,  7, 5, 1, IMMEDIATE, CLR_BLACK),
 /* Healing spells */
 SPELL("stone to flesh",	 "thick",       P_HEALING_SPELL, 15,  1, 3, 1, IMMEDIATE, HI_PAPER),
-SPELL("healing",         "white",       P_HEALING_SPELL, 30,  2, 1, 1, IMMEDIATE, CLR_WHITE),
-SPELL("cure blindness",  "yellow",      P_HEALING_SPELL, 20,  2, 2, 1, IMMEDIATE, CLR_YELLOW),
-SPELL("cure sickness",   "indigo",      P_HEALING_SPELL, 20,  3, 3, 1, NODIR,     CLR_BLUE),
+SPELL("healing",         "white",       P_HEALING_SPELL, 25,  2, 1, 1, IMMEDIATE, CLR_WHITE),
+SPELL("cure blindness",  "yellow",      P_HEALING_SPELL, 15,  2, 2, 1, IMMEDIATE, CLR_YELLOW),
+SPELL("cure sickness",   "indigo",      P_HEALING_SPELL, 15,  3, 3, 1, NODIR,     CLR_BLUE),
 SPELL("extra healing",   "plaid",       P_HEALING_SPELL, 15,  5, 3, 1, IMMEDIATE, CLR_GREEN),
 SPELL("restore ability", "light brown", P_HEALING_SPELL, 15,  5, 4, 1, NODIR,     CLR_BROWN),
 SPELL("create familiar", "glittering",  P_HEALING_SPELL, 10,  7, 6, 1, NODIR,     CLR_WHITE),
 /* Divination spells */
-SPELL("light",           "cloth",       P_DIVINATION_SPELL, 30,  1, 1, 1, NODIR,     HI_CLOTH),
-SPELL("detect monsters", "leather",     P_DIVINATION_SPELL, 20,  1, 1, 1, NODIR,     HI_LEATHER),
+SPELL("light",           "cloth",       P_DIVINATION_SPELL, 15,  1, 1, 1, NODIR,     HI_CLOTH),
+SPELL("detect monsters", "leather",     P_DIVINATION_SPELL, 15,  1, 1, 1, NODIR,     HI_LEATHER),
 SPELL("detect food",     "cyan",        P_DIVINATION_SPELL, 15,  3, 2, 1, NODIR,     CLR_CYAN),
 SPELL("clairvoyance",    "dark blue",   P_DIVINATION_SPELL, 15,  3, 3, 1, NODIR,     CLR_BLUE),
 SPELL("detect unseen",   "violet",      P_DIVINATION_SPELL, 15,  4, 3, 1, NODIR,     CLR_MAGENTA),
 SPELL("identify",        "bronze",      P_DIVINATION_SPELL, 30,  8, 5, 1, NODIR,     HI_COPPER),
 SPELL("detect treasure", "gray",        P_DIVINATION_SPELL, 25,  5, 4, 1, NODIR,     CLR_GRAY),
 SPELL("magic mapping",   "dusty",       P_DIVINATION_SPELL, 15,  7, 5, 1, NODIR,     HI_PAPER),
+SPELL("finger",		 "old",	    P_DIVINATION_SPELL,	20,  3, 2, 1, IMMEDIATE, CLR_BRIGHT_CYAN),
+SPELL("chemistry",	 "brand-new",   P_DIVINATION_SPELL,	25, 10, 1, 1, NODIR,  CLR_BRIGHT_GREEN),
 /* Enchantment spells */
 SPELL("confuse monster", "orange",      P_ENCHANTMENT_SPELL, 25,  2, 2, 1, IMMEDIATE, CLR_ORANGE),
 SPELL("slow monster",    "light green", P_ENCHANTMENT_SPELL, 25,  2, 2, 1, IMMEDIATE, CLR_BRIGHT_GREEN),
@@ -1149,8 +1200,8 @@
 WAND("probing",        "uranium",  30, 150, 1, IMMEDIATE, METAL,    HI_METAL),
 WAND("secret door detection", "balsa",
                                    30, 150, 1, NODIR,     WOOD,     HI_WOOD),
-WAND("slow monster",   "tin",      45, 150, 1, IMMEDIATE, METAL,    HI_METAL),
-WAND("speed monster",  "brass",    45, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
+WAND("slow monster",   "tin",      40, 150, 1, IMMEDIATE, METAL,    HI_METAL),
+WAND("speed monster",  "brass",    40, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
 WAND("striking",       "ebony",    65, 150, 1, IMMEDIATE, WOOD,     HI_WOOD),
 WAND("undead turning", "copper",   45, 150, 1, IMMEDIATE, COPPER,   HI_COPPER),
 WAND("draining",       "ceramic",  15, 175, 1, IMMEDIATE, MINERAL,  HI_MINERAL),
@@ -1162,17 +1213,20 @@
 WAND("teleportation",  "iridium",  45, 200, 1, IMMEDIATE, METAL,    CLR_BRIGHT_CYAN),
 WAND("create horde",   "black",     5, 300, 1, NODIR,     PLASTIC,  CLR_BLACK),
 WAND("extra healing",  "bronze",   30, 300, 1, IMMEDIATE, COPPER,   CLR_YELLOW),
+WAND("bugging",	"wooden",		 5, 500, 1, NODIR,     WOOD,	 HI_METAL),
 WAND("wishing",        "pine",      5, 500, 1, NODIR,     WOOD,     HI_WOOD),
+WAND("wonder",	"elven-lettered", 15, 500, 1, NODIR,     IRON,	 HI_METAL),
 /* Ray wands have to come last, and in this order. */
 /* This is extremely kludgy, but that's what zap.c expects. */
-WAND("digging",        "iron",     50, 150, 1, RAY,       IRON,     HI_METAL),
-WAND("magic missile",  "steel",    50, 150, 1, RAY,       IRON,     HI_METAL),
+WAND("digging",        "iron",     45, 150, 1, RAY,       IRON,     HI_METAL),
+WAND("magic missile",  "steel",    45, 150, 1, RAY,       IRON,     HI_METAL),
 WAND("fire",           "hexagonal",25, 175, 1, RAY,       IRON,     HI_METAL),
-WAND("cold",           "short",    30, 175, 1, RAY,       IRON,     HI_METAL),
-WAND("sleep",          "runed",    50, 175, 1, RAY,       IRON,     HI_METAL),
+WAND("cold",           "short",    25, 175, 1, RAY,       IRON,     HI_METAL),
+WAND("sleep",          "runed",    45, 175, 1, RAY,       IRON,     HI_METAL),
 WAND("death",          "long",      5, 500, 1, RAY,       IRON,     HI_METAL),
-WAND("lightning",      "curved",   20, 175, 1, RAY,       IRON,     HI_METAL),
+WAND("lightning",      "curved",   15, 175, 1, RAY,       IRON,     HI_METAL),
 WAND("fireball",       "octagonal", 5, 300, 1, RAY,       IRON,     HI_METAL),
+WAND("acid",		"bent",	15, 500, 1, RAY,       METAL,	 HI_METAL),
 WAND((char *)0,        "forked",    0, 150, 1, 0,         WOOD,     HI_WOOD),
 WAND((char *)0,        "spiked",    0, 150, 1, 0,         IRON,     HI_METAL),
 WAND((char *)0,        "jeweled",   0, 150, 1, 0,         IRON,     HI_MINERAL),
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\objnam.c SlashTNG-master\src\objnam.c
--- slashem-0.0.7E7F3\src\objnam.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\objnam.c	Sun Dec 25 16:16:13 2016
@@ -626,6 +626,10 @@
 		    bp += 4;
 		Strcpy(prefix, "the ");
 	} else Strcpy(prefix, "a ");
+	
+	if (obj->selfmade) {
+ 		Strcat(prefix,"selfmade ");
+ 	}
 
 #ifdef INVISIBLE_OBJECTS
 	if (obj->oinvis) Strcat(prefix,"invisible ");
@@ -1716,7 +1720,9 @@
 	    /* but don't singularize "gauntlets", "boots", "Eyes of the.." */
 	    if (BSTRNCMPI(bp, p-3, "Eye", 3) &&
 		BSTRNCMP(bp, p-4, "boot", 4) &&
-		BSTRNCMP(bp, p-8, "gauntlet", 8))
+		BSTRNCMP(bp, p-8, "gauntlet", 8)
+		&& BSTRNCMP(bp, p-7, "peanuts", 7)
+		)
 		while ((*p = *(p+1)) != 0) p++;
 	    return bp;
 	}
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\out.txt SlashTNG-master\src\out.txt
--- slashem-0.0.7E7F3\src\out.txt	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\out.txt	Thu Jan 05 19:05:16 2017
@@ -0,0 +1,712 @@
+mingw32-make: Nothing to be done for 'makefile.gcc'.
+copy /y		 ..\util\makedefs.c .
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omakedefs.o makedefs.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omonst.o monst.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oobjects.o objects.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oalloc.o alloc.c
+copy /y		 ..\util\panic.c .
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opanic.o panic.c
+gcc  -mconsole -omakedefs.exe makedefs.o  monst.o	 objects.o alloc.o panic.o 
+makedefs -v
+makedefs -o
+makedefs -p
+makedefs -m
+makedefs -z
+makedefs -f
+copy /y		 ..\sys\share\lev_yacc.c lev_yacc.c
+        1 file(s) copied.
+copy /y		 ..\sys\share\lev_comp.h ..\include\lev_comp.h
+        1 file(s) copied.
+echo /**/ >>..\include\lev_comp.h
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -olev_yacc.o lev_yacc.c
+copy /y		 ..\sys\share\lev_lex.c lev_flex.c
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -olev_flex.o lev_flex.c
+copy /y		 ..\util\lev_main.c .
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -olev_main.o lev_main.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odrawing.o drawing.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odecl.o decl.c
+gcc  -mconsole  -olev_comp.exe tmp.lnk
+copy /y		 ..\sys\share\dgn_yacc.c dgn_yacc.c
+        1 file(s) copied.
+copy /y		 ..\sys\share\dgn_comp.h ..\include\dgn_comp.h
+        1 file(s) copied.
+echo /**/ >>..\include\dgn_comp.h
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odgn_yacc.o dgn_yacc.c
+copy /y		 ..\sys\share\dgn_lex.c dgn_flex.c
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odgn_flex.o dgn_flex.c
+copy /y		 ..\util\dgn_main.c .
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odgn_main.o dgn_main.c
+gcc  -mconsole  -odgn_comp.exe tmp.lnk
+copy /y		 ..\util\recover.c .
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -orecover.o recover.c
+gcc  -mconsole -orecover.exe recover.o
+echo utilities made > utility.tag
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oallmain.o allmain.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oapply.o apply.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oartifact.o artifact.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oattrib.o attrib.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oball.o ball.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -obones.o bones.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oborg.o borg.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -obotl.o botl.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ocmd.o cmd.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odbridge.o dbridge.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odetect.o detect.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odisplay.o display.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odo.o do.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odo_name.o do_name.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odo_wear.o do_wear.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odog.o dog.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odogmove.o dogmove.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odokick.o dokick.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odothrow.o dothrow.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odungeon.o dungeon.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oeat.o eat.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oend.o end.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oengrave.o engrave.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oexper.o exper.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oexplode.o explode.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oextralev.o extralev.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ofiles.o files.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ofountain.o fountain.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ohack.o hack.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ohacklib.o hacklib.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oinvent.o invent.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -olock.o lock.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omail.o mail.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opcmain.o ../sys/share/pcmain.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omakemon.o makemon.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omcastu.o mcastu.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omhitm.o mhitm.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omhitu.o mhitu.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ominion.o minion.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omkmap.o mkmap.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omklev.o mklev.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omkmaze.o mkmaze.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omkobj.o mkobj.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omkroom.o mkroom.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omon.o mon.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omondata.o mondata.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omonmove.o monmove.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omonstr.o monstr.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omplayer.o mplayer.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omthrowu.o mthrowu.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omuse.o muse.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omusic.o music.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oo_init.o o_init.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oobjnam.o objnam.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ooptions.o options.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opickup.o pickup.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opline.o pline.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opolyself.o polyself.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opotion.o potion.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oquest.o quest.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oquestpgr.o questpgr.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opager.o pager.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opray.o pray.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opriest.o priest.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oread.o read.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -orect.o rect.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -orestore.o restore.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -orip.o rip.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ornd.o rnd.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -orole.o role.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -orumors.o rumors.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -osave.o save.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oshk.o shk.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oshknam.o shknam.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -osit.o sit.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -osounds.o sounds.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -osp_lev.o sp_lev.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ospell.o spell.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -osteal.o steal.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -osteed.o steed.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -otimeout.o timeout.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -otopten.o topten.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -otrack.o track.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -otrap.o trap.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ou_init.o u_init.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ouhitm.o uhitm.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ovault.o vault.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ovision.o vision.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ovis_tab.o vis_tab.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oweapon.o weapon.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -owere.o were.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -owield.o wield.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -owindows.o windows.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -owizard.o wizard.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oworm.o worm.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oworn.o worn.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -owrite.o write.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ozap.o zap.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -olight.o light.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odlb.o dlb.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odig.o dig.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oteleport.o teleport.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oregion.o region.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -otech.o tech.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ogypsy.o gypsy.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -omapglyph.o mapglyph.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -owinnt.o ../sys/winnt/winnt.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opcsys.o ../sys/share/pcsys.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -opcunix.o ../sys/share/pcunix.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -onttty.o ../sys/winnt/nttty.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -orandom.o ../sys/share/random.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ontsound.o ../sys/winnt/ntsound.c
+copy /y		 ..\sys\share\nhlan.c .
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -onhlan.o nhlan.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -oversion.o version.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -ogetline.o ../win/tty/getline.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -otermcap.o ../win/tty/termcap.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -otopl.o ../win/tty/topl.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -owintty.o ../win/tty/wintty.c
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -DBUILD_DLL -onhdefkey.o ../sys/winnt/nhdefkey.c
+Linking \games\SlashTNG/nhdefkey.dll
+gcc -mms-bitfields -shared -Wl,--export-all-symbols \
+	-Wl,--add-stdcall-alias -o \games\SlashTNG/nhdefkey.dll nhdefkey.o
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -DBUILD_DLL -onh340key.o ../sys/winnt/nh340key.c
+Linking \games\SlashTNG/nh340key.dll
+gcc -mms-bitfields -shared -Wl,--export-all-symbols \
+	-Wl,--add-stdcall-alias -o \games\SlashTNG/nh340key.dll nh340key.o
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -DBUILD_DLL -onhraykey.o ../sys/winnt/nhraykey.c
+Linking \games\SlashTNG/nhraykey.dll
+gcc -mms-bitfields -shared -Wl,--export-all-symbols \
+	-Wl,--add-stdcall-alias -o \games\SlashTNG/nhraykey.dll nhraykey.o
+gcc   -oSlashTNG.exe SlashTNG.lnk
+copy /y		 SlashTNG.exe \games\SlashTNG\SlashTNG.exe
+        1 file(s) copied.
+del 		 SlashTNG.exe
+copy /y		 ..\util\dlb_main.c .
+        1 file(s) copied.
+gcc -mms-bitfields -c -O -I../include -DDLB -DWIN32CON -odlb_main.o dlb_main.c
+gcc  -mconsole -odlb_main.exe dlb_main.o dlb.o alloc.o panic.o 
+copy /y		 dlb_main.exe ..\dat\dlb_main.exe
+        1 file(s) copied.
+makedefs -d
+makedefs -r
+makedefs -e
+dgn_comp ..\dat\dungeon.pdf
+makedefs -h
+makedefs -q
+lev_comp ../dat/beholder.des
+lev_comp ../dat/bigroom.des
+lev_comp ../dat/blkmar.des
+lev_comp ../dat/castle.des
+lev_comp ../dat/grund.des
+lev_comp ../dat/dragons.des
+lev_comp ../dat/endgame.des
+lev_comp ../dat/gehennom.des
+lev_comp ../dat/giants.des
+lev_comp ../dat/guild.des
+lev_comp ../dat/knox.des
+lev_comp ../dat/kobold-1.des
+lev_comp ../dat/kobold-2.des
+lev_comp ../dat/lich.des
+lev_comp ../dat/mall-1.des
+lev_comp ../dat/mall-2.des
+lev_comp ../dat/medusa.des
+lev_comp ../dat/sokoban.des
+lev_comp ../dat/mines.des
+lev_comp ../dat/mtemple.des
+lev_comp ../dat/newmall.des
+lev_comp ../dat/nymph.des
+lev_comp ../dat/oracle.des
+lev_comp ../dat/rats.des
+lev_comp ../dat/sea.des
+lev_comp ../dat/spiders.des
+lev_comp ../dat/stor-1.des
+lev_comp ../dat/stor-2.des
+lev_comp ../dat/stor-3.des
+lev_comp ../dat/tomb.des
+lev_comp ../dat/tower.des
+lev_comp ../dat/yendor.des
+lev_comp ../dat/arch.des
+lev_comp ../dat/barb.des
+lev_comp ../dat/caveman.des
+lev_comp ../dat/flame.des
+lev_comp ../dat/healer.des
+lev_comp ../dat/ice.des
+lev_comp ../dat/knight.des
+lev_comp ../dat/monk.des
+lev_comp ../dat/necro.des
+lev_comp ../dat/priest.des
+lev_comp ../dat/rogue.des
+lev_comp ../dat/samurai.des
+lev_comp ../dat/tourist.des
+lev_comp ../dat/slayer.des
+lev_comp ../dat/valkyrie.des
+lev_comp ../dat/wizard.des
+lev_comp ../dat/yeoman.des
+lev_comp ../dat/frnknstn.des
+lev_comp ../dat/nightmar.des
+lev_comp ../dat/ranger.des
+lev_comp ../dat/geek.des
+lev_comp ../dat/compu.des
+lev_comp ../dat/forge.des
+lev_comp ../dat/hitch.des
+lev_comp ../dat/key.des
+copy /y		 *.lev ..\dat
+air.lev
+Arc-fila.lev
+Arc-filb.lev
+Arc-goal.lev
+Arc-loca.lev
+Arc-strt.lev
+asmodeus.lev
+astral.lev
+baalz.lev
+Bar-fila.lev
+Bar-filb.lev
+Bar-goal.lev
+Bar-loca.lev
+Bar-strt.lev
+beholder.lev
+bigrm-1.lev
+bigrm-2.lev
+bigrm-3.lev
+bigrm-4.lev
+bigrm-5.lev
+blkmar.lev
+castle.lev
+Cav-fila.lev
+Cav-filb.lev
+Cav-goal.lev
+Cav-loca.lev
+Cav-strt.lev
+cav2fill.lev
+compu.lev
+compuE.lev
+compuX.lev
+demogorg.lev
+dispater.lev
+dragons.lev
+earth.lev
+fakewiz1.lev
+fakewiz2.lev
+fire.lev
+Fla-fila.lev
+Fla-filb.lev
+Fla-goal.lev
+Fla-loca.lev
+Fla-strt.lev
+forge.lev
+forgeX.lev
+frnknstn.lev
+Gee-fila.lev
+Gee-filb.lev
+Gee-goal.lev
+Gee-loca.lev
+Gee-strt.lev
+geryon.lev
+grund-1.lev
+grund-2.lev
+grund-3.lev
+guild.lev
+Hea-fila.lev
+Hea-filb.lev
+Hea-goal.lev
+Hea-loca.lev
+Hea-strt.lev
+hitch.lev
+hitchE.lev
+hitchX.lev
+Ice-fila.lev
+Ice-filb.lev
+Ice-goal.lev
+Ice-loca.lev
+Ice-strt.lev
+juiblex.lev
+key.lev
+keyE.lev
+keyX.lev
+Kni-fila.lev
+Kni-filb.lev
+Kni-goal.lev
+Kni-loca.lev
+Kni-strt.lev
+knox.lev
+kobold-1.lev
+kobold-2.lev
+lich.lev
+mall-1.lev
+mall-2.lev
+mall.lev
+medusa-1.lev
+medusa-2.lev
+medusa-3.lev
+medusa-4.lev
+minefill.lev
+mineking.lev
+minend-1.lev
+minend-2.lev
+minend-3.lev
+minetn-1.lev
+minetn-2.lev
+minetn-3.lev
+minetn-4.lev
+minetn-5.lev
+minetn-6.lev
+minetn-7.lev
+Mon-fila.lev
+Mon-filb.lev
+Mon-goal.lev
+Mon-loca.lev
+Mon-strt.lev
+mtemple.lev
+Nec-fila.lev
+Nec-filb.lev
+Nec-goal.lev
+Nec-loca.lev
+Nec-strt.lev
+nightmar.lev
+nymph.lev
+oracle.lev
+orcus.lev
+Pri-fila.lev
+Pri-filb.lev
+Pri-goal.lev
+Pri-loca.lev
+Pri-strt.lev
+Ran-fila.lev
+Ran-filb.lev
+Ran-goal.lev
+Ran-loca.lev
+Ran-strt.lev
+rats.lev
+Rog-fila.lev
+Rog-filb.lev
+Rog-goal.lev
+Rog-loca.lev
+Rog-strt.lev
+Sam-fila.lev
+Sam-filb.lev
+Sam-goal.lev
+Sam-loca.lev
+Sam-strt.lev
+sanctum.lev
+school.lev
+sea.lev
+soko1-1.lev
+soko1-2.lev
+soko1-3.lev
+soko1-4.lev
+soko2-1.lev
+soko2-2.lev
+soko2-3.lev
+soko2-4.lev
+soko2-5.lev
+soko2-6.lev
+soko2-7.lev
+soko3-1.lev
+soko3-2.lev
+soko3-3.lev
+soko3-4.lev
+soko3-5.lev
+soko3-6.lev
+soko3-7.lev
+soko4-1.lev
+soko4-2.lev
+soko4-3.lev
+soko4-4.lev
+soko4-5.lev
+spiders.lev
+stor-1.lev
+stor-2.lev
+stor-3.lev
+tomb.lev
+Tou-fila.lev
+Tou-filb.lev
+Tou-goal.lev
+Tou-loca.lev
+Tou-strt.lev
+tower1.lev
+tower2.lev
+tower3.lev
+Und-fila.lev
+Und-filb.lev
+Und-goal.lev
+Und-loca.lev
+Und-strt.lev
+Val-fila.lev
+Val-filb.lev
+Val-goal.lev
+Val-loca.lev
+Val-strt.lev
+valley.lev
+water.lev
+Wiz-fila.lev
+Wiz-filb.lev
+Wiz-goal.lev
+Wiz-loca.lev
+Wiz-strt.lev
+wizard1.lev
+wizard2.lev
+wizard3.lev
+yeenoghu.lev
+Yeo-fila.lev
+Yeo-filb.lev
+Yeo-goal.lev
+Yeo-loca.lev
+Yeo-strt.lev
+      202 file(s) copied.
+echo sp_levs done > sp_lev.tag
+echo data >..\dat\dlb.lst
+echo oracles >>..\dat\dlb.lst
+echo ttyoptions >>..\dat\dlb.lst
+echo rumors >>..\dat\dlb.lst
+echo help >>..\dat\dlb.lst
+echo hh >>..\dat\dlb.lst
+echo cmdhelp >>..\dat\dlb.lst
+echo history >>..\dat\dlb.lst
+echo opthelp >>..\dat\dlb.lst
+echo wizhelp >>..\dat\dlb.lst
+echo gypsy.txt >>..\dat\dlb.lst
+echo license >>..\dat\dlb.lst
+dlb_main cvCIf ..\dat dlb.lst nhshare
+data 
+oracles 
+ttyoptions 
+rumors 
+help 
+hh 
+cmdhelp 
+history 
+opthelp 
+wizhelp 
+gypsy.txt 
+license 
+echo dungeon > ..\dat\dlb2.lst
+echo quest.dat >>..\dat\dlb2.lst
+dir /l/b/-p	 ..\dat\*.lev >>..\dat\dlb2.lst
+dlb_main cvCIf ..\dat dlb2.lst nhushare
+dungeon 
+quest.dat 
+air.lev
+arc-fila.lev
+arc-filb.lev
+arc-goal.lev
+arc-loca.lev
+arc-strt.lev
+asmodeus.lev
+astral.lev
+baalz.lev
+bar-fila.lev
+bar-filb.lev
+bar-goal.lev
+bar-loca.lev
+bar-strt.lev
+beholder.lev
+bigrm-1.lev
+bigrm-2.lev
+bigrm-3.lev
+bigrm-4.lev
+bigrm-5.lev
+blkmar.lev
+castle.lev
+cav-fila.lev
+cav-filb.lev
+cav-goal.lev
+cav-loca.lev
+cav-strt.lev
+cav2fill.lev
+compu.lev
+compue.lev
+compux.lev
+demogorg.lev
+dispater.lev
+dragons.lev
+earth.lev
+fakewiz1.lev
+fakewiz2.lev
+fire.lev
+fla-fila.lev
+fla-filb.lev
+fla-goal.lev
+fla-loca.lev
+fla-strt.lev
+forge.lev
+forgex.lev
+frnknstn.lev
+gee-fila.lev
+gee-filb.lev
+gee-goal.lev
+gee-loca.lev
+gee-strt.lev
+geryon.lev
+grund-1.lev
+grund-2.lev
+grund-3.lev
+guild.lev
+hea-fila.lev
+hea-filb.lev
+hea-goal.lev
+hea-loca.lev
+hea-strt.lev
+hitch.lev
+hitche.lev
+hitchx.lev
+ice-fila.lev
+ice-filb.lev
+ice-goal.lev
+ice-loca.lev
+ice-strt.lev
+juiblex.lev
+key.lev
+keye.lev
+keyx.lev
+kni-fila.lev
+kni-filb.lev
+kni-goal.lev
+kni-loca.lev
+kni-strt.lev
+knox.lev
+kobold-1.lev
+kobold-2.lev
+lich.lev
+mall-1.lev
+mall-2.lev
+mall.lev
+medusa-1.lev
+medusa-2.lev
+medusa-3.lev
+medusa-4.lev
+minefill.lev
+mineking.lev
+minend-1.lev
+minend-2.lev
+minend-3.lev
+minetn-1.lev
+minetn-2.lev
+minetn-3.lev
+minetn-4.lev
+minetn-5.lev
+minetn-6.lev
+minetn-7.lev
+mon-fila.lev
+mon-filb.lev
+mon-goal.lev
+mon-loca.lev
+mon-strt.lev
+mtemple.lev
+nec-fila.lev
+nec-filb.lev
+nec-goal.lev
+nec-loca.lev
+nec-strt.lev
+nightmar.lev
+nymph.lev
+oracle.lev
+orcus.lev
+pri-fila.lev
+pri-filb.lev
+pri-goal.lev
+pri-loca.lev
+pri-strt.lev
+ran-fila.lev
+ran-filb.lev
+ran-goal.lev
+ran-loca.lev
+ran-strt.lev
+rats.lev
+rog-fila.lev
+rog-filb.lev
+rog-goal.lev
+rog-loca.lev
+rog-strt.lev
+sam-fila.lev
+sam-filb.lev
+sam-goal.lev
+sam-loca.lev
+sam-strt.lev
+sanctum.lev
+school.lev
+sea.lev
+soko1-1.lev
+soko1-2.lev
+soko1-3.lev
+soko1-4.lev
+soko2-1.lev
+soko2-2.lev
+soko2-3.lev
+soko2-4.lev
+soko2-5.lev
+soko2-6.lev
+soko2-7.lev
+soko3-1.lev
+soko3-2.lev
+soko3-3.lev
+soko3-4.lev
+soko3-5.lev
+soko3-6.lev
+soko3-7.lev
+soko4-1.lev
+soko4-2.lev
+soko4-3.lev
+soko4-4.lev
+soko4-5.lev
+spiders.lev
+stor-1.lev
+stor-2.lev
+stor-3.lev
+tomb.lev
+tou-fila.lev
+tou-filb.lev
+tou-goal.lev
+tou-loca.lev
+tou-strt.lev
+tower1.lev
+tower2.lev
+tower3.lev
+und-fila.lev
+und-filb.lev
+und-goal.lev
+und-loca.lev
+und-strt.lev
+val-fila.lev
+val-filb.lev
+val-goal.lev
+val-loca.lev
+val-strt.lev
+valley.lev
+water.lev
+wiz-fila.lev
+wiz-filb.lev
+wiz-goal.lev
+wiz-loca.lev
+wiz-strt.lev
+wizard1.lev
+wizard2.lev
+wizard3.lev
+yeenoghu.lev
+yeo-fila.lev
+yeo-filb.lev
+yeo-goal.lev
+yeo-loca.lev
+yeo-strt.lev
+copy /y		 ..\dat\nhshare				\games\SlashTNG
+        1 file(s) copied.
+copy /y		 ..\dat\nhushare				\games\SlashTNG
+        1 file(s) copied.
+copy /y		 ..\dat\license				\games\SlashTNG
+        1 file(s) copied.
+copy /y		 ..\dat\opthelp				\games\SlashTNG
+        1 file(s) copied.
+copy /y		 ..\sys\winnt\defaults.nh		\games\SlashTNG\defaults.nh
+        1 file(s) copied.
+copy /y		 recover.exe			\games\SlashTNG
+        1 file(s) copied.
+copy /y		 ..\doc\guidebook.txt	\games\SlashTNG
+        1 file(s) copied.
+copy /y		 ..\doc\recover.txt		\games\SlashTNG
+        1 file(s) copied.
+copy /y		 ..\doc\slashem.txt		\games\SlashTNG
+        1 file(s) copied.
+echo install done > install.tag
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\panic.c SlashTNG-master\src\panic.c
--- slashem-0.0.7E7F3\src\panic.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\panic.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,61 @@
+/*	SCCS Id: @(#)panic.c	3.4	1994/03/02	*/
+/* Copyright (c) Stichting Mathematisch Centrum, Amsterdam, 1985. */
+/* NetHack may be freely redistributed.  See license for details. */
+
+/*
+ *	This code was adapted from the code in end.c to run in a standalone
+ *	mode for the makedefs / drg code.
+ */
+
+#define NEED_VARARGS
+#include "config.h"
+
+#ifdef AZTEC
+#define abort() exit()
+#endif
+#ifdef VMS
+extern void NDECL(vms_abort);
+#endif
+
+/*VARARGS1*/
+boolean panicking;
+void VDECL(panic, (char *,...));
+
+void
+panic VA_DECL(char *,str)
+	VA_START(str);
+	VA_INIT(str, char *);
+	if(panicking++)
+#ifdef SYSV
+	    (void)
+#endif
+		abort();    /* avoid loops - this should never happen*/
+
+	(void) fputs(" ERROR:  ", stderr);
+	Vfprintf(stderr, str, VA_ARGS);
+	(void) fflush(stderr);
+#if defined(UNIX) || defined(VMS)
+# ifdef SYSV
+		(void)
+# endif
+		    abort();	/* generate core dump */
+#endif
+	VA_END();
+	exit(EXIT_FAILURE);		/* redundant */
+	return;
+}
+
+#ifdef ALLOCA_HACK
+/*
+ * In case bison-generated foo_yacc.c tries to use alloca(); if we don't
+ * have it then just use malloc() instead.  This may not work on some
+ * systems, but they should either use yacc or get a real alloca routine.
+ */
+long *alloca(cnt)
+unsigned cnt;
+{
+	return cnt ? malloc(cnt) : (long *)0;
+}
+#endif
+
+/*panic.c*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\potion.c SlashTNG-master\src\potion.c
--- slashem-0.0.7E7F3\src\potion.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\potion.c	Sun Jan 01 14:56:55 2017
@@ -311,6 +311,21 @@
 	return changed;
 }
 
+/* For game balance we don't always want a bottle made. */
+static void make_bottle(boolean certain)
+{
+	struct obj *otmp;
+
+	if (certain || !rn2(8)) {
+		otmp = mksobj(BOTTLE,TRUE,TRUE);
+/* We do not transfer curses/blessings, assuming that these a property
+** of the actual potion, not the bottle. */
+		otmp->cursed = otmp->blessed = FALSE;
+		You("are left with the empty bottle.");
+		hold_another_object(otmp,"Oops! It drops to the floor!",(const char *) 0, (const char *) 0);
+	}
+}
+
 STATIC_OVL void
 ghost_from_bottle()
 {
@@ -318,6 +333,7 @@
 
 	if (!mtmp) {
 		pline("This bottle turns out to be empty.");
+		make_bottle(TRUE);
 		return;
 	}
 	if (Blind) {
@@ -330,6 +346,7 @@
 	    You("are frightened to death, and unable to move.");
 	nomul(-3);
 	nomovemsg = "You regain your composure.";
+	make_bottle(FALSE);
 }
 
 /* "Quaffing is like drinking, except you spill more."  -- Terry Pratchett
@@ -426,7 +443,8 @@
 		} else if(!objects[otmp->otyp].oc_uname)
 			docall(otmp);
 	}
-	if (carried(otmp)) useup(otmp);
+	if (carried(otmp)) {useup(otmp);
+		make_bottle(FALSE);}
 	else if (mcarried(otmp)) m_useup(otmp->ocarry, otmp);
 	else if (otmp->where == OBJ_FLOOR) useupf(otmp, 1L);
 	else dealloc_obj(otmp);		/* Dummy potion */
@@ -440,7 +458,28 @@
 {
 	register int i, ii, lim;
 
+	if (otmp->selfmade && !(5-rnl(6))) {
+		pline("That potion was bad!");
+		switch(rnl(5)) {
+			case 0:
+			case 1:
+			case 2:
+				break;
+
+			case 3:
+				if (Poison_resistance) break;
+				You("feel sick.");
+				losehp(rnd(20),"bad chemical knowledge",KILLED_BY);
+				break;
 
+			case 4:
+				make_sick(Sick ? Sick/2L + 1L : (long)rn1(ACURR(A_CON),20),
+			"bad potion", TRUE, SICK_VOMITABLE);
+				break;
+		}
+		return(-1);
+	}
+	
 	/* KMH, balance patch -- this is too cruel for novices */
 #if 0
 	/* sometimes your constitution can be a little _too_ high! */
@@ -1082,6 +1121,106 @@
 		    make_vomiting(Vomiting+d(10,8), TRUE);
 		}
 		break;
+	case POT_CYANIDE:
+		make_sick(Sick ? Sick/2L + 1L : 20, "cyanide potion", TRUE, SICK_VOMITABLE);
+		losestr(rnd(10));
+		pline(Hallucination ? "This tastes a little bitter; maybe it's some sort of medicine?" : "CN(-) + HCl <==> HCN + Cl(-) ");
+			losehp(d(otmp->cursed ? 4 : 2, otmp->blessed ? 8 : 16),
+					"drinking cyanide", KILLED_BY_AN);
+		break;
+	case POT_RADIUM:
+		pline(Hallucination ? "For some reason, that potion tastes... orange. Yes, the color orange, not the fruit." : "This was radioactive radium!");
+		make_sick(Sick ? Sick/2L + 1L : 50,"radium potion", TRUE, SICK_VOMITABLE);
+		break;
+	case POT_JOLT_COLA:
+		You("are jolted back to your senses.");
+		if (otmp->cursed) {
+			You("feel bad.");
+			u.uhp -= rn2(10);
+			if (u.uhp < 1) u.uhp = 1;	/* can't kill you */
+		} else {
+			if (Hallucination) make_hallucinated(0L,FALSE,0L);
+			if (otmp->blessed && !rn2(10)) {
+				pluslvl(FALSE);
+			} else {
+				u.uhp += 5;
+				if (u.uhp > u.uhpmax) {
+					if (otmp->blessed) u.uhpmax++;
+					u.uhp = u.uhpmax;
+				}
+			}
+		}
+		break;
+	case POT_EXTREME_POWER:
+	{
+		int x;
+
+		x = rn2(otmp->blessed ? 20 : 10) + 1;
+		if (otmp->cursed) {
+			unkn++;
+			You("have a bad taste in your mouth.");
+			if (x >= u.uhp) x = u.uhp-1;
+			losehp(x,"",0);		/* can't kill you */
+			u.uhpmax -= x;
+			break;
+		}
+		You("feel %spowerful!",otmp->blessed ? "very " : "");
+		u.uhp += x;
+		u.uhpmax += x;
+	} break;
+	case POT_RECOVERY: 
+		if (otmp->cursed) {
+			unkn++;
+			You("decide to recover yourself.");
+			pline("Nothing happens, however.");
+			break;
+		}	
+		if (otmp->blessed) u.uhpmax += rn2(5);
+		u.uhp = u.uhpmax;
+		You("feel much, much better.");
+		break;
+	case POT_HEROISM: {
+		/* a total overhaul ... */
+		int time;
+
+		if (otmp->cursed) {
+			You("feel cowardly.");
+
+		    set_itimeout(&Invulnerable, 0);
+			break;
+		}
+		You("are surrounded by a strong shimmering aura.");
+		time = 10 + rn2(otmp->blessed ? 20 : 10);
+		incr_itimeout(&Invulnerable, time);
+		incr_itimeout(&HFast, time);
+		incr_itimeout(&HSee_invisible, time);
+		if (!rnl(3)) make_blinded(Blinded+time,TRUE);	
+		u.uhpmax += rn2(5);
+		u.uhp = u.uhpmax;
+		} break;
+	case POT_PAN_GALACTIC_GARGLE_BLASTE:
+		You("feel like having your brain smashed out by a slice of lemon wrapped");
+		pline("around a large gold brick.");
+		if (otmp->cursed || !rn2(4)) {
+			adjattrib(A_INT,-1,-1);
+		}
+		make_confused(itimeout_incr(HConfusion, d(6,7)), FALSE);	/* 6d7 is max. 42 */
+
+		if (otmp->blessed || !rn2(4) || u.ulycn != -1) {
+			if (u.ulycn != -1 && !Race_if(PM_HUMAN_WEREWOLF)) {
+				You("feel purified.");
+				if (!Unchanging && (u.umonnum == u.ulycn) ) {
+					rehumanize();
+				}
+				u.ulycn = -1;
+			}
+			You("feel remembered of %s.",
+			Hallucination ? "Zaphod Breeblebrox"
+				      : "very, very strong liquor.");
+			if (u.uhp < u.uhpmax) u.uhp++;
+			pline("Strangely, you feel better that before.");
+		}
+		break;
 	default:
 		impossible("What a funny potion! (%u)", otmp->otyp);
 		return(0);
@@ -1274,6 +1413,27 @@
 		if (canseemon(mon))
 		    pline("%s looks rather ill.", Monnam(mon));
 		break;
+	case POT_CYANIDE:
+		if (!resist(mon,POTION_CLASS,0,NOTELL)) {
+			if (mon->mhp < 10) {
+				killed(mon);
+			} else {
+				mon->mhp /= 5;
+				if (mon->mhp < 1) killed(mon);
+			}
+			if (canseemon(mon)) {
+				pline("%s looks deathly sick.", Monnam(mon));
+			}
+
+		}
+		break;
+	case POT_RADIUM:
+ 		if (!resist(mon,POTION_CLASS,0,NOTELL)) {
+ 			mon->mhp /= 4;
+ 			if (mon->mhp < 1) killed(mon);
+ 		}
+ 		if (canseemon(mon)) pline("%s looks very sick.",Monnam(mon));
+ 		break;
 	case POT_CONFUSION:
 	case POT_BOOZE:
 		if(!resist(mon, POTION_CLASS, 0, NOTELL))  mon->mconf = TRUE;
@@ -1563,6 +1723,21 @@
 			exercise(A_CON, FALSE);
 		}
 		break;
+	case POT_CYANIDE:
+		if (u.uhp < 10) {
+			/* DEATH */
+			losehp(10,"a potion of cyanide",KILLED_BY);
+		} else {
+			u.uhp /= 5;
+			if (u.uhp < 1) u.uhp = 1;		/* be generous */
+		}
+		You("feel very, very sick!");
+		break;
+	case POT_RADIUM:
+		u.uhp /= 4;
+		if (u.uhp < 1) u.uhp = 1;		/* be generous */
+		You("feel very sick!");
+		break;
 	case POT_HALLUCINATION:
 		You("have a momentary vision.");
 		break;
@@ -2054,6 +2229,13 @@
 		break;
 	    case TOOL_CLASS:
 		/* Artifacts aren't downgraded by amnesia */
+		if (obj->otyp == BOTTLE) {
+			pline("The bottle%s filled with water.",obj->quan > 1 ? "s are" : " is");
+			obj->oclass = POTION_CLASS;
+			obj->otyp = POT_WATER;
+			/* retain curses/blessings etc. */
+			return(TRUE);
+		}
 		if (amnesia && !obj->oartifact) {
 		    switch (obj->otyp) {
 			case MAGIC_LAMP:
@@ -2512,7 +2694,7 @@
 		default:
 			/* This object is not upgradable */
 			return 0;
-	}
+	}/*
 
 	if (artifact_name(ONAME(obj), &otyp2) && otyp2 == obj->otyp) {
 	    int n;
@@ -2522,10 +2704,10 @@
 	    n = rn2((int)strlen(buf));
 	    c1 = lowc(buf[n]);
 	    do c2 = 'a' + rn2('z'-'a'); while (c1 == c2);
-	    buf[n] = (buf[n] == c1) ? c2 : highc(c2);  /* keep same case */
+	    buf[n] = (buf[n] == c1) ? c2 : highc(c2);  /* keep same case * forward space was here
 	    if (oname(obj, buf) != obj)
 		panic("upgrade_obj: unhandled realloc");
-	}
+	}*/
 
 	if ((!carried(obj) || obj->unpaid) &&
 #ifdef UNPOLYPILE
@@ -3186,6 +3368,7 @@
 #endif
 	if(!(mtmp = makemon(&mons[genie_type], u.ux, u.uy, NO_MM_FLAGS))){
 		pline("It turns out to be empty.");
+		make_bottle(TRUE);
 		return;
 	}
 
@@ -3221,6 +3404,7 @@
 	default: verbalize("You disturbed me, fool!");
 		break;
 	}
+	make_bottle(FALSE);
 }
 
 /* clone a gremlin or mold (2nd arg non-null implies heat as the trigger);
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\priest.c SlashTNG-master\src\priest.c
--- slashem-0.0.7E7F3\src\priest.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\priest.c	Sun Jan 01 13:31:28 2017
@@ -102,7 +102,7 @@
 			    pline("%s picks up %s.", Monnam(mtmp),
 				distant_name(ib,doname));
 			obj_extract_self(ib);
-			(void) mpickobj(mtmp, ib);
+			(void) mpickobj(mtmp, ib, FALSE);
 		}
 		return(1);
 	}
@@ -218,7 +218,7 @@
 		}
 		/* 2 to 4 spellbooks */
 		for (cnt = rn1(3,2); cnt > 0; --cnt) {
-		    (void) mpickobj(priest, mkobj(SPBOOK_CLASS, FALSE));
+		    (void) mpickobj(priest, mkobj(SPBOOK_CLASS, FALSE), TRUE);
 		}
 		/* [ALI] Upgrade existing robe or aquire new */
 		if (rn2(2) || (otmp = which_armor(priest, W_ARM)) == 0) {
@@ -229,7 +229,7 @@
 			uncurse(obj);
 		    else
 			curse(obj);
-		    (void) mpickobj(priest, obj);
+		    (void) mpickobj(priest, obj, TRUE);
 		    m_dowear(priest, TRUE);
 		    if (!(obj->owornmask & W_ARM)) {
 			obj_extract_self(obj);
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\read.c SlashTNG-master\src\read.c
--- slashem-0.0.7E7F3\src\read.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\read.c	Mon Jan 02 19:16:00 2017
@@ -42,6 +42,7 @@
 static void FDECL(randomize,(int *, int));
 static void FDECL(forget_single_object, (int));
 static void FDECL(maybe_tame, (struct monst *,struct obj *));
+static void FDECL(undo_genocide,(void));
 
 STATIC_PTR void FDECL(set_lit, (int,int,genericptr_t));
 
@@ -141,8 +142,6 @@
     "I explored the Dungeons of Doom and all I got was this lousy T-shirt!",
     "Is that Mjollnir in your pocket or are you just happy to see me?",
     "It's not the size of your sword, it's how #enhance'd you are with it.",
-    "Madame Elvira's House O' Succubi Lifetime Customer",
-    "Madame Elvira's House O' Succubi Employee of the Month",
     "Ludios Vault Guards Do It In Small, Dark Rooms",
     "Yendor Military Soldiers Do It In Large Groups",
     "I survived Yendor Military Boot Camp",
@@ -154,6 +153,8 @@
     "Don't Panic",				/* HHGTTG */
     "Furinkan High School Athletic Dept.",	/* Ranma 1/2 */
     "Hel-LOOO, Nurse!",			/* Animaniacs */
+    "Madame Elvira's House O' Succubi Lifetime Customer",
+    "Madame Elvira's House O' Succubi Employee of the Month",
 	    };
 	    char buf[BUFSZ];
 	    int erosion;
@@ -174,6 +175,8 @@
 	    pline("\"%s\"", buf);
 	    return 1;
 #endif	/* TOURIST */
+	} else if (scroll->otyp == PACK_OF_FLOPPIES) {
+		use_floppies(scroll);
 	} else if (scroll->oclass != SCROLL_CLASS
 		&& scroll->oclass != SPBOOK_CLASS) {
 	    pline(silly_thing_to, "read");
@@ -582,6 +585,7 @@
 	    case HORN_OF_PLENTY:
 	    case BAG_OF_TRICKS:
 	    case CAN_OF_GREASE:
+		case CHEMISTRY_SET:
 		if (is_cursed) stripspe(obj);
 		else if (is_blessed) {
 		    if (obj->spe <= 10)
@@ -1588,6 +1592,124 @@
 		}
 		punish(sobj);
 		break;
+	case SCR_MASS_MURDER:
+		known = TRUE;
+		You("have found a scroll of mass murder.");
+		do_genocide(sobj->cursed ? 8 : 9);
+		if (sobj->blessed) { /* improvement by Amy */
+			do_genocide(9);
+		}
+		break;
+	case SCR_UNDO_GENOCIDE:
+		known = TRUE;
+		You("have found a scroll of undo genocide.");
+		undo_genocide();
+		break;
+	case SCR_REVERSE_IDENTIFY:
+		known = TRUE;
+		You("have found a scroll of reverse identify.");
+		{
+			int i,j,n;
+			long oldgold;
+			char buf[BUFSZ];
+
+			n = (sobj->blessed) ? rn2(5)+1 : (sobj->cursed) ? 1 : rnd(3);
+			for (i=0;i<n;i++) {
+				for (j=0;j<=5;j++) {
+					if (j >= 5) {
+						pline(thats_enough_tries);
+						goto revid_end;
+					}
+					getlin("What do you want to identify?",buf);
+					if (buf[0] == 0) continue;
+					oldgold = u.ugold;
+					otmp = readobjnam(buf, (struct obj *)0, TRUE);
+					if (u.ugold != oldgold) {
+pline("Don't you date cheat me again! -- Your fault!");
+						/* Make them pay */
+						u.ugold = oldgold / 2;
+						continue;
+					}
+					if (otmp == &zeroobj || otmp == (struct obj *) 0) {
+						pline("That doesn't exist.");
+						continue;
+					}
+					break;
+				}
+				strcpy(buf,xname(otmp));
+				makeknown(otmp->otyp);
+				pline("The %s is a %s.",buf,xname(otmp));
+				/*if (otmp->oartifact) artifact_unexist(otmp);*/
+			}
+		}
+revid_end:
+		break;
+	case SCR_WISHING: 
+		known = TRUE;
+		pline("You have found a scroll of wishing!");
+		if (sobj->cursed || (!sobj->blessed && Luck+rn2(5) < 0)) {
+			pline("Unfortunately, nothing happens.");
+			break;
+		}
+		makewish();
+		break;
+	case SCR_CONSECRATION:
+	{
+		aligntyp al,ual;
+		char c;
+		char a;
+		int x,y;
+
+		if (Is_astralevel(&u.uz)) {
+			You("sense the wrath of the gods.");
+			u.ualign.record--;
+			break;
+		}
+		if (levl[u.ux][u.uy].typ != ROOM && levl[u.ux][u.uy].typ != CORR) {
+			pline("You feel claustrophobic!");
+			break;
+		}
+		known = TRUE;
+		pline("You build an altar.");
+		if (is_demon(youmonst.data)) {
+			al = A_CHAOTIC;
+		} else if (sobj->cursed) {
+			al = A_NONE;
+		} else if (sobj->blessed) {
+			ual = u.ualign.type;
+			a = (ual==A_LAWFUL) ? 'l' : ((ual==A_NEUTRAL) ? 'n' : 'c');
+			c = yn_function("Which alignment do you want to consecrate the altar to?","lncm",a);
+			al = A_NONE;
+			switch (c) {
+				case 'l':
+					al = A_LAWFUL;		break;
+				case 'n':
+					al = A_NEUTRAL;		break;
+				case 'c':
+					al = A_CHAOTIC;		break;
+				case 'm':
+					al = A_NONE;		break;
+			}
+		} else {
+			al = u.ualign.type;
+		}
+		pline("Pronouncing arcane formulas, you consecrate the altar to %s.",(al == A_NONE) ? "Moloch" : align_gname(al));
+		levl[u.ux][u.uy].typ = ALTAR;
+		levl[u.ux][u.uy].altarmask = Align2amask(al);
+		x = (al == ual) ? 1 : ((al == A_NONE) ? -3 : -1);
+
+		if (x < 0) y = rnd(abs(x)*100);
+		else y = -(rnd(100));
+		u.ualign.record += x;
+		u.ublesscnt += y;
+		if (u.ublesscnt < 0) u.ublesscnt = 0;
+		pline("You feel %s%scomfortable.",(abs(x)>1) ? "very " : "", (x<0) ? "un" : "");
+	} break;
+	case SCR_ROOT_PASSWORD_DETECTION:
+		You("sense the computer's root password.");
+		pline("It is: %s.", sobj->cursed ? "jsdfljfdsh" : (sobj->blessed ? "memalezu" : "xyzzy"));
+		pline("(No warranty implied.)");
+		break;
 	case SCR_STINKING_CLOUD: {
 	        coord cc;
 
@@ -1923,6 +2045,7 @@
 #define REALLY 1
 #define PLAYER 2
 #define ONTHRONE 4
+#define MASS_MURDER 8
 void
 do_genocide(how)
 int how;
@@ -1930,12 +2053,14 @@
 /* 1 = normal genocide */
 /* 3 = forced genocide of player */
 /* 5 (4 | 1) = normal genocide from throne */
+/* x|8 = mass murder; no genocide */
 {
-	char buf[BUFSZ];
+	char buf[BUFSZ],bx[BUFSZ];
 	register int	i, killplayer = 0;
 	register int mndx;
 	register struct permonst *ptr;
 	const char *which;
+	struct monst *mtmp, *mtmp2;
 
 	if (how & PLAYER) {
 		mndx = u.umonster;	/* non-polymorphed mon num */
@@ -1948,8 +2073,8 @@
 		    pline(thats_enough_tries);
 		    return;
 		}
-		getlin("What monster do you want to genocide? [type the name]",
-			buf);
+		sprintf(bx,"What monster do you want to %s? [type the name]",(how & MASS_MURDER) ? "mass murder" : "genocide");
+		getlin(bx,buf);
 		(void)mungspaces(buf);
 		/* choosing "none" preserves genocideless conduct */
 		if (!strcmpi(buf, "none") || !strcmpi(buf, "nothing")) {
@@ -2009,9 +2134,21 @@
 	    if ((ptr->geno & G_UNIQ) && ptr != &mons[PM_HIGH_PRIEST])
 		which = !type_is_pname(ptr) ? "the " : "";
 	}
+	/*if (how & MASS_MURDER) {	    kill_genocided_monsters();
+	    reset_rndmonst(mndx);
+	    update_inventory();
+	}*/
 	if (how & REALLY) {
 	    /* setting no-corpse affects wishing and random tin generation */
-	    mvitals[mndx].mvflags |= (G_GENOD | G_NOCORPSE);
+	    if (!(how & MASS_MURDER)) mvitals[mndx].mvflags |= (G_GENOD | G_NOCORPSE);
+
+		if (how & MASS_MURDER) {
+	  	    for(mtmp = fmon; mtmp; mtmp = mtmp2) {
+	  		mtmp2 = mtmp->nmon;
+	  		if(mtmp->data == ptr) mondead(mtmp);
+			}
+		}
+
 	    pline("Wiped out %s%s.", which,
 		  (*which != 'a') ? buf : makeplural(buf));
 
@@ -2072,6 +2209,40 @@
 	}
 }
 
+void undo_genocide(void)
+{
+	int i;
+	char buf[BUFSZ];
+	int mn;
+
+	for (i=0;i<5;i++) {
+		if (i >= 5) {
+			pline(thats_enough_tries);
+			return;
+		}
+		getlin("Which monster do you want to ungenocide [type the name]",buf);
+		mn = name_to_mon(buf);
+		if (mn == -1) {
+			pline("Such creatures do not exist in this world.");
+			continue;
+		}
+		if (!(/*mons[mn].geno*/mvitals[mn].mvflags & G_GENOD)) {
+
+			pline("This creature has not been genocided.");
+			continue;
+		}/* later
+		if (mn == PM_UNGENOMOLD) {
+
+			pline("For some reason, you cannot ungenocide this species!");
+			continue;
+		}*/
+
+		/*mons[mn].geno*/mvitals[mn].mvflags &= ~G_GENOD;
+		pline("The race of %s now exist again.",makeplural(buf));
+		break;
+	}
+}
+
 void
 punish(sobj)
 register struct obj	*sobj;
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\recover.c SlashTNG-master\src\recover.c
--- slashem-0.0.7E7F3\src\recover.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\recover.c	Sat Dec 30 05:08:32 2006
@@ -0,0 +1,399 @@
+/*	SCCS Id: @(#)recover.c	3.4	1999/10/23	*/
+/*	Copyright (c) Janet Walz, 1992.				  */
+/* NetHack may be freely redistributed.  See license for details. */
+
+/*
+ *  Utility for reconstructing NetHack save file from a set of individual
+ *  level files.  Requires that the `checkpoint' option be enabled at the
+ *  time NetHack creates those level files.
+ */
+#include "config.h"
+#if !defined(O_WRONLY) && !defined(LSC) && !defined(AZTEC_C)
+#include <fcntl.h>
+#endif
+#ifdef WIN32
+#include <errno.h>
+#include "win32api.h"
+#endif
+
+#ifdef VMS
+extern int FDECL(vms_creat, (const char *,unsigned));
+extern int FDECL(vms_open, (const char *,int,unsigned));
+#endif	/* VMS */
+
+int FDECL(restore_savefile, (char *));
+void FDECL(set_levelfile_name, (int));
+int FDECL(open_levelfile, (int));
+int NDECL(create_savefile);
+void FDECL(copy_bytes, (int,int));
+
+#ifndef WIN_CE
+#define Fprintf	(void)fprintf
+#else
+#define Fprintf	(void)nhce_message
+static void nhce_message(FILE*, const char*, ...);
+#endif
+
+#define Close	(void)close
+
+#ifdef UNIX
+#define SAVESIZE	(PL_NSIZ + 13)	/* save/99999player.e */
+#else
+# ifdef VMS
+#define SAVESIZE	(PL_NSIZ + 22)	/* [.save]<uid>player.e;1 */
+# else
+#  ifdef WIN32
+#define SAVESIZE	(PL_NSIZ + 40)  /* username-player.NetHack-saved-game */
+#  else
+#define SAVESIZE	FILENAMELEN	/* from macconf.h or pcconf.h */
+#  endif
+# endif
+#endif
+
+#if defined(EXEPATH)
+char *FDECL(exepath, (char *));
+#endif
+
+#if defined(__BORLANDC__) && !defined(_WIN32)
+extern unsigned _stklen = STKSIZ;
+#endif
+char savename[SAVESIZE]; /* holds relative path of save file from playground */
+
+
+int
+main(argc, argv)
+int argc;
+char *argv[];
+{
+	int argno;
+	const char *dir = (char *)0;
+#ifdef AMIGA
+	char *startdir = (char *)0;
+#endif
+
+
+	if (!dir) dir = getenv("NETHACKDIR");
+	if (!dir) dir = getenv("HACKDIR");
+#if defined(EXEPATH)
+	if (!dir) dir = exepath(argv[0]);
+#endif
+	if (argc == 1 || (argc == 2 && !strcmp(argv[1], "-"))) {
+	    Fprintf(stderr,
+		"Usage: %s [ -d directory ] base1 [ base2 ... ]\n", argv[0]);
+#if defined(WIN32) || defined(MSDOS)
+	    if (dir) {
+	    	Fprintf(stderr, "\t(Unless you override it with -d, recover will look \n");
+	    	Fprintf(stderr, "\t in the %s directory on your system)\n", dir);
+	    }
+#endif
+	    exit(EXIT_FAILURE);
+	}
+
+	argno = 1;
+	if (!strncmp(argv[argno], "-d", 2)) {
+		dir = argv[argno]+2;
+		if (*dir == '=' || *dir == ':') dir++;
+		if (!*dir && argc > argno) {
+			argno++;
+			dir = argv[argno];
+		}
+		if (!*dir) {
+		    Fprintf(stderr,
+			"%s: flag -d must be followed by a directory name.\n",
+			argv[0]);
+		    exit(EXIT_FAILURE);
+		}
+		argno++;
+	}
+#if defined(SECURE) && !defined(VMS)
+	if (dir
+# ifdef HACKDIR
+		&& strcmp(dir, HACKDIR)
+# endif
+		) {
+		(void) setgid(getgid());
+		(void) setuid(getuid());
+	}
+#endif	/* SECURE && !VMS */
+
+#ifdef HACKDIR
+	if (!dir) dir = HACKDIR;
+#endif
+
+#ifdef AMIGA
+	startdir = getcwd(0,255);
+#endif
+	if (dir && chdir((char *) dir) < 0) {
+		Fprintf(stderr, "%s: cannot chdir to %s.\n", argv[0], dir);
+		exit(EXIT_FAILURE);
+	}
+
+	while (argc > argno) {
+		if (restore_savefile(argv[argno]) == 0)
+		    Fprintf(stderr, "recovered \"%s\" to %s\n",
+			    argv[argno], savename);
+		argno++;
+	}
+#ifdef AMIGA
+	if (startdir) (void)chdir(startdir);
+#endif
+	exit(EXIT_SUCCESS);
+	/*NOTREACHED*/
+	return 0;
+}
+
+static char lock[256];
+
+void
+set_levelfile_name(lev)
+int lev;
+{
+	char *tf;
+
+	tf = rindex(lock, '.');
+	if (!tf) tf = lock + strlen(lock);
+	(void) sprintf(tf, ".%d", lev);
+#ifdef VMS
+	(void) strcat(tf, ";1");
+#endif
+}
+
+int
+open_levelfile(lev)
+int lev;
+{
+	int fd;
+
+	set_levelfile_name(lev);
+#if defined(MICRO) || defined(WIN32) || defined(MSDOS)
+	fd = open(lock, O_RDONLY | O_BINARY);
+#else
+	fd = open(lock, O_RDONLY, 0);
+#endif
+	return fd;
+}
+
+int
+create_savefile()
+{
+	int fd;
+
+#if defined(MICRO) || defined(WIN32) || defined(MSDOS)
+	fd = open(savename, O_WRONLY | O_BINARY | O_CREAT | O_TRUNC, FCMASK);
+#else
+	fd = creat(savename, FCMASK);
+#endif
+	return fd;
+}
+
+void
+copy_bytes(ifd, ofd)
+int ifd, ofd;
+{
+	char buf[BUFSIZ];
+	int nfrom, nto;
+
+	do {
+		nfrom = read(ifd, buf, BUFSIZ);
+		nto = write(ofd, buf, nfrom);
+		if (nto != nfrom) {
+			Fprintf(stderr, "file copy failed!\n");
+			exit(EXIT_FAILURE);
+		}
+	} while (nfrom == BUFSIZ);
+}
+
+int
+restore_savefile(basename)
+char *basename;
+{
+	int gfd, lfd, sfd;
+	int lev, savelev, hpid;
+	xchar levc;
+	struct version_info version_data;
+
+	/* level 0 file contains:
+	 *	pid of creating process (ignored here)
+	 *	level number for current level of save file
+	 *	name of save file nethack would have created
+	 *	and game state
+	 */
+	(void) strcpy(lock, basename);
+	gfd = open_levelfile(0);
+	if (gfd < 0) {
+#if defined(WIN32) && !defined(WIN_CE)
+ 	    if(errno == EACCES) {
+	  	Fprintf(stderr,
+			"\nThere are files from a game in progress under your name.");
+		Fprintf(stderr,"\nThe files are locked or inaccessible.");
+		Fprintf(stderr,"\nPerhaps the other game is still running?\n");
+	    } else
+	  	Fprintf(stderr,
+			"\nTrouble accessing level 0 (errno = %d).\n", errno);
+#endif
+	    Fprintf(stderr, "Cannot open level 0 for %s.\n", basename);
+	    return(-1);
+	}
+	if (read(gfd, (genericptr_t) &hpid, sizeof hpid) != sizeof hpid) {
+	    Fprintf(stderr, "%s\n%s%s%s\n",
+	     "Checkpoint data incompletely written or subsequently clobbered;",
+		    "recovery for \"", basename, "\" impossible.");
+	    Close(gfd);
+	    return(-1);
+	}
+	if (read(gfd, (genericptr_t) &savelev, sizeof(savelev))
+							!= sizeof(savelev)) {
+	    Fprintf(stderr,
+	    "Checkpointing was not in effect for %s -- recovery impossible.\n",
+		    basename);
+	    Close(gfd);
+	    return(-1);
+	}
+	if ((read(gfd, (genericptr_t) savename, sizeof savename)
+		!= sizeof savename) ||
+	    (read(gfd, (genericptr_t) &version_data, sizeof version_data)
+		!= sizeof version_data)) {
+	    Fprintf(stderr, "Error reading %s -- can't recover.\n", lock);
+	    Close(gfd);
+	    return(-1);
+	}
+
+	/* save file should contain:
+	 *	version info
+	 *	current level (including pets)
+	 *	(non-level-based) game state
+	 *	other levels
+	 */
+	sfd = create_savefile();
+	if (sfd < 0) {
+	    Fprintf(stderr, "Cannot create savefile %s.\n", savename);
+	    Close(gfd);
+	    return(-1);
+	}
+
+	lfd = open_levelfile(savelev);
+	if (lfd < 0) {
+	    Fprintf(stderr, "Cannot open level of save for %s.\n", basename);
+	    Close(gfd);
+	    Close(sfd);
+	    return(-1);
+	}
+
+	if (write(sfd, (genericptr_t) &version_data, sizeof version_data)
+		!= sizeof version_data) {
+	    Fprintf(stderr, "Error writing %s; recovery failed.\n", savename);
+	    Close(gfd);
+	    Close(sfd);
+	    return(-1);
+	}
+
+	copy_bytes(lfd, sfd);
+	Close(lfd);
+	(void) unlink(lock);
+
+	copy_bytes(gfd, sfd);
+	Close(gfd);
+	set_levelfile_name(0);
+	(void) unlink(lock);
+
+	for (lev = 1; lev < 256; lev++) {
+		/* level numbers are kept in xchars in save.c, so the
+		 * maximum level number (for the endlevel) must be < 256
+		 */
+		if (lev != savelev) {
+			lfd = open_levelfile(lev);
+			if (lfd >= 0) {
+				/* any or all of these may not exist */
+				levc = (xchar) lev;
+				write(sfd, (genericptr_t) &levc, sizeof(levc));
+				copy_bytes(lfd, sfd);
+				Close(lfd);
+				(void) unlink(lock);
+			}
+		}
+	}
+
+	Close(sfd);
+
+#if 0 /* OBSOLETE, HackWB is no longer in use */
+#ifdef AMIGA
+			/* we need to create an icon for the saved game
+			 * or HackWB won't notice the file.
+			 */
+	{
+	char iconfile[FILENAME];
+	int in, out;
+
+	(void) sprintf(iconfile, "%s.info", savename);
+	in = open("NetHack:default.icon", O_RDONLY);
+	out = open(iconfile, O_WRONLY | O_TRUNC | O_CREAT);
+	if(in > -1 && out > -1){
+		copy_bytes(in,out);
+	}
+	if(in > -1)close(in);
+	if(out > -1)close(out);
+	}
+#endif
+#endif
+	return(0);
+}
+
+#ifdef EXEPATH
+# ifdef __DJGPP__
+#define PATH_SEPARATOR '/'
+# else
+#define PATH_SEPARATOR '\\'
+# endif
+
+#define EXEPATHBUFSZ 256
+char exepathbuf[EXEPATHBUFSZ];
+
+char *exepath(str)
+char *str;
+{
+	char *tmp, *tmp2;
+	int bsize;
+
+	if (!str) return (char *)0;
+	bsize = EXEPATHBUFSZ;
+	tmp = exepathbuf;
+#if !defined(WIN32)
+	strcpy (tmp, str);
+#else
+# if defined(WIN_CE)
+	{
+	  TCHAR wbuf[EXEPATHBUFSZ];
+	  GetModuleFileName((HANDLE)0, wbuf, EXEPATHBUFSZ);
+	  NH_W2A(wbuf, tmp, bsize);
+	}
+# else
+	*(tmp + GetModuleFileName((HANDLE)0, tmp, bsize)) = '\0';
+# endif
+#endif
+	tmp2 = strrchr(tmp, PATH_SEPARATOR);
+	if (tmp2) *tmp2 = '\0';
+	return tmp;
+}
+#endif /* EXEPATH */
+
+#ifdef AMIGA
+#include "date.h"
+const char amiga_version_string[] = AMIGA_VERSION_STRING;
+#endif
+
+#ifdef WIN_CE
+void nhce_message(FILE* f, const char* str, ...)
+{
+    va_list ap;
+	TCHAR wbuf[NHSTR_BUFSIZE];
+	char buf[NHSTR_BUFSIZE];
+
+    va_start(ap, str);
+	vsprintf(buf, str, ap);
+    va_end(ap);
+
+	MessageBox(NULL, NH_A2W(buf, wbuf, NHSTR_BUFSIZE), TEXT("Recover"), MB_OK);
+}
+#endif
+
+/*recover.c*/
Binary files slashem-0.0.7E7F3\src\recover.exe and SlashTNG-master\src\recover.exe differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\role.c SlashTNG-master\src\role.c
--- slashem-0.0.7E7F3\src\role.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\role.c	Sun Jan 01 22:04:12 2017
@@ -142,6 +142,36 @@
 	0, 1, 0, 
 	2, 10, A_INT, SPE_FIREBALL,        -4 /* From old role.c */
 },
+{	{"Geek", 0}, {
+	{"Newbie",    0},
+	{"BASIC Programmer",        "BASIC Programmeress"},
+	{"C Programmer",        "C Programmeress"},
+	{"Hacker",        "Hackeress"},
+	{"NetHacker", "NetHackeress"},
+	{"Nethack Programmer",      "Nethack Programmeress"},
+	{"he who uses",       "she who uses"},
+	{"he who knows",      "she who knows"},
+	{"he who learns",     "she who learns"} },
+	"UNIX", "the PDP-7", "VMS", /* Computerian */
+	"Gee", "the Development Team's location", "the Microsoft headquarter",
+	PM_GEEK, NON_PM, PM_UNDEAD_GEEK,
+	PM_THE_DEV_TEAM, PM_HACKER, PM_BILL_GATES,
+	PM_BUG, PM_PHANTOM, S_XAN, S_PUDDING,
+#if 0
+	ART_DELUDER, ART_MIRRORBRIGHT,
+#endif
+	ART_NETHACK_SOURCES,
+	MH_HUMAN|MH_ELF|MH_GNOME|MH_HOBBIT|MH_VAMPIRE|MH_WERE|MH_ORC | ROLE_MALE|ROLE_FEMALE |
+	ROLE_LAWFUL|ROLE_NEUTRAL|ROLE_CHAOTIC,
+	/* Str Int Wis Dex Con Cha */
+	/*{  10, 10, 10,  8,  9, 7 },*/
+	{   3,  3,  3,  3,  3,  3 },
+	{  30, 15, 15, 10, 20, 10 },
+	/* Init   Lower  Higher */
+	{ 18, 0,  0, 8,  1, 0 },	/* Hit points */
+	{ 20, 4,  0, 1,  0, 2 },20,	/* Energy */
+	10, 3,-3, 2, 10, A_WIS, SPE_CURE_SICKNESS,   -4
+},
 {	{"Healer", 0}, {
 	{"Rhizotomist",    0},
 	{"Empiric",        0},
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\school.c SlashTNG-master\src\school.c
--- slashem-0.0.7E7F3\src\school.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\school.c	Mon May 09 22:01:14 2016
@@ -0,0 +1,192 @@
+/* 	SCCS Id: @(#)school.c 	3.1 	94/26/03	*/
+/* NetHack may be freely redistributed.  See license for details. */
+/* Copyright 1994, Sebastian Klein */
+
+#include "hack.h"
+#include <stdio.h>
+
+#ifdef SOUNDS
+#ifdef OVL0
+
+static char *pupil_msgs[] = {
+	"Today no homework ... *please*",
+	"six times nine is ... um ... uh ... ... forty-two",
+	"you ... Strange word",	/* You're not expected to understand this ... */
+	"Bugger off!",
+	"*uck off!",
+	"What are the newest news about the Super Information Highway?",
+	"What do you want?",
+	"Do the world a favour---jump out of the 20th story of the Uni-Center!",
+	NULL
+};
+
+static char *baumert_msgs[] = {
+	"No chance! Every day you'll get homework!",
+	"Is it really true? Does really _everybody_ have the homework?",
+	"That usage of the word 'goes' does harm to my ears!",
+	NULL
+};
+
+static char *gier_msgs[] = {
+	"Your attitude is really unacceptable!",
+	"The \"Stigel-Brauerei\" was founded 1492. Well, in that year was that affair with that guy, Columbus, but that really isn't important.",
+	"Why are you going? I'm only 20 minutes late!",
+	NULL
+};
+
+static char *dickler_msgs[] = {
+	"Where's your problem? I'll be happy to help you",
+	"You didn't understand? Then let's begin again ... (*sigh*)",
+	NULL
+};
+
+static char *overbeck_msgs[] = {
+	"No homework yet? - This can be changed!",
+	"Overbecks - das Ueberbier",
+	NULL
+};
+
+static char *klomp_msgs[] = {
+	"How about dehydrating carbonhydrates today?",
+	"Back when I was a pupil, the following thing happened ...",
+	"Back when I was studying chemistry, the following thing happened ...",
+	NULL
+};
+
+static char *alers_msgs[] = {
+	"... dann ist die Scheisse am dampfen",
+	"NIKI forever!",
+	"Pascal forever!",
+	"Yes ... I know that everything is easier in C, but I simply love Pascal ...",
+	NULL
+};
+
+static char *geis_haastert_msgs[] = {
+	"You have Str:0 (at most), so bugger off!",
+	"Do it - who cares about the odd broken bone?",
+	"You are sick because you were running for 30 minutes? So run another hour!",
+	"Shall I help you? (takes the whip)",
+	NULL
+};
+
+static char *koerfgen_msgs[] = {
+	"We'll do that diagonally. *grin* (wipes sweat off head)",
+	"*grin*",
+	"You know, (*grin*) we'll have to do something now! (*grin*)",
+	NULL
+};
+
+static char *ennen_msgs[] = {
+	"How about a pupil experiment - cut off your ears?",
+	"Yet another pupil experiment: the consequences of KCN ingested.",
+	NULL
+};
+
+static char *ellerhold_msgs[] = {
+	"Don't expect to get away without homework!",
+	"No homework in the holidays? You must have something to do, after all!",
+	"The low level of you all is really beyond acception!",
+	NULL
+};
+
+static char *hartstone_msgs[] = {
+	"There was endless work in the supervision and administration of the farm ...",
+	/* it's really a shame that I can't think of more messages for him */
+	NULL
+};
+
+static char *generic_msgs[] = {
+	"I expect you to do your homework _regularly_ and _carefully_!",
+	"The level of work is really very low nowadays!",
+	"In _our_ times pupils were real pupils and teachers were real teachers!",
+	"Back when pupils where real pupils and teachers were real teachers, everything was better!",
+	NULL
+};
+
+static struct teacher_msg_desc {
+	char *teacher_name;
+	char **messages;
+} teacher_msgs[] = {
+	{ "Mr. Baumert",	baumert_msgs },
+	{ "Mr. Gier",		gier_msgs },
+	{ "Mrs. Dickler",	dickler_msgs },
+	{ "Mr. Overbeck",	overbeck_msgs },
+	{ "Mr. Klomp",		klomp_msgs },
+	{ "Mr. Alers",		alers_msgs },
+	{ "Mr. Geis",		geis_haastert_msgs },
+	{ "Mrs. Haastert",	geis_haastert_msgs },
+	{ "Mr. Koerfgen",	koerfgen_msgs },
+	{ "Mr. Ennen",		ennen_msgs },
+	{ "Mr. Ellerhold",	ellerhold_msgs },
+	{ "Mr. Hartstone",	hartstone_msgs },
+	{ NULL,			generic_msgs }
+};
+
+static char *principal_msgs[] = {
+	"What's up?",
+	"I really feel sick - there are so many things to do!",
+	"Help me, I faint!",
+	"We'll do that in groups of one person!",
+	NULL
+};
+
+boolean is_principal(struct monst *mon)
+{
+	return(mon->mnum == PM_PRINCIPAL);
+}
+
+boolean is_teacher(struct monst *mon)
+{
+	return(mon->mnum == PM_TEACHER);
+}
+
+boolean is_educator(struct monst *mon)
+{
+	return(is_teacher(mon) || is_principal(mon));
+}
+
+static void select_message(char **msgs)
+{
+	int i;
+
+	i = 0;
+	while (msgs[i] != NULL) i++;
+	verbalize(msgs[rn2(i)]);
+
+}
+
+static void select_teacher_message(struct teacher_msg_desc *mmsgs,char *tname)
+{
+	int i;
+
+	i = 0;
+	while (mmsgs[i].teacher_name != NULL) {
+		if (strcmp(mmsgs[i].teacher_name,tname) == 0) {
+			select_message(mmsgs[i].messages);
+			return;
+		}
+		i++;
+	}
+	select_message(mmsgs[i].messages);
+}
+
+void pupil_sound(struct monst *mon)
+{
+	select_message(pupil_msgs);
+}
+
+void teacher_sound(struct monst *mon)
+{
+	select_teacher_message(teacher_msgs,NAME(mon));
+}
+
+void principal_sound(struct monst *mon)
+{
+	select_message(principal_msgs);
+}
+
+#endif /* OVL0 */
+
+#endif /* SOUNDS */
+
+/* school.c */
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\shk.c SlashTNG-master\src\shk.c
--- slashem-0.0.7E7F3\src\shk.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\shk.c	Sun Jan 01 13:32:39 2017
@@ -2506,6 +2506,9 @@
 		} else if (tmp > 1L && !rn2(4))
 			tmp -= tmp / 4L;
 	}
+	if (obj->otyp == IC && obj->cursed) tmp /= 20L;	
+	if (obj->otyp == IC && !obj->cursed) tmp /= 10L;
+	
 	return tmp;
 }
 
@@ -3391,7 +3394,7 @@
 		    mark_synch();
 		}
 		subfrombill(obj, shkp);
-		(void) mpickobj(shkp, obj);
+		(void) mpickobj(shkp, obj, FALSE);
 		return shkp;
 	}
 	return (struct monst *)0;
@@ -3577,7 +3580,7 @@
 				BEARTRAP, TRUE, FALSE);
 		otmp->quan= 1;
 		otmp->owt = weight(otmp);
-		(void) mpickobj(shkp, otmp);
+		(void) mpickobj(shkp, otmp, FALSE);
 	    }
 	    deltrap(ttmp);
 	    if(IS_DOOR(tmp_dam->typ)) {
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\shknam.c SlashTNG-master\src\shknam.c
--- slashem-0.0.7E7F3\src\shknam.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\shknam.c	Sun Jan 01 13:35:43 2017
@@ -523,23 +523,23 @@
 /* black marketeer's equipment */
 	  otmp = mksobj(LONG_SWORD, FALSE, FALSE);
 	  otmp = oname(otmp, artiname(ART_THIEFBANE));
-	  mpickobj(shk, otmp);
+	  mpickobj(shk, otmp, TRUE);
 	  if (otmp->spe < 5) otmp->spe += rnd(5);
 	  otmp = mksobj(SHIELD_OF_REFLECTION, FALSE, FALSE);
-	  mpickobj(shk, otmp);
+	  mpickobj(shk, otmp, TRUE);
 	  if (otmp->spe < 5) otmp->spe += rnd(5);
 	  otmp = mksobj(GRAY_DRAGON_SCALE_MAIL, FALSE, FALSE);
-	  mpickobj(shk, otmp);
+	  mpickobj(shk, otmp, TRUE);
 	  if (otmp->spe < 5) otmp->spe += rnd(5);
 	  otmp = mksobj(SPEED_BOOTS, FALSE, FALSE);
-	  mpickobj(shk, otmp);
+	  mpickobj(shk, otmp, TRUE);
 	  if (otmp->spe < 5) otmp->spe += rnd(5);
 	  otmp = mksobj(AMULET_OF_LIFE_SAVING, FALSE, FALSE);
-	  mpickobj(shk, otmp);
+	  mpickobj(shk, otmp, TRUE);
 /* wear armor and amulet */
 	  m_dowear(shk, TRUE);
 	  otmp = mksobj(SKELETON_KEY, FALSE, FALSE);
-	  mpickobj(shk, otmp);
+	  mpickobj(shk, otmp, TRUE);
 	}
 #endif /* BLACKMARKET */
 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\SlashTNG.lnk SlashTNG-master\src\SlashTNG.lnk
--- slashem-0.0.7E7F3\src\SlashTNG.lnk	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\SlashTNG.lnk	Thu Jan 05 19:05:10 2017
@@ -0,0 +1,27 @@
+INPUT( allmain.o  alloc.o    apply.o	  artifact.o attrib.o )
+INPUT( ball.o	    bones.o    borg.o	  botl.o     cmd.o 	dbridge.o )
+INPUT( decl.o	    detect.o   display.o  do.o	     do_name.o )
+INPUT( do_wear.o  dog.o      dogmove.o  dokick.o   dothrow.o )
+INPUT( drawing.o  dungeon.o  eat.o	  end.o	     engrave.o )
+INPUT( exper.o    explode.o  extralev.o files.o    fountain.o )
+INPUT( hack.o     hacklib.o  invent.o   lock.o )
+INPUT( mail.o	    pcmain.o   makemon.o  mcastu.o   mhitm.o )
+INPUT( mhitu.o    minion.o   mkmap.o	  mklev.o    mkmaze.o )
+INPUT( mkobj.o    mkroom.o   mon.o	  mondata.o  monmove.o )
+INPUT( monst.o    monstr.o   mplayer.o  mthrowu.o  muse.o )
+INPUT( music.o    o_init.o   objects.o  objnam.o   options.o )
+INPUT( pickup.o   pline.o    polyself.o potion.o   quest.o )
+INPUT( questpgr.o pager.o    pray.o	  priest.o   read.o )
+INPUT( rect.o	    restore.o  rip.o	  rnd.o	     role.o )
+INPUT( rumors.o   save.o     shk.o      shknam.o   sit.o )
+INPUT( sounds.o   sp_lev.o   spell.o    steal.o    steed.o )
+INPUT( timeout.o  topten.o   track.o )
+INPUT( trap.o     u_init.o   uhitm.o    vault.o    vision.o )
+INPUT( vis_tab.o  weapon.o   were.o	  wield.o    windows.o )
+INPUT( wizard.o   worm.o     worn.o     write.o )
+INPUT( zap.o	    light.o    dlb.o      dig.o      teleport.o )
+INPUT( region.o   tech.o     gypsy.o    mapglyph.o )
+INPUT( winnt.o    pcsys.o    pcunix.o   nttty.o    random.o ntsound.o   nhlan.o   )
+INPUT( version.o  )
+INPUT( getline.o termcap.o topl.o wintty.o  )
+INPUT( libwinmm.a )
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\smith.c SlashTNG-master\src\smith.c
--- slashem-0.0.7E7F3\src\smith.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\smith.c	Mon Jan 02 15:03:35 2017
@@ -0,0 +1,374 @@
+/* 	SCCS Id: @(#)smith.c 	3.1 	94/10/04	*/
+/* NetHack may be freely redistributed.  See license for details. */
+/* Copyright 1994, Sebastian Klein */
+
+#include "hack.h"
+#include <stdio.h>
+#include <ctype.h>
+
+#ifdef OVL0
+
+static int time_finished = -1;
+static struct obj *weapon = NULL;
+
+static char *not_interested = "signalize that you are not interested anymore.";
+
+struct prices_t
+{
+	int artifact;
+	long price;
+};
+
+/* the code relies on that a) the artifacts are presented in ascending */
+/*			      order of price */
+/*		       and b) no two given artifacts have the same price. */
+static struct prices_t prices[] = {
+	{ ART_GIANTKILLER,		8000 },
+	{ ART_STING,			8000 },
+	{ ART_QUICK_BLADE,		10000 },
+	{ ART_MUMAKBANE,		10000 },
+	{ ART_ORCRIST,			20000 },
+	{ ART_SHOCKER,			20000 },
+	{ ART_DOOM_BLADE,		20000 },
+	{ ART_WEREBANE,			25000 },
+	{ ART_TROLLSBANE,		25000 },
+	{ ART_GRIMTOOTH,		25000 },
+	{ ART_FIRE_BRAND,		30000 },
+	{ ART_FROST_BRAND,		30000 },
+	{ ART_ELFRIST,			30000 },
+	{ ART_SKULLCRUSHER,		30000 },
+	{ ART_LUCK_BLADE,		35000 },
+	{ ART_CLEAVER,			35000 },
+	{ ART_OGRESMASHER,		35000 },
+	{ ART_FIREWALL,			40000 },
+	{ ART_DEEP_FREEZE,		40000 },
+	{ ART_SERPENT_S_TONGUE,	40000 },
+	{ ART_HOLY_SPEAR_OF_LIGHT,		40000 },
+	{ ART_WORMBITER,		45000 },
+	{ ART_VORPAL_BLADE,		45000 },
+	{ ART_DISRUPTER,		50000 },
+	{ ART_WEREBANE,			52000 },
+	{ ART_DRAGONBANE,		55000 },
+	{ ART_DEATHSWORD,		55000 },
+	{ ART_SWORD_OF_BALANCE,	60000 },
+	{ ART_SWORD_OF_JUSTICE,	60000 },
+	{ ART_FIRE_BRAND,		67500 },
+	{ ART_FROST_BRAND,		67500 },
+	{ ART_SUNSWORD,			80000 },
+	{ ART_MAGICBANE,		90000 },
+	{ ART_DEMONBANE,		90000 },
+	{ ART_SNICKERSNEE,		95000 },
+	{ ART_REAPER,			100000 },
+	{ ART_EXCALIBUR,		100000 },
+	{ ART_MJOLLNIR,			110000 },
+	{ ART_PLAGUE,			110000 },
+	{ ART_HELLFIRE,			110000 },
+	{ ART_STORMBRINGER,		120000 },
+	{ ART_GRAYSWANDIR,		175000 },
+	{ 0,				0 }
+};
+
+static boolean acceptable_artifact(int artifact)
+{
+	if (exists_nrartifact(artifact)) return(FALSE);
+	if (nogen_nrartifact(artifact)) return(FALSE);
+	return(TRUE);
+}
+
+static int artiid2i(int artifact)
+{
+	int i;
+
+	i = 0;
+	while (prices[i].artifact > 0) {
+		if (prices[i].artifact == artifact) return(i);
+		i++;
+	}
+	return(-1);
+}
+
+/* consistent with shk.c */
+static long adjust_gold(long amount)
+{
+	long x;
+
+	x = amount;
+	if (ACURR(A_CHA) > 18) 		x *= 2L;
+	else if (ACURR(A_CHA) > 17)	x += x / 3L;
+	else if (ACURR(A_CHA) > 15)	x += x / 4L;
+	else if (ACURR(A_CHA) < 6)	x /= 2L;
+	else if (ACURR(A_CHA) < 8)	x -= x / 2L;
+	else if (ACURR(A_CHA) < 11)	x -= x / 3L;
+	if (x <= 0L) x = 1L;
+	return(x);
+}
+
+static long unadjust_gold(long ramount)
+{
+	long x;
+
+	x = ramount;
+	if (ACURR(A_CHA) > 18)		x /= 2L;
+	else if (ACURR(A_CHA) > 17)	x -= x / 3L;
+	else if (ACURR(A_CHA) > 15)	x -= x / 4L;
+	else if (ACURR(A_CHA) < 6)	x *= 2L;
+	else if (ACURR(A_CHA) < 8)	x += x / 2L;
+	else if (ACURR(A_CHA) < 11)	x += x / 3L;
+	if (x <= 0L) x = 1L;
+	return(x);
+}
+
+static void apply_extras(struct obj *o,int extras)
+{
+	boolean id;
+
+	id = FALSE;
+	while (extras > 0) {
+		switch(rn2(5)) {
+			case 0:	if (!o->blessed) {
+					o->cursed = FALSE;
+					o->blessed = TRUE;
+					break;
+				} /* else fallthrough */
+			case 1: if (!id) {
+					makeknown(o->otyp);
+					o->known = o->dknown = o->bknown = TRUE;
+					o->rknown = id = TRUE;
+					break;
+				} /* else fallthrough */
+			case 2:	if (!o->oerodeproof) {
+					o->oerodeproof = TRUE;
+					o->greased = FALSE;
+					break;
+				} /* else fallthrough (twice) */
+			case 3: if (!o->greased && !o->oerodeproof) {
+					o->greased = TRUE;
+					break;
+				} /* else fallthrough */
+			case 4: o->spe++;
+				break;
+		}
+		extras--;
+	}
+	if (o->spe > 5) o->spe = 5;
+}
+
+static boolean select_weapon(long ramount)
+{
+	struct obj *otmp;
+	int i,j;
+
+	if (ramount < prices[0].price) {
+		verbalize("What? That little? You're never going to get a personal weapon for that!");
+		if (ramount >= 100) {	
+			verbalize("But you may have this.");
+			otmp = mksobj(LONG_SWORD,TRUE,FALSE);
+			otmp->spe = rn2(5) ? 0 : 1;
+			otmp->oeroded = 1;		
+			hold_another_object(otmp,"Oops! %s out of your grasp!",The(aobjnam(otmp,"slip")),(const char *) 0);
+			return(TRUE);
+		} else {
+			return(FALSE);
+		}
+	}
+
+	i = 0;
+	while (ramount > prices[i].price && prices[i].artifact != 0) i++;
+	if (prices[i].artifact == 0) i--;
+
+	j = 0;
+	while (i >= 0 && j <= 4 && !acceptable_artifact(prices[i].artifact)) {
+		j++;
+		i--;
+	}
+	if (!acceptable_artifact(prices[i].artifact)) {
+		verbalize("I'm sorry, but I am out of stock in this price class.");
+		return(FALSE);
+	}
+
+	weapon = mksobj(nrartifact_obtype(prices[i].artifact),TRUE,FALSE);
+	weapon = oname(weapon,artiname(prices[i].artifact),0);
+	weapon->cursed = FALSE;
+	apply_extras(weapon,j);
+
+	return(TRUE);
+}
+
+static void make_buy1()
+{
+	char artname[BUFSZ],buf[BUFSZ];
+	int artino,artiind;
+	boolean ok;
+	int i;
+	int extras;
+	long amount;
+	char c;
+	int time_to_take;
+
+	if (weapon != NULL) {
+		impossible("weapon left over? (1)");
+		weapon = NULL;
+	}
+
+	ok = FALSE;
+	do {
+		getlin("How do you want me to call your new artifact?",artname);
+		if (artname[0] == 0) {
+			You(not_interested);
+			return;
+		}			
+		artino = artifact_name2no(artname);
+		if (!artino) {
+			verbalize
+("I think this is a dull name. I really can't associate anything with it.");
+			continue;
+		}
+		if (exists_nrartifact(artino)) {
+			verbalize
+("I have already used that name and I never use the same name again.");
+			continue;
+		}
+		artiind = artiid2i(artino);
+		if (!acceptable_artifact(artino) || artiind == -1) {
+			verbalize
+			("I don't know ... I don't think that's a good name.");
+			continue;
+		}
+		ok = TRUE;
+	} while(!ok);
+
+	getlin("How many extras do you want?",buf);
+	i = 0;
+	while (buf[i] != 0) {
+		if (!isdigit(buf[i])) {
+			verbalize("What a strange number this is!");
+			return;
+		}
+		i++;
+	}
+	extras = atoi(buf);
+	if (extras > 6) {
+		verbalize("Sorry, but I cannot offer more that 6 extras!");
+		return;
+	}
+
+	amount = unadjust_gold(prices[artiind].price + extras*1000L);
+
+	verbalize("That will cost you %li zorkmids.",amount);
+	if (u.ugold < amount) {
+		pline("Unfortunately, you don't have enough money.");
+		You(not_interested);
+		return;
+	}
+	c = yn_function("Accept?","yn",'y');
+	if (tolower(c) == 'n') {
+		You(not_interested);
+		return;
+	}
+	u.ugold -= amount;
+
+	weapon = mksobj(nrartifact_obtype(prices[artiind].artifact),TRUE,FALSE);
+	weapon = oname(weapon,artiname(prices[artiind].artifact),0);
+	weapon->cursed = FALSE;
+	apply_extras(weapon,extras);
+
+	time_to_take = adjust_gold(amount) / 10;
+	verbalize("I'll immediately start working. Please come back in approximately %i00 turns.",time_to_take / 100);
+	verbalize("to receive your new weapon.");
+#ifdef WIZARD
+	pline("(%i)",time_to_take);
+#endif
+	time_finished = moves + time_to_take;
+}
+
+static void make_buy2()
+{
+	char buf[BUFSZ];
+	int ok;
+	int i;
+	long amount;
+	int time_to_take;
+
+
+	if (weapon != NULL) {
+		impossible("weapon left over (2)?");
+		weapon = NULL;
+	}
+
+	do {
+		ok = 1;
+		getlin("How much money are you willing to invest?",buf);
+		i = 0;
+		if (buf[0] == 0) {
+			You(not_interested);
+			return;
+		}
+		while (buf[i] != 0) {
+	 		if (!isdigit(buf[i])) ok = 0;
+			i++;
+		}
+		if (!ok) {
+			verbalize("Please talk English to me!");
+			continue;
+		}
+		amount = atol(buf);
+		if (amount <= 0) {
+			You(not_interested);
+			return;
+		}
+		if (amount > u.ugold) {
+			You("don't have that much money!");
+			ok = 0;
+			continue;
+		}
+	} while (!ok);
+
+	if (select_weapon(adjust_gold(amount))) {
+		u.ugold -= amount;
+		You("hand the smith %li zorkmids.",amount);
+	}
+
+	if (!weapon) return;
+
+	time_to_take = adjust_gold(amount) / 10;
+	
+	verbalize("I will immediately start working. Please come back in approximately %i00 turns",time_to_take / 100);
+	verbalize("to receive your new weapon.");
+#ifdef WIZARD
+	if (wizard) pline("(%i)",time_to_take);
+#endif
+	time_finished = moves + time_to_take;
+}
+
+static void hand_object(void)
+{
+	if (weapon == NULL) {
+		impossible("no blade to give?");
+		return;
+	}
+
+	verbalize("This is your blade. It shall be known as %s from now on.",artiname(weapon->oartifact));
+	hold_another_object(weapon,"Oops! You accidentally drop your new blade!",(const char *) 0,(const char *) 0);
+	time_finished = -1;
+	weapon = NULL;
+}
+
+void smith_selling(struct monst *smith)
+{
+	if (time_finished == -1) {
+		if (ACURR(A_CHA) > 14) {
+			make_buy1();
+		} else {
+			make_buy2();
+		}
+	} else if (time_finished <= moves) {
+		hand_object();
+	} else {
+		verbalize("I'm working. Please don't disturb me again!");
+		time_finished += 5;	/* he was interrupted */
+	}
+}
+
+#endif /* OVL0 */
+
+/* smith.c */
\ No newline at end of file
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\sounds.c SlashTNG-master\src\sounds.c
--- slashem-0.0.7E7F3\src\sounds.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\sounds.c	Sun Dec 25 17:37:48 2016
@@ -939,6 +939,103 @@
 		pline_msg = "is busy reading a copy of Sandman #8.";
 	    else verbl_msg = "Who do you think you are, War?";
 	    break;
+	case MS_DOUGLAS_ADAMS:
+            {
+	   	 static const char *da_msgs[] = {
+			"42",
+			"It's a nice day today!",
+			"Have a Pan Galactic Gargle Blaster?",
+			"Time is relative. Lunchtime doubly so.",
+			"This is some strange usage of the word 'safe' that I wasn't aware of.",
+		};
+		if (mtmp->data == &mons[PM_MARVIN]) {
+			verbalize("Life, loathe it or ignore it, you cannot like it.");
+		} else if (mtmp->data == &mons[PM_DEEP_THOUGHT]) {
+			verbalize("6*9 = 42");
+		} else if (mtmp->data == &mons[PM_EDDIE]) {
+			verbalize("I'm feeling just great, guys!");
+		} else {
+			verbalize(da_msgs[rn2(SIZE(da_msgs))]);
+		}
+	    }
+	    break;
+	case MS_PUPIL:
+
+		{
+		static const char *pupil_msgs[] = {
+			"Today no homework ... *please*",
+			"six times nine is ... um ... uh ... ... forty-two",
+			"you ... Strange word",	/* You're not expected to understand this ... */
+			"Bugger off!",
+			"*uck off!",
+			"What are the newest news about the Super Information Highway?",
+			"What do you want?",
+			"Do the world a favour---jump out of the 20th story of the Uni-Center!",
+		};
+
+		verbalize(pupil_msgs[rn2(SIZE(pupil_msgs))]);
+		}
+		break;
+	case MS_TEACHER:
+		{
+	   	 static const char *teacher_msgs[] = {
+			"No chance! Every day you'll get homework!",
+			"Is it really true? Does really _everybody_ have the homework?",
+			"That usage of the word 'goes' does harm to my ears!",
+			"Your attitude is really unacceptable!",
+			"The \"Stigel-Brauerei\" was founded 1492. Well, in that year was that affair with that guy, Columbus, but that really isn't important.",
+			"Why are you going? I'm only 20 minutes late!",
+			"Where's your problem? I'll be happy to help you",
+			"You didn't understand? Then let's begin again ... (*sigh*)",
+			"No homework yet? - This can be changed!",
+			"Overbecks - das Ueberbier",
+			"How about dehydrating carbonhydrates today?",
+			"Back when I was a pupil, the following thing happened ...",
+			"Back when I was studying chemistry, the following thing happened ...",
+			"... dann ist die Scheisse am dampfen",
+			"NIKI forever!",
+			"Pascal forever!",
+			"Yes ... I know that everything is easier in C, but I simply love Pascal ...",
+			"You have Str:0 (at most), so bugger off!",
+			"Do it - who cares about the odd broken bone?",
+			"You are sick because you were running for 30 minutes? So run another hour!",
+			"Shall I help you? (takes the whip)",
+			"We'll do that diagonally. *grin* (wipes sweat off head)",
+			"*grin*",
+			"You know, (*grin*) we'll have to do something now! (*grin*)",
+			"How about a pupil experiment - cut off your ears?",
+			"Yet another pupil experiment: the consequences of KCN ingested.",
+			"Don't expect to get away without homework!",
+			"No homework in the holidays? You must have something to do, after all!",
+			"The low level of you all is really beyond acception!",
+			"There was endless work in the supervision and administration of the farm ...",
+			/* it's really a shame that I can't think of more messages for him */
+			"I expect you to do your homework _regularly_ and _carefully_!",
+			"The level of work is really very low nowadays!",
+			"In _our_ times pupils were real pupils and teachers were real teachers!",
+			"Back when pupils where real pupils and teachers were real teachers, everything was better!",
+		};
+
+		verbalize(teacher_msgs[rn2(SIZE(teacher_msgs))]);
+
+		}
+		break;
+	case MS_PRINCIPAL:
+
+		{
+		static const char *principal_msgs[] = {
+		"What's up?",
+		"I really feel sick - there are so many things to do!",
+		"Help me, I faint!",
+		"We'll do that in groups of one person!",
+		};
+
+		verbalize(principal_msgs[rn2(SIZE(principal_msgs))]);
+		}
+		break;
+	case MS_SMITH:
+		verbalize("I'm working. Please don't disturb me again!");
+		break;
     }
 
     if (pline_msg) pline("%s %s", Monnam(mtmp), pline_msg);
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\sp_lev.c SlashTNG-master\src\sp_lev.c
--- slashem-0.0.7E7F3\src\sp_lev.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\sp_lev.c	Sun Dec 25 17:32:47 2016
@@ -1607,6 +1607,7 @@
 		case FUNGUSFARM:
 		case MORGUE:
 		case BARRACKS:
+		case DOUGROOM:
 		    fill_zoo(croom);
 		    break;
 	    }
@@ -1616,6 +1617,7 @@
 		level.flags.has_vault = TRUE;
 		break;
 	    case ZOO:
+		case DOUGROOM:
 		level.flags.has_zoo = TRUE;
 		break;
 	    case COURT:
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\sp_lev.tag SlashTNG-master\src\sp_lev.tag
--- slashem-0.0.7E7F3\src\sp_lev.tag	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\sp_lev.tag	Thu Jan 05 19:05:15 2017
@@ -0,0 +1 @@
+sp_levs done 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\spell.c SlashTNG-master\src\spell.c
--- slashem-0.0.7E7F3\src\spell.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\spell.c	Sun Dec 25 17:46:29 2016
@@ -52,6 +52,19 @@
 STATIC_DCL const char *FDECL(spelltypemnemonic, (int));
 STATIC_DCL int FDECL(isqrt, (int));
 
+boolean
+spell_known(int sbook_id)
+{
+	int i;
+
+	i = 0;
+	while (spl_book[i].sp_id != NO_SPELL && i < MAXSPELL) {
+		if (spl_book[i].sp_id == sbook_id) return(TRUE);
+		i++;
+	}
+	return(FALSE);
+}
+
 /* The roles[] table lists the role-specific values for tuning
  * percent_success().
  *
@@ -968,6 +981,7 @@
 	case SPE_HEALING:
 	case SPE_EXTRA_HEALING:
 	case SPE_DRAIN_LIFE:
+	case SPE_FINGER:
 	case SPE_STONE_TO_FLESH:
 		if (!(objects[pseudo->otyp].oc_dir == NODIR)) {
 			if (atme) u.dx = u.dy = u.dz = 0;
@@ -1034,6 +1048,9 @@
 	case SPE_CURE_BLINDNESS:
 		healup(0, 0, FALSE, TRUE);
 		break;
+	case SPE_CHEMISTRY:
+		You("call upon your chemical knowledge. Nothing happens.");
+		break;
 	case SPE_CURE_SICKNESS:
 		if (Sick) You("are no longer ill.");
 		if (Slimed) {
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\steal.c SlashTNG-master\src\steal.c
--- slashem-0.0.7E7F3\src\steal.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\steal.c	Sun Jan 01 18:53:45 2017
@@ -159,7 +159,7 @@
 			    subfrombill(otmp, shop_keeper(*u.ushops));
 			freeinv(otmp);
 			pline("%s steals %s!", Monnam(mtmp), doname(otmp));
-			(void) mpickobj(mtmp,otmp);	/* may free otmp */
+			(void) mpickobj(mtmp,otmp,FALSE);	/* may free otmp */
 			/* Implies seduction, "you gladly hand over ..."
 			   so we don't set mavenge bit here. */
 			monflee(mtmp, 0, FALSE, FALSE);
@@ -435,7 +435,7 @@
 	pline("%s stole %s.", named ? "It" : Monnam(mtmp), doname(otmp));
 	could_petrify = (otmp->otyp == CORPSE &&
 			 touch_petrifies(&mons[otmp->corpsenm]));
-	(void) mpickobj(mtmp,otmp);	/* may free otmp */
+	(void) mpickobj(mtmp,otmp,FALSE);	/* may free otmp */
 	if (could_petrify && !(mtmp->misc_worn_check & W_ARMG)) {
 	    minstapetrify(mtmp, TRUE);
 	    return -1;
@@ -448,9 +448,10 @@
 
 /* Returns 1 if otmp is free'd, 0 otherwise. */
 int
-mpickobj(mtmp,otmp)
+mpickobj(mtmp,otmp,creation)
 register struct monst *mtmp;
 register struct obj *otmp;
+boolean creation;
 {
     int freed_otmp;
 
@@ -483,6 +484,9 @@
 #ifndef GOLDOBJ
     }
 #endif
+	if (creation) m_dowear(mtmp, TRUE); /* might want to wear whatever armor they stole --Amy ; cool idea so I added it too*/
+	else m_dowear(mtmp, FALSE);
+
     return freed_otmp;
 }
 
@@ -526,7 +530,7 @@
 	freeinv(otmp);
 	/* mpickobj wont merge otmp because none of the above things
 	   to steal are mergable */
-	(void) mpickobj(mtmp,otmp);	/* may merge and free otmp */
+	(void) mpickobj(mtmp,otmp,FALSE);	/* may merge and free otmp */
 	pline("%s stole %s!", Monnam(mtmp), doname(otmp));
 	if (can_teleport(mtmp->data) && !tele_restrict(mtmp))
 	    (void) rloc(mtmp, FALSE);
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\steed.c SlashTNG-master\src\steed.c
--- slashem-0.0.7E7F3\src\steed.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\steed.c	Sun Jan 01 13:47:43 2017
@@ -143,7 +143,7 @@
 	    freeinv(otmp);
 	    /* mpickobj may free otmp it if merges, but we have already
 	       checked for a saddle above, so no merger should happen */
-	    (void) mpickobj(mtmp, otmp);
+	    (void) mpickobj(mtmp, otmp, FALSE);
 	    mtmp->misc_worn_check |= W_SADDLE;
 	    otmp->owornmask = W_SADDLE;
 	    otmp->leashmon = mtmp->m_id;
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\tech.c SlashTNG-master\src\tech.c
--- slashem-0.0.7E7F3\src\tech.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\tech.c	Sun Dec 25 17:42:18 2016
@@ -97,6 +97,9 @@
 		       {  10, T_SIGIL_TEMPEST, 1},
 		       {  20, T_SIGIL_DISCHARGE, 1},
 		       {   0, 0, 0} },
+	gee_tech[] = { {   1, T_RESEARCH, 1},
+			   {   1, T_REINFORCE, 1},
+		       {   0, 0, 0} },
 	hea_tech[] = { {   1, T_SURGERY, 1},
 		       {  20, T_REVIVE, 1},
 		       {   0, 0, 0} },
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\trap.c SlashTNG-master\src\trap.c
--- slashem-0.0.7E7F3\src\trap.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\trap.c	Sun Jan 01 13:52:14 2017
@@ -1432,7 +1432,7 @@
 				else
 				    You_hear("a rumbling stop abruptly.");
 				singleobj->otrapped = 0;
-				(void) mpickobj(mtmp, singleobj);
+				(void) mpickobj(mtmp, singleobj, FALSE);
 				used_up = TRUE;
 				break;
 			    }
@@ -4261,7 +4261,7 @@
 	} else
 	    You("fall into the lava!");
 
-	usurvive = Lifesaved || discover;
+	usurvive = Lifesaved || Second_chance || discover;
 #ifdef WIZARD
 	if (wizard) usurvive = TRUE;
 #endif
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\u_init.c SlashTNG-master\src\u_init.c
--- slashem-0.0.7E7F3\src\u_init.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\u_init.c	Sun Jan 01 19:04:36 2017
@@ -72,6 +72,16 @@
 	{ UNDEF_TYP, UNDEF_SPE, SPBOOK_CLASS, 1, 1 },
   	{ 0, 0, 0, 0, 0 }
 };
+static struct trobj Geek[] = {
+	{ ELECTRIC_SWORD, 1, WEAPON_CLASS, 1, 1},
+#define G_IC 1
+	{ IC, 0, TOOL_CLASS, 7, UNDEF_BLESS },	/* quan is var. */
+	{ GAUNTLETS_OF_TYPING, 1, ARMOR_CLASS, 1, UNDEF_BLESS },
+	{ POT_JOLT_COLA, 0, POTION_CLASS, 4, UNDEF_BLESS },
+	{ HACKER_S_FOOD, 0, FOOD_CLASS, 2, UNDEF_BLESS },
+	{ PACK_OF_FLOPPIES, 0, TOOL_CLASS, 1, UNDEF_BLESS },
+	{ 0, 0, 0, 0, 0 }
+};
 static struct trobj Healer[] = {
 	{ SCALPEL, 1, WEAPON_CLASS, 1, UNDEF_BLESS },
 	{ LEATHER_GLOVES, 1, ARMOR_CLASS, 1, UNDEF_BLESS },
@@ -481,6 +491,29 @@
     { P_NONE, 0 }
 };
 
+static const struct def_skill Skill_G[] = {
+    { P_DAGGER, P_EXPERT },		{ P_KNIFE, P_EXPERT },
+    { P_LONG_SWORD, P_EXPERT },	{ P_CLUB, P_EXPERT },
+    { P_PADDLE, P_EXPERT },	{ P_MACE, P_EXPERT },
+    { P_FLAIL, P_EXPERT },	{ P_HAMMER, P_EXPERT },
+    { P_POLEARMS, P_EXPERT },	{ P_TRIDENT, P_EXPERT },
+    { P_LANCE, P_EXPERT },	{ P_SLING, P_EXPERT },
+    { P_FIREARM, P_EXPERT },	{ P_CROSSBOW, P_EXPERT },
+    { P_DART, P_EXPERT },	{ P_BOOMERANG, P_EXPERT },
+    { P_LIGHTSABER, P_EXPERT },
+
+    { P_ATTACK_SPELL, P_BASIC },        
+    { P_DIVINATION_SPELL, P_EXPERT },
+    { P_PROTECTION_SPELL, P_BASIC },    { P_BODY_SPELL, P_SKILLED },
+    { P_MATTER_SPELL, P_BASIC },
+
+#ifdef STEED
+    { P_RIDING, P_EXPERT },
+#endif
+    { P_BARE_HANDED_COMBAT, P_EXPERT },
+    { P_NONE, 0 }
+};
+
 static const struct def_skill Skill_H[] = {
     { P_DAGGER, P_SKILLED },		{ P_KNIFE, P_EXPERT },
     { P_SHORT_SWORD, P_SKILLED },	{ P_SCIMITAR, P_BASIC },
@@ -982,7 +1015,7 @@
 	init_uasmon();
 
 	u.ulevel = 0;	/* set up some of the initial attributes */
-	u.uhp = u.uhpmax = newhp();
+	u.uhp = u.uhpmax = u.uhplast = newhp();
 	u.uenmax = urole.enadv.infix + urace.enadv.infix;
 	if (urole.enadv.inrnd > 0)
 	    u.uenmax += rnd(urole.enadv.inrnd);
@@ -1064,6 +1097,18 @@
 		else if(!rn2(5)) ini_inv(Magicmarker);
 		skill_init(Skill_F);
 		break;
+	case PM_GEEK:
+		Geek[G_IC].trquan = rn2(7) + 1;
+		ini_inv(Geek);
+		knows_class(WEAPON_CLASS);
+		knows_class(ARMOR_CLASS);
+		knows_object(PACK_OF_FLOPPIES);
+		knows_object(POT_JOLT_COLA);
+		knows_object(DIODE);
+		knows_object(TRANSISTOR);
+		knows_object(IC);
+		skill_init(Skill_G);
+		break;
 	case PM_HEALER:
 #ifndef GOLDOBJ
 		u.ugold = u.ugold0 = rn1(1000, 1001);
@@ -1448,6 +1493,7 @@
      case PM_ARCHEOLOGIST:	skills = Skill_A; break;
      case PM_BARBARIAN:		skills = Skill_B; break;
      case PM_CAVEMAN:		skills = Skill_C; break;
+	 case PM_GEEK:			skills = Skill_G; break;
      case PM_HEALER:		skills = Skill_H; break;
      case PM_KNIGHT:		skills = Skill_K; break;
      case PM_MONK:		skills = Skill_Mon; break;
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\uhitm.c SlashTNG-master\src\uhitm.c
--- slashem-0.0.7E7F3\src\uhitm.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\uhitm.c	Sun Jan 01 19:29:41 2017
@@ -347,6 +347,18 @@
 	return tmp;
 }
 
+/* Attack made with Stormbringer * doesn't work
+static void attract_vortices(void)
+ {
+ 	int n;
+ 
+ 	if (rn2(100)) return;
+ 	n = rn2(7) - Luck;
+ 	while (n-- > 0) {
+ 		makemon(mkclass(S_VORTEX,0),u.ux,u.uy)
+ 	}
+ }*/
+
 /* try to attack; return FALSE if monster evaded */
 /* u.dx and u.dy must be set */
 boolean
@@ -368,9 +380,9 @@
 	 */
 	/* Intelligent chaotic weapons (Stormbringer) want blood */
 	if (is_safepet(mtmp) && !flags.forcefight) {
-	    if ((!uwep || uwep->oartifact != ART_STORMBRINGER) 
+	    if ((!uwep || (uwep->oartifact != ART_STORMBRINGER) ) 
 		&& (!u.twoweap || !uswapwep 
-		   || uswapwep->oartifact != ART_STORMBRINGER)){
+		   || (uswapwep->oartifact != ART_STORMBRINGER) )){
 		/* there are some additional considerations: this won't work
 		 * if in a shop or Punished or you miss a random roll or
 		 * if you can walk thru walls and your pet cannot (KAA) or
@@ -404,6 +416,11 @@
 		    return(TRUE);
 		} else return(FALSE);
 	    }
+		
+/*	if (uwep && uwep->oartifact == ART_STORMBRINGER) {
+ 		attract_vortices();
+ 	}
+*/
 	}
 
 	/* possibly set in attack_checks;
@@ -1835,7 +1852,8 @@
 
 	if (is_demon(youmonst.data) && !rn2(13) && !uwep
 		&& u.umonnum != PM_SUCCUBUS && u.umonnum != PM_INCUBUS
-		&& u.umonnum != PM_BALROG) {
+		&& u.umonnum != PM_BALROG && u.umonnum != PM_NEWS_DAEMON
+ 		&& u.umonnum != PM_PRINTER_DAEMON) {
 	    demonpet();
 	    return(0);
 	}
@@ -1957,6 +1975,9 @@
 		steal_it(mdef, mattk);
 		tmp = 0;
 		break;
+		case AD_DEPR:/*AMY's is better but needs to be tailored to my game (no werecows...etc)*/
+ 		pline("%s seems vaguely bored.",Monnam(mdef));
+ 		break;
 	    case AD_SGLD:
 #ifndef GOLDOBJ
 		if (mdef->mgold) {
@@ -2938,7 +2959,11 @@
 				|| youmonst.data->mlet==S_ORC
 				|| youmonst.data->mlet==S_GNOME
 				)) goto use_weapon;
-
+		
+		case AT_TALK:
+ 			You("talk to %s. But you don't seem to be too convincing.",mon_nam(mon));
+			break;
+		
 		case AT_NONE:
 		case AT_BOOM:
 			continue;
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\utility.tag SlashTNG-master\src\utility.tag
--- slashem-0.0.7E7F3\src\utility.tag	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\utility.tag	Thu Jan 05 19:04:21 2017
@@ -0,0 +1 @@
+utilities made 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\vis_tab.c SlashTNG-master\src\vis_tab.c
--- slashem-0.0.7E7F3\src\vis_tab.c	Wed Dec 31 16:00:00 1969
+++ SlashTNG-master\src\vis_tab.c	Thu Jan 05 19:04:19 2017
@@ -0,0 +1,8 @@
+/* This source file is generated by 'makedefs'.  Do not edit. */
+#include "config.h"
+#ifdef VISION_TABLES
+#include "vis_tab.h"
+
+#endif /* VISION_TABLES */
+
+/*vis_tab.c*/
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\weapon.c SlashTNG-master\src\weapon.c
--- slashem-0.0.7E7F3\src\weapon.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\weapon.c	Sun Dec 25 18:08:57 2016
@@ -618,11 +618,11 @@
 	  GREEN_LIGHTSABER,
 #endif
 	  TWO_HANDED_SWORD, BATTLE_AXE,
-	  KATANA, UNICORN_HORN, CRYSKNIFE, TRIDENT, LONG_SWORD,
-	  ELVEN_BROADSWORD, BROADSWORD, SCIMITAR, SILVER_SABER,
-	  SILVER_SHORT_SWORD, SILVER_LONG_SWORD, SILVER_MACE,
-  	  MORNING_STAR, DARK_ELVEN_SHORT_SWORD, ELVEN_SHORT_SWORD, 
-  	  DWARVISH_SHORT_SWORD, SHORT_SWORD,
+	  KATANA, UNICORN_HORN, CRYSKNIFE, ELECTRIC_SWORD, TRIDENT,
+	  LONG_SWORD, ELVEN_BROADSWORD, BROADSWORD, SCIMITAR,
+	  SILVER_SABER, SILVER_SHORT_SWORD, SILVER_LONG_SWORD,
+  	  SILVER_MACE, MORNING_STAR, DARK_ELVEN_SHORT_SWORD,
+	  ELVEN_SHORT_SWORD, DWARVISH_SHORT_SWORD, SHORT_SWORD,
 	  ORCISH_SHORT_SWORD, MACE, AXE, DWARVISH_SPEAR, SILVER_SPEAR,
 	  ELVEN_SPEAR, SPEAR, ORCISH_SPEAR, FLAIL, BULLWHIP, QUARTERSTAFF,
 	  JAVELIN, AKLYS, CLUB, PICK_AXE, FLY_SWATTER, 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\wizard.c SlashTNG-master\src\wizard.c
--- slashem-0.0.7E7F3\src\wizard.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\wizard.c	Sun Jan 01 13:53:02 2017
@@ -358,7 +358,8 @@
 				    (distu(mtmp->mx, mtmp->my) <= 5) ?
 				     doname(otmp) : distant_name(otmp, doname));
 			    obj_extract_self(otmp);
-			    (void) mpickobj(mtmp, otmp);
+			    (void) mpickobj(mtmp, otmp, FALSE);
+				m_dowear(mtmp, FALSE); /* thanks 5lo --Amy (and Amy) -Ozma*/
 			    return(1);
 			} else return(0);
 		    } else {
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\worn.c SlashTNG-master\src\worn.c
--- slashem-0.0.7E7F3\src\worn.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\worn.c	Sun Dec 25 15:24:08 2016
@@ -445,7 +445,7 @@
 	    switch(flag) {
 		case W_AMUL:
 		    if (obj->oclass != AMULET_CLASS ||
-			    (obj->otyp != AMULET_OF_LIFE_SAVING &&
+			    (obj->otyp != AMULET_OF_LIFE_SAVING && obj->otyp != AMULET_OF_DATA_STORAGE &&
 				obj->otyp != AMULET_OF_REFLECTION))
 			continue;
 		    best = obj;
@@ -455,6 +455,18 @@
 		    if (!is_shirt(obj)) continue;
 		    break;
 #endif
+		case W_RING:
+		    if (obj->otyp != RIN_TIMELY_BACKUP) continue;
+		    best = obj;
+		    goto outer_break; /* no such thing as better rings */
+		case W_RINGL:
+		    if (obj->otyp != RIN_TIMELY_BACKUP) continue;
+		    best = obj;
+		    goto outer_break; /* no such thing as better rings */
+		case W_RINGR:
+		    if (obj->otyp != RIN_TIMELY_BACKUP) continue;
+		    best = obj;
+		    goto outer_break; /* no such thing as better rings */
 		case W_ARMC:
 		    if (!is_cloak(obj)) continue;
 		    break;
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\write.c SlashTNG-master\src\write.c
--- slashem-0.0.7E7F3\src\write.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\write.c	Sun Dec 25 18:14:42 2016
@@ -30,6 +30,7 @@
 	case SCR_AMNESIA:
 	case SCR_FIRE:
 	case SCR_EARTH:
+	case SCR_ROOT_PASSWORD_DETECTION:
 		return(8);
 /*		break; */
 	case SCR_DESTROY_ARMOR:
@@ -41,10 +42,13 @@
 		return(12);
 /*		break; */
 	case SCR_IDENTIFY:
+	case SCR_REVERSE_IDENTIFY:
 	case SCR_SCARE_MONSTER:
 		return(14);
 /*		break; */
 	case SCR_TAMING:
+	case SCR_MASS_MURDER:
+	case SCR_UNDO_GENOCIDE:
 	case SCR_TELEPORTATION:
 		return(20);
 /*		break; */
@@ -53,6 +57,7 @@
 	case SCR_ENCHANT_ARMOR:
 	case SCR_REMOVE_CURSE:
 	case SCR_ENCHANT_WEAPON:
+	case SCR_CONSECRATION:
 	case SCR_CHARGING:
 		return(24);
 /*		break; */
@@ -234,6 +239,7 @@
 	}
 	new_obj->blessed = (curseval > 0);
 	new_obj->cursed = (curseval < 0);
+	new_obj->selfmade = TRUE;
 #ifdef MAIL
 	if (new_obj->otyp == SCR_MAIL) new_obj->spe = 1;
 #endif
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\src\zap.c SlashTNG-master\src\zap.c
--- slashem-0.0.7E7F3\src\zap.c	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\src\zap.c	Thu Jan 05 18:59:21 2017
@@ -14,6 +14,7 @@
 #ifdef OVLB
 static NEARDATA boolean obj_zapped;
 static NEARDATA int poly_zapped;
+static NEARDATA boolean wan_wonder;
 #endif
 
 extern boolean notonhead;	/* for long worms */
@@ -278,6 +279,10 @@
 		probe_monster(mtmp);
 		makeknown(otyp);
 		break;
+	case SPE_FINGER:
+		probe_monster(mtmp);
+		makeknown(otyp);
+		break;
 	case WAN_OPENING:
 	case SPE_KNOCK:
 		wake = FALSE;	/* don't want immediate counterattack */
@@ -939,6 +944,12 @@
 				flags.botl = 1;
 			}
 			break;
+		case RIN_HEALTH:
+ 			if ((obj->owornmask & W_RING) && u_ring) {
+ 				ABON(A_STR) -= obj->spe;
+ 				flags.botl = 1;
+ 			}
+ 			break;
 		case RIN_INCREASE_ACCURACY:
 			if ((obj->owornmask & W_RING) && u_ring)
 				u.uhitinc -= obj->spe;
@@ -2099,8 +2110,121 @@
 			pline_The("feeling subsides.");
 			exercise(A_WIS, TRUE);
 			break;
+		case WAN_WONDER:
+		getdir(NULL);
+ 			do {
+ 				obj->otyp = WAN_LIGHT + rn2(WAN_WONDER - WAN_LIGHT);
+ 			} while (obj->otyp == WAN_WONDER || 
+ 				(obj->otyp == WAN_WISHING && rnl(10)));
+ 			wan_wonder = TRUE;
+ 			weffects(obj);
+ 			wan_wonder = FALSE;
+ 			obj->otyp = WAN_WONDER;
+ 			break;
+		/* supposed to have a random effect, may be implemented in future (AMY's is better but I can't get it to work yet)*
+
+			known = TRUE;
+			switch(rnd(21)) {
+			case 1 : 
+				litroomlite(TRUE);
+				break;
+			case 2 : 
+				if(!findit()) return;
+				break;
+			case 3 : 
+				create_critters(rn2(23) ? 1 : rn1(7,2), (struct permonst *)0);
+				break;
+			case 4 : 
+				create_critters(rn1(7,6), (struct permonst *)0);
+				break;
+			case 5 : 
+				pline("Multicolored sparks fly from the wand.");
+				if (!rn2(1000)) makewish();
+		/* since there is a 1% chance of the wand exploding, this _should_ be okay --Amy *
+				break;
+			case 6 : 
+				pline("Nothing happens.");
+				break;
+			case 7 : 
+				You_feel("self-knowledgeable...");
+				display_nhwindow(WIN_MESSAGE, FALSE);
+				enlightenment(FALSE, TRUE);
+				pline_The("feeling subsides.");
+				exercise(A_WIS, TRUE);
+				break;
+			case 8 : 
+			    { int x, y;
+	
+			    /* after a while, repeated uses become less effective *
+			    if (HDetect_monsters >= 300L)
+				i = 10;
+			    else
+				i = rn1(20,11);
+			    incr_itimeout(&HDetect_monsters, i);
+			    for (x = 1; x < COLNO; x++) {
+				for (y = 0; y < ROWNO; y++) {
+				    if (memory_is_invisible(x, y)) {
+					unmap_object(x, y);
+					newsym(x,y);
+				    }
+				}
+			    }
+			    see_monsters();
+
+				exercise(A_WIS, TRUE);
+				break;
+				}
+			case 9 : 
+				object_detect((struct obj *)0, 0);
+				exercise(A_WIS, TRUE);
+				break;
+			case 10 : 
+				trap_detect((struct obj *)0);
+				exercise(A_WIS, TRUE);
+				break;
+			case 11 : 
+				You_feel("insightful!");
+				if (invent) {
+				    /* rn2(5) agrees w/seffects() *
+				    identify_pack(rn2(5), 0);
+				}
+				exercise(A_WIS, TRUE);
+				break;
+			case 12 : 
+				You_feel("like someone is helping you!");
+				register struct obj *obj;
+	
+				for(obj = invent; obj ; obj = obj->nobj)
+					if (!rn2(5) && obj->cursed && !stack_too_big(obj))	uncurse(obj);
+	
+				break;
+			case 13 : 
+				You_feel("someone is punishing you for your misbehavior!");
+				punishx();
+				break;
+			case 14 : 
+			case 15 : 
+			case 16 : 
+			case 17 : 
+			case 18 : 
+			case 19 : 
+			case 20 : 
+			default:
+				pline("Nothing happens.");
+				break;
+			}
+			break;*/
+		case WAN_BUGGING:
+			known = TRUE; 
+			{int i;
+
+			i = rn2(6) + 1;
+			while (i--) {
+				(void) makemon(&mons[rn2(3) ? PM_BUG : PM_HEISENBUG], u.ux,u.uy, NO_MM_FLAGS);
+					}
+			} break;
 	}
-	if (known && !objects[obj->otyp].oc_name_known) {
+	if (obj && known && !objects[obj->otyp].oc_name_known) {
 		makeknown(obj->otyp);
 		more_experienced(0,10);
 	}
@@ -2312,17 +2436,31 @@
 		    break;
 		case SPE_ACID_STREAM:
         	    /* KMH, balance patch -- new intrinsic */
-        	    if (Acid_resistance) {
+        	    if (Acid_resistance && rn2(20)) {
 			damage = 0;
         	    } else {
 			pline_The("acid burns!");
 			damage = d(12,6);
 			exercise(A_STR, FALSE);
         	    }
+
+		if (Stoned) fix_petrification();/*added AMY's fix_petrification because it should */
+
         	    if (!rn2(u.twoweap ? 3 : 6)) erode_obj(uwep, TRUE, TRUE);
         	    if (u.twoweap && !rn2(3)) erode_obj(uswapwep, TRUE, TRUE);
         	    if (!rn2(6)) erode_armor(&youmonst, TRUE);
         	    break;
+		case WAN_ACID:
+		    makeknown(WAN_ACID);
+		if (Stoned) fix_petrification();
+		    if (Acid_resistance && rn2(20)) {
+			shieldeff(u.ux,u.uy);
+			pline("Ugh!");
+		    } else {
+			pline("The acid burns!");
+			damage = d(8,6);
+		   }
+		   break;
 		case WAN_LIGHTNING:
 		    makeknown(WAN_LIGHTNING);
 		/*WAC Added Spell Lightning*/
@@ -2580,6 +2718,7 @@
 			obj->dknown = 1;
 		    /* note: `obj' reused; doesn't point at wand anymore */
 		    makeknown(WAN_PROBING);
+		case SPE_FINGER:
 		    ustatusline();
 		    break;
 		case SPE_STONE_TO_FLESH:
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\msdos\makefile.doc SlashTNG-master\sys\msdos\makefile.doc
--- slashem-0.0.7E7F3\sys\msdos\makefile.doc	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\msdos\makefile.doc	Sun Jan 01 01:43:54 2017
@@ -33,7 +33,7 @@
 Guidebook.dvi:	Guidebook.tex
 	latex Guidebook.tex
 
-GAME    = slashem
+GAME    = SlashTNG
 #GAME    = nethack
 MANDIR	= /games/slash/doc
 MANEXT	= 1n
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\msdos\Makefile.GCC SlashTNG-master\sys\msdos\Makefile.GCC
--- slashem-0.0.7E7F3\sys\msdos\Makefile.GCC	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\msdos\Makefile.GCC	Sun Jan 01 01:43:48 2017
@@ -21,7 +21,7 @@
 # Game Installation Variables
 # NOTE: Make sure GAMEDIR exists before make is started.
 
-GAME = slashem
+GAME = SlashTNG
 #GAME = nethack
 
 # The GNU Make has a problem if you include a drive spec below (unfortunately).
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\os2\Install.os2 SlashTNG-master\sys\os2\Install.os2
--- slashem-0.0.7E7F3\sys\os2\Install.os2	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\os2\Install.os2	Sun Jan 01 01:42:34 2017
@@ -19,7 +19,7 @@
     below if you have any problems.
 
 1.  Make sure all the Slash'EM files are in the appropriate directory
-    structure.  You should have a top directory (e.g. slashem, or
+    structure.  You should have a top directory (e.g. SlashTNG, or
     whatever you like) with subdirectories dat, doc, include, src, util,
     sys\share, sys\os2, and win\tty.  You may have other subdirectories
     under sys and win, but they will not affect compilation for an OS/2
@@ -139,7 +139,7 @@
 
     Guidebook.txt  history.txt    LICENSE        nhshare        nhushare
     readme.txt     recover.exe    slamfaq.txt    slashem.cmd    slashem.cnf
-    slashem.exe
+    SlashTNG.exe
 
     It's 11 files for a full featured Slash'EM 0.0.7.  If any of the
     files are missing, try to rerun make.  If that doesn't help, you'll
@@ -164,7 +164,7 @@
     sys\share\termcap file to your game directory.
 
 8.  If you'll be running Slash'EM from a different subdirectory, you
-    will want to "set HACKDIR=c:\games\slashem" (or whatever directory
+    will want to "set HACKDIR=c:\games\SlashTNG" (or whatever directory
     you want to use). Add it to your config.sys, if you'll be playing
     often.
 
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\os2\Makefile.os2 SlashTNG-master\sys\os2\Makefile.os2
--- slashem-0.0.7E7F3\sys\os2\Makefile.os2	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\os2\Makefile.os2	Sun Jan 01 01:38:18 2017
@@ -118,7 +118,7 @@
 #	Source tree base directory.
 #
 
-NHSRC	= \slashem
+NHSRC	= \SlashTNG
 
 #
 #	Source directories.  Makedefs hardcodes these, don't change them.
@@ -165,8 +165,8 @@
 #	The game name and description.
 #
 
-GAME	= slashem
-GAMEDES = "SlashEM 0.0.7"
+GAME	= SlashTNG
+GAMEDES = "SlashTNG 0.0.7"
 
 #
 #	GCC: compile only, compiler id, object format selection, warnings,
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\os2\setup.cmd SlashTNG-master\sys\os2\setup.cmd
--- slashem-0.0.7E7F3\sys\os2\setup.cmd	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\os2\setup.cmd	Sun Jan 01 01:37:58 2017
@@ -41,7 +41,7 @@
 
 'md 'nhpath'\tmp >nul  2>nul'
 'md \games >nul  2>nul'
-'md \games\slashem >nul  2>nul'
-'md \games\slashem-x11 >nul 2>nul'
+'md \games\SlashTNG >nul  2>nul'
+'md \games\SlashTNG-x11 >nul 2>nul'
 
 SAY 'Source tree is now prepared! Enter "dmake" to start the build process...'
Binary files slashem-0.0.7E7F3\sys\share\oldslashemicon.rar and SlashTNG-master\sys\share\oldslashemicon.rar differ
Binary files slashem-0.0.7E7F3\sys\share\slashem.ico and SlashTNG-master\sys\share\slashem.ico differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\unix\Makefile.dat SlashTNG-master\sys\unix\Makefile.dat
--- slashem-0.0.7E7F3\sys\unix\Makefile.dat	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\unix\Makefile.dat	Sun Jan 01 01:37:41 2017
@@ -196,8 +196,8 @@
 	../util/tile2bmp $@ ../win/share/monsters.txt ../win/share/objects.txt \
 				../win/share/other.txt
 
-SlashEM.ad: ../win/X11/SlashEM.ad
-	cp ../win/X11/SlashEM.ad SlashEM.ad
+SlashTNG.ad: ../win/X11/SlashTNG.ad
+	cp ../win/X11/SlashTNG.ad SlashTNG.ad
 
 pet_mark.xbm: ../win/X11/pet_mark.xbm
 	cp ../win/X11/pet_mark.xbm pet_mark.xbm
@@ -294,6 +294,10 @@
 	../util/lev_comp tomb.des
 	../util/lev_comp tower.des
 	../util/lev_comp yendor.des
+	../util/lev_comp compu.des
+	../util/lev_comp forge.des
+	../util/lev_comp hitch.des
+	../util/lev_comp key.des
 	touch spec_levs
 
 quest_levs: ../util/lev_comp \
@@ -304,6 +308,7 @@
 	../util/lev_comp Barb.des
 	../util/lev_comp Caveman.des
 	../util/lev_comp Flame.des
+	../util/lev_comp Geek.des
 	../util/lev_comp Healer.des
 	../util/lev_comp Ice.des
 	../util/lev_comp Knight.des
@@ -335,7 +340,7 @@
 	-rm -f gtkrc
 	-rm -f gl*.png
 	-rm -f pet_mark.xbm rip.xpm mapbg.xpm
-	-rm -f rip.img GEM_RSC.RSC title.img nh16.img SlashEM.ad
+	-rm -f rip.img GEM_RSC.RSC title.img nh16.img SlashTNG.ad
 	-rm -f ../win/share/monmag.txt ../win/share/mon32.txt
 	-rm -f ../win/share/objmag.txt ../win/share/obj32.txt
 	-rm -f ../win/share/othmag.txt ../win/share/oth32.txt
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\unix\Makefile.doc SlashTNG-master\sys\unix\Makefile.doc
--- slashem-0.0.7E7F3\sys\unix\Makefile.doc	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\unix\Makefile.doc	Sun Jan 01 01:37:27 2017
@@ -52,7 +52,7 @@
 # Guidebook.dvi:	Guidebook.mn
 #	tbl tmac.n Guidebook.mn | groff -Wall -Tdvi > Guidebook.dvi
 
-GAME    = slashem
+GAME    = SlashTNG
 MANDIR	= /usr/man/man6
 MANEXT	= 6
 FRMANDIR= $(MANDIR:man6=fr/man6)
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\unix\Makefile.src SlashTNG-master\sys\unix\Makefile.src
--- slashem-0.0.7E7F3\sys\unix\Makefile.src	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\unix\Makefile.src	Sun Jan 01 01:37:19 2017
@@ -419,8 +419,8 @@
 LIBS =
 
 # make NetHack
-GAME     = slashem
-# GAME     = slashem.prg
+GAME     = SlashTNG
+# GAME     = SlashTNG.prg
 
 # if you defined RANDOM in unixconf.h/tosconf.h since your system did not come
 # with a reasonable random number generator
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\unix\Makefile.top SlashTNG-master\sys\unix\Makefile.top
--- slashem-0.0.7E7F3\sys\unix\Makefile.top	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\unix\Makefile.top	Sun Jan 01 01:37:08 2017
@@ -15,8 +15,8 @@
 
 # make NetHack
 PREFIX   = /usr
-GAME     = slashem
-# GAME     = slashem.prg
+GAME     = SlashTNG
+# GAME     = SlashTNG.prg
 GAMEUID  = games
 GAMEGRP  = bin
 
@@ -52,21 +52,21 @@
 SHELLDIR = $(PREFIX)/local/bin
 
 # Defs. compatible with Linux's FSSTND 1.2
-# FILE_AREA_VAR = /var/lib/games/slashem
-# FILE_AREA_SAVE = /var/lib/games/slashem/save
-# FILE_AREA_SHARE = /usr/lib/games/slashem
-# FILE_AREA_UNSHARE = /usr/lib/games/slashem
-# FILE_AREA_DOC = /usr/doc/slashem
+# FILE_AREA_VAR = /var/lib/games/SlashTNG
+# FILE_AREA_SAVE = /var/lib/games/SlashTNG/save
+# FILE_AREA_SHARE = /usr/lib/games/SlashTNG
+# FILE_AREA_UNSHARE = /usr/lib/games/SlashTNG
+# FILE_AREA_DOC = /usr/doc/SlashTNG
 # FILE_AREA_BONES = $(FILE_AREA_VAR)
 # FILE_AREA_LEVL = $(FILE_AREA_VAR)
 # SHELLDIR = /usr/games
 
 # Defs. compatible with FHS 2.0
-# FILE_AREA_VAR = /var/games/slashem
-# FILE_AREA_SAVE = /var/games/slashem/save
-# FILE_AREA_SHARE = /usr/share/games/slashem
-# FILE_AREA_UNSHARE = /usr/lib/games/slashem
-# FILE_AREA_DOC = /usr/share/doc/slashem
+# FILE_AREA_VAR = /var/games/SlashTNG
+# FILE_AREA_SAVE = /var/games/SlashTNG/save
+# FILE_AREA_SHARE = /usr/share/games/SlashTNG
+# FILE_AREA_UNSHARE = /usr/lib/games/SlashTNG
+# FILE_AREA_DOC = /usr/share/doc/SlashTNG
 # FILE_AREA_BONES = $(FILE_AREA_VAR)
 # FILE_AREA_LEVL = $(FILE_AREA_VAR)
 # SHELLDIR = /usr/games
@@ -78,8 +78,8 @@
 # for inclusion in DLB libraries (ND) and which are (D). Port specific files
 # per discussions in Install.X11, Install.Qt and Install.GTK
 CNF_SHARE_QTND = x11tiles rip.xpm nhsplash.xpm
-CNF_SHARE_X11ND = x11bigtiles x11tiles SlashEM.ad pet_mark.xbm
-# CNF_SHARE_X11ND = x11bigtiles x11tiles SlashEM.ad pet_mark.xbm rip.xpm
+CNF_SHARE_X11ND = x11bigtiles x11tiles SlashTNG.ad pet_mark.xbm
+# CNF_SHARE_X11ND = x11bigtiles x11tiles SlashTNG.ad pet_mark.xbm rip.xpm
 CNF_SHARE_GTKND = x11big3dtiles x11bigtiles x11tiles rip.xpm credit.xpm gtkrc
 CNF_SHARE_GTKPROXYND = x11big3dtiles.map x11bigtiles.map x11tiles.map
 # for Atari/Gem
@@ -236,8 +236,8 @@
 %.pbm:
 	( cd dat ; $(MAKE) $*.pbm )
 
-SlashEM.ad: $(GAME)
-	( cd dat ; $(MAKE) SlashEM.ad )
+SlashTNG.ad: $(GAME)
+	( cd dat ; $(MAKE) SlashTNG.ad )
 
 pet_mark.xbm:
 	( cd dat ; $(MAKE) pet_mark.xbm )
@@ -291,7 +291,7 @@
 	cp src/$(GAME) $(FILE_AREA_UNSHARE)
 	cp util/recover $(FILE_AREA_UNSHARE)
 	cp dat/license doc/Guidebook.txt $(FILE_AREA_DOC)
-#	cp win/Qt/KDE/kslashem.kdelnk $(KDEDIR)/share/applnk/Games
+#	cp win/Qt/KDE/kSlashTNG.kdelnk $(KDEDIR)/share/applnk/Games
 	-rm -f $(SHELLDIR)/$(GAME)
 	sed -e 's;/usr/games/lib/nethackdir;$(FILE_AREA_UNSHARE);' \
 		-e 's;HACKDIR/nethack;HACKDIR/$(GAME);' \
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\wince\slashem.inf SlashTNG-master\sys\wince\slashem.inf
--- slashem-0.0.7E7F3\sys\wince\slashem.inf	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\wince\slashem.inf	Sun Jan 01 01:26:55 2017
@@ -4,8 +4,8 @@
 CESignature = "$Windows CE$"
 
 [CEStrings]
-AppName="SLASHEM"
-InstallDir=%CE8%\%AppName%	; \Program Files\Games\slashem
+AppName="SlashTNG"
+InstallDir=%CE8%\%AppName%	; \Program Files\Games\SlashTNG
 
 [Strings]
 sh3_cpu	= 10003
@@ -55,7 +55,7 @@
 2 = ,"SH3 files",,SH3PocketPCRelease
 
 [SourceDisksFiles]
-slashem.exe = 2
+SlashTNG.exe = 2
 nhshare = 1
 nhushare = 1
 defaults.nh = 1
@@ -66,7 +66,7 @@
 Shortcuts         = 0,%CE2%\Help        ;\Windows\Help
 
 [Files.Application]
-"slashem.exe",,,0x00000001   	; rename, and warn if skipped
+"SlashTNG.exe",,,0x00000001   	; rename, and warn if skipped
 
 [Files.Shared]
 "nhshare",,,0x00000001   	; rename, and warn if skipped
@@ -74,7 +74,7 @@
 "defaults.nh",,,0x00000001   	; rename, and warn if skipped
 
 [Shortcuts]
-%AppName%,0,slashem.exe,%CE14%	; Shortcut in \Windows\Start Menu\Games
+%AppName%,0,SlashTNG.exe,%CE14%	; Shortcut in \Windows\Start Menu\Games
 
 [RegSettings]
 ;HKLM,Software\WAC\%AppName%,,0,%data_version%
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\winnt\defaults.nh SlashTNG-master\sys\winnt\defaults.nh
--- slashem-0.0.7E7F3\sys\winnt\defaults.nh	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\winnt\defaults.nh	Sun Jan 01 01:26:21 2017
@@ -39,6 +39,9 @@
 # configuration, options like these should not be set.
 #
 #OPTIONS=name:Janet,role:Valkyrie,race:Human,gender:female,align:lawful
+OPTIONS=dogname:d-o-g.....,catname:kitteee...,fruit:mango
+OPTIONS=hilite_pet,autoquiver,horsename:MR ED.........
+OPTIONS=showexp,showweight,showdmg,autodig,autopickup,pickup_types:$"=/!?+0
 #OPTIONS=dogname:Fido,catname:Morris,fruit:guava
 #OPTIONS=horsename:Silver
 #OPTIONS=autopickup,pickup_types:$"=/!?+
@@ -46,6 +49,7 @@
 #OPTIONS=scores:10 top/2 around/own
 #OPTIONS=nolegacy,noverbose
 #OPTIONS=menustyle:traditional
+WIZKIT=wizkit.txt
 
 #
 # General options.  You might also set "silent" so as not to attract
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\winnt\Install.gcc SlashTNG-master\sys\winnt\Install.gcc
--- slashem-0.0.7E7F3\sys\winnt\Install.gcc	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\winnt\Install.gcc	Sun Jan 01 01:46:29 2017
@@ -75,7 +75,7 @@
     if necessary, modify any variables. The following, in particular,
     may need consideration:
 	GAMEDIR		The directory where the game will be installed.
-			Default: \games\slam32d
+			Default: \games\SlashTNG
 	MW32GTK		The directory where the MinGW version of the Gtk+ 2.0
 			tree is installed.  Default: /win-gtk
 	MS_BITFIELDS	Switch between gcc 2.x and 3.x command line flags.
@@ -112,4 +112,4 @@
 mingw32-make install
 
 After some time, the game should be compiled and installed in the
-\games\slam32d directory or whatever directory you specified.  Happy Hacking!
+\games\SlashTNG directory or whatever directory you specified.  Happy Hacking!
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\winnt\Makefile.cygwin SlashTNG-master\sys\winnt\Makefile.cygwin
--- slashem-0.0.7E7F3\sys\winnt\Makefile.cygwin	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\winnt\Makefile.cygwin	Sun Jan 01 01:45:09 2017
@@ -23,9 +23,9 @@
 # Game Installation Variables
 # NOTE: Make sure GAMEDIR exists before make is started.
 
-GAME = slashem
+GAME = SlashTNG
 # The GNU Make has a problem if you include a drive spec below (unfortunately).
-GAMEDIR = /slam32d
+GAMEDIR = /SlashTNG
 
 #
 # Directories
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\winnt\Makefile.gcc SlashTNG-master\sys\winnt\Makefile.gcc
--- slashem-0.0.7E7F3\sys\winnt\Makefile.gcc	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\winnt\Makefile.gcc	Sun Jan 01 01:44:34 2017
@@ -32,9 +32,9 @@
 
 # Game Installation Variables
 
-GAME = slashem
+GAME = SlashTNG
 # The GNU Make has a problem if you include a drive spec below (unfortunately).
-GAMEDIR = \games\slam32d
+GAMEDIR = \games\SlashTNG
 
 #
 # Directories
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\winnt\Makefile.nt SlashTNG-master\sys\winnt\Makefile.nt
--- slashem-0.0.7E7F3\sys\winnt\Makefile.nt	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\winnt\Makefile.nt	Sun Jan 01 01:44:07 2017
@@ -38,8 +38,8 @@
 #  Set the gamedir according to your preference.  It must be present prior
 #  to compilation.
 
-GAME    = slashem                # Game Name
-GAMEDIR = d:\downloads\slashem\custbld      # Game directory
+GAME    = SlashTNG                # Game Name
+GAMEDIR = d:\downloads\SlashTNG\custbld      # Game directory
 
 #
 #  Source directories.    Makedefs hardcodes these, don't change them.
Binary files slashem-0.0.7E7F3\sys\winnt\slashem.ico and SlashTNG-master\sys\winnt\slashem.ico differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\sys\winnt\slashem.rc SlashTNG-master\sys\winnt\slashem.rc
--- slashem-0.0.7E7F3\sys\winnt\slashem.rc	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\sys\winnt\slashem.rc	Mon Jan 02 06:54:10 2017
@@ -1,2 +1,2 @@
 #define ICON_APPWND      100
-ICON_APPWND  ICON  "Slashem.ico"
+ICON_APPWND  ICON  "C:\Games\SlashTNG-master\sys\winnt\Slashem.ico"
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\win\Qt\kslashem.lnk SlashTNG-master\win\Qt\kslashem.lnk
--- slashem-0.0.7E7F3\win\Qt\kslashem.lnk	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\win\Qt\kslashem.lnk	Sun Jan 01 01:24:46 2017
@@ -1,18 +1,18 @@
 # KDE Config File 
-# Call this file kslashem.kdelnk or kslashem.desktop
+# Call this file kSlashTNG.kdelnk or kSlashTNG.desktop
 [KDE Desktop Entry]
-Name=SlashEM
-Name[fr]=SlashEM
-Name[hu]=SlashEM
-Name[no]=SlashEM
-Name[sk]=SlashEM
-Name[cs]=SlashEM
-Name[hr]=SlashEM
-Name[pt]=SlashEM
-Name[pt_BR]=SlashEM
+Name=SlashTNG
+Name[fr]=SlashTNG
+Name[hu]=SlashTNG
+Name[no]=SlashTNG
+Name[sk]=SlashTNG
+Name[cs]=SlashTNG
+Name[hr]=SlashTNG
+Name[pt]=SlashTNG
+Name[pt_BR]=SlashTNG
 Icon=kse.xpm
-Exec=kslashem -caption "%c" %i %m
+Exec=kSlashTNG -caption "%c" %i %m
 Type=Application
-DocPath=kslashem/index.html
+DocPath=kSlashTNG/index.html
 Comment=Variant of the role-playing game, NetHack - fight monsters and seek the Amulet of Yendor for your god!
 
Binary files slashem-0.0.7E7F3\win\share\slashem.ico and SlashTNG-master\win\share\slashem.ico differ
Binary files slashem-0.0.7E7F3\win\win32\slashem.ico and SlashTNG-master\win\win32\slashem.ico differ
diff -u -r -N --horizon-lines=9 slashem-0.0.7E7F3\win\win32\winhack.rc SlashTNG-master\win\win32\winhack.rc
--- slashem-0.0.7E7F3\win\win32\winhack.rc	Sat Dec 30 05:08:32 2006
+++ SlashTNG-master\win\win32\winhack.rc	Sun Jan 01 01:23:54 2017
@@ -337,11 +337,11 @@
         BEGIN
             VALUE "FileDescription", "Slash'EM for Windows - Native Graphical Interface\0"
             VALUE "FileVersion", "0.0.7E7\0"
-            VALUE "InternalName", "SlashEM\0"
+            VALUE "InternalName", "SlashTNG\0"
             VALUE "LegalCopyright", "Copyright (C) 1985 - 2003.  By Stichting Mathematisch Centrum and M. Stephenson.  See license for details.\0"
-            VALUE "OriginalFilename", "slashem.exe\0"
+            VALUE "OriginalFilename", "SlashTNG.exe\0"
             VALUE "PrivateBuild", "0\0"
-            VALUE "ProductName", "SlashEM\0"
+            VALUE "ProductName", "SlashTNG\0"
             VALUE "ProductVersion", "0.0.7E7\0"
         END
     END
@@ -359,7 +359,7 @@
 STRINGTABLE DISCARDABLE 
 BEGIN
     IDS_APP_TITLE           "Slash'EM for Windows - Native Graphical Interface"
-    IDC_NETHACKW            "SLASHEM"
+    IDC_NETHACKW            "SlashTNG"
     IDS_APP_TITLE_SHORT     "Slash'EM for Windows"
 END
 
